(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function mo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ge={},Ln=[],bt=()=>{},Za=()=>!1,Pi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bo=e=>e.startsWith("onUpdate:"),je=Object.assign,vo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Cd=Object.prototype.hasOwnProperty,ve=(e,t)=>Cd.call(e,t),Q=Array.isArray,Fn=e=>Ni(e)==="[object Map]",Ka=e=>Ni(e)==="[object Set]",te=e=>typeof e=="function",Le=e=>typeof e=="string",Jt=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",ec=e=>(Ae(e)||te(e))&&te(e.then)&&te(e.catch),tc=Object.prototype.toString,Ni=e=>tc.call(e),xd=e=>Ni(e).slice(8,-1),nc=e=>Ni(e)==="[object Object]",Di=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,us=mo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Li=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},_d=/-\w/g,dt=Li(e=>e.replace(_d,t=>t.slice(1).toUpperCase())),Rd=/\B([A-Z])/g,Qt=Li(e=>e.replace(Rd,"-$1").toLowerCase()),Fi=Li(e=>e.charAt(0).toUpperCase()+e.slice(1)),ei=Li(e=>e?`on${Fi(e)}`:""),tt=(e,t)=>!Object.is(e,t),ti=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},sc=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},yo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Cl;const Mi=()=>Cl||(Cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bi(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Le(s)?Id(s):Bi(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(Le(e)||Ae(e))return e}const kd=/;(?![^(]*\))/g,Od=/:([^]+)/,Ad=/\/\*[^]*?\*\//g;function Id(e){const t={};return e.replace(Ad,"").split(kd).forEach(n=>{if(n){const s=n.split(Od);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function De(e){let t="";if(Le(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const s=De(e[n]);s&&(t+=s+" ")}else if(Ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Td="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$d=mo(Td);function ic(e){return!!e||e===""}const rc=e=>!!(e&&e.__v_isRef===!0),me=e=>Le(e)?e:e==null?"":Q(e)||Ae(e)&&(e.toString===tc||!te(e.toString))?rc(e)?me(e.value):JSON.stringify(e,oc,2):String(e),oc=(e,t)=>rc(t)?oc(e,t.value):Fn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[hr(s,r)+" =>"]=i,n),{})}:Ka(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>hr(n))}:Jt(t)?hr(t):Ae(t)&&!Q(t)&&!nc(t)?String(t):t,hr=(e,t="")=>{var n;return Jt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};function Pd(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}let He;class lc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=He;try{return He=this,t()}finally{He=n}}}on(){++this._on===1&&(this.prevScope=He,He=this)}off(){this._on>0&&--this._on===0&&(He=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ac(e){return new lc(e)}function cc(){return He}function Nd(e,t=!1){He&&He.cleanups.push(e)}let xe;const pr=new WeakSet;class uc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,He&&He.active&&He.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pr.has(this)&&(pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xl(this),hc(this);const t=xe,n=vt;xe=this,vt=!0;try{return this.fn()}finally{pc(this),xe=t,vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Eo(t);this.deps=this.depsTail=void 0,xl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Hr(this)&&this.run()}get dirty(){return Hr(this)}}let dc=0,ds,fs;function fc(e,t=!1){if(e.flags|=8,t){e.next=fs,fs=e;return}e.next=ds,ds=e}function So(){dc++}function wo(){if(--dc>0)return;if(fs){let t=fs;for(fs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ds;){let t=ds;for(ds=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function hc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function pc(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Eo(s),Dd(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Hr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function gc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Cs)||(e.globalVersion=Cs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Hr(e))))return;e.flags|=2;const t=e.dep,n=xe,s=vt;xe=e,vt=!0;try{hc(e);const i=e.fn(e._value);(t.version===0||tt(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{xe=n,vt=s,pc(e),e.flags&=-3}}function Eo(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Eo(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Dd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let vt=!0;const mc=[];function qt(){mc.push(vt),vt=!1}function Wt(){const e=mc.pop();vt=e===void 0?!0:e}function xl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=xe;xe=void 0;try{t()}finally{xe=n}}}let Cs=0;class Ld{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ui{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!xe||!vt||xe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xe)n=this.activeLink=new Ld(xe,this),xe.deps?(n.prevDep=xe.depsTail,xe.depsTail.nextDep=n,xe.depsTail=n):xe.deps=xe.depsTail=n,bc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=xe.depsTail,n.nextDep=void 0,xe.depsTail.nextDep=n,xe.depsTail=n,xe.deps===n&&(xe.deps=s)}return n}trigger(t){this.version++,Cs++,this.notify(t)}notify(t){So();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wo()}}}function bc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)bc(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const gi=new WeakMap,yn=Symbol(""),zr=Symbol(""),xs=Symbol("");function ze(e,t,n){if(vt&&xe){let s=gi.get(e);s||gi.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Ui),i.map=s,i.key=n),i.track()}}function Mt(e,t,n,s,i,r){const o=gi.get(e);if(!o){Cs++;return}const l=a=>{a&&a.trigger()};if(So(),t==="clear")o.forEach(l);else{const a=Q(e),u=a&&Di(n);if(a&&n==="length"){const c=Number(s);o.forEach((f,g)=>{(g==="length"||g===xs||!Jt(g)&&g>=c)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(xs)),t){case"add":a?u&&l(o.get("length")):(l(o.get(yn)),Fn(e)&&l(o.get(zr)));break;case"delete":a||(l(o.get(yn)),Fn(e)&&l(o.get(zr)));break;case"set":Fn(e)&&l(o.get(yn));break}}wo()}function Fd(e,t){const n=gi.get(e);return n&&n.get(t)}function In(e){const t=pe(e);return t===e?t:(ze(t,"iterate",xs),ut(e)?t:t.map(yt))}function Vi(e){return ze(e=pe(e),"iterate",xs),e}function rn(e,t){return Gt(e)?Ht(e)?zn(yt(t)):zn(t):yt(t)}const Md={__proto__:null,[Symbol.iterator](){return gr(this,Symbol.iterator,e=>rn(this,e))},concat(...e){return In(this).concat(...e.map(t=>Q(t)?In(t):t))},entries(){return gr(this,"entries",e=>(e[1]=rn(this,e[1]),e))},every(e,t){return Nt(this,"every",e,t,void 0,arguments)},filter(e,t){return Nt(this,"filter",e,t,n=>n.map(s=>rn(this,s)),arguments)},find(e,t){return Nt(this,"find",e,t,n=>rn(this,n),arguments)},findIndex(e,t){return Nt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Nt(this,"findLast",e,t,n=>rn(this,n),arguments)},findLastIndex(e,t){return Nt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Nt(this,"forEach",e,t,void 0,arguments)},includes(...e){return mr(this,"includes",e)},indexOf(...e){return mr(this,"indexOf",e)},join(e){return In(this).join(e)},lastIndexOf(...e){return mr(this,"lastIndexOf",e)},map(e,t){return Nt(this,"map",e,t,void 0,arguments)},pop(){return es(this,"pop")},push(...e){return es(this,"push",e)},reduce(e,...t){return _l(this,"reduce",e,t)},reduceRight(e,...t){return _l(this,"reduceRight",e,t)},shift(){return es(this,"shift")},some(e,t){return Nt(this,"some",e,t,void 0,arguments)},splice(...e){return es(this,"splice",e)},toReversed(){return In(this).toReversed()},toSorted(e){return In(this).toSorted(e)},toSpliced(...e){return In(this).toSpliced(...e)},unshift(...e){return es(this,"unshift",e)},values(){return gr(this,"values",e=>rn(this,e))}};function gr(e,t,n){const s=Vi(e),i=s[t]();return s!==e&&!ut(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const Bd=Array.prototype;function Nt(e,t,n,s,i,r){const o=Vi(e),l=o!==e&&!ut(e),a=o[t];if(a!==Bd[t]){const f=a.apply(e,r);return l?yt(f):f}let u=n;o!==e&&(l?u=function(f,g){return n.call(this,rn(e,f),g,e)}:n.length>2&&(u=function(f,g){return n.call(this,f,g,e)}));const c=a.call(o,u,s);return l&&i?i(c):c}function _l(e,t,n,s){const i=Vi(e);let r=n;return i!==e&&(ut(e)?n.length>3&&(r=function(o,l,a){return n.call(this,o,l,a,e)}):r=function(o,l,a){return n.call(this,o,rn(e,l),a,e)}),i[t](r,...s)}function mr(e,t,n){const s=pe(e);ze(s,"iterate",xs);const i=s[t](...n);return(i===-1||i===!1)&&Hi(n[0])?(n[0]=pe(n[0]),s[t](...n)):i}function es(e,t,n=[]){qt(),So();const s=pe(e)[t].apply(e,n);return wo(),Wt(),s}const Ud=mo("__proto__,__v_isRef,__isVue"),vc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Jt));function Vd(e){Jt(e)||(e=String(e));const t=pe(this);return ze(t,"has",e),t.hasOwnProperty(e)}class yc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Xd:Cc:r?Ec:wc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=Q(t);if(!i){let a;if(o&&(a=Md[n]))return a;if(n==="hasOwnProperty")return Vd}const l=Reflect.get(t,n,$e(t)?t:s);if((Jt(n)?vc.has(n):Ud(n))||(i||ze(t,"get",n),r))return l;if($e(l)){const a=o&&Di(n)?l:l.value;return i&&Ae(a)?Wr(a):a}return Ae(l)?i?Wr(l):ji(l):l}}class Sc extends yc{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];const o=Q(t)&&Di(n);if(!this._isShallow){const u=Gt(r);if(!ut(s)&&!Gt(s)&&(r=pe(r),s=pe(s)),!o&&$e(r)&&!$e(s))return u||(r.value=s),!0}const l=o?Number(n)<t.length:ve(t,n),a=Reflect.set(t,n,s,$e(t)?t:i);return t===pe(i)&&(l?tt(s,r)&&Mt(t,"set",n,s):Mt(t,"add",n,s)),a}deleteProperty(t,n){const s=ve(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Mt(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Jt(n)||!vc.has(n))&&ze(t,"has",n),s}ownKeys(t){return ze(t,"iterate",Q(t)?"length":yn),Reflect.ownKeys(t)}}class jd extends yc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hd=new Sc,zd=new jd,qd=new Sc(!0);const qr=e=>e,qs=e=>Reflect.getPrototypeOf(e);function Wd(e,t,n){return function(...s){const i=this.__v_raw,r=pe(i),o=Fn(r),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,u=i[e](...s),c=n?qr:t?zn:yt;return!t&&ze(r,"iterate",a?zr:yn),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:l?[c(f[0]),c(f[1])]:c(f),done:g}},[Symbol.iterator](){return this}}}}function Ws(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gd(e,t){const n={get(i){const r=this.__v_raw,o=pe(r),l=pe(i);e||(tt(i,l)&&ze(o,"get",i),ze(o,"get",l));const{has:a}=qs(o),u=t?qr:e?zn:yt;if(a.call(o,i))return u(r.get(i));if(a.call(o,l))return u(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&ze(pe(i),"iterate",yn),i.size},has(i){const r=this.__v_raw,o=pe(r),l=pe(i);return e||(tt(i,l)&&ze(o,"has",i),ze(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,a=pe(l),u=t?qr:e?zn:yt;return!e&&ze(a,"iterate",yn),l.forEach((c,f)=>i.call(r,u(c),u(f),o))}};return je(n,e?{add:Ws("add"),set:Ws("set"),delete:Ws("delete"),clear:Ws("clear")}:{add(i){!t&&!ut(i)&&!Gt(i)&&(i=pe(i));const r=pe(this);return qs(r).has.call(r,i)||(r.add(i),Mt(r,"add",i,i)),this},set(i,r){!t&&!ut(r)&&!Gt(r)&&(r=pe(r));const o=pe(this),{has:l,get:a}=qs(o);let u=l.call(o,i);u||(i=pe(i),u=l.call(o,i));const c=a.call(o,i);return o.set(i,r),u?tt(r,c)&&Mt(o,"set",i,r):Mt(o,"add",i,r),this},delete(i){const r=pe(this),{has:o,get:l}=qs(r);let a=o.call(r,i);a||(i=pe(i),a=o.call(r,i)),l&&l.call(r,i);const u=r.delete(i);return a&&Mt(r,"delete",i,void 0),u},clear(){const i=pe(this),r=i.size!==0,o=i.clear();return r&&Mt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Wd(i,e,t)}),n}function Co(e,t){const n=Gd(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(ve(n,i)&&i in s?n:s,i,r)}const Yd={get:Co(!1,!1)},Jd={get:Co(!1,!0)},Qd={get:Co(!0,!1)};const wc=new WeakMap,Ec=new WeakMap,Cc=new WeakMap,Xd=new WeakMap;function Zd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kd(e){return e.__v_skip||!Object.isExtensible(e)?0:Zd(xd(e))}function ji(e){return Gt(e)?e:xo(e,!1,Hd,Yd,wc)}function xc(e){return xo(e,!1,qd,Jd,Ec)}function Wr(e){return xo(e,!0,zd,Qd,Cc)}function xo(e,t,n,s,i){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Kd(e);if(r===0)return e;const o=i.get(e);if(o)return o;const l=new Proxy(e,r===2?s:n);return i.set(e,l),l}function Ht(e){return Gt(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Hi(e){return e?!!e.__v_raw:!1}function pe(e){const t=e&&e.__v_raw;return t?pe(t):e}function zi(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&sc(e,"__v_skip",!0),e}const yt=e=>Ae(e)?ji(e):e,zn=e=>Ae(e)?Wr(e):e;function $e(e){return e?e.__v_isRef===!0:!1}function ie(e){return ef(e,!1)}function ef(e,t){return $e(e)?e:new tf(e,t)}class tf{constructor(t,n){this.dep=new Ui,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:pe(t),this._value=n?t:yt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||ut(t)||Gt(t);t=s?t:pe(t),tt(t,n)&&(this._rawValue=t,this._value=s?t:yt(t),this.dep.trigger())}}function D(e){return $e(e)?e.value:e}const nf={get:(e,t,n)=>t==="__v_raw"?e:D(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return $e(i)&&!$e(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function _c(e){return Ht(e)?e:new Proxy(e,nf)}class sf{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ui,{get:s,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function rf(e){return new sf(e)}function of(e){const t=Q(e)?new Array(e.length):{};for(const n in e)t[n]=af(e,n);return t}class lf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=pe(t);let i=!0,r=t;if(!Q(t)||!Di(String(n)))do i=!Hi(r)||ut(r);while(i&&(r=r.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=D(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&$e(this._raw[this._key])){const n=this._object[this._key];if($e(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return Fd(this._raw,this._key)}}function af(e,t,n){return new lf(e,t,n)}class cf{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ui(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return fc(this,!0),!0}get value(){const t=this.dep.track();return gc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function uf(e,t,n=!1){let s,i;return te(e)?s=e:(s=e.get,i=e.set),new cf(s,i,n)}const Gs={},mi=new WeakMap;let bn;function df(e,t=!1,n=bn){if(n){let s=mi.get(n);s||mi.set(n,s=[]),s.push(e)}}function ff(e,t,n=ge){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:a}=n,u=_=>i?_:ut(_)||i===!1||i===0?Bt(_,1):Bt(_);let c,f,g,S,p=!1,m=!1;if($e(e)?(f=()=>e.value,p=ut(e)):Ht(e)?(f=()=>u(e),p=!0):Q(e)?(m=!0,p=e.some(_=>Ht(_)||ut(_)),f=()=>e.map(_=>{if($e(_))return _.value;if(Ht(_))return u(_);if(te(_))return a?a(_,2):_()})):te(e)?t?f=a?()=>a(e,2):e:f=()=>{if(g){qt();try{g()}finally{Wt()}}const _=bn;bn=c;try{return a?a(e,3,[S]):e(S)}finally{bn=_}}:f=bt,t&&i){const _=f,q=i===!0?1/0:i;f=()=>Bt(_(),q)}const y=cc(),A=()=>{c.stop(),y&&y.active&&vo(y.effects,c)};if(r&&t){const _=t;t=(...q)=>{_(...q),A()}}let I=m?new Array(e.length).fill(Gs):Gs;const P=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(t){const q=c.run();if(i||p||(m?q.some((ke,Z)=>tt(ke,I[Z])):tt(q,I))){g&&g();const ke=bn;bn=c;try{const Z=[q,I===Gs?void 0:m&&I[0]===Gs?[]:I,S];I=q,a?a(t,3,Z):t(...Z)}finally{bn=ke}}}else c.run()};return l&&l(P),c=new uc(f),c.scheduler=o?()=>o(P,!1):P,S=_=>df(_,!1,c),g=c.onStop=()=>{const _=mi.get(c);if(_){if(a)a(_,4);else for(const q of _)q();mi.delete(c)}},t?s?P(!0):I=c.run():o?o(P.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function Bt(e,t=1/0,n){if(t<=0||!Ae(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,$e(e))Bt(e.value,t,n);else if(Q(e))for(let s=0;s<e.length;s++)Bt(e[s],t,n);else if(Ka(e)||Fn(e))e.forEach(s=>{Bt(s,t,n)});else if(nc(e)){for(const s in e)Bt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Bt(e[s],t,n)}return e}function Ps(e,t,n,s){try{return s?e(...s):e()}catch(i){qi(i,t,n)}}function $t(e,t,n,s){if(te(e)){const i=Ps(e,t,n,s);return i&&ec(i)&&i.catch(r=>{qi(r,t,n)}),i}if(Q(e)){const i=[];for(let r=0;r<e.length;r++)i.push($t(e[r],t,n,s));return i}}function qi(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ge;if(t){let l=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,a,u)===!1)return}l=l.parent}if(r){qt(),Ps(r,null,10,[e,a,u]),Wt();return}}hf(e,n,i,s,o)}function hf(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const Ye=[];let It=-1;const Mn=[];let on=null,$n=0;const Rc=Promise.resolve();let bi=null;function Ns(e){const t=bi||Rc;return e?t.then(this?e.bind(this):e):t}function pf(e){let t=It+1,n=Ye.length;for(;t<n;){const s=t+n>>>1,i=Ye[s],r=_s(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function _o(e){if(!(e.flags&1)){const t=_s(e),n=Ye[Ye.length-1];!n||!(e.flags&2)&&t>=_s(n)?Ye.push(e):Ye.splice(pf(t),0,e),e.flags|=1,kc()}}function kc(){bi||(bi=Rc.then(Ic))}function Oc(e){Q(e)?Mn.push(...e):on&&e.id===-1?on.splice($n+1,0,e):e.flags&1||(Mn.push(e),e.flags|=1),kc()}function Rl(e,t,n=It+1){for(;n<Ye.length;n++){const s=Ye[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ye.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ac(e){if(Mn.length){const t=[...new Set(Mn)].sort((n,s)=>_s(n)-_s(s));if(Mn.length=0,on){on.push(...t);return}for(on=t,$n=0;$n<on.length;$n++){const n=on[$n];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}on=null,$n=0}}const _s=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ic(e){try{for(It=0;It<Ye.length;It++){const t=Ye[It];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ps(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;It<Ye.length;It++){const t=Ye[It];t&&(t.flags&=-2)}It=-1,Ye.length=0,Ac(),bi=null,(Ye.length||Mn.length)&&Ic()}}let Ve=null,Wi=null;function vi(e){const t=Ve;return Ve=e,Wi=e&&e.type.__scopeId||null,t}function gf(e){Wi=e}function mf(){Wi=null}const bf=e=>Oe;function Oe(e,t=Ve,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Fl(-1);const r=vi(t);let o;try{o=e(...i)}finally{vi(r),s._d&&Fl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ds(e,t){if(Ve===null)return e;const n=Zi(Ve),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,l,a=ge]=t[i];r&&(te(r)&&(r={mounted:r,updated:r}),r.deep&&Bt(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return e}function pn(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(qt(),$t(a,n,8,[e.el,l,e,t]),Wt())}}const vf=Symbol("_vte"),yf=e=>e.__isTeleport,Sf=Symbol("_leaveCb");function Ro(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ro(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Re(e,t){return te(e)?je({name:e.name},t,{setup:e}):e}function Tc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const yi=new WeakMap;function hs(e,t,n,s,i=!1){if(Q(e)){e.forEach((p,m)=>hs(p,t&&(Q(t)?t[m]:t),n,s,i));return}if(Bn(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&hs(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Zi(s.component):s.el,o=i?null:r,{i:l,r:a}=e,u=t&&t.r,c=l.refs===ge?l.refs={}:l.refs,f=l.setupState,g=pe(f),S=f===ge?Za:p=>ve(g,p);if(u!=null&&u!==a){if(kl(t),Le(u))c[u]=null,S(u)&&(f[u]=null);else if($e(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(te(a))Ps(a,l,12,[o,c]);else{const p=Le(a),m=$e(a);if(p||m){const y=()=>{if(e.f){const A=p?S(a)?f[a]:c[a]:a.value;if(i)Q(A)&&vo(A,r);else if(Q(A))A.includes(r)||A.push(r);else if(p)c[a]=[r],S(a)&&(f[a]=c[a]);else{const I=[r];a.value=I,e.k&&(c[e.k]=I)}}else p?(c[a]=o,S(a)&&(f[a]=o)):m&&(a.value=o,e.k&&(c[e.k]=o))};if(o){const A=()=>{y(),yi.delete(e)};A.id=-1,yi.set(e,A),at(A,n)}else kl(e),y()}}}function kl(e){const t=yi.get(e);t&&(t.flags|=8,yi.delete(e))}Mi().requestIdleCallback;Mi().cancelIdleCallback;const Bn=e=>!!e.type.__asyncLoader,$c=e=>e.type.__isKeepAlive;function wf(e,t){Pc(e,"a",t)}function Ef(e,t){Pc(e,"da",t)}function Pc(e,t,n=qe){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Gi(t,s,n),n){let i=n.parent;for(;i&&i.parent;)$c(i.parent.vnode)&&Cf(s,t,n,i),i=i.parent}}function Cf(e,t,n,s){const i=Gi(t,e,s,!0);Yi(()=>{vo(s[t],i)},n)}function Gi(e,t,n=qe,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{qt();const l=Ms(n),a=$t(t,n,e,o);return l(),Wt(),a});return s?i.unshift(r):i.push(r),r}}const Xt=e=>(t,n=qe)=>{(!Os||e==="sp")&&Gi(e,(...s)=>t(...s),n)},xf=Xt("bm"),ko=Xt("m"),Nc=Xt("bu"),_f=Xt("u"),Rf=Xt("bum"),Yi=Xt("um"),kf=Xt("sp"),Of=Xt("rtg"),Af=Xt("rtc");function If(e,t=qe){Gi("ec",e,t)}const Oo="components",Tf="directives";function Ls(e,t){return Ao(Oo,e,!0,t)||e}const Dc=Symbol.for("v-ndc");function Ol(e){return Le(e)?Ao(Oo,e,!1)||e:e||Dc}function $f(e){return Ao(Tf,e)}function Ao(e,t,n=!0,s=!1){const i=Ve||qe;if(i){const r=i.type;if(e===Oo){const l=Sh(r,!1);if(l&&(l===t||l===dt(t)||l===Fi(dt(t))))return r}const o=Al(i[e]||r[e],t)||Al(i.appContext[e],t);return!o&&s?r:o}}function Al(e,t){return e&&(e[t]||e[dt(t)]||e[Fi(dt(t))])}function Pt(e,t,n,s){let i;const r=n,o=Q(e);if(o||Le(e)){const l=o&&Ht(e);let a=!1,u=!1;l&&(a=!ut(e),u=Gt(e),e=Vi(e)),i=new Array(e.length);for(let c=0,f=e.length;c<f;c++)i[c]=t(a?u?zn(yt(e[c])):yt(e[c]):e[c],c,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,r)}else if(Ae(e))if(e[Symbol.iterator])i=Array.from(e,(l,a)=>t(l,a,void 0,r));else{const l=Object.keys(e);i=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];i[a]=t(e[c],c,a,r)}}else i=[];return i}function nt(e,t,n={},s,i){if(Ve.ce||Ve.parent&&Bn(Ve.parent)&&Ve.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),w(),ce(de,null,[he("slot",n,s)],u?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),w();const o=r&&Lc(r(n)),l=n.key||o&&o.key,a=ce(de,{key:(l&&!Jt(l)?l:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Lc(e){return e.some(t=>Po(t)?!(t.type===Yt||t.type===de&&!Lc(t.children)):!0)?e:null}function Rs(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:ei(s)]=e[s];return n}const Gr=e=>e?su(e)?Zi(e):Gr(e.parent):null,ps=je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gr(e.parent),$root:e=>Gr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bc(e),$forceUpdate:e=>e.f||(e.f=()=>{_o(e.update)}),$nextTick:e=>e.n||(e.n=Ns.bind(e.proxy)),$watch:e=>Gf.bind(e)}),br=(e,t)=>e!==ge&&!e.__isScriptSetup&&ve(e,t),Pf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=e;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(br(s,t))return o[t]=1,s[t];if(i!==ge&&ve(i,t))return o[t]=2,i[t];if(ve(r,t))return o[t]=3,r[t];if(n!==ge&&ve(n,t))return o[t]=4,n[t];Yr&&(o[t]=0)}}const u=ps[t];let c,f;if(u)return t==="$attrs"&&ze(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==ge&&ve(n,t))return o[t]=4,n[t];if(f=a.config.globalProperties,ve(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return br(i,t)?(i[t]=n,!0):s!==ge&&ve(s,t)?(s[t]=n,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,props:r,type:o}},l){let a;return!!(n[l]||e!==ge&&l[0]!=="$"&&ve(e,l)||br(t,l)||ve(r,l)||ve(s,l)||ve(ps,l)||ve(i.config.globalProperties,l)||(a=o.__cssModules)&&a[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ve(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fc(){return Nf().slots}function Nf(e){const t=Fs();return t.setupContext||(t.setupContext=ru(t))}function Si(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function En(e,t){return!e||!t?e||t:Q(e)&&Q(t)?e.concat(t):je({},Si(e),Si(t))}let Yr=!0;function Df(e){const t=Bc(e),n=e.proxy,s=e.ctx;Yr=!1,t.beforeCreate&&Il(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:g,beforeUpdate:S,updated:p,activated:m,deactivated:y,beforeDestroy:A,beforeUnmount:I,destroyed:P,unmounted:_,render:q,renderTracked:ke,renderTriggered:Z,errorCaptured:z,serverPrefetch:Y,expose:j,inheritAttrs:le,components:se,directives:re,filters:M}=t;if(u&&Lf(u,s,null),o)for(const ee in o){const oe=o[ee];te(oe)&&(s[ee]=oe.bind(n))}if(i){const ee=i.call(n,n);Ae(ee)&&(e.data=ji(ee))}if(Yr=!0,r)for(const ee in r){const oe=r[ee],ft=te(oe)?oe.bind(n,n):te(oe.get)?oe.get.bind(n,n):bt,en=!te(oe)&&te(oe.set)?oe.set.bind(n):bt,Fe=k({get:ft,set:en});Object.defineProperty(s,ee,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:Me=>Fe.value=Me})}if(l)for(const ee in l)Mc(l[ee],s,n,ee);if(a){const ee=te(a)?a.call(n):a;Reflect.ownKeys(ee).forEach(oe=>{jf(oe,ee[oe])})}c&&Il(c,e,"c");function H(ee,oe){Q(oe)?oe.forEach(ft=>ee(ft.bind(n))):oe&&ee(oe.bind(n))}if(H(xf,f),H(ko,g),H(Nc,S),H(_f,p),H(wf,m),H(Ef,y),H(If,z),H(Af,ke),H(Of,Z),H(Rf,I),H(Yi,_),H(kf,Y),Q(j))if(j.length){const ee=e.exposed||(e.exposed={});j.forEach(oe=>{Object.defineProperty(ee,oe,{get:()=>n[oe],set:ft=>n[oe]=ft,enumerable:!0})})}else e.exposed||(e.exposed={});q&&e.render===bt&&(e.render=q),le!=null&&(e.inheritAttrs=le),se&&(e.components=se),re&&(e.directives=re),Y&&Tc(e)}function Lf(e,t,n=bt){Q(e)&&(e=Jr(e));for(const s in e){const i=e[s];let r;Ae(i)?"default"in i?r=gs(i.from||s,i.default,!0):r=gs(i.from||s):r=gs(i),$e(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Il(e,t,n){$t(Q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mc(e,t,n,s){let i=s.includes(".")?Vc(n,s):()=>n[s];if(Le(e)){const r=t[e];te(r)&&Ut(i,r)}else if(te(e))Ut(i,e.bind(n));else if(Ae(e))if(Q(e))e.forEach(r=>Mc(r,t,n,s));else{const r=te(e.handler)?e.handler.bind(n):t[e.handler];te(r)&&Ut(i,r,e)}}function Bc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(t);let a;return l?a=l:!i.length&&!n&&!s?a=t:(a={},i.length&&i.forEach(u=>wi(a,u,o,!0)),wi(a,t,o)),Ae(t)&&r.set(t,a),a}function wi(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&wi(e,r,n,!0),i&&i.forEach(o=>wi(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const l=Ff[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Ff={data:Tl,props:$l,emits:$l,methods:cs,computed:cs,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:cs,directives:cs,watch:Bf,provide:Tl,inject:Mf};function Tl(e,t){return t?e?function(){return je(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function Mf(e,t){return cs(Jr(e),Jr(t))}function Jr(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ge(e,t){return e?[...new Set([].concat(e,t))]:t}function cs(e,t){return e?je(Object.create(null),e,t):t}function $l(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:je(Object.create(null),Si(e),Si(t??{})):t}function Bf(e,t){if(!e)return t;if(!t)return e;const n=je(Object.create(null),e);for(const s in t)n[s]=Ge(e[s],t[s]);return n}function Uc(){return{app:null,config:{isNativeTag:Za,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uf=0;function Vf(e,t){return function(s,i=null){te(s)||(s=je({},s)),i!=null&&!Ae(i)&&(i=null);const r=Uc(),o=new WeakSet,l=[];let a=!1;const u=r.app={_uid:Uf++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Eh,get config(){return r.config},set config(c){},use(c,...f){return o.has(c)||(c&&te(c.install)?(o.add(c),c.install(u,...f)):te(c)&&(o.add(c),c(u,...f))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,f){return f?(r.components[c]=f,u):r.components[c]},directive(c,f){return f?(r.directives[c]=f,u):r.directives[c]},mount(c,f,g){if(!a){const S=u._ceVNode||he(s,i);return S.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(S,c,g),a=!0,u._container=c,c.__vue_app__=u,Zi(S.component)}},onUnmount(c){l.push(c)},unmount(){a&&($t(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return r.provides[c]=f,u},runWithContext(c){const f=Sn;Sn=u;try{return c()}finally{Sn=f}}};return u}}let Sn=null;function jf(e,t){if(qe){let n=qe.provides;const s=qe.parent&&qe.parent.provides;s===n&&(n=qe.provides=Object.create(s)),n[e]=t}}function gs(e,t,n=!1){const s=Fs();if(s||Sn){let i=Sn?Sn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&te(t)?t.call(s&&s.proxy):t}}function Hf(){return!!(Fs()||Sn)}const zf=Symbol.for("v-scx"),qf=()=>gs(zf);function Wf(e,t){return Io(e,null,{flush:"sync"})}function Ut(e,t,n){return Io(e,t,n)}function Io(e,t,n=ge){const{immediate:s,deep:i,flush:r,once:o}=n,l=je({},n),a=t&&s||!t&&r!=="post";let u;if(Os){if(r==="sync"){const S=qf();u=S.__watcherHandles||(S.__watcherHandles=[])}else if(!a){const S=()=>{};return S.stop=bt,S.resume=bt,S.pause=bt,S}}const c=qe;l.call=(S,p,m)=>$t(S,c,p,m);let f=!1;r==="post"?l.scheduler=S=>{at(S,c&&c.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(S,p)=>{p?S():_o(S)}),l.augmentJob=S=>{t&&(S.flags|=4),f&&(S.flags|=2,c&&(S.id=c.uid,S.i=c))};const g=ff(e,t,l);return Os&&(u?u.push(g):a&&g()),g}function Gf(e,t,n){const s=this.proxy,i=Le(e)?e.includes(".")?Vc(s,e):()=>s[e]:e.bind(s,s);let r;te(t)?r=t:(r=t.handler,n=t);const o=Ms(this),l=Io(i,r.bind(s),n);return o(),l}function Vc(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Ji(e,t,n=ge){const s=Fs(),i=dt(t),r=Qt(t),o=jc(e,i),l=rf((a,u)=>{let c,f=ge,g;return Wf(()=>{const S=e[i];tt(c,S)&&(c=S,u())}),{get(){return a(),n.get?n.get(c):c},set(S){const p=n.set?n.set(S):S;if(!tt(p,c)&&!(f!==ge&&tt(S,f)))return;const m=s.vnode.props;m&&(t in m||i in m||r in m)&&(`onUpdate:${t}`in m||`onUpdate:${i}`in m||`onUpdate:${r}`in m)||(c=S,u()),s.emit(`update:${t}`,p),tt(S,p)&&tt(S,f)&&!tt(p,g)&&u(),f=S,g=p}}});return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?o||ge:l,done:!1}:{done:!0}}}},l}const jc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dt(t)}Modifiers`]||e[`${Qt(t)}Modifiers`];function Yf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ge;let i=n;const r=t.startsWith("update:"),o=r&&jc(s,t.slice(7));o&&(o.trim&&(i=n.map(c=>Le(c)?c.trim():c)),o.number&&(i=n.map(yo)));let l,a=s[l=ei(t)]||s[l=ei(dt(t))];!a&&r&&(a=s[l=ei(Qt(t))]),a&&$t(a,e,6,i);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,$t(u,e,6,i)}}const Jf=new WeakMap;function Hc(e,t,n=!1){const s=n?Jf:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},l=!1;if(!te(e)){const a=u=>{const c=Hc(u,t,!0);c&&(l=!0,je(o,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(Ae(e)&&s.set(e,null),null):(Q(r)?r.forEach(a=>o[a]=null):je(o,r),Ae(e)&&s.set(e,o),o)}function Qi(e,t){return!e||!Pi(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Qt(t))||ve(e,t))}function Pl(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:a,render:u,renderCache:c,props:f,data:g,setupState:S,ctx:p,inheritAttrs:m}=e,y=vi(e);let A,I;try{if(n.shapeFlag&4){const _=i||s,q=_;A=Tt(u.call(q,_,c,f,S,g,p)),I=l}else{const _=t;A=Tt(_.length>1?_(f,{attrs:l,slots:o,emit:a}):_(f,null)),I=t.props?l:Qf(l)}}catch(_){ms.length=0,qi(_,e,1),A=he(Yt)}let P=A;if(I&&m!==!1){const _=Object.keys(I),{shapeFlag:q}=P;_.length&&q&7&&(r&&_.some(bo)&&(I=Xf(I,r)),P=qn(P,I,!1,!0))}return n.dirs&&(P=qn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Ro(P,n.transition),A=P,vi(y),A}const Qf=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pi(n))&&((t||(t={}))[n]=e[n]);return t},Xf=(e,t)=>{const n={};for(const s in e)(!bo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Zf(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:l,patchFlag:a}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Nl(s,o,u):!!o;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const g=c[f];if(o[g]!==s[g]&&!Qi(u,g))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Nl(s,o,u):!0:!!o;return!1}function Nl(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!Qi(n,r))return!0}return!1}function Kf({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const zc={},qc=()=>Object.create(zc),Wc=e=>Object.getPrototypeOf(e)===zc;function eh(e,t,n,s=!1){const i={},r=qc();e.propsDefaults=Object.create(null),Gc(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:xc(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function th(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,l=pe(i),[a]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let g=c[f];if(Qi(e.emitsOptions,g))continue;const S=t[g];if(a)if(ve(r,g))S!==r[g]&&(r[g]=S,u=!0);else{const p=dt(g);i[p]=Qr(a,l,p,S,e,!1)}else S!==r[g]&&(r[g]=S,u=!0)}}}else{Gc(e,t,i,r)&&(u=!0);let c;for(const f in l)(!t||!ve(t,f)&&((c=Qt(f))===f||!ve(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=Qr(a,l,f,void 0,e,!0)):delete i[f]);if(r!==l)for(const f in r)(!t||!ve(t,f))&&(delete r[f],u=!0)}u&&Mt(e.attrs,"set","")}function Gc(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(us(a))continue;const u=t[a];let c;i&&ve(i,c=dt(a))?!r||!r.includes(c)?n[c]=u:(l||(l={}))[c]=u:Qi(e.emitsOptions,a)||(!(a in s)||u!==s[a])&&(s[a]=u,o=!0)}if(r){const a=pe(n),u=l||ge;for(let c=0;c<r.length;c++){const f=r[c];n[f]=Qr(i,a,f,u[f],e,!ve(u,f))}}return o}function Qr(e,t,n,s,i,r){const o=e[n];if(o!=null){const l=ve(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&te(a)){const{propsDefaults:u}=i;if(n in u)s=u[n];else{const c=Ms(i);s=u[n]=a.call(null,t),c()}}else s=a;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Qt(n))&&(s=!0))}return s}const nh=new WeakMap;function Yc(e,t,n=!1){const s=n?nh:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},l=[];let a=!1;if(!te(e)){const c=f=>{a=!0;const[g,S]=Yc(f,t,!0);je(o,g),S&&l.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!a)return Ae(e)&&s.set(e,Ln),Ln;if(Q(r))for(let c=0;c<r.length;c++){const f=dt(r[c]);Dl(f)&&(o[f]=ge)}else if(r)for(const c in r){const f=dt(c);if(Dl(f)){const g=r[c],S=o[f]=Q(g)||te(g)?{type:g}:je({},g),p=S.type;let m=!1,y=!0;if(Q(p))for(let A=0;A<p.length;++A){const I=p[A],P=te(I)&&I.name;if(P==="Boolean"){m=!0;break}else P==="String"&&(y=!1)}else m=te(p)&&p.name==="Boolean";S[0]=m,S[1]=y,(m||ve(S,"default"))&&l.push(f)}}const u=[o,l];return Ae(e)&&s.set(e,u),u}function Dl(e){return e[0]!=="$"&&!us(e)}const To=e=>e==="_"||e==="_ctx"||e==="$stable",$o=e=>Q(e)?e.map(Tt):[Tt(e)],sh=(e,t,n)=>{if(t._n)return t;const s=Oe((...i)=>$o(t(...i)),n);return s._c=!1,s},Jc=(e,t,n)=>{const s=e._ctx;for(const i in e){if(To(i))continue;const r=e[i];if(te(r))t[i]=sh(i,r,s);else if(r!=null){const o=$o(r);t[i]=()=>o}}},Qc=(e,t)=>{const n=$o(t);e.slots.default=()=>n},Xc=(e,t,n)=>{for(const s in t)(n||!To(s))&&(e[s]=t[s])},ih=(e,t,n)=>{const s=e.slots=qc();if(e.vnode.shapeFlag&32){const i=t._;i?(Xc(s,t,n),n&&sc(s,"_",i,!0)):Jc(t,s)}else t&&Qc(e,t)},rh=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=ge;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:Xc(i,t,n):(r=!t.$stable,Jc(t,i)),o=t}else t&&(Qc(e,t),o={default:1});if(r)for(const l in i)!To(l)&&o[l]==null&&delete i[l]},at=uh;function oh(e){return lh(e)}function lh(e,t){const n=Mi();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:g,setScopeId:S=bt,insertStaticContent:p}=e,m=(d,h,b,E=null,C=null,x=null,L=void 0,N=null,T=!!h.dynamicChildren)=>{if(d===h)return;d&&!ts(d,h)&&(E=An(d),Me(d,C,x,!0),d=null),h.patchFlag===-2&&(T=!1,h.dynamicChildren=null);const{type:R,ref:G,shapeFlag:B}=h;switch(R){case Xi:y(d,h,b,E);break;case Yt:A(d,h,b,E);break;case ni:d==null&&I(h,b,E,L);break;case de:se(d,h,b,E,C,x,L,N,T);break;default:B&1?q(d,h,b,E,C,x,L,N,T):B&6?re(d,h,b,E,C,x,L,N,T):(B&64||B&128)&&R.process(d,h,b,E,C,x,L,N,T,hn)}G!=null&&C?hs(G,d&&d.ref,x,h||d,!h):G==null&&d&&d.ref!=null&&hs(d.ref,null,x,d,!0)},y=(d,h,b,E)=>{if(d==null)s(h.el=l(h.children),b,E);else{const C=h.el=d.el;h.children!==d.children&&u(C,h.children)}},A=(d,h,b,E)=>{d==null?s(h.el=a(h.children||""),b,E):h.el=d.el},I=(d,h,b,E)=>{[d.el,d.anchor]=p(d.children,h,b,E,d.el,d.anchor)},P=({el:d,anchor:h},b,E)=>{let C;for(;d&&d!==h;)C=g(d),s(d,b,E),d=C;s(h,b,E)},_=({el:d,anchor:h})=>{let b;for(;d&&d!==h;)b=g(d),i(d),d=b;i(h)},q=(d,h,b,E,C,x,L,N,T)=>{if(h.type==="svg"?L="svg":h.type==="math"&&(L="mathml"),d==null)ke(h,b,E,C,x,L,N,T);else{const R=d.el&&d.el._isVueCE?d.el:null;try{R&&R._beginPatch(),Y(d,h,C,x,L,N,T)}finally{R&&R._endPatch()}}},ke=(d,h,b,E,C,x,L,N)=>{let T,R;const{props:G,shapeFlag:B,transition:W,dirs:K}=d;if(T=d.el=o(d.type,x,G&&G.is,G),B&8?c(T,d.children):B&16&&z(d.children,T,null,E,C,vr(d,x),L,N),K&&pn(d,null,E,"created"),Z(T,d,d.scopeId,L,E),G){for(const Ee in G)Ee!=="value"&&!us(Ee)&&r(T,Ee,null,G[Ee],x,E);"value"in G&&r(T,"value",null,G.value,x),(R=G.onVnodeBeforeMount)&&Ot(R,E,d)}K&&pn(d,null,E,"beforeMount");const fe=ah(C,W);fe&&W.beforeEnter(T),s(T,h,b),((R=G&&G.onVnodeMounted)||fe||K)&&at(()=>{R&&Ot(R,E,d),fe&&W.enter(T),K&&pn(d,null,E,"mounted")},C)},Z=(d,h,b,E,C)=>{if(b&&S(d,b),E)for(let x=0;x<E.length;x++)S(d,E[x]);if(C){let x=C.subTree;if(h===x||eu(x.type)&&(x.ssContent===h||x.ssFallback===h)){const L=C.vnode;Z(d,L,L.scopeId,L.slotScopeIds,C.parent)}}},z=(d,h,b,E,C,x,L,N,T=0)=>{for(let R=T;R<d.length;R++){const G=d[R]=N?ln(d[R]):Tt(d[R]);m(null,G,h,b,E,C,x,L,N)}},Y=(d,h,b,E,C,x,L)=>{const N=h.el=d.el;let{patchFlag:T,dynamicChildren:R,dirs:G}=h;T|=d.patchFlag&16;const B=d.props||ge,W=h.props||ge;let K;if(b&&gn(b,!1),(K=W.onVnodeBeforeUpdate)&&Ot(K,b,h,d),G&&pn(h,d,b,"beforeUpdate"),b&&gn(b,!0),(B.innerHTML&&W.innerHTML==null||B.textContent&&W.textContent==null)&&c(N,""),R?j(d.dynamicChildren,R,N,b,E,vr(h,C),x):L||oe(d,h,N,null,b,E,vr(h,C),x,!1),T>0){if(T&16)le(N,B,W,b,C);else if(T&2&&B.class!==W.class&&r(N,"class",null,W.class,C),T&4&&r(N,"style",B.style,W.style,C),T&8){const fe=h.dynamicProps;for(let Ee=0;Ee<fe.length;Ee++){const Se=fe[Ee],Ke=B[Se],et=W[Se];(et!==Ke||Se==="value")&&r(N,Se,Ke,et,C,b)}}T&1&&d.children!==h.children&&c(N,h.children)}else!L&&R==null&&le(N,B,W,b,C);((K=W.onVnodeUpdated)||G)&&at(()=>{K&&Ot(K,b,h,d),G&&pn(h,d,b,"updated")},E)},j=(d,h,b,E,C,x,L)=>{for(let N=0;N<h.length;N++){const T=d[N],R=h[N],G=T.el&&(T.type===de||!ts(T,R)||T.shapeFlag&198)?f(T.el):b;m(T,R,G,null,E,C,x,L,!0)}},le=(d,h,b,E,C)=>{if(h!==b){if(h!==ge)for(const x in h)!us(x)&&!(x in b)&&r(d,x,h[x],null,C,E);for(const x in b){if(us(x))continue;const L=b[x],N=h[x];L!==N&&x!=="value"&&r(d,x,N,L,C,E)}"value"in b&&r(d,"value",h.value,b.value,C)}},se=(d,h,b,E,C,x,L,N,T)=>{const R=h.el=d?d.el:l(""),G=h.anchor=d?d.anchor:l("");let{patchFlag:B,dynamicChildren:W,slotScopeIds:K}=h;K&&(N=N?N.concat(K):K),d==null?(s(R,b,E),s(G,b,E),z(h.children||[],b,G,C,x,L,N,T)):B>0&&B&64&&W&&d.dynamicChildren?(j(d.dynamicChildren,W,b,C,x,L,N),(h.key!=null||C&&h===C.subTree)&&Zc(d,h,!0)):oe(d,h,b,G,C,x,L,N,T)},re=(d,h,b,E,C,x,L,N,T)=>{h.slotScopeIds=N,d==null?h.shapeFlag&512?C.ctx.activate(h,b,E,L,T):M(h,b,E,C,x,L,T):U(d,h,T)},M=(d,h,b,E,C,x,L)=>{const N=d.component=mh(d,E,C);if($c(d)&&(N.ctx.renderer=hn),bh(N,!1,L),N.asyncDep){if(C&&C.registerDep(N,H,L),!d.el){const T=N.subTree=he(Yt);A(null,T,h,b),d.placeholder=T.el}}else H(N,d,h,b,C,x,L)},U=(d,h,b)=>{const E=h.component=d.component;if(Zf(d,h,b))if(E.asyncDep&&!E.asyncResolved){ee(E,h,b);return}else E.next=h,E.update();else h.el=d.el,E.vnode=h},H=(d,h,b,E,C,x,L)=>{const N=()=>{if(d.isMounted){let{next:B,bu:W,u:K,parent:fe,vnode:Ee}=d;{const Rt=Kc(d);if(Rt){B&&(B.el=Ee.el,ee(d,B,L)),Rt.asyncDep.then(()=>{d.isUnmounted||N()});return}}let Se=B,Ke;gn(d,!1),B?(B.el=Ee.el,ee(d,B,L)):B=Ee,W&&ti(W),(Ke=B.props&&B.props.onVnodeBeforeUpdate)&&Ot(Ke,fe,B,Ee),gn(d,!0);const et=Pl(d),_t=d.subTree;d.subTree=et,m(_t,et,f(_t.el),An(_t),d,C,x),B.el=et.el,Se===null&&Kf(d,et.el),K&&at(K,C),(Ke=B.props&&B.props.onVnodeUpdated)&&at(()=>Ot(Ke,fe,B,Ee),C)}else{let B;const{el:W,props:K}=h,{bm:fe,m:Ee,parent:Se,root:Ke,type:et}=d,_t=Bn(h);gn(d,!1),fe&&ti(fe),!_t&&(B=K&&K.onVnodeBeforeMount)&&Ot(B,Se,h),gn(d,!0);{Ke.ce&&Ke.ce._def.shadowRoot!==!1&&Ke.ce._injectChildStyle(et);const Rt=d.subTree=Pl(d);m(null,Rt,b,E,d,C,x),h.el=Rt.el}if(Ee&&at(Ee,C),!_t&&(B=K&&K.onVnodeMounted)){const Rt=h;at(()=>Ot(B,Se,Rt),C)}(h.shapeFlag&256||Se&&Bn(Se.vnode)&&Se.vnode.shapeFlag&256)&&d.a&&at(d.a,C),d.isMounted=!0,h=b=E=null}};d.scope.on();const T=d.effect=new uc(N);d.scope.off();const R=d.update=T.run.bind(T),G=d.job=T.runIfDirty.bind(T);G.i=d,G.id=d.uid,T.scheduler=()=>_o(G),gn(d,!0),R()},ee=(d,h,b)=>{h.component=d;const E=d.vnode.props;d.vnode=h,d.next=null,th(d,h.props,E,b),rh(d,h.children,b),qt(),Rl(d),Wt()},oe=(d,h,b,E,C,x,L,N,T=!1)=>{const R=d&&d.children,G=d?d.shapeFlag:0,B=h.children,{patchFlag:W,shapeFlag:K}=h;if(W>0){if(W&128){en(R,B,b,E,C,x,L,N,T);return}else if(W&256){ft(R,B,b,E,C,x,L,N,T);return}}K&8?(G&16&&xt(R,C,x),B!==R&&c(b,B)):G&16?K&16?en(R,B,b,E,C,x,L,N,T):xt(R,C,x,!0):(G&8&&c(b,""),K&16&&z(B,b,E,C,x,L,N,T))},ft=(d,h,b,E,C,x,L,N,T)=>{d=d||Ln,h=h||Ln;const R=d.length,G=h.length,B=Math.min(R,G);let W;for(W=0;W<B;W++){const K=h[W]=T?ln(h[W]):Tt(h[W]);m(d[W],K,b,null,C,x,L,N,T)}R>G?xt(d,C,x,!0,!1,B):z(h,b,E,C,x,L,N,T,B)},en=(d,h,b,E,C,x,L,N,T)=>{let R=0;const G=h.length;let B=d.length-1,W=G-1;for(;R<=B&&R<=W;){const K=d[R],fe=h[R]=T?ln(h[R]):Tt(h[R]);if(ts(K,fe))m(K,fe,b,null,C,x,L,N,T);else break;R++}for(;R<=B&&R<=W;){const K=d[B],fe=h[W]=T?ln(h[W]):Tt(h[W]);if(ts(K,fe))m(K,fe,b,null,C,x,L,N,T);else break;B--,W--}if(R>B){if(R<=W){const K=W+1,fe=K<G?h[K].el:E;for(;R<=W;)m(null,h[R]=T?ln(h[R]):Tt(h[R]),b,fe,C,x,L,N,T),R++}}else if(R>W)for(;R<=B;)Me(d[R],C,x,!0),R++;else{const K=R,fe=R,Ee=new Map;for(R=fe;R<=W;R++){const lt=h[R]=T?ln(h[R]):Tt(h[R]);lt.key!=null&&Ee.set(lt.key,R)}let Se,Ke=0;const et=W-fe+1;let _t=!1,Rt=0;const Kn=new Array(et);for(R=0;R<et;R++)Kn[R]=0;for(R=K;R<=B;R++){const lt=d[R];if(Ke>=et){Me(lt,C,x,!0);continue}let kt;if(lt.key!=null)kt=Ee.get(lt.key);else for(Se=fe;Se<=W;Se++)if(Kn[Se-fe]===0&&ts(lt,h[Se])){kt=Se;break}kt===void 0?Me(lt,C,x,!0):(Kn[kt-fe]=R+1,kt>=Rt?Rt=kt:_t=!0,m(lt,h[kt],b,null,C,x,L,N,T),Ke++)}const Sl=_t?ch(Kn):Ln;for(Se=Sl.length-1,R=et-1;R>=0;R--){const lt=fe+R,kt=h[lt],wl=h[lt+1],El=lt+1<G?wl.el||wl.placeholder:E;Kn[R]===0?m(null,kt,b,El,C,x,L,N,T):_t&&(Se<0||R!==Sl[Se]?Fe(kt,b,El,2):Se--)}}},Fe=(d,h,b,E,C=null)=>{const{el:x,type:L,transition:N,children:T,shapeFlag:R}=d;if(R&6){Fe(d.component.subTree,h,b,E);return}if(R&128){d.suspense.move(h,b,E);return}if(R&64){L.move(d,h,b,hn);return}if(L===de){s(x,h,b);for(let B=0;B<T.length;B++)Fe(T[B],h,b,E);s(d.anchor,h,b);return}if(L===ni){P(d,h,b);return}if(E!==2&&R&1&&N)if(E===0)N.beforeEnter(x),s(x,h,b),at(()=>N.enter(x),C);else{const{leave:B,delayLeave:W,afterLeave:K}=N,fe=()=>{d.ctx.isUnmounted?i(x):s(x,h,b)},Ee=()=>{x._isLeaving&&x[Sf](!0),B(x,()=>{fe(),K&&K()})};W?W(x,fe,Ee):Ee()}else s(x,h,b)},Me=(d,h,b,E=!1,C=!1)=>{const{type:x,props:L,ref:N,children:T,dynamicChildren:R,shapeFlag:G,patchFlag:B,dirs:W,cacheIndex:K}=d;if(B===-2&&(C=!1),N!=null&&(qt(),hs(N,null,b,d,!0),Wt()),K!=null&&(h.renderCache[K]=void 0),G&256){h.ctx.deactivate(d);return}const fe=G&1&&W,Ee=!Bn(d);let Se;if(Ee&&(Se=L&&L.onVnodeBeforeUnmount)&&Ot(Se,h,d),G&6)On(d.component,b,E);else{if(G&128){d.suspense.unmount(b,E);return}fe&&pn(d,null,h,"beforeUnmount"),G&64?d.type.remove(d,h,b,hn,E):R&&!R.hasOnce&&(x!==de||B>0&&B&64)?xt(R,h,b,!1,!0):(x===de&&B&384||!C&&G&16)&&xt(T,h,b),E&&tn(d)}(Ee&&(Se=L&&L.onVnodeUnmounted)||fe)&&at(()=>{Se&&Ot(Se,h,d),fe&&pn(d,null,h,"unmounted")},b)},tn=d=>{const{type:h,el:b,anchor:E,transition:C}=d;if(h===de){nn(b,E);return}if(h===ni){_(d);return}const x=()=>{i(b),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(d.shapeFlag&1&&C&&!C.persisted){const{leave:L,delayLeave:N}=C,T=()=>L(b,x);N?N(d.el,x,T):T()}else x()},nn=(d,h)=>{let b;for(;d!==h;)b=g(d),i(d),d=b;i(h)},On=(d,h,b)=>{const{bum:E,scope:C,job:x,subTree:L,um:N,m:T,a:R}=d;Ll(T),Ll(R),E&&ti(E),C.stop(),x&&(x.flags|=8,Me(L,d,h,b)),N&&at(N,h),at(()=>{d.isUnmounted=!0},h)},xt=(d,h,b,E=!1,C=!1,x=0)=>{for(let L=x;L<d.length;L++)Me(d[L],h,b,E,C)},An=d=>{if(d.shapeFlag&6)return An(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const h=g(d.anchor||d.el),b=h&&h[vf];return b?g(b):h};let fn=!1;const zs=(d,h,b)=>{d==null?h._vnode&&Me(h._vnode,null,null,!0):m(h._vnode||null,d,h,null,null,null,b),h._vnode=d,fn||(fn=!0,Rl(),Ac(),fn=!1)},hn={p:m,um:Me,m:Fe,r:tn,mt:M,mc:z,pc:oe,pbc:j,n:An,o:e};return{render:zs,hydrate:void 0,createApp:Vf(zs)}}function vr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function gn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ah(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zc(e,t,n=!1){const s=e.children,i=t.children;if(Q(s)&&Q(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=ln(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Zc(o,l)),l.type===Xi&&l.patchFlag!==-1&&(l.el=o.el),l.type===Yt&&!l.el&&(l.el=o.el)}}function ch(e){const t=e.slice(),n=[0];let s,i,r,o,l;const a=e.length;for(s=0;s<a;s++){const u=e[s];if(u!==0){if(i=n[n.length-1],e[i]<u){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,e[n[l]]<u?r=l+1:o=l;u<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Kc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Kc(t)}function Ll(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const eu=e=>e.__isSuspense;function uh(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Oc(e)}const de=Symbol.for("v-fgt"),Xi=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),ni=Symbol.for("v-stc"),ms=[];let ct=null;function w(e=!1){ms.push(ct=e?null:[])}function dh(){ms.pop(),ct=ms[ms.length-1]||null}let ks=1;function Fl(e,t=!1){ks+=e,e<0&&ct&&t&&(ct.hasOnce=!0)}function tu(e){return e.dynamicChildren=ks>0?ct||Ln:null,dh(),ks>0&&ct&&ct.push(e),e}function O(e,t,n,s,i,r){return tu($(e,t,n,s,i,r,!0))}function ce(e,t,n,s,i){return tu(he(e,t,n,s,i,!0))}function Po(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const nu=({key:e})=>e??null,si=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||$e(e)||te(e)?{i:Ve,r:e,k:t,f:!!n}:e:null);function $(e,t=null,n=null,s=0,i=null,r=e===de?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nu(t),ref:t&&si(t),scopeId:Wi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ve};return l?(No(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=Le(n)?8:16),ks>0&&!o&&ct&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&ct.push(a),a}const he=fh;function fh(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===Dc)&&(e=Yt),Po(e)){const l=qn(e,t,!0);return n&&No(l,n),ks>0&&!r&&ct&&(l.shapeFlag&6?ct[ct.indexOf(e)]=l:ct.push(l)),l.patchFlag=-2,l}if(wh(e)&&(e=e.__vccOpts),t){t=hh(t);let{class:l,style:a}=t;l&&!Le(l)&&(t.class=De(l)),Ae(a)&&(Hi(a)&&!Q(a)&&(a=je({},a)),t.style=Bi(a))}const o=Le(e)?1:eu(e)?128:yf(e)?64:Ae(e)?4:te(e)?2:0;return $(e,t,n,s,i,o,r,!0)}function hh(e){return e?Hi(e)||Wc(e)?je({},e):e:null}function qn(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:a}=e,u=t?Wn(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&nu(u),ref:t&&t.ref?n&&r?Q(r)?r.concat(si(t)):[r,si(t)]:si(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qn(e.ssContent),ssFallback:e.ssFallback&&qn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&Ro(c,a.clone(c)),c}function Ce(e=" ",t=0){return he(Xi,null,e,t)}function X(e="",t=!1){return t?(w(),ce(Yt,null,e)):he(Yt,null,e)}function Tt(e){return e==null||typeof e=="boolean"?he(Yt):Q(e)?he(de,null,e.slice()):Po(e)?ln(e):he(Xi,null,String(e))}function ln(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qn(e)}function No(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),No(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Wc(t)?t._ctx=Ve:i===3&&Ve&&(Ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:Ve},n=32):(t=String(t),s&64?(n=16,t=[Ce(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wn(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=De([t.class,s.class]));else if(i==="style")t.style=Bi([t.style,s.style]);else if(Pi(i)){const r=t[i],o=s[i];o&&r!==o&&!(Q(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Ot(e,t,n,s=null){$t(e,t,7,[n,s])}const ph=Uc();let gh=0;function mh(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||ph,r={uid:gh++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yc(s,i),emitsOptions:Hc(s,i),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:s.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Yf.bind(null,r),e.ce&&e.ce(r),r}let qe=null;const Fs=()=>qe||Ve;let Ei,Xr;{const e=Mi(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Ei=t("__VUE_INSTANCE_SETTERS__",n=>qe=n),Xr=t("__VUE_SSR_SETTERS__",n=>Os=n)}const Ms=e=>{const t=qe;return Ei(e),e.scope.on(),()=>{e.scope.off(),Ei(t)}},Ml=()=>{qe&&qe.scope.off(),Ei(null)};function su(e){return e.vnode.shapeFlag&4}let Os=!1;function bh(e,t=!1,n=!1){t&&Xr(t);const{props:s,children:i}=e.vnode,r=su(e);eh(e,s,r,t),ih(e,i,n||t);const o=r?vh(e,t):void 0;return t&&Xr(!1),o}function vh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pf);const{setup:s}=n;if(s){qt();const i=e.setupContext=s.length>1?ru(e):null,r=Ms(e),o=Ps(s,e,0,[e.props,i]),l=ec(o);if(Wt(),r(),(l||e.sp)&&!Bn(e)&&Tc(e),l){if(o.then(Ml,Ml),t)return o.then(a=>{Bl(e,a)}).catch(a=>{qi(a,e,0)});e.asyncDep=o}else Bl(e,o)}else iu(e)}function Bl(e,t,n){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=_c(t)),iu(e)}function iu(e,t,n){const s=e.type;e.render||(e.render=s.render||bt);{const i=Ms(e);qt();try{Df(e)}finally{Wt(),i()}}}const yh={get(e,t){return ze(e,"get",""),e[t]}};function ru(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,yh),slots:e.slots,emit:e.emit,expose:t}}function Zi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_c(zi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ps)return ps[n](e)},has(t,n){return n in t||n in ps}})):e.proxy}function Sh(e,t=!0){return te(e)?e.displayName||e.name:e.name||t&&e.__name}function wh(e){return te(e)&&"__vccOpts"in e}const k=(e,t)=>uf(e,t,Os),Eh="3.5.25";let Zr;const Ul=typeof window<"u"&&window.trustedTypes;if(Ul)try{Zr=Ul.createPolicy("vue",{createHTML:e=>e})}catch{}const ou=Zr?e=>Zr.createHTML(e):e=>e,Ch="http://www.w3.org/2000/svg",xh="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,Vl=Lt&&Lt.createElement("template"),_h={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Lt.createElementNS(Ch,e):t==="mathml"?Lt.createElementNS(xh,e):n?Lt.createElement(e,{is:n}):Lt.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Vl.innerHTML=ou(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Vl.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Rh=Symbol("_vtc");function kh(e,t,n){const s=e[Rh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ci=Symbol("_vod"),lu=Symbol("_vsh"),Do={name:"show",beforeMount(e,{value:t},{transition:n}){e[Ci]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ns(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),ns(e,!0),s.enter(e)):s.leave(e,()=>{ns(e,!1)}):ns(e,t))},beforeUnmount(e,{value:t}){ns(e,t)}};function ns(e,t){e.style.display=t?e[Ci]:"none",e[lu]=!t}const au=Symbol("");function Lo(e){const t=Fs();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>xi(r,i))},s=()=>{const i=e(t.proxy);t.ce?xi(t.ce,i):Kr(t.subTree,i),n(i)};Nc(()=>{Oc(s)}),ko(()=>{Ut(s,bt,{flush:"post"});const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),Yi(()=>i.disconnect())})}function Kr(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Kr(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)xi(e.el,t);else if(e.type===de)e.children.forEach(n=>Kr(n,t));else if(e.type===ni){let{el:n,anchor:s}=e;for(;n&&(xi(n,t),n!==s);)n=n.nextSibling}}function xi(e,t){if(e.nodeType===1){const n=e.style;let s="";for(const i in t){const r=Pd(t[i]);n.setProperty(`--${i}`,r),s+=`--${i}: ${r};`}n[au]=s}}const Oh=/(?:^|;)\s*display\s*:/;function Ah(e,t,n){const s=e.style,i=Le(n);let r=!1;if(n&&!i){if(t)if(Le(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ii(s,l,"")}else for(const o in t)n[o]==null&&ii(s,o,"");for(const o in n)o==="display"&&(r=!0),ii(s,o,n[o])}else if(i){if(t!==n){const o=s[au];o&&(n+=";"+o),s.cssText=n,r=Oh.test(n)}}else t&&e.removeAttribute("style");Ci in e&&(e[Ci]=r?s.display:"",e[lu]&&(s.display="none"))}const jl=/\s*!important$/;function ii(e,t,n){if(Q(n))n.forEach(s=>ii(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Ih(e,t);jl.test(n)?e.setProperty(Qt(s),n.replace(jl,""),"important"):e[s]=n}}const Hl=["Webkit","Moz","ms"],yr={};function Ih(e,t){const n=yr[t];if(n)return n;let s=dt(t);if(s!=="filter"&&s in e)return yr[t]=s;s=Fi(s);for(let i=0;i<Hl.length;i++){const r=Hl[i]+s;if(r in e)return yr[t]=r}return t}const zl="http://www.w3.org/1999/xlink";function ql(e,t,n,s,i,r=$d(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zl,t.slice(6,t.length)):e.setAttributeNS(zl,t,n):n==null||r&&!ic(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Jt(n)?String(n):n)}function Wl(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ou(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ic(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Pn(e,t,n,s){e.addEventListener(t,n,s)}function Th(e,t,n,s){e.removeEventListener(t,n,s)}const Gl=Symbol("_vei");function $h(e,t,n,s,i=null){const r=e[Gl]||(e[Gl]={}),o=r[t];if(s&&o)o.value=s;else{const[l,a]=Ph(t);if(s){const u=r[t]=Lh(s,i);Pn(e,l,u,a)}else o&&(Th(e,l,o,a),r[t]=void 0)}}const Yl=/(?:Once|Passive|Capture)$/;function Ph(e){let t;if(Yl.test(e)){t={};let s;for(;s=e.match(Yl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qt(e.slice(2)),t]}let Sr=0;const Nh=Promise.resolve(),Dh=()=>Sr||(Nh.then(()=>Sr=0),Sr=Date.now());function Lh(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;$t(Fh(s,n.value),t,5,[s])};return n.value=e,n.attached=Dh(),n}function Fh(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Jl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Mh=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?kh(e,s,o):t==="style"?Ah(e,n,s):Pi(t)?bo(t)||$h(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bh(e,t,s,o))?(Wl(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ql(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Le(s))?Wl(e,dt(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ql(e,t,s,o))};function Bh(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Jl(t)&&te(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Jl(t)&&Le(n)?!1:t in e}const Ql=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?n=>ti(t,n):t};function Uh(e){e.target.composing=!0}function Xl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wr=Symbol("_assign");function Zl(e,t,n){return t&&(e=e.trim()),n&&(e=yo(e)),e}const Vh={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[wr]=Ql(i);const r=s||i.props&&i.props.type==="number";Pn(e,t?"change":"input",o=>{o.target.composing||e[wr](Zl(e.value,n,r))}),(n||r)&&Pn(e,"change",()=>{e.value=Zl(e.value,n,r)}),t||(Pn(e,"compositionstart",Uh),Pn(e,"compositionend",Xl),Pn(e,"change",Xl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[wr]=Ql(o),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?yo(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===a)||(e.value=a))}},jh=["ctrl","shift","alt","meta"],Hh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jh.some(n=>e[`${n}Key`]&&!t.includes(n))},_i=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((i,...r)=>{for(let o=0;o<t.length;o++){const l=Hh[t[o]];if(l&&l(i,t))return}return e(i,...r)}))},zh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},As=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=(i=>{if(!("key"in i))return;const r=Qt(i.key);if(t.some(o=>o===r||zh[o]===r))return e(i)}))},qh=je({patchProp:Mh},_h);let Kl;function Wh(){return Kl||(Kl=oh(qh))}const Gh=((...e)=>{const t=Wh().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Jh(s);if(!i)return;const r=t._component;!te(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Yh(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function Yh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Jh(e){return Le(e)?document.querySelector(e):e}function Qh(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let ri;function eo(){eo.init||(eo.init=!0,ri=Qh()!==-1)}var Ki={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){eo(),Ns(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",ri&&this.$el.appendChild(e),e.data="about:blank",ri||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!ri&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Xh=bf();gf("data-v-b329ee4c");const Zh={class:"resize-observer",tabindex:"-1"};mf();const Kh=Xh((e,t,n,s,i,r)=>(w(),ce("div",Zh)));Ki.render=Kh;Ki.__scopeId="data-v-b329ee4c";Ki.__file="src/components/ResizeObserver.vue";function oi(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oi=function(t){return typeof t}:oi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tp(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function np(e,t,n){return t&&tp(e.prototype,t),e}function ea(e){return sp(e)||ip(e)||rp(e)||op()}function sp(e){if(Array.isArray(e))return to(e)}function ip(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rp(e,t){if(e){if(typeof e=="string")return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return to(e,t)}}function to(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function op(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lp(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function ap(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,r,o=function(a){for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];if(r=c,!(s&&a===i)){var g=n.leading;typeof g=="function"&&(g=g(a,i)),(!s||a!==i)&&g&&e.apply(void 0,[a].concat(ea(r))),i=a,clearTimeout(s),s=setTimeout(function(){e.apply(void 0,[a].concat(ea(r))),s=0},t)}};return o._clear=function(){clearTimeout(s),s=null},o}function cu(e,t){if(e===t)return!0;if(oi(e)==="object"){for(var n in e)if(!cu(e[n],t[n]))return!1;return!0}return!1}var cp=(function(){function e(t,n,s){ep(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,s)}return np(e,[{key:"createObserver",value:function(n,s){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=lp(n),this.callback=function(l,a){i.options.callback(l,a),l&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var r=this.options.throttleOptions||{},o=r.leading;this.callback=ap(this.callback,this.options.throttle,{leading:function(a){return o==="both"||o==="visible"&&a||o==="hidden"&&!a}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(l){var a=l[0];if(l.length>1){var u=l.find(function(f){return f.isIntersecting});u&&(a=u)}if(i.callback){var c=a.isIntersecting&&a.intersectionRatio>=i.threshold;if(c===i.oldResult)return;i.oldResult=c,i.callback(c,a)}},this.options.intersection),Ns(function(){i.observer&&i.observer.observe(i.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e})();function uu(e,t,n){var s=t.value;if(s)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new cp(e,s,n);e._vue_visibilityState=i}}function up(e,t,n){var s=t.value,i=t.oldValue;if(!cu(s,i)){var r=e._vue_visibilityState;if(!s){du(e);return}r?r.createObserver(s,n):uu(e,{value:s},n)}}function du(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var dp={beforeMount:uu,updated:up,unmounted:du},fp={itemsLimit:1e3},hp=/(auto|scroll)/;function fu(e,t){return e.parentNode===null?t:fu(e.parentNode,t.concat([e]))}var Er=function(t,n){return getComputedStyle(t,null).getPropertyValue(n)},pp=function(t){return Er(t,"overflow")+Er(t,"overflow-y")+Er(t,"overflow-x")},gp=function(t){return hp.test(pp(t))};function ta(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=fu(e.parentNode,[]),n=0;n<t.length;n+=1)if(gp(t[n]))return t[n];return document.scrollingElement||document.documentElement}}function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}var mp={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function bp(){return this.items.length&&no(this.items[0])!=="object"}var so=!1;if(typeof window<"u"){so=!1;try{var vp=Object.defineProperty({},"passive",{get:function(){so=!0}});window.addEventListener("test",null,vp)}catch{}}let yp=0;var Fo={name:"RecycleScroller",components:{ResizeObserver:Ki},directives:{ObserveVisibility:dp},props:{...mp,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,s=this.minItemSize;let i=1e4,r=0,o;for(let l=0,a=t.length;l<a;l++)o=t[l][n]||s,o<i&&(i=o),r+=o,e[l]={accumulator:r,size:o};return this.$_computedMinItemSize=i,e}return[]},simpleArray:bp,itemIndexByKey(){const{keyField:e,items:t}=this,n={};for(let s=0,i=t.length;s<i;s++)n[t[s][e]]=s;return n}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,n,s,i){const r=zi({id:yp++,index:t,used:!0,key:s,type:i}),o=xc({item:n,position:0,nr:r});return e.push(o),o},unuseView(e,t=!1){const n=this.$_unusedViews,s=e.nr.type;let i=n.get(s);i||(i=[],n.set(s,i)),i.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:n}=this.updateVisibleItems(!1,!0);n||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const n=this.itemSize,s=this.gridItems||1,i=this.itemSecondarySize||n,r=this.$_computedMinItemSize,o=this.typeField,l=this.simpleArray?null:this.keyField,a=this.items,u=a.length,c=this.sizes,f=this.$_views,g=this.$_unusedViews,S=this.pool,p=this.itemIndexByKey;let m,y,A,I,P;if(!u)m=y=I=P=A=0;else if(this.$_prerender)m=I=0,y=P=Math.min(this.prerender,a.length),A=null;else{const j=this.getScroll();if(t){let re=j.start-this.$_lastUpdateScrollPosition;if(re<0&&(re=-re),n===null&&re<r||re<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=j.start;const le=this.buffer;j.start-=le,j.end+=le;let se=0;if(this.$refs.before&&(se=this.$refs.before.scrollHeight,j.start-=se),this.$refs.after){const re=this.$refs.after.scrollHeight;j.end+=re}if(n===null){let re,M=0,U=u-1,H=~~(u/2),ee;do ee=H,re=c[H].accumulator,re<j.start?M=H:H<u-1&&c[H+1].accumulator>j.start&&(U=H),H=~~((M+U)/2);while(H!==ee);for(H<0&&(H=0),m=H,A=c[u-1].accumulator,y=H;y<u&&c[y].accumulator<j.end;y++);for(y===-1?y=a.length-1:(y++,y>u&&(y=u)),I=m;I<u&&se+c[I].accumulator<j.start;I++);for(P=I;P<u&&se+c[P].accumulator<j.end;P++);}else{m=~~(j.start/n*s);const re=m%s;m-=re,y=Math.ceil(j.end/n*s),I=Math.max(0,Math.floor((j.start-se)/n*s)),P=Math.floor((j.end-se)/n*s),m<0&&(m=0),y>u&&(y=u),I<0&&(I=0),P>u&&(P=u),A=Math.ceil(u/s)*n}}y-m>fp.itemsLimit&&this.itemsLimitError(),this.totalSize=A;let _;const q=m<=this.$_endIndex&&y>=this.$_startIndex;if(q)for(let j=0,le=S.length;j<le;j++)_=S[j],_.nr.used&&(e&&(_.nr.index=p[_.item[l]]),(_.nr.index==null||_.nr.index<m||_.nr.index>=y)&&this.unuseView(_));const ke=q?null:new Map;let Z,z,Y;for(let j=m;j<y;j++){Z=a[j];const le=l?Z[l]:Z;if(le==null)throw new Error(`Key is ${le} on item (keyField is '${l}')`);if(_=f.get(le),!n&&!c[j].size){_&&this.unuseView(_);continue}z=Z[o];let se=g.get(z),re=!1;if(!_)q?se&&se.length?_=se.pop():_=this.addView(S,j,Z,le,z):(Y=ke.get(z)||0,(!se||Y>=se.length)&&(_=this.addView(S,j,Z,le,z),this.unuseView(_,!0),se=g.get(z)),_=se[Y],ke.set(z,Y+1)),f.delete(_.nr.key),_.nr.used=!0,_.nr.index=j,_.nr.key=le,_.nr.type=z,f.set(le,_),re=!0;else if(!_.nr.used&&(_.nr.used=!0,re=!0,se)){const M=se.indexOf(_);M!==-1&&se.splice(M,1)}_.item=Z,re&&(j===a.length-1&&this.$emit("scroll-end"),j===0&&this.$emit("scroll-start")),n===null?(_.position=c[j-1].accumulator,_.offset=0):(_.position=Math.floor(j/s)*n,_.offset=j%s*i)}return this.$_startIndex=m,this.$_endIndex=y,this.emitUpdate&&this.$emit("update",m,y,I,P),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:q}},getListenerTarget(){let e=ta(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,n=t==="vertical";let s;if(this.pageMode){const i=e.getBoundingClientRect(),r=n?i.height:i.width;let o=-(n?i.top:i.left),l=n?window.innerHeight:window.innerWidth;o<0&&(l+=o,o=0),o+l>r&&(l=r-o),s={start:o,end:o+l}}else n?s={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:s={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,so?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const n=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/n)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,s,i;if(this.pageMode){const r=ta(this.$el),o=r.tagName==="HTML"?0:r[t.scroll],l=r.getBoundingClientRect(),u=this.$el.getBoundingClientRect()[t.start]-l[t.start];n=r,s=t.scroll,i=e+o+u}else n=this.$el,s=t.scroll,i=e;n[s]=i},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};const Sp={key:0,ref:"before",class:"vue-recycle-scroller__slot"},wp={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Ep(e,t,n,s,i,r){const o=Ls("ResizeObserver"),l=$f("observe-visibility");return Ds((w(),O("div",{class:De(["vue-recycle-scroller",{ready:i.ready,"page-mode":n.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...a)=>r.handleScroll&&r.handleScroll(...a))},[e.$slots.before?(w(),O("div",Sp,[nt(e.$slots,"before")],512)):X("v-if",!0),(w(),ce(Ol(n.listTag),{ref:"wrapper",style:Bi({[e.direction==="vertical"?"minHeight":"minWidth"]:i.totalSize+"px"}),class:De(["vue-recycle-scroller__item-wrapper",n.listClass])},{default:Oe(()=>[(w(!0),O(de,null,Pt(i.pool,a=>(w(),ce(Ol(n.itemTag),Wn({key:a.nr.id,style:i.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${a.position}px) translate${e.direction==="vertical"?"X":"Y"}(${a.offset}px)`,width:n.gridItems?`${e.direction==="vertical"&&n.itemSecondarySize||n.itemSize}px`:void 0,height:n.gridItems?`${e.direction==="horizontal"&&n.itemSecondarySize||n.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[n.itemClass,{hover:!n.skipHover&&i.hoverKey===a.nr.key}]]},Rs(n.skipHover?{}:{mouseenter:()=>{i.hoverKey=a.nr.key},mouseleave:()=>{i.hoverKey=null}})),{default:Oe(()=>[nt(e.$slots,"default",{item:a.item,index:a.nr.index,active:a.nr.used})]),_:2},1040,["style","class"]))),128)),nt(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(w(),O("div",wp,[nt(e.$slots,"after")],512)):X("v-if",!0),he(o,{onNotify:r.handleResize},null,8,["onNotify"])],34)),[[l,r.handleVisibilityChange]])}Fo.render=Ep;Fo.__file="src/components/RecycleScroller.vue";let hu;const er=e=>hu=e,pu=Symbol();function io(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var bs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(bs||(bs={}));function Cp(){const e=ac(!0),t=e.run(()=>ie({}));let n=[],s=[];const i=zi({install(r){er(i),i._a=r,r.provide(pu,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const gu=()=>{};function na(e,t,n,s=gu){e.add(t);const i=()=>{e.delete(t)&&s()};return!n&&cc()&&Nd(i),i}function Tn(e,...t){e.forEach(n=>{n(...t)})}const xp=e=>e(),sa=Symbol(),Cr=Symbol();function ro(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];io(i)&&io(s)&&e.hasOwnProperty(n)&&!$e(s)&&!Ht(s)?e[n]=ro(i,s):e[n]=s}return e}const _p=Symbol();function Rp(e){return!io(e)||!Object.prototype.hasOwnProperty.call(e,_p)}const{assign:sn}=Object;function kp(e){return!!($e(e)&&e.effect)}function Op(e,t,n,s){const{state:i,actions:r,getters:o}=t,l=n.state.value[e];let a;function u(){l||(n.state.value[e]=i?i():{});const c=of(n.state.value[e]);return sn(c,r,Object.keys(o||{}).reduce((f,g)=>(f[g]=zi(k(()=>{er(n);const S=n._s.get(e);return o[g].call(S,S)})),f),{}))}return a=mu(e,u,t,n,s,!0),a}function mu(e,t,n={},s,i,r){let o;const l=sn({actions:{}},n),a={deep:!0};let u,c,f=new Set,g=new Set,S;const p=s.state.value[e];!r&&!p&&(s.state.value[e]={}),ie({});let m;function y(z){let Y;u=c=!1,typeof z=="function"?(z(s.state.value[e]),Y={type:bs.patchFunction,storeId:e,events:S}):(ro(s.state.value[e],z),Y={type:bs.patchObject,payload:z,storeId:e,events:S});const j=m=Symbol();Ns().then(()=>{m===j&&(u=!0)}),c=!0,Tn(f,Y,s.state.value[e])}const A=r?function(){const{state:Y}=n,j=Y?Y():{};this.$patch(le=>{sn(le,j)})}:gu;function I(){o.stop(),f.clear(),g.clear(),s._s.delete(e)}const P=(z,Y="")=>{if(sa in z)return z[Cr]=Y,z;const j=function(){er(s);const le=Array.from(arguments),se=new Set,re=new Set;function M(ee){se.add(ee)}function U(ee){re.add(ee)}Tn(g,{args:le,name:j[Cr],store:q,after:M,onError:U});let H;try{H=z.apply(this&&this.$id===e?this:q,le)}catch(ee){throw Tn(re,ee),ee}return H instanceof Promise?H.then(ee=>(Tn(se,ee),ee)).catch(ee=>(Tn(re,ee),Promise.reject(ee))):(Tn(se,H),H)};return j[sa]=!0,j[Cr]=Y,j},_={_p:s,$id:e,$onAction:na.bind(null,g),$patch:y,$reset:A,$subscribe(z,Y={}){const j=na(f,z,Y.detached,()=>le()),le=o.run(()=>Ut(()=>s.state.value[e],se=>{(Y.flush==="sync"?c:u)&&z({storeId:e,type:bs.direct,events:S},se)},sn({},a,Y)));return j},$dispose:I},q=ji(_);s._s.set(e,q);const Z=(s._a&&s._a.runWithContext||xp)(()=>s._e.run(()=>(o=ac()).run(()=>t({action:P}))));for(const z in Z){const Y=Z[z];if($e(Y)&&!kp(Y)||Ht(Y))r||(p&&Rp(Y)&&($e(Y)?Y.value=p[z]:ro(Y,p[z])),s.state.value[e][z]=Y);else if(typeof Y=="function"){const j=P(Y,z);Z[z]=j,l.actions[z]=Y}}return sn(q,Z),sn(pe(q),Z),Object.defineProperty(q,"$state",{get:()=>s.state.value[e],set:z=>{y(Y=>{sn(Y,z)})}}),s._p.forEach(z=>{sn(q,o.run(()=>z({store:q,app:s._a,pinia:s,options:l})))}),p&&r&&n.hydrate&&n.hydrate(q.$state,p),u=!0,c=!0,q}function bu(e,t,n){let s;const i=typeof t=="function";s=i?n:t;function r(o,l){const a=Hf();return o=o||(a?gs(pu,null):null),o&&er(o),o=hu,o._s.has(e)||(i?mu(e,t,s,o):Op(e,s,o)),o._s.get(e)}return r.$id=e,r}const cn=(function(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof self<"u")return self;if(typeof window<"u")return window;try{return new Function("return this")()}catch{return{}}})();cn.trustedTypes===void 0&&(cn.trustedTypes={createPolicy:(e,t)=>t});const vu={configurable:!1,enumerable:!1,writable:!1};cn.FAST===void 0&&Reflect.defineProperty(cn,"FAST",Object.assign({value:Object.create(null)},vu));const Is=cn.FAST;if(Is.getById===void 0){const e=Object.create(null);Reflect.defineProperty(Is,"getById",Object.assign({value(t,n){let s=e[t];return s===void 0&&(s=n?e[t]=n():null),s}},vu))}const vs=Object.freeze([]);function yu(){const e=new WeakMap;return function(t){let n=e.get(t);if(n===void 0){let s=Reflect.getPrototypeOf(t);for(;n===void 0&&s!==null;)n=e.get(s),s=Reflect.getPrototypeOf(s);n=n===void 0?[]:n.slice(0),e.set(t,n)}return n}}const xr=cn.FAST.getById(1,()=>{const e=[],t=[];function n(){if(t.length)throw t.shift()}function s(o){try{o.call()}catch(l){t.push(l),setTimeout(n,0)}}function i(){let l=0;for(;l<e.length;)if(s(e[l]),l++,l>1024){for(let a=0,u=e.length-l;a<u;a++)e[a]=e[a+l];e.length-=l,l=0}e.length=0}function r(o){e.length<1&&cn.requestAnimationFrame(i),e.push(o)}return Object.freeze({enqueue:r,process:i})}),Su=cn.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let _r=Su;const ys=`fast-${Math.random().toString(36).substring(2,8)}`,wu=`${ys}{`,Mo=`}${ys}`,ye=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(_r!==Su)throw new Error("The HTML policy can only be set once.");_r=e},createHTML(e){return _r.createHTML(e)},isMarker(e){return e&&e.nodeType===8&&e.data.startsWith(ys)},extractDirectiveIndexFromMarker(e){return parseInt(e.data.replace(`${ys}:`,""))},createInterpolationPlaceholder(e){return`${wu}${e}${Mo}`},createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder(e){return`<!--${ys}:${e}-->`},queueUpdate:xr.enqueue,processUpdates:xr.process,nextUpdate(){return new Promise(xr.enqueue)},setAttribute(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)},setBooleanAttribute(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;t!==null;t=e.firstChild)e.removeChild(t)},createTemplateWalker(e){return document.createTreeWalker(e,133,null,!1)}});class oo{constructor(t,n){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=n}has(t){return this.spillover===void 0?this.sub1===t||this.sub2===t:this.spillover.indexOf(t)!==-1}subscribe(t){const n=this.spillover;if(n===void 0){if(this.has(t))return;if(this.sub1===void 0){this.sub1=t;return}if(this.sub2===void 0){this.sub2=t;return}this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else n.indexOf(t)===-1&&n.push(t)}unsubscribe(t){const n=this.spillover;if(n===void 0)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}notify(t){const n=this.spillover,s=this.source;if(n===void 0){const i=this.sub1,r=this.sub2;i!==void 0&&i.handleChange(s,t),r!==void 0&&r.handleChange(s,t)}else for(let i=0,r=n.length;i<r;++i)n[i].handleChange(s,t)}}class Eu{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var n;const s=this.subscribers[t];s!==void 0&&s.notify(t),(n=this.sourceSubscribers)===null||n===void 0||n.notify(t)}subscribe(t,n){var s;if(n){let i=this.subscribers[n];i===void 0&&(this.subscribers[n]=i=new oo(this.source)),i.subscribe(t)}else this.sourceSubscribers=(s=this.sourceSubscribers)!==null&&s!==void 0?s:new oo(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,n){var s;if(n){const i=this.subscribers[n];i!==void 0&&i.unsubscribe(t)}else(s=this.sourceSubscribers)===null||s===void 0||s.unsubscribe(t)}}const be=Is.getById(2,()=>{const e=/(:|&&|\|\||if)/,t=new WeakMap,n=ye.queueUpdate;let s,i=u=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function r(u){let c=u.$fastController||t.get(u);return c===void 0&&(Array.isArray(u)?c=i(u):t.set(u,c=new Eu(u))),c}const o=yu();class l{constructor(c){this.name=c,this.field=`_${c}`,this.callback=`${c}Changed`}getValue(c){return s!==void 0&&s.watch(c,this.name),c[this.field]}setValue(c,f){const g=this.field,S=c[g];if(S!==f){c[g]=f;const p=c[this.callback];typeof p=="function"&&p.call(c,S,f),r(c).notify(this.name)}}}class a extends oo{constructor(c,f,g=!1){super(c,f),this.binding=c,this.isVolatileBinding=g,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(c,f){this.needsRefresh&&this.last!==null&&this.disconnect();const g=s;s=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const S=this.binding(c,f);return s=g,S}disconnect(){if(this.last!==null){let c=this.first;for(;c!==void 0;)c.notifier.unsubscribe(this,c.propertyName),c=c.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(c,f){const g=this.last,S=r(c),p=g===null?this.first:{};if(p.propertySource=c,p.propertyName=f,p.notifier=S,S.subscribe(this,f),g!==null){if(!this.needsRefresh){let m;s=void 0,m=g.propertySource[g.propertyName],s=this,c===m&&(this.needsRefresh=!0)}g.next=p}this.last=p}handleChange(){this.needsQueue&&(this.needsQueue=!1,n(this))}call(){this.last!==null&&(this.needsQueue=!0,this.notify(this))}records(){let c=this.first;return{next:()=>{const f=c;return f===void 0?{value:void 0,done:!0}:(c=c.next,{value:f,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(u){i=u},getNotifier:r,track(u,c){s!==void 0&&s.watch(u,c)},trackVolatile(){s!==void 0&&(s.needsRefresh=!0)},notify(u,c){r(u).notify(c)},defineProperty(u,c){typeof c=="string"&&(c=new l(c)),o(u).push(c),Reflect.defineProperty(u,c.name,{enumerable:!0,get:function(){return c.getValue(this)},set:function(f){c.setValue(this,f)}})},getAccessors:o,binding(u,c,f=this.isVolatileBinding(u)){return new a(u,c,f)},isVolatileBinding(u){return e.test(u.toString())}})});function we(e,t){be.defineProperty(e,t)}function Ap(e,t,n){return Object.assign({},n,{get:function(){return be.trackVolatile(),n.get.apply(this)}})}const ia=Is.getById(3,()=>{let e=null;return{get(){return e},set(t){e=t}}});class Ts{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return ia.get()}get isEven(){return this.index%2===0}get isOdd(){return this.index%2!==0}get isFirst(){return this.index===0}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){ia.set(t)}}be.defineProperty(Ts.prototype,"index");be.defineProperty(Ts.prototype,"length");const Ss=Object.seal(new Ts);class Bo{constructor(){this.targetIndex=0}}class Cu extends Bo{constructor(){super(...arguments),this.createPlaceholder=ye.createInterpolationPlaceholder}}class xu extends Bo{constructor(t,n,s){super(),this.name=t,this.behavior=n,this.options=s}createPlaceholder(t){return ye.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function Ip(e,t){this.source=e,this.context=t,this.bindingObserver===null&&(this.bindingObserver=be.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function Tp(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function $p(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Pp(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;e!==void 0&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function Np(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Dp(e){ye.setAttribute(this.target,this.targetName,e)}function Lp(e){ye.setBooleanAttribute(this.target,this.targetName,e)}function Fp(e){if(e==null&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;t===void 0?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;t!==void 0&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function Mp(e){this.target[this.targetName]=e}function Bp(e){const t=this.classVersions||Object.create(null),n=this.target;let s=this.version||0;if(e!=null&&e.length){const i=e.split(/\s+/);for(let r=0,o=i.length;r<o;++r){const l=i[r];l!==""&&(t[l]=s,n.classList.add(l))}}if(this.classVersions=t,this.version=s+1,s!==0){s-=1;for(const i in t)t[i]===s&&n.classList.remove(i)}}class Uo extends Cu{constructor(t){super(),this.binding=t,this.bind=Ip,this.unbind=$p,this.updateTarget=Dp,this.isBindingVolatile=be.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,t!==void 0)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Mp,this.cleanedTargetName==="innerHTML"){const n=this.binding;this.binding=(s,i)=>ye.createHTML(n(s,i))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=Lp;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=Tp,this.unbind=Np;break;default:this.cleanedTargetName=t,t==="class"&&(this.updateTarget=Bp);break}}targetAtContent(){this.updateTarget=Fp,this.unbind=Pp}createBehavior(t){return new Up(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Up{constructor(t,n,s,i,r,o,l){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=n,this.isBindingVolatile=s,this.bind=i,this.unbind=r,this.updateTarget=o,this.targetName=l}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){Ts.setEvent(t);const n=this.binding(this.source,this.context);Ts.setEvent(null),n!==!0&&t.preventDefault()}}let Rr=null;class Vo{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){Rr=this}static borrow(t){const n=Rr||new Vo;return n.directives=t,n.reset(),Rr=null,n}}function Vp(e){if(e.length===1)return e[0];let t;const n=e.length,s=e.map(o=>typeof o=="string"?()=>o:(t=o.targetName||t,o.binding)),i=(o,l)=>{let a="";for(let u=0;u<n;++u)a+=s[u](o,l);return a},r=new Uo(i);return r.targetName=t,r}const jp=Mo.length;function _u(e,t){const n=t.split(wu);if(n.length===1)return null;const s=[];for(let i=0,r=n.length;i<r;++i){const o=n[i],l=o.indexOf(Mo);let a;if(l===-1)a=o;else{const u=parseInt(o.substring(0,l));s.push(e.directives[u]),a=o.substring(l+jp)}a!==""&&s.push(a)}return s}function ra(e,t,n=!1){const s=t.attributes;for(let i=0,r=s.length;i<r;++i){const o=s[i],l=o.value,a=_u(e,l);let u=null;a===null?n&&(u=new Uo(()=>l),u.targetName=o.name):u=Vp(a),u!==null&&(t.removeAttributeNode(o),i--,r--,e.addFactory(u))}}function Hp(e,t,n){const s=_u(e,t.textContent);if(s!==null){let i=t;for(let r=0,o=s.length;r<o;++r){const l=s[r],a=r===0?t:i.parentNode.insertBefore(document.createTextNode(""),i.nextSibling);typeof l=="string"?a.textContent=l:(a.textContent=" ",e.captureContentBinding(l)),i=a,e.targetIndex++,a!==t&&n.nextNode()}e.targetIndex--}}function zp(e,t){const n=e.content;document.adoptNode(n);const s=Vo.borrow(t);ra(s,e,!0);const i=s.behaviorFactories;s.reset();const r=ye.createTemplateWalker(n);let o;for(;o=r.nextNode();)switch(s.targetIndex++,o.nodeType){case 1:ra(s,o);break;case 3:Hp(s,o,r);break;case 8:ye.isMarker(o)&&s.addFactory(t[ye.extractDirectiveIndexFromMarker(o)])}let l=0;(ye.isMarker(n.firstChild)||n.childNodes.length===1&&t.length)&&(n.insertBefore(document.createComment(""),n.firstChild),l=-1);const a=s.behaviorFactories;return s.release(),{fragment:n,viewBehaviorFactories:a,hostBehaviorFactories:i,targetOffset:l}}const kr=document.createRange();class qp{constructor(t,n){this.fragment=t,this.behaviors=n,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const n=this.lastChild;if(t.previousSibling===n)return;const s=t.parentNode;let i=this.firstChild,r;for(;i!==n;)r=i.nextSibling,s.insertBefore(i,t),i=r;s.insertBefore(n,t)}}remove(){const t=this.fragment,n=this.lastChild;let s=this.firstChild,i;for(;s!==n;)i=s.nextSibling,t.appendChild(s),s=i;t.appendChild(n)}dispose(){const t=this.firstChild.parentNode,n=this.lastChild;let s=this.firstChild,i;for(;s!==n;)i=s.nextSibling,t.removeChild(s),s=i;t.removeChild(n);const r=this.behaviors,o=this.source;for(let l=0,a=r.length;l<a;++l)r[l].unbind(o)}bind(t,n){const s=this.behaviors;if(this.source!==t)if(this.source!==null){const i=this.source;this.source=t,this.context=n;for(let r=0,o=s.length;r<o;++r){const l=s[r];l.unbind(i),l.bind(t,n)}}else{this.source=t,this.context=n;for(let i=0,r=s.length;i<r;++i)s[i].bind(t,n)}}unbind(){if(this.source===null)return;const t=this.behaviors,n=this.source;for(let s=0,i=t.length;s<i;++s)t[s].unbind(n);this.source=null}static disposeContiguousBatch(t){if(t.length!==0){kr.setStartBefore(t[0].firstChild),kr.setEndAfter(t[t.length-1].lastChild),kr.deleteContents();for(let n=0,s=t.length;n<s;++n){const i=t[n],r=i.behaviors,o=i.source;for(let l=0,a=r.length;l<a;++l)r[l].unbind(o)}}}}class oa{constructor(t,n){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=n}create(t){if(this.fragment===null){let u;const c=this.html;if(typeof c=="string"){u=document.createElement("template"),u.innerHTML=ye.createHTML(c);const g=u.content.firstElementChild;g!==null&&g.tagName==="TEMPLATE"&&(u=g)}else u=c;const f=zp(u,this.directives);this.fragment=f.fragment,this.viewBehaviorFactories=f.viewBehaviorFactories,this.hostBehaviorFactories=f.hostBehaviorFactories,this.targetOffset=f.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const n=this.fragment.cloneNode(!0),s=this.viewBehaviorFactories,i=new Array(this.behaviorCount),r=ye.createTemplateWalker(n);let o=0,l=this.targetOffset,a=r.nextNode();for(let u=s.length;o<u;++o){const c=s[o],f=c.targetIndex;for(;a!==null;)if(l===f){i[o]=c.createBehavior(a);break}else a=r.nextNode(),l++}if(this.hasHostBehaviors){const u=this.hostBehaviorFactories;for(let c=0,f=u.length;c<f;++c,++o)i[o]=u[c].createBehavior(t)}return new qp(n,i)}render(t,n,s){typeof n=="string"&&(n=document.getElementById(n)),s===void 0&&(s=n);const i=this.create(s);return i.bind(t,Ss),i.appendTo(n),i}}const Wp=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function pt(e,...t){const n=[];let s="";for(let i=0,r=e.length-1;i<r;++i){const o=e[i];let l=t[i];if(s+=o,l instanceof oa){const a=l;l=()=>a}if(typeof l=="function"&&(l=new Uo(l)),l instanceof Cu){const a=Wp.exec(o);a!==null&&(l.targetName=a[2])}l instanceof Bo?(s+=l.createPlaceholder(n.length),n.push(l)):s+=l}return s+=e[e.length-1],new oa(s,n)}class st{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=this.behaviors===null?t:this.behaviors.concat(t),this}}st.create=(()=>{if(ye.supportsAdoptedStyleSheets){const e=new Map;return t=>new Gp(t,e)}return e=>new Qp(e)})();function jo(e){return e.map(t=>t instanceof st?jo(t.styles):[t]).reduce((t,n)=>t.concat(n),[])}function Ru(e){return e.map(t=>t instanceof st?t.behaviors:null).reduce((t,n)=>n===null?t:(t===null&&(t=[]),t.concat(n)),null)}const ku=Symbol("prependToAdoptedStyleSheets");function Ou(e){const t=[],n=[];return e.forEach(s=>(s[ku]?t:n).push(s)),{prepend:t,append:n}}let Au=(e,t)=>{const{prepend:n,append:s}=Ou(t);e.adoptedStyleSheets=[...n,...e.adoptedStyleSheets,...s]},Iu=(e,t)=>{e.adoptedStyleSheets=e.adoptedStyleSheets.filter(n=>t.indexOf(n)===-1)};if(ye.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),Au=(e,t)=>{const{prepend:n,append:s}=Ou(t);e.adoptedStyleSheets.splice(0,0,...n),e.adoptedStyleSheets.push(...s)},Iu=(e,t)=>{for(const n of t){const s=e.adoptedStyleSheets.indexOf(n);s!==-1&&e.adoptedStyleSheets.splice(s,1)}}}catch{}class Gp extends st{constructor(t,n){super(),this.styles=t,this.styleSheetCache=n,this._styleSheets=void 0,this.behaviors=Ru(t)}get styleSheets(){if(this._styleSheets===void 0){const t=this.styles,n=this.styleSheetCache;this._styleSheets=jo(t).map(s=>{if(s instanceof CSSStyleSheet)return s;let i=n.get(s);return i===void 0&&(i=new CSSStyleSheet,i.replaceSync(s),n.set(s,i)),i})}return this._styleSheets}addStylesTo(t){Au(t,this.styleSheets),super.addStylesTo(t)}removeStylesFrom(t){Iu(t,this.styleSheets),super.removeStylesFrom(t)}}let Yp=0;function Jp(){return`fast-style-class-${++Yp}`}class Qp extends st{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=Ru(t),this.styleSheets=jo(t),this.styleClass=Jp()}addStylesTo(t){const n=this.styleSheets,s=this.styleClass;t=this.normalizeTarget(t);for(let i=0;i<n.length;i++){const r=document.createElement("style");r.innerHTML=n[i],r.className=s,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){t=this.normalizeTarget(t);const n=t.querySelectorAll(`.${this.styleClass}`);for(let s=0,i=n.length;s<i;++s)t.removeChild(n[s]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const Ri=Object.freeze({locate:yu()}),Xp={toView(e){return e?"true":"false"},fromView(e){return!(e==null||e==="false"||e===!1||e===0)}},tr={toView(e){if(e==null)return null;const t=e*1;return isNaN(t)?null:t.toString()},fromView(e){if(e==null)return null;const t=e*1;return isNaN(t)?null:t}};class ki{constructor(t,n,s=n.toLowerCase(),i="reflect",r){this.guards=new Set,this.Owner=t,this.name=n,this.attribute=s,this.mode=i,this.converter=r,this.fieldName=`_${n}`,this.callbackName=`${n}Changed`,this.hasCallback=this.callbackName in t.prototype,i==="boolean"&&r===void 0&&(this.converter=Xp)}setValue(t,n){const s=t[this.fieldName],i=this.converter;i!==void 0&&(n=i.fromView(n)),s!==n&&(t[this.fieldName]=n,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](s,n),t.$fastController.notify(this.name))}getValue(t){return be.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,n){this.guards.has(t)||(this.guards.add(t),this.setValue(t,n),this.guards.delete(t))}tryReflectToAttribute(t){const n=this.mode,s=this.guards;s.has(t)||n==="fromView"||ye.queueUpdate(()=>{s.add(t);const i=t[this.fieldName];switch(n){case"reflect":const r=this.converter;ye.setAttribute(t,this.attribute,r!==void 0?r.toView(i):i);break;case"boolean":ye.setBooleanAttribute(t,this.attribute,i);break}s.delete(t)})}static collect(t,...n){const s=[];n.push(Ri.locate(t));for(let i=0,r=n.length;i<r;++i){const o=n[i];if(o!==void 0)for(let l=0,a=o.length;l<a;++l){const u=o[l];typeof u=="string"?s.push(new ki(t,u)):s.push(new ki(t,u.property,u.attribute,u.mode,u.converter))}}return s}}function J(e,t){let n;function s(i,r){arguments.length>1&&(n.property=r),Ri.locate(i.constructor).push(n)}if(arguments.length>1){n={},s(e,t);return}return n=e===void 0?{}:e,s}const la={mode:"open"},aa={},lo=Is.getById(4,()=>{const e=new Map;return Object.freeze({register(t){return e.has(t.type)?!1:(e.set(t.type,t),!0)},getByType(t){return e.get(t)}})});class nr{constructor(t,n=t.definition){typeof n=="string"&&(n={name:n}),this.type=t,this.name=n.name,this.template=n.template;const s=ki.collect(t,n.attributes),i=new Array(s.length),r={},o={};for(let l=0,a=s.length;l<a;++l){const u=s[l];i[l]=u.attribute,r[u.name]=u,o[u.attribute]=u}this.attributes=s,this.observedAttributes=i,this.propertyLookup=r,this.attributeLookup=o,this.shadowOptions=n.shadowOptions===void 0?la:n.shadowOptions===null?void 0:Object.assign(Object.assign({},la),n.shadowOptions),this.elementOptions=n.elementOptions===void 0?aa:Object.assign(Object.assign({},aa),n.elementOptions),this.styles=n.styles===void 0?void 0:Array.isArray(n.styles)?st.create(n.styles):n.styles instanceof st?n.styles:st.create([n.styles])}get isDefined(){return!!lo.getByType(this.type)}define(t=customElements){const n=this.type;if(lo.register(this)){const s=this.attributes,i=n.prototype;for(let r=0,o=s.length;r<o;++r)be.defineProperty(i,s[r]);Reflect.defineProperty(n,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,n,this.elementOptions),this}}nr.forType=lo.getByType;const Tu=new WeakMap,Zp={bubbles:!0,composed:!0,cancelable:!0};function Or(e){return e.shadowRoot||Tu.get(e)||null}class Ho extends Eu{constructor(t,n){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=n;const s=n.shadowOptions;if(s!==void 0){const r=t.attachShadow(s);s.mode==="closed"&&Tu.set(t,r)}const i=be.getAccessors(t);if(i.length>0){const r=this.boundObservables=Object.create(null);for(let o=0,l=i.length;o<l;++o){const a=i[o].name,u=t[a];u!==void 0&&(delete t[a],r[a]=u)}}}get isConnected(){return be.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,be.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(this._styles!==null&&this.removeStyles(this._styles),this._styles=t,!this.needsInitialization&&t!==null&&this.addStyles(t))}addStyles(t){const n=Or(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)n.append(t);else if(!t.isAttachedTo(n)){const s=t.behaviors;t.addStylesTo(n),s!==null&&this.addBehaviors(s)}}removeStyles(t){const n=Or(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)n.removeChild(t);else if(t.isAttachedTo(n)){const s=t.behaviors;t.removeStylesFrom(n),s!==null&&this.removeBehaviors(s)}}addBehaviors(t){const n=this.behaviors||(this.behaviors=new Map),s=t.length,i=[];for(let r=0;r<s;++r){const o=t[r];n.has(o)?n.set(o,n.get(o)+1):(n.set(o,1),i.push(o))}if(this._isConnected){const r=this.element;for(let o=0;o<i.length;++o)i[o].bind(r,Ss)}}removeBehaviors(t,n=!1){const s=this.behaviors;if(s===null)return;const i=t.length,r=[];for(let o=0;o<i;++o){const l=t[o];if(s.has(l)){const a=s.get(l)-1;a===0||n?s.delete(l)&&r.push(l):s.set(l,a)}}if(this._isConnected){const o=this.element;for(let l=0;l<r.length;++l)r[l].unbind(o)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():this.view!==null&&this.view.bind(t,Ss);const n=this.behaviors;if(n!==null)for(const[s]of n)s.bind(t,Ss);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;t!==null&&t.unbind();const n=this.behaviors;if(n!==null){const s=this.element;for(const[i]of n)i.unbind(s)}}onAttributeChangedCallback(t,n,s){const i=this.definition.attributeLookup[t];i!==void 0&&i.onAttributeChangedCallback(this.element,s)}emit(t,n,s){return this._isConnected?this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:n},Zp),s))):!1}finishInitialization(){const t=this.element,n=this.boundObservables;if(n!==null){const i=Object.keys(n);for(let r=0,o=i.length;r<o;++r){const l=i[r];t[l]=n[l]}this.boundObservables=null}const s=this.definition;this._template===null&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():s.template&&(this._template=s.template||null)),this._template!==null&&this.renderTemplate(this._template),this._styles===null&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():s.styles&&(this._styles=s.styles||null)),this._styles!==null&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const n=this.element,s=Or(n)||n;this.view!==null?(this.view.dispose(),this.view=null):this.needsInitialization||ye.removeChildNodes(s),t&&(this.view=t.render(n,s,n))}static forCustomElement(t){const n=t.$fastController;if(n!==void 0)return n;const s=nr.forType(t.constructor);if(s===void 0)throw new Error("Missing FASTElement definition.");return t.$fastController=new Ho(t,s)}}function ca(e){return class extends e{constructor(){super(),Ho.forCustomElement(this)}$emit(t,n,s){return this.$fastController.emit(t,n,s)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,n,s){this.$fastController.onAttributeChangedCallback(t,n,s)}}}const sr=Object.assign(ca(HTMLElement),{from(e){return ca(e)},define(e,t){return new nr(e,t).define().type}});class $u{createCSS(){return""}createBehavior(){}}function Kp(e,t){const n=[];let s="";const i=[];for(let r=0,o=e.length-1;r<o;++r){s+=e[r];let l=t[r];if(l instanceof $u){const a=l.createBehavior();l=l.createCSS(),a&&i.push(a)}l instanceof st||l instanceof CSSStyleSheet?(s.trim()!==""&&(n.push(s),s=""),n.push(l)):s+=l}return s+=e[e.length-1],s.trim()!==""&&n.push(s),{styles:n,behaviors:i}}function Zt(e,...t){const{styles:n,behaviors:s}=Kp(e,t),i=st.create(n);return s.length&&i.withBehaviors(...s),i}class eg{constructor(t,n){this.target=t,this.propertyName=n}bind(t){t[this.propertyName]=this.target}unbind(){}}function St(e){return new xu("fast-ref",eg,e)}const Pu=e=>typeof e=="function",tg=()=>null;function ua(e){return e===void 0?tg:Pu(e)?e:()=>e}function Nu(e,t,n){const s=Pu(e)?e:()=>e,i=ua(t),r=ua(n);return(o,l)=>s(o,l)?i(o,l):r(o,l)}class ng{constructor(t,n){this.target=t,this.options=n,this.source=null}bind(t){const n=this.options.property;this.shouldUpdate=be.getAccessors(t).some(s=>s.name===n),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(vs),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return this.options.filter!==void 0&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}class sg extends ng{constructor(t,n){super(t,n)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function zo(e){return typeof e=="string"&&(e={property:e}),new xu("fast-slotted",sg,e)}class qo{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const Wo=(e,t)=>pt`
    <span
        part="end"
        ${St("endContainer")}
        class=${n=>t.end?"end":void 0}
    >
        <slot name="end" ${St("end")} @slotchange="${n=>n.handleEndContentChange()}">
            ${t.end||""}
        </slot>
    </span>
`,Go=(e,t)=>pt`
    <span
        part="start"
        ${St("startContainer")}
        class="${n=>t.start?"start":void 0}"
    >
        <slot
            name="start"
            ${St("start")}
            @slotchange="${n=>n.handleStartContentChange()}"
        >
            ${t.start||""}
        </slot>
    </span>
`;pt`
    <span part="end" ${St("endContainer")}>
        <slot
            name="end"
            ${St("end")}
            @slotchange="${e=>e.handleEndContentChange()}"
        ></slot>
    </span>
`;pt`
    <span part="start" ${St("startContainer")}>
        <slot
            name="start"
            ${St("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        ></slot>
    </span>
`;function F(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}const Ar=new Map;"metadata"in Reflect||(Reflect.metadata=function(e,t){return function(n){Reflect.defineMetadata(e,t,n)}},Reflect.defineMetadata=function(e,t,n){let s=Ar.get(n);s===void 0&&Ar.set(n,s=new Map),s.set(e,t)},Reflect.getOwnMetadata=function(e,t){const n=Ar.get(t);if(n!==void 0)return n.get(e)});class ig{constructor(t,n){this.container=t,this.key=n}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,Lu(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,n){const{container:s,key:i}=this;return this.container=this.key=void 0,s.registerResolver(i,new ht(i,t,n))}}function ss(e){const t=e.slice(),n=Object.keys(e),s=n.length;let i;for(let r=0;r<s;++r)i=n[r],Fu(i)||(t[i]=e[i]);return t}const rg=Object.freeze({none(e){throw Error(`${e.toString()} not registered, did you forget to add @singleton()?`)},singleton(e){return new ht(e,1,e)},transient(e){return new ht(e,2,e)}}),Ir=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:rg.singleton})}),da=new Map;function fa(e){return t=>Reflect.getOwnMetadata(e,t)}let ha=null;const Te=Object.freeze({createContainer(e){return new ws(null,Object.assign({},Ir.default,e))},findResponsibleContainer(e){const t=e.$$container$$;return t&&t.responsibleForOwnerRequests?t:Te.findParentContainer(e)},findParentContainer(e){const t=new CustomEvent(Du,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return e.dispatchEvent(t),t.detail.container||Te.getOrCreateDOMContainer()},getOrCreateDOMContainer(e,t){return e?e.$$container$$||new ws(e,Object.assign({},Ir.default,t,{parentLocator:Te.findParentContainer})):ha||(ha=new ws(null,Object.assign({},Ir.default,t,{parentLocator:()=>null})))},getDesignParamtypes:fa("design:paramtypes"),getAnnotationParamtypes:fa("di:paramtypes"),getOrCreateAnnotationParamTypes(e){let t=this.getAnnotationParamtypes(e);return t===void 0&&Reflect.defineMetadata("di:paramtypes",t=[],e),t},getDependencies(e){let t=da.get(e);if(t===void 0){const n=e.inject;if(n===void 0){const s=Te.getDesignParamtypes(e),i=Te.getAnnotationParamtypes(e);if(s===void 0)if(i===void 0){const r=Object.getPrototypeOf(e);typeof r=="function"&&r!==Function.prototype?t=ss(Te.getDependencies(r)):t=[]}else t=ss(i);else if(i===void 0)t=ss(s);else{t=ss(s);let r=i.length,o;for(let u=0;u<r;++u)o=i[u],o!==void 0&&(t[u]=o);const l=Object.keys(i);r=l.length;let a;for(let u=0;u<r;++u)a=l[u],Fu(a)||(t[a]=i[a])}}else t=ss(n);da.set(e,t)}return t},defineProperty(e,t,n,s=!1){const i=`$di_${t}`;Reflect.defineProperty(e,t,{get:function(){let r=this[i];if(r===void 0&&(r=(this instanceof HTMLElement?Te.findResponsibleContainer(this):Te.getOrCreateDOMContainer()).get(n),this[i]=r,s&&this instanceof sr)){const l=this.$fastController,a=()=>{const c=Te.findResponsibleContainer(this).get(n),f=this[i];c!==f&&(this[i]=r,l.notify(t))};l.subscribe({handleChange:a},"isConnected")}return r}})},createInterface(e,t){const n=typeof e=="function"?e:t,s=typeof e=="string"?e:e&&"friendlyName"in e&&e.friendlyName||ba,i=typeof e=="string"?!1:e&&"respectConnection"in e&&e.respectConnection||!1,r=function(o,l,a){if(o==null||new.target!==void 0)throw new Error(`No registration for interface: '${r.friendlyName}'`);if(l)Te.defineProperty(o,l,r,i);else{const u=Te.getOrCreateAnnotationParamTypes(o);u[a]=r}};return r.$isInterface=!0,r.friendlyName=s??"(anonymous)",n!=null&&(r.register=function(o,l){return n(new ig(o,l??r))}),r.toString=function(){return`InterfaceSymbol<${r.friendlyName}>`},r},inject(...e){return function(t,n,s){if(typeof s=="number"){const i=Te.getOrCreateAnnotationParamTypes(t),r=e[0];r!==void 0&&(i[s]=r)}else if(n)Te.defineProperty(t,n,e[0]);else{const i=s?Te.getOrCreateAnnotationParamTypes(s.value):Te.getOrCreateAnnotationParamTypes(t);let r;for(let o=0;o<e.length;++o)r=e[o],r!==void 0&&(i[o]=r)}}},transient(e){return e.register=function(n){return $s.transient(e,e).register(n)},e.registerInRequestor=!1,e},singleton(e,t=lg){return e.register=function(s){return $s.singleton(e,e).register(s)},e.registerInRequestor=t.scoped,e}}),og=Te.createInterface("Container");Te.inject;const lg={scoped:!1};class ht{constructor(t,n,s){this.key=t,this.strategy=n,this.state=s,this.resolving=!1}get $isResolver(){return!0}register(t){return t.registerResolver(this.key,this)}resolve(t,n){switch(this.strategy){case 0:return this.state;case 1:{if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(n),this.strategy=0,this.resolving=!1,this.state}case 2:{const s=t.getFactory(this.state);if(s===null)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return s.construct(n)}case 3:return this.state(t,n,this);case 4:return this.state[0].resolve(t,n);case 5:return n.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var n,s,i;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return(i=(s=(n=t.getResolver(this.state))===null||n===void 0?void 0:n.getFactory)===null||s===void 0?void 0:s.call(n,t))!==null&&i!==void 0?i:null;default:return null}}}function pa(e){return this.get(e)}function ag(e,t){return t(e)}class cg{constructor(t,n){this.Type=t,this.dependencies=n,this.transformers=null}construct(t,n){let s;return n===void 0?s=new this.Type(...this.dependencies.map(pa,t)):s=new this.Type(...this.dependencies.map(pa,t),...n),this.transformers==null?s:this.transformers.reduce(ag,s)}registerTransformer(t){(this.transformers||(this.transformers=[])).push(t)}}const ug={$isResolver:!0,resolve(e,t){return t}};function li(e){return typeof e.register=="function"}function dg(e){return li(e)&&typeof e.registerInRequestor=="boolean"}function ga(e){return dg(e)&&e.registerInRequestor}function fg(e){return e.prototype!==void 0}const hg=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),Du="__DI_LOCATE_PARENT__",Tr=new Map;class ws{constructor(t,n){this.owner=t,this.config=n,this._parent=void 0,this.registerDepth=0,this.context=null,t!==null&&(t.$$container$$=this),this.resolvers=new Map,this.resolvers.set(og,ug),t instanceof Node&&t.addEventListener(Du,s=>{s.composedPath()[0]!==this.owner&&(s.detail.container=this,s.stopImmediatePropagation())})}get parent(){return this._parent===void 0&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return this.parent===null?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(t,...n){return this.context=t,this.register(...n),this.context=null,this}register(...t){if(++this.registerDepth===100)throw new Error("Unable to autoregister dependency");let n,s,i,r,o;const l=this.context;for(let a=0,u=t.length;a<u;++a)if(n=t[a],!!va(n))if(li(n))n.register(this,l);else if(fg(n))$s.singleton(n,n).register(this);else for(s=Object.keys(n),r=0,o=s.length;r<o;++r)i=n[s[r]],va(i)&&(li(i)?i.register(this,l):this.register(i));return--this.registerDepth,this}registerResolver(t,n){Ys(t);const s=this.resolvers,i=s.get(t);return i==null?s.set(t,n):i instanceof ht&&i.strategy===4?i.state.push(n):s.set(t,new ht(t,4,[i,n])),n}registerTransformer(t,n){const s=this.getResolver(t);if(s==null)return!1;if(s.getFactory){const i=s.getFactory(this);return i==null?!1:(i.registerTransformer(n),!0)}return!1}getResolver(t,n=!0){if(Ys(t),t.resolve!==void 0)return t;let s=this,i;for(;s!=null;)if(i=s.resolvers.get(t),i==null){if(s.parent==null){const r=ga(t)?this:s;return n?this.jitRegister(t,r):null}s=s.parent}else return i;return null}has(t,n=!1){return this.resolvers.has(t)?!0:n&&this.parent!=null?this.parent.has(t,!0):!1}get(t){if(Ys(t),t.$isResolver)return t.resolve(this,this);let n=this,s;for(;n!=null;)if(s=n.resolvers.get(t),s==null){if(n.parent==null){const i=ga(t)?this:n;return s=this.jitRegister(t,i),s.resolve(n,this)}n=n.parent}else return s.resolve(n,this);throw new Error(`Unable to resolve key: ${String(t)}`)}getAll(t,n=!1){Ys(t);const s=this;let i=s,r;if(n){let o=vs;for(;i!=null;)r=i.resolvers.get(t),r!=null&&(o=o.concat(ma(r,i,s))),i=i.parent;return o}else for(;i!=null;)if(r=i.resolvers.get(t),r==null){if(i=i.parent,i==null)return vs}else return ma(r,i,s);return vs}getFactory(t){let n=Tr.get(t);if(n===void 0){if(pg(t))throw new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);Tr.set(t,n=new cg(t,Te.getDependencies(t)))}return n}registerFactory(t,n){Tr.set(t,n)}createChild(t){return new ws(null,Object.assign({},this.config,t,{parentLocator:()=>this}))}jitRegister(t,n){if(typeof t!="function")throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this dependency?`);if(hg.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`);if(li(t)){const s=t.register(n);if(!(s instanceof Object)||s.resolve==null){const i=n.resolvers.get(t);if(i!=null)return i;throw new Error("A valid resolver was not returned from the static register method")}return s}else{if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`);{const s=this.config.defaultResolver(t,n);return n.resolvers.set(t,s),s}}}}const $r=new WeakMap;function Lu(e){return function(t,n,s){if($r.has(s))return $r.get(s);const i=e(t,n,s);return $r.set(s,i),i}}const $s=Object.freeze({instance(e,t){return new ht(e,0,t)},singleton(e,t){return new ht(e,1,t)},transient(e,t){return new ht(e,2,t)},callback(e,t){return new ht(e,3,t)},cachedCallback(e,t){return new ht(e,3,Lu(t))},aliasTo(e,t){return new ht(t,5,e)}});function Ys(e){if(e==null)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function ma(e,t,n){if(e instanceof ht&&e.strategy===4){const s=e.state;let i=s.length;const r=new Array(i);for(;i--;)r[i]=s[i].resolve(t,n);return r}return[e.resolve(t,n)]}const ba="(anonymous)";function va(e){return typeof e=="object"&&e!==null||typeof e=="function"}const pg=(function(){const e=new WeakMap;let t=!1,n="",s=0;return function(i){return t=e.get(i),t===void 0&&(n=i.toString(),s=n.length,t=s>=29&&s<=100&&n.charCodeAt(s-1)===125&&n.charCodeAt(s-2)<=32&&n.charCodeAt(s-3)===93&&n.charCodeAt(s-4)===101&&n.charCodeAt(s-5)===100&&n.charCodeAt(s-6)===111&&n.charCodeAt(s-7)===99&&n.charCodeAt(s-8)===32&&n.charCodeAt(s-9)===101&&n.charCodeAt(s-10)===118&&n.charCodeAt(s-11)===105&&n.charCodeAt(s-12)===116&&n.charCodeAt(s-13)===97&&n.charCodeAt(s-14)===110&&n.charCodeAt(s-15)===88,e.set(i,t)),t}})(),Js={};function Fu(e){switch(typeof e){case"number":return e>=0&&(e|0)===e;case"string":{const t=Js[e];if(t!==void 0)return t;const n=e.length;if(n===0)return Js[e]=!1;let s=0;for(let i=0;i<n;++i)if(s=e.charCodeAt(i),i===0&&s===48&&n>1||s<48||s>57)return Js[e]=!1;return Js[e]=!0}default:return!1}}function ya(e){return`${e.toLowerCase()}:presentation`}const Qs=new Map,Mu=Object.freeze({define(e,t,n){const s=ya(e);Qs.get(s)===void 0?Qs.set(s,t):Qs.set(s,!1),n.register($s.instance(s,t))},forTag(e,t){const n=ya(e),s=Qs.get(n);return s===!1?Te.findResponsibleContainer(t).get(n):s||null}});class gg{constructor(t,n){this.template=t||null,this.styles=n===void 0?null:Array.isArray(n)?st.create(n):n instanceof st?n:st.create([n])}applyTo(t){const n=t.$fastController;n.template===null&&(n.template=this.template),n.styles===null&&(n.styles=this.styles)}}class wt extends sr{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return this._presentation===void 0&&(this._presentation=Mu.forTag(this.tagName,this)),this._presentation}templateChanged(){this.template!==void 0&&(this.$fastController.template=this.template)}stylesChanged(){this.styles!==void 0&&(this.$fastController.styles=this.styles)}connectedCallback(){this.$presentation!==null&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(t){return(n={})=>new mg(this===wt?class extends wt{}:this,t,n)}}F([we],wt.prototype,"template",void 0);F([we],wt.prototype,"styles",void 0);function is(e,t,n){return typeof e=="function"?e(t,n):e}class mg{constructor(t,n,s){this.type=t,this.elementDefinition=n,this.overrideDefinition=s,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(t,n){const s=this.definition,i=this.overrideDefinition,o=`${s.prefix||n.elementPrefix}-${s.baseName}`;n.tryDefineElement({name:o,type:this.type,baseClass:this.elementDefinition.baseClass,callback:l=>{const a=new gg(is(s.template,l,s),is(s.styles,l,s));l.definePresentation(a);let u=is(s.shadowOptions,l,s);l.shadowRootMode&&(u?i.shadowOptions||(u.mode=l.shadowRootMode):u!==null&&(u={mode:l.shadowRootMode})),l.defineElement({elementOptions:is(s.elementOptions,l,s),shadowOptions:u,attributes:is(s.attributes,l,s)})}})}}function un(e,...t){const n=Ri.locate(e);t.forEach(s=>{Object.getOwnPropertyNames(s.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(s.prototype,r))}),Ri.locate(s).forEach(r=>n.push(r))})}const bg={horizontal:"horizontal"};function vg(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function yg(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Sg(...e){return e.every(t=>t instanceof HTMLElement)}function wg(){const e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}let mn;function Eg(){if(typeof mn=="boolean")return mn;if(!yg())return mn=!1,mn;const e=document.createElement("style"),t=wg();t!==null&&e.setAttribute("nonce",t),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),mn=!0}catch{mn=!1}finally{document.head.removeChild(e)}return mn}var Sa;(function(e){e[e.alt=18]="alt",e[e.arrowDown=40]="arrowDown",e[e.arrowLeft=37]="arrowLeft",e[e.arrowRight=39]="arrowRight",e[e.arrowUp=38]="arrowUp",e[e.back=8]="back",e[e.backSlash=220]="backSlash",e[e.break=19]="break",e[e.capsLock=20]="capsLock",e[e.closeBracket=221]="closeBracket",e[e.colon=186]="colon",e[e.colon2=59]="colon2",e[e.comma=188]="comma",e[e.ctrl=17]="ctrl",e[e.delete=46]="delete",e[e.end=35]="end",e[e.enter=13]="enter",e[e.equals=187]="equals",e[e.equals2=61]="equals2",e[e.equals3=107]="equals3",e[e.escape=27]="escape",e[e.forwardSlash=191]="forwardSlash",e[e.function1=112]="function1",e[e.function10=121]="function10",e[e.function11=122]="function11",e[e.function12=123]="function12",e[e.function2=113]="function2",e[e.function3=114]="function3",e[e.function4=115]="function4",e[e.function5=116]="function5",e[e.function6=117]="function6",e[e.function7=118]="function7",e[e.function8=119]="function8",e[e.function9=120]="function9",e[e.home=36]="home",e[e.insert=45]="insert",e[e.menu=93]="menu",e[e.minus=189]="minus",e[e.minus2=109]="minus2",e[e.numLock=144]="numLock",e[e.numPad0=96]="numPad0",e[e.numPad1=97]="numPad1",e[e.numPad2=98]="numPad2",e[e.numPad3=99]="numPad3",e[e.numPad4=100]="numPad4",e[e.numPad5=101]="numPad5",e[e.numPad6=102]="numPad6",e[e.numPad7=103]="numPad7",e[e.numPad8=104]="numPad8",e[e.numPad9=105]="numPad9",e[e.numPadDivide=111]="numPadDivide",e[e.numPadDot=110]="numPadDot",e[e.numPadMinus=109]="numPadMinus",e[e.numPadMultiply=106]="numPadMultiply",e[e.numPadPlus=107]="numPadPlus",e[e.openBracket=219]="openBracket",e[e.pageDown=34]="pageDown",e[e.pageUp=33]="pageUp",e[e.period=190]="period",e[e.print=44]="print",e[e.quote=222]="quote",e[e.scrollLock=145]="scrollLock",e[e.shift=16]="shift",e[e.space=32]="space",e[e.tab=9]="tab",e[e.tilde=192]="tilde",e[e.windowsLeft=91]="windowsLeft",e[e.windowsOpera=219]="windowsOpera",e[e.windowsRight=92]="windowsRight"})(Sa||(Sa={}));const Yo="ArrowDown";const Jo="ArrowUp",Qo="Enter",Xo="Escape",Zo="Home",Ko="End";const el=" ",tl="Tab";function Xs(e,t,n=0){return[t,n]=[t,n].sort((s,i)=>s-i),t<=e&&e<n}let Cg=0;function Bu(e=""){return`${e}${Cg++}`}class Pe{}F([J({attribute:"aria-atomic"})],Pe.prototype,"ariaAtomic",void 0);F([J({attribute:"aria-busy"})],Pe.prototype,"ariaBusy",void 0);F([J({attribute:"aria-controls"})],Pe.prototype,"ariaControls",void 0);F([J({attribute:"aria-current"})],Pe.prototype,"ariaCurrent",void 0);F([J({attribute:"aria-describedby"})],Pe.prototype,"ariaDescribedby",void 0);F([J({attribute:"aria-details"})],Pe.prototype,"ariaDetails",void 0);F([J({attribute:"aria-disabled"})],Pe.prototype,"ariaDisabled",void 0);F([J({attribute:"aria-errormessage"})],Pe.prototype,"ariaErrormessage",void 0);F([J({attribute:"aria-flowto"})],Pe.prototype,"ariaFlowto",void 0);F([J({attribute:"aria-haspopup"})],Pe.prototype,"ariaHaspopup",void 0);F([J({attribute:"aria-hidden"})],Pe.prototype,"ariaHidden",void 0);F([J({attribute:"aria-invalid"})],Pe.prototype,"ariaInvalid",void 0);F([J({attribute:"aria-keyshortcuts"})],Pe.prototype,"ariaKeyshortcuts",void 0);F([J({attribute:"aria-label"})],Pe.prototype,"ariaLabel",void 0);F([J({attribute:"aria-labelledby"})],Pe.prototype,"ariaLabelledby",void 0);F([J({attribute:"aria-live"})],Pe.prototype,"ariaLive",void 0);F([J({attribute:"aria-owns"})],Pe.prototype,"ariaOwns",void 0);F([J({attribute:"aria-relevant"})],Pe.prototype,"ariaRelevant",void 0);F([J({attribute:"aria-roledescription"})],Pe.prototype,"ariaRoledescription",void 0);const xg=(e,t)=>pt`
    <button
        class="control"
        part="control"
        ?autofocus="${n=>n.autofocus}"
        ?disabled="${n=>n.disabled}"
        form="${n=>n.formId}"
        formaction="${n=>n.formaction}"
        formenctype="${n=>n.formenctype}"
        formmethod="${n=>n.formmethod}"
        formnovalidate="${n=>n.formnovalidate}"
        formtarget="${n=>n.formtarget}"
        name="${n=>n.name}"
        type="${n=>n.type}"
        value="${n=>n.value}"
        aria-atomic="${n=>n.ariaAtomic}"
        aria-busy="${n=>n.ariaBusy}"
        aria-controls="${n=>n.ariaControls}"
        aria-current="${n=>n.ariaCurrent}"
        aria-describedby="${n=>n.ariaDescribedby}"
        aria-details="${n=>n.ariaDetails}"
        aria-disabled="${n=>n.ariaDisabled}"
        aria-errormessage="${n=>n.ariaErrormessage}"
        aria-expanded="${n=>n.ariaExpanded}"
        aria-flowto="${n=>n.ariaFlowto}"
        aria-haspopup="${n=>n.ariaHaspopup}"
        aria-hidden="${n=>n.ariaHidden}"
        aria-invalid="${n=>n.ariaInvalid}"
        aria-keyshortcuts="${n=>n.ariaKeyshortcuts}"
        aria-label="${n=>n.ariaLabel}"
        aria-labelledby="${n=>n.ariaLabelledby}"
        aria-live="${n=>n.ariaLive}"
        aria-owns="${n=>n.ariaOwns}"
        aria-pressed="${n=>n.ariaPressed}"
        aria-relevant="${n=>n.ariaRelevant}"
        aria-roledescription="${n=>n.ariaRoledescription}"
        ${St("control")}
    >
        ${Go(e,t)}
        <span class="content" part="content">
            <slot ${zo("defaultSlottedContent")}></slot>
        </span>
        ${Wo(e,t)}
    </button>
`,wa="form-associated-proxy",Ea="ElementInternals",Ca=Ea in window&&"setFormValue"in window[Ea].prototype,xa=new WeakMap;function Uu(e){const t=class extends e{constructor(...n){super(...n),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return Ca}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const n=this.proxy.labels,s=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=n?s.concat(Array.from(n)):s;return Object.freeze(i)}else return vs}valueChanged(n,s){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(n,s){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(n,s){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),ye.queueUpdate(()=>this.classList.toggle("disabled",this.disabled))}nameChanged(n,s){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(n,s){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),ye.queueUpdate(()=>this.classList.toggle("required",this.required)),this.validate()}get elementInternals(){if(!Ca)return null;let n=xa.get(this);return n||(n=this.attachInternals(),xa.set(this,n)),n}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach(n=>this.proxy.removeEventListener(n,this.stopPropagation)),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(n,s,i){this.elementInternals?this.elementInternals.setValidity(n,s,i):typeof s=="string"&&this.proxy.setCustomValidity(s)}formDisabledCallback(n){this.disabled=n}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var n;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach(s=>this.proxy.addEventListener(s,this.stopPropagation)),this.proxy.disabled=this.disabled,this.proxy.required=this.required,typeof this.name=="string"&&(this.proxy.name=this.name),typeof this.value=="string"&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",wa),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",wa)),(n=this.shadowRoot)===null||n===void 0||n.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var n;this.removeChild(this.proxy),(n=this.shadowRoot)===null||n===void 0||n.removeChild(this.proxySlot)}validate(n){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,n)}setFormValue(n,s){this.elementInternals&&this.elementInternals.setFormValue(n,s||n)}_keypressHandler(n){switch(n.key){case Qo:if(this.form instanceof HTMLFormElement){const s=this.form.querySelector("[type=submit]");s?.click()}break}}stopPropagation(n){n.stopPropagation()}};return J({mode:"boolean"})(t.prototype,"disabled"),J({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),J({attribute:"current-value"})(t.prototype,"currentValue"),J(t.prototype,"name"),J({mode:"boolean"})(t.prototype,"required"),we(t.prototype,"value"),t}class _g extends wt{}class Rg extends Uu(_g){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let Et=class extends Rg{constructor(){super(...arguments),this.handleClick=t=>{var n;this.disabled&&((n=this.defaultSlottedContent)===null||n===void 0?void 0:n.length)<=1&&t.stopPropagation()},this.handleSubmission=()=>{if(!this.form)return;const t=this.proxy.isConnected;t||this.attachProxy(),typeof this.form.requestSubmit=="function"?this.form.requestSubmit(this.proxy):this.proxy.click(),t||this.detachProxy()},this.handleFormReset=()=>{var t;(t=this.form)===null||t===void 0||t.reset()},this.handleUnsupportedDelegatesFocus=()=>{var t;window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(!((t=this.$fastController.definition.shadowOptions)===null||t===void 0)&&t.delegatesFocus)&&(this.focus=()=>{this.control.focus()})}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(t,n){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),n==="submit"&&this.addEventListener("click",this.handleSubmission),t==="submit"&&this.removeEventListener("click",this.handleSubmission),n==="reset"&&this.addEventListener("click",this.handleFormReset),t==="reset"&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){var t;super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.handleUnsupportedDelegatesFocus();const n=Array.from((t=this.control)===null||t===void 0?void 0:t.children);n&&n.forEach(s=>{s.addEventListener("click",this.handleClick)})}disconnectedCallback(){var t;super.disconnectedCallback();const n=Array.from((t=this.control)===null||t===void 0?void 0:t.children);n&&n.forEach(s=>{s.removeEventListener("click",this.handleClick)})}};F([J({mode:"boolean"})],Et.prototype,"autofocus",void 0);F([J({attribute:"form"})],Et.prototype,"formId",void 0);F([J],Et.prototype,"formaction",void 0);F([J],Et.prototype,"formenctype",void 0);F([J],Et.prototype,"formmethod",void 0);F([J({mode:"boolean"})],Et.prototype,"formnovalidate",void 0);F([J],Et.prototype,"formtarget",void 0);F([J],Et.prototype,"type",void 0);F([we],Et.prototype,"defaultSlottedContent",void 0);class ir{}F([J({attribute:"aria-expanded"})],ir.prototype,"ariaExpanded",void 0);F([J({attribute:"aria-pressed"})],ir.prototype,"ariaPressed",void 0);un(ir,Pe);un(Et,qo,ir);function Vu(e){return Sg(e)&&(e.getAttribute("role")==="option"||e instanceof HTMLOptionElement)}class Kt extends wt{constructor(t,n,s,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,t&&(this.textContent=t),n&&(this.initialValue=n),s&&(this.defaultSelected=s),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}checkedChanged(t,n){if(typeof n=="boolean"){this.ariaChecked=n?"true":"false";return}this.ariaChecked=null}contentChanged(t,n){this.proxy instanceof HTMLOptionElement&&(this.proxy.textContent=this.textContent),this.$emit("contentchange",null,{bubbles:!0})}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,n){this.ariaDisabled=this.disabled?"true":"false",this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.ariaSelected=this.selected?"true":"false",this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected)}initialValueChanged(t,n){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){var t;return(t=this.value)!==null&&t!==void 0?t:this.text}get text(){var t,n;return(n=(t=this.textContent)===null||t===void 0?void 0:t.replace(/\s+/g," ").trim())!==null&&n!==void 0?n:""}set value(t){const n=`${t??""}`;this._value=n,this.dirtyValue=!0,this.proxy instanceof HTMLOptionElement&&(this.proxy.value=n),be.notify(this,"value")}get value(){var t;return be.track(this,"value"),(t=this._value)!==null&&t!==void 0?t:this.text}get form(){return this.proxy?this.proxy.form:null}}F([we],Kt.prototype,"checked",void 0);F([we],Kt.prototype,"content",void 0);F([we],Kt.prototype,"defaultSelected",void 0);F([J({mode:"boolean"})],Kt.prototype,"disabled",void 0);F([J({attribute:"selected",mode:"boolean"})],Kt.prototype,"selectedAttribute",void 0);F([we],Kt.prototype,"selected",void 0);F([J({attribute:"value",mode:"fromView"})],Kt.prototype,"initialValue",void 0);class Jn{}F([we],Jn.prototype,"ariaChecked",void 0);F([we],Jn.prototype,"ariaPosInSet",void 0);F([we],Jn.prototype,"ariaSelected",void 0);F([we],Jn.prototype,"ariaSetSize",void 0);un(Jn,Pe);un(Kt,qo,Jn);class Qe extends wt{constructor(){super(...arguments),this._options=[],this.selectedIndex=-1,this.selectedOptions=[],this.shouldSkipFocus=!1,this.typeaheadBuffer="",this.typeaheadExpired=!0,this.typeaheadTimeout=-1}get firstSelectedOption(){var t;return(t=this.selectedOptions[0])!==null&&t!==void 0?t:null}get hasSelectableOptions(){return this.options.length>0&&!this.options.every(t=>t.disabled)}get length(){var t,n;return(n=(t=this.options)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}get options(){return be.track(this,"options"),this._options}set options(t){this._options=t,be.notify(this,"options")}get typeAheadExpired(){return this.typeaheadExpired}set typeAheadExpired(t){this.typeaheadExpired=t}clickHandler(t){const n=t.target.closest("option,[role=option]");if(n&&!n.disabled)return this.selectedIndex=this.options.indexOf(n),!0}focusAndScrollOptionIntoView(t=this.firstSelectedOption){this.contains(document.activeElement)&&t!==null&&(t.focus(),requestAnimationFrame(()=>{t.scrollIntoView({block:"nearest"})}))}focusinHandler(t){!this.shouldSkipFocus&&t.target===t.currentTarget&&(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}getTypeaheadMatches(){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`^${t}`,"gi");return this.options.filter(s=>s.text.trim().match(n))}getSelectableIndex(t=this.selectedIndex,n){const s=t>n?-1:t<n?1:0,i=t+s;let r=null;switch(s){case-1:{r=this.options.reduceRight((o,l,a)=>!o&&!l.disabled&&a<i?l:o,r);break}case 1:{r=this.options.reduce((o,l,a)=>!o&&!l.disabled&&a>i?l:o,r);break}}return this.options.indexOf(r)}handleChange(t,n){switch(n){case"selected":{Qe.slottedOptionFilter(t)&&(this.selectedIndex=this.options.indexOf(t)),this.setSelectedOptions();break}}}handleTypeAhead(t){this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout(()=>this.typeaheadExpired=!0,Qe.TYPE_AHEAD_TIMEOUT_MS),!(t.length>1)&&(this.typeaheadBuffer=`${this.typeaheadExpired?"":this.typeaheadBuffer}${t}`)}keydownHandler(t){if(this.disabled)return!0;this.shouldSkipFocus=!1;const n=t.key;switch(n){case Zo:{t.shiftKey||(t.preventDefault(),this.selectFirstOption());break}case Yo:{t.shiftKey||(t.preventDefault(),this.selectNextOption());break}case Jo:{t.shiftKey||(t.preventDefault(),this.selectPreviousOption());break}case Ko:{t.preventDefault(),this.selectLastOption();break}case tl:return this.focusAndScrollOptionIntoView(),!0;case Qo:case Xo:return!0;case el:if(this.typeaheadExpired)return!0;default:return n.length===1&&this.handleTypeAhead(`${n}`),!0}}mousedownHandler(t){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}multipleChanged(t,n){this.ariaMultiSelectable=n?"true":null}selectedIndexChanged(t,n){var s;if(!this.hasSelectableOptions){this.selectedIndex=-1;return}if(!((s=this.options[this.selectedIndex])===null||s===void 0)&&s.disabled&&typeof t=="number"){const i=this.getSelectableIndex(t,n),r=i>-1?i:t;this.selectedIndex=r,n===r&&this.selectedIndexChanged(n,r);return}this.setSelectedOptions()}selectedOptionsChanged(t,n){var s;const i=n.filter(Qe.slottedOptionFilter);(s=this.options)===null||s===void 0||s.forEach(r=>{const o=be.getNotifier(r);o.unsubscribe(this,"selected"),r.selected=i.includes(r),o.subscribe(this,"selected")})}selectFirstOption(){var t,n;this.disabled||(this.selectedIndex=(n=(t=this.options)===null||t===void 0?void 0:t.findIndex(s=>!s.disabled))!==null&&n!==void 0?n:-1)}selectLastOption(){this.disabled||(this.selectedIndex=vg(this.options,t=>!t.disabled))}selectNextOption(){!this.disabled&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){var t,n;this.selectedIndex=(n=(t=this.options)===null||t===void 0?void 0:t.findIndex(s=>s.defaultSelected))!==null&&n!==void 0?n:-1}setSelectedOptions(){var t,n,s;!((t=this.options)===null||t===void 0)&&t.length&&(this.selectedOptions=[this.options[this.selectedIndex]],this.ariaActiveDescendant=(s=(n=this.firstSelectedOption)===null||n===void 0?void 0:n.id)!==null&&s!==void 0?s:"",this.focusAndScrollOptionIntoView())}slottedOptionsChanged(t,n){this.options=n.reduce((i,r)=>(Vu(r)&&i.push(r),i),[]);const s=`${this.options.length}`;this.options.forEach((i,r)=>{i.id||(i.id=Bu("option-")),i.ariaPosInSet=`${r+1}`,i.ariaSetSize=s}),this.$fastController.isConnected&&(this.setSelectedOptions(),this.setDefaultSelectedOption())}typeaheadBufferChanged(t,n){if(this.$fastController.isConnected){const s=this.getTypeaheadMatches();if(s.length){const i=this.options.indexOf(s[0]);i>-1&&(this.selectedIndex=i)}this.typeaheadExpired=!1}}}Qe.slottedOptionFilter=e=>Vu(e)&&!e.hidden;Qe.TYPE_AHEAD_TIMEOUT_MS=1e3;F([J({mode:"boolean"})],Qe.prototype,"disabled",void 0);F([we],Qe.prototype,"selectedIndex",void 0);F([we],Qe.prototype,"selectedOptions",void 0);F([we],Qe.prototype,"slottedOptions",void 0);F([we],Qe.prototype,"typeaheadBuffer",void 0);class _n{}F([we],_n.prototype,"ariaActiveDescendant",void 0);F([we],_n.prototype,"ariaDisabled",void 0);F([we],_n.prototype,"ariaExpanded",void 0);F([we],_n.prototype,"ariaMultiSelectable",void 0);un(_n,Pe);un(Qe,_n);const Pr={above:"above",below:"below"};function ao(e){const t=e.parentElement;if(t)return t;{const n=e.getRootNode();if(n.host instanceof HTMLElement)return n.host}return null}function kg(e,t){let n=t;for(;n!==null;){if(n===e)return!0;n=ao(n)}return!1}const Vt=document.createElement("div");function Og(e){return e instanceof sr}class nl{setProperty(t,n){ye.queueUpdate(()=>this.target.setProperty(t,n))}removeProperty(t){ye.queueUpdate(()=>this.target.removeProperty(t))}}class Ag extends nl{constructor(t){super();const n=new CSSStyleSheet;n[ku]=!0,this.target=n.cssRules[n.insertRule(":host{}")].style,t.$fastController.addStyles(st.create([n]))}}class Ig extends nl{constructor(){super();const t=new CSSStyleSheet;this.target=t.cssRules[t.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}}class Tg extends nl{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:t}=this.style;if(t){const n=t.insertRule(":root{}",t.cssRules.length);this.target=t.cssRules[n].style}}}class ju{constructor(t){this.store=new Map,this.target=null;const n=t.$fastController;this.style=document.createElement("style"),n.addStyles(this.style),be.getNotifier(n).subscribe(this,"isConnected"),this.handleChange(n,"isConnected")}targetChanged(){if(this.target!==null)for(const[t,n]of this.store.entries())this.target.setProperty(t,n)}setProperty(t,n){this.store.set(t,n),ye.queueUpdate(()=>{this.target!==null&&this.target.setProperty(t,n)})}removeProperty(t){this.store.delete(t),ye.queueUpdate(()=>{this.target!==null&&this.target.removeProperty(t)})}handleChange(t,n){const{sheet:s}=this.style;if(s){const i=s.insertRule(":host{}",s.cssRules.length);this.target=s.cssRules[i].style}else this.target=null}}F([we],ju.prototype,"target",void 0);class $g{constructor(t){this.target=t.style}setProperty(t,n){ye.queueUpdate(()=>this.target.setProperty(t,n))}removeProperty(t){ye.queueUpdate(()=>this.target.removeProperty(t))}}class Be{setProperty(t,n){Be.properties[t]=n;for(const s of Be.roots.values())Dn.getOrCreate(Be.normalizeRoot(s)).setProperty(t,n)}removeProperty(t){delete Be.properties[t];for(const n of Be.roots.values())Dn.getOrCreate(Be.normalizeRoot(n)).removeProperty(t)}static registerRoot(t){const{roots:n}=Be;if(!n.has(t)){n.add(t);const s=Dn.getOrCreate(this.normalizeRoot(t));for(const i in Be.properties)s.setProperty(i,Be.properties[i])}}static unregisterRoot(t){const{roots:n}=Be;if(n.has(t)){n.delete(t);const s=Dn.getOrCreate(Be.normalizeRoot(t));for(const i in Be.properties)s.removeProperty(i)}}static normalizeRoot(t){return t===Vt?document:t}}Be.roots=new Set;Be.properties={};const Nr=new WeakMap,Pg=ye.supportsAdoptedStyleSheets?Ag:ju,Dn=Object.freeze({getOrCreate(e){if(Nr.has(e))return Nr.get(e);let t;return e===Vt?t=new Be:e instanceof Document?t=ye.supportsAdoptedStyleSheets?new Ig:new Tg:Og(e)?t=new Pg(e):t=new $g(e),Nr.set(e,t),t}});class Je extends $u{constructor(t){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=t.name,t.cssCustomPropertyName!==null&&(this.cssCustomProperty=`--${t.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=Je.uniqueId(),Je.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(t){return new Je({name:typeof t=="string"?t:t.name,cssCustomPropertyName:typeof t=="string"?t:t.cssCustomPropertyName===void 0?t.name:t.cssCustomPropertyName})}static isCSSDesignToken(t){return typeof t.cssCustomProperty=="string"}static isDerivedDesignTokenValue(t){return typeof t=="function"}static getTokenById(t){return Je.tokensById.get(t)}getOrCreateSubscriberSet(t=this){return this.subscribers.get(t)||this.subscribers.set(t,new Set)&&this.subscribers.get(t)}createCSS(){return this.cssVar||""}getValueFor(t){const n=Ne.getOrCreate(t).get(this);if(n!==void 0)return n;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${t} or an ancestor of ${t}.`)}setValueFor(t,n){return this._appliedTo.add(t),n instanceof Je&&(n=this.alias(n)),Ne.getOrCreate(t).set(this,n),this}deleteValueFor(t){return this._appliedTo.delete(t),Ne.existsFor(t)&&Ne.getOrCreate(t).delete(this),this}withDefault(t){return this.setValueFor(Vt,t),this}subscribe(t,n){const s=this.getOrCreateSubscriberSet(n);n&&!Ne.existsFor(n)&&Ne.getOrCreate(n),s.has(t)||s.add(t)}unsubscribe(t,n){const s=this.subscribers.get(n||this);s&&s.has(t)&&s.delete(t)}notify(t){const n=Object.freeze({token:this,target:t});this.subscribers.has(this)&&this.subscribers.get(this).forEach(s=>s.handleChange(n)),this.subscribers.has(t)&&this.subscribers.get(t).forEach(s=>s.handleChange(n))}alias(t){return(n=>t.getValueFor(n))}}Je.uniqueId=(()=>{let e=0;return()=>(e++,e.toString(16))})();Je.tokensById=new Map;class Ng{startReflection(t,n){t.subscribe(this,n),this.handleChange({token:t,target:n})}stopReflection(t,n){t.unsubscribe(this,n),this.remove(t,n)}handleChange(t){const{token:n,target:s}=t;this.add(n,s)}add(t,n){Dn.getOrCreate(n).setProperty(t.cssCustomProperty,this.resolveCSSValue(Ne.getOrCreate(n).get(t)))}remove(t,n){Dn.getOrCreate(n).removeProperty(t.cssCustomProperty)}resolveCSSValue(t){return t&&typeof t.createCSS=="function"?t.createCSS():t}}class Dg{constructor(t,n,s){this.source=t,this.token=n,this.node=s,this.dependencies=new Set,this.observer=be.binding(t,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){try{this.node.store.set(this.token,this.observer.observe(this.node.target,Ss))}catch(t){console.error(t)}}}class Lg{constructor(){this.values=new Map}set(t,n){this.values.get(t)!==n&&(this.values.set(t,n),be.getNotifier(this).notify(t.id))}get(t){return be.track(this,t.id),this.values.get(t)}delete(t){this.values.delete(t),be.getNotifier(this).notify(t.id)}all(){return this.values.entries()}}const rs=new WeakMap,os=new WeakMap;class Ne{constructor(t){this.target=t,this.store=new Lg,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(n,s)=>{const i=Je.getTokenById(s);i&&(i.notify(this.target),this.updateCSSTokenReflection(n,i))}},rs.set(t,this),be.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),t instanceof sr?t.$fastController.addBehaviors([this]):t.isConnected&&this.bind()}static getOrCreate(t){return rs.get(t)||new Ne(t)}static existsFor(t){return rs.has(t)}static findParent(t){if(Vt!==t.target){let n=ao(t.target);for(;n!==null;){if(rs.has(n))return rs.get(n);n=ao(n)}return Ne.getOrCreate(Vt)}return null}static findClosestAssignedNode(t,n){let s=n;do{if(s.has(t))return s;s=s.parent?s.parent:s.target!==Vt?Ne.getOrCreate(Vt):null}while(s!==null);return null}get parent(){return os.get(this)||null}updateCSSTokenReflection(t,n){if(Je.isCSSDesignToken(n)){const s=this.parent,i=this.isReflecting(n);if(s){const r=s.get(n),o=t.get(n);r!==o&&!i?this.reflectToCSS(n):r===o&&i&&this.stopReflectToCSS(n)}else i||this.reflectToCSS(n)}}has(t){return this.assignedValues.has(t)}get(t){const n=this.store.get(t);if(n!==void 0)return n;const s=this.getRaw(t);if(s!==void 0)return this.hydrate(t,s),this.get(t)}getRaw(t){var n;return this.assignedValues.has(t)?this.assignedValues.get(t):(n=Ne.findClosestAssignedNode(t,this))===null||n===void 0?void 0:n.getRaw(t)}set(t,n){Je.isDerivedDesignTokenValue(this.assignedValues.get(t))&&this.tearDownBindingObserver(t),this.assignedValues.set(t,n),Je.isDerivedDesignTokenValue(n)?this.setupBindingObserver(t,n):this.store.set(t,n)}delete(t){this.assignedValues.delete(t),this.tearDownBindingObserver(t);const n=this.getRaw(t);n?this.hydrate(t,n):this.store.delete(t)}bind(){const t=Ne.findParent(this);t&&t.appendChild(this);for(const n of this.assignedValues.keys())n.notify(this.target)}unbind(){this.parent&&os.get(this).removeChild(this);for(const t of this.bindingObservers.keys())this.tearDownBindingObserver(t)}appendChild(t){t.parent&&os.get(t).removeChild(t);const n=this.children.filter(s=>t.contains(s));os.set(t,this),this.children.push(t),n.forEach(s=>t.appendChild(s)),be.getNotifier(this.store).subscribe(t);for(const[s,i]of this.store.all())t.hydrate(s,this.bindingObservers.has(s)?this.getRaw(s):i),t.updateCSSTokenReflection(t.store,s)}removeChild(t){const n=this.children.indexOf(t);if(n!==-1&&this.children.splice(n,1),be.getNotifier(this.store).unsubscribe(t),t.parent!==this)return!1;const s=os.delete(t);for(const[i]of this.store.all())t.hydrate(i,t.getRaw(i)),t.updateCSSTokenReflection(t.store,i);return s}contains(t){return kg(this.target,t.target)}reflectToCSS(t){this.isReflecting(t)||(this.reflecting.add(t),Ne.cssCustomPropertyReflector.startReflection(t,this.target))}stopReflectToCSS(t){this.isReflecting(t)&&(this.reflecting.delete(t),Ne.cssCustomPropertyReflector.stopReflection(t,this.target))}isReflecting(t){return this.reflecting.has(t)}handleChange(t,n){const s=Je.getTokenById(n);s&&(this.hydrate(s,this.getRaw(s)),this.updateCSSTokenReflection(this.store,s))}hydrate(t,n){if(!this.has(t)){const s=this.bindingObservers.get(t);Je.isDerivedDesignTokenValue(n)?s?s.source!==n&&(this.tearDownBindingObserver(t),this.setupBindingObserver(t,n)):this.setupBindingObserver(t,n):(s&&this.tearDownBindingObserver(t),this.store.set(t,n))}}setupBindingObserver(t,n){const s=new Dg(n,t,this);return this.bindingObservers.set(t,s),s}tearDownBindingObserver(t){return this.bindingObservers.has(t)?(this.bindingObservers.get(t).disconnect(),this.bindingObservers.delete(t),!0):!1}}Ne.cssCustomPropertyReflector=new Ng;F([we],Ne.prototype,"children",void 0);function Fg(e){return Je.from(e)}const Hu=Object.freeze({create:Fg,notifyConnection(e){return!e.isConnected||!Ne.existsFor(e)?!1:(Ne.getOrCreate(e).bind(),!0)},notifyDisconnection(e){return e.isConnected||!Ne.existsFor(e)?!1:(Ne.getOrCreate(e).unbind(),!0)},registerRoot(e=Vt){Be.registerRoot(e)},unregisterRoot(e=Vt){Be.unregisterRoot(e)}}),Dr=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),Lr=new Map,ai=new Map;let Un=null;const ls=Te.createInterface(e=>e.cachedCallback(t=>(Un===null&&(Un=new qu(null,t)),Un))),zu=Object.freeze({tagFor(e){return ai.get(e)},responsibleFor(e){const t=e.$$designSystem$$;return t||Te.findResponsibleContainer(e).get(ls)},getOrCreate(e){if(!e)return Un===null&&(Un=Te.getOrCreateDOMContainer().get(ls)),Un;const t=e.$$designSystem$$;if(t)return t;const n=Te.getOrCreateDOMContainer(e);if(n.has(ls,!1))return n.get(ls);{const s=new qu(e,n);return n.register($s.instance(ls,s)),s}}});function Mg(e,t,n){return typeof e=="string"?{name:e,type:t,callback:n}:e}class qu{constructor(t,n){this.owner=t,this.container=n,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>Dr.definitionCallbackOnly,t!==null&&(t.$$designSystem$$=this)}withPrefix(t){return this.prefix=t,this}withShadowRootMode(t){return this.shadowRootMode=t,this}withElementDisambiguation(t){return this.disambiguate=t,this}withDesignTokenRoot(t){return this.designTokenRoot=t,this}register(...t){const n=this.container,s=[],i=this.disambiguate,r=this.shadowRootMode,o={elementPrefix:this.prefix,tryDefineElement(l,a,u){const c=Mg(l,a,u),{name:f,callback:g,baseClass:S}=c;let{type:p}=c,m=f,y=Lr.get(m),A=!0;for(;y;){const I=i(m,p,y);switch(I){case Dr.ignoreDuplicate:return;case Dr.definitionCallbackOnly:A=!1,y=void 0;break;default:m=I,y=Lr.get(m);break}}A&&((ai.has(p)||p===wt)&&(p=class extends p{}),Lr.set(m,p),ai.set(p,m),S&&ai.set(S,m)),s.push(new Bg(n,m,p,r,g,A))}};this.designTokensInitialized||(this.designTokensInitialized=!0,this.designTokenRoot!==null&&Hu.registerRoot(this.designTokenRoot)),n.registerWithContext(o,...t);for(const l of s)l.callback(l),l.willDefine&&l.definition!==null&&l.definition.define();return this}}class Bg{constructor(t,n,s,i,r,o){this.container=t,this.name=n,this.type=s,this.shadowRootMode=i,this.callback=r,this.willDefine=o,this.definition=null}definePresentation(t){Mu.define(this.name,t,this.container)}defineElement(t){this.definition=new nr(this.type,Object.assign(Object.assign({},t),{name:this.name}))}tagFor(t){return zu.tagFor(t)}}const Ug=(e,t)=>pt`
    <template role="${n=>n.role}" aria-orientation="${n=>n.orientation}"></template>
`,Vg={separator:"separator"};let sl=class extends wt{constructor(){super(...arguments),this.role=Vg.separator,this.orientation=bg.horizontal}};F([J],sl.prototype,"role",void 0);F([J],sl.prototype,"orientation",void 0);const jg=(e,t)=>pt`
    <template
        aria-checked="${n=>n.ariaChecked}"
        aria-disabled="${n=>n.ariaDisabled}"
        aria-posinset="${n=>n.ariaPosInSet}"
        aria-selected="${n=>n.ariaSelected}"
        aria-setsize="${n=>n.ariaSetSize}"
        class="${n=>[n.checked&&"checked",n.selected&&"selected",n.disabled&&"disabled"].filter(Boolean).join(" ")}"
        role="option"
    >
        ${Go(e,t)}
        <span class="content" part="content">
            <slot ${zo("content")}></slot>
        </span>
        ${Wo(e,t)}
    </template>
`;class rr extends Qe{constructor(){super(...arguments),this.activeIndex=-1,this.rangeStartIndex=-1}get activeOption(){return this.options[this.activeIndex]}get checkedOptions(){var t;return(t=this.options)===null||t===void 0?void 0:t.filter(n=>n.checked)}get firstSelectedOptionIndex(){return this.options.indexOf(this.firstSelectedOption)}activeIndexChanged(t,n){var s,i;this.ariaActiveDescendant=(i=(s=this.options[n])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:"",this.focusAndScrollOptionIntoView()}checkActiveIndex(){if(!this.multiple)return;const t=this.activeOption;t&&(t.checked=!0)}checkFirstOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex+1),this.options.forEach((n,s)=>{n.checked=Xs(s,this.rangeStartIndex)})):this.uncheckAllOptions(),this.activeIndex=0,this.checkActiveIndex()}checkLastOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.options.forEach((n,s)=>{n.checked=Xs(s,this.rangeStartIndex,this.options.length)})):this.uncheckAllOptions(),this.activeIndex=this.options.length-1,this.checkActiveIndex()}connectedCallback(){super.connectedCallback(),this.addEventListener("focusout",this.focusoutHandler)}disconnectedCallback(){this.removeEventListener("focusout",this.focusoutHandler),super.disconnectedCallback()}checkNextOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.options.forEach((n,s)=>{n.checked=Xs(s,this.rangeStartIndex,this.activeIndex+1)})):this.uncheckAllOptions(),this.activeIndex+=this.activeIndex<this.options.length-1?1:0,this.checkActiveIndex()}checkPreviousOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.checkedOptions.length===1&&(this.rangeStartIndex+=1),this.options.forEach((n,s)=>{n.checked=Xs(s,this.activeIndex,this.rangeStartIndex)})):this.uncheckAllOptions(),this.activeIndex-=this.activeIndex>0?1:0,this.checkActiveIndex()}clickHandler(t){var n;if(!this.multiple)return super.clickHandler(t);const s=(n=t.target)===null||n===void 0?void 0:n.closest("[role=option]");if(!(!s||s.disabled))return this.uncheckAllOptions(),this.activeIndex=this.options.indexOf(s),this.checkActiveIndex(),this.toggleSelectedForAllCheckedOptions(),!0}focusAndScrollOptionIntoView(){super.focusAndScrollOptionIntoView(this.activeOption)}focusinHandler(t){if(!this.multiple)return super.focusinHandler(t);!this.shouldSkipFocus&&t.target===t.currentTarget&&(this.uncheckAllOptions(),this.activeIndex===-1&&(this.activeIndex=this.firstSelectedOptionIndex!==-1?this.firstSelectedOptionIndex:0),this.checkActiveIndex(),this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}focusoutHandler(t){this.multiple&&this.uncheckAllOptions()}keydownHandler(t){if(!this.multiple)return super.keydownHandler(t);if(this.disabled)return!0;const{key:n,shiftKey:s}=t;switch(this.shouldSkipFocus=!1,n){case Zo:{this.checkFirstOption(s);return}case Yo:{this.checkNextOption(s);return}case Jo:{this.checkPreviousOption(s);return}case Ko:{this.checkLastOption(s);return}case tl:return this.focusAndScrollOptionIntoView(),!0;case Xo:return this.uncheckAllOptions(),this.checkActiveIndex(),!0;case el:if(t.preventDefault(),this.typeAheadExpired){this.toggleSelectedForAllCheckedOptions();return}default:return n.length===1&&this.handleTypeAhead(`${n}`),!0}}mousedownHandler(t){if(t.offsetX>=0&&t.offsetX<=this.scrollWidth)return super.mousedownHandler(t)}multipleChanged(t,n){var s;this.ariaMultiSelectable=n?"true":null,(s=this.options)===null||s===void 0||s.forEach(i=>{i.checked=n?!1:void 0}),this.setSelectedOptions()}setSelectedOptions(){if(!this.multiple){super.setSelectedOptions();return}this.$fastController.isConnected&&this.options&&(this.selectedOptions=this.options.filter(t=>t.selected),this.focusAndScrollOptionIntoView())}sizeChanged(t,n){var s;const i=Math.max(0,parseInt((s=n?.toFixed())!==null&&s!==void 0?s:"",10));i!==n&&ye.queueUpdate(()=>{this.size=i})}toggleSelectedForAllCheckedOptions(){const t=this.checkedOptions.filter(s=>!s.disabled),n=!t.every(s=>s.selected);t.forEach(s=>s.selected=n),this.selectedIndex=this.options.indexOf(t[t.length-1]),this.setSelectedOptions()}typeaheadBufferChanged(t,n){if(!this.multiple){super.typeaheadBufferChanged(t,n);return}if(this.$fastController.isConnected){const s=this.getTypeaheadMatches(),i=this.options.indexOf(s[0]);i>-1&&(this.activeIndex=i,this.uncheckAllOptions(),this.checkActiveIndex()),this.typeAheadExpired=!1}}uncheckAllOptions(t=!1){this.options.forEach(n=>n.checked=this.multiple?!1:void 0),t||(this.rangeStartIndex=-1)}}F([we],rr.prototype,"activeIndex",void 0);F([J({mode:"boolean"})],rr.prototype,"multiple",void 0);F([J({converter:tr})],rr.prototype,"size",void 0);const _a=44,Hg=(e,t)=>pt`
    <template
        role="progressbar"
        aria-valuenow="${n=>n.value}"
        aria-valuemin="${n=>n.min}"
        aria-valuemax="${n=>n.max}"
        class="${n=>n.paused?"paused":""}"
    >
        ${Nu(n=>typeof n.value=="number",pt`
                <svg
                    class="progress"
                    part="progress"
                    viewBox="0 0 16 16"
                    slot="determinate"
                >
                    <circle
                        class="background"
                        part="background"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                    <circle
                        class="determinate"
                        part="determinate"
                        style="stroke-dasharray: ${n=>_a*n.percentComplete/100}px ${_a}px"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                </svg>
            `,pt`
                <slot name="indeterminate" slot="indeterminate">
                    ${t.indeterminateIndicator||""}
                </slot>
            `)}
    </template>
`;class Qn extends wt{constructor(){super(...arguments),this.percentComplete=0}valueChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}minChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}maxChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}connectedCallback(){super.connectedCallback(),this.updatePercentComplete()}updatePercentComplete(){const t=typeof this.min=="number"?this.min:0,n=typeof this.max=="number"?this.max:100,s=typeof this.value=="number"?this.value:0,i=n-t;this.percentComplete=i===0?0:Math.fround((s-t)/i*100)}}F([J({converter:tr})],Qn.prototype,"value",void 0);F([J({converter:tr})],Qn.prototype,"min",void 0);F([J({converter:tr})],Qn.prototype,"max",void 0);F([J({mode:"boolean"})],Qn.prototype,"paused",void 0);F([we],Qn.prototype,"percentComplete",void 0);class zg extends rr{}class qg extends Uu(zg){constructor(){super(...arguments),this.proxy=document.createElement("select")}}class dn extends qg{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.listboxId=Bu("listbox-"),this.maxHeight=0}openChanged(t,n){if(this.collapsible){if(this.open){this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex,ye.queueUpdate(()=>this.focus());return}this.ariaControls="",this.ariaExpanded="false"}}get collapsible(){return!(this.multiple||typeof this.size=="number")}get value(){return be.track(this,"value"),this._value}set value(t){var n,s,i,r,o,l,a;const u=`${this._value}`;if(!((n=this._options)===null||n===void 0)&&n.length){const c=this._options.findIndex(S=>S.value===t),f=(i=(s=this._options[this.selectedIndex])===null||s===void 0?void 0:s.value)!==null&&i!==void 0?i:null,g=(o=(r=this._options[c])===null||r===void 0?void 0:r.value)!==null&&o!==void 0?o:null;(c===-1||f!==g)&&(t="",this.selectedIndex=c),t=(a=(l=this.firstSelectedOption)===null||l===void 0?void 0:l.value)!==null&&a!==void 0?a:t}u!==t&&(this._value=t,super.valueChanged(u,t),be.notify(this,"value"),this.updateDisplayValue())}updateValue(t){var n,s;this.$fastController.isConnected&&(this.value=(s=(n=this.firstSelectedOption)===null||n===void 0?void 0:n.value)!==null&&s!==void 0?s:""),t&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}selectedIndexChanged(t,n){super.selectedIndexChanged(t,n),this.updateValue()}positionChanged(t,n){this.positionAttribute=n,this.setPositioning()}setPositioning(){const t=this.getBoundingClientRect(),s=window.innerHeight-t.bottom;this.position=this.forcedPosition?this.positionAttribute:t.top>s?Pr.above:Pr.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===Pr.above?~~t.top:~~s}get displayValue(){var t,n;return be.track(this,"displayValue"),(n=(t=this.firstSelectedOption)===null||t===void 0?void 0:t.text)!==null&&n!==void 0?n:""}disabledChanged(t,n){super.disabledChanged&&super.disabledChanged(t,n),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),this.selectedIndex===-1&&(this.selectedIndex=0)}clickHandler(t){if(!this.disabled){if(this.open){const n=t.target.closest("option,[role=option]");if(n&&n.disabled)return}return super.clickHandler(t),this.open=this.collapsible&&!this.open,!this.open&&this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0),!0}}focusoutHandler(t){var n;if(super.focusoutHandler(t),!this.open)return!0;const s=t.relatedTarget;if(this.isSameNode(s)){this.focus();return}!((n=this.options)===null||n===void 0)&&n.includes(s)||(this.open=!1,this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0))}handleChange(t,n){super.handleChange(t,n),n==="value"&&this.updateValue()}slottedOptionsChanged(t,n){this.options.forEach(s=>{be.getNotifier(s).unsubscribe(this,"value")}),super.slottedOptionsChanged(t,n),this.options.forEach(s=>{be.getNotifier(s).subscribe(this,"value")}),this.setProxyOptions(),this.updateValue()}mousedownHandler(t){var n;return t.offsetX>=0&&t.offsetX<=((n=this.listbox)===null||n===void 0?void 0:n.scrollWidth)?super.mousedownHandler(t):this.collapsible}multipleChanged(t,n){super.multipleChanged(t,n),this.proxy&&(this.proxy.multiple=n)}selectedOptionsChanged(t,n){var s;super.selectedOptionsChanged(t,n),(s=this.options)===null||s===void 0||s.forEach((i,r)=>{var o;const l=(o=this.proxy)===null||o===void 0?void 0:o.options.item(r);l&&(l.selected=i.selected)})}setDefaultSelectedOption(){var t;const n=(t=this.options)!==null&&t!==void 0?t:Array.from(this.children).filter(Qe.slottedOptionFilter),s=n?.findIndex(i=>i.hasAttribute("selected")||i.selected||i.value===this.value);if(s!==-1){this.selectedIndex=s;return}this.selectedIndex=0}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach(t=>{const n=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null);n&&this.proxy.options.add(n)}))}keydownHandler(t){super.keydownHandler(t);const n=t.key||t.key.charCodeAt(0);switch(n){case el:{t.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open);break}case Zo:case Ko:{t.preventDefault();break}case Qo:{t.preventDefault(),this.open=!this.open;break}case Xo:{this.collapsible&&this.open&&(t.preventDefault(),this.open=!1);break}case tl:return this.collapsible&&this.open&&(t.preventDefault(),this.open=!1),!0}return!this.open&&this.indexWhenOpened!==this.selectedIndex&&(this.updateValue(!0),this.indexWhenOpened=this.selectedIndex),!(n===Yo||n===Jo)}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.addEventListener("contentchange",this.updateDisplayValue)}disconnectedCallback(){this.removeEventListener("contentchange",this.updateDisplayValue),super.disconnectedCallback()}sizeChanged(t,n){super.sizeChanged(t,n),this.proxy&&(this.proxy.size=n)}updateDisplayValue(){this.collapsible&&be.notify(this,"displayValue")}}F([J({attribute:"open",mode:"boolean"})],dn.prototype,"open",void 0);F([Ap],dn.prototype,"collapsible",null);F([we],dn.prototype,"control",void 0);F([J({attribute:"position"})],dn.prototype,"positionAttribute",void 0);F([we],dn.prototype,"position",void 0);F([we],dn.prototype,"maxHeight",void 0);class il{}F([we],il.prototype,"ariaControls",void 0);un(il,_n);un(dn,qo,il);const Wg=(e,t)=>pt`
    <template
        class="${n=>[n.collapsible&&"collapsible",n.collapsible&&n.open&&"open",n.disabled&&"disabled",n.collapsible&&n.position].filter(Boolean).join(" ")}"
        aria-activedescendant="${n=>n.ariaActiveDescendant}"
        aria-controls="${n=>n.ariaControls}"
        aria-disabled="${n=>n.ariaDisabled}"
        aria-expanded="${n=>n.ariaExpanded}"
        aria-haspopup="${n=>n.collapsible?"listbox":null}"
        aria-multiselectable="${n=>n.ariaMultiSelectable}"
        ?open="${n=>n.open}"
        role="combobox"
        tabindex="${n=>n.disabled?null:"0"}"
        @click="${(n,s)=>n.clickHandler(s.event)}"
        @focusin="${(n,s)=>n.focusinHandler(s.event)}"
        @focusout="${(n,s)=>n.focusoutHandler(s.event)}"
        @keydown="${(n,s)=>n.keydownHandler(s.event)}"
        @mousedown="${(n,s)=>n.mousedownHandler(s.event)}"
    >
        ${Nu(n=>n.collapsible,pt`
                <div
                    class="control"
                    part="control"
                    ?disabled="${n=>n.disabled}"
                    ${St("control")}
                >
                    ${Go(e,t)}
                    <slot name="button-container">
                        <div class="selected-value" part="selected-value">
                            <slot name="selected-value">${n=>n.displayValue}</slot>
                        </div>
                        <div aria-hidden="true" class="indicator" part="indicator">
                            <slot name="indicator">
                                ${t.indicator||""}
                            </slot>
                        </div>
                    </slot>
                    ${Wo(e,t)}
                </div>
            `)}
        <div
            class="listbox"
            id="${n=>n.listboxId}"
            part="listbox"
            role="listbox"
            ?disabled="${n=>n.disabled}"
            ?hidden="${n=>n.collapsible?!n.open:!1}"
            ${St("listbox")}
        >
            <slot
                ${zo({filter:Qe.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,Oi="not-allowed",Gg=":host([hidden]){display:none}";function Bs(e){return`${Gg}:host{display:${e}}`}const Cn=Eg()?"focus-visible":"focus";function Yg(e){return zu.getOrCreate(e).withPrefix("vscode")}function Jg(e){window.addEventListener("load",()=>{new MutationObserver(()=>{Ra(e)}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),Ra(e)})}function Ra(e){const t=getComputedStyle(document.body),n=document.querySelector("body");if(n){const s=n.getAttribute("data-vscode-theme-kind");for(const[i,r]of e){let o=t.getPropertyValue(i).toString();if(s==="vscode-high-contrast")o.length===0&&r.name.includes("background")&&(o="transparent"),r.name==="button-icon-hover-background"&&(o="transparent");else if(s==="vscode-high-contrast-light"){if(o.length===0&&r.name.includes("background"))switch(r.name){case"button-primary-hover-background":o="#0F4A85";break;case"button-secondary-hover-background":o="transparent";break;case"button-icon-hover-background":o="transparent";break}}else r.name==="contrast-active-border"&&(o="transparent");r.setValueFor(n,o)}}}const ka=new Map;let Oa=!1;function V(e,t){const n=Hu.create(e);if(t){if(t.includes("--fake-vscode-token")){const s="id"+Math.random().toString(16).slice(2);t=`${t}-${s}`}ka.set(t,n)}return Oa||(Jg(ka),Oa=!0),n}const Cw=V("background","--vscode-editor-background").withDefault("#1e1e1e"),Xe=V("border-width").withDefault(1),Qg=V("contrast-active-border","--vscode-contrastActiveBorder").withDefault("#f38518");V("contrast-border","--vscode-contrastBorder").withDefault("#6fc3df");const Xg=V("corner-radius").withDefault(0),ci=V("corner-radius-round").withDefault(2),mt=V("design-unit").withDefault(4),rl=V("disabled-opacity").withDefault(.4),jt=V("focus-border","--vscode-focusBorder").withDefault("#007fd4"),Wu=V("font-family","--vscode-font-family").withDefault("-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol");V("font-weight","--vscode-font-weight").withDefault("400");const Vn=V("foreground","--vscode-foreground").withDefault("#cccccc"),Fr=V("input-height").withDefault("26"),Zg=V("input-min-width").withDefault("100px"),ol=V("type-ramp-base-font-size","--vscode-font-size").withDefault("13px"),ll=V("type-ramp-base-line-height").withDefault("normal"),xw=V("type-ramp-minus1-font-size").withDefault("11px"),_w=V("type-ramp-minus1-line-height").withDefault("16px");V("type-ramp-minus2-font-size").withDefault("9px");V("type-ramp-minus2-line-height").withDefault("16px");V("type-ramp-plus1-font-size").withDefault("16px");V("type-ramp-plus1-line-height").withDefault("24px");const Rw=V("scrollbarWidth").withDefault("10px"),kw=V("scrollbarHeight").withDefault("10px"),Ow=V("scrollbar-slider-background","--vscode-scrollbarSlider-background").withDefault("#79797966"),Aw=V("scrollbar-slider-hover-background","--vscode-scrollbarSlider-hoverBackground").withDefault("#646464b3"),Iw=V("scrollbar-slider-active-background","--vscode-scrollbarSlider-activeBackground").withDefault("#bfbfbf66"),Tw=V("badge-background","--vscode-badge-background").withDefault("#4d4d4d"),$w=V("badge-foreground","--vscode-badge-foreground").withDefault("#ffffff"),Kg=V("button-border","--vscode-button-border").withDefault("transparent"),Aa=V("button-icon-background").withDefault("transparent"),em=V("button-icon-corner-radius").withDefault("5px"),tm=V("button-icon-outline-offset").withDefault(0),Ia=V("button-icon-hover-background","--fake-vscode-token").withDefault("rgba(90, 93, 94, 0.31)"),nm=V("button-icon-padding").withDefault("3px"),jn=V("button-primary-background","--vscode-button-background").withDefault("#0e639c"),Gu=V("button-primary-foreground","--vscode-button-foreground").withDefault("#ffffff"),Yu=V("button-primary-hover-background","--vscode-button-hoverBackground").withDefault("#1177bb"),Mr=V("button-secondary-background","--vscode-button-secondaryBackground").withDefault("#3a3d41"),sm=V("button-secondary-foreground","--vscode-button-secondaryForeground").withDefault("#ffffff"),im=V("button-secondary-hover-background","--vscode-button-secondaryHoverBackground").withDefault("#45494e"),rm=V("button-padding-horizontal").withDefault("11px"),om=V("button-padding-vertical").withDefault("4px"),Pw=V("checkbox-background","--vscode-checkbox-background").withDefault("#3c3c3c"),Nw=V("checkbox-border","--vscode-checkbox-border").withDefault("#3c3c3c"),Dw=V("checkbox-corner-radius").withDefault(3);V("checkbox-foreground","--vscode-checkbox-foreground").withDefault("#f0f0f0");const Nn=V("list-active-selection-background","--vscode-list-activeSelectionBackground").withDefault("#094771"),ui=V("list-active-selection-foreground","--vscode-list-activeSelectionForeground").withDefault("#ffffff"),Lw=V("list-hover-background","--vscode-list-hoverBackground").withDefault("#2a2d2e"),lm=V("divider-background","--vscode-settings-dropdownListBorder").withDefault("#454545"),Zs=V("dropdown-background","--vscode-dropdown-background").withDefault("#3c3c3c"),Ta=V("dropdown-border","--vscode-dropdown-border").withDefault("#3c3c3c");V("dropdown-foreground","--vscode-dropdown-foreground").withDefault("#f0f0f0");const am=V("dropdown-list-max-height").withDefault("200px"),Fw=V("input-background","--vscode-input-background").withDefault("#3c3c3c"),Mw=V("input-foreground","--vscode-input-foreground").withDefault("#cccccc");V("input-placeholder-foreground","--vscode-input-placeholderForeground").withDefault("#cccccc");const Bw=V("link-active-foreground","--vscode-textLink-activeForeground").withDefault("#3794ff"),Uw=V("link-foreground","--vscode-textLink-foreground").withDefault("#3794ff"),cm=V("progress-background","--vscode-progressBar-background").withDefault("#0e70c0"),Vw=V("panel-tab-active-border","--vscode-panelTitle-activeBorder").withDefault("#e7e7e7"),jw=V("panel-tab-active-foreground","--vscode-panelTitle-activeForeground").withDefault("#e7e7e7"),Hw=V("panel-tab-foreground","--vscode-panelTitle-inactiveForeground").withDefault("#e7e7e799");V("panel-view-background","--vscode-panel-background").withDefault("#1e1e1e");V("panel-view-border","--vscode-panel-border").withDefault("#80808059");const zw=V("tag-corner-radius").withDefault("2px");function um(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}const dm=Zt`
	${Bs("inline-flex")} :host {
		outline: none;
		font-family: ${Wu};
		font-size: ${ol};
		line-height: ${ll};
		color: ${Gu};
		background: ${jn};
		border-radius: calc(${ci} * 1px);
		fill: currentColor;
		cursor: pointer;
	}
	.control {
		background: transparent;
		height: inherit;
		flex-grow: 1;
		box-sizing: border-box;
		display: inline-flex;
		justify-content: center;
		align-items: center;
		padding: ${om} ${rm};
		white-space: wrap;
		outline: none;
		text-decoration: none;
		border: calc(${Xe} * 1px) solid ${Kg};
		color: inherit;
		border-radius: inherit;
		fill: inherit;
		cursor: inherit;
		font-family: inherit;
	}
	:host(:hover) {
		background: ${Yu};
	}
	:host(:active) {
		background: ${jn};
	}
	.control:${Cn} {
		outline: calc(${Xe} * 1px) solid ${jt};
		outline-offset: calc(${Xe} * 2px);
	}
	.control::-moz-focus-inner {
		border: 0;
	}
	:host([disabled]) {
		opacity: ${rl};
		background: ${jn};
		cursor: ${Oi};
	}
	.content {
		display: flex;
	}
	.start {
		display: flex;
	}
	::slotted(svg),
	::slotted(span) {
		width: calc(${mt} * 4px);
		height: calc(${mt} * 4px);
	}
	.start {
		margin-inline-end: 8px;
	}
`,fm=Zt`
	:host([appearance='primary']) {
		background: ${jn};
		color: ${Gu};
	}
	:host([appearance='primary']:hover) {
		background: ${Yu};
	}
	:host([appearance='primary']:active) .control:active {
		background: ${jn};
	}
	:host([appearance='primary']) .control:${Cn} {
		outline: calc(${Xe} * 1px) solid ${jt};
		outline-offset: calc(${Xe} * 2px);
	}
	:host([appearance='primary'][disabled]) {
		background: ${jn};
	}
`,hm=Zt`
	:host([appearance='secondary']) {
		background: ${Mr};
		color: ${sm};
	}
	:host([appearance='secondary']:hover) {
		background: ${im};
	}
	:host([appearance='secondary']:active) .control:active {
		background: ${Mr};
	}
	:host([appearance='secondary']) .control:${Cn} {
		outline: calc(${Xe} * 1px) solid ${jt};
		outline-offset: calc(${Xe} * 2px);
	}
	:host([appearance='secondary'][disabled]) {
		background: ${Mr};
	}
`,pm=Zt`
	:host([appearance='icon']) {
		background: ${Aa};
		border-radius: ${em};
		color: ${Vn};
	}
	:host([appearance='icon']:hover) {
		background: ${Ia};
		outline: 1px dotted ${Qg};
		outline-offset: -1px;
	}
	:host([appearance='icon']) .control {
		padding: ${nm};
		border: none;
	}
	:host([appearance='icon']:active) .control:active {
		background: ${Ia};
	}
	:host([appearance='icon']) .control:${Cn} {
		outline: calc(${Xe} * 1px) solid ${jt};
		outline-offset: ${tm};
	}
	:host([appearance='icon'][disabled]) {
		background: ${Aa};
	}
`,gm=(e,t)=>Zt`
	${dm}
	${fm}
	${hm}
	${pm}
`;class Ju extends Et{connectedCallback(){if(super.connectedCallback(),!this.appearance){const t=this.getAttribute("appearance");this.appearance=t}}attributeChangedCallback(t,n,s){t==="appearance"&&s==="icon"&&(this.getAttribute("aria-label")||(this.ariaLabel="Icon Button")),t==="aria-label"&&(this.ariaLabel=s),t==="disabled"&&(this.disabled=s!==null)}}um([J],Ju.prototype,"appearance",void 0);const mm=Ju.compose({baseName:"button",template:xg,styles:gm,shadowOptions:{delegatesFocus:!0}}),bm=(e,t)=>Zt`
	${Bs("block")} :host {
		border: none;
		border-top: calc(${Xe} * 1px) solid ${lm};
		box-sizing: content-box;
		height: 0;
		margin: calc(${mt} * 1px) 0;
		width: 100%;
	}
`;class vm extends sl{}const ym=vm.compose({baseName:"divider",template:Ug,styles:bm}),Sm=(e,t)=>Zt`
	${Bs("inline-flex")} :host {
		background: ${Zs};
		border-radius: calc(${ci} * 1px);
		box-sizing: border-box;
		color: ${Vn};
		contain: contents;
		font-family: ${Wu};
		height: calc(${Fr} * 1px);
		position: relative;
		user-select: none;
		min-width: ${Zg};
		outline: none;
		vertical-align: top;
	}
	.control {
		align-items: center;
		box-sizing: border-box;
		border: calc(${Xe} * 1px) solid ${Ta};
		border-radius: calc(${ci} * 1px);
		cursor: pointer;
		display: flex;
		font-family: inherit;
		font-size: ${ol};
		line-height: ${ll};
		min-height: 100%;
		padding: 2px 6px 2px 8px;
		width: 100%;
	}
	.listbox {
		background: ${Zs};
		border: calc(${Xe} * 1px) solid ${jt};
		border-radius: calc(${ci} * 1px);
		box-sizing: border-box;
		display: inline-flex;
		flex-direction: column;
		left: 0;
		max-height: ${am};
		padding: 0;
		overflow-y: auto;
		position: absolute;
		width: 100%;
		z-index: 1;
	}
	.listbox[hidden] {
		display: none;
	}
	:host(:${Cn}) .control {
		border-color: ${jt};
	}
	:host(:not([disabled]):hover) {
		background: ${Zs};
		border-color: ${Ta};
	}
	:host(:${Cn}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
		background: ${Nn};
		border: calc(${Xe} * 1px) solid transparent;
		color: ${ui};
	}
	:host([disabled]) {
		cursor: ${Oi};
		opacity: ${rl};
	}
	:host([disabled]) .control {
		cursor: ${Oi};
		user-select: none;
	}
	:host([disabled]:hover) {
		background: ${Zs};
		color: ${Vn};
		fill: currentcolor;
	}
	:host(:not([disabled])) .control:active {
		border-color: ${jt};
	}
	:host(:empty) .listbox {
		display: none;
	}
	:host([open]) .control {
		border-color: ${jt};
	}
	:host([open][position='above']) .listbox {
		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;
	}
	:host([open][position='below']) .listbox {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
	:host([open][position='above']) .listbox {
		bottom: calc(${Fr} * 1px);
	}
	:host([open][position='below']) .listbox {
		top: calc(${Fr} * 1px);
	}
	.selected-value {
		flex: 1 1 auto;
		font-family: inherit;
		overflow: hidden;
		text-align: start;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	.indicator {
		flex: 0 0 auto;
		margin-inline-start: 1em;
	}
	slot[name='listbox'] {
		display: none;
		width: 100%;
	}
	:host([open]) slot[name='listbox'] {
		display: flex;
		position: absolute;
	}
	.end {
		margin-inline-start: auto;
	}
	.start,
	.end,
	.indicator,
	.select-indicator,
	::slotted(svg),
	::slotted(span) {
		fill: currentcolor;
		height: 1em;
		min-height: calc(${mt} * 4px);
		min-width: calc(${mt} * 4px);
		width: 1em;
	}
	::slotted([role='option']),
	::slotted(option) {
		flex: 0 0 auto;
	}
`;class wm extends dn{}const Em=wm.compose({baseName:"dropdown",template:Wg,styles:Sm,indicator:`
		<svg 
			class="select-indicator"
			part="select-indicator"
			width="16" 
			height="16" 
			viewBox="0 0 16 16" 
			xmlns="http://www.w3.org/2000/svg" 
			fill="currentColor"
		>
			<path 
				fill-rule="evenodd" 
				clip-rule="evenodd" 
				d="M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"
			/>
		</svg>
	`}),Cm=(e,t)=>Zt`
	${Bs("inline-flex")} :host {
		font-family: var(--body-font);
		border-radius: ${Xg};
		border: calc(${Xe} * 1px) solid transparent;
		box-sizing: border-box;
		color: ${Vn};
		cursor: pointer;
		fill: currentcolor;
		font-size: ${ol};
		line-height: ${ll};
		margin: 0;
		outline: none;
		overflow: hidden;
		padding: 0 calc((${mt} / 2) * 1px)
			calc((${mt} / 4) * 1px);
		user-select: none;
		white-space: nowrap;
	}
	:host(:${Cn}) {
		border-color: ${jt};
		background: ${Nn};
		color: ${Vn};
	}
	:host([aria-selected='true']) {
		background: ${Nn};
		border: calc(${Xe} * 1px) solid transparent;
		color: ${ui};
	}
	:host(:active) {
		background: ${Nn};
		color: ${ui};
	}
	:host(:not([aria-selected='true']):hover) {
		background: ${Nn};
		border: calc(${Xe} * 1px) solid transparent;
		color: ${ui};
	}
	:host(:not([aria-selected='true']):active) {
		background: ${Nn};
		color: ${Vn};
	}
	:host([disabled]) {
		cursor: ${Oi};
		opacity: ${rl};
	}
	:host([disabled]:hover) {
		background-color: inherit;
	}
	.content {
		grid-column-start: 2;
		justify-self: start;
		overflow: hidden;
		text-overflow: ellipsis;
	}
`;let xm=class extends Kt{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Option")}};const _m=xm.compose({baseName:"option",template:jg,styles:Cm}),Rm=(e,t)=>Zt`
	${Bs("flex")} :host {
		align-items: center;
		outline: none;
		height: calc(${mt} * 7px);
		width: calc(${mt} * 7px);
		margin: 0;
	}
	.progress {
		height: 100%;
		width: 100%;
	}
	.background {
		fill: none;
		stroke: transparent;
		stroke-width: calc(${mt} / 2 * 1px);
	}
	.indeterminate-indicator-1 {
		fill: none;
		stroke: ${cm};
		stroke-width: calc(${mt} / 2 * 1px);
		stroke-linecap: square;
		transform-origin: 50% 50%;
		transform: rotate(-90deg);
		transition: all 0.2s ease-in-out;
		animation: spin-infinite 2s linear infinite;
	}
	@keyframes spin-infinite {
		0% {
			stroke-dasharray: 0.01px 43.97px;
			transform: rotate(0deg);
		}
		50% {
			stroke-dasharray: 21.99px 21.99px;
			transform: rotate(450deg);
		}
		100% {
			stroke-dasharray: 0.01px 43.97px;
			transform: rotate(1080deg);
		}
	}
`;class km extends Qn{connectedCallback(){super.connectedCallback(),this.paused&&(this.paused=!1),this.setAttribute("aria-label","Loading"),this.setAttribute("aria-live","assertive"),this.setAttribute("role","alert")}attributeChangedCallback(t,n,s){t==="value"&&this.removeAttribute("value")}}const Om=km.compose({baseName:"progress-ring",template:Hg,styles:Rm,indeterminateIndicator:`
		<svg class="progress" part="progress" viewBox="0 0 16 16">
			<circle
				class="background"
				part="background"
				cx="8px"
				cy="8px"
				r="7px"
			></circle>
			<circle
				class="indeterminate-indicator-1"
				part="indeterminate-indicator-1"
				cx="8px"
				cy="8px"
				r="7px"
			></circle>
		</svg>
	`}),Am={class:"container"},Im={key:0,class:"overlay"},Tm=Re({__name:"OverlayableView",props:{activateOverlay:{type:Boolean}},setup(e){return(t,n)=>(w(),O("div",Am,[e.activateOverlay?(w(),O("div",Im)):X("",!0),nt(t.$slots,"default",{},void 0,!0)]))}}),Ze=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},$m=Ze(Tm,[["__scopeId","data-v-882d5437"]]);function Qu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pm}=Object.prototype,{getPrototypeOf:al}=Object,{iterator:or,toStringTag:Xu}=Symbol,lr=(e=>t=>{const n=Pm.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ct=e=>(e=e.toLowerCase(),t=>lr(t)===e),ar=e=>t=>typeof t===e,{isArray:Xn}=Array,Gn=ar("undefined");function Us(e){return e!==null&&!Gn(e)&&e.constructor!==null&&!Gn(e.constructor)&&it(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zu=Ct("ArrayBuffer");function Nm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zu(e.buffer),t}const Dm=ar("string"),it=ar("function"),Ku=ar("number"),Vs=e=>e!==null&&typeof e=="object",Lm=e=>e===!0||e===!1,di=e=>{if(lr(e)!=="object")return!1;const t=al(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xu in e)&&!(or in e)},Fm=e=>{if(!Vs(e)||Us(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Mm=Ct("Date"),Bm=Ct("File"),Um=Ct("Blob"),Vm=Ct("FileList"),jm=e=>Vs(e)&&it(e.pipe),Hm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||it(e.append)&&((t=lr(e))==="formdata"||t==="object"&&it(e.toString)&&e.toString()==="[object FormData]"))},zm=Ct("URLSearchParams"),[qm,Wm,Gm,Ym]=["ReadableStream","Request","Response","Headers"].map(Ct),Jm=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function js(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),Xn(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(Us(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let l;for(s=0;s<o;s++)l=r[s],t.call(null,e[l],l,e)}}function ed(e,t){if(Us(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const vn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,td=e=>!Gn(e)&&e!==vn;function co(){const{caseless:e,skipUndefined:t}=td(this)&&this||{},n={},s=(i,r)=>{const o=e&&ed(n,r)||r;di(n[o])&&di(i)?n[o]=co(n[o],i):di(i)?n[o]=co({},i):Xn(i)?n[o]=i.slice():(!t||!Gn(i))&&(n[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&js(arguments[i],s);return n}const Qm=(e,t,n,{allOwnKeys:s}={})=>(js(t,(i,r)=>{n&&it(i)?e[r]=Qu(i,n):e[r]=i},{allOwnKeys:s}),e),Xm=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Zm=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Km=(e,t,n,s)=>{let i,r,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),r=i.length;r-- >0;)o=i[r],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&al(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},eb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},tb=e=>{if(!e)return null;if(Xn(e))return e;let t=e.length;if(!Ku(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},nb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&al(Uint8Array)),sb=(e,t)=>{const s=(e&&e[or]).call(e);let i;for(;(i=s.next())&&!i.done;){const r=i.value;t.call(e,r[0],r[1])}},ib=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},rb=Ct("HTMLFormElement"),ob=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),$a=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),lb=Ct("RegExp"),nd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};js(n,(i,r)=>{let o;(o=t(i,r,e))!==!1&&(s[r]=o||i)}),Object.defineProperties(e,s)},ab=e=>{nd(e,(t,n)=>{if(it(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(it(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cb=(e,t)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return Xn(e)?s(e):s(String(e).split(t)),n},ub=()=>{},db=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function fb(e){return!!(e&&it(e.append)&&e[Xu]==="FormData"&&e[or])}const hb=e=>{const t=new Array(10),n=(s,i)=>{if(Vs(s)){if(t.indexOf(s)>=0)return;if(Us(s))return s;if(!("toJSON"in s)){t[i]=s;const r=Xn(s)?[]:{};return js(s,(o,l)=>{const a=n(o,i+1);!Gn(a)&&(r[l]=a)}),t[i]=void 0,r}}return s};return n(e,0)},pb=Ct("AsyncFunction"),gb=e=>e&&(Vs(e)||it(e))&&it(e.then)&&it(e.catch),sd=((e,t)=>e?setImmediate:t?((n,s)=>(vn.addEventListener("message",({source:i,data:r})=>{i===vn&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),vn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",it(vn.postMessage)),mb=typeof queueMicrotask<"u"?queueMicrotask.bind(vn):typeof process<"u"&&process.nextTick||sd,bb=e=>e!=null&&it(e[or]),v={isArray:Xn,isArrayBuffer:Zu,isBuffer:Us,isFormData:Hm,isArrayBufferView:Nm,isString:Dm,isNumber:Ku,isBoolean:Lm,isObject:Vs,isPlainObject:di,isEmptyObject:Fm,isReadableStream:qm,isRequest:Wm,isResponse:Gm,isHeaders:Ym,isUndefined:Gn,isDate:Mm,isFile:Bm,isBlob:Um,isRegExp:lb,isFunction:it,isStream:jm,isURLSearchParams:zm,isTypedArray:nb,isFileList:Vm,forEach:js,merge:co,extend:Qm,trim:Jm,stripBOM:Xm,inherits:Zm,toFlatObject:Km,kindOf:lr,kindOfTest:Ct,endsWith:eb,toArray:tb,forEachEntry:sb,matchAll:ib,isHTMLForm:rb,hasOwnProperty:$a,hasOwnProp:$a,reduceDescriptors:nd,freezeMethods:ab,toObjectSet:cb,toCamelCase:ob,noop:ub,toFiniteNumber:db,findKey:ed,global:vn,isContextDefined:td,isSpecCompliantForm:fb,toJSONObject:hb,isAsyncFn:pb,isThenable:gb,setImmediate:sd,asap:mb,isIterable:bb};function ne(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}v.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.status}}});const id=ne.prototype,rd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rd[e]={value:e}});Object.defineProperties(ne,rd);Object.defineProperty(id,"isAxiosError",{value:!0});ne.from=(e,t,n,s,i,r)=>{const o=Object.create(id);v.toFlatObject(e,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",a=t==null&&e?e.code:t;return ne.call(o,l,a,n,s,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",r&&Object.assign(o,r),o};const vb=null;function uo(e){return v.isPlainObject(e)||v.isArray(e)}function od(e){return v.endsWith(e,"[]")?e.slice(0,-2):e}function Pa(e,t,n){return e?e.concat(t).map(function(i,r){return i=od(i),!n&&r?"["+i+"]":i}).join(n?".":""):t}function yb(e){return v.isArray(e)&&!e.some(uo)}const Sb=v.toFlatObject(v,{},null,function(t){return/^is[A-Z]/.test(t)});function cr(e,t,n){if(!v.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=v.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!v.isUndefined(y[m])});const s=n.metaTokens,i=n.visitor||c,r=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(t);if(!v.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(v.isDate(p))return p.toISOString();if(v.isBoolean(p))return p.toString();if(!a&&v.isBlob(p))throw new ne("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(p)||v.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,y){let A=p;if(p&&!y&&typeof p=="object"){if(v.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(v.isArray(p)&&yb(p)||(v.isFileList(p)||v.endsWith(m,"[]"))&&(A=v.toArray(p)))return m=od(m),A.forEach(function(P,_){!(v.isUndefined(P)||P===null)&&t.append(o===!0?Pa([m],_,r):o===null?m:m+"[]",u(P))}),!1}return uo(p)?!0:(t.append(Pa(y,m,r),u(p)),!1)}const f=[],g=Object.assign(Sb,{defaultVisitor:c,convertValue:u,isVisitable:uo});function S(p,m){if(!v.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),v.forEach(p,function(A,I){(!(v.isUndefined(A)||A===null)&&i.call(t,A,v.isString(I)?I.trim():I,m,g))===!0&&S(A,m?m.concat(I):[I])}),f.pop()}}if(!v.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Na(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function cl(e,t){this._pairs=[],e&&cr(e,this,t)}const ld=cl.prototype;ld.append=function(t,n){this._pairs.push([t,n])};ld.toString=function(t){const n=t?function(s){return t.call(this,s,Na)}:Na;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function wb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ad(e,t,n){if(!t)return e;const s=n&&n.encode||wb;v.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(t,n):r=v.isURLSearchParams(t)?t.toString():new cl(t,n).toString(s),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Da{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){v.forEach(this.handlers,function(s){s!==null&&t(s)})}}const cd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eb=typeof URLSearchParams<"u"?URLSearchParams:cl,Cb=typeof FormData<"u"?FormData:null,xb=typeof Blob<"u"?Blob:null,_b={isBrowser:!0,classes:{URLSearchParams:Eb,FormData:Cb,Blob:xb},protocols:["http","https","file","blob","url","data"]},ul=typeof window<"u"&&typeof document<"u",fo=typeof navigator=="object"&&navigator||void 0,Rb=ul&&(!fo||["ReactNative","NativeScript","NS"].indexOf(fo.product)<0),kb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ob=ul&&window.location.href||"http://localhost",Ab=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ul,hasStandardBrowserEnv:Rb,hasStandardBrowserWebWorkerEnv:kb,navigator:fo,origin:Ob},Symbol.toStringTag,{value:"Module"})),We={...Ab,..._b};function Ib(e,t){return cr(e,new We.classes.URLSearchParams,{visitor:function(n,s,i,r){return We.isNode&&v.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function Tb(e){return v.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $b(e){const t={},n=Object.keys(e);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],t[r]=e[r];return t}function ud(e){function t(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=r>=n.length;return o=!o&&v.isArray(i)?i.length:o,a?(v.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!v.isObject(i[o]))&&(i[o]=[]),t(n,s,i[o],r)&&v.isArray(i[o])&&(i[o]=$b(i[o])),!l)}if(v.isFormData(e)&&v.isFunction(e.entries)){const n={};return v.forEachEntry(e,(s,i)=>{t(Tb(s),i,n,0)}),n}return null}function Pb(e,t,n){if(v.isString(e))try{return(t||JSON.parse)(e),v.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Hs={transitional:cd,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=v.isObject(t);if(r&&v.isHTMLForm(t)&&(t=new FormData(t)),v.isFormData(t))return i?JSON.stringify(ud(t)):t;if(v.isArrayBuffer(t)||v.isBuffer(t)||v.isStream(t)||v.isFile(t)||v.isBlob(t)||v.isReadableStream(t))return t;if(v.isArrayBufferView(t))return t.buffer;if(v.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ib(t,this.formSerializer).toString();if((l=v.isFileList(t))||s.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return cr(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),Pb(t)):t}],transformResponse:[function(t){const n=this.transitional||Hs.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(v.isResponse(t)||v.isReadableStream(t))return t;if(t&&v.isString(t)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ne.from(l,ne.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],e=>{Hs.headers[e]={}});const Nb=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Db=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||t[n]&&Nb[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},La=Symbol("internals");function as(e){return e&&String(e).trim().toLowerCase()}function fi(e){return e===!1||e==null?e:v.isArray(e)?e.map(fi):String(e)}function Lb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Fb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Br(e,t,n,s,i){if(v.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!v.isString(t)){if(v.isString(s))return t.indexOf(s)!==-1;if(v.isRegExp(s))return s.test(t)}}function Mb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Bb(e,t){const n=v.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,r,o){return this[s].call(this,t,i,r,o)},configurable:!0})})}let rt=class{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function r(l,a,u){const c=as(a);if(!c)throw new Error("header name must be a non-empty string");const f=v.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||a]=fi(l))}const o=(l,a)=>v.forEach(l,(u,c)=>r(u,c,a));if(v.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(v.isString(t)&&(t=t.trim())&&!Fb(t))o(Db(t),n);else if(v.isObject(t)&&v.isIterable(t)){let l={},a,u;for(const c of t){if(!v.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[u=c[0]]=(a=l[u])?v.isArray(a)?[...a,c[1]]:[a,c[1]]:c[1]}o(l,n)}else t!=null&&r(n,t,s);return this}get(t,n){if(t=as(t),t){const s=v.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return Lb(i);if(v.isFunction(n))return n.call(this,i,s);if(v.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=as(t),t){const s=v.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Br(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function r(o){if(o=as(o),o){const l=v.findKey(s,o);l&&(!n||Br(s,s[l],l,n))&&(delete s[l],i=!0)}}return v.isArray(t)?t.forEach(r):r(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!t||Br(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const n=this,s={};return v.forEach(this,(i,r)=>{const o=v.findKey(s,r);if(o){n[o]=fi(i),delete n[r];return}const l=t?Mb(r):String(r).trim();l!==r&&delete n[r],n[l]=fi(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return v.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&v.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[La]=this[La]={accessors:{}}).accessors,i=this.prototype;function r(o){const l=as(o);s[l]||(Bb(i,o),s[l]=!0)}return v.isArray(t)?t.forEach(r):r(t),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(rt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});v.freezeMethods(rt);function Ur(e,t){const n=this||Hs,s=t||n,i=rt.from(s.headers);let r=s.data;return v.forEach(e,function(l){r=l.call(n,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function dd(e){return!!(e&&e.__CANCEL__)}function Zn(e,t,n){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,n),this.name="CanceledError"}v.inherits(Zn,ne,{__CANCEL__:!0});function fd(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ub(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vb(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,r=0,o;return t=t!==void 0?t:1e3,function(a){const u=Date.now(),c=s[r];o||(o=u),n[i]=a,s[i]=u;let f=r,g=0;for(;f!==i;)g+=n[f++],f=f%e;if(i=(i+1)%e,i===r&&(r=(r+1)%e),u-o<t)return;const S=c&&u-c;return S?Math.round(g*1e3/S):void 0}}function jb(e,t){let n=0,s=1e3/t,i,r;const o=(u,c=Date.now())=>{n=c,i=null,r&&(clearTimeout(r),r=null),e(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=s?o(u,c):(i=u,r||(r=setTimeout(()=>{r=null,o(i)},s-f)))},()=>i&&o(i)]}const Ai=(e,t,n=3)=>{let s=0;const i=Vb(50,250);return jb(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,a=o-s,u=i(a),c=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:u||void 0,estimated:u&&l&&c?(l-o)/u:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Fa=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ma=e=>(...t)=>v.asap(()=>e(...t)),Hb=We.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,We.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,zb=We.hasStandardBrowserEnv?{write(e,t,n,s,i,r,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];v.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),v.isString(s)&&l.push(`path=${s}`),v.isString(i)&&l.push(`domain=${i}`),r===!0&&l.push("secure"),v.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function qb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Wb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hd(e,t,n){let s=!qb(t);return e&&(s||n==!1)?Wb(e,t):t}const Ba=e=>e instanceof rt?{...e}:e;function xn(e,t){t=t||{};const n={};function s(u,c,f,g){return v.isPlainObject(u)&&v.isPlainObject(c)?v.merge.call({caseless:g},u,c):v.isPlainObject(c)?v.merge({},c):v.isArray(c)?c.slice():c}function i(u,c,f,g){if(v.isUndefined(c)){if(!v.isUndefined(u))return s(void 0,u,f,g)}else return s(u,c,f,g)}function r(u,c){if(!v.isUndefined(c))return s(void 0,c)}function o(u,c){if(v.isUndefined(c)){if(!v.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function l(u,c,f){if(f in t)return s(u,c);if(f in e)return s(void 0,u)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c,f)=>i(Ba(u),Ba(c),f,!0)};return v.forEach(Object.keys({...e,...t}),function(c){const f=a[c]||i,g=f(e[c],t[c],c);v.isUndefined(g)&&f!==l||(n[c]=g)}),n}const pd=e=>{const t=xn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=rt.from(o),t.url=ad(hd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),v.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(v.isFunction(n.getHeaders)){const a=n.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([c,f])=>{u.includes(c.toLowerCase())&&o.set(c,f)})}}if(We.hasStandardBrowserEnv&&(s&&v.isFunction(s)&&(s=s(t)),s||s!==!1&&Hb(t.url))){const a=i&&r&&zb.read(r);a&&o.set(i,a)}return t},Gb=typeof XMLHttpRequest<"u",Yb=Gb&&function(e){return new Promise(function(n,s){const i=pd(e);let r=i.data;const o=rt.from(i.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:u}=i,c,f,g,S,p;function m(){S&&S(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function A(){if(!y)return;const P=rt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),q={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:P,config:e,request:y};fd(function(Z){n(Z),m()},function(Z){s(Z),m()},q),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(s(new ne("Request aborted",ne.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const q=_&&_.message?_.message:"Network Error",ke=new ne(q,ne.ERR_NETWORK,e,y);ke.event=_||null,s(ke),y=null},y.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const q=i.transitional||cd;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),s(new ne(_,q.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&v.forEach(o.toJSON(),function(_,q){y.setRequestHeader(q,_)}),v.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),l&&l!=="json"&&(y.responseType=i.responseType),u&&([g,p]=Ai(u,!0),y.addEventListener("progress",g)),a&&y.upload&&([f,S]=Ai(a),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(c=P=>{y&&(s(!P||P.type?new Zn(null,e,y):P),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const I=Ub(i.url);if(I&&We.protocols.indexOf(I)===-1){s(new ne("Unsupported protocol "+I+":",ne.ERR_BAD_REQUEST,e));return}y.send(r||null)})},Jb=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const r=function(u){if(!i){i=!0,l();const c=u instanceof Error?u:this.reason;s.abort(c instanceof ne?c:new Zn(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,r(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),e=null)};e.forEach(u=>u.addEventListener("abort",r));const{signal:a}=s;return a.unsubscribe=()=>v.asap(l),a}},Qb=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},Xb=async function*(e,t){for await(const n of Zb(e))yield*Qb(n,t)},Zb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Ua=(e,t,n,s)=>{const i=Xb(e,t);let r=0,o,l=a=>{o||(o=!0,s&&s(a))};return new ReadableStream({async pull(a){try{const{done:u,value:c}=await i.next();if(u){l(),a.close();return}let f=c.byteLength;if(n){let g=r+=f;n(g)}a.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(a){return l(a),i.return()}},{highWaterMark:2})},Va=64*1024,{isFunction:Ks}=v,Kb=(({Request:e,Response:t})=>({Request:e,Response:t}))(v.global),{ReadableStream:ja,TextEncoder:Ha}=v.global,za=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ev=e=>{e=v.merge.call({skipUndefined:!0},Kb,e);const{fetch:t,Request:n,Response:s}=e,i=t?Ks(t):typeof fetch=="function",r=Ks(n),o=Ks(s);if(!i)return!1;const l=i&&Ks(ja),a=i&&(typeof Ha=="function"?(p=>m=>p.encode(m))(new Ha):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=r&&l&&za(()=>{let p=!1;const m=new n(We.origin,{body:new ja,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),c=o&&l&&za(()=>v.isReadableStream(new s("").body)),f={stream:c&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(m,y)=>{let A=m&&m[p];if(A)return A.call(m);throw new ne(`Response type '${p}' is not supported`,ne.ERR_NOT_SUPPORT,y)})});const g=async p=>{if(p==null)return 0;if(v.isBlob(p))return p.size;if(v.isSpecCompliantForm(p))return(await new n(We.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(v.isArrayBufferView(p)||v.isArrayBuffer(p))return p.byteLength;if(v.isURLSearchParams(p)&&(p=p+""),v.isString(p))return(await a(p)).byteLength},S=async(p,m)=>{const y=v.toFiniteNumber(p.getContentLength());return y??g(m)};return async p=>{let{url:m,method:y,data:A,signal:I,cancelToken:P,timeout:_,onDownloadProgress:q,onUploadProgress:ke,responseType:Z,headers:z,withCredentials:Y="same-origin",fetchOptions:j}=pd(p),le=t||fetch;Z=Z?(Z+"").toLowerCase():"text";let se=Jb([I,P&&P.toAbortSignal()],_),re=null;const M=se&&se.unsubscribe&&(()=>{se.unsubscribe()});let U;try{if(ke&&u&&y!=="get"&&y!=="head"&&(U=await S(z,A))!==0){let Fe=new n(m,{method:"POST",body:A,duplex:"half"}),Me;if(v.isFormData(A)&&(Me=Fe.headers.get("content-type"))&&z.setContentType(Me),Fe.body){const[tn,nn]=Fa(U,Ai(Ma(ke)));A=Ua(Fe.body,Va,tn,nn)}}v.isString(Y)||(Y=Y?"include":"omit");const H=r&&"credentials"in n.prototype,ee={...j,signal:se,method:y.toUpperCase(),headers:z.normalize().toJSON(),body:A,duplex:"half",credentials:H?Y:void 0};re=r&&new n(m,ee);let oe=await(r?le(re,j):le(m,ee));const ft=c&&(Z==="stream"||Z==="response");if(c&&(q||ft&&M)){const Fe={};["status","statusText","headers"].forEach(On=>{Fe[On]=oe[On]});const Me=v.toFiniteNumber(oe.headers.get("content-length")),[tn,nn]=q&&Fa(Me,Ai(Ma(q),!0))||[];oe=new s(Ua(oe.body,Va,tn,()=>{nn&&nn(),M&&M()}),Fe)}Z=Z||"text";let en=await f[v.findKey(f,Z)||"text"](oe,p);return!ft&&M&&M(),await new Promise((Fe,Me)=>{fd(Fe,Me,{data:en,headers:rt.from(oe.headers),status:oe.status,statusText:oe.statusText,config:p,request:re})})}catch(H){throw M&&M(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,p,re),{cause:H.cause||H}):ne.from(H,H&&H.code,p,re)}}},tv=new Map,gd=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:i}=t,r=[s,i,n];let o=r.length,l=o,a,u,c=tv;for(;l--;)a=r[l],u=c.get(a),u===void 0&&c.set(a,u=l?new Map:ev(t)),c=u;return u};gd();const dl={http:vb,xhr:Yb,fetch:{get:gd}};v.forEach(dl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qa=e=>`- ${e}`,nv=e=>v.isFunction(e)||e===null||e===!1;function sv(e,t){e=v.isArray(e)?e:[e];const{length:n}=e;let s,i;const r={};for(let o=0;o<n;o++){s=e[o];let l;if(i=s,!nv(s)&&(i=dl[(l=String(s)).toLowerCase()],i===void 0))throw new ne(`Unknown adapter '${l}'`);if(i&&(v.isFunction(i)||(i=i.get(t))))break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(qa).join(`
`):" "+qa(o[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const md={getAdapter:sv,adapters:dl};function Vr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zn(null,e)}function Wa(e){return Vr(e),e.headers=rt.from(e.headers),e.data=Ur.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),md.getAdapter(e.adapter||Hs.adapter,e)(e).then(function(s){return Vr(e),s.data=Ur.call(e,e.transformResponse,s),s.headers=rt.from(s.headers),s},function(s){return dd(s)||(Vr(e),s&&s.response&&(s.response.data=Ur.call(e,e.transformResponse,s.response),s.response.headers=rt.from(s.response.headers))),Promise.reject(s)})}const bd="1.13.2",ur={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ur[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ga={};ur.transitional=function(t,n,s){function i(r,o){return"[Axios v"+bd+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,l)=>{if(t===!1)throw new ne(i(o," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Ga[o]&&(Ga[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,l):!0}};ur.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function iv(e,t,n){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const r=s[i],o=t[r];if(o){const l=e[r],a=l===void 0||o(l,r,e);if(a!==!0)throw new ne("option "+r+" must be "+a,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+r,ne.ERR_BAD_OPTION)}}const hi={assertOptions:iv,validators:ur},At=hi.validators;let wn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Da,response:new Da}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xn(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&hi.assertOptions(s,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),i!=null&&(v.isFunction(i)?n.paramsSerializer={serialize:i}:hi.assertOptions(i,{encode:At.function,serialize:At.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hi.assertOptions(n,{baseUrl:At.spelling("baseURL"),withXsrfToken:At.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&v.merge(r.common,r[n.method]);r&&v.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=rt.concat(o,r);const l=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(a=a&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,f=0,g;if(!a){const p=[Wa.bind(this),void 0];for(p.unshift(...l),p.push(...u),g=p.length,c=Promise.resolve(n);f<g;)c=c.then(p[f++],p[f++]);return c}g=l.length;let S=n;for(;f<g;){const p=l[f++],m=l[f++];try{S=p(S)}catch(y){m.call(this,y);break}}try{c=Wa.call(this,S)}catch(p){return Promise.reject(p)}for(f=0,g=u.length;f<g;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=xn(this.defaults,t);const n=hd(t.baseURL,t.url,t.allowAbsoluteUrls);return ad(n,t.params,t.paramsSerializer)}};v.forEach(["delete","get","head","options"],function(t){wn.prototype[t]=function(n,s){return this.request(xn(s||{},{method:t,url:n,data:(s||{}).data}))}});v.forEach(["post","put","patch"],function(t){function n(s){return function(r,o,l){return this.request(xn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}wn.prototype[t]=n(),wn.prototype[t+"Form"]=n(!0)});let rv=class vd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(l=>{s.subscribe(l),r=l}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},t(function(r,o,l){s.reason||(s.reason=new Zn(r,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vd(function(i){t=i}),cancel:t}}};function ov(e){return function(n){return e.apply(null,n)}}function lv(e){return v.isObject(e)&&e.isAxiosError===!0}const ho={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ho).forEach(([e,t])=>{ho[t]=e});function yd(e){const t=new wn(e),n=Qu(wn.prototype.request,t);return v.extend(n,wn.prototype,t,{allOwnKeys:!0}),v.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return yd(xn(e,i))},n}const _e=yd(Hs);_e.Axios=wn;_e.CanceledError=Zn;_e.CancelToken=rv;_e.isCancel=dd;_e.VERSION=bd;_e.toFormData=cr;_e.AxiosError=ne;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=ov;_e.isAxiosError=lv;_e.mergeConfig=xn;_e.AxiosHeaders=rt;_e.formToJSON=e=>ud(v.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=md.getAdapter;_e.HttpStatusCode=ho;_e.default=_e;const{Axios:Yw,AxiosError:Jw,CanceledError:Qw,isCancel:Xw,CancelToken:Zw,VERSION:Kw,all:eE,Cancel:tE,isAxiosError:av,spread:nE,toFormData:sE,AxiosHeaders:iE,HttpStatusCode:rE,formToJSON:oE,getAdapter:lE,mergeConfig:aE}=_e,cv={cloudURL:"https://login.staging.posit.cloud",connectCloudURL:"https://dev.connect.posit.cloud"},uv={cloudURL:"https://login.posit.cloud",connectCloudURL:"https://connect.posit.cloud"},dv={cloudURL:"https://login.staging.posit.cloud",connectCloudURL:"https://staging.connect.posit.cloud"};var Ya={};let pi;Ya.CONNECT_CLOUD_ENV==="staging"?pi={...dv,env:"staging"}:Ya.CONNECT_CLOUD_ENV==="development"?pi={...cv,env:"development"}:pi={...uv,env:"production"};const Ii=pi;Ii.env;`${Ii.connectCloudURL}${Ii.cloudURL}`;`${Ii.connectCloudURL}`;function Ue(e){return e.error!==void 0}var Sd=(e=>(e.HTML="html",e.JUPYTER_NOTEBOOK="jupyter-notebook",e.JUPYTER_VOILA="jupyter-voila",e.PYTHON_BOKEH="python-bokeh",e.PYTHON_DASH="python-dash",e.PYTHON_FASTAPI="python-fastapi",e.PYTHON_FLASK="python-flask",e.PYTHON_SHINY="python-shiny",e.PYTHON_STREAMLIT="python-streamlit",e.PYTHON_GRADIO="python-gradio",e.PYTHON_PANEL="python-panel",e.QUARTO_SHINY="quarto-shiny",e.QUARTO="quarto",e.QUARTO_STATIC="quarto-static",e.R_PLUMBER="r-plumber",e.R_SHINY="r-shiny",e.RMD_SHINY="rmd-shiny",e.RMD="rmd",e.UNKNOWN="unknown",e))(Sd||{}),zt=(e=>(e.CONNECT="connect",e.CONNECT_CLOUD="connect_cloud",e.SNOWFLAKE="snowflake",e))(zt||{}),Hn=(e=>(e.CONNECT="connect",e.CONNECT_CLOUD="connect_cloud",e))(Hn||{}),fl=(e=>(e.CONNECT="Posit Connect",e.CONNECT_CLOUD="Posit Connect Cloud",e))(fl||{});function Ft(e){return!!(e&&e.state==="new")}var po=(e=>(e.FILE="file",e.BUILT_IN="built-in",e.PERMISSIONS_ERROR="permissions",e))(po||{}),hl=(e=>(e[e.EditConfiguration=0]="EditConfiguration",e))(hl||{});function fv(e){return Object.values(hl).includes(e)}const pl=[{detectionStr:"editing your configuration",anchorStr:"editing",buttonStr:"Edit Configuration",actionId:0}];function hv(e){return pl.find(t=>typeof e=="string"?e.includes(t.detectionStr):fv(e)?t.actionId===e:!1)}var ae=(e=>(e.DEPLOY="deploy",e.INITIALIZING="initializing",e.EDIT_CONFIGURATION="editConfiguration",e.SHOW_SELECT_CONFIGURATION="showSelectConfiguration",e.NAVIGATE="navigate",e.SAVE_SELECTION_STATE="saveSelectionState",e.VSCODE_OPEN="vsCodeOpen",e.INCLUDE_FILE="includeFile",e.EXCLUDE_FILE="excludeFile",e.REQUEST_FILES_LISTS="requestFilesLists",e.REQUEST_CREDENTIALS="requestCredentials",e.VSCODE_OPEN_RELATIVE="VSCodeOpenRelativeMsg",e.ADD_SECRET="addSecret",e.GET_INTEGRATIONS="getIntegrations",e.ADD_INTEGRATION_REQUEST="addIntegrationRequest",e.DELETE_INTEGRATION_REQUEST="deleteIntegrationRequest",e.CLEAR_ALL_INTEGRATION_REQUESTS="clearAllIntegrationRequests",e.REFRESH_PYTHON_PACKAGES="RefreshPythonPackagesMsg",e.SCAN_PYTHON_PACKAGE_REQUIREMENTS="ScanPythonPackageRequirementsMsg",e.REFRESH_R_PACKAGES="RefreshRPackagesMsg",e.SCAN_R_PACKAGE_REQUIREMENTS="ScanRPackageRequirementsMsg",e.SELECT_DEPLOYMENT="selectDeployment",e.NEW_DEPLOYMENT="newDeployment",e.NEW_CREDENTIAL_FOR_DEPLOYMENT="newCredentialForDeployment",e.NEW_CREDENTIAL="newCredential",e.DELETE_CREDENTIAL="deleteCredential",e.VIEW_PUBLISHING_LOG="viewPublishingLog",e.SHOW_ASSOCIATE_GUID="ShowAssociateGUID",e.UPDATE_SELECTION_CREDENTIAL_STATE="UpdateSelectionCredentialStateMsg",e.UPDATE_SELECTION_IS_PRE_CONTENT_RECORD="UpdateSelectionIsPreContentRecordMsg",e.COPY_SYSTEM_INFO="copySystemInfo",e.RENDER_CONTENT="renderContent",e))(ae||{});const pv=(e,t)=>{let n=t&&Ue(t)?void 0:t?.configuration.title;if(n){let i=(t?.configurationName||"").split("-").at(-1);return i=i?` (${i})`:"",n+=i,{title:n,problem:!1}}if(!e.configurationName)return{title:`Unknown Title Due To Missing Config Entry in ${e.saveName}`,problem:!0};if(!t)return{title:`Unknown Title Due to Missing Config ${e.configurationName}`,problem:!0};if(Ue(t))return{title:`Unknown Title  Error in ${t.configurationName}`,problem:!0};let s=t.configurationName;return s||(s=e.configurationName),s?n=`No Title (in ${s})`:n="No Title available",{title:n,problem:!0}};function gv(e,t){let n=e.filter(s=>!Ue(s));return t&&t!==Sd.UNKNOWN&&(n=n.filter(s=>mv(s,t))),n}function mv(e,t){return t===void 0?!1:e.configuration.type===t}var Ie=(e=>(e.INITIALIZING_REQUEST_COMPLETE="initializingRequestComplete",e.REFRESH_CONTENTRECORD_DATA="refreshContentRecordData",e.REFRESH_CONFIG_DATA="refreshConfigData",e.REFRESH_CREDENTIAL_DATA="refreshCredentialData",e.PUBLISH_CANCEL="publishCancel",e.PUBLISH_INIT="publishInit",e.PUBLISH_START="publishStart",e.PUBLISH_FINISH_SUCCESS="publishFinishSuccess",e.PUBLISH_FINISH_FAILURE="publishFinishFailure",e.CONTENT_RENDER_SUCCESS="contentRenderSuccess",e.CONTENT_RENDER_FAILURE="contentRenderFailure",e.UPDATE_CONTENTRECORD_SELECTION="updateContentRecordSelection",e.SAVE_SELECTION="saveSelection",e.REFRESH_FILES="refreshFiles",e.UPDATE_PYTHON_PACKAGES="updatePythonPackages",e.UPDATE_R_PACKAGES="updateRPackages",e.SHOW_DISABLE_OVERLAY="showDisableOverlay",e.HIDE_DISABLE_OVERLAY="hideDisableOverlay",e.SET_PATH_SEPARATOR="setPathSeparator",e.UPDATE_SERVER_ENVIRONMENT="updateServerEnvironment",e.REFRESH_INTEGRATION_REQUESTS="refreshIntegrationRequests",e.REFRESH_SERVER_SETTINGS="refreshServerSettings",e))(Ie||{});function bv(e){return e.kind==="initializingRequestComplete"||e.kind==="refreshContentRecordData"||e.kind==="refreshConfigData"||e.kind==="refreshCredentialData"||e.kind==="publishCancel"||e.kind==="publishInit"||e.kind==="publishStart"||e.kind==="publishFinishSuccess"||e.kind==="publishFinishFailure"||e.kind==="contentRenderSuccess"||e.kind==="contentRenderFailure"||e.kind==="updateContentRecordSelection"||e.kind==="saveSelection"||e.kind==="refreshFiles"||e.kind==="updatePythonPackages"||e.kind==="updateRPackages"||e.kind==="showDisableOverlay"||e.kind==="hideDisableOverlay"||e.kind==="setPathSeparator"||e.kind==="updateServerEnvironment"||e.kind==="refreshIntegrationRequests"||e.kind==="refreshServerSettings"}class vv{constructor(t,n){this.window=t,this.vsCodeApi=n}externalMsgCB=void 0;rawMsgCB=t=>{if(this.externalMsgCB){const n=JSON.parse(t.data);if(bv(n))this.externalMsgCB(n);else{console.error(`HostConduit::rawMsgCB, NonConduitMessage Received: ${JSON.stringify(t)}`);return}}};onMsg=t=>{this.externalMsgCB=t,this.window.addEventListener("message",this.rawMsgCB)};deactivate(){this.window.removeEventListener("message",this.rawMsgCB)}sendMsg=t=>{const n=JSON.stringify(t);this.vsCodeApi.postMessage(n)}}const Ja=e=>{let t=e;return t.endsWith("/")||(t+="/"),t},dr=e=>{const t=Object.keys(e);return!!(t.length&&t.includes("code")&&t.includes("msg")&&t.includes("operation"))},gl=e=>{if(dr(e)){const t=Object.keys(e);if(t.length&&t.includes("data"))return!0}return!1},yv=e=>gl(e)&&!Es(e)&&!ml(e),Es=e=>gl(e)&&(e.code==="invalidTOML"||e.code==="unknownTOMLKey"),ml=e=>gl(e)&&e.code==="deployedContentNotRunning",Sv=e=>e===zt.CONNECT_CLOUD,go=e=>e===Hn.CONNECT,Ti=e=>e===Hn.CONNECT_CLOUD,$i=e=>{switch(e){case zt.CONNECT:return Hn.CONNECT;case zt.SNOWFLAKE:return Hn.CONNECT;case zt.CONNECT_CLOUD:return Hn.CONNECT_CLOUD}},ue=bu("home",()=>{const e=ie("/"),t=ie(!1),n=ie(!1),s=ie(!1),i=ie(void 0),r=ie(void 0),o=ie([]),l=ie([]),a=ie([]),u=ie([]),c=k(()=>u.value.sort((d,h)=>d.name.localeCompare(h.name))),f=ie(void 0),g=ie(new Set),S=ie(new Map),p=ie([]),m=k(()=>{const d=new Map,h=P.value;return h===void 0||Ue(h)||Object.entries(h.configuration.environment||{}).forEach(([b,E])=>{d.set(b,E)}),d}),y=k(()=>{const d=[];return S.value.forEach((h,b)=>{m.value.has(b)&&d.push(b)}),d}),A=ie(!1),I=ie(),P=k(()=>{if(!I.value)return;const{configurationName:d,projectDir:h}=I.value;let b;return b=l.value.find(E=>E.configurationName===d&&E.projectDir===h),b||(b=a.value.find(E=>E.configurationName===d&&E.projectDir===h)),b});Ut([I,P],([d,h],[b])=>{const E=new Map;if(h===void 0||Ue(h)){S.value=E;return}const C=d?.saveName===b?.saveName;h.configuration.secrets?.forEach(x=>{C&&S.value?.has(x)?E.set(x,S.value.get(x)):E.set(x,void 0)}),S.value=E},{immediate:!0});const _=k(()=>u.value.find(d=>{const h=I.value?.serverType||zt.CONNECT,b=$i(h);if(Ti(b)){const E=d.accountName,C=I.value?.connectCloud?.accountName;return C?E===C:!1}else if(go(b)){const E=d.url.toLowerCase(),C=I.value?.serverUrl.toLowerCase();return C?Ja(E)===Ja(C):!1}return!1})),q=ie(),ke=ie(),Z=ie(!1),z=ie(),Y=ie(),j=ie(),le=ie(!1),se=ie(),re=ie(),M=ie(),U=ie(),H=ie(!1);function ee(d){const h=I.value,b=P.value,E=o.value.find(C=>C.deploymentPath===d?.deploymentPath);return I.value=E,h===I.value&&b===P.value}function oe(d){o.value.push(d),I.value=d}Ut([_],()=>ft());const ft=()=>{ot().sendMsg({kind:ae.UPDATE_SELECTION_CREDENTIAL_STATE,content:{state:_.value!==void 0?"true":"false"}})};Ut([I],()=>en());const en=()=>{ot().sendMsg({kind:ae.UPDATE_SELECTION_IS_PRE_CONTENT_RECORD,content:{state:Ft(I.value)?"true":"false"}})};Ut([P],()=>Fe());const Fe=()=>{const d=ot();if(I.value){const h={deploymentName:I.value.saveName,projectDir:I.value.projectDir,configurationName:P.value?.configurationName,deploymentPath:I.value.deploymentPath};d.sendMsg({kind:ae.SAVE_SELECTION_STATE,content:{state:h}})}},Me=(d,h,b,E)=>{Z.value=d,z.value=h,Y.value=b,j.value=E},tn=(d,h,b,E,C)=>{le.value=d,se.value=h,re.value=b,M.value=E,U.value=C},nn=()=>{const d=new Map;S.value.forEach((h,b)=>{d.set(b,void 0)}),S.value=d},On=k(()=>Array.from(S.value.values()).filter(d=>d!==void 0).length),xt={active:{isEmptyRequirements:k(()=>Z.value&&Y.value&&z.value&&z.value.length===0),isMissingRequirements:k(()=>Z.value&&!Y.value),isAlertActive:k(()=>xt.active.isEmptyRequirements.value||xt.active.isMissingRequirements.value),isInProject:k(()=>Z.value)}},An={active:{isMissingPackageFile:k(()=>le.value&&!re.value),isEmptyRequirements:k(()=>!!(le.value&&re.value&&se.value&&se.value.length===0)),isInProject:k(()=>le.value)}},fn={isAvailable:k(()=>!!c.value.length),active:{isMissing:k(()=>gt.active.isCredentialMissing.value),isAlertActive:k(()=>fn.active.isMissing.value)}},zs=k(()=>{const d=I.value?.serverType||zt.CONNECT,h=$i(d);return Ti(h)}),hn=k(()=>!gt.active.isAlertActive.value&&(fn.active.isAlertActive.value||xt.active.isAlertActive.value)),gt={active:{isEntryMissing:k(()=>!!(I.value&&!I.value.configurationName)),isMissing:k(()=>!!(I.value&&!P.value&&!gt.active.isInErrorList(I.value?.configurationName)&&!gt.active.isEntryMissing.value)),isTOMLError:k(()=>!!(P.value&&Ue(P.value)&&Es(P.value.error))),isUnknownType:k(()=>!!(P.value&&!Ue(P.value)&&P.value.configuration.type==="unknown")),isUnknownError:k(()=>!!(P.value&&Ue(P.value)&&yv(P.value.error))),isInErrorList:d=>d?!!a.value.find(h=>h.configurationName===I.value?.configurationName):!1,isCredentialMissing:k(()=>!!(I.value&&!_.value)),isAlertActive:k(()=>gt.active.isEntryMissing.value||gt.active.isMissing.value||gt.active.isTOMLError.value||gt.active.isUnknownError.value||gt.active.isCredentialMissing.value)}};return{platformFileSeparator:e,showDisabledOverlay:A,publishInProgress:t,publishInitiated:n,contentRenderInProgress:s,contentRenderSuccess:i,contentRenderError:r,contentRecords:o,configurations:l,configurationsInError:a,credentials:u,sortedCredentials:c,serverSettings:f,serverSecrets:g,secrets:S,integrationRequests:p,environment:m,duplicatedEnvironmentVariables:y,selectedContentRecord:I,selectedConfiguration:P,serverCredential:_,isConnectCloud:zs,initializingRequestComplete:H,lastContentRecordResult:q,lastContentRecordMsg:ke,pythonProject:Z,pythonPackages:z,pythonPackageFile:Y,pythonPackageManager:j,rProject:le,rPackages:se,rPackageFile:re,anyActiveAlerts:hn,updateSelectedContentRecordBySelector:ee,updateSelectedContentRecordByObject:oe,updateParentViewSelectionState:Fe,updatePythonPackages:Me,updateRPackages:tn,clearSecretValues:nn,secretsWithValueCount:On,python:xt,r:An,config:gt,credential:fn}});function wd(e,t,n=new Array,s=0,i){return e.forEach(r=>{const{files:o,...l}=r,a={...l,indent:s,parent:i};n.push(a),r.files.length>0&&t.has(r.id)&&wd(r.files,t,n,s+1,r.id)}),n}const bl=bu("file",()=>{const e=ue(),{sendMsg:t}=ot(),n=ie(),s=ie(new Set),i=k(()=>wd(n.value?.files||[],s.value)),r=k(()=>e.selectedContentRecord?.state!=="new"?new Set(e.selectedContentRecord?.files):new Set);function o(){t({kind:ae.REQUEST_FILES_LISTS})}function l({id:g}){t({kind:ae.INCLUDE_FILE,content:{path:g}})}function a({id:g}){t({kind:ae.EXCLUDE_FILE,content:{path:g}})}function u({id:g}){t({kind:ae.VSCODE_OPEN_RELATIVE,content:{relativePath:g}})}function c({id:g}){s.value.add(g)}function f({id:g}){s.value.delete(g)}return{files:n,expandedDirs:s,lastDeployedFiles:r,flatFiles:i,refreshFiles:o,includeFile:l,excludeFile:a,openFile:u,expandDir:c,collapseDir:f}});let jr;const wv=()=>(jr||(jr=acquireVsCodeApi()),jr);let Dt;const Ev=wv();function ot(){return Dt||(Dt=new vv(window,Ev),ko(()=>Dt&&Dt.onMsg(Cv)),Yi(()=>Dt&&Dt.deactivate()),ue().initializingRequestComplete=!1,Dt.sendMsg({kind:ae.INITIALIZING})),{sendMsg:t=>{if(!Dt){console.error(`HostCondiutService::sendMsg attempted ahead of call to useHostConduitService. Message Dropped: ${JSON.stringify(t)}`);return}return console.debug(`HostConduitService - Sending Msg: ${JSON.stringify(t)}`),Dt.sendMsg(t)}}}const Cv=e=>{switch(console.debug(`HostConduitService - Receiving Msg: ${JSON.stringify(e)}`),e.kind){case Ie.INITIALIZING_REQUEST_COMPLETE:return _v();case Ie.REFRESH_CONTENTRECORD_DATA:return Ov(e);case Ie.REFRESH_CONFIG_DATA:return Av(e);case Ie.REFRESH_CREDENTIAL_DATA:return Iv(e);case Ie.PUBLISH_CANCEL:return Tv();case Ie.PUBLISH_INIT:return $v();case Ie.PUBLISH_START:return Pv();case Ie.PUBLISH_FINISH_SUCCESS:return Nv();case Ie.PUBLISH_FINISH_FAILURE:return Dv(e);case Ie.CONTENT_RENDER_SUCCESS:return Lv();case Ie.CONTENT_RENDER_FAILURE:return Fv(e);case Ie.UPDATE_CONTENTRECORD_SELECTION:return Mv(e);case Ie.SAVE_SELECTION:return Bv();case Ie.REFRESH_FILES:return Uv(e);case Ie.UPDATE_PYTHON_PACKAGES:return Vv(e);case Ie.UPDATE_R_PACKAGES:return jv(e);case Ie.SHOW_DISABLE_OVERLAY:return Rv();case Ie.HIDE_DISABLE_OVERLAY:return kv();case Ie.SET_PATH_SEPARATOR:return xv(e);case Ie.UPDATE_SERVER_ENVIRONMENT:return Hv(e);case Ie.REFRESH_INTEGRATION_REQUESTS:return zv(e);case Ie.REFRESH_SERVER_SETTINGS:return qv(e);default:console.warn(`unexpected command: ${JSON.stringify(e)}`)}},xv=e=>{ue().platformFileSeparator=e.content.separator},_v=()=>{ue().initializingRequestComplete=!0},Rv=()=>{ue().showDisabledOverlay=!0},kv=()=>{ue().showDisabledOverlay=!1},Ov=e=>{const t=ue();t.contentRecords=e.content.contentRecords;const n=e.content.deploymentSelected;if(n===null){t.selectedContentRecord=void 0;return}if(n===void 0){t.selectedContentRecord&&t.updateSelectedContentRecordBySelector({deploymentPath:t.selectedContentRecord.deploymentPath,deploymentName:t.selectedContentRecord.deploymentName,projectDir:t.selectedContentRecord.projectDir});return}t.updateSelectedContentRecordBySelector(n)},Av=e=>{const t=ue();t.configurations=e.content.configurations,t.configurationsInError=e.content.configurationsInError},Iv=e=>{const t=ue();t.credentials=e.content.credentials},Tv=()=>{const e=ue();e.publishInProgress=!1,e.publishInitiated=!1},$v=()=>{const e=ue();e.publishInitiated=!1},Pv=()=>{const e=ue();e.publishInProgress=!0},Nv=()=>{const e=ue();e.clearSecretValues(),e.publishInProgress=!1,e.lastContentRecordResult="Last Deployment was Successful",e.lastContentRecordMsg=""},Dv=e=>{const t=ue();t.publishInProgress=!1,t.lastContentRecordResult="Last Deployment Failed",t.lastContentRecordMsg=e.content.data.message},Lv=()=>{const e=ue();e.contentRenderError=void 0,e.contentRenderSuccess=!0,e.contentRenderInProgress=!1},Fv=e=>{const t=ue();t.contentRenderError=e.content.error,t.contentRenderSuccess=!1,t.contentRenderInProgress=!1},Mv=e=>{const t=ue();t.updateSelectedContentRecordByObject(e.content.preContentRecord),e.content.saveSelection&&t.updateParentViewSelectionState()},Bv=()=>{ue().updateParentViewSelectionState()},Uv=e=>{const t=bl();e.content.files.abs!==t.files?.abs&&(t.expandedDirs=new Set),t.files=e.content.files},Vv=e=>{ue().updatePythonPackages(e.content.pythonProject,e.content.packages,e.content.file,e.content.manager)},jv=e=>{ue().updateRPackages(e.content.rProject,e.content.packages,e.content.file,e.content.manager,e.content.rVersion)},Hv=e=>{const t=ue();t.serverSecrets=new Set(e.content.environment)},zv=e=>{const t=ue();t.integrationRequests=e.content.integrationRequests},qv=e=>{const t=ue();t.serverSettings=e.content.serverSettings},Wv={class:"quick-pick-option"},Gv={class:"quick-pick-row"},Yv={class:"quick-pick-label-container"},Jv={class:"quick-pick-label"},Qv={key:0,class:"quick-pick-description"},Xv={class:"quick-pick-row"},Zv={key:0,class:"quick-pick-detail"},Kv={key:1,class:"quick-pick-detail"},ey=Re({__name:"QuickPickItem",props:{label:{},description:{},details:{},codicon:{}},setup(e){const t=n=>typeof n=="object"&&"icon"in n&&"text"in n;return(n,s)=>(w(),O("div",Wv,[$("div",Gv,[e.codicon?(w(),O("div",{key:0,class:De(["quick-pick-icon codicon",e.codicon])},null,2)):X("",!0),$("div",Yv,[$("span",Jv,me(e.label),1),e.description?(w(),O("span",Qv,me(e.description),1)):X("",!0)])]),(w(!0),O(de,null,Pt(e.details,i=>(w(),O("div",Xv,[t(i)?(w(),O("div",Zv,[$("div",{class:De(["quick-pick-icon codicon",i.icon])},null,2),$("span",null,me(i.text),1)])):(w(),O("span",Kv,me(i),1))]))),256))]))}}),Qa=Ze(ey,[["__scopeId","data-v-1ded88e6"]]),ty={class:"monaco-action-bar"},ny=["aria-label"],sy={class:"action-item menu-entry",role:"presentation"},iy=["title","aria-label","onClick","onKeydown"],ry=["data-vscode-context"],oy=["title","aria-label"],ly=Re({__name:"ActionToolbar",props:{title:{},actions:{},contextMenu:{}},setup(e){const t=e,n=ie(null),s=r=>{r instanceof PointerEvent?r.target?.dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0,clientX:r.clientX,clientY:r.clientY})):r instanceof KeyboardEvent&&r.target?.dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0,clientX:n.value?.getBoundingClientRect().x,clientY:n.value?.getBoundingClientRect().bottom}))},i=k(()=>{if(t.contextMenu)return JSON.stringify({webviewSection:t.contextMenu,preventDefaultContextMenuItems:!0})});return(r,o)=>(w(),O("div",ty,[$("ul",{class:"actions-container",role:"toolbar","aria-label":`${e.title} actions`},[(w(!0),O(de,null,Pt(e.actions,l=>(w(),O("li",sy,[$("a",{class:De(["action-label codicon",l.codicon]),role:"button",title:l.label,"aria-label":l.label,tabindex:"0",onClick:_i(l.fn,["stop"]),onKeydown:As(l.fn,["enter"])},null,42,iy)]))),256)),e.contextMenu?(w(),O("li",{key:0,ref_key:"contextMenuButton",ref:n,"data-vscode-context":i.value,class:"action-item menu-entry",role:"presentation"},[$("a",{class:"action-label codicon codicon-ellipsis",role:"button",title:`More ${e.title} actions`,"aria-label":`More ${e.title} actions`,tabindex:"0",onClick:_i(s,["stop","prevent"]),onKeydown:As(s,["enter"])},null,40,oy)],8,ry)):X("",!0)],8,ny)]))}}),fr=Ze(ly,[["__scopeId","data-v-86e03dc5"]]),ay=["disabled"],cy=Re({__name:"DeployButton",setup(e){const t=ue(),n=ot(),s=k(()=>!!t.selectedContentRecord&&!!t.selectedConfiguration&&!!t.serverCredential),i=k(()=>!s.value||t.publishInProgress||t.publishInitiated||t.contentRenderInProgress),r=()=>{if(!t.selectedContentRecord||!t.selectedConfiguration||!t.serverCredential){console.error("DeployButton::deploy trying to send message with undefined values. Action ignored.");return}t.publishInitiated=!0,t.contentRenderSuccess=void 0,t.contentRenderError=void 0;const o={};t.secrets.forEach((l,a)=>{l&&(o[a]=l)}),n.sendMsg({kind:ae.DEPLOY,content:{deploymentName:t.selectedContentRecord.saveName,configurationName:t.selectedConfiguration.configurationName,credentialName:t.serverCredential.name,projectDir:t.selectedContentRecord.projectDir,secrets:o}})};return(o,l)=>(w(),O("vscode-button",{"data-automation":"deploy-button",disabled:i.value,onClick:r}," Deploy Your Project ",8,ay))}}),uy=["disabled"],dy=Re({__name:"RenderButton",setup(e){const t=ue(),n=ot(),s=()=>{t.contentRenderError=void 0,t.contentRenderSuccess=void 0,t.contentRenderInProgress=!0,n.sendMsg({kind:ae.RENDER_CONTENT})};return(i,r)=>(w(),O("vscode-button",{"data-automation":"render-button",disabled:D(t).contentRenderInProgress,onClick:s}," Render Your Project ",8,uy))}}),fy={class:"process-in-progress"},hy={class:"flex-grow"},py={class:"process-in-progress__title-block"},gy={class:"process-in-progress__title","data-automation":"deployment-progress"},my={key:0,class:"process-in-progress__log-anchor"},by={key:1,class:"process-in-progress__render-msg"},vy=Re({__name:"ProcessProgress",emits:["viewLog"],setup(e,{emit:t}){const n=t,s=ue(),i=k(()=>s.publishInProgress?"Deployment in Progress...":s.contentRenderInProgress?"Rendering Content...":""),r=k(()=>"Quarto is running to generate your content"),o=k(()=>s.publishInProgress||Ft(s.selectedContentRecord)?"homeview-active-contentRecord-more-menu":"homeview-last-contentRecord-more-menu");return(l,a)=>{const u=Ls("ActionToolbar");return w(),O("div",fy,[a[1]||(a[1]=$("vscode-progress-ring",{class:"process-in-progress__ring"},null,-1)),$("div",hy,[$("div",py,[$("h4",gy,me(i.value),1),D(s).publishInProgress?(w(),ce(u,{key:0,title:"Logs",actions:[],"context-menu":o.value},null,8,["context-menu"])):X("",!0)]),D(s).publishInProgress?(w(),O("p",my,[$("a",{class:"webview-link",role:"button",onClick:a[0]||(a[0]=c=>n("viewLog"))}," View Publishing Log ")])):X("",!0),D(s).contentRenderInProgress?(w(),O("p",by,me(r.value),1)):X("",!0)])])}}}),yy=Ze(vy,[["__scopeId","data-v-bdffc778"]]);function Xa(e,{includeTime:t}={includeTime:!0}){const n=new Date(`${e}`).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"});if(!t)return n;const s=Sy(e);return`${n} at ${s}`}function Sy(e,{includeSeconds:t}={includeSeconds:!1}){const n={hour:"2-digit",minute:"2-digit"};return t&&(n.second="2-digit"),new Date(`${e}`).toLocaleTimeString("en-US",n)}const wy=Re({__name:"TextStringWithAnchor",props:{message:{},splitOptions:{}},emits:["click"],setup(e,{emit:t}){const n=t,s=e,i=k(()=>hv(s.message)),r=k(()=>{if(i.value!==void 0&&i.value.anchorStr){const l=s.message.split(i.value.anchorStr);if(l.length===2)return l}return["",""]}),o=()=>{i.value&&n("click",i.value.actionId)};return(l,a)=>i.value?(w(),O("span",{key:0,class:De(l.$attrs.class)},[Ce(me(r.value[0])+" ",1),$("a",{class:"webview-link",role:"button",onClick:a[0]||(a[0]=u=>o())},me(i.value?.anchorStr),1),Ce(" "+me(r.value[1]),1)],2)):(w(),O("span",{key:1,class:De(l.$attrs.class)},me(e.message),3))}}),Ey={class:"last-action-summary","data-automation":"deploy-status"},Cy={class:"last-action-summary__title"},xy={key:0},_y={key:1,class:"last-action-summary__error"},Ry={key:2,class:"date-time"},ky={key:0},Oy={key:1},Ay={key:2,class:"date-time"},Iy={key:3,class:"last-action-summary__error"},Ty={key:4,class:"view-content-button"},$y=Re({__name:"ProcessSummary",emits:["associateDeployment","viewContent","errorLinkClick"],setup(e,{emit:t}){const n=t,s=ue(),i=k(()=>!!s.selectedContentRecord?.dismissedAt),r=k(()=>Ft(s.selectedContentRecord)&&!!s.selectedContentRecord.id),o=k(()=>Ft(s.selectedContentRecord)&&!r.value),l=k(()=>{const p=s.selectedContentRecord;if(!(!p||g.value))return p?.dashboardUrl||!Ft(p)&&p.logsUrl}),a=k(()=>{const p=s.selectedContentRecord?.deploymentError;return!!(p&&ml(p))}),u=k(()=>a.value?"View Deployment Logs":"View Content"),c=k(()=>{if(s.contentRenderError)return"Content Render Failed";if(s.contentRenderSuccess)return"Content Render Finished";if(s.selectedContentRecord)return i.value?"Last Deployment Dismissed":s.selectedContentRecord.deploymentError?"Last Deployment Failed":Ft(s.selectedContentRecord)?r.value?"Not Yet Updated":"Not Yet Deployed":"Last Deployment Successful"}),f=k(()=>"Successfully rendered with Quarto"),g=k(()=>s.contentRenderSuccess!==void 0||s.contentRenderError!==void 0),S=k(()=>s.publishInProgress||Ft(s.selectedContentRecord)?"homeview-active-contentRecord-more-menu":"homeview-last-contentRecord-more-menu");return(p,m)=>{const y=Ls("ActionToolbar");return w(),O(de,null,[$("div",Ey,[$("h4",Cy,me(c.value),1),g.value?X("",!0):(w(),ce(y,{key:0,title:"Logs",actions:[],"context-menu":S.value},null,8,["context-menu"]))]),D(s).contentRenderSuccess?(w(),O("div",xy,me(f.value),1)):D(s).contentRenderError?(w(),O("div",_y,[m[4]||(m[4]=$("div",{class:"alert-border border-warning text-warning"},[$("span",{class:"codicon codicon-alert"})],-1)),$("div",null,me(D(s).contentRenderError),1)])):D(s).selectedContentRecord&&i.value?(w(),O("div",Ry,me(D(Xa)(D(s).selectedContentRecord.dismissedAt)),1)):(w(),O(de,{key:3},[o.value?(w(),O("div",ky,[m[5]||(m[5]=Ce(" Is this already deployed to a server? You can ",-1)),$("a",{class:"webview-link",role:"button",onClick:m[0]||(m[0]=A=>n("associateDeployment"))},"update that previous deployment"),m[6]||(m[6]=Ce(". ",-1))])):X("",!0),r.value?(w(),O("div",Oy,[$("a",{class:"webview-link",role:"button",onClick:m[1]||(m[1]=A=>n("viewContent"))},"This deployment"),m[7]||(m[7]=Ce(" will be updated when deployed. ",-1))])):X("",!0),D(s).selectedContentRecord&&!D(Ft)(D(s).selectedContentRecord)?(w(),O("div",Ay,me(D(Xa)(D(s).selectedContentRecord.deployedAt)),1)):X("",!0),D(s).selectedContentRecord?.deploymentError?(w(),O("div",Iy,[m[8]||(m[8]=$("div",{class:"alert-border border-warning text-warning"},[$("span",{class:"codicon codicon-alert"})],-1)),he(wy,{message:D(s).selectedContentRecord?.deploymentError?.msg,splitOptions:D(pl),class:"last-action-summary__error-anchor text-description",onClick:m[2]||(m[2]=A=>n("errorLinkClick",A))},null,8,["message","splitOptions"])])):X("",!0)],64)),l.value?(w(),O("div",Ty,[$("vscode-button",{appearance:"secondary",class:"w-full",onClick:m[3]||(m[3]=A=>n("viewContent"))},me(u.value),1)])):X("",!0)],64)}}}),Py=Ze($y,[["__scopeId","data-v-2250e2af"]]),vl=e=>av(e)?e.response?.data&&e.response.data.code:!1,Ny=(e,t)=>e.response.data.code===t,Rn=e=>t=>vl(t)&&Ny(t,e),Dy=e=>{const{error:t,data:n}=e.response.data.details;let s=`Unknown publisher agent error: ${t}`;return Object.keys(n).forEach(i=>{s+=`, ${i}=${n[i]}`}),s},Ly=Rn("tomlValidationError"),Fy=e=>`The Configuration has a schema error: ${e.response.data.details.message}`,My=Rn("invalidTOML"),By=e=>`The Configuration has a schema error on line ${e.response.data.details.line}`,Uy=Rn("unknownTOMLKey"),Vy=e=>`The Configuration has a schema error on line ${e.response.data.details.line}`,jy=Rn("tomlUnknownError"),Hy=e=>"The Configuration has a schema error",zy=Rn("pythonExecNotFound"),qy=e=>"Could not find a Python executable.",Wy=Rn("deviceAuthAccessDenied"),Gy="The authorization request was denied.",Yy=Rn("deviceAuthExpiredToken"),Jy="Your authorization session has expired.";function Qy(e){return Uy(e)?Vy(e):My(e)?By(e):Ly(e)?Fy(e):jy(e)?Hy():zy(e)?qy():Wy(e)?Gy:Yy(e)?Jy:Dy(e)}const Xy=e=>{if(_e.isAxiosError(e))return e.response?.status},Zy=e=>{if(_e.isAxiosError(e))return e.response?.statusText},Ky=e=>{if(_e.isAxiosError(e)||dr(e))return e.code},Ed=e=>{try{if(vl(e))return Qy(e);if(_e.isAxiosError(e))return e.response?.data||e.message;if(dr(e))return e.msg;if(e instanceof Error)return e.message}catch{}return""},eS=e=>{if(_e.isAxiosError(e)&&e.config)return{baseURL:e.config.baseURL,method:e.config.method,url:e.config.url}},tS=(e,t)=>{let n=`Posit Publisher: An error has occurred at ${e}`,s=Ed(t);if(s===""?(s="Unknown Error",n+=`: ${s}, ${JSON.stringify(t)}`):n+=`: ${s}`,dr(t))t.code&&(n+=`, Code=${t.code}`),t.operation&&(n+=`, Operation=${t.operation}`);else if(!vl(t)){const i=nS(t);i?(i.status&&(n+=`, Status=${i.status}`),i.statusText&&(n+=`, StatusText=${i.statusText}`),i.code&&(n+=`, Code=${i.code}`),i.msg&&(n+=`, Msg=${i.msg}`),(i.baseURL||i.method||i.url)&&(n+=`, URL=${i.baseURL}/${i.method}/${i.url}`)):n+=`, Error=${t}`}return console.error(n),s},nS=e=>{const t=Xy(e),n=Zy(e),s=Ky(e),i=Ed(e),r=eS(e);if(t||n||s||i||r)return{status:t,statusText:n,code:s,msg:i,...r}},sS={key:0,"data-automation":"publisher-deployment-section"},iS={class:"label"},rS={key:1},oS={key:2,"data-automation":"missing-config"},lS={key:3,"data-automation":"edit-config"},aS={key:4},cS={key:5},uS={key:6,"data-automation":"missing-creds"},dS={key:1},fS=Re({__name:"EvenEasierDeploy",setup(e){const t=ue(),n=ot(),s=k(()=>{if(!t.selectedConfiguration)return"";const M=Ue(t.selectedConfiguration)?t.selectedConfiguration.error:null;return M?tS("EvenEasierDeploy",M):""}),i=k(()=>{const M=[];return M.push({label:"Add Deployment",codicon:"codicon-add",fn:o}),t.selectedConfiguration&&M.push({label:"Edit Configuration",codicon:"codicon-edit",fn:()=>l(t.selectedConfiguration.configurationPath)}),M}),r=()=>{n.sendMsg({kind:ae.SELECT_DEPLOYMENT})},o=()=>{n.sendMsg({kind:ae.NEW_DEPLOYMENT})},l=(M,U)=>{n.sendMsg({kind:ae.EDIT_CONFIGURATION,content:{configurationPath:M,selection:U}})},a=()=>{n.sendMsg({kind:ae.VIEW_PUBLISHING_LOG})},u=k(()=>gv(t.configurations,t.selectedContentRecord?.type)),c=k(()=>u.value.length>0?"even-easier-deploy-more-menu-matching-configs":"even-easier-deploy-more-menu-no-matching-configs"),f=k(()=>u.value.length>0?"Select a Configuration":"Create a Configuration"),g=k(()=>t.selectedContentRecord?pv(t.selectedContentRecord,t.selectedConfiguration).title:""),S=k(()=>{const M=[];return M.push({icon:"codicon-server",text:p.value}),y.value&&M.push({icon:"codicon-file",text:y.value}),M}),p=k(()=>{if(t.serverCredential?.name)return`${t.serverCredential.name}`;const M=t.selectedContentRecord?.serverType||zt.CONNECT,U=$i(M);return Ti(U)?`Missing Credential for ${fl.CONNECT_CLOUD}`:go(U)?`Missing Credential for ${t.selectedContentRecord?.serverUrl}`:"Missing Credential"}),m=k(()=>{const M=t.selectedContentRecord?.serverType||zt.CONNECT,U=$i(M);return Ti(U)?"No credential was found for the deployment's account.":go(U)?"No credential was found for the deployment's server.":""}),y=k(()=>{if(t.selectedConfiguration&&!Ue(t.selectedConfiguration)){const M=t.selectedContentRecord,U=t.selectedConfiguration;if(M){let H="";return M.projectDir!=="."&&(H=`${M.projectDir}${t.platformFileSeparator}`),t.config.active.isUnknownError||(H+=U.configuration.entrypoint),H}}return"ProjectDir and Entrypoint not determined"}),A=()=>{n.sendMsg({kind:ae.SHOW_SELECT_CONFIGURATION})},I=k(()=>t.publishInProgress||t.contentRenderInProgress),P=k(()=>!!(t.selectedConfiguration&&!Ue(t.selectedConfiguration)&&t.selectedConfiguration.configuration.source)),_=k(()=>{let M="unknown";return t.selectedConfiguration&&!Ue(t.selectedConfiguration)&&t.selectedConfiguration.configuration.entrypoint&&(M=t.selectedConfiguration.configuration.entrypoint),`Deployment Details
- Deployment Record: ${t.selectedContentRecord?.saveName||"<undefined>"}
- Configuration File: ${t.selectedConfiguration?.configurationName||"<undefined>"}
- Credential In Use: ${t.serverCredential?.name||"<undefined>"}
- Project Dir: ${t.selectedContentRecord?.projectDir||"<undefined>"}
- Entrypoint: ${M}
- Server URL: ${t.serverCredential?.url||"<undefined>"}`}),q=k(()=>{if(t.selectedConfiguration&&Ue(t.selectedConfiguration)&&Es(t.selectedConfiguration.error))return t.selectedConfiguration.error}),ke=k(()=>{const M=q.value;return M&&Es(M)?`on line ${M.data.line}`:""}),Z=k(()=>{const M=t.selectedContentRecord?.deploymentError;return!!(M&&ml(M))}),z=()=>{const M=q.value;M&&Es(M)&&l(t.selectedConfiguration.configurationPath,{start:{line:M.data.line-1,character:M.data.column-1}}),console.error("EvenEasierDeploy::onEditConfigurationWithTOMLError, error is not expected type. Ignoring.")},Y=M=>{const U=pl.find(H=>H.actionId===M);if(!U){console.error("EvenEasierDeploy::onErrorMessageAnchorClick, event does not match options. Ignoring.");return}if(U.actionId===hl.EditConfiguration){l(t.selectedConfiguration.configurationPath);return}},j=M=>{n.sendMsg({kind:ae.NAVIGATE,content:{uriPath:M}})},le=()=>{n.sendMsg({kind:ae.NEW_CREDENTIAL_FOR_DEPLOYMENT})},se=()=>{n.sendMsg({kind:ae.SHOW_ASSOCIATE_GUID})},re=()=>{const M=t.selectedContentRecord;M&&(Z.value&&!Ft(M)?j(M.logsUrl):M.dashboardUrl&&j(M.dashboardUrl))};return(M,U)=>D(t).initializingRequestComplete?(w(),O("div",sS,[$("div",iS,[U[4]||(U[4]=$("span",{class:"text-sm text-sidebar-section-header"},"DEPLOYMENT",-1)),he(fr,{title:"Deployment",actions:i.value,"context-menu":D(t).selectedContentRecord?c.value:void 0},null,8,["actions","context-menu"])]),D(t).selectedContentRecord?(w(),O(de,{key:0},[$("div",Wn({class:"deployment-control"},Rs({click:r},!0)),[he(Qa,{label:g.value,details:S.value,title:_.value,"data-automation":"entrypoint-label"},null,8,["label","details","title"]),U[5]||(U[5]=$("div",{class:"select-indicator codicon codicon-chevron-right","aria-hidden":"true"},null,-1))],16),D(t).duplicatedEnvironmentVariables.length?(w(),O(de,{key:0},[$("p",null,[D(t).duplicatedEnvironmentVariables.length===1?(w(),O(de,{key:0},[Ce(" A variable was set as both a secret and environment variable. It must only be set as one or the other. ")],64)):X("",!0),D(t).duplicatedEnvironmentVariables.length>1?(w(),O(de,{key:1},[Ce(" Variables were set as both secrets and environment variables. They must only be set as one or the other. ")],64)):X("",!0),$("a",{class:"webview-link",role:"button",onClick:U[0]||(U[0]=H=>l(D(t).selectedConfiguration.configurationPath))},"Edit the Configuration"),U[6]||(U[6]=Ce(". ",-1))]),$("p",null,me(D(t).duplicatedEnvironmentVariables.join(", ")),1),U[7]||(U[7]=$("p",null,null,-1))],64)):X("",!0),D(t).config.active.isEntryMissing?(w(),O("p",rS,[Ce(" No Config Entry in Deployment record - "+me(D(t).selectedContentRecord?.saveName)+". ",1),$("a",{class:"webview-link",role:"button",onClick:A},me(f.value),1),U[8]||(U[8]=Ce(". ",-1))])):X("",!0),D(t).config.active.isMissing?(w(),O("p",oS,[U[9]||(U[9]=Ce(" The last Configuration used for this Deployment was not found. ",-1)),$("a",{class:"webview-link",role:"button",onClick:A,"data-automation":"config-button"},me(f.value),1),U[10]||(U[10]=Ce(". ",-1))])):X("",!0),D(t).config.active.isTOMLError?(w(),O("p",lS,[Ce(" The selected Configuration has a schema error "+me(ke.value)+". ",1),$("a",{class:"webview-link",role:"button",onClick:U[1]||(U[1]=H=>z()),"data-automation":"edit-config-button"},"Edit the Configuration"),U[11]||(U[11]=Ce(". ",-1))])):X("",!0),D(t).config.active.isUnknownType?(w(),O("p",aS,[U[12]||(U[12]=Ce(" Please set the framework you are using, for example ",-1)),U[13]||(U[13]=$("code",null,"type = 'python-shiny'",-1)),U[14]||(U[14]=Ce(". ",-1)),$("a",{class:"webview-link",role:"button",onClick:U[2]||(U[2]=H=>l(D(t).selectedConfiguration.configurationPath))},"Edit the Configuration"),U[15]||(U[15]=Ce(". ",-1))])):X("",!0),D(t).config.active.isUnknownError?(w(),O("p",cS,[Ce(" The selected Configuration has an error: "+me(s.value)+" ",1),$("a",{class:"webview-link",role:"button",onClick:U[3]||(U[3]=H=>l(D(t).selectedConfiguration.configurationPath))},"Edit the Configuration"),U[16]||(U[16]=Ce(". ",-1))])):X("",!0),D(t).config.active.isCredentialMissing?(w(),O("p",uS,[Ce(me(m.value)+" ",1),$("a",{class:"webview-link",role:"button",onClick:le,"data-automation":"creds-button"},"Create a new Credential"),U[17]||(U[17]=Ce(". ",-1))])):X("",!0),P.value?(w(),ce(dy,{key:7,class:"w-full render-btn"})):X("",!0),he(cy,{class:"w-full"})],64)):(w(),O("div",Wn({key:1,class:"deployment-control"},Rs({click:r},!0)),[he(Qa,{label:"Select...",details:["(new or existing)"],"data-automation":"select-deployment"}),U[18]||(U[18]=$("div",{class:"select-indicator codicon codicon-chevron-down","aria-hidden":"true"},null,-1))],16)),D(t).selectedContentRecord&&D(t).selectedContentRecord.serverType?(w(),O(de,{key:2},[U[19]||(U[19]=$("vscode-divider",{class:"home-view-divider"},null,-1)),I.value?(w(),ce(yy,{key:0,onViewLog:a})):(w(),ce(Py,{key:1,onAssociateDeployment:se,onViewContent:re,onErrorLinkClick:Y}))],64)):X("",!0)])):(w(),O("div",dS,[...U[20]||(U[20]=[$("div",{class:"progress-container"},[$("div",{class:"progress-desc"},[$("div",null,"Scanning directories...")])],-1)])]))}}),hS=Ze(fS,[["__scopeId","data-v-0a92b93c"]]),pS={class:"count-badge"},gS=Re({__name:"CountBadge",props:{count:{}},setup(e){return(t,n)=>(w(),O("div",pS,me(e.count),1))}}),mS=Ze(gS,[["__scopeId","data-v-bcab692a"]]),bS=["onKeydown"],vS={class:"title"},yS={key:0,class:"description"},SS={key:1,class:"description"},wS={key:0,class:"actions"},ES={key:1,class:"count"},CS={class:"pane-body"},xS=Re({__name:"TreeSection",props:En({title:{},description:{},codicon:{},actions:{},count:{}},{expanded:{required:!1,default:!1},expandedModifiers:{}}),emits:["update:expanded"],setup(e){const t=Ji(e,"expanded"),n=()=>{t.value=!t.value};return(s,i)=>(w(),O("div",{class:De(["pane",{expanded:t.value}])},[$("div",{class:De(["pane-header",{expanded:t.value}]),tabindex:"0",onKeydown:As(_i(n,["self"]),["enter"])},[$("div",{class:"pane-header-title-container",onClick:n},[$("div",{class:De(["twisty-container codicon",t.value?"codicon-chevron-down":"codicon-chevron-right"])},null,2),$("h3",vS,me(e.title),1),s.$slots.description?(w(),O("span",yS,[nt(s.$slots,"description",{},void 0,!0)])):e.description?(w(),O("span",SS,me(e.description),1)):X("",!0),e.codicon&&!t.value?(w(),O("div",{key:2,class:De(["tree-section-icon codicon",e.codicon])},null,2)):X("",!0)]),e.actions?(w(),O("div",wS,[he(fr,{title:e.title,actions:e.actions},null,8,["title","actions"])])):X("",!0),e.count?(w(),O("div",ES,[he(mS,{count:e.count},null,8,["count"])])):X("",!0)],42,bS),Ds($("div",CS,[nt(s.$slots,"default",{},void 0,!0)],512),[[Do,t.value]])],2))}}),kn=Ze(xS,[["__scopeId","data-v-16f679f1"]]),_S=["checked","disabled"],RS={class:"text"},kS=Re({__name:"CodeCheckbox",props:{checked:{type:Boolean},disabled:{type:Boolean},disableOpacity:{type:Boolean}},emits:["changed"],setup(e,{emit:t}){Lo(i=>({v433e2b66:i.disableOpacity?1:"var(--disabled-opacity)"}));const n=t,s=i=>{const r=i.target.checked;n("changed",r)};return(i,r)=>(w(),O("div",{class:De(["vscode-checkbox",{disabled:e.disabled}])},[$("label",null,[$("input",{checked:e.checked,disabled:e.disabled,type:"checkbox",onChange:s},null,40,_S),r[0]||(r[0]=$("span",{class:"icon"},[$("i",{class:"codicon codicon-check icon-checked"}),$("i",{class:"codicon codicon-chrome-minimize icon-indeterminate"})],-1)),$("span",RS,[nt(i.$slots,"default",{},void 0,!0)])])],2))}}),OS=Ze(kS,[["__scopeId","data-v-2c7dbba7"]]),AS=["title"],IS={class:"indent"},TS={class:"indent-guide"},$S={class:"tree-item-title"},PS={key:0,class:"tree-item-description"},NS={key:0,class:"actions"},DS={key:1},LS={class:"tree-item-children"},FS=Re({__name:"TreeItemCheckbox",props:En({title:{},checked:{type:Boolean},disabled:{type:Boolean},listStyle:{default:"default"},description:{},tooltip:{},alignIconWithTwisty:{type:Boolean},actions:{},indentLevel:{default:1},expandable:{type:Boolean,default:!1},virtualized:{type:Boolean,default:!1},disableOpacity:{type:Boolean,default:!1}},{expanded:{required:!1,default:!1},expandedModifiers:{}}),emits:En(["check","uncheck","expand","collapse"],["update:expanded"]),setup(e,{emit:t}){Lo(a=>({c46eeea4:a.indentLevel}));const n=Ji(e,"expanded"),s=e,i=Fc(),r=t,o=()=>{n.value=!n.value,r(n.value?"expand":"collapse")},l=k(()=>!!(i.default||s.expandable));return(a,u)=>(w(),O("div",{class:De(["tree-item",{"align-icon-with-twisty":e.alignIconWithTwisty,collapsible:l.value,"text-list-emphasized":e.listStyle==="emphasized","text-foreground":e.listStyle==="default","text-list-deemphasized":e.listStyle==="deemphasized"}])},[$("div",{class:De(["tree-item-container",e.virtualized?"class-hover":void 0]),title:e.tooltip},[$("div",IS,[(w(!0),O(de,null,Pt(e.indentLevel-1,c=>(w(),O("div",TS))),256))]),$("div",Wn({class:["twisty-container text-icon",[{codicon:l.value},e.expandable||a.$slots.default?n.value?"codicon-chevron-down":"codicon-chevron-right":void 0]]},Rs({click:l.value?o:void 0},!0)),null,16),he(OS,{checked:e.checked,disabled:e.disabled,"disable-opacity":e.disableOpacity,class:"tree-item-checkbox",onChanged:u[0]||(u[0]=c=>e.checked?a.$emit("uncheck"):a.$emit("check"))},{default:Oe(()=>[$("span",$S,me(e.title),1),e.description?(w(),O("span",PS,me(e.description),1)):X("",!0)]),_:1},8,["checked","disabled","disable-opacity"]),e.actions?(w(),O("div",NS,[he(fr,{title:e.title,actions:e.actions},null,8,["title","actions"])])):X("",!0),a.$slots.postDecor?(w(),O("div",DS,[nt(a.$slots,"postDecor",{},void 0,!0)])):X("",!0)],10,AS),Ds($("div",LS,[nt(a.$slots,"default",{indentLevel:e.indentLevel+1},void 0,!0)],512),[[Do,l.value&&n.value]])],2))}}),MS=Ze(FS,[["__scopeId","data-v-2785950f"]]);function BS(e,{isEntrypoint:t=!1,isPackageFile:n=!1}={}){let s=`${e.rel} will be included in the next deployment.`;return e.reason&&(s+=`
The configuration file ${e.reason?.fileName} is including it with the pattern '${e.reason?.pattern}'`),t&&(s+=`
${e.rel} is the entrypoint. Entrypoints must be included in the configuration 'files' list.`),n&&(s+=`
${e.rel} is a package file. Package files must be included in the configuration 'files' list.`),s}function US(e){let t=`${e.rel} will be excluded in the next deployment.`;return e.reason?e.reason.source===po.BUILT_IN?t+=`
This is a built-in exclusion for the pattern: '${e.reason.pattern}' and cannot be overridden.`:e.reason.source===po.PERMISSIONS_ERROR?t+=`
You don't have permission to access this directory.`:t+=`
The configuration file ${e.reason?.fileName} is excluding it with the pattern '${e.reason?.pattern}'`:t+=`
It did not match any pattern in the configuration 'files' list.`,t}const VS=Re({__name:"ProjectFile",props:{file:{}},setup(e){const t=e,n=ue(),s=bl(),i=k(()=>{const y=t.file.reason?.source;return u.value&&r.value||c.value&&r.value||y==="built-in"||y==="permissions"}),r=k(()=>t.file.reason?.exclude===!1),o=k(()=>s.lastDeployedFiles.has(t.file.id)),l=k(()=>t.file.isFile&&r.value&&!o.value),a=k(()=>t.file.isFile&&!r.value&&o.value),u=k(()=>{const y=n.selectedConfiguration;return y!=null&&!Ue(y)?t.file.id===y.configuration.entrypoint:!1}),c=k(()=>f.value||g.value),f=k(()=>{const y=n.selectedConfiguration;return y!=null&&!Ue(y)?t.file.id===y.configuration.python?.packageFile:!1}),g=k(()=>{const y=n.selectedConfiguration;return y!=null&&!Ue(y)?t.file.id===y.configuration.r?.packageFile:!1}),S=k(()=>u.value?"emphasized":r.value?"default":"deemphasized"),p=k(()=>r.value?BS(t.file,{isEntrypoint:u.value,isPackageFile:c.value}):US(t.file)),m=k(()=>{let y=[];return t.file.isFile&&y.push({label:"Open file",codicon:"codicon-link-external",fn:()=>{s.openFile(t.file)}}),y});return(y,A)=>{const I=Ls("PostDecor");return w(),ce(MS,{title:e.file.base,checked:r.value,disabled:i.value,"list-style":S.value,"disable-opacity":u.value||c.value,"indent-level":e.file.indent+1,expandable:e.file.isDir,tooltip:p.value,actions:m.value,virtualized:!0,onCheck:A[0]||(A[0]=P=>D(s).includeFile(e.file)),onUncheck:A[1]||(A[1]=P=>D(s).excludeFile(e.file)),onExpand:A[2]||(A[2]=P=>D(s).expandDir(e.file)),onCollapse:A[3]||(A[3]=P=>D(s).collapseDir(e.file))},{postDecor:Oe(()=>[l.value?(w(),ce(I,{key:0,class:"text-git-added","data-automation":`${e.file.id}-decorator`},{default:Oe(()=>[...A[4]||(A[4]=[Ce(" A ",-1)])]),_:1},8,["data-automation"])):X("",!0),a.value?(w(),ce(I,{key:1,class:"text-git-deleted"},{default:Oe(()=>[...A[5]||(A[5]=[Ce("R",-1)])]),_:1})):X("",!0)]),_:1},8,["title","checked","disabled","list-style","disable-opacity","indent-level","expandable","tooltip","actions"])}}}),jS={key:1},HS=Re({__name:"ProjectFiles",setup(e){const t=bl();return(n,s)=>{const i=Ls("RecycleScroller");return w(),ce(kn,{"data-automation":"project-files",title:"Project Files",actions:[{label:"Refresh Project Files",codicon:"codicon-refresh",fn:()=>D(t).refreshFiles}]},{default:Oe(()=>[D(t).flatFiles.length?(w(),ce(i,{key:0,class:"scroller",items:D(t).flatFiles,"item-size":22},{default:Oe(({item:r})=>[he(VS,{file:r},null,8,["file"])]),_:1},8,["items"])):(w(),O("p",jS,"No files found"))]),_:1},8,["actions"])}}}),zS=Ze(HS,[["__scopeId","data-v-b0723544"]]),qS={},WS={class:"welcome-view"};function GS(e,t){return w(),O("div",WS,[nt(e.$slots,"default")])}const Yn=Ze(qS,[["render",GS]]),YS=["title"],JS={class:"indent"},QS={class:"indent-guide"},XS={class:"tree-item-label-container"},ZS={class:"tree-item-title","data-automation":"req"},KS={key:0,class:"tree-item-description"},ew={key:1,class:"tree-item-description"},tw={key:2,class:"actions"},nw={key:3},sw={class:"tree-item-children"},iw=Re({__name:"TreeItem",props:En({title:{},listStyle:{default:"default"},description:{},tooltip:{},alignIconWithTwisty:{type:Boolean},codicon:{},positIcon:{},actions:{},indentLevel:{default:1},expandable:{type:Boolean,default:!1},virtualized:{type:Boolean,default:!1}},{expanded:{required:!1,default:!1},expandedModifiers:{}}),emits:En(["expand","collapse"],["update:expanded"]),setup(e,{emit:t}){Lo(a=>({v438fa41e:a.indentLevel}));const n=Ji(e,"expanded"),s=e,i=Fc(),r=t,o=()=>{n.value=!n.value,r(n.value?"expand":"collapse")},l=k(()=>!!(i.default||s.expandable));return(a,u)=>(w(),O("div",{class:De(["tree-item",{"align-icon-with-twisty":e.alignIconWithTwisty,collapsible:l.value,"text-list-emphasized":e.listStyle==="emphasized","text-foreground":e.listStyle==="default","text-list-deemphasized":e.listStyle==="deemphasized"}])},[$("div",Wn({class:["tree-item-container",e.virtualized?"class-hover":void 0],title:e.tooltip},Rs({click:l.value?o:void 0},!0)),[$("div",JS,[(w(!0),O(de,null,Pt(e.indentLevel-1,c=>(w(),O("div",QS))),256))]),$("div",{class:De(["twisty-container text-icon",[{codicon:l.value},e.expandable||a.$slots.default?n.value?"codicon-chevron-down":"codicon-chevron-right":void 0]])},null,2),e.codicon?(w(),O("i",{key:0,class:De(["tree-item-icon text-icon codicon",e.codicon])},null,2)):X("",!0),e.positIcon?(w(),O("i",{key:1,class:De(["tree-item-icon text-icon",e.positIcon])},null,2)):X("",!0),$("div",XS,[$("span",ZS,me(e.title),1),a.$slots.description?(w(),O("span",KS,[nt(a.$slots,"description",{},void 0,!0)])):e.description?(w(),O("span",ew,me(e.description),1)):X("",!0)]),e.actions?(w(),O("div",tw,[he(fr,{title:e.title,actions:e.actions},null,8,["title","actions"])])):X("",!0),a.$slots.postDecor?(w(),O("div",nw,[nt(a.$slots,"postDecor",{},void 0,!0)])):X("",!0)],16,YS),Ds($("div",sw,[nt(a.$slots,"default",{indentLevel:e.indentLevel+1},void 0,!0)],512),[[Do,l.value&&n.value]])],2))}}),an=Ze(iw,[["__scopeId","data-v-67008a82"]]),rw=["aria-label"],ow=Re({__name:"SidebarInput",props:En({label:{}},{modelValue:{},modelModifiers:{}}),emits:En(["submit","cancel"],["update:modelValue"]),setup(e,{expose:t}){const n=Ji(e,"modelValue"),s=e,i=ie(null),r=k(()=>`${s.label}. Press Enter to confirm or Escape to cancel.`);return t({select:()=>{i.value?.select()}}),(l,a)=>Ds((w(),O("input",{"onUpdate:modelValue":a[0]||(a[0]=u=>n.value=u),ref_key:"input",ref:i,class:"sidebar-input","aria-label":r.value,onKeydown:[a[1]||(a[1]=As(_i(u=>l.$emit("submit"),["prevent"]),["enter"])),a[2]||(a[2]=As(u=>l.$emit("cancel"),["escape"]))]},null,40,rw)),[[Vh,n.value]])}}),lw=Ze(ow,[["__scopeId","data-v-54352c6e"]]),aw=Re({__name:"Secret",props:{name:{}},setup(e){const t=e,n=ie(null),s=ie(!1),i=ie(),r=ue(),o=k(()=>r.secrets.get(t.name)),l=k(()=>r.serverSecrets.has(t.name)),a=k(()=>!o.value&&!l.value),u=()=>{i.value=o.value,s.value=!0,Ns(()=>n.value?.select())},c=()=>{r.secrets.set(t.name,i.value),s.value=!1},f=k(()=>l.value?o.value?"On the next deploy the secret will be overwritten with the new value.":"The value is set on the server. Set a new value to overwrite it on the next deploy.":o.value?"On the next deploy the secret will be set.":"The secret will not be created on the next deploy without a value. Set a value to set it."),g=k(()=>{if(s.value)return[];const p=[{label:"Edit Value",codicon:"codicon-symbol-string",fn:u}];return o.value&&p.push({label:"Clear Value",codicon:"codicon-remove",fn:()=>{r.secrets.set(t.name,void 0)}}),p}),S=k(()=>JSON.stringify({name:t.name,webviewSection:"secrets-tree-item",preventDefaultContextMenuItems:!0}));return(p,m)=>(w(),ce(an,{title:e.name,actions:g.value,codicon:a.value?"codicon-warning":o.value?"codicon-cloud-upload":"codicon-check","list-style":a.value||o.value||s.value?"default":"deemphasized",tooltip:f.value,"align-icon-with-twisty":"","data-vscode-context":S.value},{description:Oe(()=>[s.value?(w(),ce(lw,{key:0,ref_key:"input",ref:n,modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=y=>i.value=y),class:"w-full",label:"Type secret value",onSubmit:c,onCancel:m[1]||(m[1]=y=>s.value=!1)},null,8,["modelValue"])):a.value?X("",!0):(w(),O(de,{key:1},[Ce("")],64))]),_:1},8,["title","actions","codicon","list-style","tooltip","data-vscode-context"]))}}),cw=Re({__name:"Secrets",setup(e){const t=ue(),{sendMsg:n}=ot(),s=k(()=>{const i=[{label:"Add Secret",codicon:"codicon-add",fn:()=>{n({kind:ae.ADD_SECRET})}}];return t.secretsWithValueCount>0&&i.push({label:"Clear Values for all Secrets",codicon:"codicon-clear-all",fn:()=>{t.secrets.forEach((r,o)=>{t.secrets.set(o,void 0)})}}),i});return(i,r)=>(w(),ce(kn,{title:"Secrets",actions:s.value,count:D(t).secretsWithValueCount},{default:Oe(()=>[D(t).secrets.size?(w(!0),O(de,{key:0},Pt(D(t).secrets,([o])=>(w(),ce(aw,{name:o,key:o},null,8,["name"]))),128)):(w(),ce(Yn,{key:1},{default:Oe(()=>[...r[0]||(r[0]=[$("p",null,"No secrets have been added to the configuration.",-1)])]),_:1}))]),_:1},8,["actions","count"]))}}),uw=Re({__name:"IntegrationRequests",setup(e){const{sendMsg:t}=ot(),n=ue(),s=k(()=>{const o=n.serverSettings?.license?.["oauth-integrations"]??!1,l=n.serverSettings?.oauth_integrations_enabled??!1;return o&&l}),i=k(()=>{if(!s.value)return[];const o=[{label:"Add Integration Request",codicon:"codicon-add",fn:()=>{t({kind:ae.ADD_INTEGRATION_REQUEST})}}];return n.integrationRequests.length>0&&o.push({label:"Clear all Integration Requests",codicon:"codicon-clear-all",fn:()=>{t({kind:ae.CLEAR_ALL_INTEGRATION_REQUESTS})}}),o}),r=o=>[{label:"Delete Integration Request",codicon:"codicon-trash",fn:()=>t({kind:ae.DELETE_INTEGRATION_REQUEST,content:{request:o}})}];return(o,l)=>(w(),ce(kn,{title:"Integration Requests","data-automation":"publisher-integrationRequests-section",actions:i.value},{default:Oe(()=>[D(n).serverSettings!==void 0&&!s.value?(w(),ce(Yn,{key:0},{default:Oe(()=>[...l[0]||(l[0]=[$("p",null," OAuth Integrations are not supported with your current server configuration or license. Please contact your server administrator for more information. ",-1)])]),_:1})):D(n).integrationRequests.length?(w(!0),O(de,{key:2},Pt(D(n).integrationRequests,a=>(w(),ce(an,{title:a.displayName??"",description:a.displayDescription??"","data-automation":`integration-request-${a.name||""}-list`,codicon:"posit-publisher-icons-posit-logo",actions:r(a),"align-icon-with-twisty":""},null,8,["title","description","data-automation","actions"]))),256)):(w(),ce(Yn,{key:1},{default:Oe(()=>[...l[1]||(l[1]=[$("p",null,"No integration requests have been added yet.",-1)])]),_:1}))]),_:1},8,["actions"]))}}),dw={key:1},fw=Re({__name:"PythonPackages",setup(e){const t=ue(),n=ot(),s=()=>{n.sendMsg({kind:ae.REFRESH_PYTHON_PACKAGES})},i=()=>{n.sendMsg({kind:ae.SCAN_PYTHON_PACKAGE_REQUIREMENTS})},r=()=>{t.pythonPackageFile&&n.sendMsg({kind:ae.VSCODE_OPEN_RELATIVE,content:{relativePath:t.pythonPackageFile}})},o=k(()=>{const a=[];return t.pythonPackageFile&&a.push({label:"Edit Package Requirements File",codicon:"codicon-edit",fn:r}),a.push({label:"Refresh Packages",codicon:"codicon-refresh",fn:s}),t.pythonPackageFile&&a.push({label:"Scan For Package Requirements",codicon:"codicon-eye",fn:i}),a}),l=k(()=>!t.python.active.isInProject||t.python.active.isEmptyRequirements||t.python.active.isMissingRequirements);return(a,u)=>(w(),ce(kn,{title:"Python Packages","data-automation":"python-packages",actions:o.value,codicon:D(t).python.active.isAlertActive?"codicon-alert":""},{default:Oe(()=>[l.value?(w(),ce(Yn,{key:0},{default:Oe(()=>[D(t).python.active.isMissingRequirements?(w(),O(de,{key:0},[u[2]||(u[2]=$("p",null," To deploy Python content, you need a package file listing any package dependencies, but the file does not exist. Click Scan to create one based on the files in your project and your configuration. ",-1)),$("vscode-button",{onClick:u[0]||(u[0]=c=>i())}," Scan ")],64)):D(t).python.active.isInProject?D(t).python.active.isEmptyRequirements?(w(),O(de,{key:2},[u[3]||(u[3]=$("p",null," This project currently has no Python package requirements. If this is not accurate, click Scan to update based on the files in your project and configuration. ",-1)),$("vscode-button",{onClick:u[1]||(u[1]=c=>i())}," Scan ")],64)):X("",!0):(w(),O("p",dw," This project is not configured to use Python. To configure Python, add a [python] section to your configuration file. "))]),_:1})):(w(!0),O(de,{key:1},Pt(D(t).pythonPackages,c=>(w(),ce(an,{key:c,title:c,codicon:"codicon-package","align-icon-with-twisty":""},null,8,["title"]))),128))]),_:1},8,["actions","codicon"]))}}),hw=["disabled"],pw={key:1,"data-automation":"r-not-configured"},gw=Re({__name:"RPackages",setup(e){const t=ue(),n=ot(),s=ie(!1),i=()=>{n.sendMsg({kind:ae.REFRESH_R_PACKAGES})},r=()=>{s.value=!0,n.sendMsg({kind:ae.SCAN_R_PACKAGE_REQUIREMENTS})},o=()=>{t.rPackageFile&&n.sendMsg({kind:ae.VSCODE_OPEN_RELATIVE,content:{relativePath:t.rPackageFile}})},l=()=>{n.sendMsg({kind:ae.NAVIGATE,content:{uriPath:"https://rstudio.github.io/renv/articles/renv.html"}})},a=k(()=>{const f=[];return t.rPackageFile&&f.push({label:"Edit Package Requirements File",codicon:"codicon-edit",fn:o}),f.push({label:"Refresh Packages",codicon:"codicon-refresh",fn:i}),f}),u=k(()=>!t.r.active.isInProject||t.r.active.isEmptyRequirements||t.r.active.isMissingPackageFile);k(()=>{if(t.selectedConfiguration&&!Ue(t.selectedConfiguration))return t.selectedConfiguration.configuration.r?.packageFile||"renv.lock"});const c=k(()=>t.r.active.isMissingPackageFile||t.r.active.isEmptyRequirements);return(f,g)=>(w(),ce(kn,{title:"R Packages","data-automation":"r-packages",actions:a.value},{default:Oe(()=>[u.value?(w(),ce(Yn,{key:0},{default:Oe(()=>[c.value?(w(),O(de,{key:0},[g[2]||(g[2]=$("p",null,"Dependencies will be detected automatically.",-1)),$("p",null,[g[1]||(g[1]=Ce(" Alternatively, set up renv to use an isolated library and create a lockfile. ",-1)),$("a",{class:"webview-link",role:"button",onClick:l},"See the renv documentation for more details.")]),$("vscode-button",{onClick:g[0]||(g[0]=S=>r()),disabled:s.value,"aria-label":"Set Up renv"}," Set Up renv ",8,hw)],64)):X("",!0),D(t).r.active.isInProject?X("",!0):(w(),O("p",pw," This project is not configured to use R. To configure R, add an [r] section to your configuration file. "))]),_:1})):(w(!0),O(de,{key:1},Pt(D(t).rPackages,S=>(w(),ce(an,{key:S.package,title:S.package,description:S.version,tooltip:S.source+": "+S.repository,codicon:"codicon-package","align-icon-with-twisty":""},null,8,["title","description","tooltip"]))),128))]),_:1},8,["actions"]))}}),mw=Re({__name:"Credentials",setup(e){const t=ue(),{sendMsg:n}=ot(),s=k(()=>[{label:"New Credential",codicon:"codicon-add",fn:()=>{n({kind:ae.NEW_CREDENTIAL})}},{label:"Refresh Credentials",codicon:"codicon-refresh",fn:()=>{n({kind:ae.REQUEST_CREDENTIALS})}}]),i=r=>Sv(r.serverType)?fl.CONNECT_CLOUD:r.url;return(r,o)=>(w(),ce(kn,{title:"Credentials","data-automation":"publisher-credentials-section",actions:s.value,codicon:D(t).credential.active.isAlertActive?"codicon-alert":""},{default:Oe(()=>[D(t).credential.isAvailable?(w(!0),O(de,{key:1},Pt(D(t).sortedCredentials,l=>(w(),ce(an,{title:l.name,description:i(l),"data-automation":`${l.name}-list`,codicon:"posit-publisher-icons-posit-logo",actions:[{label:"Delete Credential",codicon:"codicon-trash",fn:()=>D(n)({kind:D(ae).DELETE_CREDENTIAL,content:{credentialGUID:l.guid,credentialName:l.name}})}],"align-icon-with-twisty":""},null,8,["title","description","data-automation","actions"]))),256)):(w(),ce(Yn,{key:0},{default:Oe(()=>[...o[0]||(o[0]=[$("p",null,"No credentials have been added yet.",-1)])]),_:1}))]),_:1},8,["actions","codicon"]))}}),bw=Re({__name:"HelpAndFeedback",setup(e){const t=ot();return(n,s)=>(w(),ce(kn,{title:"Help and Feedback","data-automation":"publisher-help-section"},{default:Oe(()=>[he(an,{title:"Get Started with Posit Publisher",tooltip:"Open Getting Started Documentation","align-icon-with-twisty":"",onClick:s[0]||(s[0]=i=>D(t).sendMsg({kind:D(ae).NAVIGATE,content:{uriPath:"https://github.com/posit-dev/publisher/blob/main/docs/index.md"}}))}),he(an,{title:"Provide Feedback",tooltip:"Open GitHub Discussions","align-icon-with-twisty":"",onClick:s[1]||(s[1]=i=>D(t).sendMsg({kind:D(ae).NAVIGATE,content:{uriPath:"https://github.com/posit-dev/publisher/discussions"}}))}),he(an,{title:"Copy System Info",tooltip:"Copy system information to clipboard including extension version and IDE details","align-icon-with-twisty":"",onClick:s[2]||(s[2]=i=>D(t).sendMsg({kind:D(ae).COPY_SYSTEM_INFO}))})]),_:1}))}}),vw=Re({__name:"App",setup(e){ot();const t=ue(),n=ie(!0);return(s,i)=>(w(),O("main",null,[he($m,{activateOverlay:D(t).showDisabledOverlay},{default:Oe(()=>[he(hS,{class:"easy-deploy-container"}),D(t).selectedConfiguration&&!D(Ue)(D(t).selectedConfiguration)?(w(),O(de,{key:0},[he(zS,{expanded:n.value,"onUpdate:expanded":i[0]||(i[0]=r=>n.value=r)},null,8,["expanded"]),he(cw),D(t).isConnectCloud?X("",!0):(w(),ce(uw,{key:0})),he(fw),he(gw)],64)):X("",!0),he(mw),he(bw)]),_:1},8,["activateOverlay"])]))}}),yw=Ze(vw,[["__scopeId","data-v-48403f0e"]]);Yg().register(mm(),Em(),_m(),Om(),ym());const Sw=Cp(),yl=Gh(yw);yl.use(Sw);yl.component("RecycleScroller",Fo);yl.mount("#app");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9AdnVlL3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnVlL3JlYWN0aXZpdHkvZGlzdC9yZWFjdGl2aXR5LmVzbS1idW5kbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy92dWUtcmVzaXplL2Rpc3QvdnVlLXJlc2l6ZS5lc20uanMiLCIuLi9ub2RlX21vZHVsZXMvdnVlLW9ic2VydmUtdmlzaWJpbGl0eS9kaXN0L3Z1ZS1vYnNlcnZlLXZpc2liaWxpdHkuZXNtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3Z1ZS12aXJ0dWFsLXNjcm9sbGVyL2Rpc3QvdnVlLXZpcnR1YWwtc2Nyb2xsZXIuZXNtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3BpbmlhL2Rpc3QvcGluaWEubWpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3BsYXRmb3JtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL2RvbS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9ub3RpZmllci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvaHRtbC1kaXJlY3RpdmUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy9iaW5kaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvY29tcGlsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy92aWV3LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvdGVtcGxhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vc3R5bGVzL2VsZW1lbnQtc3R5bGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL2NvbXBvbmVudHMvYXR0cmlidXRlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS9jb21wb25lbnRzL2Zhc3QtZGVmaW5pdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vY29tcG9uZW50cy9jb250cm9sbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL2NvbXBvbmVudHMvZmFzdC1lbGVtZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3N0eWxlcy9jc3MtZGlyZWN0aXZlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3N0eWxlcy9jc3MuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy9yZWYuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vaW50ZXJmYWNlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS90ZW1wbGF0aW5nL3doZW4uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy9ub2RlLW9ic2VydmF0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvc2xvdHRlZC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9wYXR0ZXJucy9zdGFydC1lbmQuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kaS9kaS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kZXNpZ24tc3lzdGVtL2NvbXBvbmVudC1wcmVzZW50YXRpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vZm91bmRhdGlvbi1lbGVtZW50L2ZvdW5kYXRpb24tZWxlbWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS91dGlsaXRpZXMvYXBwbHktbWl4aW5zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3QvYXJpYS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllcy9kaXN0L2FycmF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2V4ZW52LWVzNi9kaXN0L2Nhbi11c2UtZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3QvZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3Qva2V5LWNvZGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3QvbnVtYmVycy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllcy9kaXN0L3N0cmluZ3MuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vcGF0dGVybnMvYXJpYS1nbG9iYWwuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vYnV0dG9uL2J1dHRvbi50ZW1wbGF0ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9mb3JtLWFzc29jaWF0ZWQvZm9ybS1hc3NvY2lhdGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2J1dHRvbi9idXR0b24uZm9ybS1hc3NvY2lhdGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2J1dHRvbi9idXR0b24uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vbGlzdGJveC1vcHRpb24vbGlzdGJveC1vcHRpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vbGlzdGJveC9saXN0Ym94LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3NlbGVjdC9zZWxlY3Qub3B0aW9ucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS91dGlsaXRpZXMvY29tcG9zZWQtcGFyZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3V0aWxpdGllcy9jb21wb3NlZC1jb250YWlucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kZXNpZ24tdG9rZW4vY3VzdG9tLXByb3BlcnR5LW1hbmFnZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vZGVzaWduLXRva2VuL2Rlc2lnbi10b2tlbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kZXNpZ24tc3lzdGVtL2Rlc2lnbi1zeXN0ZW0uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vZGl2aWRlci9kaXZpZGVyLnRlbXBsYXRlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2RpdmlkZXIvZGl2aWRlci5vcHRpb25zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2RpdmlkZXIvZGl2aWRlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9saXN0Ym94LW9wdGlvbi9saXN0Ym94LW9wdGlvbi50ZW1wbGF0ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9saXN0Ym94L2xpc3Rib3guZWxlbWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9wcm9ncmVzcy1yaW5nL3Byb2dyZXNzLXJpbmcudGVtcGxhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vcHJvZ3Jlc3MvYmFzZS1wcm9ncmVzcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9zZWxlY3Qvc2VsZWN0LmZvcm0tYXNzb2NpYXRlZC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9zZWxlY3Qvc2VsZWN0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3NlbGVjdC9zZWxlY3QudGVtcGxhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vdXRpbGl0aWVzL3N0eWxlL2Rpc2FibGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3V0aWxpdGllcy9zdHlsZS9kaXNwbGF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3V0aWxpdGllcy9zdHlsZS9mb2N1cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L3ZzY29kZS1kZXNpZ24tc3lzdGVtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2c2NvZGUvd2Vidmlldy11aS10b29sa2l0L2Rpc3QvdXRpbGl0aWVzL3RoZW1lL2FwcGx5VGhlbWUuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC91dGlsaXRpZXMvZGVzaWduLXRva2Vucy9jcmVhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9kZXNpZ24tdG9rZW5zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9idXR0b24vYnV0dG9uLnN0eWxlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L2J1dHRvbi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L2RpdmlkZXIvZGl2aWRlci5zdHlsZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9kaXZpZGVyL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2c2NvZGUvd2Vidmlldy11aS10b29sa2l0L2Rpc3QvZHJvcGRvd24vZHJvcGRvd24uc3R5bGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2c2NvZGUvd2Vidmlldy11aS10b29sa2l0L2Rpc3QvZHJvcGRvd24vaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9vcHRpb24vb3B0aW9uLnN0eWxlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L29wdGlvbi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L3Byb2dyZXNzLXJpbmcvcHJvZ3Jlc3MtcmluZy5zdHlsZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9wcm9ncmVzcy1yaW5nL2luZGV4LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvT3ZlcmxheWFibGVWaWV3LnZ1ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0Vycm9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL251bGwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzL3RyYW5zaXRpb25hbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Zvcm1EYXRhLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvQmxvYi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vY29tbW9uL3V0aWxzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b1VSTEVuY29kZWRGb3JtLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NIZWFkZXJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3BlZWRvbWV0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdGhyb3R0bGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9idWlsZEZ1bGxQYXRoLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21wb3NlU2lnbmFscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90cmFja1N0cmVhbS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMvZmV0Y2guanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvY29uZmlnL2RldmVsb3BtZW50LnRzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy9wcm9kdWN0aW9uLnRzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy9zdGFnaW5nLnRzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy9pbmRleC50cyIsIi4uLy4uLy4uL3NyYy9jb25zdGFudHMudHMiLCIuLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2NvbmZpZ3VyYXRpb25zLnRzIiwiLi4vLi4vLi4vc3JjL2FwaS90eXBlcy9jb250ZW50UmVjb3Jkcy50cyIsIi4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZmlsZXMudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvZXJyb3JFbmhhbmNlci50cyIsIi4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXMudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvdGl0bGVzLnRzIiwiLi4vLi4vLi4vc3JjL3V0aWxzL2ZpbHRlcnMudHMiLCIuLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvaG9zdFRvV2Vidmlld01lc3NhZ2VzLnRzIiwiLi4vc3JjL3V0aWxzL2hvc3RDb25kdWl0LnRzIiwiLi4vLi4vLi4vc3JjL3V0aWxzL3VybC50cyIsIi4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZXJyb3IudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvbXVsdGlTdGVwSGVscGVycy50cyIsIi4uL3NyYy9zdG9yZXMvaG9tZS50cyIsIi4uL3NyYy91dGlscy9maWxlcy50cyIsIi4uL3NyYy9zdG9yZXMvZmlsZS50cyIsIi4uL3NyYy92c2NvZGUudHMiLCIuLi9zcmMvSG9zdENvbmR1aXRTZXJ2aWNlLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvUXVpY2tQaWNrSXRlbS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9BY3Rpb25Ub29sYmFyLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL0RlcGxveUJ1dHRvbi52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9SZW5kZXJCdXR0b24udnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvUHJvY2Vzc1Byb2dyZXNzLnZ1ZSIsIi4uL3NyYy91dGlscy9kYXRlLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGV4dFN0cmluZ1dpdGhBbmNob3IudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvUHJvY2Vzc1N1bW1hcnkudnVlIiwiLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yVHlwZXMudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvZXJyb3JzLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvRXZlbkVhc2llckRlcGxveS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9Db3VudEJhZGdlLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvQ29kZUNoZWNrYm94LnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW1DaGVja2JveC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9wcm9qZWN0RmlsZXMvdG9vbHRpcHMudHMiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9wcm9qZWN0RmlsZXMvUHJvamVjdEZpbGUudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvcHJvamVjdEZpbGVzL1Byb2plY3RGaWxlcy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9XZWxjb21lVmlldy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy90cmVlL1RyZWVJdGVtLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL1NpZGViYXJJbnB1dC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9zZWNyZXRzL1NlY3JldC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9zZWNyZXRzL1NlY3JldHMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvSW50ZWdyYXRpb25SZXF1ZXN0cy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9QeXRob25QYWNrYWdlcy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9SUGFja2FnZXMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvQ3JlZGVudGlhbHMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvSGVscEFuZEZlZWRiYWNrLnZ1ZSIsIi4uL3NyYy9BcHAudnVlIiwiLi4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjUuMjVcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBtYWtlTWFwKHN0cikge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBrZXkgb2Ygc3RyLnNwbGl0KFwiLFwiKSkgbWFwW2tleV0gPSAxO1xuICByZXR1cm4gKHZhbCkgPT4gdmFsIGluIG1hcDtcbn1cblxuY29uc3QgRU1QVFlfT0JKID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoe30pIDoge307XG5jb25zdCBFTVBUWV9BUlIgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gT2JqZWN0LmZyZWV6ZShbXSkgOiBbXTtcbmNvbnN0IE5PT1AgPSAoKSA9PiB7XG59O1xuY29uc3QgTk8gPSAoKSA9PiBmYWxzZTtcbmNvbnN0IGlzT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gdXBwZXJjYXNlIGxldHRlclxuKGtleS5jaGFyQ29kZUF0KDIpID4gMTIyIHx8IGtleS5jaGFyQ29kZUF0KDIpIDwgOTcpO1xuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoXCJvblVwZGF0ZTpcIik7XG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xuY29uc3QgcmVtb3ZlID0gKGFyciwgZWwpID0+IHtcbiAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcbiAgaWYgKGkgPiAtMSkge1xuICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gIH1cbn07XG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IGhhc093blByb3BlcnR5LmNhbGwodmFsLCBrZXkpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc01hcCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgTWFwXVwiO1xuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IFNldF1cIjtcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbmNvbnN0IGlzUmVnRXhwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBSZWdFeHBdXCI7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiO1xuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN5bWJvbFwiO1xuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIjtcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkgJiYgaXNGdW5jdGlvbih2YWwudGhlbikgJiYgaXNGdW5jdGlvbih2YWwuY2F0Y2gpO1xufTtcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IHRvVHlwZVN0cmluZyA9ICh2YWx1ZSkgPT4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5jb25zdCB0b1Jhd1R5cGUgPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIHRvVHlwZVN0cmluZyh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xufTtcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiYga2V5ICE9PSBcIk5hTlwiICYmIGtleVswXSAhPT0gXCItXCIgJiYgXCJcIiArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XG5jb25zdCBpc1Jlc2VydmVkUHJvcCA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICAvLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXG4gIFwiLGtleSxyZWYscmVmX2ZvcixyZWZfa2V5LG9uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCxvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLG9uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWRcIlxuKTtcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcImJpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW9cIlxuKTtcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcbiAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICgoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH0pO1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLVxcdy9nO1xuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKFxuICAoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChjKSA9PiBjLnNsaWNlKDEpLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICAgIHJldHVybiBzO1xuICB9XG4pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgLi4uYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKC4uLmFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuZnVuY3Rpb24gZ2VuQ2FjaGVLZXkoc291cmNlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzb3VyY2UgKyBKU09OLnN0cmluZ2lmeShcbiAgICBvcHRpb25zLFxuICAgIChfLCB2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbC50b1N0cmluZygpIDogdmFsXG4gICk7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkNBQ0hFRFwiOiAtMSxcbiAgXCItMVwiOiBcIkNBQ0hFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgQ0FDSEVEYCxcbiAgWy0yXTogYEJBSUxgXG59O1xuXG5jb25zdCBTaGFwZUZsYWdzID0ge1xuICBcIkVMRU1FTlRcIjogMSxcbiAgXCIxXCI6IFwiRUxFTUVOVFwiLFxuICBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCI6IDIsXG4gIFwiMlwiOiBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCIsXG4gIFwiU1RBVEVGVUxfQ09NUE9ORU5UXCI6IDQsXG4gIFwiNFwiOiBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiLFxuICBcIlRFWFRfQ0hJTERSRU5cIjogOCxcbiAgXCI4XCI6IFwiVEVYVF9DSElMRFJFTlwiLFxuICBcIkFSUkFZX0NISUxEUkVOXCI6IDE2LFxuICBcIjE2XCI6IFwiQVJSQVlfQ0hJTERSRU5cIixcbiAgXCJTTE9UU19DSElMRFJFTlwiOiAzMixcbiAgXCIzMlwiOiBcIlNMT1RTX0NISUxEUkVOXCIsXG4gIFwiVEVMRVBPUlRcIjogNjQsXG4gIFwiNjRcIjogXCJURUxFUE9SVFwiLFxuICBcIlNVU1BFTlNFXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJTVVNQRU5TRVwiLFxuICBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIjogNTEyLFxuICBcIjUxMlwiOiBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVFwiXG59O1xuXG5jb25zdCBTbG90RmxhZ3MgPSB7XG4gIFwiU1RBQkxFXCI6IDEsXG4gIFwiMVwiOiBcIlNUQUJMRVwiLFxuICBcIkRZTkFNSUNcIjogMixcbiAgXCIyXCI6IFwiRFlOQU1JQ1wiLFxuICBcIkZPUldBUkRFRFwiOiAzLFxuICBcIjNcIjogXCJGT1JXQVJERURcIlxufTtcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XG4gIFsxXTogXCJTVEFCTEVcIixcbiAgWzJdOiBcIkRZTkFNSUNcIixcbiAgWzNdOiBcIkZPUldBUkRFRFwiXG59O1xuXG5jb25zdCBHTE9CQUxTX0FMTE9XRUQgPSBcIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yLFN5bWJvbFwiO1xuY29uc3QgaXNHbG9iYWxseUFsbG93ZWQgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChHTE9CQUxTX0FMTE9XRUQpO1xuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gaXNHbG9iYWxseUFsbG93ZWQ7XG5cbmNvbnN0IHJhbmdlID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gIHN0YXJ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc3RhcnQsIHNvdXJjZS5sZW5ndGgpKTtcbiAgZW5kID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZW5kLCBzb3VyY2UubGVuZ3RoKSk7XG4gIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFwiXCI7XG4gIGxldCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvKFxccj9cXG4pLyk7XG4gIGNvbnN0IG5ld2xpbmVTZXF1ZW5jZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMSk7XG4gIGxpbmVzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDApO1xuICBsZXQgY291bnQgPSAwO1xuICBjb25zdCByZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIChuZXdsaW5lU2VxdWVuY2VzW2ldICYmIG5ld2xpbmVTZXF1ZW5jZXNbaV0ubGVuZ3RoIHx8IDApO1xuICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xuICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xuICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgIHJlcy5wdXNoKFxuICAgICAgICAgIGAke2xpbmV9JHtcIiBcIi5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3TGluZVNlcUxlbmd0aCA9IG5ld2xpbmVTZXF1ZW5jZXNbal0gJiYgbmV3bGluZVNlcXVlbmNlc1tqXS5sZW5ndGggfHwgMDtcbiAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIChsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aCkpO1xuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiIFwiLnJlcGVhdChwYWQpICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xuICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy5qb2luKFwiXFxuXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogbm9ybWFsaXplU3R5bGUoaXRlbSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XG4gICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKlteXSo/XFwqXFwvL2c7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNzc1RleHQucmVwbGFjZShzdHlsZUNvbW1lbnRSRSwgXCJcIikuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xuICBpZiAoIXN0eWxlcykgcmV0dXJuIFwiXCI7XG4gIGlmIChpc1N0cmluZyhzdHlsZXMpKSByZXR1cm4gc3R5bGVzO1xuICBsZXQgcmV0ID0gXCJcIjtcbiAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XG4gICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XG4gIGxldCByZXMgPSBcIlwiO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmVzID0gdmFsdWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWVbbmFtZV0pIHtcbiAgICAgICAgcmVzICs9IG5hbWUgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICBpZiAoIXByb3BzKSByZXR1cm4gbnVsbDtcbiAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gIH1cbiAgaWYgKHN0eWxlKSB7XG4gICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuXG5jb25zdCBIVE1MX1RBR1MgPSBcImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGhncm91cCxoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSxzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290XCI7XG5jb25zdCBTVkdfVEFHUyA9IFwic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3XCI7XG5jb25zdCBNQVRIX1RBR1MgPSBcImFubm90YXRpb24sYW5ub3RhdGlvbi14bWwsbWFjdGlvbixtYWxpZ25ncm91cCxtYWxpZ25tYXJrLG1hdGgsbWVuY2xvc2UsbWVycm9yLG1mZW5jZWQsbWZyYWMsbWZyYWN0aW9uLG1nbHlwaCxtaSxtbGFiZWxlZHRyLG1sb25nZGl2LG1tdWx0aXNjcmlwdHMsbW4sbW8sbW92ZXIsbXBhZGRlZCxtcGhhbnRvbSxtcHJlc2NyaXB0cyxtcm9vdCxtcm93LG1zLG1zY2Fycmllcyxtc2NhcnJ5LG1zZ3JvdXAsbXNsaW5lLG1zcGFjZSxtc3FydCxtc3Jvdyxtc3RhY2ssbXN0eWxlLG1zdWIsbXN1YnN1cCxtc3VwLG10YWJsZSxtdGQsbXRleHQsbXRyLG11bmRlcixtdW5kZXJvdmVyLG5vbmUsc2VtYW50aWNzXCI7XG5jb25zdCBWT0lEX1RBR1MgPSBcImFyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyXCI7XG5jb25zdCBpc0hUTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuY29uc3QgaXNTVkdUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5jb25zdCBpc01hdGhNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKE1BVEhfVEFHUyk7XG5jb25zdCBpc1ZvaWRUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBzcGVjaWFsQm9vbGVhbkF0dHJzICsgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4saW5lcnQsbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYFxuKTtcbmZ1bmN0aW9uIGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJcIjtcbn1cbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcbiAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcbiAgfVxuICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcbiAgaWYgKGlzVW5zYWZlKSB7XG4gICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XG4gIH1cbiAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmU7XG59XG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcbiAgYWNjZXB0Q2hhcnNldDogXCJhY2NlcHQtY2hhcnNldFwiLFxuICBjbGFzc05hbWU6IFwiY2xhc3NcIixcbiAgaHRtbEZvcjogXCJmb3JcIixcbiAgaHR0cEVxdWl2OiBcImh0dHAtZXF1aXZcIlxufTtcbmNvbnN0IGlzS25vd25IdG1sQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbmVydCxpbnRlZ3JpdHksaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXBgXG4pO1xuY29uc3QgaXNLbm93blN2Z0F0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYHhtbG5zLGFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbGlnbm1lbnQtYmFzZWxpbmUsYWxwaGFiZXRpYyxhbXBsaXR1ZGUsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxhemltdXRoLGJhc2VGcmVxdWVuY3ksYmFzZWxpbmUtc2hpZnQsYmFzZVByb2ZpbGUsYmJveCxiZWdpbixiaWFzLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY2xpcCxjbGlwUGF0aFVuaXRzLGNsaXAtcGF0aCxjbGlwLXJ1bGUsY29sb3IsY29sb3ItaW50ZXJwb2xhdGlvbixjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMsY29sb3ItcHJvZmlsZSxjb2xvci1yZW5kZXJpbmcsY29udGVudFNjcmlwdFR5cGUsY29udGVudFN0eWxlVHlwZSxjcm9zc29yaWdpbixjdXJzb3IsY3gsY3ksZCxkZWNlbGVyYXRlLGRlc2NlbnQsZGlmZnVzZUNvbnN0YW50LGRpcmVjdGlvbixkaXNwbGF5LGRpdmlzb3IsZG9taW5hbnQtYmFzZWxpbmUsZHVyLGR4LGR5LGVkZ2VNb2RlLGVsZXZhdGlvbixlbmFibGUtYmFja2dyb3VuZCxlbmQsZXhwb25lbnQsZmlsbCxmaWxsLW9wYWNpdHksZmlsbC1ydWxlLGZpbHRlcixmaWx0ZXJSZXMsZmlsdGVyVW5pdHMsZmxvb2QtY29sb3IsZmxvb2Qtb3BhY2l0eSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zaXplLWFkanVzdCxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZm9ybWF0LGZyb20sZnIsZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsLGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsLGdseXBoUmVmLGdyYWRpZW50VHJhbnNmb3JtLGdyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaHJlZixocmVmbGFuZyxob3Jpei1hZHYteCxob3Jpei1vcmlnaW4teCxpZCxpZGVvZ3JhcGhpYyxpbWFnZS1yZW5kZXJpbmcsaW4saW4yLGludGVyY2VwdCxrLGsxLGsyLGszLGs0LGtlcm5lbE1hdHJpeCxrZXJuZWxVbml0TGVuZ3RoLGtlcm5pbmcsa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxsZW5ndGhBZGp1c3QsbGV0dGVyLXNwYWNpbmcsbGlnaHRpbmctY29sb3IsbGltaXRpbmdDb25lQW5nbGUsbG9jYWwsbWFya2VyLWVuZCxtYXJrZXItbWlkLG1hcmtlci1zdGFydCxtYXJrZXJIZWlnaHQsbWFya2VyVW5pdHMsbWFya2VyV2lkdGgsbWFzayxtYXNrQ29udGVudFVuaXRzLG1hc2tVbml0cyxtYXRoZW1hdGljYWwsbWF4LG1lZGlhLG1ldGhvZCxtaW4sbW9kZSxuYW1lLG51bU9jdGF2ZXMsb2Zmc2V0LG9wYWNpdHksb3BlcmF0b3Isb3JkZXIsb3JpZW50LG9yaWVudGF0aW9uLG9yaWdpbixvdmVyZmxvdyxvdmVybGluZS1wb3NpdGlvbixvdmVybGluZS10aGlja25lc3MscGFub3NlLTEscGFpbnQtb3JkZXIscGF0aCxwYXRoTGVuZ3RoLHBhdHRlcm5Db250ZW50VW5pdHMscGF0dGVyblRyYW5zZm9ybSxwYXR0ZXJuVW5pdHMscGluZyxwb2ludGVyLWV2ZW50cyxwb2ludHMscG9pbnRzQXRYLHBvaW50c0F0WSxwb2ludHNBdFoscHJlc2VydmVBbHBoYSxwcmVzZXJ2ZUFzcGVjdFJhdGlvLHByaW1pdGl2ZVVuaXRzLHIscmFkaXVzLHJlZmVycmVyUG9saWN5LHJlZlgscmVmWSxyZWwscmVuZGVyaW5nLWludGVudCxyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyZXN1bHQscm90YXRlLHJ4LHJ5LHNjYWxlLHNlZWQsc2hhcGUtcmVuZGVyaW5nLHNsb3BlLHNwYWNpbmcsc3BlY3VsYXJDb25zdGFudCxzcGVjdWxhckV4cG9uZW50LHNwZWVkLHNwcmVhZE1ldGhvZCxzdGFydE9mZnNldCxzdGREZXZpYXRpb24sc3RlbWgsc3RlbXYsc3RpdGNoVGlsZXMsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJpbmcsc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzdHlsZSxzdXJmYWNlU2NhbGUsc3lzdGVtTGFuZ3VhZ2UsdGFiaW5kZXgsdGFibGVWYWx1ZXMsdGFyZ2V0LHRhcmdldFgsdGFyZ2V0WSx0ZXh0LWFuY2hvcix0ZXh0LWRlY29yYXRpb24sdGV4dC1yZW5kZXJpbmcsdGV4dExlbmd0aCx0byx0cmFuc2Zvcm0sdHJhbnNmb3JtLW9yaWdpbix0eXBlLHUxLHUyLHVuZGVybGluZS1wb3NpdGlvbix1bmRlcmxpbmUtdGhpY2tuZXNzLHVuaWNvZGUsdW5pY29kZS1iaWRpLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHYtYWxwaGFiZXRpYyx2LWhhbmdpbmcsdi1pZGVvZ3JhcGhpYyx2LW1hdGhlbWF0aWNhbCx2YWx1ZXMsdmVjdG9yLWVmZmVjdCx2ZXJzaW9uLHZlcnQtYWR2LXksdmVydC1vcmlnaW4teCx2ZXJ0LW9yaWdpbi15LHZpZXdCb3gsdmlld1RhcmdldCx2aXNpYmlsaXR5LHdpZHRoLHdpZHRocyx3b3JkLXNwYWNpbmcsd3JpdGluZy1tb2RlLHgseC1oZWlnaHQseDEseDIseENoYW5uZWxTZWxlY3Rvcix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6aHJlZix4bGluazpyb2xlLHhsaW5rOnNob3cseGxpbms6dGl0bGUseGxpbms6dHlwZSx4bWxuczp4bGluayx4bWw6YmFzZSx4bWw6bGFuZyx4bWw6c3BhY2UseSx5MSx5Mix5Q2hhbm5lbFNlbGVjdG9yLHosem9vbUFuZFBhbmBcbik7XG5jb25zdCBpc0tub3duTWF0aE1MQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZW50LGFjY2VudHVuZGVyLGFjdGlvbnR5cGUsYWxpZ24sYWxpZ25tZW50c2NvcGUsYWx0aW1nLGFsdGltZy1oZWlnaHQsYWx0aW1nLXZhbGlnbixhbHRpbWctd2lkdGgsYWx0dGV4dCxiZXZlbGxlZCxjbG9zZSxjb2x1bW5zYWxpZ24sY29sdW1ubGluZXMsY29sdW1uc3BhbixkZW5vbWFsaWduLGRlcHRoLGRpcixkaXNwbGF5LGRpc3BsYXlzdHlsZSxlbmNvZGluZyxlcXVhbGNvbHVtbnMsZXF1YWxyb3dzLGZlbmNlLGZvbnRzdHlsZSxmb250d2VpZ2h0LGZvcm0sZnJhbWUsZnJhbWVzcGFjaW5nLGdyb3VwYWxpZ24saGVpZ2h0LGhyZWYsaWQsaW5kZW50YWxpZ24saW5kZW50YWxpZ25maXJzdCxpbmRlbnRhbGlnbmxhc3QsaW5kZW50c2hpZnQsaW5kZW50c2hpZnRmaXJzdCxpbmRlbnRzaGlmdGxhc3QsaW5kZXh0eXBlLGp1c3RpZnksbGFyZ2V0b3AsbGFyZ2VvcCxscXVvdGUsbHNwYWNlLG1hdGhiYWNrZ3JvdW5kLG1hdGhjb2xvcixtYXRoc2l6ZSxtYXRodmFyaWFudCxtYXhzaXplLG1pbmxhYmVsc3BhY2luZyxtb2RlLG90aGVyLG92ZXJmbG93LHBvc2l0aW9uLHJvd2FsaWduLHJvd2xpbmVzLHJvd3NwYW4scnF1b3RlLHJzcGFjZSxzY3JpcHRsZXZlbCxzY3JpcHRtaW5zaXplLHNjcmlwdHNpemVtdWx0aXBsaWVyLHNlbGVjdGlvbixzZXBhcmF0b3Isc2VwYXJhdG9ycyxzaGlmdCxzaWRlLHNyYyxzdGFja2FsaWduLHN0cmV0Y2h5LHN1YnNjcmlwdHNoaWZ0LHN1cGVyc2NyaXB0c2hpZnQsc3ltbWV0cmljLHZvZmZzZXQsd2lkdGgsd2lkdGhzLHhsaW5rOmhyZWYseGxpbms6c2hvdyx4bGluazp0eXBlLHhtbG5zYFxuKTtcbmZ1bmN0aW9uIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiO1xufVxuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICBjb25zdCBzdHIgPSBcIlwiICsgc3RyaW5nO1xuICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbGV0IGh0bWwgPSBcIlwiO1xuICBsZXQgZXNjYXBlZDtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGVkID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGVkID0gXCImZ3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBodG1sICs9IHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KTtcbiAgICB9XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICAgIGh0bWwgKz0gZXNjYXBlZDtcbiAgfVxuICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xufVxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xuICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsIFwiXCIpO1xufVxuY29uc3QgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSA9IC9bICFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fl0vZztcbmZ1bmN0aW9uIGdldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZG91YmxlRXNjYXBlKSB7XG4gIHJldHVybiBrZXkucmVwbGFjZShcbiAgICBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLFxuICAgIChzKSA9PiBkb3VibGVFc2NhcGUgPyBzID09PSAnXCInID8gJ1xcXFxcXFxcXFxcXFwiJyA6IGBcXFxcXFxcXCR7c31gIDogYFxcXFwke3N9YFxuICApO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlcXVhbCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgfVxuICByZXR1cm4gZXF1YWw7XG59XG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IGlzUmVmID0gKHZhbCkgPT4ge1xuICByZXR1cm4gISEodmFsICYmIHZhbFtcIl9fdl9pc1JlZlwiXSA9PT0gdHJ1ZSk7XG59O1xuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xuICByZXR1cm4gaXNTdHJpbmcodmFsKSA/IHZhbCA6IHZhbCA9PSBudWxsID8gXCJcIiA6IGlzQXJyYXkodmFsKSB8fCBpc09iamVjdCh2YWwpICYmICh2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nIHx8ICFpc0Z1bmN0aW9uKHZhbC50b1N0cmluZykpID8gaXNSZWYodmFsKSA/IHRvRGlzcGxheVN0cmluZyh2YWwudmFsdWUpIDogSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMikgOiBTdHJpbmcodmFsKTtcbn07XG5jb25zdCByZXBsYWNlciA9IChfa2V5LCB2YWwpID0+IHtcbiAgaWYgKGlzUmVmKHZhbCkpIHtcbiAgICByZXR1cm4gcmVwbGFjZXIoX2tleSwgdmFsLnZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKFxuICAgICAgICAoZW50cmllcywgW2tleSwgdmFsMl0sIGkpID0+IHtcbiAgICAgICAgICBlbnRyaWVzW3N0cmluZ2lmeVN5bWJvbChrZXksIGkpICsgXCIgPT5cIl0gPSB2YWwyO1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV0ubWFwKCh2KSA9PiBzdHJpbmdpZnlTeW1ib2wodikpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1N5bWJvbCh2YWwpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN5bWJvbCh2YWwpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59O1xuY29uc3Qgc3RyaW5naWZ5U3ltYm9sID0gKHYsIGkgPSBcIlwiKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChcbiAgICAvLyBTeW1ib2wuZGVzY3JpcHRpb24gaW4gZXMyMDE5KyBzbyB3ZSBuZWVkIHRvIGNhc3QgaGVyZSB0byBwYXNzXG4gICAgLy8gdGhlIGxpYjogZXMyMDE2IGNoZWNrXG4gICAgaXNTeW1ib2wodikgPyBgU3ltYm9sKCR7KF9hID0gdi5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IF9hIDogaX0pYCA6IHZcbiAgKTtcbn07XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNzc1ZhclZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiaW5pdGlhbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IFwiXCIgPyBcIiBcIiA6IHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIltWdWUgd2Fybl0gSW52YWxpZCB2YWx1ZSB1c2VkIGZvciBDU1MgYmluZGluZy4gRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYSBmaW5pdGUgbnVtYmVyIGJ1dCByZWNlaXZlZDpcIixcbiAgICAgICAgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBQYXRjaEZsYWdzLCBTaGFwZUZsYWdzLCBTbG90RmxhZ3MsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbkNhY2hlS2V5LCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNCdWlsdEluRGlyZWN0aXZlLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlBbGxvd2VkLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duSHRtbEF0dHIsIGlzS25vd25NYXRoTUxBdHRyLCBpc0tub3duU3ZnQXR0ciwgaXNNYXAsIGlzTWF0aE1MVGFnLCBpc01vZGVsTGlzdGVuZXIsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbG9vc2VUb051bWJlciwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZUNzc1ZhclZhbHVlLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiLyoqXG4qIEB2dWUvcmVhY3Rpdml0eSB2My41LjI1XG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBleHRlbmQsIGhhc0NoYW5nZWQsIGlzQXJyYXksIGlzSW50ZWdlcktleSwgaXNTeW1ib2wsIGlzTWFwLCBoYXNPd24sIG1ha2VNYXAsIGlzT2JqZWN0LCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBpc1NldCwgaXNQbGFpbk9iamVjdCwgcmVtb3ZlLCBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbCB0cmFjayBgb25gIGNhbGxzLCBhbGxvdyBgb25gIGNhbGwgbXVsdGlwbGUgdGltZXNcbiAgICAgKi9cbiAgICB0aGlzLl9vbiA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5lZmZlY3RzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3VtZXMgdGhlIGVmZmVjdCBzY29wZSwgaW5jbHVkaW5nIGFsbCBjaGlsZCBzY29wZXMgYW5kIGVmZmVjdHMuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBpLCBsO1xuICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5yZXN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBpZiAoKyt0aGlzLl9vbiA9PT0gMSkge1xuICAgICAgdGhpcy5wcmV2U2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgaWYgKHRoaXMuX29uID4gMCAmJiAtLXRoaXMuX29uID09PSAwKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXMucHJldlNjb3BlO1xuICAgICAgdGhpcy5wcmV2U2NvcGUgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHN0b3AoZnJvbVBhcmVudCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGV0IGksIGw7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGVhbnVwcy5sZW5ndGggPSAwO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NvcGVzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xuICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucGFyZW50ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0U2NvcGUoZGV0YWNoZWQpIHtcbiAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50U2NvcGUoKSB7XG4gIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcbn1cbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSkge1xuICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZS5jbGVhbnVwcy5wdXNoKGZuKTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbn1cblxubGV0IGFjdGl2ZVN1YjtcbmNvbnN0IEVmZmVjdEZsYWdzID0ge1xuICBcIkFDVElWRVwiOiAxLFxuICBcIjFcIjogXCJBQ1RJVkVcIixcbiAgXCJSVU5OSU5HXCI6IDIsXG4gIFwiMlwiOiBcIlJVTk5JTkdcIixcbiAgXCJUUkFDS0lOR1wiOiA0LFxuICBcIjRcIjogXCJUUkFDS0lOR1wiLFxuICBcIk5PVElGSUVEXCI6IDgsXG4gIFwiOFwiOiBcIk5PVElGSUVEXCIsXG4gIFwiRElSVFlcIjogMTYsXG4gIFwiMTZcIjogXCJESVJUWVwiLFxuICBcIkFMTE9XX1JFQ1VSU0VcIjogMzIsXG4gIFwiMzJcIjogXCJBTExPV19SRUNVUlNFXCIsXG4gIFwiUEFVU0VEXCI6IDY0LFxuICBcIjY0XCI6IFwiUEFVU0VEXCIsXG4gIFwiRVZBTFVBVEVEXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJFVkFMVUFURURcIlxufTtcbmNvbnN0IHBhdXNlZFF1ZXVlRWZmZWN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICBjb25zdHJ1Y3Rvcihmbikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMSB8IDQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cCA9IHZvaWQgMDtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHZvaWQgMDtcbiAgICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUgJiYgYWN0aXZlRWZmZWN0U2NvcGUuYWN0aXZlKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZS5lZmZlY3RzLnB1c2godGhpcyk7XG4gICAgfVxuICB9XG4gIHBhdXNlKCkge1xuICAgIHRoaXMuZmxhZ3MgfD0gNjQ7XG4gIH1cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHRoaXMuZmxhZ3MgJj0gLTY1O1xuICAgICAgaWYgKHBhdXNlZFF1ZXVlRWZmZWN0cy5oYXModGhpcykpIHtcbiAgICAgICAgcGF1c2VkUXVldWVFZmZlY3RzLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDIgJiYgISh0aGlzLmZsYWdzICYgMzIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSkge1xuICAgICAgYmF0Y2godGhpcyk7XG4gICAgfVxuICB9XG4gIHJ1bigpIHtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgMSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfVxuICAgIHRoaXMuZmxhZ3MgfD0gMjtcbiAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgIHByZXBhcmVEZXBzKHRoaXMpO1xuICAgIGNvbnN0IHByZXZFZmZlY3QgPSBhY3RpdmVTdWI7XG4gICAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgYWN0aXZlU3ViID0gdGhpcztcbiAgICBzaG91bGRUcmFjayA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQWN0aXZlIGVmZmVjdCB3YXMgbm90IHJlc3RvcmVkIGNvcnJlY3RseSAtIHRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFsIGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2xlYW51cERlcHModGhpcyk7XG4gICAgICBhY3RpdmVTdWIgPSBwcmV2RWZmZWN0O1xuICAgICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgICB0aGlzLmZsYWdzICY9IC0zO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMSkge1xuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgICAgICByZW1vdmVTdWIobGluayk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlcHMgPSB0aGlzLmRlcHNUYWlsID0gdm9pZCAwO1xuICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIHRoaXMub25TdG9wICYmIHRoaXMub25TdG9wKCk7XG4gICAgICB0aGlzLmZsYWdzICY9IC0yO1xuICAgIH1cbiAgfVxuICB0cmlnZ2VyKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHBhdXNlZFF1ZXVlRWZmZWN0cy5hZGQodGhpcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjaGVkdWxlcikge1xuICAgICAgdGhpcy5zY2hlZHVsZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydW5JZkRpcnR5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJ1bklmRGlydHkoKSB7XG4gICAgaWYgKGlzRGlydHkodGhpcykpIHtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICB9XG4gIGdldCBkaXJ0eSgpIHtcbiAgICByZXR1cm4gaXNEaXJ0eSh0aGlzKTtcbiAgfVxufVxubGV0IGJhdGNoRGVwdGggPSAwO1xubGV0IGJhdGNoZWRTdWI7XG5sZXQgYmF0Y2hlZENvbXB1dGVkO1xuZnVuY3Rpb24gYmF0Y2goc3ViLCBpc0NvbXB1dGVkID0gZmFsc2UpIHtcbiAgc3ViLmZsYWdzIHw9IDg7XG4gIGlmIChpc0NvbXB1dGVkKSB7XG4gICAgc3ViLm5leHQgPSBiYXRjaGVkQ29tcHV0ZWQ7XG4gICAgYmF0Y2hlZENvbXB1dGVkID0gc3ViO1xuICAgIHJldHVybjtcbiAgfVxuICBzdWIubmV4dCA9IGJhdGNoZWRTdWI7XG4gIGJhdGNoZWRTdWIgPSBzdWI7XG59XG5mdW5jdGlvbiBzdGFydEJhdGNoKCkge1xuICBiYXRjaERlcHRoKys7XG59XG5mdW5jdGlvbiBlbmRCYXRjaCgpIHtcbiAgaWYgKC0tYmF0Y2hEZXB0aCA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJhdGNoZWRDb21wdXRlZCkge1xuICAgIGxldCBlID0gYmF0Y2hlZENvbXB1dGVkO1xuICAgIGJhdGNoZWRDb21wdXRlZCA9IHZvaWQgMDtcbiAgICB3aGlsZSAoZSkge1xuICAgICAgY29uc3QgbmV4dCA9IGUubmV4dDtcbiAgICAgIGUubmV4dCA9IHZvaWQgMDtcbiAgICAgIGUuZmxhZ3MgJj0gLTk7XG4gICAgICBlID0gbmV4dDtcbiAgICB9XG4gIH1cbiAgbGV0IGVycm9yO1xuICB3aGlsZSAoYmF0Y2hlZFN1Yikge1xuICAgIGxldCBlID0gYmF0Y2hlZFN1YjtcbiAgICBiYXRjaGVkU3ViID0gdm9pZCAwO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICBjb25zdCBuZXh0ID0gZS5uZXh0O1xuICAgICAgZS5uZXh0ID0gdm9pZCAwO1xuICAgICAgZS5mbGFncyAmPSAtOTtcbiAgICAgIGlmIChlLmZsYWdzICYgMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBlLnRyaWdnZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xufVxuZnVuY3Rpb24gcHJlcGFyZURlcHMoc3ViKSB7XG4gIGZvciAobGV0IGxpbmsgPSBzdWIuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgIGxpbmsudmVyc2lvbiA9IC0xO1xuICAgIGxpbmsucHJldkFjdGl2ZUxpbmsgPSBsaW5rLmRlcC5hY3RpdmVMaW5rO1xuICAgIGxpbmsuZGVwLmFjdGl2ZUxpbmsgPSBsaW5rO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRGVwcyhzdWIpIHtcbiAgbGV0IGhlYWQ7XG4gIGxldCB0YWlsID0gc3ViLmRlcHNUYWlsO1xuICBsZXQgbGluayA9IHRhaWw7XG4gIHdoaWxlIChsaW5rKSB7XG4gICAgY29uc3QgcHJldiA9IGxpbmsucHJldkRlcDtcbiAgICBpZiAobGluay52ZXJzaW9uID09PSAtMSkge1xuICAgICAgaWYgKGxpbmsgPT09IHRhaWwpIHRhaWwgPSBwcmV2O1xuICAgICAgcmVtb3ZlU3ViKGxpbmspO1xuICAgICAgcmVtb3ZlRGVwKGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuYWN0aXZlTGluayA9IGxpbmsucHJldkFjdGl2ZUxpbms7XG4gICAgbGluay5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgICBsaW5rID0gcHJldjtcbiAgfVxuICBzdWIuZGVwcyA9IGhlYWQ7XG4gIHN1Yi5kZXBzVGFpbCA9IHRhaWw7XG59XG5mdW5jdGlvbiBpc0RpcnR5KHN1Yikge1xuICBmb3IgKGxldCBsaW5rID0gc3ViLmRlcHM7IGxpbms7IGxpbmsgPSBsaW5rLm5leHREZXApIHtcbiAgICBpZiAobGluay5kZXAudmVyc2lvbiAhPT0gbGluay52ZXJzaW9uIHx8IGxpbmsuZGVwLmNvbXB1dGVkICYmIChyZWZyZXNoQ29tcHV0ZWQobGluay5kZXAuY29tcHV0ZWQpIHx8IGxpbmsuZGVwLnZlcnNpb24gIT09IGxpbmsudmVyc2lvbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoc3ViLl9kaXJ0eSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZnJlc2hDb21wdXRlZChjb21wdXRlZCkge1xuICBpZiAoY29tcHV0ZWQuZmxhZ3MgJiA0ICYmICEoY29tcHV0ZWQuZmxhZ3MgJiAxNikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29tcHV0ZWQuZmxhZ3MgJj0gLTE3O1xuICBpZiAoY29tcHV0ZWQuZ2xvYmFsVmVyc2lvbiA9PT0gZ2xvYmFsVmVyc2lvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbjtcbiAgaWYgKCFjb21wdXRlZC5pc1NTUiAmJiBjb21wdXRlZC5mbGFncyAmIDEyOCAmJiAoIWNvbXB1dGVkLmRlcHMgJiYgIWNvbXB1dGVkLl9kaXJ0eSB8fCAhaXNEaXJ0eShjb21wdXRlZCkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbXB1dGVkLmZsYWdzIHw9IDI7XG4gIGNvbnN0IGRlcCA9IGNvbXB1dGVkLmRlcDtcbiAgY29uc3QgcHJldlN1YiA9IGFjdGl2ZVN1YjtcbiAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gIGFjdGl2ZVN1YiA9IGNvbXB1dGVkO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG4gIHRyeSB7XG4gICAgcHJlcGFyZURlcHMoY29tcHV0ZWQpO1xuICAgIGNvbnN0IHZhbHVlID0gY29tcHV0ZWQuZm4oY29tcHV0ZWQuX3ZhbHVlKTtcbiAgICBpZiAoZGVwLnZlcnNpb24gPT09IDAgfHwgaGFzQ2hhbmdlZCh2YWx1ZSwgY29tcHV0ZWQuX3ZhbHVlKSkge1xuICAgICAgY29tcHV0ZWQuZmxhZ3MgfD0gMTI4O1xuICAgICAgY29tcHV0ZWQuX3ZhbHVlID0gdmFsdWU7XG4gICAgICBkZXAudmVyc2lvbisrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVwLnZlcnNpb24rKztcbiAgICB0aHJvdyBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgYWN0aXZlU3ViID0gcHJldlN1YjtcbiAgICBzaG91bGRUcmFjayA9IHByZXZTaG91bGRUcmFjaztcbiAgICBjbGVhbnVwRGVwcyhjb21wdXRlZCk7XG4gICAgY29tcHV0ZWQuZmxhZ3MgJj0gLTM7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZVN1YihsaW5rLCBzb2Z0ID0gZmFsc2UpIHtcbiAgY29uc3QgeyBkZXAsIHByZXZTdWIsIG5leHRTdWIgfSA9IGxpbms7XG4gIGlmIChwcmV2U3ViKSB7XG4gICAgcHJldlN1Yi5uZXh0U3ViID0gbmV4dFN1YjtcbiAgICBsaW5rLnByZXZTdWIgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKG5leHRTdWIpIHtcbiAgICBuZXh0U3ViLnByZXZTdWIgPSBwcmV2U3ViO1xuICAgIGxpbmsubmV4dFN1YiA9IHZvaWQgMDtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZXAuc3Vic0hlYWQgPT09IGxpbmspIHtcbiAgICBkZXAuc3Vic0hlYWQgPSBuZXh0U3ViO1xuICB9XG4gIGlmIChkZXAuc3VicyA9PT0gbGluaykge1xuICAgIGRlcC5zdWJzID0gcHJldlN1YjtcbiAgICBpZiAoIXByZXZTdWIgJiYgZGVwLmNvbXB1dGVkKSB7XG4gICAgICBkZXAuY29tcHV0ZWQuZmxhZ3MgJj0gLTU7XG4gICAgICBmb3IgKGxldCBsID0gZGVwLmNvbXB1dGVkLmRlcHM7IGw7IGwgPSBsLm5leHREZXApIHtcbiAgICAgICAgcmVtb3ZlU3ViKGwsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIXNvZnQgJiYgIS0tZGVwLnNjICYmIGRlcC5tYXApIHtcbiAgICBkZXAubWFwLmRlbGV0ZShkZXAua2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlRGVwKGxpbmspIHtcbiAgY29uc3QgeyBwcmV2RGVwLCBuZXh0RGVwIH0gPSBsaW5rO1xuICBpZiAocHJldkRlcCkge1xuICAgIHByZXZEZXAubmV4dERlcCA9IG5leHREZXA7XG4gICAgbGluay5wcmV2RGVwID0gdm9pZCAwO1xuICB9XG4gIGlmIChuZXh0RGVwKSB7XG4gICAgbmV4dERlcC5wcmV2RGVwID0gcHJldkRlcDtcbiAgICBsaW5rLm5leHREZXAgPSB2b2lkIDA7XG4gIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdChmbiwgb3B0aW9ucykge1xuICBpZiAoZm4uZWZmZWN0IGluc3RhbmNlb2YgUmVhY3RpdmVFZmZlY3QpIHtcbiAgICBmbiA9IGZuLmVmZmVjdC5mbjtcbiAgfVxuICBjb25zdCBlID0gbmV3IFJlYWN0aXZlRWZmZWN0KGZuKTtcbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBleHRlbmQoZSwgb3B0aW9ucyk7XG4gIH1cbiAgdHJ5IHtcbiAgICBlLnJ1bigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlLnN0b3AoKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgY29uc3QgcnVubmVyID0gZS5ydW4uYmluZChlKTtcbiAgcnVubmVyLmVmZmVjdCA9IGU7XG4gIHJldHVybiBydW5uZXI7XG59XG5mdW5jdGlvbiBzdG9wKHJ1bm5lcikge1xuICBydW5uZXIuZWZmZWN0LnN0b3AoKTtcbn1cbmxldCBzaG91bGRUcmFjayA9IHRydWU7XG5jb25zdCB0cmFja1N0YWNrID0gW107XG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IGZhbHNlO1xufVxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XG4gIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xuICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHZvaWQgMCA/IHRydWUgOiBsYXN0O1xufVxuZnVuY3Rpb24gb25FZmZlY3RDbGVhbnVwKGZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSkge1xuICBpZiAoYWN0aXZlU3ViIGluc3RhbmNlb2YgUmVhY3RpdmVFZmZlY3QpIHtcbiAgICBhY3RpdmVTdWIuY2xlYW51cCA9IGZuO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25FZmZlY3RDbGVhbnVwKCkgd2FzIGNhbGxlZCB3aGVuIHRoZXJlIHdhcyBubyBhY3RpdmUgZWZmZWN0IHRvIGFzc29jaWF0ZSB3aXRoLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRWZmZWN0KGUpIHtcbiAgY29uc3QgeyBjbGVhbnVwIH0gPSBlO1xuICBlLmNsZWFudXAgPSB2b2lkIDA7XG4gIGlmIChjbGVhbnVwKSB7XG4gICAgY29uc3QgcHJldlN1YiA9IGFjdGl2ZVN1YjtcbiAgICBhY3RpdmVTdWIgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWN0aXZlU3ViID0gcHJldlN1YjtcbiAgICB9XG4gIH1cbn1cblxubGV0IGdsb2JhbFZlcnNpb24gPSAwO1xuY2xhc3MgTGluayB7XG4gIGNvbnN0cnVjdG9yKHN1YiwgZGVwKSB7XG4gICAgdGhpcy5zdWIgPSBzdWI7XG4gICAgdGhpcy5kZXAgPSBkZXA7XG4gICAgdGhpcy52ZXJzaW9uID0gZGVwLnZlcnNpb247XG4gICAgdGhpcy5uZXh0RGVwID0gdGhpcy5wcmV2RGVwID0gdGhpcy5uZXh0U3ViID0gdGhpcy5wcmV2U3ViID0gdGhpcy5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgfVxufVxuY2xhc3MgRGVwIHtcbiAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9za2lwXCJcbiAgY29uc3RydWN0b3IoY29tcHV0ZWQpIHtcbiAgICB0aGlzLmNvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgdGhpcy52ZXJzaW9uID0gMDtcbiAgICAvKipcbiAgICAgKiBMaW5rIGJldHdlZW4gdGhpcyBkZXAgYW5kIHRoZSBjdXJyZW50IGFjdGl2ZSBlZmZlY3RcbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogRG91Ymx5IGxpbmtlZCBsaXN0IHJlcHJlc2VudGluZyB0aGUgc3Vic2NyaWJpbmcgZWZmZWN0cyAodGFpbClcbiAgICAgKi9cbiAgICB0aGlzLnN1YnMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogRm9yIG9iamVjdCBwcm9wZXJ0eSBkZXBzIGNsZWFudXBcbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IHZvaWQgMDtcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVyIGNvdW50ZXJcbiAgICAgKi9cbiAgICB0aGlzLnNjID0gMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9za2lwID0gdHJ1ZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5zdWJzSGVhZCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgdHJhY2soZGVidWdJbmZvKSB7XG4gICAgaWYgKCFhY3RpdmVTdWIgfHwgIXNob3VsZFRyYWNrIHx8IGFjdGl2ZVN1YiA9PT0gdGhpcy5jb21wdXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGluayA9IHRoaXMuYWN0aXZlTGluaztcbiAgICBpZiAobGluayA9PT0gdm9pZCAwIHx8IGxpbmsuc3ViICE9PSBhY3RpdmVTdWIpIHtcbiAgICAgIGxpbmsgPSB0aGlzLmFjdGl2ZUxpbmsgPSBuZXcgTGluayhhY3RpdmVTdWIsIHRoaXMpO1xuICAgICAgaWYgKCFhY3RpdmVTdWIuZGVwcykge1xuICAgICAgICBhY3RpdmVTdWIuZGVwcyA9IGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5rLnByZXZEZXAgPSBhY3RpdmVTdWIuZGVwc1RhaWw7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbC5uZXh0RGVwID0gbGluaztcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsID0gbGluaztcbiAgICAgIH1cbiAgICAgIGFkZFN1YihsaW5rKTtcbiAgICB9IGVsc2UgaWYgKGxpbmsudmVyc2lvbiA9PT0gLTEpIHtcbiAgICAgIGxpbmsudmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgIGlmIChsaW5rLm5leHREZXApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGxpbmsubmV4dERlcDtcbiAgICAgICAgbmV4dC5wcmV2RGVwID0gbGluay5wcmV2RGVwO1xuICAgICAgICBpZiAobGluay5wcmV2RGVwKSB7XG4gICAgICAgICAgbGluay5wcmV2RGVwLm5leHREZXAgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGxpbmsucHJldkRlcCA9IGFjdGl2ZVN1Yi5kZXBzVGFpbDtcbiAgICAgICAgbGluay5uZXh0RGVwID0gdm9pZCAwO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwubmV4dERlcCA9IGxpbms7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICAgIGlmIChhY3RpdmVTdWIuZGVwcyA9PT0gbGluaykge1xuICAgICAgICAgIGFjdGl2ZVN1Yi5kZXBzID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhY3RpdmVTdWIub25UcmFjaykge1xuICAgICAgYWN0aXZlU3ViLm9uVHJhY2soXG4gICAgICAgIGV4dGVuZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZmZlY3Q6IGFjdGl2ZVN1YlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVidWdJbmZvXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsaW5rO1xuICB9XG4gIHRyaWdnZXIoZGVidWdJbmZvKSB7XG4gICAgdGhpcy52ZXJzaW9uKys7XG4gICAgZ2xvYmFsVmVyc2lvbisrO1xuICAgIHRoaXMubm90aWZ5KGRlYnVnSW5mbyk7XG4gIH1cbiAgbm90aWZ5KGRlYnVnSW5mbykge1xuICAgIHN0YXJ0QmF0Y2goKTtcbiAgICB0cnkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChsZXQgaGVhZCA9IHRoaXMuc3Vic0hlYWQ7IGhlYWQ7IGhlYWQgPSBoZWFkLm5leHRTdWIpIHtcbiAgICAgICAgICBpZiAoaGVhZC5zdWIub25UcmlnZ2VyICYmICEoaGVhZC5zdWIuZmxhZ3MgJiA4KSkge1xuICAgICAgICAgICAgaGVhZC5zdWIub25UcmlnZ2VyKFxuICAgICAgICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZWZmZWN0OiBoZWFkLnN1YlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVidWdJbmZvXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBsaW5rID0gdGhpcy5zdWJzOyBsaW5rOyBsaW5rID0gbGluay5wcmV2U3ViKSB7XG4gICAgICAgIGlmIChsaW5rLnN1Yi5ub3RpZnkoKSkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBsaW5rLnN1Yi5kZXAubm90aWZ5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFkZFN1YihsaW5rKSB7XG4gIGxpbmsuZGVwLnNjKys7XG4gIGlmIChsaW5rLnN1Yi5mbGFncyAmIDQpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IGxpbmsuZGVwLmNvbXB1dGVkO1xuICAgIGlmIChjb21wdXRlZCAmJiAhbGluay5kZXAuc3Vicykge1xuICAgICAgY29tcHV0ZWQuZmxhZ3MgfD0gNCB8IDE2O1xuICAgICAgZm9yIChsZXQgbCA9IGNvbXB1dGVkLmRlcHM7IGw7IGwgPSBsLm5leHREZXApIHtcbiAgICAgICAgYWRkU3ViKGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VGFpbCA9IGxpbmsuZGVwLnN1YnM7XG4gICAgaWYgKGN1cnJlbnRUYWlsICE9PSBsaW5rKSB7XG4gICAgICBsaW5rLnByZXZTdWIgPSBjdXJyZW50VGFpbDtcbiAgICAgIGlmIChjdXJyZW50VGFpbCkgY3VycmVudFRhaWwubmV4dFN1YiA9IGxpbms7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGxpbmsuZGVwLnN1YnNIZWFkID09PSB2b2lkIDApIHtcbiAgICAgIGxpbmsuZGVwLnN1YnNIZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuc3VicyA9IGxpbms7XG4gIH1cbn1cbmNvbnN0IHRhcmdldE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk9iamVjdCBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuY29uc3QgTUFQX0tFWV9JVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiTWFwIGtleXMgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmNvbnN0IEFSUkFZX0lURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJBcnJheSBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcbiAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZVN1Yikge1xuICAgIGxldCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICAgIGlmICghZGVwc01hcCkge1xuICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIGRlcHNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICB9XG4gICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XG4gICAgaWYgKCFkZXApIHtcbiAgICAgIGRlcHNNYXAuc2V0KGtleSwgZGVwID0gbmV3IERlcCgpKTtcbiAgICAgIGRlcC5tYXAgPSBkZXBzTWFwO1xuICAgICAgZGVwLmtleSA9IGtleTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVwLnRyYWNrKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xuICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoIWRlcHNNYXApIHtcbiAgICBnbG9iYWxWZXJzaW9uKys7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJ1biA9IChkZXApID0+IHtcbiAgICBpZiAoZGVwKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBkZXAudHJpZ2dlcih7XG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcC50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzdGFydEJhdGNoKCk7XG4gIGlmICh0eXBlID09PSBcImNsZWFyXCIpIHtcbiAgICBkZXBzTWFwLmZvckVhY2gocnVuKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGNvbnN0IGlzQXJyYXlJbmRleCA9IHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSk7XG4gICAgaWYgKHRhcmdldElzQXJyYXkgJiYga2V5ID09PSBcImxlbmd0aFwiKSB7XG4gICAgICBjb25zdCBuZXdMZW5ndGggPSBOdW1iZXIobmV3VmFsdWUpO1xuICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleTIpID0+IHtcbiAgICAgICAgaWYgKGtleTIgPT09IFwibGVuZ3RoXCIgfHwga2V5MiA9PT0gQVJSQVlfSVRFUkFURV9LRVkgfHwgIWlzU3ltYm9sKGtleTIpICYmIGtleTIgPj0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgcnVuKGRlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoa2V5ICE9PSB2b2lkIDAgfHwgZGVwc01hcC5oYXModm9pZCAwKSkge1xuICAgICAgICBydW4oZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUluZGV4KSB7XG4gICAgICAgIHJ1bihkZXBzTWFwLmdldChBUlJBWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgICBpZiAoIXRhcmdldElzQXJyYXkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlJbmRleCkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KFwibGVuZ3RoXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgICBpZiAoIXRhcmdldElzQXJyYXkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbmRCYXRjaCgpO1xufVxuZnVuY3Rpb24gZ2V0RGVwRnJvbVJlYWN0aXZlKG9iamVjdCwga2V5KSB7XG4gIGNvbnN0IGRlcE1hcCA9IHRhcmdldE1hcC5nZXQob2JqZWN0KTtcbiAgcmV0dXJuIGRlcE1hcCAmJiBkZXBNYXAuZ2V0KGtleSk7XG59XG5cbmZ1bmN0aW9uIHJlYWN0aXZlUmVhZEFycmF5KGFycmF5KSB7XG4gIGNvbnN0IHJhdyA9IHRvUmF3KGFycmF5KTtcbiAgaWYgKHJhdyA9PT0gYXJyYXkpIHJldHVybiByYXc7XG4gIHRyYWNrKHJhdywgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgcmV0dXJuIGlzU2hhbGxvdyhhcnJheSkgPyByYXcgOiByYXcubWFwKHRvUmVhY3RpdmUpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWRBcnJheShhcnIpIHtcbiAgdHJhY2soYXJyID0gdG9SYXcoYXJyKSwgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgcmV0dXJuIGFycjtcbn1cbmZ1bmN0aW9uIHRvV3JhcHBlZCh0YXJnZXQsIGl0ZW0pIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiBpc1JlYWN0aXZlKHRhcmdldCkgPyB0b1JlYWRvbmx5KHRvUmVhY3RpdmUoaXRlbSkpIDogdG9SZWFkb25seShpdGVtKTtcbiAgfVxuICByZXR1cm4gdG9SZWFjdGl2ZShpdGVtKTtcbn1cbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgX19wcm90b19fOiBudWxsLFxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgU3ltYm9sLml0ZXJhdG9yLCAoaXRlbSkgPT4gdG9XcmFwcGVkKHRoaXMsIGl0ZW0pKTtcbiAgfSxcbiAgY29uY2F0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykuY29uY2F0KFxuICAgICAgLi4uYXJncy5tYXAoKHgpID0+IGlzQXJyYXkoeCkgPyByZWFjdGl2ZVJlYWRBcnJheSh4KSA6IHgpXG4gICAgKTtcbiAgfSxcbiAgZW50cmllcygpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgXCJlbnRyaWVzXCIsICh2YWx1ZSkgPT4ge1xuICAgICAgdmFsdWVbMV0gPSB0b1dyYXBwZWQodGhpcywgdmFsdWVbMV0pO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9LFxuICBldmVyeShmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImV2ZXJ5XCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbHRlcihmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseShcbiAgICAgIHRoaXMsXG4gICAgICBcImZpbHRlclwiLFxuICAgICAgZm4sXG4gICAgICB0aGlzQXJnLFxuICAgICAgKHYpID0+IHYubWFwKChpdGVtKSA9PiB0b1dyYXBwZWQodGhpcywgaXRlbSkpLFxuICAgICAgYXJndW1lbnRzXG4gICAgKTtcbiAgfSxcbiAgZmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseShcbiAgICAgIHRoaXMsXG4gICAgICBcImZpbmRcIixcbiAgICAgIGZuLFxuICAgICAgdGhpc0FyZyxcbiAgICAgIChpdGVtKSA9PiB0b1dyYXBwZWQodGhpcywgaXRlbSksXG4gICAgICBhcmd1bWVudHNcbiAgICApO1xuICB9LFxuICBmaW5kSW5kZXgoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kSW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3QoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkoXG4gICAgICB0aGlzLFxuICAgICAgXCJmaW5kTGFzdFwiLFxuICAgICAgZm4sXG4gICAgICB0aGlzQXJnLFxuICAgICAgKGl0ZW0pID0+IHRvV3JhcHBlZCh0aGlzLCBpdGVtKSxcbiAgICAgIGFyZ3VtZW50c1xuICAgICk7XG4gIH0sXG4gIGZpbmRMYXN0SW5kZXgoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kTGFzdEluZGV4XCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIC8vIGZsYXQsIGZsYXRNYXAgY291bGQgYmVuZWZpdCBmcm9tIEFSUkFZX0lURVJBVEUgYnV0IGFyZSBub3Qgc3RyYWlnaHQtZm9yd2FyZCB0byBpbXBsZW1lbnRcbiAgZm9yRWFjaChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZvckVhY2hcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgaW5jbHVkZXMoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImluY2x1ZGVzXCIsIGFyZ3MpO1xuICB9LFxuICBpbmRleE9mKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gc2VhcmNoUHJveHkodGhpcywgXCJpbmRleE9mXCIsIGFyZ3MpO1xuICB9LFxuICBqb2luKHNlcGFyYXRvcikge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS5qb2luKHNlcGFyYXRvcik7XG4gIH0sXG4gIC8vIGtleXMoKSBpdGVyYXRvciBvbmx5IHJlYWRzIGBsZW5ndGhgLCBubyBvcHRpbWl6YXRpb24gcmVxdWlyZWRcbiAgbGFzdEluZGV4T2YoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImxhc3RJbmRleE9mXCIsIGFyZ3MpO1xuICB9LFxuICBtYXAoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJtYXBcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgcG9wKCkge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwicG9wXCIpO1xuICB9LFxuICBwdXNoKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInB1c2hcIiwgYXJncyk7XG4gIH0sXG4gIHJlZHVjZShmbiwgLi4uYXJncykge1xuICAgIHJldHVybiByZWR1Y2UodGhpcywgXCJyZWR1Y2VcIiwgZm4sIGFyZ3MpO1xuICB9LFxuICByZWR1Y2VSaWdodChmbiwgLi4uYXJncykge1xuICAgIHJldHVybiByZWR1Y2UodGhpcywgXCJyZWR1Y2VSaWdodFwiLCBmbiwgYXJncyk7XG4gIH0sXG4gIHNoaWZ0KCkge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwic2hpZnRcIik7XG4gIH0sXG4gIC8vIHNsaWNlIGNvdWxkIHVzZSBBUlJBWV9JVEVSQVRFIGJ1dCBhbHNvIHNlZW1zIHRvIGJlZyBmb3IgcmFuZ2UgdHJhY2tpbmdcbiAgc29tZShmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcInNvbWVcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgc3BsaWNlKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInNwbGljZVwiLCBhcmdzKTtcbiAgfSxcbiAgdG9SZXZlcnNlZCgpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9SZXZlcnNlZCgpO1xuICB9LFxuICB0b1NvcnRlZChjb21wYXJlcikge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1NvcnRlZChjb21wYXJlcik7XG4gIH0sXG4gIHRvU3BsaWNlZCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvU3BsaWNlZCguLi5hcmdzKTtcbiAgfSxcbiAgdW5zaGlmdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJ1bnNoaWZ0XCIsIGFyZ3MpO1xuICB9LFxuICB2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFwidmFsdWVzXCIsIChpdGVtKSA9PiB0b1dyYXBwZWQodGhpcywgaXRlbSkpO1xuICB9XG59O1xuZnVuY3Rpb24gaXRlcmF0b3Ioc2VsZiwgbWV0aG9kLCB3cmFwVmFsdWUpIHtcbiAgY29uc3QgYXJyID0gc2hhbGxvd1JlYWRBcnJheShzZWxmKTtcbiAgY29uc3QgaXRlciA9IGFyclttZXRob2RdKCk7XG4gIGlmIChhcnIgIT09IHNlbGYgJiYgIWlzU2hhbGxvdyhzZWxmKSkge1xuICAgIGl0ZXIuX25leHQgPSBpdGVyLm5leHQ7XG4gICAgaXRlci5uZXh0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gaXRlci5fbmV4dCgpO1xuICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB3cmFwVmFsdWUocmVzdWx0LnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gaXRlcjtcbn1cbmNvbnN0IGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5mdW5jdGlvbiBhcHBseShzZWxmLCBtZXRob2QsIGZuLCB0aGlzQXJnLCB3cmFwcGVkUmV0Rm4sIGFyZ3MpIHtcbiAgY29uc3QgYXJyID0gc2hhbGxvd1JlYWRBcnJheShzZWxmKTtcbiAgY29uc3QgbmVlZHNXcmFwID0gYXJyICE9PSBzZWxmICYmICFpc1NoYWxsb3coc2VsZik7XG4gIGNvbnN0IG1ldGhvZEZuID0gYXJyW21ldGhvZF07XG4gIGlmIChtZXRob2RGbiAhPT0gYXJyYXlQcm90b1ttZXRob2RdKSB7XG4gICAgY29uc3QgcmVzdWx0MiA9IG1ldGhvZEZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIHJldHVybiBuZWVkc1dyYXAgPyB0b1JlYWN0aXZlKHJlc3VsdDIpIDogcmVzdWx0MjtcbiAgfVxuICBsZXQgd3JhcHBlZEZuID0gZm47XG4gIGlmIChhcnIgIT09IHNlbGYpIHtcbiAgICBpZiAobmVlZHNXcmFwKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0b1dyYXBwZWQoc2VsZiwgaXRlbSksIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChmbi5sZW5ndGggPiAyKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBjb25zdCByZXN1bHQgPSBtZXRob2RGbi5jYWxsKGFyciwgd3JhcHBlZEZuLCB0aGlzQXJnKTtcbiAgcmV0dXJuIG5lZWRzV3JhcCAmJiB3cmFwcGVkUmV0Rm4gPyB3cmFwcGVkUmV0Rm4ocmVzdWx0KSA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJlZHVjZShzZWxmLCBtZXRob2QsIGZuLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmICghaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihhY2MsIGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGFjYywgdG9XcmFwcGVkKHNlbGYsIGl0ZW0pLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZm4ubGVuZ3RoID4gMykge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oYWNjLCBpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhY2MsIGl0ZW0sIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJbbWV0aG9kXSh3cmFwcGVkRm4sIC4uLmFyZ3MpO1xufVxuZnVuY3Rpb24gc2VhcmNoUHJveHkoc2VsZiwgbWV0aG9kLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHRvUmF3KHNlbGYpO1xuICB0cmFjayhhcnIsIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIGNvbnN0IHJlcyA9IGFyclttZXRob2RdKC4uLmFyZ3MpO1xuICBpZiAoKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkgJiYgaXNQcm94eShhcmdzWzBdKSkge1xuICAgIGFyZ3NbMF0gPSB0b1JhdyhhcmdzWzBdKTtcbiAgICByZXR1cm4gYXJyW21ldGhvZF0oLi4uYXJncyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG5vVHJhY2tpbmcoc2VsZiwgbWV0aG9kLCBhcmdzID0gW10pIHtcbiAgcGF1c2VUcmFja2luZygpO1xuICBzdGFydEJhdGNoKCk7XG4gIGNvbnN0IHJlcyA9IHRvUmF3KHNlbGYpW21ldGhvZF0uYXBwbHkoc2VsZiwgYXJncyk7XG4gIGVuZEJhdGNoKCk7XG4gIHJlc2V0VHJhY2tpbmcoKTtcbiAgcmV0dXJuIHJlcztcbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KFxuICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKS5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBcImFyZ3VtZW50c1wiICYmIGtleSAhPT0gXCJjYWxsZXJcIikubWFwKChrZXkpID0+IFN5bWJvbFtrZXldKS5maWx0ZXIoaXNTeW1ib2wpXG4pO1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkoa2V5KSB7XG4gIGlmICghaXNTeW1ib2woa2V5KSkga2V5ID0gU3RyaW5nKGtleSk7XG4gIGNvbnN0IG9iaiA9IHRvUmF3KHRoaXMpO1xuICB0cmFjayhvYmosIFwiaGFzXCIsIGtleSk7XG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoa2V5KTtcbn1cbmNsYXNzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihfaXNSZWFkb25seSA9IGZhbHNlLCBfaXNTaGFsbG93ID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pc1JlYWRvbmx5ID0gX2lzUmVhZG9ubHk7XG4gICAgdGhpcy5faXNTaGFsbG93ID0gX2lzU2hhbGxvdztcbiAgfVxuICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3Zfc2tpcFwiKSByZXR1cm4gdGFyZ2V0W1wiX192X3NraXBcIl07XG4gICAgY29uc3QgaXNSZWFkb25seTIgPSB0aGlzLl9pc1JlYWRvbmx5LCBpc1NoYWxsb3cyID0gdGhpcy5faXNTaGFsbG93O1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiKSB7XG4gICAgICByZXR1cm4gaXNTaGFsbG93MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIGlmIChyZWNlaXZlciA9PT0gKGlzUmVhZG9ubHkyID8gaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFkb25seU1hcCA6IHJlYWRvbmx5TWFwIDogaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFjdGl2ZU1hcCA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSB8fCAvLyByZWNlaXZlciBpcyBub3QgdGhlIHJlYWN0aXZlIHByb3h5LCBidXQgaGFzIHRoZSBzYW1lIHByb3RvdHlwZVxuICAgICAgLy8gdGhpcyBtZWFucyB0aGUgcmVjZWl2ZXIgaXMgYSB1c2VyIHByb3h5IG9mIHRoZSByZWFjdGl2ZSBwcm94eVxuICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihyZWNlaXZlcikpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICBsZXQgZm47XG4gICAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiAoZm4gPSBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJoYXNPd25Qcm9wZXJ0eVwiKSB7XG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQoXG4gICAgICB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICAvLyBpZiB0aGlzIGlzIGEgcHJveHkgd3JhcHBpbmcgYSByZWYsIHJldHVybiBtZXRob2RzIHVzaW5nIHRoZSByYXcgcmVmXG4gICAgICAvLyBhcyByZWNlaXZlciBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2FsbCBgdG9SYXdgIG9uIHRoZSByZWYgaW4gYWxsXG4gICAgICAvLyBpdHMgY2xhc3MgbWV0aG9kc1xuICAgICAgaXNSZWYodGFyZ2V0KSA/IHRhcmdldCA6IHJlY2VpdmVyXG4gICAgKTtcbiAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICghaXNSZWFkb25seTIpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzU2hhbGxvdzIpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgJiYgaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCBpc0FycmF5V2l0aEludGVnZXJLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSk7XG4gICAgaWYgKCF0aGlzLl9pc1NoYWxsb3cpIHtcbiAgICAgIGNvbnN0IGlzT2xkVmFsdWVSZWFkb25seSA9IGlzUmVhZG9ubHkob2xkVmFsdWUpO1xuICAgICAgaWYgKCFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICBvbGRWYWx1ZSA9IHRvUmF3KG9sZFZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXlXaXRoSW50ZWdlcktleSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgICBpZiAoaXNPbGRWYWx1ZVJlYWRvbmx5KSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgICAgICAgdGFyZ2V0W2tleV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaGFkS2V5ID0gaXNBcnJheVdpdGhJbnRlZ2VyS2V5ID8gTnVtYmVyKGtleSkgPCB0YXJnZXQubGVuZ3RoIDogaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LnNldChcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlLFxuICAgICAgaXNSZWYodGFyZ2V0KSA/IHRhcmdldCA6IHJlY2VpdmVyXG4gICAgKTtcbiAgICBpZiAodGFyZ2V0ID09PSB0b1JhdyhyZWNlaXZlcikpIHtcbiAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCBrZXksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcbiAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiLCBrZXksIHZvaWQgMCwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGhhcyh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuaGFzKHRhcmdldCwga2V5KTtcbiAgICBpZiAoIWlzU3ltYm9sKGtleSkgfHwgIWJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiaGFzXCIsIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgb3duS2V5cyh0YXJnZXQpIHtcbiAgICB0cmFjayhcbiAgICAgIHRhcmdldCxcbiAgICAgIFwiaXRlcmF0ZVwiLFxuICAgICAgaXNBcnJheSh0YXJnZXQpID8gXCJsZW5ndGhcIiA6IElURVJBVEVfS0VZXG4gICAgKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gIH1cbn1cbmNsYXNzIFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyIGV4dGVuZHMgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKGlzU2hhbGxvdzIgPSBmYWxzZSkge1xuICAgIHN1cGVyKHRydWUsIGlzU2hhbGxvdzIpO1xuICB9XG4gIHNldCh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgU2V0IG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0YXJnZXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5jb25zdCBtdXRhYmxlSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE11dGFibGVSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHJlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcih0cnVlKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBSZWFkb25seVJlYWN0aXZlSGFuZGxlcih0cnVlKTtcblxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHkyLCBpc1NoYWxsb3cyKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCB0YXJnZXRJc01hcCA9IGlzTWFwKHJhd1RhcmdldCk7XG4gICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSBcImVudHJpZXNcIiB8fCBtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpc0tleU9ubHkgPSBtZXRob2QgPT09IFwia2V5c1wiICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93MiA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkyID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgIWlzUmVhZG9ubHkyICYmIHRyYWNrKFxuICAgICAgcmF3VGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpdGVyYXRvciBwcm90b2NvbFxuICAgICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBkb25lID8geyB2YWx1ZSwgZG9uZSB9IDoge1xuICAgICAgICAgIHZhbHVlOiBpc1BhaXIgPyBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSA6IHdyYXAodmFsdWUpLFxuICAgICAgICAgIGRvbmVcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxuICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0b1Jhdyh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgPyBmYWxzZSA6IHR5cGUgPT09IFwiY2xlYXJcIiA/IHZvaWQgMCA6IHRoaXM7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKHJlYWRvbmx5LCBzaGFsbG93KSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgIGlmICghcmVhZG9ubHkpIHtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQoa2V5LCByYXdLZXkpKSB7XG4gICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiwgcmF3S2V5KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgaGFzIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xuICAgICAgY29uc3Qgd3JhcCA9IHNoYWxsb3cgPyB0b1NoYWxsb3cgOiByZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICAgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KGtleSkpO1xuICAgICAgfSBlbHNlIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIHJhd0tleSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0LmdldChrZXkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgICFyZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiwgSVRFUkFURV9LRVkpO1xuICAgICAgcmV0dXJuIHRhcmdldC5zaXplO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgIGlmICghcmVhZG9ubHkpIHtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQoa2V5LCByYXdLZXkpKSB7XG4gICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwgcmF3S2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXkgPT09IHJhd0tleSA/IHRhcmdldC5oYXMoa2V5KSA6IHRhcmdldC5oYXMoa2V5KSB8fCB0YXJnZXQuaGFzKHJhd0tleSk7XG4gICAgfSxcbiAgICBmb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBjb25zdCBvYnNlcnZlZCA9IHRoaXM7XG4gICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgY29uc3Qgd3JhcCA9IHNoYWxsb3cgPyB0b1NoYWxsb3cgOiByZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICAgIXJlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIsIElURVJBVEVfS0VZKTtcbiAgICAgIHJldHVybiB0YXJnZXQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB3cmFwKHZhbHVlKSwgd3JhcChrZXkpLCBvYnNlcnZlZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGV4dGVuZChcbiAgICBpbnN0cnVtZW50YXRpb25zLFxuICAgIHJlYWRvbmx5ID8ge1xuICAgICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiKSxcbiAgICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIpLFxuICAgICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIilcbiAgICB9IDoge1xuICAgICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIGlmICghc2hhbGxvdyAmJiAhaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgY29uc3QgcHJvdG8gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICB0YXJnZXQuYWRkKHZhbHVlKTtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwgdmFsdWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCBrZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiwga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0ID8gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpIDogdm9pZCAwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XG4gICAgICAgIGlmIChoYWRLZXkpIHtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiwga2V5LCB2b2lkIDAsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGNsZWFyKCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcbiAgICAgICAgY29uc3Qgb2xkVGFyZ2V0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGlzTWFwKHRhcmdldCkgPyBuZXcgTWFwKHRhcmdldCkgOiBuZXcgU2V0KHRhcmdldCkgOiB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xuICAgICAgICBpZiAoaGFkSXRlbXMpIHtcbiAgICAgICAgICB0cmlnZ2VyKFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgXCJjbGVhclwiLFxuICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgb2xkVGFyZ2V0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgY29uc3QgaXRlcmF0b3JNZXRob2RzID0gW1xuICAgIFwia2V5c1wiLFxuICAgIFwidmFsdWVzXCIsXG4gICAgXCJlbnRyaWVzXCIsXG4gICAgU3ltYm9sLml0ZXJhdG9yXG4gIF07XG4gIGl0ZXJhdG9yTWV0aG9kcy5mb3JFYWNoKChtZXRob2QpID0+IHtcbiAgICBpbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHJlYWRvbmx5LCBzaGFsbG93KTtcbiAgfSk7XG4gIHJldHVybiBpbnN0cnVtZW50YXRpb25zO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGlzUmVhZG9ubHkyLCBzaGFsbG93KSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBjcmVhdGVJbnN0cnVtZW50YXRpb25zKGlzUmVhZG9ubHkyLCBzaGFsbG93KTtcbiAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIikge1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0KFxuICAgICAgaGFzT3duKGluc3RydW1lbnRhdGlvbnMsIGtleSkgJiYga2V5IGluIHRhcmdldCA/IGluc3RydW1lbnRhdGlvbnMgOiB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICByZWNlaXZlclxuICAgICk7XG4gIH07XG59XG5jb25zdCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIGZhbHNlKVxufTtcbmNvbnN0IHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgdHJ1ZSlcbn07XG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxufTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIHRydWUpXG59O1xuZnVuY3Rpb24gY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSkge1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAocmF3S2V5ICE9PSBrZXkgJiYgaGFzLmNhbGwodGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgY29uc3QgdHlwZSA9IHRvUmF3VHlwZSh0YXJnZXQpO1xuICAgIHdhcm4oXG4gICAgICBgUmVhY3RpdmUgJHt0eXBlfSBjb250YWlucyBib3RoIHRoZSByYXcgYW5kIHJlYWN0aXZlIHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCB3aGljaCBjYW4gbGVhZCB0byBpbmNvbnNpc3RlbmNpZXMuIEF2b2lkIGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuIHRoZSByYXcgYW5kIHJlYWN0aXZlIHZlcnNpb25zIG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYFxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gdGFyZ2V0VHlwZU1hcChyYXdUeXBlKSB7XG4gIHN3aXRjaCAocmF3VHlwZSkge1xuICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcbiAgICBjYXNlIFwiTWFwXCI6XG4gICAgY2FzZSBcIlNldFwiOlxuICAgIGNhc2UgXCJXZWFrTWFwXCI6XG4gICAgY2FzZSBcIldlYWtTZXRcIjpcbiAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAwIC8qIElOVkFMSUQgKi87XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFRhcmdldFR5cGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlW1wiX192X3NraXBcIl0gfHwgIU9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpID8gMCAvKiBJTlZBTElEICovIDogdGFyZ2V0VHlwZU1hcCh0b1Jhd1R5cGUodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xuICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIG11dGFibGVIYW5kbGVycyxcbiAgICBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHJlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgZmFsc2UsXG4gICAgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsXG4gICAgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhY3RpdmVNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIHRydWUsXG4gICAgcmVhZG9ubHlIYW5kbGVycyxcbiAgICByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFkb25seU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIHRydWUsXG4gICAgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seU1hcFxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBpc1JlYWRvbmx5MiwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XG4gIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgdmFsdWUgY2Fubm90IGJlIG1hZGUgJHtpc1JlYWRvbmx5MiA/IFwicmVhZG9ubHlcIiA6IFwicmVhY3RpdmVcIn06ICR7U3RyaW5nKFxuICAgICAgICAgIHRhcmdldFxuICAgICAgICApfWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIl0gJiYgIShpc1JlYWRvbmx5MiAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiXSkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IHRhcmdldFR5cGUgPSBnZXRUYXJnZXRUeXBlKHRhcmdldCk7XG4gIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKGV4aXN0aW5nUHJveHkpIHtcbiAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcbiAgfVxuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShcbiAgICB0YXJnZXQsXG4gICAgdGFyZ2V0VHlwZSA9PT0gMiAvKiBDT0xMRUNUSU9OICovID8gY29sbGVjdGlvbkhhbmRsZXJzIDogYmFzZUhhbmRsZXJzXG4gICk7XG4gIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xuICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIl0pO1xuICB9XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWN0aXZlXCJdKTtcbn1cbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIl0pO1xufVxuZnVuY3Rpb24gaXNTaGFsbG93KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1NoYWxsb3dcIl0pO1xufVxuZnVuY3Rpb24gaXNQcm94eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPyAhIXZhbHVlW1wiX192X3Jhd1wiXSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcbiAgY29uc3QgcmF3ID0gb2JzZXJ2ZWQgJiYgb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICByZXR1cm4gcmF3ID8gdG9SYXcocmF3KSA6IG9ic2VydmVkO1xufVxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xuICBpZiAoIWhhc093bih2YWx1ZSwgXCJfX3Zfc2tpcFwiKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSkge1xuICAgIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCB0b1JlYWN0aXZlID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFjdGl2ZSh2YWx1ZSkgOiB2YWx1ZTtcbmNvbnN0IHRvUmVhZG9ubHkgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWRvbmx5KHZhbHVlKSA6IHZhbHVlO1xuXG5mdW5jdGlvbiBpc1JlZihyKSB7XG4gIHJldHVybiByID8gcltcIl9fdl9pc1JlZlwiXSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWYocmF3VmFsdWUsIHNoYWxsb3cpIHtcbiAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xuICAgIHJldHVybiByYXdWYWx1ZTtcbiAgfVxuICByZXR1cm4gbmV3IFJlZkltcGwocmF3VmFsdWUsIHNoYWxsb3cpO1xufVxuY2xhc3MgUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBpc1NoYWxsb3cyKSB7XG4gICAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpc1tcIl9fdl9pc1NoYWxsb3dcIl0gPSBmYWxzZTtcbiAgICB0aGlzLl9yYXdWYWx1ZSA9IGlzU2hhbGxvdzIgPyB2YWx1ZSA6IHRvUmF3KHZhbHVlKTtcbiAgICB0aGlzLl92YWx1ZSA9IGlzU2hhbGxvdzIgPyB2YWx1ZSA6IHRvUmVhY3RpdmUodmFsdWUpO1xuICAgIHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdID0gaXNTaGFsbG93MjtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRoaXMuZGVwLnRyYWNrKHtcbiAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVwLnRyYWNrKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsdWUpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuX3Jhd1ZhbHVlO1xuICAgIGNvbnN0IHVzZURpcmVjdFZhbHVlID0gdGhpc1tcIl9fdl9pc1NoYWxsb3dcIl0gfHwgaXNTaGFsbG93KG5ld1ZhbHVlKSB8fCBpc1JlYWRvbmx5KG5ld1ZhbHVlKTtcbiAgICBuZXdWYWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsdWUgOiB0b1JhdyhuZXdWYWx1ZSk7XG4gICAgaWYgKGhhc0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWx1ZSA6IHRvUmVhY3RpdmUobmV3VmFsdWUpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgdGhpcy5kZXAudHJpZ2dlcih7XG4gICAgICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAga2V5OiBcInZhbHVlXCIsXG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRlcC50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZjIpIHtcbiAgaWYgKHJlZjIuZGVwKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHJlZjIuZGVwLnRyaWdnZXIoe1xuICAgICAgICB0YXJnZXQ6IHJlZjIsXG4gICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICBuZXdWYWx1ZTogcmVmMi5fdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWYyLmRlcC50cmlnZ2VyKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1bnJlZihyZWYyKSB7XG4gIHJldHVybiBpc1JlZihyZWYyKSA/IHJlZjIudmFsdWUgOiByZWYyO1xufVxuZnVuY3Rpb24gdG9WYWx1ZShzb3VyY2UpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlKSA/IHNvdXJjZSgpIDogdW5yZWYoc291cmNlKTtcbn1cbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcbiAgZ2V0OiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiBrZXkgPT09IFwiX192X3Jhd1wiID8gdGFyZ2V0IDogdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXG4gIHNldDogKHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpID0+IHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGlmIChpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gcHJveHlSZWZzKG9iamVjdFdpdGhSZWZzKSB7XG4gIHJldHVybiBpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKSA/IG9iamVjdFdpdGhSZWZzIDogbmV3IFByb3h5KG9iamVjdFdpdGhSZWZzLCBzaGFsbG93VW53cmFwSGFuZGxlcnMpO1xufVxuY2xhc3MgQ3VzdG9tUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcbiAgICB0aGlzW1wiX192X2lzUmVmXCJdID0gdHJ1ZTtcbiAgICB0aGlzLl92YWx1ZSA9IHZvaWQgMDtcbiAgICBjb25zdCBkZXAgPSB0aGlzLmRlcCA9IG5ldyBEZXAoKTtcbiAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBmYWN0b3J5KGRlcC50cmFjay5iaW5kKGRlcCksIGRlcC50cmlnZ2VyLmJpbmQoZGVwKSk7XG4gICAgdGhpcy5fZ2V0ID0gZ2V0O1xuICAgIHRoaXMuX3NldCA9IHNldDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlID0gdGhpcy5fZ2V0KCk7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIHRoaXMuX3NldChuZXdWYWwpO1xuICB9XG59XG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xuICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XG59XG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1Byb3h5KG9iamVjdCkpIHtcbiAgICB3YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcbiAgfVxuICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgcmV0W2tleV0gPSBwcm9wZXJ0eVRvUmVmKG9iamVjdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXksIF9kZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xuICAgIHRoaXMuX2tleSA9IF9rZXk7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gX2RlZmF1bHRWYWx1ZTtcbiAgICB0aGlzW1wiX192X2lzUmVmXCJdID0gdHJ1ZTtcbiAgICB0aGlzLl92YWx1ZSA9IHZvaWQgMDtcbiAgICB0aGlzLl9yYXcgPSB0b1Jhdyhfb2JqZWN0KTtcbiAgICBsZXQgc2hhbGxvdyA9IHRydWU7XG4gICAgbGV0IG9iaiA9IF9vYmplY3Q7XG4gICAgaWYgKCFpc0FycmF5KF9vYmplY3QpIHx8ICFpc0ludGVnZXJLZXkoU3RyaW5nKF9rZXkpKSkge1xuICAgICAgZG8ge1xuICAgICAgICBzaGFsbG93ID0gIWlzUHJveHkob2JqKSB8fCBpc1NoYWxsb3cob2JqKTtcbiAgICAgIH0gd2hpbGUgKHNoYWxsb3cgJiYgKG9iaiA9IG9ialtcIl9fdl9yYXdcIl0pKTtcbiAgICB9XG4gICAgdGhpcy5fc2hhbGxvdyA9IHNoYWxsb3c7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGxldCB2YWwgPSB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcbiAgICBpZiAodGhpcy5fc2hhbGxvdykge1xuICAgICAgdmFsID0gdW5yZWYodmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlID0gdmFsID09PSB2b2lkIDAgPyB0aGlzLl9kZWZhdWx0VmFsdWUgOiB2YWw7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIGlmICh0aGlzLl9zaGFsbG93ICYmIGlzUmVmKHRoaXMuX3Jhd1t0aGlzLl9rZXldKSkge1xuICAgICAgY29uc3QgbmVzdGVkUmVmID0gdGhpcy5fb2JqZWN0W3RoaXMuX2tleV07XG4gICAgICBpZiAoaXNSZWYobmVzdGVkUmVmKSkge1xuICAgICAgICBuZXN0ZWRSZWYudmFsdWUgPSBuZXdWYWw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gIH1cbiAgZ2V0IGRlcCgpIHtcbiAgICByZXR1cm4gZ2V0RGVwRnJvbVJlYWN0aXZlKHRoaXMuX3JhdywgdGhpcy5fa2V5KTtcbiAgfVxufVxuY2xhc3MgR2V0dGVyUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9nZXR0ZXIpIHtcbiAgICB0aGlzLl9nZXR0ZXIgPSBfZ2V0dGVyO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldHRlcigpO1xuICB9XG59XG5mdW5jdGlvbiB0b1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gbmV3IEdldHRlclJlZkltcGwoc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5VG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZihzb3VyY2UpO1xuICB9XG59XG5mdW5jdGlvbiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBPYmplY3RSZWZJbXBsKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihmbiwgc2V0dGVyLCBpc1NTUikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLnNldHRlciA9IHNldHRlcjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl92YWx1ZSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcCA9IG5ldyBEZXAodGhpcyk7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIC8vIFRPRE8gaXNvbGF0ZWREZWNsYXJhdGlvbnMgXCJfX3ZfaXNSZWFkb25seVwiXG4gICAgLy8gQSBjb21wdXRlZCBpcyBhbHNvIGEgc3Vic2NyaWJlciB0aGF0IHRyYWNrcyBvdGhlciBkZXBzXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwc1RhaWwgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5mbGFncyA9IDE2O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsVmVyc2lvbiA9IGdsb2JhbFZlcnNpb24gLSAxO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIHRoaXMuZWZmZWN0ID0gdGhpcztcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSAhc2V0dGVyO1xuICAgIHRoaXMuaXNTU1IgPSBpc1NTUjtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnkoKSB7XG4gICAgdGhpcy5mbGFncyB8PSAxNjtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgOCkgJiYgLy8gYXZvaWQgaW5maW5pdGUgc2VsZiByZWN1cnNpb25cbiAgICBhY3RpdmVTdWIgIT09IHRoaXMpIHtcbiAgICAgIGJhdGNoKHRoaXMsIHRydWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IGxpbmsgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gdGhpcy5kZXAudHJhY2soe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgIGtleTogXCJ2YWx1ZVwiXG4gICAgfSkgOiB0aGlzLmRlcC50cmFjaygpO1xuICAgIHJlZnJlc2hDb21wdXRlZCh0aGlzKTtcbiAgICBpZiAobGluaykge1xuICAgICAgbGluay52ZXJzaW9uID0gdGhpcy5kZXAudmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIGlmICh0aGlzLnNldHRlcikge1xuICAgICAgdGhpcy5zZXR0ZXIobmV3VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcIldyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5XCIpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzU1NSID0gZmFsc2UpIHtcbiAgbGV0IGdldHRlcjtcbiAgbGV0IHNldHRlcjtcbiAgaWYgKGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSkge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xuICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gIH1cbiAgY29uc3QgY1JlZiA9IG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIGlzU1NSKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVidWdPcHRpb25zICYmICFpc1NTUikge1xuICAgIGNSZWYub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgIGNSZWYub25UcmlnZ2VyID0gZGVidWdPcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICByZXR1cm4gY1JlZjtcbn1cblxuY29uc3QgVHJhY2tPcFR5cGVzID0ge1xuICBcIkdFVFwiOiBcImdldFwiLFxuICBcIkhBU1wiOiBcImhhc1wiLFxuICBcIklURVJBVEVcIjogXCJpdGVyYXRlXCJcbn07XG5jb25zdCBUcmlnZ2VyT3BUeXBlcyA9IHtcbiAgXCJTRVRcIjogXCJzZXRcIixcbiAgXCJBRERcIjogXCJhZGRcIixcbiAgXCJERUxFVEVcIjogXCJkZWxldGVcIixcbiAgXCJDTEVBUlwiOiBcImNsZWFyXCJcbn07XG5jb25zdCBSZWFjdGl2ZUZsYWdzID0ge1xuICBcIlNLSVBcIjogXCJfX3Zfc2tpcFwiLFxuICBcIklTX1JFQUNUSVZFXCI6IFwiX192X2lzUmVhY3RpdmVcIixcbiAgXCJJU19SRUFET05MWVwiOiBcIl9fdl9pc1JlYWRvbmx5XCIsXG4gIFwiSVNfU0hBTExPV1wiOiBcIl9fdl9pc1NoYWxsb3dcIixcbiAgXCJSQVdcIjogXCJfX3ZfcmF3XCIsXG4gIFwiSVNfUkVGXCI6IFwiX192X2lzUmVmXCJcbn07XG5cbmNvbnN0IFdhdGNoRXJyb3JDb2RlcyA9IHtcbiAgXCJXQVRDSF9HRVRURVJcIjogMixcbiAgXCIyXCI6IFwiV0FUQ0hfR0VUVEVSXCIsXG4gIFwiV0FUQ0hfQ0FMTEJBQ0tcIjogMyxcbiAgXCIzXCI6IFwiV0FUQ0hfQ0FMTEJBQ0tcIixcbiAgXCJXQVRDSF9DTEVBTlVQXCI6IDQsXG4gIFwiNFwiOiBcIldBVENIX0NMRUFOVVBcIlxufTtcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xuY29uc3QgY2xlYW51cE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xubGV0IGFjdGl2ZVdhdGNoZXIgPSB2b2lkIDA7XG5mdW5jdGlvbiBnZXRDdXJyZW50V2F0Y2hlcigpIHtcbiAgcmV0dXJuIGFjdGl2ZVdhdGNoZXI7XG59XG5mdW5jdGlvbiBvbldhdGNoZXJDbGVhbnVwKGNsZWFudXBGbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UsIG93bmVyID0gYWN0aXZlV2F0Y2hlcikge1xuICBpZiAob3duZXIpIHtcbiAgICBsZXQgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChvd25lcik7XG4gICAgaWYgKCFjbGVhbnVwcykgY2xlYW51cE1hcC5zZXQob3duZXIsIGNsZWFudXBzID0gW10pO1xuICAgIGNsZWFudXBzLnB1c2goY2xlYW51cEZuKTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uV2F0Y2hlckNsZWFudXAoKSB3YXMgY2FsbGVkIHdoZW4gdGhlcmUgd2FzIG5vIGFjdGl2ZSB3YXRjaGVyIHRvIGFzc29jaWF0ZSB3aXRoLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IHsgaW1tZWRpYXRlLCBkZWVwLCBvbmNlLCBzY2hlZHVsZXIsIGF1Z21lbnRKb2IsIGNhbGwgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcbiAgICAob3B0aW9ucy5vbldhcm4gfHwgd2FybikoXG4gICAgICBgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsXG4gICAgICBzLFxuICAgICAgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcmVhY3RpdmVHZXR0ZXIgPSAoc291cmNlMikgPT4ge1xuICAgIGlmIChkZWVwKSByZXR1cm4gc291cmNlMjtcbiAgICBpZiAoaXNTaGFsbG93KHNvdXJjZTIpIHx8IGRlZXAgPT09IGZhbHNlIHx8IGRlZXAgPT09IDApXG4gICAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMiwgMSk7XG4gICAgcmV0dXJuIHRyYXZlcnNlKHNvdXJjZTIpO1xuICB9O1xuICBsZXQgZWZmZWN0O1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgY2xlYW51cDtcbiAgbGV0IGJvdW5kQ2xlYW51cDtcbiAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xuICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBpc1NoYWxsb3coc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcbiAgICBnZXR0ZXIgPSAoKSA9PiByZWFjdGl2ZUdldHRlcihzb3VyY2UpO1xuICAgIGZvcmNlVHJpZ2dlciA9IHRydWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XG4gICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoKHMpID0+IGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpKTtcbiAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKChzKSA9PiB7XG4gICAgICBpZiAoaXNSZWYocykpIHtcbiAgICAgICAgcmV0dXJuIHMudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcbiAgICAgICAgcmV0dXJuIHJlYWN0aXZlR2V0dGVyKHMpO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgIHJldHVybiBjYWxsID8gY2FsbChzLCAyKSA6IHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBnZXR0ZXIgPSBjYWxsID8gKCkgPT4gY2FsbChzb3VyY2UsIDIpIDogc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudEVmZmVjdCA9IGFjdGl2ZVdhdGNoZXI7XG4gICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBlZmZlY3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHNvdXJjZSwgMywgW2JvdW5kQ2xlYW51cF0pIDogc291cmNlKGJvdW5kQ2xlYW51cCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGN1cnJlbnRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IE5PT1A7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xuICB9XG4gIGlmIChjYiAmJiBkZWVwKSB7XG4gICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcbiAgICBjb25zdCBkZXB0aCA9IGRlZXAgPT09IHRydWUgPyBJbmZpbml0eSA6IGRlZXA7XG4gICAgZ2V0dGVyID0gKCkgPT4gdHJhdmVyc2UoYmFzZUdldHRlcigpLCBkZXB0aCk7XG4gIH1cbiAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSAoKSA9PiB7XG4gICAgZWZmZWN0LnN0b3AoKTtcbiAgICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgICByZW1vdmUoc2NvcGUuZWZmZWN0cywgZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmIChvbmNlICYmIGNiKSB7XG4gICAgY29uc3QgX2NiID0gY2I7XG4gICAgY2IgPSAoLi4uYXJncykgPT4ge1xuICAgICAgX2NiKC4uLmFyZ3MpO1xuICAgICAgd2F0Y2hIYW5kbGUoKTtcbiAgICB9O1xuICB9XG4gIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCkuZmlsbChJTklUSUFMX1dBVENIRVJfVkFMVUUpIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xuICBjb25zdCBqb2IgPSAoaW1tZWRpYXRlRmlyc3RSdW4pID0+IHtcbiAgICBpZiAoIShlZmZlY3QuZmxhZ3MgJiAxKSB8fCAhZWZmZWN0LmRpcnR5ICYmICFpbW1lZGlhdGVGaXJzdFJ1bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgaWYgKGRlZXAgfHwgZm9yY2VUcmlnZ2VyIHx8IChpc011bHRpU291cmNlID8gbmV3VmFsdWUuc29tZSgodiwgaSkgPT4gaGFzQ2hhbmdlZCh2LCBvbGRWYWx1ZVtpXSkpIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSkge1xuICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50V2F0Y2hlciA9IGFjdGl2ZVdhdGNoZXI7XG4gICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBlZmZlY3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB2b2lkIDAgOiBpc011bHRpU291cmNlICYmIG9sZFZhbHVlWzBdID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyBbXSA6IG9sZFZhbHVlLFxuICAgICAgICAgICAgYm91bmRDbGVhbnVwXG4gICAgICAgICAgXTtcbiAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgIGNhbGwgPyBjYWxsKGNiLCAzLCBhcmdzKSA6IChcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGNiKC4uLmFyZ3MpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudFdhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGF1Z21lbnRKb2IpIHtcbiAgICBhdWdtZW50Sm9iKGpvYik7XG4gIH1cbiAgZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlcik7XG4gIGVmZmVjdC5zY2hlZHVsZXIgPSBzY2hlZHVsZXIgPyAoKSA9PiBzY2hlZHVsZXIoam9iLCBmYWxzZSkgOiBqb2I7XG4gIGJvdW5kQ2xlYW51cCA9IChmbikgPT4gb25XYXRjaGVyQ2xlYW51cChmbiwgZmFsc2UsIGVmZmVjdCk7XG4gIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXBzID0gY2xlYW51cE1hcC5nZXQoZWZmZWN0KTtcbiAgICBpZiAoY2xlYW51cHMpIHtcbiAgICAgIGlmIChjYWxsKSB7XG4gICAgICAgIGNhbGwoY2xlYW51cHMsIDQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBjbGVhbnVwMiBvZiBjbGVhbnVwcykgY2xlYW51cDIoKTtcbiAgICAgIH1cbiAgICAgIGNsZWFudXBNYXAuZGVsZXRlKGVmZmVjdCk7XG4gICAgfVxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGVmZmVjdC5vblRyYWNrID0gb3B0aW9ucy5vblRyYWNrO1xuICAgIGVmZmVjdC5vblRyaWdnZXIgPSBvcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICBpZiAoY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBqb2IodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9sZFZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzY2hlZHVsZXIpIHtcbiAgICBzY2hlZHVsZXIoam9iLmJpbmQobnVsbCwgdHJ1ZSksIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5ydW4oKTtcbiAgfVxuICB3YXRjaEhhbmRsZS5wYXVzZSA9IGVmZmVjdC5wYXVzZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnJlc3VtZSA9IGVmZmVjdC5yZXN1bWUuYmluZChlZmZlY3QpO1xuICB3YXRjaEhhbmRsZS5zdG9wID0gd2F0Y2hIYW5kbGU7XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBkZXB0aCA9IEluZmluaXR5LCBzZWVuKSB7XG4gIGlmIChkZXB0aCA8PSAwIHx8ICFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiXSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBpZiAoKHNlZW4uZ2V0KHZhbHVlKSB8fCAwKSA+PSBkZXB0aCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuLnNldCh2YWx1ZSwgZGVwdGgpO1xuICBkZXB0aC0tO1xuICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIGRlcHRoLCBzZWVuKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBkZXB0aCwgc2Vlbik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBkZXB0aCwgc2Vlbik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgc2Vlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgQVJSQVlfSVRFUkFURV9LRVksIEVmZmVjdEZsYWdzLCBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIE1BUF9LRVlfSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBXYXRjaEVycm9yQ29kZXMsIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGVuYWJsZVRyYWNraW5nLCBnZXRDdXJyZW50U2NvcGUsIGdldEN1cnJlbnRXYXRjaGVyLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvbkVmZmVjdENsZWFudXAsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFjdGl2ZVJlYWRBcnJheSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZEFycmF5LCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlYWN0aXZlLCB0b1JlYWRvbmx5LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmFjaywgdHJhdmVyc2UsIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmLCB3YXRjaCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1jb3JlIHYzLjUuMjVcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1JhdywgdHJhdmVyc2UsIHNoYWxsb3dSZWYsIHJlYWRvbmx5LCBpc1JlYWN0aXZlLCByZWYsIGlzU2hhbGxvdywgaXNSZWFkb25seSwgc2hhbGxvd1JlYWRBcnJheSwgdG9SZWFkb25seSwgdG9SZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcmVhY3RpdmUsIHdhdGNoIGFzIHdhdGNoJDEsIGN1c3RvbVJlZiwgc2hhbGxvd1JlYWN0aXZlLCB0cmlnZ2VyLCBSZWFjdGl2ZUVmZmVjdCwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBFZmZlY3RTY29wZSwgUmVhY3RpdmVFZmZlY3QsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudFNjb3BlLCBnZXRDdXJyZW50V2F0Y2hlciwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIG9uV2F0Y2hlckNsZWFudXAsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIEVNUFRZX09CSiwgaXNQcm9taXNlLCBpc0FycmF5LCBOT09QLCBnZXRHbG9iYWxUaGlzLCBleHRlbmQsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgTk8sIGhhc093biwgcmVtb3ZlLCBkZWYsIGlzT24sIGlzUmVzZXJ2ZWRQcm9wLCBub3JtYWxpemVDbGFzcywgc3RyaW5naWZ5U3R5bGUsIG5vcm1hbGl6ZVN0eWxlLCBpc0tub3duU3ZnQXR0ciwgaXNCb29sZWFuQXR0ciwgaXNLbm93bkh0bWxBdHRyLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSwgbm9ybWFsaXplQ3NzVmFyVmFsdWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBpc09iamVjdCwgaXNSZWdFeHAsIGludm9rZUFycmF5Rm5zLCB0b0hhbmRsZXJLZXksIGNhbWVsaXplLCBjYXBpdGFsaXplLCBpc1N5bWJvbCwgaXNHbG9iYWxseUFsbG93ZWQsIGh5cGhlbmF0ZSwgaGFzQ2hhbmdlZCwgbG9vc2VUb051bWJlciwgaXNNb2RlbExpc3RlbmVyLCBFTVBUWV9BUlIsIG1ha2VNYXAsIHRvUmF3VHlwZSwgdG9OdW1iZXIgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcbiAgc3RhY2sucHVzaCh2bm9kZSk7XG59XG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcbiAgc3RhY2sucG9wKCk7XG59XG5sZXQgaXNXYXJuaW5nID0gZmFsc2U7XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gIGlmIChpc1dhcm5pbmcpIHJldHVybjtcbiAgaXNXYXJuaW5nID0gdHJ1ZTtcbiAgcGF1c2VUcmFja2luZygpO1xuICBjb25zdCBpbnN0YW5jZSA9IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmNvbXBvbmVudCA6IG51bGw7XG4gIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XG4gIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcbiAgaWYgKGFwcFdhcm5IYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgYXBwV2FybkhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDExLFxuICAgICAgW1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgICAgbXNnICsgYXJncy5tYXAoKGEpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBhLnRvU3RyaW5nKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhKSkgIT0gbnVsbCA/IF9iIDogSlNPTi5zdHJpbmdpZnkoYSk7XG4gICAgICAgIH0pLmpvaW4oXCJcIiksXG4gICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxuICAgICAgICB0cmFjZS5tYXAoXG4gICAgICAgICAgKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gXG4gICAgICAgICkuam9pbihcIlxcblwiKSxcbiAgICAgICAgdHJhY2VcbiAgICAgIF1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcbiAgICBpZiAodHJhY2UubGVuZ3RoICYmIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXG4gICAgdHJ1ZSkge1xuICAgICAgd2FybkFyZ3MucHVzaChgXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xuICB9XG4gIHJlc2V0VHJhY2tpbmcoKTtcbiAgaXNXYXJuaW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAoIWN1cnJlbnRWTm9kZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XG4gICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XG4gICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXG4gICAgICAgIHJlY3Vyc2VDb3VudDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgY29uc3QgbG9ncyA9IFtdO1xuICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xuICAgIGxvZ3MucHVzaCguLi5pID09PSAwID8gW10gOiBbYFxuYF0sIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcbiAgfSk7XG4gIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xuICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcbiAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICB2bm9kZS5jb21wb25lbnQsXG4gICAgdm5vZGUudHlwZSxcbiAgICBpc1Jvb3RcbiAgKX1gO1xuICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gIHJldHVybiB2bm9kZS5wcm9wcyA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXSA6IFtvcGVuICsgY2xvc2VdO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcbiAgfSk7XG4gIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICByZXMucHVzaChgIC4uLmApO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsLCB0eXBlKSB7XG4gIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgcmV0dXJuO1xuICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIikge1xuICAgIHdhcm4kMShgJHt0eXBlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcbiAgfSBlbHNlIGlmIChpc05hTih2YWwpKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIE5hTiAtIHRoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC5gKTtcbiAgfVxufVxuXG5jb25zdCBFcnJvckNvZGVzID0ge1xuICBcIlNFVFVQX0ZVTkNUSU9OXCI6IDAsXG4gIFwiMFwiOiBcIlNFVFVQX0ZVTkNUSU9OXCIsXG4gIFwiUkVOREVSX0ZVTkNUSU9OXCI6IDEsXG4gIFwiMVwiOiBcIlJFTkRFUl9GVU5DVElPTlwiLFxuICBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCI6IDUsXG4gIFwiNVwiOiBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCIsXG4gIFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIjogNixcbiAgXCI2XCI6IFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJWTk9ERV9IT09LXCI6IDcsXG4gIFwiN1wiOiBcIlZOT0RFX0hPT0tcIixcbiAgXCJESVJFQ1RJVkVfSE9PS1wiOiA4LFxuICBcIjhcIjogXCJESVJFQ1RJVkVfSE9PS1wiLFxuICBcIlRSQU5TSVRJT05fSE9PS1wiOiA5LFxuICBcIjlcIjogXCJUUkFOU0lUSU9OX0hPT0tcIixcbiAgXCJBUFBfRVJST1JfSEFORExFUlwiOiAxMCxcbiAgXCIxMFwiOiBcIkFQUF9FUlJPUl9IQU5ETEVSXCIsXG4gIFwiQVBQX1dBUk5fSEFORExFUlwiOiAxMSxcbiAgXCIxMVwiOiBcIkFQUF9XQVJOX0hBTkRMRVJcIixcbiAgXCJGVU5DVElPTl9SRUZcIjogMTIsXG4gIFwiMTJcIjogXCJGVU5DVElPTl9SRUZcIixcbiAgXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCI6IDEzLFxuICBcIjEzXCI6IFwiQVNZTkNfQ09NUE9ORU5UX0xPQURFUlwiLFxuICBcIlNDSEVEVUxFUlwiOiAxNCxcbiAgXCIxNFwiOiBcIlNDSEVEVUxFUlwiLFxuICBcIkNPTVBPTkVOVF9VUERBVEVcIjogMTUsXG4gIFwiMTVcIjogXCJDT01QT05FTlRfVVBEQVRFXCIsXG4gIFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiOiAxNixcbiAgXCIxNlwiOiBcIkFQUF9VTk1PVU5UX0NMRUFOVVBcIlxufTtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MkMSA9IHtcbiAgW1wic3BcIl06IFwic2VydmVyUHJlZmV0Y2ggaG9va1wiLFxuICBbXCJiY1wiXTogXCJiZWZvcmVDcmVhdGUgaG9va1wiLFxuICBbXCJjXCJdOiBcImNyZWF0ZWQgaG9va1wiLFxuICBbXCJibVwiXTogXCJiZWZvcmVNb3VudCBob29rXCIsXG4gIFtcIm1cIl06IFwibW91bnRlZCBob29rXCIsXG4gIFtcImJ1XCJdOiBcImJlZm9yZVVwZGF0ZSBob29rXCIsXG4gIFtcInVcIl06IFwidXBkYXRlZFwiLFxuICBbXCJidW1cIl06IFwiYmVmb3JlVW5tb3VudCBob29rXCIsXG4gIFtcInVtXCJdOiBcInVubW91bnRlZCBob29rXCIsXG4gIFtcImFcIl06IFwiYWN0aXZhdGVkIGhvb2tcIixcbiAgW1wiZGFcIl06IFwiZGVhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJlY1wiXTogXCJlcnJvckNhcHR1cmVkIGhvb2tcIixcbiAgW1wicnRjXCJdOiBcInJlbmRlclRyYWNrZWQgaG9va1wiLFxuICBbXCJydGdcIl06IFwicmVuZGVyVHJpZ2dlcmVkIGhvb2tcIixcbiAgWzBdOiBcInNldHVwIGZ1bmN0aW9uXCIsXG4gIFsxXTogXCJyZW5kZXIgZnVuY3Rpb25cIixcbiAgWzJdOiBcIndhdGNoZXIgZ2V0dGVyXCIsXG4gIFszXTogXCJ3YXRjaGVyIGNhbGxiYWNrXCIsXG4gIFs0XTogXCJ3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb25cIixcbiAgWzVdOiBcIm5hdGl2ZSBldmVudCBoYW5kbGVyXCIsXG4gIFs2XTogXCJjb21wb25lbnQgZXZlbnQgaGFuZGxlclwiLFxuICBbN106IFwidm5vZGUgaG9va1wiLFxuICBbOF06IFwiZGlyZWN0aXZlIGhvb2tcIixcbiAgWzldOiBcInRyYW5zaXRpb24gaG9va1wiLFxuICBbMTBdOiBcImFwcCBlcnJvckhhbmRsZXJcIixcbiAgWzExXTogXCJhcHAgd2FybkhhbmRsZXJcIixcbiAgWzEyXTogXCJyZWYgZnVuY3Rpb25cIixcbiAgWzEzXTogXCJhc3luYyBjb21wb25lbnQgbG9hZGVyXCIsXG4gIFsxNF06IFwic2NoZWR1bGVyIGZsdXNoXCIsXG4gIFsxNV06IFwiY29tcG9uZW50IHVwZGF0ZVwiLFxuICBbMTZdOiBcImFwcCB1bm1vdW50IGNsZWFudXAgZnVuY3Rpb25cIlxufTtcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgSW52YWxpZCB2YWx1ZSB0eXBlIHBhc3NlZCB0byBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZygpOiAke3R5cGVvZiBmbn1gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XG4gIGNvbnN0IHsgZXJyb3JIYW5kbGVyLCB0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uIH0gPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyB8fCBFTVBUWV9PQko7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgZXJyb3JJbmZvID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXSA6IGBodHRwczovL3Z1ZWpzLm9yZy9lcnJvci1yZWZlcmVuY2UvI3J1bnRpbWUtJHt0eXBlfWA7XG4gICAgd2hpbGUgKGN1cikge1xuICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xuICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgIH1cbiAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZXJyb3JIYW5kbGVyLCBudWxsLCAxMCwgW1xuICAgICAgICBlcnIsXG4gICAgICAgIGV4cG9zZWRJbnN0YW5jZSxcbiAgICAgICAgZXJyb3JJbmZvXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24pO1xufVxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlLCB0aHJvd0luUHJvZCA9IGZhbHNlKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcbiAgICB9XG4gICAgd2FybiQxKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgIH1cbiAgICBpZiAodGhyb3dJbkRldikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRocm93SW5Qcm9kKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IGZsdXNoSW5kZXggPSAtMTtcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcbiAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcbn1cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcbiAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyBlbmQgPj4+IDE7XG4gICAgY29uc3QgbWlkZGxlSm9iID0gcXVldWVbbWlkZGxlXTtcbiAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKG1pZGRsZUpvYik7XG4gICAgaWYgKG1pZGRsZUpvYklkIDwgaWQgfHwgbWlkZGxlSm9iSWQgPT09IGlkICYmIG1pZGRsZUpvYi5mbGFncyAmIDIpIHtcbiAgICAgIHN0YXJ0ID0gbWlkZGxlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kID0gbWlkZGxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgaWYgKCEoam9iLmZsYWdzICYgMSkpIHtcbiAgICBjb25zdCBqb2JJZCA9IGdldElkKGpvYik7XG4gICAgY29uc3QgbGFzdEpvYiA9IHF1ZXVlW3F1ZXVlLmxlbmd0aCAtIDFdO1xuICAgIGlmICghbGFzdEpvYiB8fCAvLyBmYXN0IHBhdGggd2hlbiB0aGUgam9iIGlkIGlzIGxhcmdlciB0aGFuIHRoZSB0YWlsXG4gICAgIShqb2IuZmxhZ3MgJiAyKSAmJiBqb2JJZCA+PSBnZXRJZChsYXN0Sm9iKSkge1xuICAgICAgcXVldWUucHVzaChqb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZS5zcGxpY2UoZmluZEluc2VydGlvbkluZGV4KGpvYklkKSwgMCwgam9iKTtcbiAgICB9XG4gICAgam9iLmZsYWdzIHw9IDE7XG4gICAgcXVldWVGbHVzaCgpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xuICBpZiAoIWN1cnJlbnRGbHVzaFByb21pc2UpIHtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xuICBpZiAoIWlzQXJyYXkoY2IpKSB7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicyAmJiBjYi5pZCA9PT0gLTEpIHtcbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5zcGxpY2UocG9zdEZsdXNoSW5kZXggKyAxLCAwLCBjYik7XG4gICAgfSBlbHNlIGlmICghKGNiLmZsYWdzICYgMSkpIHtcbiAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaChjYik7XG4gICAgICBjYi5mbGFncyB8PSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLnB1c2goLi4uY2IpO1xuICB9XG4gIHF1ZXVlRmx1c2goKTtcbn1cbmZ1bmN0aW9uIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UsIHNlZW4sIGkgPSBmbHVzaEluZGV4ICsgMSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNiID0gcXVldWVbaV07XG4gICAgaWYgKGNiICYmIGNiLmZsYWdzICYgMikge1xuICAgICAgaWYgKGluc3RhbmNlICYmIGNiLmlkICE9PSBpbnN0YW5jZS51aWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgaS0tO1xuICAgICAgaWYgKGNiLmZsYWdzICYgNCkge1xuICAgICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICAgIGNiKCk7XG4gICAgICBpZiAoIShjYi5mbGFncyAmIDQpKSB7XG4gICAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xuICBpZiAocGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICBjb25zdCBkZWR1cGVkID0gWy4uLm5ldyBTZXQocGVuZGluZ1Bvc3RGbHVzaENicyldLnNvcnQoXG4gICAgICAoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKVxuICAgICk7XG4gICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xuICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBkZWR1cGVkO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBmb3IgKHBvc3RGbHVzaEluZGV4ID0gMDsgcG9zdEZsdXNoSW5kZXggPCBhY3RpdmVQb3N0Rmx1c2hDYnMubGVuZ3RoOyBwb3N0Rmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBjYiA9IGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF07XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNiLmZsYWdzICYgNCkge1xuICAgICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICAgIGlmICghKGNiLmZsYWdzICYgOCkpIGNiKCk7XG4gICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbiAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gIH1cbn1cbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBqb2IuZmxhZ3MgJiAyID8gLTEgOiBJbmZpbml0eSA6IGpvYi5pZDtcbmZ1bmN0aW9uIGZsdXNoSm9icyhzZWVuKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBjb25zdCBjaGVjayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyAoam9iKSA9PiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSA6IE5PT1A7XG4gIHRyeSB7XG4gICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IgJiYgIShqb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVjayhqb2IpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpvYi5mbGFncyAmIDQpIHtcbiAgICAgICAgICBqb2IuZmxhZ3MgJj0gfjE7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgICAgIGpvYixcbiAgICAgICAgICBqb2IuaSxcbiAgICAgICAgICBqb2IuaSA/IDE1IDogMTRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEoam9iLmZsYWdzICYgNCkpIHtcbiAgICAgICAgICBqb2IuZmxhZ3MgJj0gfjE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgZm9yICg7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xuICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XG4gICAgICBpZiAoam9iKSB7XG4gICAgICAgIGpvYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICB9XG4gICAgZmx1c2hJbmRleCA9IC0xO1xuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XG4gICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgICAgZmx1c2hKb2JzKHNlZW4pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XG4gIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pIHx8IDA7XG4gIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZm4uaTtcbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gaW5zdGFuY2UgJiYgZ2V0Q29tcG9uZW50TmFtZShpbnN0YW5jZS50eXBlKTtcbiAgICBoYW5kbGVFcnJvcihcbiAgICAgIGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gLFxuICAgICAgbnVsbCxcbiAgICAgIDEwXG4gICAgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuY29uc3QgaG1yRGlydHlDb21wb25lbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xuICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxuICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxuICB9O1xufVxuY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIGNvbnN0IGlkID0gaW5zdGFuY2UudHlwZS5fX2htcklkO1xuICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgfVxuICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5pbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgaW5pdGlhbERlZikge1xuICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbWFwLnNldChpZCwge1xuICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgIGluc3RhbmNlczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICB9KTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gIFsuLi5yZWNvcmQuaW5zdGFuY2VzXS5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChuZXdSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICBpZiAoIShpbnN0YW5jZS5qb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgfVxuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBsZXQgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG9sZENvbXApO1xuICAgIGlmICghZGlydHlJbnN0YW5jZXMpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuc2V0KG9sZENvbXAsIGRpcnR5SW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBxdWV1ZUpvYigoKSA9PiB7XG4gICAgICAgIGlmICghKGluc3RhbmNlLmpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgaW5zdGFuY2UucGFyZW50LnVwZGF0ZSgpO1xuICAgICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XG4gICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnJvb3QuY2UgJiYgaW5zdGFuY2UgIT09IGluc3RhbmNlLnJvb3QpIHtcbiAgICAgIGluc3RhbmNlLnJvb3QuY2UuX3JlbW92ZUNoaWxkU3R5bGUob2xkQ29tcCk7XG4gICAgfVxuICB9XG4gIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xuICAgIGhtckRpcnR5Q29tcG9uZW50cy5jbGVhcigpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKSB7XG4gIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2xkQ29tcCkge1xuICAgIGlmIChrZXkgIT09IFwiX19maWxlXCIgJiYgIShrZXkgaW4gbmV3Q29tcCkpIHtcbiAgICAgIGRlbGV0ZSBvbGRDb21wW2tleV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XG4gIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5sZXQgZGV2dG9vbHMkMTtcbmxldCBidWZmZXIgPSBbXTtcbmxldCBkZXZ0b29sc05vdEluc3RhbGxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW1pdCQxKGV2ZW50LCAuLi5hcmdzKSB7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgfSBlbHNlIGlmICghZGV2dG9vbHNOb3RJbnN0YWxsZWQpIHtcbiAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2skMShob29rLCB0YXJnZXQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgZGV2dG9vbHMkMSA9IGhvb2s7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbmFibGVkID0gdHJ1ZTtcbiAgICBidWZmZXIuZm9yRWFjaCgoeyBldmVudCwgYXJncyB9KSA9PiBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfSBlbHNlIGlmIChcbiAgICAvLyBoYW5kbGUgbGF0ZSBkZXZ0b29scyBpbmplY3Rpb24gLSBvbmx5IGRvIHRoaXMgaWYgd2UgYXJlIGluIGFuIGFjdHVhbFxuICAgIC8vIGJyb3dzZXIgZW52aXJvbm1lbnQgdG8gYXZvaWQgdGhlIHRpbWVyIGhhbmRsZSBzdGFsbGluZyB0ZXN0IHJ1bm5lciBleGl0XG4gICAgLy8gKCM0ODE1KVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgLy8gYWxzbyBleGNsdWRlIGpzZG9tXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgISgoX2IgPSAoX2EgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJqc2RvbVwiKSlcbiAgKSB7XG4gICAgY29uc3QgcmVwbGF5ID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyB8fCBbXTtcbiAgICByZXBsYXkucHVzaCgobmV3SG9vaykgPT4ge1xuICAgICAgc2V0RGV2dG9vbHNIb29rJDEobmV3SG9vaywgdGFyZ2V0KTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghZGV2dG9vbHMkMSkge1xuICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgICB9XG4gICAgfSwgM2UzKTtcbiAgfSBlbHNlIHtcbiAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgYnVmZmVyID0gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcbiAgZW1pdCQxKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgRnJhZ21lbnQsXG4gICAgVGV4dCxcbiAgICBDb21tZW50LFxuICAgIFN0YXRpY1xuICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgZW1pdCQxKFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcbn1cbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OmFkZGVkXCIgLyogQ09NUE9ORU5UX0FEREVEICovKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovKTtcbmNvbnN0IF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFxuICBcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi9cbik7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAoY29tcG9uZW50KSA9PiB7XG4gIGlmIChkZXZ0b29scyQxICYmIHR5cGVvZiBkZXZ0b29scyQxLmNsZWFudXBCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgIWRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlcihjb21wb25lbnQpKSB7XG4gICAgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQpO1xuICB9XG59O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50KSA9PiB7XG4gICAgZW1pdCQxKFxuICAgICAgaG9vayxcbiAgICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICAgIGNvbXBvbmVudC51aWQsXG4gICAgICBjb21wb25lbnQucGFyZW50ID8gY29tcG9uZW50LnBhcmVudC51aWQgOiB2b2lkIDAsXG4gICAgICBjb21wb25lbnRcbiAgICApO1xuICB9O1xufVxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOnN0YXJ0XCIgLyogUEVSRk9STUFOQ0VfU1RBUlQgKi8pO1xuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjplbmRcIiAvKiBQRVJGT1JNQU5DRV9FTkQgKi8pO1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCwgdHlwZSwgdGltZSkgPT4ge1xuICAgIGVtaXQkMShob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XG4gIH07XG59XG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XG4gIGVtaXQkMShcbiAgICBcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sXG4gICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgIGNvbXBvbmVudCxcbiAgICBldmVudCxcbiAgICBwYXJhbXNcbiAgKTtcbn1cblxubGV0IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IGluc3RhbmNlO1xuICBjdXJyZW50U2NvcGVJZCA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19zY29wZUlkIHx8IG51bGw7XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gcHVzaFNjb3BlSWQoaWQpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBpZDtcbn1cbmZ1bmN0aW9uIHBvcFNjb3BlSWQoKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbn1cbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgaXNOb25TY29wZWRTbG90KSB7XG4gIGlmICghY3R4KSByZXR1cm4gZm47XG4gIGlmIChmbi5fbikge1xuICAgIHJldHVybiBmbjtcbiAgfVxuICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgc2V0QmxvY2tUcmFja2luZygtMSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZJbnN0YW5jZSA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShjdHgpO1xuICAgIGxldCByZXM7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IGZuKC4uLmFyZ3MpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldkluc3RhbmNlKTtcbiAgICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XG4gIHJldHVybiByZW5kZXJGbldpdGhDb250ZXh0O1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICBpZiAoaXNCdWlsdEluRGlyZWN0aXZlKG5hbWUpKSB7XG4gICAgd2FybiQxKFwiRG8gbm90IHVzZSBidWlsdC1pbiBkaXJlY3RpdmUgaWRzIGFzIGN1c3RvbSBkaXJlY3RpdmUgaWQ6IFwiICsgbmFtZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpO1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICBpZiAoZGlyKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XG4gICAgICAgIGRpciA9IHtcbiAgICAgICAgICBtb3VudGVkOiBkaXIsXG4gICAgICAgICAgdXBkYXRlZDogZGlyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZGlyLmRlZXApIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgIGRpcixcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxuICAgICAgICBhcmcsXG4gICAgICAgIG1vZGlmaWVyc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xuICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICBpZiAob2xkQmluZGluZ3MpIHtcbiAgICAgIGJpbmRpbmcub2xkVmFsdWUgPSBvbGRCaW5kaW5nc1tpXS52YWx1ZTtcbiAgICB9XG4gICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICBpZiAoaG9vaykge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDgsIFtcbiAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgIGJpbmRpbmcsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBwcmV2Vk5vZGVcbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBUZWxlcG9ydEVuZEtleSA9IFN5bWJvbChcIl92dGVcIik7XG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09IFwiXCIpO1xuY29uc3QgaXNUZWxlcG9ydERlZmVycmVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGVmZXIgfHwgcHJvcHMuZGVmZXIgPT09IFwiXCIpO1xuY29uc3QgaXNUYXJnZXRTVkcgPSAodGFyZ2V0KSA9PiB0eXBlb2YgU1ZHRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuY29uc3QgaXNUYXJnZXRNYXRoTUwgPSAodGFyZ2V0KSA9PiB0eXBlb2YgTWF0aE1MRWxlbWVudCA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldCBpbnN0YW5jZW9mIE1hdGhNTEVsZW1lbnQ7XG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcbiAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcbiAgaWYgKGlzU3RyaW5nKHRhcmdldFNlbGVjdG9yKSkge1xuICAgIGlmICghc2VsZWN0KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIChtaXNzaW5nIHF1ZXJ5U2VsZWN0b3IgcmVuZGVyZXIgb3B0aW9uKWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXQgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9jYXRlIFRlbGVwb3J0IHRhcmdldCB3aXRoIHNlbGVjdG9yIFwiJHt0YXJnZXRTZWxlY3Rvcn1cIi4gTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGlkZWFsbHkgc2hvdWxkIGJlIG91dHNpZGUgb2YgdGhlIGVudGlyZSBWdWUgY29tcG9uZW50IHRyZWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XG4gIH1cbn07XG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XG4gIG5hbWU6IFwiVGVsZXBvcnRcIixcbiAgX19pc1RlbGVwb3J0OiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICAgIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH1cbiAgICB9ID0gaW50ZXJuYWxzO1xuICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcbiAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gbjIuZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IHN0YXJ0XCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGNvbnN0IG1haW5BbmNob3IgPSBuMi5hbmNob3IgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IGVuZFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIyLCBhbmNob3IyKSA9PiB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgbW91bnRUb1RhcmdldCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IHByZXBhcmVBbmNob3IodGFyZ2V0LCBuMiwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgIT09IFwic3ZnXCIgJiYgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSAhPT0gXCJtYXRobWxcIiAmJiBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5pc0NFKSB7XG4gICAgICAgICAgICAocGFyZW50Q29tcG9uZW50LmNlLl90ZWxlcG9ydFRhcmdldHMgfHwgKHBhcmVudENvbXBvbmVudC5jZS5fdGVsZXBvcnRUYXJnZXRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpLmFkZCh0YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDpcIixcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xuICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpKSB7XG4gICAgICAgIG4yLmVsLl9faXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgICAgIGRlbGV0ZSBuMi5lbC5fX2lzTW91bnRlZDtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNUZWxlcG9ydERlZmVycmVkKG4yLnByb3BzKSAmJiBuMS5lbC5fX2lzTW91bnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBUZWxlcG9ydEltcGwucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLnRhcmdldFN0YXJ0ID0gbjEudGFyZ2V0U3RhcnQ7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gbjEudGFyZ2V0O1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yO1xuICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgfVxuICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCAhISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSk7XG4gICAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIGN1cnJlbnRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBtYWluQW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG4yLnByb3BzICYmIG4xLnByb3BzICYmIG4yLnByb3BzLnRvICE9PSBuMS5wcm9wcy50bykge1xuICAgICAgICAgICAgbjIucHJvcHMudG8gPSBuMS5wcm9wcy50bztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgICAgICAgICBuMi5wcm9wcyxcbiAgICAgICAgICAgIHF1ZXJ5U2VsZWN0b3JcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XG4gICAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgICBuZXh0VGFyZ2V0LFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOlwiLFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGRpc2FibGVkKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgeyB1bTogdW5tb3VudCwgbzogeyByZW1vdmU6IGhvc3RSZW1vdmUgfSB9LCBkb1JlbW92ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgYW5jaG9yLFxuICAgICAgdGFyZ2V0U3RhcnQsXG4gICAgICB0YXJnZXRBbmNob3IsXG4gICAgICB0YXJnZXQsXG4gICAgICBwcm9wc1xuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBob3N0UmVtb3ZlKHRhcmdldFN0YXJ0KTtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICB9XG4gICAgZG9SZW1vdmUgJiYgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNob3VsZFJlbW92ZSxcbiAgICAgICAgICAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW92ZTogbW92ZVRlbGVwb3J0LFxuICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcbn07XG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyKSB7XG4gIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcbiAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDI7XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoXG4gICAgICAgICAgY2hpbGRyZW5baV0sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudEFuY2hvcixcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHtcbiAgbzogeyBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcXVlcnlTZWxlY3RvciwgaW5zZXJ0LCBjcmVhdGVUZXh0IH1cbn0sIGh5ZHJhdGVDaGlsZHJlbikge1xuICBmdW5jdGlvbiBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChub2RlMiwgdm5vZGUyLCB0YXJnZXRTdGFydCwgdGFyZ2V0QW5jaG9yKSB7XG4gICAgdm5vZGUyLmFuY2hvciA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUyKSxcbiAgICAgIHZub2RlMixcbiAgICAgIHBhcmVudE5vZGUobm9kZTIpLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIHZub2RlMi50YXJnZXRTdGFydCA9IHRhcmdldFN0YXJ0O1xuICAgIHZub2RlMi50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gdm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICB2bm9kZS5wcm9wcyxcbiAgICBxdWVyeVNlbGVjdG9yXG4gICk7XG4gIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldE5vZGUsXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICB3aGlsZSAodGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJiB0YXJnZXRBbmNob3Iubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBzdGFydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0QW5jaG9yLmRhdGEgPT09IFwidGVsZXBvcnQgYW5jaG9yXCIpIHtcbiAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgICB0YXJnZXQuX2xwYSA9IHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZub2RlLnRhcmdldEFuY2hvcikge1xuICAgICAgICAgIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ3NzVmFycyh2bm9kZSwgZGlzYWJsZWQpO1xuICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChub2RlLCB2bm9kZSwgbm9kZSwgbmV4dFNpYmxpbmcobm9kZSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XG59XG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcbmZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcnModm5vZGUsIGlzRGlzYWJsZWQpIHtcbiAgY29uc3QgY3R4ID0gdm5vZGUuY3R4O1xuICBpZiAoY3R4ICYmIGN0eC51dCkge1xuICAgIGxldCBub2RlLCBhbmNob3I7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgIG5vZGUgPSB2bm9kZS5lbDtcbiAgICAgIGFuY2hvciA9IHZub2RlLmFuY2hvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IHZub2RlLnRhcmdldFN0YXJ0O1xuICAgICAgYW5jaG9yID0gdm5vZGUudGFyZ2V0QW5jaG9yO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBhbmNob3IpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtdi1vd25lclwiLCBjdHgudWlkKTtcbiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBjdHgudXQoKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJlcGFyZUFuY2hvcih0YXJnZXQsIHZub2RlLCBjcmVhdGVUZXh0LCBpbnNlcnQpIHtcbiAgY29uc3QgdGFyZ2V0U3RhcnQgPSB2bm9kZS50YXJnZXRTdGFydCA9IGNyZWF0ZVRleHQoXCJcIik7XG4gIGNvbnN0IHRhcmdldEFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoXCJcIik7XG4gIHRhcmdldFN0YXJ0W1RlbGVwb3J0RW5kS2V5XSA9IHRhcmdldEFuY2hvcjtcbiAgaWYgKHRhcmdldCkge1xuICAgIGluc2VydCh0YXJnZXRTdGFydCwgdGFyZ2V0KTtcbiAgICBpbnNlcnQodGFyZ2V0QW5jaG9yLCB0YXJnZXQpO1xuICB9XG4gIHJldHVybiB0YXJnZXRBbmNob3I7XG59XG5cbmNvbnN0IGxlYXZlQ2JLZXkgPSBTeW1ib2woXCJfbGVhdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc0xlYXZpbmc6IGZhbHNlLFxuICAgIGlzVW5tb3VudGluZzogZmFsc2UsXG4gICAgbGVhdmluZ1ZOb2RlczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICB9O1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XG4gIH0pO1xuICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgIHN0YXRlLmlzVW5tb3VudGluZyA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciA9IFtGdW5jdGlvbiwgQXJyYXldO1xuY29uc3QgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG1vZGU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXG4gIC8vIGVudGVyXG4gIG9uQmVmb3JlRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGxlYXZlXG4gIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGFwcGVhclxuICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxufTtcbmNvbnN0IHJlY3Vyc2l2ZUdldFN1YnRyZWUgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gIHJldHVybiBzdWJUcmVlLmNvbXBvbmVudCA/IHJlY3Vyc2l2ZUdldFN1YnRyZWUoc3ViVHJlZS5jb21wb25lbnQpIDogc3ViVHJlZTtcbn07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXG4gIHByb3BzOiBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkID0gZmluZE5vbkNvbW1lbnRDaGlsZChjaGlsZHJlbik7XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtb2RlICYmIG1vZGUgIT09IFwiaW4tb3V0XCIgJiYgbW9kZSAhPT0gXCJvdXQtaW5cIiAmJiBtb2RlICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgICB3YXJuJDEoYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldElubmVyQ2hpbGQkMShjaGlsZCk7XG4gICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgbGV0IGVudGVySG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICBpbm5lckNoaWxkLFxuICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICAvLyAjMTEwNjEsIGVuc3VyZSBlbnRlckhvb2tzIGlzIGZyZXNoIGFmdGVyIGNsb25lXG4gICAgICAgIChob29rcykgPT4gZW50ZXJIb29rcyA9IGhvb2tzXG4gICAgICApO1xuICAgICAgaWYgKGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XG4gICAgICB9XG4gICAgICBsZXQgb2xkSW5uZXJDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWUgJiYgZ2V0SW5uZXJDaGlsZCQxKGluc3RhbmNlLnN1YlRyZWUpO1xuICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiYgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmICFpc1NhbWVWTm9kZVR5cGUob2xkSW5uZXJDaGlsZCwgaW5uZXJDaGlsZCkgJiYgcmVjdXJzaXZlR2V0U3VidHJlZShpbnN0YW5jZSkudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBsZXQgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICBvbGRJbm5lckNoaWxkLFxuICAgICAgICAgIHJhd1Byb3BzLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICk7XG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xuICAgICAgICBpZiAobW9kZSA9PT0gXCJvdXQtaW5cIiAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIShpbnN0YW5jZS5qb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZTtcbiAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJpbi1vdXRcIiAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuZGVsYXlMZWF2ZSA9IChlbCwgZWFybHlSZW1vdmUsIGRlbGF5ZWRMZWF2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xuICAgICAgICAgICAgZWxbbGVhdmVDYktleV0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGVhcmx5UmVtb3ZlKCk7XG4gICAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZW50ZXJIb29rcy5kZWxheWVkTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvbGRJbm5lckNoaWxkKSB7XG4gICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pIHtcbiAgbGV0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBjIG9mIGNoaWxkcmVuKSB7XG4gICAgICBpZiAoYy50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCI8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlIDx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgaGFzRm91bmQgPSB0cnVlO1xuICAgICAgICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hpbGQ7XG59XG5jb25zdCBCYXNlVHJhbnNpdGlvbiA9IEJhc2VUcmFuc2l0aW9uSW1wbDtcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XG4gIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XG4gIGxldCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBsZWF2aW5nVk5vZGVzLmdldCh2bm9kZS50eXBlKTtcbiAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcbiAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZWF2aW5nVk5vZGVzLnNldCh2bm9kZS50eXBlLCBsZWF2aW5nVk5vZGVzQ2FjaGUpO1xuICB9XG4gIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlLCBwb3N0Q2xvbmUpIHtcbiAgY29uc3Qge1xuICAgIGFwcGVhcixcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCA9IGZhbHNlLFxuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkFmdGVyRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUxlYXZlLFxuICAgIG9uTGVhdmUsXG4gICAgb25BZnRlckxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIsXG4gICAgb25BcHBlYXIsXG4gICAgb25BZnRlckFwcGVhcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSk7XG4gIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBob29rICYmIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaG9vayxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgOSxcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9O1xuICBjb25zdCBjYWxsQXN5bmNIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBjb25zdCBkb25lID0gYXJnc1sxXTtcbiAgICBjYWxsSG9vayhob29rLCBhcmdzKTtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaWYgKGhvb2suZXZlcnkoKGhvb2syKSA9PiBob29rMi5sZW5ndGggPD0gMSkpIGRvbmUoKTtcbiAgICB9IGVsc2UgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhvb2tzID0ge1xuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkLFxuICAgIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgZWxbbGVhdmVDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICBpZiAobGVhdmluZ1ZOb2RlICYmIGlzU2FtZVZOb2RlVHlwZSh2bm9kZSwgbGVhdmluZ1ZOb2RlKSAmJiBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcbiAgICB9LFxuICAgIGVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uRW50ZXI7XG4gICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xuICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xuICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xuICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2VudGVyQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhhZnRlckhvb2ssIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcbiAgICAgICAgICBob29rcy5kZWxheWVkTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtlbnRlckNiS2V5XSA9IHZvaWQgMDtcbiAgICAgIH07XG4gICAgICBpZiAoaG9vaykge1xuICAgICAgICBjYWxsQXN5bmNIb29rKGhvb2ssIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVhdmUoZWwsIHJlbW92ZSkge1xuICAgICAgY29uc3Qga2V5MiA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgICAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgICAgIGVsW2VudGVyQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc1VubW91bnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XG4gICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb25lID0gZWxbbGVhdmVDYktleV0gPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID09PSB2bm9kZSkge1xuICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml0gPSB2bm9kZTtcbiAgICAgIGlmIChvbkxlYXZlKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2sob25MZWF2ZSwgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9uZSh2bm9kZTIpIHtcbiAgICAgIGNvbnN0IGhvb2tzMiA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgIHZub2RlMixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgcG9zdENsb25lXG4gICAgICApO1xuICAgICAgaWYgKHBvc3RDbG9uZSkgcG9zdENsb25lKGhvb2tzMik7XG4gICAgICByZXR1cm4gaG9va3MyO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhvb2tzO1xufVxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xuICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkJDEodm5vZGUpIHtcbiAgaWYgKCFpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICBpZiAoaXNUZWxlcG9ydCh2bm9kZS50eXBlKSAmJiB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGZpbmROb25Db21tZW50Q2hpbGQodm5vZGUuY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgaWYgKHZub2RlLmNvbXBvbmVudCkge1xuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyICYmIGlzRnVuY3Rpb24oY2hpbGRyZW4uZGVmYXVsdCkpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbi5kZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2ICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICBsZXQgcmV0ID0gW107XG4gIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGwgPyBjaGlsZC5rZXkgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCkga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODIzNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdXNlSWQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGkpIHtcbiAgICByZXR1cm4gKGkuYXBwQ29udGV4dC5jb25maWcuaWRQcmVmaXggfHwgXCJ2XCIpICsgXCItXCIgKyBpLmlkc1swXSArIGkuaWRzWzFdKys7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGB1c2VJZCgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UuaWRzID0gW2luc3RhbmNlLmlkc1swXSArIGluc3RhbmNlLmlkc1syXSsrICsgXCItXCIsIDAsIDBdO1xufVxuXG5jb25zdCBrbm93blRlbXBsYXRlUmVmcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gdXNlVGVtcGxhdGVSZWYoa2V5KSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGlmIChpKSB7XG4gICAgY29uc3QgcmVmcyA9IGkucmVmcyA9PT0gRU1QVFlfT0JKID8gaS5yZWZzID0ge30gOiBpLnJlZnM7XG4gICAgbGV0IGRlc2M7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlZnMsIGtleSkpICYmICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgd2FybiQxKGB1c2VUZW1wbGF0ZVJlZignJHtrZXl9JykgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWZzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiByLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2YWwpID0+IHIudmFsdWUgPSB2YWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZVRlbXBsYXRlUmVmKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgY29uc3QgcmV0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHJlYWRvbmx5KHIpIDogcjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBrbm93blRlbXBsYXRlUmVmcy5hZGQocmV0KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5jb25zdCBwZW5kaW5nU2V0UmVmTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgIHJhd1JlZi5mb3JFYWNoKFxuICAgICAgKHIsIGkpID0+IHNldFJlZihcbiAgICAgICAgcixcbiAgICAgICAgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGlzVW5tb3VudFxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA1MTIgJiYgdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgJiYgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUuY29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgPyBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpIDogdm5vZGUuZWw7XG4gIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW93bmVyKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IG93bmVyLnJlZnMgPSB7fSA6IG93bmVyLnJlZnM7XG4gIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICBjb25zdCByYXdTZXR1cFN0YXRlID0gdG9SYXcoc2V0dXBTdGF0ZSk7XG4gIGNvbnN0IGNhblNldFNldHVwUmVmID0gc2V0dXBTdGF0ZSA9PT0gRU1QVFlfT0JKID8gTk8gOiAoa2V5KSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KSAmJiAhaXNSZWYocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFRlbXBsYXRlIHJlZiBcIiR7a2V5fVwiIHVzZWQgb24gYSBub24tcmVmIHZhbHVlLiBJdCB3aWxsIG5vdCB3b3JrIGluIHRoZSBwcm9kdWN0aW9uIGJ1aWxkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChrbm93blRlbXBsYXRlUmVmcy5oYXMocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KTtcbiAgfTtcbiAgY29uc3QgY2FuU2V0UmVmID0gKHJlZjIpID0+IHtcbiAgICByZXR1cm4gISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgIWtub3duVGVtcGxhdGVSZWZzLmhhcyhyZWYyKTtcbiAgfTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaW52YWxpZGF0ZVBlbmRpbmdTZXRSZWYob2xkUmF3UmVmKTtcbiAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihvbGRSZWYpKSB7XG4gICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XG4gICAgICBpZiAoY2FuU2V0UmVmKG9sZFJlZikpIHtcbiAgICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9sZFJhd1JlZkF0b20gPSBvbGRSYXdSZWY7XG4gICAgICBpZiAob2xkUmF3UmVmQXRvbS5rKSByZWZzW29sZFJhd1JlZkF0b20ua10gPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgb3duZXIsIDEyLCBbdmFsdWUsIHJlZnNdKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBfaXNTdHJpbmcgPSBpc1N0cmluZyhyZWYpO1xuICAgIGNvbnN0IF9pc1JlZiA9IGlzUmVmKHJlZik7XG4gICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICBpZiAocmF3UmVmLmYpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZyA/IGNhblNldFNldHVwUmVmKHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiBjYW5TZXRSZWYocmVmKSB8fCAhcmF3UmVmLmsgPyByZWYudmFsdWUgOiByZWZzW3Jhd1JlZi5rXTtcbiAgICAgICAgICBpZiAoaXNVbm1vdW50KSB7XG4gICAgICAgICAgICBpc0FycmF5KGV4aXN0aW5nKSAmJiByZW1vdmUoZXhpc3RpbmcsIHJlZlZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVmc1tyZWZdID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuU2V0U2V0dXBSZWYocmVmKSkge1xuICAgICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gcmVmc1tyZWZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWwgPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChjYW5TZXRSZWYocmVmKSkge1xuICAgICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspIHJlZnNbcmF3UmVmLmtdID0gbmV3VmFsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgaWYgKGNhblNldFJlZihyZWYpKSB7XG4gICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBjb25zdCBqb2IgPSAoKSA9PiB7XG4gICAgICAgICAgZG9TZXQoKTtcbiAgICAgICAgICBwZW5kaW5nU2V0UmVmTWFwLmRlbGV0ZShyYXdSZWYpO1xuICAgICAgICB9O1xuICAgICAgICBqb2IuaWQgPSAtMTtcbiAgICAgICAgcGVuZGluZ1NldFJlZk1hcC5zZXQocmF3UmVmLCBqb2IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlUGVuZGluZ1NldFJlZihyYXdSZWYpO1xuICAgICAgICBkb1NldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlUGVuZGluZ1NldFJlZihyYXdSZWYpIHtcbiAgY29uc3QgcGVuZGluZ1NldFJlZiA9IHBlbmRpbmdTZXRSZWZNYXAuZ2V0KHJhd1JlZik7XG4gIGlmIChwZW5kaW5nU2V0UmVmKSB7XG4gICAgcGVuZGluZ1NldFJlZi5mbGFncyB8PSA4O1xuICAgIHBlbmRpbmdTZXRSZWZNYXAuZGVsZXRlKHJhd1JlZik7XG4gIH1cbn1cblxubGV0IGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSBmYWxzZTtcbmNvbnN0IGxvZ01pc21hdGNoRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChoYXNMb2dnZWRNaXNtYXRjaEVycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoXCJIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLlwiKTtcbiAgaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciA9IHRydWU7XG59O1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwic3ZnXCIpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSBcImZvcmVpZ25PYmplY3RcIjtcbmNvbnN0IGlzTWF0aE1MQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcIk1hdGhNTFwiKTtcbmNvbnN0IGdldENvbnRhaW5lclR5cGUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgIT09IDEpIHJldHVybiB2b2lkIDA7XG4gIGlmIChpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJzdmdcIjtcbiAgaWYgKGlzTWF0aE1MQ29udGFpbmVyKGNvbnRhaW5lcikpIHJldHVybiBcIm1hdGhtbFwiO1xuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4O1xuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgcDogcGF0Y2gsXG4gICAgbzoge1xuICAgICAgcGF0Y2hQcm9wLFxuICAgICAgY3JlYXRlVGV4dCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIHJlbW92ZSxcbiAgICAgIGluc2VydCxcbiAgICAgIGNyZWF0ZUNvbW1lbnRcbiAgICB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCI7XG4gICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKFxuICAgICAgbm9kZSxcbiAgICAgIHZub2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBpc0ZyYWdtZW50U3RhcnRcbiAgICApO1xuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgbGV0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgIHZub2RlLmVsID0gbm9kZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihub2RlLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwgcGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IG5leHROb2RlID0gbnVsbDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMpIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgfHwgZG9tVHlwZSA9PT0gMykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgPyBuZXh0Tm9kZS5vdXRlckhUTUwgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgaWYgKChkb21UeXBlICE9PSAxIHx8IHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmICFpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwidGVsZXBvcnQgc3RhcnRcIikge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUsIG5vZGUuZGF0YSwgXCJ0ZWxlcG9ydCBlbmRcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIXZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDgpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShwYXJlbnROb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgaHlkcmF0ZU5vZGVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycywgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgZm9yY2VQYXRjaCA9IHR5cGUgPT09IFwiaW5wdXRcIiB8fCB0eXBlID09PSBcIm9wdGlvblwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgcGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgICB9XG4gICAgICBsZXQgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBmYWxzZTtcbiAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShlbCkpIHtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIG5vIG5lZWQgY2hlY2sgcGFyZW50U3VzcGVuc2UgaW4gaHlkcmF0aW9uXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudm5vZGUucHJvcHMgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzLmFwcGVhcjtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgY29uc3QgY2xzID0gY29udGVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICBpZiAoY2xzKSBjb250ZW50LiRjbHMgPSBjbHM7XG4gICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTm9kZShjb250ZW50LCBlbCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgdm5vZGUuZWwgPSBlbCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTYgJiYgLy8gc2tpcCBpZiBlbGVtZW50IGhhcyBpbm5lckhUTUwgLyB0ZXh0Q29udGVudFxuICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgZWwuZmlyc3RDaGlsZCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XG4gICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgcmVtb3ZlKGN1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgICBsZXQgY2xpZW50VGV4dCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY2xpZW50VGV4dFswXSA9PT0gXCJcXG5cIiAmJiAoZWwudGFnTmFtZSA9PT0gXCJQUkVcIiB8fCBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpKSB7XG4gICAgICAgICAgY2xpZW50VGV4dCA9IGNsaWVudFRleHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0ZXh0Q29udGVudCB9ID0gZWw7XG4gICAgICAgIGlmICh0ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dCAmJiAvLyBpbm5lckhUTUwgbm9ybWFsaXplIFxcclxcbiBvciBcXHIgaW50byBhIHNpbmdsZSBcXG4gaW4gdGhlIERPTVxuICAgICAgICB0ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dC5yZXBsYWNlKC9cXHJcXG58XFxyL2csIFwiXFxuXCIpKSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMCAvKiBURVhUICovKSkge1xuICAgICAgICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7dGV4dENvbnRlbnR9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke2NsaWVudFRleHR9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyB8fCBmb3JjZVBhdGNoIHx8ICFvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnICYgKDE2IHwgMzIpKSB7XG4gICAgICAgICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gZWwudGFnTmFtZS5pbmNsdWRlcyhcIi1cIik7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIC8vICMxMTE4OSBza2lwIGlmIHRoaXMgbm9kZSBoYXMgZGlyZWN0aXZlcyB0aGF0IGhhdmUgY3JlYXRlZCBob29rc1xuICAgICAgICAgICAgLy8gYXMgaXQgY291bGQgaGF2ZSBtdXRhdGVkIHRoZSBET00gaW4gYW55IHBvc3NpYmxlIHdheVxuICAgICAgICAgICAgIShkaXJzICYmIGRpcnMuc29tZSgoZCkgPT4gZC5kaXIuY3JlYXRlZCkpICYmIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBwcm9wc1trZXldLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9yY2VQYXRjaCAmJiAoa2V5LmVuZHNXaXRoKFwidmFsdWVcIikgfHwga2V5ID09PSBcImluZGV0ZXJtaW5hdGVcIikgfHwgaXNPbihrZXkpICYmICFpc1Jlc2VydmVkUHJvcChrZXkpIHx8IC8vIGZvcmNlIGh5ZHJhdGUgdi1iaW5kIHdpdGggLnByb3AgbW9kaWZpZXJzXG4gICAgICAgICAgICBrZXlbMF0gPT09IFwiLlwiIHx8IGlzQ3VzdG9tRWxlbWVudCkge1xuICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgdm9pZCAwLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgICAgcGF0Y2hQcm9wKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBcIm9uQ2xpY2tcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrLFxuICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiA0ICYmIGlzUmVhY3RpdmUocHJvcHMuc3R5bGUpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMuc3R5bGUpIHByb3BzLnN0eWxlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCB2bm9kZUhvb2tzO1xuICAgICAgaWYgKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZU1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMgfHwgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgICAgcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoKCkgPT4ge1xuICAgICAgICAgIHZub2RlSG9va3MgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcIm1vdW50ZWRcIik7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xuICB9O1xuICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISFwYXJlbnRWTm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3Qgdm5vZGUgPSBvcHRpbWl6ZWQgPyBjaGlsZHJlbltpXSA6IGNoaWxkcmVuW2ldID0gbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgY29uc3QgaXNUZXh0ID0gdm5vZGUudHlwZSA9PT0gVGV4dDtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIGlmIChpc1RleHQgJiYgIW9wdGltaXplZCkge1xuICAgICAgICAgIGlmIChpICsgMSA8IGwgJiYgbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baSArIDFdKS50eXBlID09PSBUZXh0KSB7XG4gICAgICAgICAgICBpbnNlcnQoXG4gICAgICAgICAgICAgIGNyZWF0ZVRleHQoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhLnNsaWNlKHZub2RlLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBuZXh0U2libGluZyhub2RlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUoXG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpc1RleHQgJiYgIXZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWlzTWlzbWF0Y2hBbGxvd2VkKGNvbnRhaW5lciwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgY29uc3QgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgIG9wdGltaXplZFxuICAgICk7XG4gICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gXCJdXCIpIHtcbiAgICAgIHJldHVybiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IgPSBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgaW5zZXJ0KHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSwgY29udGFpbmVyLCBuZXh0KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xuICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQobm9kZS5wYXJlbnRFbGVtZW50LCAxIC8qIENISUxEUkVOICovKSkge1xuICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgIGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcbi0gcmVuZGVyZWQgb24gc2VydmVyOmAsXG4gICAgICAgIG5vZGUsXG4gICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgPyBgKHRleHQpYCA6IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiID8gYChzdGFydCBvZiBmcmFnbWVudClgIDogYGAsXG4gICAgICAgIGBcbi0gZXhwZWN0ZWQgb24gY2xpZW50OmAsXG4gICAgICAgIHZub2RlLnR5cGVcbiAgICAgICk7XG4gICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgfVxuICAgIHZub2RlLmVsID0gbnVsbDtcbiAgICBpZiAoaXNGcmFnbWVudCkge1xuICAgICAgY29uc3QgZW5kID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IG5leHQyID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGlmIChuZXh0MiAmJiBuZXh0MiAhPT0gZW5kKSB7XG4gICAgICAgICAgcmVtb3ZlKG5leHQyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICByZW1vdmUobm9kZSk7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuZXh0LFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICBzbG90U2NvcGVJZHNcbiAgICApO1xuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IHZub2RlLmVsO1xuICAgICAgdXBkYXRlSE9DSG9zdEVsKHBhcmVudENvbXBvbmVudCwgdm5vZGUuZWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dDtcbiAgfTtcbiAgY29uc3QgbG9jYXRlQ2xvc2luZ0FuY2hvciA9IChub2RlLCBvcGVuID0gXCJbXCIsIGNsb3NlID0gXCJdXCIpID0+IHtcbiAgICBsZXQgbWF0Y2ggPSAwO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gb3BlbikgbWF0Y2grKztcbiAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gY2xvc2UpIHtcbiAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF0Y2gtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIGNvbnN0IHJlcGxhY2VOb2RlID0gKG5ld05vZGUsIG9sZE5vZGUsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudE5vZGUyID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnROb2RlMikge1xuICAgICAgcGFyZW50Tm9kZTIucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xuICAgIH1cbiAgICBsZXQgcGFyZW50ID0gcGFyZW50Q29tcG9uZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQudm5vZGUuZWwgPT09IG9sZE5vZGUpIHtcbiAgICAgICAgcGFyZW50LnZub2RlLmVsID0gcGFyZW50LnN1YlRyZWUuZWwgPSBuZXdOb2RlO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGlzVGVtcGxhdGVOb2RlID0gKG5vZGUpID0+IHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBub2RlLnRhZ05hbWUgPT09IFwiVEVNUExBVEVcIjtcbiAgfTtcbiAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XG59XG5mdW5jdGlvbiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgY2xpZW50VmFsdWUsIHZub2RlLCBpbnN0YW5jZSkge1xuICBsZXQgbWlzbWF0Y2hUeXBlO1xuICBsZXQgbWlzbWF0Y2hLZXk7XG4gIGxldCBhY3R1YWw7XG4gIGxldCBleHBlY3RlZDtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgaWYgKGVsLiRjbHMpIHtcbiAgICAgIGFjdHVhbCA9IGVsLiRjbHM7XG4gICAgICBkZWxldGUgZWwuJGNscztcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgfVxuICAgIGV4cGVjdGVkID0gbm9ybWFsaXplQ2xhc3MoY2xpZW50VmFsdWUpO1xuICAgIGlmICghaXNTZXRFcXVhbCh0b0NsYXNzU2V0KGFjdHVhbCB8fCBcIlwiKSwgdG9DbGFzc1NldChleHBlY3RlZCkpKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSAyIC8qIENMQVNTICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBgY2xhc3NgO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpIHx8IFwiXCI7XG4gICAgZXhwZWN0ZWQgPSBpc1N0cmluZyhjbGllbnRWYWx1ZSkgPyBjbGllbnRWYWx1ZSA6IHN0cmluZ2lmeVN0eWxlKG5vcm1hbGl6ZVN0eWxlKGNsaWVudFZhbHVlKSk7XG4gICAgY29uc3QgYWN0dWFsTWFwID0gdG9TdHlsZU1hcChhY3R1YWwpO1xuICAgIGNvbnN0IGV4cGVjdGVkTWFwID0gdG9TdHlsZU1hcChleHBlY3RlZCk7XG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgIGZvciAoY29uc3QgeyBkaXIsIHZhbHVlIH0gb2Ygdm5vZGUuZGlycykge1xuICAgICAgICBpZiAoZGlyLm5hbWUgPT09IFwic2hvd1wiICYmICF2YWx1ZSkge1xuICAgICAgICAgIGV4cGVjdGVkTWFwLnNldChcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCk7XG4gICAgfVxuICAgIGlmICghaXNNYXBFcXVhbChhY3R1YWxNYXAsIGV4cGVjdGVkTWFwKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gMyAvKiBTVFlMRSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0gXCJzdHlsZVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgaXNLbm93blN2Z0F0dHIoa2V5KSB8fCBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIChpc0Jvb2xlYW5BdHRyKGtleSkgfHwgaXNLbm93bkh0bWxBdHRyKGtleSkpKSB7XG4gICAgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGluY2x1ZGVCb29sZWFuQXR0cihjbGllbnRWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChjbGllbnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoa2V5KSkge1xuICAgICAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBleHBlY3RlZCA9IGlzUmVuZGVyYWJsZUF0dHJWYWx1ZShjbGllbnRWYWx1ZSkgPyBTdHJpbmcoY2xpZW50VmFsdWUpIDogZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSA0IC8qIEFUVFJJQlVURSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuICBpZiAobWlzbWF0Y2hUeXBlICE9IG51bGwgJiYgIWlzTWlzbWF0Y2hBbGxvd2VkKGVsLCBtaXNtYXRjaFR5cGUpKSB7XG4gICAgY29uc3QgZm9ybWF0ID0gKHYpID0+IHYgPT09IGZhbHNlID8gYChub3QgcmVuZGVyZWQpYCA6IGAke21pc21hdGNoS2V5fT1cIiR7dn1cImA7XG4gICAgY29uc3QgcHJlU2VnbWVudCA9IGBIeWRyYXRpb24gJHtNaXNtYXRjaFR5cGVTdHJpbmdbbWlzbWF0Y2hUeXBlXX0gbWlzbWF0Y2ggb25gO1xuICAgIGNvbnN0IHBvc3RTZWdtZW50ID0gYFxuICAtIHJlbmRlcmVkIG9uIHNlcnZlcjogJHtmb3JtYXQoYWN0dWFsKX1cbiAgLSBleHBlY3RlZCBvbiBjbGllbnQ6ICR7Zm9ybWF0KGV4cGVjdGVkKX1cbiAgTm90ZTogdGhpcyBtaXNtYXRjaCBpcyBjaGVjay1vbmx5LiBUaGUgRE9NIHdpbGwgbm90IGJlIHJlY3RpZmllZCBpbiBwcm9kdWN0aW9uIGR1ZSB0byBwZXJmb3JtYW5jZSBvdmVyaGVhZC5cbiAgWW91IHNob3VsZCBmaXggdGhlIHNvdXJjZSBvZiB0aGUgbWlzbWF0Y2guYDtcbiAgICB7XG4gICAgICB3YXJuJDEocHJlU2VnbWVudCwgZWwsIHBvc3RTZWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdG9DbGFzc1NldChzdHIpIHtcbiAgcmV0dXJuIG5ldyBTZXQoc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy8pKTtcbn1cbmZ1bmN0aW9uIGlzU2V0RXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBzIG9mIGEpIHtcbiAgICBpZiAoIWIuaGFzKHMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdG9TdHlsZU1hcChzdHIpIHtcbiAgY29uc3Qgc3R5bGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RyLnNwbGl0KFwiO1wiKSkge1xuICAgIGxldCBba2V5LCB2YWx1ZV0gPSBpdGVtLnNwbGl0KFwiOlwiKTtcbiAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgIHZhbHVlID0gdmFsdWUgJiYgdmFsdWUudHJpbSgpO1xuICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgIHN0eWxlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlTWFwO1xufVxuZnVuY3Rpb24gaXNNYXBFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBhKSB7XG4gICAgaWYgKHZhbHVlICE9PSBiLmdldChrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCkge1xuICBjb25zdCByb290ID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgaWYgKGluc3RhbmNlLmdldENzc1ZhcnMgJiYgKHZub2RlID09PSByb290IHx8IHJvb3QgJiYgcm9vdC50eXBlID09PSBGcmFnbWVudCAmJiByb290LmNoaWxkcmVuLmluY2x1ZGVzKHZub2RlKSkpIHtcbiAgICBjb25zdCBjc3NWYXJzID0gaW5zdGFuY2UuZ2V0Q3NzVmFycygpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNzc1ZhcnMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplQ3NzVmFyVmFsdWUoY3NzVmFyc1trZXldKTtcbiAgICAgIGV4cGVjdGVkTWFwLnNldChgLS0ke2dldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZmFsc2UpfWAsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlID09PSByb290ICYmIGluc3RhbmNlLnBhcmVudCkge1xuICAgIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLnBhcmVudCwgaW5zdGFuY2Uudm5vZGUsIGV4cGVjdGVkTWFwKTtcbiAgfVxufVxuY29uc3QgYWxsb3dNaXNtYXRjaEF0dHIgPSBcImRhdGEtYWxsb3ctbWlzbWF0Y2hcIjtcbmNvbnN0IE1pc21hdGNoVHlwZVN0cmluZyA9IHtcbiAgWzAgLyogVEVYVCAqL106IFwidGV4dFwiLFxuICBbMSAvKiBDSElMRFJFTiAqL106IFwiY2hpbGRyZW5cIixcbiAgWzIgLyogQ0xBU1MgKi9dOiBcImNsYXNzXCIsXG4gIFszIC8qIFNUWUxFICovXTogXCJzdHlsZVwiLFxuICBbNCAvKiBBVFRSSUJVVEUgKi9dOiBcImF0dHJpYnV0ZVwiXG59O1xuZnVuY3Rpb24gaXNNaXNtYXRjaEFsbG93ZWQoZWwsIGFsbG93ZWRUeXBlKSB7XG4gIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovIHx8IGFsbG93ZWRUeXBlID09PSAxIC8qIENISUxEUkVOICovKSB7XG4gICAgd2hpbGUgKGVsICYmICFlbC5oYXNBdHRyaWJ1dGUoYWxsb3dNaXNtYXRjaEF0dHIpKSB7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IGFsbG93ZWRBdHRyID0gZWwgJiYgZWwuZ2V0QXR0cmlidXRlKGFsbG93TWlzbWF0Y2hBdHRyKTtcbiAgaWYgKGFsbG93ZWRBdHRyID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoYWxsb3dlZEF0dHIgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsaXN0ID0gYWxsb3dlZEF0dHIuc3BsaXQoXCIsXCIpO1xuICAgIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovICYmIGxpc3QuaW5jbHVkZXMoXCJjaGlsZHJlblwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBsaXN0LmluY2x1ZGVzKE1pc21hdGNoVHlwZVN0cmluZ1thbGxvd2VkVHlwZV0pO1xuICB9XG59XG5cbmNvbnN0IHJlcXVlc3RJZGxlQ2FsbGJhY2sgPSBnZXRHbG9iYWxUaGlzKCkucmVxdWVzdElkbGVDYWxsYmFjayB8fCAoKGNiKSA9PiBzZXRUaW1lb3V0KGNiLCAxKSk7XG5jb25zdCBjYW5jZWxJZGxlQ2FsbGJhY2sgPSBnZXRHbG9iYWxUaGlzKCkuY2FuY2VsSWRsZUNhbGxiYWNrIHx8ICgoaWQpID0+IGNsZWFyVGltZW91dChpZCkpO1xuY29uc3QgaHlkcmF0ZU9uSWRsZSA9ICh0aW1lb3V0ID0gMWU0KSA9PiAoaHlkcmF0ZSkgPT4ge1xuICBjb25zdCBpZCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soaHlkcmF0ZSwgeyB0aW1lb3V0IH0pO1xuICByZXR1cm4gKCkgPT4gY2FuY2VsSWRsZUNhbGxiYWNrKGlkKTtcbn07XG5mdW5jdGlvbiBlbGVtZW50SXNWaXNpYmxlSW5WaWV3cG9ydChlbCkge1xuICBjb25zdCB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHsgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGggfSA9IHdpbmRvdztcbiAgcmV0dXJuICh0b3AgPiAwICYmIHRvcCA8IGlubmVySGVpZ2h0IHx8IGJvdHRvbSA+IDAgJiYgYm90dG9tIDwgaW5uZXJIZWlnaHQpICYmIChsZWZ0ID4gMCAmJiBsZWZ0IDwgaW5uZXJXaWR0aCB8fCByaWdodCA+IDAgJiYgcmlnaHQgPCBpbm5lcldpZHRoKTtcbn1cbmNvbnN0IGh5ZHJhdGVPblZpc2libGUgPSAob3B0cykgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgY29uc3Qgb2IgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGUgb2YgZW50cmllcykge1xuICAgICAgaWYgKCFlLmlzSW50ZXJzZWN0aW5nKSBjb250aW51ZTtcbiAgICAgIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgb3B0cyk7XG4gIGZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuO1xuICAgIGlmIChlbGVtZW50SXNWaXNpYmxlSW5WaWV3cG9ydChlbCkpIHtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2Iub2JzZXJ2ZShlbCk7XG4gIH0pO1xuICByZXR1cm4gKCkgPT4gb2IuZGlzY29ubmVjdCgpO1xufTtcbmNvbnN0IGh5ZHJhdGVPbk1lZGlhUXVlcnkgPSAocXVlcnkpID0+IChoeWRyYXRlKSA9PiB7XG4gIGlmIChxdWVyeSkge1xuICAgIGNvbnN0IG1xbCA9IG1hdGNoTWVkaWEocXVlcnkpO1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtcWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4gKCkgPT4gbXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaHlkcmF0ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgaHlkcmF0ZU9uSW50ZXJhY3Rpb24gPSAoaW50ZXJhY3Rpb25zID0gW10pID0+IChoeWRyYXRlLCBmb3JFYWNoKSA9PiB7XG4gIGlmIChpc1N0cmluZyhpbnRlcmFjdGlvbnMpKSBpbnRlcmFjdGlvbnMgPSBbaW50ZXJhY3Rpb25zXTtcbiAgbGV0IGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gIGNvbnN0IGRvSHlkcmF0ZSA9IChlKSA9PiB7XG4gICAgaWYgKCFoYXNIeWRyYXRlZCkge1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgdGVhcmRvd24oKTtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIGUudGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IGUuY29uc3RydWN0b3IoZS50eXBlLCBlKSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB0ZWFyZG93biA9ICgpID0+IHtcbiAgICBmb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBpIG9mIGludGVyYWN0aW9ucykge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZvckVhY2goKGVsKSA9PiB7XG4gICAgZm9yIChjb25zdCBpIG9mIGludGVyYWN0aW9ucykge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihpLCBkb0h5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGVhcmRvd247XG59O1xuZnVuY3Rpb24gZm9yRWFjaEVsZW1lbnQobm9kZSwgY2IpIHtcbiAgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiKSB7XG4gICAgbGV0IGRlcHRoID0gMTtcbiAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgd2hpbGUgKG5leHQpIHtcbiAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNiKG5leHQpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChuZXh0KSkge1xuICAgICAgICBpZiAobmV4dC5kYXRhID09PSBcIl1cIikge1xuICAgICAgICAgIGlmICgtLWRlcHRoID09PSAwKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0LmRhdGEgPT09IFwiW1wiKSB7XG4gICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNiKG5vZGUpO1xuICB9XG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQXN5bmNDb21wb25lbnQoc291cmNlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XG4gIH1cbiAgY29uc3Qge1xuICAgIGxvYWRlcixcbiAgICBsb2FkaW5nQ29tcG9uZW50LFxuICAgIGVycm9yQ29tcG9uZW50LFxuICAgIGRlbGF5ID0gMjAwLFxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVTdHJhdGVneSxcbiAgICB0aW1lb3V0LFxuICAgIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSxcbiAgICBvbkVycm9yOiB1c2VyT25FcnJvclxuICB9ID0gc291cmNlO1xuICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICBsZXQgcmVzb2x2ZWRDb21wO1xuICBsZXQgcmV0cmllcyA9IDA7XG4gIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xuICAgIHJldHJpZXMrKztcbiAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgcmV0dXJuIGxvYWQoKTtcbiAgfTtcbiAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICBsZXQgdGhpc1JlcXVlc3Q7XG4gICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0IHx8ICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID0gbG9hZGVyKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xuICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcbiAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xuICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9KS50aGVuKChjb21wKSA9PiB7XG4gICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjb21wKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wICYmIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIk1vZHVsZVwiKSkge1xuICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcbiAgICAgIHJldHVybiBjb21wO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogXCJBc3luY0NvbXBvbmVudFdyYXBwZXJcIixcbiAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxuICAgIF9fYXN5bmNIeWRyYXRlKGVsLCBpbnN0YW5jZSwgaHlkcmF0ZSkge1xuICAgICAgbGV0IHBhdGNoZWQgPSBmYWxzZTtcbiAgICAgIChpbnN0YW5jZS5idSB8fCAoaW5zdGFuY2UuYnUgPSBbXSkpLnB1c2goKCkgPT4gcGF0Y2hlZCA9IHRydWUpO1xuICAgICAgY29uc3QgcGVyZm9ybUh5ZHJhdGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwYXRjaGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYFNraXBwaW5nIGxhenkgaHlkcmF0aW9uIGZvciBjb21wb25lbnQgJyR7Z2V0Q29tcG9uZW50TmFtZShyZXNvbHZlZENvbXApIHx8IHJlc29sdmVkQ29tcC5fX2ZpbGV9JzogaXQgd2FzIHVwZGF0ZWQgYmVmb3JlIGxhenkgaHlkcmF0aW9uIHBlcmZvcm1lZC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaHlkcmF0ZSgpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGRvSHlkcmF0ZSA9IGh5ZHJhdGVTdHJhdGVneSA/ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGVhcmRvd24gPSBoeWRyYXRlU3RyYXRlZ3koXG4gICAgICAgICAgcGVyZm9ybUh5ZHJhdGUsXG4gICAgICAgICAgKGNiKSA9PiBmb3JFYWNoRWxlbWVudChlbCwgY2IpXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0ZWFyZG93bikge1xuICAgICAgICAgIChpbnN0YW5jZS5idW0gfHwgKGluc3RhbmNlLmJ1bSA9IFtdKSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgIH1cbiAgICAgIH0gOiBwZXJmb3JtSHlkcmF0ZTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgZG9IeWRyYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkKCkudGhlbigoKSA9PiAhaW5zdGFuY2UuaXNVbm1vdW50ZWQgJiYgZG9IeWRyYXRlKCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IF9fYXN5bmNSZXNvbHZlZCgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XG4gICAgfSxcbiAgICBzZXR1cCgpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICBoYW5kbGVFcnJvcihcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgMTMsXG4gICAgICAgICAgIWVycm9yQ29tcG9uZW50XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgaWYgKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlIHx8IGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgICAgICByZXR1cm4gbG9hZCgpLnRoZW4oKGNvbXApID0+IHtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnQgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xuICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcbiAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICB9XG4gICAgICBsb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQgJiYgaXNLZWVwQWxpdmUoaW5zdGFuY2UucGFyZW50LnZub2RlKSkge1xuICAgICAgICAgIGluc3RhbmNlLnBhcmVudC51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKFxuICAgICAgICAgICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHBhcmVudCkge1xuICBjb25zdCB7IHJlZjogcmVmMiwgcHJvcHMsIGNoaWxkcmVuLCBjZSB9ID0gcGFyZW50LnZub2RlO1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gIHZub2RlLnJlZiA9IHJlZjI7XG4gIHZub2RlLmNlID0gY2U7XG4gIGRlbGV0ZSBwYXJlbnQudm5vZGUuY2U7XG4gIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XG4gIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxuICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxuICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gIF9faXNLZWVwQWxpdmU6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XG4gICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJlcjoge1xuICAgICAgICBwOiBwYXRjaCxcbiAgICAgICAgbTogbW92ZSxcbiAgICAgICAgdW06IF91bm1vdW50LFxuICAgICAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICAgICAgfVxuICAgIH0gPSBzaGFyZWRDb250ZXh0O1xuICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBpbnN0YW5jZTIudm5vZGUsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgaW5zdGFuY2UyLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5tKTtcbiAgICAgIGludmFsaWRhdGVNb3VudChpbnN0YW5jZTIuYSk7XG4gICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmRhKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIGluc3RhbmNlMi5fX2tlZXBBbGl2ZVN0b3JhZ2VDb250YWluZXIgPSBzdG9yYWdlQ29udGFpbmVyO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xuICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XG4gICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xuICAgICAgICBpZiAobmFtZSAmJiAhZmlsdGVyKG5hbWUpKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XG4gICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmIChjYWNoZWQgJiYgKCFjdXJyZW50IHx8ICFpc1NhbWVWTm9kZVR5cGUoY2FjaGVkLCBjdXJyZW50KSkpIHtcbiAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50KSB7XG4gICAgICAgIHJlc2V0U2hhcGVGbGFnKGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICB3YXRjaChcbiAgICAgICgpID0+IFtwcm9wcy5pbmNsdWRlLCBwcm9wcy5leGNsdWRlXSxcbiAgICAgIChbaW5jbHVkZSwgZXhjbHVkZV0pID0+IHtcbiAgICAgICAgaW5jbHVkZSAmJiBwcnVuZUNhY2hlKChuYW1lKSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgZXhjbHVkZSAmJiBwcnVuZUNhY2hlKChuYW1lKSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XG4gICAgICB9LFxuICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgIHsgZmx1c2g6IFwicG9zdFwiLCBkZWVwOiB0cnVlIH1cbiAgICApO1xuICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgIGNvbnN0IGNhY2hlU3VidHJlZSA9ICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nQ2FjaGVLZXkgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTdXNwZW5zZShpbnN0YW5jZS5zdWJUcmVlLnR5cGUpKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICAgIH0sIGluc3RhbmNlLnN1YlRyZWUuc3VzcGVuc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgY2FjaGUuZm9yRWFjaCgoY2FjaGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3ViVHJlZSwgc3VzcGVuc2UgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XG4gICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSAmJiBjYWNoZWQua2V5ID09PSB2bm9kZS5rZXkpIHtcbiAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XG4gICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgaWYgKCFzbG90cy5kZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fCAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQpICYmICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICBpZiAodm5vZGUudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgICAgfVxuICAgICAgY29uc3QgY29tcCA9IHZub2RlLnR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgaXNBc3luY1dyYXBwZXIodm5vZGUpID8gdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgfHwge30gOiBjb21wXG4gICAgICApO1xuICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xuICAgICAgaWYgKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSB8fCBleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkge1xuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJj0gLTI1NztcbiAgICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XG4gICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKHZub2RlLmVsKSB7XG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgIGlmIChyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICByYXdWTm9kZS5zc0NvbnRlbnQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xuICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XG4gICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSA1MTI7XG4gICAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICBpZiAobWF4ICYmIGtleXMuc2l6ZSA+IHBhcnNlSW50KG1heCwgMTApKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDI1NjtcbiAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgIHJldHVybiBpc1N1c3BlbnNlKHJhd1ZOb2RlLnR5cGUpID8gcmF3Vk5vZGUgOiB2bm9kZTtcbiAgICB9O1xuICB9XG59O1xuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xuICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoXCIsXCIpLmluY2x1ZGVzKG5hbWUpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgcGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fCAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBob29rKCk7XG4gIH0pO1xuICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XG4gICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcbiAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKFxuICAgIHR5cGUsXG4gICAgaG9vayxcbiAgICBrZWVwQWxpdmVSb290LFxuICAgIHRydWVcbiAgICAvKiBwcmVwZW5kICovXG4gICk7XG4gIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xuICB9LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IC0yNTc7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSAtNTEzO1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4ID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGhvb2tzID0gdGFyZ2V0W3R5cGVdIHx8ICh0YXJnZXRbdHlwZV0gPSBbXSk7XG4gICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8IChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCB0YXJnZXQsIHR5cGUsIGFyZ3MpO1xuICAgICAgcmVzZXQoKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gICAgaWYgKHByZXBlbmQpIHtcbiAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBob29rcy5wdXNoKHdyYXBwZWRIb29rKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyYXBwZWRIb29rO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCBcIlwiKSk7XG4gICAgd2FybiQxKFxuICAgICAgYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguIExpZmVjeWNsZSBpbmplY3Rpb24gQVBJcyBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBleGVjdXRpb24gb2Ygc2V0dXAoKS5gICsgKGAgSWYgeW91IGFyZSB1c2luZyBhc3luYyBzZXR1cCgpLCBtYWtlIHN1cmUgdG8gcmVnaXN0ZXIgbGlmZWN5Y2xlIGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmAgKVxuICAgICk7XG4gIH1cbn1cbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiB7XG4gIGlmICghaXNJblNTUkNvbXBvbmVudFNldHVwIHx8IGxpZmVjeWNsZSA9PT0gXCJzcFwiKSB7XG4gICAgaW5qZWN0SG9vayhsaWZlY3ljbGUsICguLi5hcmdzKSA9PiBob29rKC4uLmFyZ3MpLCB0YXJnZXQpO1xuICB9XG59O1xuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiKTtcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIpO1xuY29uc3Qgb25CZWZvcmVVcGRhdGUgPSBjcmVhdGVIb29rKFxuICBcImJ1XCJcbik7XG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiKTtcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXG4gIFwiYnVtXCJcbik7XG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiKTtcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFxuICBcInNwXCJcbik7XG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIik7XG5jb25zdCBvblJlbmRlclRyYWNrZWQgPSBjcmVhdGVIb29rKFwicnRjXCIpO1xuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICBpbmplY3RIb29rKFwiZWNcIiwgaG9vaywgdGFyZ2V0KTtcbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IFwiY29tcG9uZW50c1wiO1xuY29uc3QgRElSRUNUSVZFUyA9IFwiZGlyZWN0aXZlc1wiO1xuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sLmZvcihcInYtbmRjXCIpO1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xuICAgICAgY29uc3Qgc2VsZk5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgaWYgKHNlbGZOYW1lICYmIChzZWxmTmFtZSA9PT0gbmFtZSB8fCBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHwgc2VsZk5hbWUgPT09IGNhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpKSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSAoXG4gICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxuICAgICAgcmVzb2x2ZShpbnN0YW5jZVt0eXBlXSB8fCBDb21wb25lbnRbdHlwZV0sIG5hbWUpIHx8IC8vIGdsb2JhbCByZWdpc3RyYXRpb25cbiAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSlcbiAgICApO1xuICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgICAgY29uc3QgZXh0cmEgPSB0eXBlID09PSBDT01QT05FTlRTID8gYFxuSWYgdGhpcyBpcyBhIG5hdGl2ZSBjdXN0b20gZWxlbWVudCwgbWFrZSBzdXJlIHRvIGV4Y2x1ZGUgaXQgZnJvbSBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gIDogYGA7XG4gICAgICB3YXJuJDEoYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9JHtleHRyYX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcbiAgcmV0dXJuIHJlZ2lzdHJ5ICYmIChyZWdpc3RyeVtuYW1lXSB8fCByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHwgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0sIGNhY2hlLCBpbmRleCkge1xuICBsZXQgcmV0O1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZSAmJiBjYWNoZVtpbmRleF07XG4gIGNvbnN0IHNvdXJjZUlzQXJyYXkgPSBpc0FycmF5KHNvdXJjZSk7XG4gIGlmIChzb3VyY2VJc0FycmF5IHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICBjb25zdCBzb3VyY2VJc1JlYWN0aXZlQXJyYXkgPSBzb3VyY2VJc0FycmF5ICYmIGlzUmVhY3RpdmUoc291cmNlKTtcbiAgICBsZXQgbmVlZHNXcmFwID0gZmFsc2U7XG4gICAgbGV0IGlzUmVhZG9ubHlTb3VyY2UgPSBmYWxzZTtcbiAgICBpZiAoc291cmNlSXNSZWFjdGl2ZUFycmF5KSB7XG4gICAgICBuZWVkc1dyYXAgPSAhaXNTaGFsbG93KHNvdXJjZSk7XG4gICAgICBpc1JlYWRvbmx5U291cmNlID0gaXNSZWFkb25seShzb3VyY2UpO1xuICAgICAgc291cmNlID0gc2hhbGxvd1JlYWRBcnJheShzb3VyY2UpO1xuICAgIH1cbiAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXJJdGVtKFxuICAgICAgICBuZWVkc1dyYXAgPyBpc1JlYWRvbmx5U291cmNlID8gdG9SZWFkb25seSh0b1JlYWN0aXZlKHNvdXJjZVtpXSkpIDogdG9SZWFjdGl2ZShzb3VyY2VbaV0pIDogc291cmNlW2ldLFxuICAgICAgICBpLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGNhY2hlZCAmJiBjYWNoZWRbaV1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSA6IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzbG90cztcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5jZSkge1xuICAgIGNvbnN0IGhhc1Byb3BzID0gT2JqZWN0LmtleXMocHJvcHMpLmxlbmd0aCA+IDA7XG4gICAgaWYgKG5hbWUgIT09IFwiZGVmYXVsdFwiKSBwcm9wcy5uYW1lID0gbmFtZTtcbiAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKFxuICAgICAgRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgW2NyZWF0ZVZOb2RlKFwic2xvdFwiLCBwcm9wcywgZmFsbGJhY2sgJiYgZmFsbGJhY2soKSldLFxuICAgICAgaGFzUHJvcHMgPyAtMiA6IDY0XG4gICAgKTtcbiAgfVxuICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgcGFyZW50IHRlbXBsYXRlLmBcbiAgICApO1xuICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IGZhbHNlO1xuICB9XG4gIG9wZW5CbG9jaygpO1xuICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgY29uc3Qgc2xvdEtleSA9IHByb3BzLmtleSB8fCAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gIHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXk7XG4gIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soXG4gICAgRnJhZ21lbnQsXG4gICAge1xuICAgICAga2V5OiAoc2xvdEtleSAmJiAhaXNTeW1ib2woc2xvdEtleSkgPyBzbG90S2V5IDogYF8ke25hbWV9YCkgKyAvLyAjNzI1NiBmb3JjZSBkaWZmZXJlbnRpYXRlIGZhbGxiYWNrIGNvbnRlbnQgZnJvbSBhY3R1YWwgY29udGVudFxuICAgICAgKCF2YWxpZFNsb3RDb250ZW50ICYmIGZhbGxiYWNrID8gXCJfZmJcIiA6IFwiXCIpXG4gICAgfSxcbiAgICB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksXG4gICAgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxID8gNjQgOiAtMlxuICApO1xuICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyBcIi1zXCJdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICByZXR1cm4gdm5vZGVzLnNvbWUoKGNoaWxkKSA9PiB7XG4gICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSkgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGkpO1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGhvc3Q6IChpKSA9PiBpLmNlLFxuICAgICRlbWl0OiAoaSkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlLFxuICAgICRmb3JjZVVwZGF0ZTogKGkpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4ge1xuICAgICAgcXVldWVKb2IoaS51cGRhdGUpO1xuICAgIH0pLFxuICAgICRuZXh0VGljazogKGkpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1BcbiAgfSlcbik7XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJFwiO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCJfX2lzVnVlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5WzBdICE9PSBcIiRcIikge1xuICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XG4gICAgICBpZiAobiAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgIGNhc2UgMSAvKiBTRVRVUCAqLzpcbiAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICAgICAgY2FzZSAyIC8qIERBVEEgKi86XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICAgIGNhc2UgNCAvKiBDT05URVhUICovOlxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICAgIGNhc2UgMyAvKiBQUk9QUyAqLzpcbiAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAxIC8qIFNFVFVQICovO1xuICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmIGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBEQVRBICovO1xuICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChoYXNPd24ocHJvcHMsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogUFJPUFMgKi87XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogT1RIRVIgKi87XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcbiAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiJGF0dHJzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UuYXR0cnMsIFwiZ2V0XCIsIFwiXCIpO1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIiRzbG90c1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXG4gICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBjc3NNb2R1bGU7XG4gICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xuICAgICAgZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpXG4gICAgKSB7XG4gICAgICB7XG4gICAgICAgIHJldHVybiBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJiAoIWlzU3RyaW5nKGtleSkgfHwgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICBrZXkuaW5kZXhPZihcIl9fdlwiKSAhPT0gMCkpIHtcbiAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiBkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGtleVswXSA9PT0gXCIkXCIgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGhhcyh7XG4gICAgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wcywgdHlwZSB9XG4gIH0sIGtleSkge1xuICAgIGxldCBjc3NNb2R1bGVzO1xuICAgIHJldHVybiAhIShhY2Nlc3NDYWNoZVtrZXldIHx8IF9fVlVFX09QVElPTlNfQVBJX18gJiYgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGtleVswXSAhPT0gXCIkXCIgJiYgaGFzT3duKGRhdGEsIGtleSkgfHwgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHwgaGFzT3duKHByb3BzLCBrZXkpIHx8IGhhc093bihjdHgsIGtleSkgfHwgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHwgaGFzT3duKGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSkgfHwgKGNzc01vZHVsZXMgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiYgY3NzTW9kdWxlc1trZXldKTtcbiAgfSxcbiAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBpZiAoZGVzY3JpcHRvci5nZXQgIT0gbnVsbCkge1xuICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oZGVzY3JpcHRvciwgXCJ2YWx1ZVwiKSkge1xuICAgICAgdGhpcy5zZXQodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IudmFsdWUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgIHdhcm4kMShcbiAgICAgIGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYFxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9O1xufVxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgfSxcbiAgaGFzKF8sIGtleSkge1xuICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gXCJfXCIgJiYgIWlzR2xvYmFsbHlBbGxvd2VkKGtleSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAga2V5XG4gICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBoYXM7XG4gIH1cbn0pO1xuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogKCkgPT4gaW5zdGFuY2VcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXG4gICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXG4gICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xuICAgICAgc2V0OiBOT09QXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGN0eCxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gIH0gPSBpbnN0YW5jZTtcbiAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCkge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShcbiAgYCR7bWV0aG9kfSgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmBcbik7XG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVQcm9wc2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRW1pdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUV4cG9zZShleHBvc2VkKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZU9wdGlvbnMob3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZU9wdGlvbnNgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lU2xvdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lU2xvdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZU1vZGVsKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoXCJkZWZpbmVNb2RlbFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHByb3BzLCBkZWZhdWx0cykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYHdpdGhEZWZhdWx0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KFwidXNlU2xvdHNcIikuc2xvdHM7XG59XG5mdW5jdGlvbiB1c2VBdHRycygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoXCJ1c2VBdHRyc1wiKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoY2FsbGVkRnVuY3Rpb25OYW1lKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYCR7Y2FsbGVkRnVuY3Rpb25OYW1lfSgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcbiAgfVxuICByZXR1cm4gaS5zZXR1cENvbnRleHQgfHwgKGkuc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KGkpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhwcm9wcykge1xuICByZXR1cm4gaXNBcnJheShwcm9wcykgPyBwcm9wcy5yZWR1Y2UoXG4gICAgKG5vcm1hbGl6ZWQsIHApID0+IChub3JtYWxpemVkW3BdID0gbnVsbCwgbm9ybWFsaXplZCksXG4gICAge31cbiAgKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XG4gIGNvbnN0IHByb3BzID0gbm9ybWFsaXplUHJvcHNPckVtaXRzKHJhdyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKFwiX19za2lwXCIpKSBjb250aW51ZTtcbiAgICBsZXQgb3B0ID0gcHJvcHNba2V5XTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xuICAgICAgICBvcHQgPSBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdCA9PT0gbnVsbCkge1xuICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm9wcyBkZWZhdWx0IGtleSBcIiR7a2V5fVwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLmApO1xuICAgIH1cbiAgICBpZiAob3B0ICYmIGRlZmF1bHRzW2BfX3NraXBfJHtrZXl9YF0pIHtcbiAgICAgIG9wdC5za2lwRmFjdG9yeSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlTW9kZWxzKGEsIGIpIHtcbiAgaWYgKCFhIHx8ICFiKSByZXR1cm4gYSB8fCBiO1xuICBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSByZXR1cm4gYS5jb25jYXQoYik7XG4gIHJldHVybiBleHRlbmQoe30sIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhhKSwgbm9ybWFsaXplUHJvcHNPckVtaXRzKGIpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzUmVzdFByb3h5KHByb3BzLCBleGNsdWRlZEtleXMpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgaWYgKCFleGNsdWRlZEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gcHJvcHNba2V5XVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICBjb25zdCBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWN0eCkge1xuICAgIHdhcm4kMShcbiAgICAgIGB3aXRoQXN5bmNDb250ZXh0IGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBjdXJyZW50IGluc3RhbmNlLiBUaGlzIGlzIGxpa2VseSBhIGJ1Zy5gXG4gICAgKTtcbiAgfVxuICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmIChpc1Byb21pc2UoYXdhaXRhYmxlKSkge1xuICAgIGF3YWl0YWJsZSA9IGF3YWl0YWJsZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbYXdhaXRhYmxlLCAoKSA9PiBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAodHlwZSwga2V5KSA9PiB7XG4gICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgIHdhcm4kMShgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICB9XG4gIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcbiAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xuICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIik7XG4gIH1cbiAgY29uc3Qge1xuICAgIC8vIHN0YXRlXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsXG4gICAgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucyxcbiAgICBtZXRob2RzLFxuICAgIHdhdGNoOiB3YXRjaE9wdGlvbnMsXG4gICAgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsXG4gICAgaW5qZWN0OiBpbmplY3RPcHRpb25zLFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGNyZWF0ZWQsXG4gICAgYmVmb3JlTW91bnQsXG4gICAgbW91bnRlZCxcbiAgICBiZWZvcmVVcGRhdGUsXG4gICAgdXBkYXRlZCxcbiAgICBhY3RpdmF0ZWQsXG4gICAgZGVhY3RpdmF0ZWQsXG4gICAgYmVmb3JlRGVzdHJveSxcbiAgICBiZWZvcmVVbm1vdW50LFxuICAgIGRlc3Ryb3llZCxcbiAgICB1bm1vdW50ZWQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlclRyYWNrZWQsXG4gICAgcmVuZGVyVHJpZ2dlcmVkLFxuICAgIGVycm9yQ2FwdHVyZWQsXG4gICAgc2VydmVyUHJlZmV0Y2gsXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSxcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50cyxcbiAgICBkaXJlY3RpdmVzLFxuICAgIGZpbHRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKTtcbiAgfVxuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XG4gICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGF0YU9wdGlvbnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihkYXRhT3B0aW9ucykpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBkYXRhT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzUHJvbWlzZShkYXRhKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcbiAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KSA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpIDogaXNGdW5jdGlvbihvcHQuZ2V0KSA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IE5PT1A7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBnZXQgPT09IE5PT1ApIHtcbiAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldCkgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcykgOiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYFxuICAgICAgICApO1xuICAgICAgfSA6IE5PT1A7XG4gICAgICBjb25zdCBjID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQsXG4gICAgICAgIHNldFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGMudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh3YXRjaE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcbiAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKSA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcykgOiBwcm92aWRlT3B0aW9ucztcbiAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgIH0pO1xuICB9XG4gIGlmIChjcmVhdGVkKSB7XG4gICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaG9vay5mb3JFYWNoKChfaG9vaykgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xuICAgIH0gZWxzZSBpZiAoaG9vaykge1xuICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcbiAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xuICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSB7fSk7XG4gICAgICBleHBvc2UuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvc2VkLCBrZXksIHtcbiAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICBzZXQ6ICh2YWwpID0+IHB1YmxpY1RoaXNba2V5XSA9IHZhbCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IHt9O1xuICAgIH1cbiAgfVxuICBpZiAocmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xuICAgIGluc3RhbmNlLnJlbmRlciA9IHJlbmRlcjtcbiAgfVxuICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcbiAgICBpbnN0YW5jZS5pbmhlcml0QXR0cnMgPSBpbmhlcml0QXR0cnM7XG4gIH1cbiAgaWYgKGNvbXBvbmVudHMpIGluc3RhbmNlLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICBpZiAoZGlyZWN0aXZlcykgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gIGlmIChzZXJ2ZXJQcmVmZXRjaCkge1xuICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSBOT09QKSB7XG4gIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XG4gICAgaW5qZWN0T3B0aW9ucyA9IG5vcm1hbGl6ZUluamVjdChpbmplY3RPcHRpb25zKTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0ID0gaW5qZWN0T3B0aW9uc1trZXldO1xuICAgIGxldCBpbmplY3RlZDtcbiAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xuICAgICAgaWYgKFwiZGVmYXVsdFwiIGluIG9wdCkge1xuICAgICAgICBpbmplY3RlZCA9IGluamVjdChcbiAgICAgICAgICBvcHQuZnJvbSB8fCBrZXksXG4gICAgICAgICAgb3B0LmRlZmF1bHQsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0LmZyb20gfHwga2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0KTtcbiAgICB9XG4gICAgaWYgKGlzUmVmKGluamVjdGVkKSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbmplY3RlZC52YWx1ZSxcbiAgICAgICAgc2V0OiAodikgPT4gaW5qZWN0ZWQudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4W2tleV0gPSBpbmplY3RlZDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIElOSkVDVCAqLywga2V5KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxIb29rKGhvb2ssIGluc3RhbmNlLCB0eXBlKSB7XG4gIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgIGlzQXJyYXkoaG9vaykgPyBob29rLm1hcCgoaCkgPT4gaC5iaW5kKGluc3RhbmNlLnByb3h5KSkgOiBob29rLmJpbmQoaW5zdGFuY2UucHJveHkpLFxuICAgIGluc3RhbmNlLFxuICAgIHR5cGVcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIocmF3LCBjdHgsIHB1YmxpY1RoaXMsIGtleSkge1xuICBsZXQgZ2V0dGVyID0ga2V5LmluY2x1ZGVzKFwiLlwiKSA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KSA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcbiAgaWYgKGlzU3RyaW5nKHJhdykpIHtcbiAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XG4gICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgIHtcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhd31cImAsIGhhbmRsZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHJhdykpIHtcbiAgICB7XG4gICAgICB3YXRjaChnZXR0ZXIsIHJhdy5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgIHJhdy5mb3JFYWNoKChyKSA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKSA/IHJhdy5oYW5kbGVyLmJpbmQocHVibGljVGhpcykgOiBjdHhbcmF3LmhhbmRsZXJdO1xuICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgY29uc3QgYmFzZSA9IGluc3RhbmNlLnR5cGU7XG4gIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gYmFzZTtcbiAgY29uc3Qge1xuICAgIG1peGluczogZ2xvYmFsTWl4aW5zLFxuICAgIG9wdGlvbnNDYWNoZTogY2FjaGUsXG4gICAgY29uZmlnOiB7IG9wdGlvbk1lcmdlU3RyYXRlZ2llcyB9XG4gIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0O1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoYmFzZSk7XG4gIGxldCByZXNvbHZlZDtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJlc29sdmVkID0gY2FjaGVkO1xuICB9IGVsc2UgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKSB7XG4gICAge1xuICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXNvbHZlZCA9IHt9O1xuICAgIGlmIChnbG9iYWxNaXhpbnMubGVuZ3RoKSB7XG4gICAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChcbiAgICAgICAgKG0pID0+IG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgbSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzLCB0cnVlKVxuICAgICAgKTtcbiAgICB9XG4gICAgbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBiYXNlLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMpO1xuICB9XG4gIGlmIChpc09iamVjdChiYXNlKSkge1xuICAgIGNhY2hlLnNldChiYXNlLCByZXNvbHZlZCk7XG4gIH1cbiAgcmV0dXJuIHJlc29sdmVkO1xufVxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHRvLCBmcm9tLCBzdHJhdHMsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XG4gIGlmIChleHRlbmRzT3B0aW9ucykge1xuICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XG4gIH1cbiAgaWYgKG1peGlucykge1xuICAgIG1peGlucy5mb3JFYWNoKFxuICAgICAgKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKVxuICAgICk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgIGlmIChhc01peGluICYmIGtleSA9PT0gXCJleHBvc2VcIikge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBcImV4cG9zZVwiIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gZGVjbGFyZWQgaW4gbWl4aW5zIG9yIGV4dGVuZHMuIEl0IHNob3VsZCBvbmx5IGJlIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNvbXBvbmVudCBpdHNlbGYuYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RyYXQgPSBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzW2tleV0gfHwgc3RyYXRzICYmIHN0cmF0c1trZXldO1xuICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuY29uc3QgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyA9IHtcbiAgZGF0YTogbWVyZ2VEYXRhRm4sXG4gIHByb3BzOiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMsXG4gIGVtaXRzOiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMsXG4gIC8vIG9iamVjdHNcbiAgbWV0aG9kczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICBjb21wdXRlZDogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyBsaWZlY3ljbGVcbiAgYmVmb3JlQ3JlYXRlOiBtZXJnZUFzQXJyYXksXG4gIGNyZWF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlTW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgbW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVcGRhdGU6IG1lcmdlQXNBcnJheSxcbiAgdXBkYXRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVEZXN0cm95OiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZVVubW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgZGVzdHJveWVkOiBtZXJnZUFzQXJyYXksXG4gIHVubW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICBhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgZGVhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxuICBzZXJ2ZXJQcmVmZXRjaDogbWVyZ2VBc0FycmF5LFxuICAvLyBhc3NldHNcbiAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxuICBkaXJlY3RpdmVzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIC8vIHdhdGNoXG4gIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcbiAgLy8gcHJvdmlkZSAvIGluamVjdFxuICBwcm92aWRlOiBtZXJnZURhdGFGbixcbiAgaW5qZWN0OiBtZXJnZUluamVjdFxufTtcbmZ1bmN0aW9uIG1lcmdlRGF0YUZuKHRvLCBmcm9tKSB7XG4gIGlmICghZnJvbSkge1xuICAgIHJldHVybiB0bztcbiAgfVxuICBpZiAoIXRvKSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcbiAgICByZXR1cm4gKGV4dGVuZCkoXG4gICAgICBpc0Z1bmN0aW9uKHRvKSA/IHRvLmNhbGwodGhpcywgdGhpcykgOiB0byxcbiAgICAgIGlzRnVuY3Rpb24oZnJvbSkgPyBmcm9tLmNhbGwodGhpcywgdGhpcykgOiBmcm9tXG4gICAgKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIG1lcmdlSW5qZWN0KHRvLCBmcm9tKSB7XG4gIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChyYXcpIHtcbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXNbcmF3W2ldXSA9IHJhd1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXR1cm4gcmF3O1xufVxuZnVuY3Rpb24gbWVyZ2VBc0FycmF5KHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IFsuLi5uZXcgU2V0KFtdLmNvbmNhdCh0bywgZnJvbSkpXSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcbiAgcmV0dXJuIHRvID8gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0bywgZnJvbSkgOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICh0bykge1xuICAgIGlmIChpc0FycmF5KHRvKSAmJiBpc0FycmF5KGZyb20pKSB7XG4gICAgICByZXR1cm4gWy4uLi8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsuLi50bywgLi4uZnJvbV0pXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVuZChcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgbm9ybWFsaXplUHJvcHNPckVtaXRzKHRvKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhmcm9tICE9IG51bGwgPyBmcm9tIDoge30pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnJvbTtcbiAgfVxufVxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcbiAgaWYgKCF0bykgcmV0dXJuIGZyb207XG4gIGlmICghZnJvbSkgcmV0dXJuIHRvO1xuICBjb25zdCBtZXJnZWQgPSBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHRvKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgIG1lcmdlZFtrZXldID0gbWVyZ2VBc0FycmF5KHRvW2tleV0sIGZyb21ba2V5XSk7XG4gIH1cbiAgcmV0dXJuIG1lcmdlZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXBwQ29udGV4dCgpIHtcbiAgcmV0dXJuIHtcbiAgICBhcHA6IG51bGwsXG4gICAgY29uZmlnOiB7XG4gICAgICBpc05hdGl2ZVRhZzogTk8sXG4gICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXG4gICAgICBnbG9iYWxQcm9wZXJ0aWVzOiB7fSxcbiAgICAgIG9wdGlvbk1lcmdlU3RyYXRlZ2llczoge30sXG4gICAgICBlcnJvckhhbmRsZXI6IHZvaWQgMCxcbiAgICAgIHdhcm5IYW5kbGVyOiB2b2lkIDAsXG4gICAgICBjb21waWxlck9wdGlvbnM6IHt9XG4gICAgfSxcbiAgICBtaXhpbnM6IFtdLFxuICAgIGNvbXBvbmVudHM6IHt9LFxuICAgIGRpcmVjdGl2ZXM6IHt9LFxuICAgIHByb3ZpZGVzOiAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICBvcHRpb25zQ2FjaGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLFxuICAgIHByb3BzQ2FjaGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLFxuICAgIGVtaXRzQ2FjaGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpXG4gIH07XG59XG5sZXQgdWlkJDEgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXBwKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyA9IG51bGwpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocm9vdENvbXBvbmVudCkpIHtcbiAgICAgIHJvb3RDb21wb25lbnQgPSBleHRlbmQoe30sIHJvb3RDb21wb25lbnQpO1xuICAgIH1cbiAgICBpZiAocm9vdFByb3BzICE9IG51bGwgJiYgIWlzT2JqZWN0KHJvb3RQcm9wcykpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGByb290IHByb3BzIHBhc3NlZCB0byBhcHAubW91bnQoKSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcbiAgICAgIHJvb3RQcm9wcyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG4gICAgY29uc3QgaW5zdGFsbGVkUGx1Z2lucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICAgIGNvbnN0IHBsdWdpbkNsZWFudXBGbnMgPSBbXTtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY29uc3QgYXBwID0gY29udGV4dC5hcHAgPSB7XG4gICAgICBfdWlkOiB1aWQkMSsrLFxuICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcbiAgICAgIF9wcm9wczogcm9vdFByb3BzLFxuICAgICAgX2NvbnRhaW5lcjogbnVsbCxcbiAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxuICAgICAgX2luc3RhbmNlOiBudWxsLFxuICAgICAgdmVyc2lvbixcbiAgICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbmZpZztcbiAgICAgIH0sXG4gICAgICBzZXQgY29uZmlnKHYpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgYXBwLmNvbmZpZyBjYW5ub3QgYmUgcmVwbGFjZWQuIE1vZGlmeSBpbmRpdmlkdWFsIG9wdGlvbnMgaW5zdGVhZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaGFzKHBsdWdpbikpIHtcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgUGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xuICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBmdW5jdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1peGluKG1peGluKSB7XG4gICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XG4gICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcbiAgICAgICAgICAgIGNvbnRleHQubWl4aW5zLnB1c2gobWl4aW4pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBcIk1peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwXCIgKyAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogXCJcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xuICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlyZWN0aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBUaGVyZSBpcyBhbHJlYWR5IGFuIGFwcCBpbnN0YW5jZSBtb3VudGVkIG9uIHRoZSBob3N0IGNvbnRhaW5lci5cbiBJZiB5b3Ugd2FudCB0byBtb3VudCBhbm90aGVyIGFwcCBvbiB0aGUgc2FtZSBob3N0IGNvbnRhaW5lciwgeW91IG5lZWQgdG8gdW5tb3VudCB0aGUgcHJldmlvdXMgYXBwIGJ5IGNhbGxpbmcgXFxgYXBwLnVubW91bnQoKVxcYCBmaXJzdC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB2bm9kZSA9IGFwcC5fY2VWTm9kZSB8fCBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xuICAgICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgICAgICAgIGNsb25lZC5lbCA9IG51bGw7XG4gICAgICAgICAgICAgIHJlbmRlcihjbG9uZWQsIHJvb3RDb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNIeWRyYXRlICYmIGh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXIodm5vZGUsIHJvb3RDb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xuICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cbklmIHlvdSB3YW50IHRvIHJlbW91bnQgdGhlIHNhbWUgYXBwLCBtb3ZlIHlvdXIgYXBwIGNyZWF0aW9uIGxvZ2ljIGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Vbm1vdW50KGNsZWFudXBGbikge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0eXBlb2YgY2xlYW51cEZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXhwZWN0ZWQgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnQgdG8gYXBwLm9uVW5tb3VudCgpLCBidXQgZ290ICR7dHlwZW9mIGNsZWFudXBGbn1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwbHVnaW5DbGVhbnVwRm5zLnB1c2goY2xlYW51cEZuKTtcbiAgICAgIH0sXG4gICAgICB1bm1vdW50KCkge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICAgICAgICBwbHVnaW5DbGVhbnVwRm5zLFxuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSxcbiAgICAgICAgICAgIDE2XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBjb250ZXh0LnByb3ZpZGVzKSB7XG4gICAgICAgICAgaWYgKGhhc093bihjb250ZXh0LnByb3ZpZGVzLCBrZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBpbmhlcml0ZWQgZnJvbSBpdHMgcGFyZW50IGVsZW1lbnQuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIHJ1bldpdGhDb250ZXh0KGZuKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcHAgPSBjdXJyZW50QXBwO1xuICAgICAgICBjdXJyZW50QXBwID0gYXBwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnRBcHAgPSBsYXN0QXBwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xuICB9O1xufVxubGV0IGN1cnJlbnRBcHAgPSBudWxsO1xuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoIWN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICB3YXJuJDEoYHByb3ZpZGUoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLmApO1xuICAgIH1cbiAgfVxuICBpZiAoY3VycmVudEluc3RhbmNlKSB7XG4gICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xuICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcbiAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XG4gICAgfVxuICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaW5zdGFuY2UgfHwgY3VycmVudEFwcCkge1xuICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRBcHAgPyBjdXJyZW50QXBwLl9jb250ZXh0LnByb3ZpZGVzIDogaW5zdGFuY2UgPyBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbCB8fCBpbnN0YW5jZS5jZSA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcyA6IHZvaWQgMDtcbiAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XG4gICAgICByZXR1cm4gcHJvdmlkZXNba2V5XTtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZS5jYWxsKGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5KSA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xuICB9XG59XG5mdW5jdGlvbiBoYXNJbmplY3Rpb25Db250ZXh0KCkge1xuICByZXR1cm4gISEoZ2V0Q3VycmVudEluc3RhbmNlKCkgfHwgY3VycmVudEFwcCk7XG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2wuZm9yKFwidi1zY3hcIik7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgIGlmICghY3R4KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFNlcnZlciByZW5kZXJpbmcgY29udGV4dCBub3QgcHJvdmlkZWQuIE1ha2Ugc3VyZSB0byBvbmx5IGNhbGwgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3R4O1xuICB9XG59O1xuXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJwb3N0XCIgfSkgOiB7IGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwic3luY1wiIH0pIDogeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvbmNlIH0gPSBvcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGVlcCAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbmNlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJvbmNlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYmFzZVdhdGNoT3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBiYXNlV2F0Y2hPcHRpb25zLm9uV2FybiA9IHdhcm4kMTtcbiAgY29uc3QgcnVuc0ltbWVkaWF0ZWx5ID0gY2IgJiYgaW1tZWRpYXRlIHx8ICFjYiAmJiBmbHVzaCAhPT0gXCJwb3N0XCI7XG4gIGxldCBzc3JDbGVhbnVwO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgICAgY29uc3QgY3R4ID0gdXNlU1NSQ29udGV4dCgpO1xuICAgICAgc3NyQ2xlYW51cCA9IGN0eC5fX3dhdGNoZXJIYW5kbGVzIHx8IChjdHguX193YXRjaGVySGFuZGxlcyA9IFtdKTtcbiAgICB9IGVsc2UgaWYgKCFydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIGNvbnN0IHdhdGNoU3RvcEhhbmRsZSA9ICgpID0+IHtcbiAgICAgIH07XG4gICAgICB3YXRjaFN0b3BIYW5kbGUuc3RvcCA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucmVzdW1lID0gTk9PUDtcbiAgICAgIHdhdGNoU3RvcEhhbmRsZS5wYXVzZSA9IE5PT1A7XG4gICAgICByZXR1cm4gd2F0Y2hTdG9wSGFuZGxlO1xuICAgIH1cbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgYmFzZVdhdGNoT3B0aW9ucy5jYWxsID0gKGZuLCB0eXBlLCBhcmdzKSA9PiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICBsZXQgaXNQcmUgPSBmYWxzZTtcbiAgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYikgPT4ge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoZmx1c2ggIT09IFwic3luY1wiKSB7XG4gICAgaXNQcmUgPSB0cnVlO1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYiwgaXNGaXJzdFJ1bikgPT4ge1xuICAgICAgaWYgKGlzRmlyc3RSdW4pIHtcbiAgICAgICAgam9iKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUpvYihqb2IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYmFzZVdhdGNoT3B0aW9ucy5hdWdtZW50Sm9iID0gKGpvYikgPT4ge1xuICAgIGlmIChjYikge1xuICAgICAgam9iLmZsYWdzIHw9IDQ7XG4gICAgfVxuICAgIGlmIChpc1ByZSkge1xuICAgICAgam9iLmZsYWdzIHw9IDI7XG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSB3YXRjaCQxKHNvdXJjZSwgY2IsIGJhc2VXYXRjaE9wdGlvbnMpO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKHNzckNsZWFudXApIHtcbiAgICAgIHNzckNsZWFudXAucHVzaCh3YXRjaEhhbmRsZSk7XG4gICAgfSBlbHNlIGlmIChydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIHdhdGNoSGFuZGxlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCB2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcbiAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKSA/IHNvdXJjZS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSkgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV0gOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgbGV0IGNiO1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBjYiA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcbiAgICBvcHRpb25zID0gdmFsdWU7XG4gIH1cbiAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGhpcyk7XG4gIGNvbnN0IHJlcyA9IGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zKTtcbiAgcmVzZXQoKTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGN1ciA9IGN0eDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xuICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW9kZWwocHJvcHMsIG5hbWUsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkucHJvcHNPcHRpb25zWzBdW2NhbWVsaXplZE5hbWVdKSB7XG4gICAgd2FybiQxKGB1c2VNb2RlbCgpIGNhbGxlZCB3aXRoIHByb3AgXCIke25hbWV9XCIgd2hpY2ggaXMgbm90IGRlY2xhcmVkLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBoeXBoZW5hdGVkTmFtZSA9IGh5cGhlbmF0ZShuYW1lKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGNhbWVsaXplZE5hbWUpO1xuICBjb25zdCByZXMgPSBjdXN0b21SZWYoKHRyYWNrLCB0cmlnZ2VyKSA9PiB7XG4gICAgbGV0IGxvY2FsVmFsdWU7XG4gICAgbGV0IHByZXZTZXRWYWx1ZSA9IEVNUFRZX09CSjtcbiAgICBsZXQgcHJldkVtaXR0ZWRWYWx1ZTtcbiAgICB3YXRjaFN5bmNFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbY2FtZWxpemVkTmFtZV07XG4gICAgICBpZiAoaGFzQ2hhbmdlZChsb2NhbFZhbHVlLCBwcm9wVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsVmFsdWUgPSBwcm9wVmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQgPyBvcHRpb25zLmdldChsb2NhbFZhbHVlKSA6IGxvY2FsVmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVtaXR0ZWRWYWx1ZSA9IG9wdGlvbnMuc2V0ID8gb3B0aW9ucy5zZXQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmICghaGFzQ2hhbmdlZChlbWl0dGVkVmFsdWUsIGxvY2FsVmFsdWUpICYmICEocHJldlNldFZhbHVlICE9PSBFTVBUWV9PQkogJiYgaGFzQ2hhbmdlZCh2YWx1ZSwgcHJldlNldFZhbHVlKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3UHJvcHMgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICBpZiAoIShyYXdQcm9wcyAmJiAvLyBjaGVjayBpZiBwYXJlbnQgaGFzIHBhc3NlZCB2LW1vZGVsXG4gICAgICAgIChuYW1lIGluIHJhd1Byb3BzIHx8IGNhbWVsaXplZE5hbWUgaW4gcmF3UHJvcHMgfHwgaHlwaGVuYXRlZE5hbWUgaW4gcmF3UHJvcHMpICYmIChgb25VcGRhdGU6JHtuYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7Y2FtZWxpemVkTmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2h5cGhlbmF0ZWROYW1lfWAgaW4gcmF3UHJvcHMpKSkge1xuICAgICAgICAgIGxvY2FsVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaS5lbWl0KGB1cGRhdGU6JHtuYW1lfWAsIGVtaXR0ZWRWYWx1ZSk7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBlbWl0dGVkVmFsdWUpICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkgJiYgIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBwcmV2RW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2U2V0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJldkVtaXR0ZWRWYWx1ZSA9IGVtaXR0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmVzW1N5bWJvbC5pdGVyYXRvcl0gPSAoKSA9PiB7XG4gICAgbGV0IGkyID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKGkyIDwgMikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBpMisrID8gbW9kaWZpZXJzIHx8IEVNUFRZX09CSiA6IHJlcywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gcmVzO1xufVxuY29uc3QgZ2V0TW9kZWxNb2RpZmllcnMgPSAocHJvcHMsIG1vZGVsTmFtZSkgPT4ge1xuICByZXR1cm4gbW9kZWxOYW1lID09PSBcIm1vZGVsVmFsdWVcIiB8fCBtb2RlbE5hbWUgPT09IFwibW9kZWwtdmFsdWVcIiA/IHByb3BzLm1vZGVsTW9kaWZpZXJzIDogcHJvcHNbYCR7bW9kZWxOYW1lfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2NhbWVsaXplKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF0gfHwgcHJvcHNbYCR7aHlwaGVuYXRlKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF07XG59O1xuXG5mdW5jdGlvbiBlbWl0KGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xuICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHJldHVybjtcbiAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3Qge1xuICAgICAgZW1pdHNPcHRpb25zLFxuICAgICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICAgIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoZW1pdHNPcHRpb25zKSB7XG4gICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpICYmIHRydWUpIHtcbiAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSl9XCIgcHJvcC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IHJhd0FyZ3M7XG4gIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoXCJ1cGRhdGU6XCIpO1xuICBjb25zdCBtb2RpZmllcnMgPSBpc01vZGVsTGlzdGVuZXIgJiYgZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGV2ZW50LnNsaWNlKDcpKTtcbiAgaWYgKG1vZGlmaWVycykge1xuICAgIGlmIChtb2RpZmllcnMudHJpbSkge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKChhKSA9PiBpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSk7XG4gICAgfVxuICAgIGlmIChtb2RpZmllcnMubnVtYmVyKSB7XG4gICAgICBhcmdzID0gcmF3QXJncy5tYXAobG9vc2VUb051bWJlcik7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCAke2Zvcm1hdENvbXBvbmVudE5hbWUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2UudHlwZVxuICAgICAgICApfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShcbiAgICAgICAgICBldmVudFxuICAgICAgICApfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCBoYW5kbGVyTmFtZTtcbiAgbGV0IGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCldIHx8IC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcbiAgcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKV07XG4gIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSldO1xuICB9XG4gIGlmIChoYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBoYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbiAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gIGlmIChvbmNlSGFuZGxlcikge1xuICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgb25jZUhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxufVxuY29uc3QgbWl4aW5FbWl0c0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gX19WVUVfT1BUSU9OU19BUElfXyAmJiBhc01peGluID8gbWl4aW5FbWl0c0NhY2hlIDogYXBwQ29udGV4dC5lbWl0c0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5lbWl0cztcbiAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRFbWl0cyA9IChyYXcyKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcyLCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChub3JtYWxpemVkRnJvbUV4dGVuZCkge1xuICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgcmF3LmZvckVhY2goKGtleSkgPT4gbm9ybWFsaXplZFtrZXldID0gbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIG5vcm1hbGl6ZWQpO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XG4gIGlmICghb3B0aW9ucyB8fCAhaXNPbihrZXkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sIFwiXCIpO1xuICByZXR1cm4gaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fCBoYXNPd24ob3B0aW9ucywgaHlwaGVuYXRlKGtleSkpIHx8IGhhc093bihvcHRpb25zLCBrZXkpO1xufVxuXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuZnVuY3Rpb24gbWFya0F0dHJzQWNjZXNzZWQoKSB7XG4gIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgdHlwZTogQ29tcG9uZW50LFxuICAgIHZub2RlLFxuICAgIHByb3h5LFxuICAgIHdpdGhQcm94eSxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdLFxuICAgIHNsb3RzLFxuICAgIGF0dHJzLFxuICAgIGVtaXQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlckNhY2hlLFxuICAgIHByb3BzLFxuICAgIGRhdGEsXG4gICAgc2V0dXBTdGF0ZSxcbiAgICBjdHgsXG4gICAgaW5oZXJpdEF0dHJzXG4gIH0gPSBpbnN0YW5jZTtcbiAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBmYWxsdGhyb3VnaEF0dHJzO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0KSB7XG4gICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xuICAgICAgY29uc3QgdGhpc1Byb3h5ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCA/IG5ldyBQcm94eShwcm94eVRvVXNlLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgUHJvcGVydHkgJyR7U3RyaW5nKFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICl9JyB3YXMgYWNjZXNzZWQgdmlhICd0aGlzJy4gQXZvaWQgdXNpbmcgJ3RoaXMnIGluIHRlbXBsYXRlcy5gXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgICAgfSkgOiBwcm94eVRvVXNlO1xuICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUoXG4gICAgICAgIHJlbmRlci5jYWxsKFxuICAgICAgICAgIHRoaXNQcm94eSxcbiAgICAgICAgICBwcm94eVRvVXNlLFxuICAgICAgICAgIHJlbmRlckNhY2hlLFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgc2V0dXBTdGF0ZSxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGN0eFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZW5kZXIyID0gQ29tcG9uZW50O1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYXR0cnMgPT09IHByb3BzKSB7XG4gICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyMi5sZW5ndGggPiAxID8gcmVuZGVyMihcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICAgIHJldHVybiBzaGFsbG93UmVhZG9ubHkoYXR0cnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsb3RzLFxuICAgICAgICAgICAgZW1pdFxuICAgICAgICAgIH0gOiB7IGF0dHJzLCBzbG90cywgZW1pdCB9XG4gICAgICAgICkgOiByZW5kZXIyKFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wcyA/IGF0dHJzIDogZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoKGF0dHJzKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGJsb2NrU3RhY2subGVuZ3RoID0gMDtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxKTtcbiAgICByZXN1bHQgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgfVxuICBsZXQgcm9vdCA9IHJlc3VsdDtcbiAgbGV0IHNldFJvb3QgPSB2b2lkIDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJlc3VsdC5wYXRjaEZsYWcgPiAwICYmIHJlc3VsdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgW3Jvb3QsIHNldFJvb3RdID0gZ2V0Q2hpbGRSb290KHJlc3VsdCk7XG4gIH1cbiAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmYWxsdGhyb3VnaEF0dHJzKTtcbiAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gcm9vdDtcbiAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgIGlmIChzaGFwZUZsYWcgJiAoMSB8IDYpKSB7XG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcbiAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gZmlsdGVyTW9kZWxMaXN0ZW5lcnMoXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzLFxuICAgICAgICAgICAgcHJvcHNPcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByb290ID0gY2xvbmVWTm9kZShyb290LCBmYWxsdGhyb3VnaEF0dHJzLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWFjY2Vzc2VkQXR0cnMgJiYgcm9vdC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xuICAgICAgICBjb25zdCBldmVudEF0dHJzID0gW107XG4gICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcbiAgICAgICAgICBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICAgICAgICAgIGV2ZW50QXR0cnMucHVzaChrZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmFBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tcHJvcHMgYXR0cmlidXRlcyAoJHtleHRyYUF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCBvciB0ZWxlcG9ydCByb290IG5vZGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKCR7ZXZlbnRBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy4gSWYgdGhlIGxpc3RlbmVyIGlzIGludGVuZGVkIHRvIGJlIGEgY29tcG9uZW50IGN1c3RvbSBldmVudCBsaXN0ZW5lciBvbmx5LCBkZWNsYXJlIGl0IHVzaW5nIHRoZSBcImVtaXRzXCIgb3B0aW9uLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByb290ID0gY2xvbmVWTm9kZShyb290LCBudWxsLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XG4gIH1cbiAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKHJvb3QsIHZub2RlLnRyYW5zaXRpb24pO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldFJvb3QpIHtcbiAgICBzZXRSb290KHJvb3QpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHJvb3Q7XG4gIH1cbiAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IHJhd0NoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbiwgZmFsc2UpO1xuICBpZiAoIWNoaWxkUm9vdCkge1xuICAgIHJldHVybiBbdm5vZGUsIHZvaWQgMF07XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnID4gMCAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIHJldHVybiBnZXRDaGlsZFJvb3QoY2hpbGRSb290KTtcbiAgfVxuICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcbiAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xuICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XG4gICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgaWYgKGR5bmFtaWNJbmRleCA+IC0xKSB7XG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZWRSb290LnBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcbn07XG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuLCByZWN1cnNlID0gdHJ1ZSkge1xuICBsZXQgc2luZ2xlUm9vdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gXCJ2LWlmXCIpIHtcbiAgICAgICAgaWYgKHNpbmdsZVJvb3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2luZ2xlUm9vdCA9IGNoaWxkO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJlY3Vyc2UgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgPiAwICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlclNpbmdsZVJvb3Qoc2luZ2xlUm9vdC5jaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpbmdsZVJvb3Q7XG59XG5jb25zdCBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2ggPSAoYXR0cnMpID0+IHtcbiAgbGV0IHJlcztcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoa2V5ID09PSBcImNsYXNzXCIgfHwga2V5ID09PSBcInN0eWxlXCIgfHwgaXNPbihrZXkpKSB7XG4gICAgICAocmVzIHx8IChyZXMgPSB7fSkpW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGZpbHRlck1vZGVsTGlzdGVuZXJzID0gKGF0dHJzLCBwcm9wcykgPT4ge1xuICBjb25zdCByZXMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xuICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmICg2IHwgMSkgfHwgdm5vZGUudHlwZSA9PT0gQ29tbWVudDtcbn07XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xuICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xuICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xuICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9wdGltaXplZCAmJiBwYXRjaEZsYWcgPj0gMCkge1xuICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgIH1cbiAgICBpZiAoIW5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xuICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XG4gIGlmIChuZXh0S2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHByZXZQcm9wcykubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xuICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwpIHtcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGNvbnN0IHJvb3QgPSBwYXJlbnQuc3ViVHJlZTtcbiAgICBpZiAocm9vdC5zdXNwZW5zZSAmJiByb290LnN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9PT0gdm5vZGUpIHtcbiAgICAgIHJvb3QuZWwgPSB2bm9kZS5lbDtcbiAgICB9XG4gICAgaWYgKHJvb3QgPT09IHZub2RlKSB7XG4gICAgICAodm5vZGUgPSBwYXJlbnQudm5vZGUpLmVsID0gZWw7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgaW50ZXJuYWxPYmplY3RQcm90byA9IHt9O1xuY29uc3QgY3JlYXRlSW50ZXJuYWxPYmplY3QgPSAoKSA9PiBPYmplY3QuY3JlYXRlKGludGVybmFsT2JqZWN0UHJvdG8pO1xuY29uc3QgaXNJbnRlcm5hbE9iamVjdCA9IChvYmopID0+IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBpbnRlcm5hbE9iamVjdFByb3RvO1xuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCBpc1NTUiA9IGZhbHNlKSB7XG4gIGNvbnN0IHByb3BzID0ge307XG4gIGNvbnN0IGF0dHJzID0gY3JlYXRlSW50ZXJuYWxPYmplY3QoKTtcbiAgaW5zdGFuY2UucHJvcHNEZWZhdWx0cyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pIHtcbiAgICBpZiAoIShrZXkgaW4gcHJvcHMpKSB7XG4gICAgICBwcm9wc1trZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKGlzU3RhdGVmdWwpIHtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IGlzU1NSID8gcHJvcHMgOiBzaGFsbG93UmVhY3RpdmUocHJvcHMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xuICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcbiAgICB9XG4gIH1cbiAgaW5zdGFuY2UuYXR0cnMgPSBhdHRycztcbn1cbmZ1bmN0aW9uIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIHdoaWxlIChpbnN0YW5jZSkge1xuICAgIGlmIChpbnN0YW5jZS50eXBlLl9faG1ySWQpIHJldHVybiB0cnVlO1xuICAgIGluc3RhbmNlID0gaW5zdGFuY2UucGFyZW50O1xuICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wcyxcbiAgICBhdHRycyxcbiAgICB2bm9kZTogeyBwYXRjaEZsYWcgfVxuICB9ID0gaW5zdGFuY2U7XG4gIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGlmIChcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxuICAgIC8vIC0gIzE5NDIgaWYgaG1yIGlzIGVuYWJsZWQgd2l0aCBzZmMgY29tcG9uZW50XG4gICAgLy8gLSB2aXRlIzg3MiBub24tc2ZjIGNvbXBvbmVudCB1c2VkIGJ5IHNmYyBjb21wb25lbnRcbiAgICAhKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpKSAmJiAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmICEocGF0Y2hGbGFnICYgMTYpXG4gICkge1xuICAgIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICBpZiAoaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgICAgICBwcm9wc1tjYW1lbGl6ZWRLZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBjYW1lbGl6ZWRLZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykpIHtcbiAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIGxldCBrZWJhYktleTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgIGlmICghcmF3UHJvcHMgfHwgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcbiAgICAgIC8vIGFuZCBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlICgjOTU1KVxuICAgICAgKChrZWJhYktleSA9IGh5cGhlbmF0ZShrZXkpKSA9PT0ga2V5IHx8ICFoYXNPd24ocmF3UHJvcHMsIGtlYmFiS2V5KSkpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAocmF3UHJldlByb3BzICYmIC8vIGZvciBjYW1lbENhc2VcbiAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHZvaWQgMCB8fCAvLyBmb3Iga2ViYWItY2FzZVxuICAgICAgICAgIHJhd1ByZXZQcm9wc1trZWJhYktleV0gIT09IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiB0cnVlKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XG4gICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaGFzQXR0cnNDaGFuZ2VkKSB7XG4gICAgdHJpZ2dlcihpbnN0YW5jZS5hdHRycywgXCJzZXRcIiwgXCJcIik7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG59XG5mdW5jdGlvbiBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpIHtcbiAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgbGV0IHJhd0Nhc3RWYWx1ZXM7XG4gIGlmIChyYXdQcm9wcykge1xuICAgIGZvciAobGV0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICBsZXQgY2FtZWxLZXk7XG4gICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkge1xuICAgICAgICBpZiAoIW5lZWRDYXN0S2V5cyB8fCAhbmVlZENhc3RLZXlzLmluY2x1ZGVzKGNhbWVsS2V5KSkge1xuICAgICAgICAgIHByb3BzW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChyYXdDYXN0VmFsdWVzIHx8IChyYXdDYXN0VmFsdWVzID0ge30pKVtjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBhdHRycykgfHwgdmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobmVlZENhc3RLZXlzKSB7XG4gICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xuICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAga2V5LFxuICAgICAgICBjYXN0VmFsdWVzW2tleV0sXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSlcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHByb3BzLCBrZXksIHZhbHVlLCBpbnN0YW5jZSwgaXNBYnNlbnQpIHtcbiAgY29uc3Qgb3B0ID0gb3B0aW9uc1trZXldO1xuICBpZiAob3B0ICE9IG51bGwpIHtcbiAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0O1xuICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiAhb3B0LnNraXBGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoa2V5IGluIHByb3BzRGVmYXVsdHMpIHtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUuY2FsbChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdGFuY2UuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UuY2UuX3NldFByb3Aoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xuICAgICAgaWYgKGlzQWJzZW50ICYmICFoYXNEZWZhdWx0KSB7XG4gICAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKG9wdFsxIC8qIHNob3VsZENhc3RUcnVlICovXSAmJiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSkge1xuICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IG1peGluUHJvcHNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCBjYWNoZSA9IF9fVlVFX09QVElPTlNfQVBJX18gJiYgYXNNaXhpbiA/IG1peGluUHJvcHNDYWNoZSA6IGFwcENvbnRleHQucHJvcHNDYWNoZTtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByYXcgPSBjb21wLnByb3BzO1xuICBjb25zdCBub3JtYWxpemVkID0ge307XG4gIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xuICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgIGNvbnN0IGV4dGVuZFByb3BzID0gKHJhdzIpID0+IHtcbiAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgY29uc3QgW3Byb3BzLCBrZXlzXSA9IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhyYXcyLCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XG4gICAgICBpZiAoa2V5cykgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XG4gICAgfTtcbiAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgZXh0ZW5kUHJvcHMoY29tcC5leHRlbmRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xuICAgIH1cbiAgICByZXR1cm4gRU1QVFlfQVJSO1xuICB9XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzU3RyaW5nKHJhd1tpXSkpIHtcbiAgICAgICAgd2FybiQxKGBwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguYCwgcmF3W2ldKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShyYXdbaV0pO1xuICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IEVNUFRZX09CSjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAocmF3KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KHJhdykpIHtcbiAgICAgIHdhcm4kMShgaW52YWxpZCBwcm9wcyBvcHRpb25zYCwgcmF3KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3KSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIGNvbnN0IG9wdCA9IHJhd1trZXldO1xuICAgICAgICBjb25zdCBwcm9wID0gbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkgPyB7IHR5cGU6IG9wdCB9IDogZXh0ZW5kKHt9LCBvcHQpO1xuICAgICAgICBjb25zdCBwcm9wVHlwZSA9IHByb3AudHlwZTtcbiAgICAgICAgbGV0IHNob3VsZENhc3QgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNob3VsZENhc3RUcnVlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGlzQXJyYXkocHJvcFR5cGUpKSB7XG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHByb3BUeXBlLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHByb3BUeXBlW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVOYW1lID0gaXNGdW5jdGlvbih0eXBlKSAmJiB0eXBlLm5hbWU7XG4gICAgICAgICAgICBpZiAodHlwZU5hbWUgPT09IFwiQm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgIHNob3VsZENhc3QgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZU5hbWUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgc2hvdWxkQ2FzdFRydWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2hvdWxkQ2FzdCA9IGlzRnVuY3Rpb24ocHJvcFR5cGUpICYmIHByb3BUeXBlLm5hbWUgPT09IFwiQm9vbGVhblwiO1xuICAgICAgICB9XG4gICAgICAgIHByb3BbMCAvKiBzaG91bGRDYXN0ICovXSA9IHNob3VsZENhc3Q7XG4gICAgICAgIHByb3BbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gPSBzaG91bGRDYXN0VHJ1ZTtcbiAgICAgICAgaWYgKHNob3VsZENhc3QgfHwgaGFzT3duKHByb3AsIFwiZGVmYXVsdFwiKSkge1xuICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKG5vcm1hbGl6ZWRLZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlcyA9IFtub3JtYWxpemVkLCBuZWVkQ2FzdEtleXNdO1xuICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICBjYWNoZS5zZXQoY29tcCwgcmVzKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wTmFtZShrZXkpIHtcbiAgaWYgKGtleVswXSAhPT0gXCIkXCIgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFR5cGUoY3Rvcikge1xuICBpZiAoY3RvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICBpZiAodHlwZW9mIGN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBjdG9yLm5hbWUgfHwgXCJcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY3RvciA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IG5hbWUgPSBjdG9yLmNvbnN0cnVjdG9yICYmIGN0b3IuY29uc3RydWN0b3IubmFtZTtcbiAgICByZXR1cm4gbmFtZSB8fCBcIlwiO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhyYXdQcm9wcywgcHJvcHMsIGluc3RhbmNlKSB7XG4gIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gdG9SYXcocHJvcHMpO1xuICBjb25zdCBvcHRpb25zID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdO1xuICBjb25zdCBjYW1lbGl6ZVByb3BzS2V5ID0gT2JqZWN0LmtleXMocmF3UHJvcHMpLm1hcCgoa2V5KSA9PiBjYW1lbGl6ZShrZXkpKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgIGxldCBvcHQgPSBvcHRpb25zW2tleV07XG4gICAgaWYgKG9wdCA9PSBudWxsKSBjb250aW51ZTtcbiAgICB2YWxpZGF0ZVByb3AoXG4gICAgICBrZXksXG4gICAgICByZXNvbHZlZFZhbHVlc1trZXldLFxuICAgICAgb3B0LFxuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShyZXNvbHZlZFZhbHVlcykgOiByZXNvbHZlZFZhbHVlcyxcbiAgICAgICFjYW1lbGl6ZVByb3BzS2V5LmluY2x1ZGVzKGtleSlcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIHByb3BzLCBpc0Fic2VudCkge1xuICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IsIHNraXBDaGVjayB9ID0gcHJvcDtcbiAgaWYgKHJlcXVpcmVkICYmIGlzQWJzZW50KSB7XG4gICAgd2FybiQxKCdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgJiYgIXJlcXVpcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSAmJiAhc2tpcENoZWNrKSB7XG4gICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcbiAgICBjb25zdCB0eXBlcyA9IGlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xuICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aCAmJiAhaXNWYWxpZDsgaSsrKSB7XG4gICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcbiAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgXCJcIik7XG4gICAgICBpc1ZhbGlkID0gdmFsaWQ7XG4gICAgfVxuICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgd2FybiQxKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUsIHByb3BzKSkge1xuICAgIHdhcm4kMSgnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xuICB9XG59XG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJTdHJpbmcsTnVtYmVyLEJvb2xlYW4sRnVuY3Rpb24sU3ltYm9sLEJpZ0ludFwiXG4pO1xuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xuICBsZXQgdmFsaWQ7XG4gIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgdmFsaWQgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XG4gICAgdmFsaWQgPSB0ID09PSBleHBlY3RlZFR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXZhbGlkICYmIHQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IFwiT2JqZWN0XCIpIHtcbiAgICB2YWxpZCA9IGlzT2JqZWN0KHZhbHVlKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IFwiQXJyYXlcIikge1xuICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB2YWxpZCxcbiAgICBleHBlY3RlZFR5cGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xuICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYFByb3AgdHlwZSBbXSBmb3IgcHJvcCBcIiR7bmFtZX1cIiB3b24ndCBtYXRjaCBhbnl0aGluZy4gRGlkIHlvdSBtZWFuIHRvIHVzZSB0eXBlIEFycmF5IGluc3RlYWQ/YDtcbiAgfVxuICBsZXQgbWVzc2FnZSA9IGBJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJHtuYW1lfVwiLiBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oXCIgfCBcIil9YDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcbiAgY29uc3QgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcbiAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XG4gIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xuICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiYgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiYgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGAgd2l0aCB2YWx1ZSAke2V4cGVjdGVkVmFsdWV9YDtcbiAgfVxuICBtZXNzYWdlICs9IGAsIGdvdCAke3JlY2VpdmVkVHlwZX0gYDtcbiAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBgd2l0aCB2YWx1ZSAke3JlY2VpdmVkVmFsdWV9LmA7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlLCB0eXBlKSB7XG4gIGlmICh0eXBlID09PSBcIlN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiTnVtYmVyXCIpIHtcbiAgICByZXR1cm4gYCR7TnVtYmVyKHZhbHVlKX1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xuICB9XG59XG5mdW5jdGlvbiBpc0V4cGxpY2FibGUodHlwZSkge1xuICBjb25zdCBleHBsaWNpdFR5cGVzID0gW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiYm9vbGVhblwiXTtcbiAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZSgoZWxlbSkgPT4gdHlwZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtKTtcbn1cbmZ1bmN0aW9uIGlzQm9vbGVhbiguLi5hcmdzKSB7XG4gIHJldHVybiBhcmdzLnNvbWUoKGVsZW0pID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gXCJib29sZWFuXCIpO1xufVxuXG5jb25zdCBpc0ludGVybmFsS2V5ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiX2N0eFwiIHx8IGtleSA9PT0gXCIkc3RhYmxlXCI7XG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKSA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xuY29uc3Qgbm9ybWFsaXplU2xvdCA9IChrZXksIHJhd1Nsb3QsIGN0eCkgPT4ge1xuICBpZiAocmF3U2xvdC5fbikge1xuICAgIHJldHVybiByYXdTbG90O1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KCguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudEluc3RhbmNlICYmICEoY3R4ID09PSBudWxsICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgJiYgIShjdHggJiYgY3R4LnJvb3QgIT09IGN1cnJlbnRJbnN0YW5jZS5yb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgU2xvdCBcIiR7a2V5fVwiIGludm9rZWQgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uOiB0aGlzIHdpbGwgbm90IHRyYWNrIGRlcGVuZGVuY2llcyB1c2VkIGluIHRoZSBzbG90LiBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplU2xvdFZhbHVlKHJhd1Nsb3QoLi4uYXJncykpO1xuICB9LCBjdHgpO1xuICBub3JtYWxpemVkLl9jID0gZmFsc2U7XG4gIHJldHVybiBub3JtYWxpemVkO1xufTtcbmNvbnN0IG5vcm1hbGl6ZU9iamVjdFNsb3RzID0gKHJhd1Nsb3RzLCBzbG90cywgaW5zdGFuY2UpID0+IHtcbiAgY29uc3QgY3R4ID0gcmF3U2xvdHMuX2N0eDtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcbiAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKSBjb250aW51ZTtcbiAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICBzbG90c1trZXldID0gbm9ybWFsaXplU2xvdChrZXksIHZhbHVlLCBjdHgpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKHZhbHVlKTtcbiAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBub3JtYWxpemVkO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkgJiYgdHJ1ZSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XG4gIGluc3RhbmNlLnNsb3RzLmRlZmF1bHQgPSAoKSA9PiBub3JtYWxpemVkO1xufTtcbmNvbnN0IGFzc2lnblNsb3RzID0gKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIGNoaWxkcmVuKSB7XG4gICAgaWYgKG9wdGltaXplZCB8fCAhaXNJbnRlcm5hbEtleShrZXkpKSB7XG4gICAgICBzbG90c1trZXldID0gY2hpbGRyZW5ba2V5XTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3Qgc2xvdHMgPSBpbnN0YW5jZS5zbG90cyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMikge1xuICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICBpZiAob3B0aW1pemVkKSB7XG4gICAgICAgIGRlZihzbG90cywgXCJfXCIsIHR5cGUsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgfVxufTtcbmNvbnN0IHVwZGF0ZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcbiAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcbiAgbGV0IGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IEVNUFRZX09CSjtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEpIHtcbiAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xuICB9XG4gIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxubGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZnVuY3Rpb24gc3RhcnRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gZW5kTWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XG4gICAgY29uc3QgZW5kVGFnID0gc3RhcnRUYWcgKyBgOmVuZGA7XG4gICAgY29uc3QgbWVhc3VyZU5hbWUgPSBgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9PiAke3R5cGV9YDtcbiAgICBwZXJmLm1hcmsoZW5kVGFnKTtcbiAgICBwZXJmLm1lYXN1cmUobWVhc3VyZU5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgIHBlcmYuY2xlYXJNZWFzdXJlcyhtZWFzdXJlTmFtZSk7XG4gICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc1BlcmZFbmQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICBpZiAoc3VwcG9ydGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gc3VwcG9ydGVkO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbiAgfSBlbHNlIHtcbiAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiBpbml0RmVhdHVyZUZsYWdzKCkge1xuICBjb25zdCBuZWVkV2FybiA9IFtdO1xuICBpZiAodHlwZW9mIF9fVlVFX09QVElPTlNfQVBJX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9PUFRJT05TX0FQSV9fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX09QVElPTlNfQVBJX18gPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9ERVZUT09MU19fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyA9IGZhbHNlO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLmxlbmd0aCkge1xuICAgIGNvbnN0IG11bHRpID0gbmVlZFdhcm4ubGVuZ3RoID4gMTtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgRmVhdHVyZSBmbGFnJHttdWx0aSA/IGBzYCA6IGBgfSAke25lZWRXYXJuLmpvaW4oXCIsIFwiKX0gJHttdWx0aSA/IGBhcmVgIDogYGlzYH0gbm90IGV4cGxpY2l0bHkgZGVmaW5lZC4gWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUsIHdoaWNoIGV4cGVjdHMgdGhlc2UgY29tcGlsZS10aW1lIGZlYXR1cmUgZmxhZ3MgdG8gYmUgZ2xvYmFsbHkgaW5qZWN0ZWQgdmlhIHRoZSBidW5kbGVyIGNvbmZpZyBpbiBvcmRlciB0byBnZXQgYmV0dGVyIHRyZWUtc2hha2luZyBpbiB0aGUgcHJvZHVjdGlvbiBidW5kbGUuXG5cbkZvciBtb3JlIGRldGFpbHMsIHNlZSBodHRwczovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MuYFxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UgO1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xuICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xuICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyk7XG59XG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gIHtcbiAgICBpbml0RmVhdHVyZUZsYWdzKCk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xuICB0YXJnZXQuX19WVUVfXyA9IHRydWU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIHNldERldnRvb2xzSG9vayQxKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLCB0YXJnZXQpO1xuICB9XG4gIGNvbnN0IHtcbiAgICBpbnNlcnQ6IGhvc3RJbnNlcnQsXG4gICAgcmVtb3ZlOiBob3N0UmVtb3ZlLFxuICAgIHBhdGNoUHJvcDogaG9zdFBhdGNoUHJvcCxcbiAgICBjcmVhdGVFbGVtZW50OiBob3N0Q3JlYXRlRWxlbWVudCxcbiAgICBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCxcbiAgICBjcmVhdGVDb21tZW50OiBob3N0Q3JlYXRlQ29tbWVudCxcbiAgICBzZXRUZXh0OiBob3N0U2V0VGV4dCxcbiAgICBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LFxuICAgIHBhcmVudE5vZGU6IGhvc3RQYXJlbnROb2RlLFxuICAgIG5leHRTaWJsaW5nOiBob3N0TmV4dFNpYmxpbmcsXG4gICAgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLFxuICAgIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwYXRjaCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yID0gbnVsbCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCwgcGFyZW50U3VzcGVuc2UgPSBudWxsLCBuYW1lc3BhY2UgPSB2b2lkIDAsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZyA/IGZhbHNlIDogISFuMi5keW5hbWljQ2hpbGRyZW4pID0+IHtcbiAgICBpZiAobjEgPT09IG4yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuMSAmJiAhaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XG4gICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgIG4xID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4yLnBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIHByb2Nlc3NUZXh0KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29tbWVudDpcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgIG1vdW50U3RhdGljTm9kZShuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBhdGNoU3RhdGljTm9kZShuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHByb2Nlc3NGcmFnbWVudChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgcHJvY2Vzc0VsZW1lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBWTm9kZSB0eXBlOlwiLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yIHx8IG4xLCAhbjIpO1xuICAgIH0gZWxzZSBpZiAocmVmID09IG51bGwgJiYgbjEgJiYgbjEucmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihuMS5yZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCBuMSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzVGV4dCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoXG4gICAgICAgIG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZWwgPSBuMi5lbCA9IG4xLmVsO1xuICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgICBob3N0U2V0VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlQ29tbWVudChuMi5jaGlsZHJlbiB8fCBcIlwiKSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UpID0+IHtcbiAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChcbiAgICAgIG4yLmNoaWxkcmVuLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgYW5jaG9yLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgbjIuZWwsXG4gICAgICBuMi5hbmNob3JcbiAgICApO1xuICB9O1xuICBjb25zdCBwYXRjaFN0YXRpY05vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGFuY2hvciA9IGhvc3ROZXh0U2libGluZyhuMS5hbmNob3IpO1xuICAgICAgcmVtb3ZlU3RhdGljTm9kZShuMSk7XG4gICAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChcbiAgICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSwgY29udGFpbmVyLCBuZXh0U2libGluZykgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0SW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0pID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShhbmNob3IpO1xuICB9O1xuICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgaWYgKG4yLnR5cGUgPT09IFwic3ZnXCIpIHtcbiAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgfSBlbHNlIGlmIChuMi50eXBlID09PSBcIm1hdGhcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIG1vdW50RWxlbWVudChcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjdXN0b21FbGVtZW50ID0gISEobjEuZWwgJiYgbjEuZWwuX2lzVnVlQ0UpID8gbjEuZWwgOiBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGN1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgICBjdXN0b21FbGVtZW50Ll9iZWdpblBhdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2hFbGVtZW50KFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGN1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgICBjdXN0b21FbGVtZW50Ll9lbmRQYXRjaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGVsO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgY29uc3QgeyBwcm9wcywgc2hhcGVGbGFnLCB0cmFuc2l0aW9uLCBkaXJzIH0gPSB2bm9kZTtcbiAgICBlbCA9IHZub2RlLmVsID0gaG9zdENyZWF0ZUVsZW1lbnQoXG4gICAgICB2bm9kZS50eXBlLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgcHJvcHMgJiYgcHJvcHMuaXMsXG4gICAgICBwcm9wc1xuICAgICk7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHZub2RlLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgIH1cbiAgICBzZXRTY29wZUlkKGVsLCB2bm9kZSwgdm5vZGUuc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gXCJ2YWx1ZVwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBudWxsLCBwcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGVmKGVsLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKGVsLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pO1xuICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcbiAgICB9XG4gICAgaWYgKHNsb3RTY29wZUlkcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90U2NvcGVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiYgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgIHN1YlRyZWUgPSBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUgfHwgaXNTdXNwZW5zZShzdWJUcmVlLnR5cGUpICYmIChzdWJUcmVlLnNzQ29udGVudCA9PT0gdm5vZGUgfHwgc3ViVHJlZS5zc0ZhbGxiYWNrID09PSB2bm9kZSkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XG4gICAgICAgIHNldFNjb3BlSWQoXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Vk5vZGUsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2NvcGVJZCxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LnBhcmVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBlbC5fX3Zub2RlID0gbjI7XG4gICAgfVxuICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcbiAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTY7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIGZhbHNlKTtcbiAgICBpZiAodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVcGRhdGVcIik7XG4gICAgfVxuICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9sZFByb3BzLmlubmVySFRNTCAmJiBuZXdQcm9wcy5pbm5lckhUTUwgPT0gbnVsbCB8fCBvbGRQcm9wcy50ZXh0Q29udGVudCAmJiBuZXdQcm9wcy50ZXh0Q29udGVudCA9PSBudWxsKSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIFwiXCIpO1xuICAgIH1cbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMikge1xuICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwiY2xhc3NcIiwgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA0KSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJzdHlsZVwiLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09IFwidmFsdWVcIikge1xuICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxKSB7XG4gICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJ1cGRhdGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hCbG9ja0NoaWxkcmVuID0gKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgZmFsbGJhY2tDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IG5ld1ZOb2RlID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICBjb25zdCBjb250YWluZXIgPSAoXG4gICAgICAgIC8vIG9sZFZOb2RlIG1heSBiZSBhbiBlcnJvcmVkIGFzeW5jIHNldHVwKCkgY29tcG9uZW50IGluc2lkZSBTdXNwZW5zZVxuICAgICAgICAvLyB3aGljaCB3aWxsIG5vdCBoYXZlIGEgbW91bnRlZCBlbGVtZW50XG4gICAgICAgIG9sZFZOb2RlLmVsICYmIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XG4gICAgICAgIC8vIG9mIHRoZSBGcmFnbWVudCBpdHNlbGYgc28gaXQgY2FuIG1vdmUgaXRzIGNoaWxkcmVuLlxuICAgICAgICAob2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBkaWZmZXJlbnQgbm9kZXMsIHRoZXJlIGlzIGdvaW5nIHRvIGJlIGEgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fCAvLyAtIEluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50LCBpdCBjb3VsZCBjb250YWluIGFueXRoaW5nLlxuICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiAoNiB8IDY0IHwgMTI4KSkgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbCkgOiAoXG4gICAgICAgICAgLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXG4gICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxuICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBwYXRjaChcbiAgICAgICAgb2xkVk5vZGUsXG4gICAgICAgIG5ld1ZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hQcm9wcyA9IChlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkUHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xuICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkgY29udGludWU7XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG5leHQgIT09IHByZXYgJiYga2V5ICE9PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBuZXdQcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gbjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDgpKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIC8vICMxMDAwN1xuICAgICAgICAvLyBzdWNoIGZyYWdtZW50IGxpa2UgYDw+PC8+YCB3aWxsIGJlIGNvbXBpbGVkIGludG9cbiAgICAgICAgLy8gYSBmcmFnbWVudCB3aGljaCBkb2Vzbid0IGhhdmUgYSBjaGlsZHJlbi5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGZhbGxiYWNrIHRvIGFuIGVtcHR5IGFycmF5XG4gICAgICAgIG4yLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAmJiBkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgbjIua2V5ICE9IG51bGwgfHwgcGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8qIHNoYWxsb3cgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoXG4gICAgICBpbml0aWFsVk5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgZmFsc2UsIG9wdGltaXplZCk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSBpbml0aWFsVk5vZGUuZWwgPSBudWxsO1xuICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xuICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShudWxsLCBwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBpbml0aWFsVk5vZGUucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlci5lbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBpbml0aWFsVk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnQgPSAobjEsIG4yLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcbiAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50VXBkYXRlRm4gPSAoKSA9PiB7XG4gICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQsIHJvb3QsIHR5cGUgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCBpc0FzeW5jV3JhcHBlclZOb2RlID0gaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAoYm0pIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhibSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcbiAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHlkcmF0ZU5vZGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgdHlwZS5fX2FzeW5jSHlkcmF0ZSkge1xuICAgICAgICAgICAgdHlwZS5fX2FzeW5jSHlkcmF0ZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBoeWRyYXRlU3ViVHJlZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvb3QuY2UgJiYgLy8gQHRzLWV4cGVjdC1lcnJvciBfZGVmIGlzIHByaXZhdGVcbiAgICAgICAgICByb290LmNlLl9kZWYuc2hhZG93Um9vdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJvb3QuY2UuX2luamVjdENoaWxkU3R5bGUodHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgc3ViVHJlZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdGlhbFZOb2RlLmVsID0gc3ViVHJlZS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcbiAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0aWFsVk5vZGUuc2hhcGVGbGFnICYgMjU2IHx8IHBhcmVudCAmJiBpc0FzeW5jV3JhcHBlcihwYXJlbnQudm5vZGUpICYmIHBhcmVudC52bm9kZS5zaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChpbnN0YW5jZS5hLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IG5vbkh5ZHJhdGVkQXN5bmNSb290ID0gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChub25IeWRyYXRlZEFzeW5jUm9vdCkge1xuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub25IeWRyYXRlZEFzeW5jUm9vdC5hc3luY0RlcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFVwZGF0ZUZuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG5leHQgfHwgaW5zdGFuY2Uudm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnUpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBwcmV2VHJlZSxcbiAgICAgICAgICBuZXh0VHJlZSxcbiAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcbiAgICAgICAgICBob3N0UGFyZW50Tm9kZShwcmV2VHJlZS5lbCksXG4gICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XG4gICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XG4gICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgICBjb25zdCBlZmZlY3QgPSBpbnN0YW5jZS5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoY29tcG9uZW50VXBkYXRlRm4pO1xuICAgIGluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGNvbnN0IHVwZGF0ZSA9IGluc3RhbmNlLnVwZGF0ZSA9IGVmZmVjdC5ydW4uYmluZChlZmZlY3QpO1xuICAgIGNvbnN0IGpvYiA9IGluc3RhbmNlLmpvYiA9IGVmZmVjdC5ydW5JZkRpcnR5LmJpbmQoZWZmZWN0KTtcbiAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICBlZmZlY3Quc2NoZWR1bGVyID0gKCkgPT4gcXVldWVKb2Ioam9iKTtcbiAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBpbnN0YW5jZS5ydGMgPyAoZSkgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKSA6IHZvaWQgMDtcbiAgICAgIGVmZmVjdC5vblRyaWdnZXIgPSBpbnN0YW5jZS5ydGcgPyAoZSkgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRnLCBlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XG4gICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XG4gICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xuICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xuICAgIGNvbnN0IHByZXZTaGFwZUZsYWcgPSBuMSA/IG4xLnNoYXBlRmxhZyA6IDA7XG4gICAgY29uc3QgYzIgPSBuMi5jaGlsZHJlbjtcbiAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCkge1xuICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYpIHtcbiAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGMyICE9PSBjMSkge1xuICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBjMik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgICAgYzEsXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcbiAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcbiAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XG4gICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xuICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGMxW2ldLFxuICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICBjMSxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgYzIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcbiAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxO1xuICAgIGxldCBlMiA9IGwyIC0gMTtcbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2ldO1xuICAgICAgY29uc3QgbjIgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2UxXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbZTJdID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGUxLS07XG4gICAgICBlMi0tO1xuICAgIH1cbiAgICBpZiAoaSA+IGUxKSB7XG4gICAgICBpZiAoaSA8PSBlMikge1xuICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGkgPiBlMikge1xuICAgICAgd2hpbGUgKGkgPD0gZTEpIHtcbiAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgczEgPSBpO1xuICAgICAgY29uc3QgczIgPSBpO1xuICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5VG9OZXdJbmRleE1hcC5oYXMobmV4dENoaWxkLmtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCxcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksXG4gICAgICAgICAgICAgIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleVRvTmV3SW5kZXhNYXAuc2V0KG5leHRDaGlsZC5rZXksIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgajtcbiAgICAgIGxldCBwYXRjaGVkID0gMDtcbiAgICAgIGNvbnN0IHRvQmVQYXRjaGVkID0gZTIgLSBzMiArIDE7XG4gICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBtYXhOZXdJbmRleFNvRmFyID0gMDtcbiAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKykgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcbiAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XG4gICAgICAgIGlmIChwYXRjaGVkID49IHRvQmVQYXRjaGVkKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdJbmRleDtcbiAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xuICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtqIC0gczJdID09PSAwICYmIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xuICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gbWF4TmV3SW5kZXhTb0Zhcikge1xuICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgcHJldkNoaWxkLFxuICAgICAgICAgICAgYzJbbmV3SW5kZXhdLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXRjaGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWQgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApIDogRU1QVFlfQVJSO1xuICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgYW5jaG9yVk5vZGUgPSBjMltuZXh0SW5kZXggKyAxXTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gKFxuICAgICAgICAgIC8vICMxMzU1OSwgZmFsbGJhY2sgdG8gZWwgcGxhY2Vob2xkZXIgZm9yIHVucmVzb2x2ZWQgYXN5bmMgY29tcG9uZW50XG4gICAgICAgICAgYW5jaG9yVk5vZGUuZWwgfHwgYW5jaG9yVk5vZGUucGxhY2Vob2xkZXJcbiAgICAgICAgKSA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZlZCkge1xuICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcbiAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgfVxuICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmVlZFRyYW5zaXRpb24yID0gbW92ZVR5cGUgIT09IDIgJiYgc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uO1xuICAgIGlmIChuZWVkVHJhbnNpdGlvbjIpIHtcbiAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHJlbW92ZTIgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHZub2RlLmN0eC5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoZWwuX2lzTGVhdmluZykge1xuICAgICAgICAgICAgZWxbbGVhdmVDYktleV0oXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlMigpO1xuICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlMiwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZGlycyxcbiAgICAgIGNhY2hlSW5kZXhcbiAgICB9ID0gdm5vZGU7XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgfVxuICAgIGlmIChjYWNoZUluZGV4ICE9IG51bGwpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5yZW5kZXJDYWNoZVtjYWNoZUluZGV4XSA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgJiYgZGlycztcbiAgICBjb25zdCBzaG91bGRJbnZva2VWbm9kZUhvb2sgPSAhaXNBc3luY1dyYXBwZXIodm5vZGUpO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZVVubW91bnQpKSB7XG4gICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZVVubW91bnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUoXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzUxNTRcbiAgICAgIC8vIHdoZW4gdi1vbmNlIGlzIHVzZWQgaW5zaWRlIGEgYmxvY2ssIHNldEJsb2NrVHJhY2tpbmcoLTEpIG1hcmtzIHRoZVxuICAgICAgLy8gcGFyZW50IGJsb2NrIHdpdGggaGFzT25jZTogdHJ1ZVxuICAgICAgLy8gc28gdGhhdCBpdCBkb2Vzbid0IHRha2UgdGhlIGZhc3QgcGF0aCBkdXJpbmcgdW5tb3VudCAtIG90aGVyd2lzZVxuICAgICAgLy8gY29tcG9uZW50cyBuZXN0ZWQgaW4gdi1vbmNlIGFyZSBuZXZlciB1bm1vdW50ZWQuXG4gICAgICAhZHluYW1pY0NoaWxkcmVuLmhhc09uY2UgJiYgLy8gIzExNTM6IGZhc3QgcGF0aCBzaG91bGQgbm90IGJlIHRha2VuIGZvciBub24tc3RhYmxlICh2LWZvcikgZnJhZ21lbnRzXG4gICAgICAodHlwZSAhPT0gRnJhZ21lbnQgfHwgcGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCkpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBGcmFnbWVudCAmJiBwYXRjaEZsYWcgJiAoMTI4IHwgMjU2KSB8fCAhb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZW1vdmUpIHtcbiAgICAgICAgcmVtb3ZlKHZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkgfHwgc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJ1bm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmUgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCB7IHR5cGUsIGVsLCBhbmNob3IsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUucGF0Y2hGbGFnID4gMCAmJiB2bm9kZS5wYXRjaEZsYWcgJiAyMDQ4ICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY2hpbGQuZWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmUoY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVGcmFnbWVudChlbCwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XG4gICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcbiAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVyZm9ybVJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcbiAgICAgIGhvc3RSZW1vdmUoY3VyKTtcbiAgICAgIGN1ciA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoZW5kKTtcbiAgfTtcbiAgY29uc3QgdW5tb3VudENvbXBvbmVudCA9IChpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgY29uc3QgeyBidW0sIHNjb3BlLCBqb2IsIHN1YlRyZWUsIHVtLCBtLCBhIH0gPSBpbnN0YW5jZTtcbiAgICBpbnZhbGlkYXRlTW91bnQobSk7XG4gICAgaW52YWxpZGF0ZU1vdW50KGEpO1xuICAgIGlmIChidW0pIHtcbiAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XG4gICAgfVxuICAgIHNjb3BlLnN0b3AoKTtcbiAgICBpZiAoam9iKSB7XG4gICAgICBqb2IuZmxhZ3MgfD0gODtcbiAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfVxuICAgIGlmICh1bSkge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGluc3RhbmNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVubW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldE5leHRIb3N0Tm9kZSA9ICh2bm9kZSkgPT4ge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcbiAgICB9XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgcmV0dXJuIHZub2RlLnN1c3BlbnNlLm5leHQoKTtcbiAgICB9XG4gICAgY29uc3QgZWwgPSBob3N0TmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yIHx8IHZub2RlLmVsKTtcbiAgICBjb25zdCB0ZWxlcG9ydEVuZCA9IGVsICYmIGVsW1RlbGVwb3J0RW5kS2V5XTtcbiAgICByZXR1cm4gdGVsZXBvcnRFbmQgPyBob3N0TmV4dFNpYmxpbmcodGVsZXBvcnRFbmQpIDogZWw7XG4gIH07XG4gIGxldCBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gIGNvbnN0IHJlbmRlciA9ICh2bm9kZSwgY29udGFpbmVyLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xuICAgICAgaWYgKGNvbnRhaW5lci5fdm5vZGUpIHtcbiAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGF0Y2goXG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgfHwgbnVsbCxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH1cbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgIGZsdXNoUHJlRmx1c2hDYnMoKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbnRlcm5hbHMgPSB7XG4gICAgcDogcGF0Y2gsXG4gICAgdW06IHVubW91bnQsXG4gICAgbTogbW92ZSxcbiAgICByOiByZW1vdmUsXG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgIG46IGdldE5leHRIb3N0Tm9kZSxcbiAgICBvOiBvcHRpb25zXG4gIH07XG4gIGxldCBoeWRyYXRlO1xuICBsZXQgaHlkcmF0ZU5vZGU7XG4gIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKFxuICAgICAgaW50ZXJuYWxzXG4gICAgKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbmRlcixcbiAgICBoeWRyYXRlLFxuICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh7IHR5cGUsIHByb3BzIH0sIGN1cnJlbnROYW1lc3BhY2UpIHtcbiAgcmV0dXJuIGN1cnJlbnROYW1lc3BhY2UgPT09IFwic3ZnXCIgJiYgdHlwZSA9PT0gXCJmb3JlaWduT2JqZWN0XCIgfHwgY3VycmVudE5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiAmJiB0eXBlID09PSBcImFubm90YXRpb24teG1sXCIgJiYgcHJvcHMgJiYgcHJvcHMuZW5jb2RpbmcgJiYgcHJvcHMuZW5jb2RpbmcuaW5jbHVkZXMoXCJodG1sXCIpID8gdm9pZCAwIDogY3VycmVudE5hbWVzcGFjZTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVJlY3Vyc2UoeyBlZmZlY3QsIGpvYiB9LCBhbGxvd2VkKSB7XG4gIGlmIChhbGxvd2VkKSB7XG4gICAgZWZmZWN0LmZsYWdzIHw9IDMyO1xuICAgIGpvYi5mbGFncyB8PSA0O1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5mbGFncyAmPSAtMzM7XG4gICAgam9iLmZsYWdzICY9IC01O1xuICB9XG59XG5mdW5jdGlvbiBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbikge1xuICByZXR1cm4gKCFwYXJlbnRTdXNwZW5zZSB8fCBwYXJlbnRTdXNwZW5zZSAmJiAhcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkgJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQ7XG59XG5mdW5jdGlvbiB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgc2hhbGxvdyA9IGZhbHNlKSB7XG4gIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xuICBjb25zdCBjaDIgPSBuMi5jaGlsZHJlbjtcbiAgaWYgKGlzQXJyYXkoY2gxKSAmJiBpc0FycmF5KGNoMikpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoMS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYzEgPSBjaDFbaV07XG4gICAgICBsZXQgYzIgPSBjaDJbaV07XG4gICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAmJiAhYzIuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyKSB7XG4gICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xuICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFsbG93ICYmIGMyLnBhdGNoRmxhZyAhPT0gLTIpXG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xuICAgICAgfVxuICAgICAgaWYgKGMyLnR5cGUgPT09IFRleHQgJiYgLy8gYXZvaWQgY2FjaGVkIHRleHQgbm9kZXMgcmV0YWluaW5nIGRldGFjaGVkIGRvbSBub2Rlc1xuICAgICAgYzIucGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKGMyLnR5cGUgPT09IENvbW1lbnQgJiYgIWMyLmVsKSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjMi5lbCAmJiAoYzIuZWwuX192bm9kZSA9IGMyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgbGV0IGksIGosIHUsIHYsIGM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSAwO1xuICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgIGMgPSB1ICsgdiA+PiAxO1xuICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHUgPSByZXN1bHQubGVuZ3RoO1xuICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICByZXN1bHRbdV0gPSB2O1xuICAgIHYgPSBwW3ZdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSkge1xuICBjb25zdCBzdWJDb21wb25lbnQgPSBpbnN0YW5jZS5zdWJUcmVlLmNvbXBvbmVudDtcbiAgaWYgKHN1YkNvbXBvbmVudCkge1xuICAgIGlmIChzdWJDb21wb25lbnQuYXN5bmNEZXAgJiYgIXN1YkNvbXBvbmVudC5hc3luY1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm4gc3ViQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3Qoc3ViQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVNb3VudChob29rcykge1xuICBpZiAoaG9va3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKVxuICAgICAgaG9va3NbaV0uZmxhZ3MgfD0gODtcbiAgfVxufVxuXG5jb25zdCBpc1N1c3BlbnNlID0gKHR5cGUpID0+IHR5cGUuX19pc1N1c3BlbnNlO1xubGV0IHN1c3BlbnNlSWQgPSAwO1xuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xuICBuYW1lOiBcIlN1c3BlbnNlXCIsXG4gIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcbiAgLy8gZGlyZWN0bHkgaW4gdGhlIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgY2hlY2tzIGZvciB0aGUgX19pc1N1c3BlbnNlIGZsYWdcbiAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXG4gIC8vIGludGVybmFscy5cbiAgX19pc1N1c3BlbnNlOiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIG1vdW50U3VzcGVuc2UoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5kZXBzID4gMCAmJiAhbjEuc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2U7XG4gICAgICAgIG4yLnN1c3BlbnNlLnZub2RlID0gbjI7XG4gICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhdGNoU3VzcGVuc2UoXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfVxuICB9LFxuICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbmNvbnN0IFN1c3BlbnNlID0gU3VzcGVuc2VJbXBsIDtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgZXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkoXG4gICAgdm5vZGUsXG4gICAgcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgYW5jaG9yLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHMsXG4gICAgb3B0aW1pemVkLFxuICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICk7XG4gIHBhdGNoKFxuICAgIG51bGwsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgbnVsbCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkc1xuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25QZW5kaW5nXCIpO1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvbkZhbGxiYWNrXCIpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLnNzRmFsbGJhY2ssXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgbjIuZWwgPSBuMS5lbDtcbiAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgIGlmIChpc1NhbWVWTm9kZVR5cGUocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCkpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUoYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyRXZlbnQobjIsIFwib25QZW5kaW5nXCIpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgIGlmIChuZXdCcmFuY2guc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IG5ld0JyYW5jaC5jb21wb25lbnQuc3VzcGVuc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIH1cbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/IFwiaW5mb1wiIDogXCJsb2dcIl0oXG4gICAgICBgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG06IG1vdmUsXG4gICAgdW06IHVubW91bnQsXG4gICAgbjogbmV4dCxcbiAgICBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgbGV0IHBhcmVudFN1c3BlbnNlSWQ7XG4gIGNvbnN0IGlzU3VzcGVuc2libGUgPSBpc1ZOb2RlU3VzcGVuc2libGUodm5vZGUpO1xuICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZUlkID0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkO1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcysrO1xuICAgIH1cbiAgfVxuICBjb25zdCB0aW1lb3V0ID0gdm5vZGUucHJvcHMgPyB0b051bWJlcih2bm9kZS5wcm9wcy50aW1lb3V0KSA6IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIodGltZW91dCwgYFN1c3BlbnNlIHRpbWVvdXRgKTtcbiAgfVxuICBjb25zdCBpbml0aWFsQW5jaG9yID0gYW5jaG9yO1xuICBjb25zdCBzdXNwZW5zZSA9IHtcbiAgICB2bm9kZSxcbiAgICBwYXJlbnQ6IHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBuYW1lc3BhY2UsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBkZXBzOiAwLFxuICAgIHBlbmRpbmdJZDogc3VzcGVuc2VJZCsrLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSBcIm51bWJlclwiID8gdGltZW91dCA6IC0xLFxuICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcbiAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgIGlzSW5GYWxsYmFjazogIWlzSHlkcmF0aW5nLFxuICAgIGlzSHlkcmF0aW5nLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBlZmZlY3RzOiBbXSxcbiAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlLCBzeW5jID0gZmFsc2UpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZub2RlOiB2bm9kZTIsXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgcGVuZGluZ0lkLFxuICAgICAgICBlZmZlY3RzLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyMixcbiAgICAgICAgaXNJbkZhbGxiYWNrXG4gICAgICB9ID0gc3VzcGVuc2U7XG4gICAgICBsZXQgZGVsYXlFbnRlciA9IGZhbHNlO1xuICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJiBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBtb3ZlKFxuICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgICAgICBhbmNob3IgPT09IGluaXRpYWxBbmNob3IgPyBuZXh0KGFjdGl2ZUJyYW5jaCkgOiBhbmNob3IsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgICAgICAgICBpZiAoaXNJbkZhbGxiYWNrICYmIHZub2RlMi5zc0ZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUyLnNzRmFsbGJhY2suZWwgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgICAgaWYgKHBhcmVudE5vZGUoYWN0aXZlQnJhbmNoLmVsKSA9PT0gY29udGFpbmVyMikge1xuICAgICAgICAgICAgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50Miwgc3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgIGlmICghZGVsYXlFbnRlciAmJiBpc0luRmFsbGJhY2sgJiYgdm5vZGUyLnNzRmFsbGJhY2spIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB2bm9kZTIuc3NGYWxsYmFjay5lbCA9IG51bGwsIHN1c3BlbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IgJiYgIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcbiAgICAgIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmIHBhcmVudFN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCAmJiAhc3luYykge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvblJlc29sdmVcIik7XG4gICAgfSxcbiAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MiwgY29udGFpbmVyOiBjb250YWluZXIyLCBuYW1lc3BhY2U6IG5hbWVzcGFjZTIgfSA9IHN1c3BlbnNlO1xuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvbkZhbGxiYWNrXCIpO1xuICAgICAgY29uc3QgYW5jaG9yMiA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmFsbGJhY2tWTm9kZSxcbiAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgbmFtZXNwYWNlMixcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gXCJvdXQtaW5cIjtcbiAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSBtb3VudEZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIHVubW91bnQoXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xuICAgICAgICB0cnVlXG4gICAgICAgIC8vIHNob3VsZFJlbW92ZVxuICAgICAgKTtcbiAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICBtb3VudEZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb3ZlKGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpIHtcbiAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSk7XG4gICAgICBzdXNwZW5zZS5jb250YWluZXIgPSBjb250YWluZXIyO1xuICAgIH0sXG4gICAgbmV4dCgpIHtcbiAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xuICAgIH0sXG4gICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQyKSB7XG4gICAgICBjb25zdCBpc0luUGVuZGluZ1N1c3BlbnNlID0gISFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoO1xuICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcbiAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgfVxuICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgaW5zdGFuY2UuYXN5bmNEZXAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwKTtcbiAgICAgIH0pLnRoZW4oKGFzeW5jU2V0dXBSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xuICAgICAgICAgIHZub2RlMi5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB2bm9kZTIsXG4gICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxuICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxuICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXG4gICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cbiAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZDJcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgdm5vZGUyLnBsYWNlaG9sZGVyID0gbnVsbDtcbiAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUyLmVsKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlMiwgZG9SZW1vdmUpIHtcbiAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2gsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlMixcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgbnVsbCxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFscyxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZFxuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzI7XG4gIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChcbiAgICBpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlblxuICApO1xuICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW4gPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICBsZXQgYmxvY2s7XG4gIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICBzLl9kID0gZmFsc2U7XG4gICAgICBvcGVuQmxvY2soKTtcbiAgICB9XG4gICAgcyA9IHMoKTtcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IHRydWU7XG4gICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgIGNsb3NlQmxvY2soKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQXJyYXkocykpIHtcbiAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXNpbmdsZUNoaWxkICYmIHMuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgIH1cbiAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gIH1cbiAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoKGMpID0+IGMgIT09IHMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICBsZXQgZWwgPSBicmFuY2guZWw7XG4gIHdoaWxlICghZWwgJiYgYnJhbmNoLmNvbXBvbmVudCkge1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wb25lbnQuc3ViVHJlZTtcbiAgICBlbCA9IGJyYW5jaC5lbDtcbiAgfVxuICB2bm9kZS5lbCA9IGVsO1xuICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNpYmxlID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMuc3VzcGVuc2libGU7XG4gIHJldHVybiBzdXNwZW5zaWJsZSAhPSBudWxsICYmIHN1c3BlbnNpYmxlICE9PSBmYWxzZTtcbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2wuZm9yKFwidi1mZ3RcIik7XG5jb25zdCBUZXh0ID0gU3ltYm9sLmZvcihcInYtdHh0XCIpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbC5mb3IoXCJ2LWNtdFwiKTtcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbC5mb3IoXCJ2LXN0Y1wiKTtcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XG4gIGJsb2NrU3RhY2sucHVzaChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pO1xufVxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcbiAgYmxvY2tTdGFjay5wb3AoKTtcbiAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5sZXQgaXNCbG9ja1RyZWVFbmFibGVkID0gMTtcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUsIGluVk9uY2UgPSBmYWxzZSkge1xuICBpc0Jsb2NrVHJlZUVuYWJsZWQgKz0gdmFsdWU7XG4gIGlmICh2YWx1ZSA8IDAgJiYgY3VycmVudEJsb2NrICYmIGluVk9uY2UpIHtcbiAgICBjdXJyZW50QmxvY2suaGFzT25jZSA9IHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldHVwQmxvY2sodm5vZGUpIHtcbiAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xuICBjbG9zZUJsb2NrKCk7XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZUJhc2VWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcbiAgcmV0dXJuIHNldHVwQmxvY2soXG4gICAgY3JlYXRlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG4yLnNoYXBlRmxhZyAmIDYgJiYgbjEuY29tcG9uZW50KSB7XG4gICAgY29uc3QgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG4yLnR5cGUpO1xuICAgIGlmIChkaXJ0eUluc3RhbmNlcyAmJiBkaXJ0eUluc3RhbmNlcy5oYXMobjEuY29tcG9uZW50KSkge1xuICAgICAgbjEuc2hhcGVGbGFnICY9IC0yNTc7XG4gICAgICBuMi5zaGFwZUZsYWcgJj0gLTUxMztcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XG59XG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcbiAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICByZXR1cm4gX2NyZWF0ZVZOb2RlKFxuICAgIC4uLnZub2RlQXJnc1RyYW5zZm9ybWVyID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSA6IGFyZ3NcbiAgKTtcbn07XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHtcbiAgcmVmLFxuICByZWZfa2V5LFxuICByZWZfZm9yXG59KSA9PiB7XG4gIGlmICh0eXBlb2YgcmVmID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVmID0gXCJcIiArIHJlZjtcbiAgfVxuICByZXR1cm4gcmVmICE9IG51bGwgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiwgazogcmVmX2tleSwgZjogISFyZWZfZm9yIH0gOiByZWYgOiBudWxsO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgc2hhcGVGbGFnID0gdHlwZSA9PT0gRnJhZ21lbnQgPyAwIDogMSwgaXNCbG9ja05vZGUgPSBmYWxzZSwgbmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB2bm9kZSA9IHtcbiAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXG4gICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgIGNoaWxkcmVuLFxuICAgIGNvbXBvbmVudDogbnVsbCxcbiAgICBzdXNwZW5zZTogbnVsbCxcbiAgICBzc0NvbnRlbnQ6IG51bGwsXG4gICAgc3NGYWxsYmFjazogbnVsbCxcbiAgICBkaXJzOiBudWxsLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgZWw6IG51bGwsXG4gICAgYW5jaG9yOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICB0YXJnZXRTdGFydDogbnVsbCxcbiAgICB0YXJnZXRBbmNob3I6IG51bGwsXG4gICAgc3RhdGljQ291bnQ6IDAsXG4gICAgc2hhcGVGbGFnLFxuICAgIHBhdGNoRmxhZyxcbiAgICBkeW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxuICAgIGFwcENvbnRleHQ6IG51bGwsXG4gICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgfTtcbiAgaWYgKG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uKSB7XG4gICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IGlzU3RyaW5nKGNoaWxkcmVuKSA/IDggOiAxNjtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xuICAgIHdhcm4kMShgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxuICAhaXNCbG9ja05vZGUgJiYgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXG4gIGN1cnJlbnRCbG9jayAmJiAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxuICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcbiAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXG4gIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cbiAgKHZub2RlLnBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNikgJiYgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXG4gIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXG4gIHZub2RlLnBhdGNoRmxhZyAhPT0gMzIpIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuY29uc3QgY3JlYXRlVk5vZGUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA6IF9jcmVhdGVWTm9kZTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0eXBlKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xuICAgIH1cbiAgICB0eXBlID0gQ29tbWVudDtcbiAgfVxuICBpZiAoaXNWTm9kZSh0eXBlKSkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICB0cnVlXG4gICAgICAvKiBtZXJnZVJlZjogdHJ1ZSAqL1xuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgIWlzQmxvY2tOb2RlICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgaWYgKGNsb25lZC5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbG9uZWQucGF0Y2hGbGFnID0gLTI7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcbiAgfVxuICBpZiAocHJvcHMpIHtcbiAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XG4gICAgICB9XG4gICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSkgPyAxIDogaXNTdXNwZW5zZSh0eXBlKSA/IDEyOCA6IGlzVGVsZXBvcnQodHlwZSkgPyA2NCA6IGlzT2JqZWN0KHR5cGUpID8gNCA6IGlzRnVuY3Rpb24odHlwZSkgPyAyIDogMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2hhcGVGbGFnICYgNCAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xuICAgIHdhcm4kMShcbiAgICAgIGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgdGhhdCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsXG4gICAgICBgXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCxcbiAgICAgIHR5cGVcbiAgICApO1xuICB9XG4gIHJldHVybiBjcmVhdGVCYXNlVk5vZGUoXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIHNoYXBlRmxhZyxcbiAgICBpc0Jsb2NrTm9kZSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBpc0ludGVybmFsT2JqZWN0KHByb3BzKSA/IGV4dGVuZCh7fSwgcHJvcHMpIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlLCBjbG9uZVRyYW5zaXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4sIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xuICBjb25zdCBjbG9uZWQgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZTogdm5vZGUudHlwZSxcbiAgICBwcm9wczogbWVyZ2VkUHJvcHMsXG4gICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxuICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZiA/IChcbiAgICAgIC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cbiAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXG4gICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xuICAgICAgbWVyZ2VSZWYgJiYgcmVmID8gaXNBcnJheShyZWYpID8gcmVmLmNvbmNhdChub3JtYWxpemVSZWYoZXh0cmFQcm9wcykpIDogW3JlZiwgbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXSA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxuICAgICkgOiByZWYsXG4gICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcbiAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICBjaGlsZHJlbjogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBwYXRjaEZsYWcgPT09IC0xICYmIGlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKSA6IGNoaWxkcmVuLFxuICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxuICAgIHRhcmdldFN0YXJ0OiB2bm9kZS50YXJnZXRTdGFydCxcbiAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50ID8gcGF0Y2hGbGFnID09PSAtMSA/IDE2IDogcGF0Y2hGbGFnIHwgMTYgOiBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgIHRyYW5zaXRpb24sXG4gICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgcGxhY2Vob2xkZXI6IHZub2RlLnBsYWNlaG9sZGVyLFxuICAgIGVsOiB2bm9kZS5lbCxcbiAgICBhbmNob3I6IHZub2RlLmFuY2hvcixcbiAgICBjdHg6IHZub2RlLmN0eCxcbiAgICBjZTogdm5vZGUuY2VcbiAgfTtcbiAgaWYgKHRyYW5zaXRpb24gJiYgY2xvbmVUcmFuc2l0aW9uKSB7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgY2xvbmVkLFxuICAgICAgdHJhbnNpdGlvbi5jbG9uZShjbG9uZWQpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xuICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gXCIgXCIsIGZsYWcgPSAwKSB7XG4gIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gXCJcIiwgYXNCbG9jayA9IGZhbHNlKSB7XG4gIHJldHVybiBhc0Jsb2NrID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSkgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XG4gIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcbiAgICAgIGNoaWxkLnNsaWNlKClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XG4gIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCAmJiBjaGlsZC5wYXRjaEZsYWcgIT09IC0xIHx8IGNoaWxkLm1lbW8gPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gIGxldCB0eXBlID0gMDtcbiAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIHR5cGUgPSAxNjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2NCkpIHtcbiAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xuICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDMyO1xuICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xuICAgICAgaWYgKCFzbG90RmxhZyAmJiAhaXNJbnRlcm5hbE9iamVjdChjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSkge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAyO1xuICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICB0eXBlID0gMzI7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZSA9IDE2O1xuICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSA4O1xuICAgIH1cbiAgfVxuICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgIGlmIChpbmNvbWluZyAmJiBleGlzdGluZyAhPT0gaW5jb21pbmcgJiYgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpIDogaW5jb21pbmc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBcIlwiKSB7XG4gICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNywgW1xuICAgIHZub2RlLFxuICAgIHByZXZWTm9kZVxuICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgdWlkOiB1aWQrKyxcbiAgICB2bm9kZSxcbiAgICB0eXBlLFxuICAgIHBhcmVudCxcbiAgICBhcHBDb250ZXh0LFxuICAgIHJvb3Q6IG51bGwsXG4gICAgLy8gdG8gYmUgaW1tZWRpYXRlbHkgc2V0XG4gICAgbmV4dDogbnVsbCxcbiAgICBzdWJUcmVlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBlZmZlY3Q6IG51bGwsXG4gICAgdXBkYXRlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBqb2I6IG51bGwsXG4gICAgc2NvcGU6IG5ldyBFZmZlY3RTY29wZShcbiAgICAgIHRydWVcbiAgICAgIC8qIGRldGFjaGVkICovXG4gICAgKSxcbiAgICByZW5kZXI6IG51bGwsXG4gICAgcHJveHk6IG51bGwsXG4gICAgZXhwb3NlZDogbnVsbCxcbiAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICB3aXRoUHJveHk6IG51bGwsXG4gICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXG4gICAgaWRzOiBwYXJlbnQgPyBwYXJlbnQuaWRzIDogW1wiXCIsIDAsIDBdLFxuICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxuICAgIHJlbmRlckNhY2hlOiBbXSxcbiAgICAvLyBsb2NhbCByZXNvbHZlZCBhc3NldHNcbiAgICBjb21wb25lbnRzOiBudWxsLFxuICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcbiAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAvLyBlbWl0XG4gICAgZW1pdDogbnVsbCxcbiAgICAvLyB0byBiZSBzZXQgaW1tZWRpYXRlbHlcbiAgICBlbWl0dGVkOiBudWxsLFxuICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcbiAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXG4gICAgLy8gaW5oZXJpdEF0dHJzXG4gICAgaW5oZXJpdEF0dHJzOiB0eXBlLmluaGVyaXRBdHRycyxcbiAgICAvLyBzdGF0ZVxuICAgIGN0eDogRU1QVFlfT0JKLFxuICAgIGRhdGE6IEVNUFRZX09CSixcbiAgICBwcm9wczogRU1QVFlfT0JKLFxuICAgIGF0dHJzOiBFTVBUWV9PQkosXG4gICAgc2xvdHM6IEVNUFRZX09CSixcbiAgICByZWZzOiBFTVBUWV9PQkosXG4gICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxuICAgIHNldHVwQ29udGV4dDogbnVsbCxcbiAgICAvLyBzdXNwZW5zZSByZWxhdGVkXG4gICAgc3VzcGVuc2UsXG4gICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxuICAgIGFzeW5jRGVwOiBudWxsLFxuICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIC8vIGxpZmVjeWNsZSBob29rc1xuICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXG4gICAgYmM6IG51bGwsXG4gICAgYzogbnVsbCxcbiAgICBibTogbnVsbCxcbiAgICBtOiBudWxsLFxuICAgIGJ1OiBudWxsLFxuICAgIHU6IG51bGwsXG4gICAgdW06IG51bGwsXG4gICAgYnVtOiBudWxsLFxuICAgIGRhOiBudWxsLFxuICAgIGE6IG51bGwsXG4gICAgcnRnOiBudWxsLFxuICAgIHJ0YzogbnVsbCxcbiAgICBlYzogbnVsbCxcbiAgICBzcDogbnVsbFxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcbiAgfVxuICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcbiAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gIGlmICh2bm9kZS5jZSkge1xuICAgIHZub2RlLmNlKGluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5sZXQgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG5sZXQgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2U7XG5sZXQgc2V0SW5TU1JTZXR1cFN0YXRlO1xue1xuICBjb25zdCBnID0gZ2V0R2xvYmFsVGhpcygpO1xuICBjb25zdCByZWdpc3Rlckdsb2JhbFNldHRlciA9IChrZXksIHNldHRlcikgPT4ge1xuICAgIGxldCBzZXR0ZXJzO1xuICAgIGlmICghKHNldHRlcnMgPSBnW2tleV0pKSBzZXR0ZXJzID0gZ1trZXldID0gW107XG4gICAgc2V0dGVycy5wdXNoKHNldHRlcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICBpZiAoc2V0dGVycy5sZW5ndGggPiAxKSBzZXR0ZXJzLmZvckVhY2goKHNldCkgPT4gc2V0KHYpKTtcbiAgICAgIGVsc2Ugc2V0dGVyc1swXSh2KTtcbiAgICB9O1xuICB9O1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9JTlNUQU5DRV9TRVRURVJTX19gLFxuICAgICh2KSA9PiBjdXJyZW50SW5zdGFuY2UgPSB2XG4gICk7XG4gIHNldEluU1NSU2V0dXBTdGF0ZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9TU1JfU0VUVEVSU19fYCxcbiAgICAodikgPT4gaXNJblNTUkNvbXBvbmVudFNldHVwID0gdlxuICApO1xufVxuY29uc3Qgc2V0Q3VycmVudEluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShwcmV2KTtcbiAgfTtcbn07XG5jb25zdCB1bnNldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IHtcbiAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XG59O1xuY29uc3QgaXNCdWlsdEluVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXCJzbG90LGNvbXBvbmVudFwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCB7IGlzTmF0aXZlVGFnIH0pIHtcbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBpc05hdGl2ZVRhZyhuYW1lKSkge1xuICAgIHdhcm4kMShcbiAgICAgIFwiRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogXCIgKyBuYW1lXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNDtcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkge1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoaXNTU1IpO1xuICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XG4gIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xuICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQgfHwgaXNTU1IpO1xuICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWwgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikgOiB2b2lkIDA7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShmYWxzZSk7XG4gIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaWYgKENvbXBvbmVudC5uYW1lKSB7XG4gICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuZGlyZWN0aXZlcykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgXCJjb21waWxlck9wdGlvbnNcIiBpcyBvbmx5IHN1cHBvcnRlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIuIFNpbmNlIHlvdSBhcmUgdXNpbmcgYSBydW50aW1lLW9ubHkgYnVpbGQsIHRoZSBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHlvdXIgYnVpbGQgdG9vbCBjb25maWcgaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpbnN0YW5jZS5wcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9XG4gIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcbiAgaWYgKHNldHVwKSB7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IGluc3RhbmNlLnNldHVwQ29udGV4dCA9IHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBzZXR1cCxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMCxcbiAgICAgIFtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc2V0dXBDb250ZXh0XG4gICAgICBdXG4gICAgKTtcbiAgICBjb25zdCBpc0FzeW5jU2V0dXAgPSBpc1Byb21pc2Uoc2V0dXBSZXN1bHQpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICByZXNldCgpO1xuICAgIGlmICgoaXNBc3luY1NldHVwIHx8IGluc3RhbmNlLnNwKSAmJiAhaXNBc3luY1dyYXBwZXIoaW5zdGFuY2UpKSB7XG4gICAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChpc0FzeW5jU2V0dXApIHtcbiAgICAgIHNldHVwUmVzdWx0LnRoZW4odW5zZXRDdXJyZW50SW5zdGFuY2UsIHVuc2V0Q3VycmVudEluc3RhbmNlKTtcbiAgICAgIGlmIChpc1NTUikge1xuICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHQudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcbiAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWluc3RhbmNlLnN1c3BlbnNlKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCk7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCA8JHtuYW1lfT46IHNldHVwIGZ1bmN0aW9uIHJldHVybmVkIGEgcHJvbWlzZSwgYnV0IG5vIDxTdXNwZW5zZT4gYm91bmRhcnkgd2FzIGZvdW5kIGluIHRoZSBwYXJlbnQgY29tcG9uZW50IHRyZWUuIEEgY29tcG9uZW50IHdpdGggYXN5bmMgc2V0dXAoKSBtdXN0IGJlIG5lc3RlZCBpbiBhIDxTdXNwZW5zZT4gaW4gb3JkZXIgdG8gYmUgcmVuZGVyZWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19zc3JJbmxpbmVSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnNzclJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICB3YXJuJDEoXG4gICAgICBgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gXG4gICAgKTtcbiAgfVxuICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xufVxubGV0IGNvbXBpbGU7XG5sZXQgaW5zdGFsbFdpdGhQcm94eTtcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gIGNvbXBpbGUgPSBfY29tcGlsZTtcbiAgaW5zdGFsbFdpdGhQcm94eSA9IChpKSA9PiB7XG4gICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgIGlmICghaXNTU1IgJiYgY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBDb21wb25lbnQudGVtcGxhdGUgfHwgX19WVUVfT1BUSU9OU19BUElfXyAmJiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcbiAgICAgICAgY29uc3QgZmluYWxDb21waWxlck9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQsXG4gICAgICAgICAgICAgIGRlbGltaXRlcnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbXBvbmVudENvbXBpbGVyT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyID0gQ29tcG9uZW50LnJlbmRlciB8fCBOT09QO1xuICAgIGlmIChpbnN0YWxsV2l0aFByb3h5KSB7XG4gICAgICBpbnN0YWxsV2l0aFByb3h5KGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgdHJ1ZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgdHJ5IHtcbiAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb246IGAsIENvbXBvbmVudCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBhdHRyc1Byb3h5SGFuZGxlcnMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9LFxuICBzZXQoKSB7XG4gICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0gOiB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0U2xvdHNQcm94eShpbnN0YW5jZSkge1xuICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLnNsb3RzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCBleHBvc2UgPSAoZXhwb3NlZCkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgfVxuICAgICAgaWYgKGV4cG9zZWQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgZXhwb3NlZFR5cGUgPSB0eXBlb2YgZXhwb3NlZDtcbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWYoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJyZWZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGV4cG9zZSgpIHNob3VsZCBiZSBwYXNzZWQgYSBwbGFpbiBvYmplY3QsIHJlY2VpdmVkICR7ZXhwb3NlZFR5cGV9LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGxldCBhdHRyc1Byb3h5O1xuICAgIGxldCBzbG90c1Byb3h5O1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzUHJveHkgfHwgKGF0dHJzUHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycykpO1xuICAgICAgfSxcbiAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgcmV0dXJuIHNsb3RzUHJveHkgfHwgKHNsb3RzUHJveHkgPSBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICB9LFxuICAgICAgZ2V0IGVtaXQoKSB7XG4gICAgICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IGluc3RhbmNlLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGV4cG9zZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRyczogbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpLFxuICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgIGV4cG9zZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmV4cG9zZVByb3h5IHx8IChpbnN0YW5jZS5leHBvc2VQcm94eSA9IG5ldyBQcm94eShwcm94eVJlZnMobWFya1JhdyhpbnN0YW5jZS5leHBvc2VkKSksIHtcbiAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgaW4gcHVibGljUHJvcGVydGllc01hcCkge1xuICAgICAgICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gIH1cbn1cbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKVxcdy9nO1xuY29uc3QgY2xhc3NpZnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZShjbGFzc2lmeVJFLCAoYykgPT4gYy50b1VwcGVyQ2FzZSgpKS5yZXBsYWNlKC9bLV9dL2csIFwiXCIpO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQsIGluY2x1ZGVJbmZlcnJlZCA9IHRydWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KSA/IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSA6IENvbXBvbmVudC5uYW1lIHx8IGluY2x1ZGVJbmZlcnJlZCAmJiBDb21wb25lbnQuX19uYW1lO1xufVxuZnVuY3Rpb24gZm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgQ29tcG9uZW50LCBpc1Jvb3QgPSBmYWxzZSkge1xuICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcbiAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IENvbXBvbmVudC5fX2ZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwuXFx3KyQvKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIG5hbWUgPSBtYXRjaFsxXTtcbiAgICB9XG4gIH1cbiAgaWYgKCFuYW1lICYmIGluc3RhbmNlKSB7XG4gICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBuYW1lID0gaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuY29tcG9uZW50cykgfHwgaW5zdGFuY2UucGFyZW50ICYmIGluZmVyRnJvbVJlZ2lzdHJ5KFxuICAgICAgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIHRyeSB7XG4gICAgc2V0QmxvY2tUcmFja2luZygtMSk7XG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGwgPT09IDIpIHtcbiAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGwgPiAzKSB7XG4gICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgIH0gZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMzYmE3NzZcIiB9O1xuICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzE2NzdmZlwiIH07XG4gIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZjUyMjJkXCIgfTtcbiAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZWIyZjk2XCIgfTtcbiAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgIF9fdnVlX2N1c3RvbV9mb3JtYXR0ZXI6IHRydWUsXG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmoudmFsdWU7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUodmFsdWUpLFxuICAgICAgICAgIGA+YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhY3RpdmVcIiA6IFwiUmVhY3RpdmVcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWRvbmx5XCIgOiBcIlJlYWRvbmx5XCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgXCI+XCJcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgaGFzQm9keShvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgfSxcbiAgICBib2R5KG9iaikge1xuICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwicHJvcHNcIiwgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJzZXR1cFwiLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJkYXRhXCIsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiY29tcHV0ZWRcIik7XG4gICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiY29tcHV0ZWRcIiwgY29tcHV0ZWQpKTtcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJpbmplY3RcIik7XG4gICAgaWYgKGluamVjdGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiaW5qZWN0ZWRcIiwgaW5qZWN0ZWQpKTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHt9LFxuICAgICAgW1xuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyBcIjtvcGFjaXR5OjAuNjZcIlxuICAgICAgICB9LFxuICAgICAgICBcIiQgKGludGVybmFsKTogXCJcbiAgICAgIF0sXG4gICAgICBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgXSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCB7fV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdHlsZTogXCJsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbVwiIH0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJjb2xvcjojNDc2NTgyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcInBhZGRpbmctbGVmdDoxLjI1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCBrZXkgKyBcIjogXCJdLFxuICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgXTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIG51bWJlclN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgIHJldHVybiBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgaWYgKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpIHx8IGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZSgobSkgPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgIH1cbiAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgIH1cbiAgICByZXR1cm4gYFJlZmA7XG4gIH1cbiAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICByZXQuY2FjaGVJbmRleCA9IGluZGV4O1xuICByZXR1cm4gY2FjaGVbaW5kZXhdID0gcmV0O1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgdmVyc2lvbiA9IFwiMy41LjI1XCI7XG5jb25zdCB3YXJuID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHdhcm4kMSA6IE5PT1A7XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0gRXJyb3JUeXBlU3RyaW5ncyQxIDtcbmNvbnN0IGRldnRvb2xzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gZGV2dG9vbHMkMSA6IHZvaWQgMDtcbmNvbnN0IHNldERldnRvb2xzSG9vayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IHNldERldnRvb2xzSG9vayQxIDogTk9PUDtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gIHNldHVwQ29tcG9uZW50LFxuICByZW5kZXJDb21wb25lbnRSb290LFxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIG5vcm1hbGl6ZVZOb2RlLFxuICBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSxcbiAgZW5zdXJlVmFsaWRWTm9kZSxcbiAgcHVzaFdhcm5pbmdDb250ZXh0LFxuICBwb3BXYXJuaW5nQ29udGV4dFxufTtcbmNvbnN0IHNzclV0aWxzID0gX3NzclV0aWxzIDtcbmNvbnN0IHJlc29sdmVGaWx0ZXIgPSBudWxsO1xuY29uc3QgY29tcGF0VXRpbHMgPSBudWxsO1xuY29uc3QgRGVwcmVjYXRpb25UeXBlcyA9IG51bGw7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgQ29tbWVudCwgRGVwcmVjYXRpb25UeXBlcywgRXJyb3JDb2RlcywgRXJyb3JUeXBlU3RyaW5ncywgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGFzc2VydE51bWJlciwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lTW9kZWwsIGRlZmluZU9wdGlvbnMsIGRlZmluZVByb3BzLCBkZWZpbmVTbG90cywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoYXNJbmplY3Rpb25Db250ZXh0LCBoeWRyYXRlT25JZGxlLCBoeWRyYXRlT25JbnRlcmFjdGlvbiwgaHlkcmF0ZU9uTWVkaWFRdWVyeSwgaHlkcmF0ZU9uVmlzaWJsZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZUlkLCB1c2VNb2RlbCwgdXNlU1NSQ29udGV4dCwgdXNlU2xvdHMsIHVzZVRlbXBsYXRlUmVmLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhNZW1vLCB3aXRoU2NvcGVJZCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1kb20gdjMuNS4yNVxuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgd2FybiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIGgsIEJhc2VUcmFuc2l0aW9uLCBhc3NlcnROdW1iZXIsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25CZWZvcmVVcGRhdGUsIHF1ZXVlUG9zdEZsdXNoQ2IsIG9uTW91bnRlZCwgd2F0Y2gsIG9uVW5tb3VudGVkLCBGcmFnbWVudCwgU3RhdGljLCBjYW1lbGl6ZSwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGRlZmluZUNvbXBvbmVudCwgbmV4dFRpY2ssIHVucmVmLCBjcmVhdGVWTm9kZSwgdXNlVHJhbnNpdGlvblN0YXRlLCBvblVwZGF0ZWQsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgVGV4dCwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBpc1J1bnRpbWVPbmx5IH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGlzQXJyYXksIE5PT1AsIG5vcm1hbGl6ZUNzc1ZhclZhbHVlLCBpc1N0cmluZywgaHlwaGVuYXRlLCBjYXBpdGFsaXplLCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc1N5bWJvbCwgaXNGdW5jdGlvbiwgaXNPbiwgaXNNb2RlbExpc3RlbmVyLCBjYW1lbGl6ZSBhcyBjYW1lbGl6ZSQxLCBpc1BsYWluT2JqZWN0LCBoYXNPd24sIEVNUFRZX09CSiwgbG9vc2VUb051bWJlciwgbG9vc2VJbmRleE9mLCBpc1NldCwgbG9vc2VFcXVhbCwgaW52b2tlQXJyYXlGbnMsIGlzSFRNTFRhZywgaXNTVkdUYWcsIGlzTWF0aE1MVGFnIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5sZXQgcG9saWN5ID0gdm9pZCAwO1xuY29uc3QgdHQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy50cnVzdGVkVHlwZXM7XG5pZiAodHQpIHtcbiAgdHJ5IHtcbiAgICBwb2xpY3kgPSAvKiBAX19QVVJFX18gKi8gdHQuY3JlYXRlUG9saWN5KFwidnVlXCIsIHtcbiAgICAgIGNyZWF0ZUhUTUw6ICh2YWwpID0+IHZhbFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBFcnJvciBjcmVhdGluZyB0cnVzdGVkIHR5cGVzIHBvbGljeTogJHtlfWApO1xuICB9XG59XG5jb25zdCB1bnNhZmVUb1RydXN0ZWRIVE1MID0gcG9saWN5ID8gKHZhbCkgPT4gcG9saWN5LmNyZWF0ZUhUTUwodmFsKSA6ICh2YWwpID0+IHZhbDtcbmNvbnN0IHN2Z05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgbWF0aG1sTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIjtcbmNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogbnVsbDtcbmNvbnN0IHRlbXBsYXRlQ29udGFpbmVyID0gZG9jICYmIC8qIEBfX1BVUkVfXyAqLyBkb2MuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuY29uc3Qgbm9kZU9wcyA9IHtcbiAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xuICB9LFxuICByZW1vdmU6IChjaGlsZCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIG5hbWVzcGFjZSwgaXMsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWcpIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhtYXRobWxOUywgdGFnKSA6IGlzID8gZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCB7IGlzIH0pIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBpZiAodGFnID09PSBcInNlbGVjdFwiICYmIHByb3BzICYmIHByb3BzLm11bHRpcGxlICE9IG51bGwpIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIHByb3BzLm11bHRpcGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBjcmVhdGVUZXh0OiAodGV4dCkgPT4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLFxuICBjcmVhdGVDb21tZW50OiAodGV4dCkgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXG4gIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XG4gICAgbm9kZS5ub2RlVmFsdWUgPSB0ZXh0O1xuICB9LFxuICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XG4gICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9LFxuICBwYXJlbnROb2RlOiAobm9kZSkgPT4gbm9kZS5wYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogKG5vZGUpID0+IG5vZGUubmV4dFNpYmxpbmcsXG4gIHF1ZXJ5U2VsZWN0b3I6IChzZWxlY3RvcikgPT4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxuICBzZXRTY29wZUlkKGVsLCBpZCkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gIH0sXG4gIC8vIF9fVU5TQUZFX19cbiAgLy8gUmVhc29uOiBpbm5lckhUTUwuXG4gIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgLy8gQXMgbG9uZyBhcyB0aGUgdXNlciBvbmx5IHVzZXMgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHRoaXMgaXMgc2FmZS5cbiAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgbmFtZXNwYWNlLCBzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XG4gICAgaWYgKHN0YXJ0ICYmIChzdGFydCA9PT0gZW5kIHx8IHN0YXJ0Lm5leHRTaWJsaW5nKSkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzdGFydC5jbG9uZU5vZGUodHJ1ZSksIGFuY2hvcik7XG4gICAgICAgIGlmIChzdGFydCA9PT0gZW5kIHx8ICEoc3RhcnQgPSBzdGFydC5uZXh0U2libGluZykpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wbGF0ZUNvbnRhaW5lci5pbm5lckhUTUwgPSB1bnNhZmVUb1RydXN0ZWRIVE1MKFxuICAgICAgICBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBgPHN2Zz4ke2NvbnRlbnR9PC9zdmc+YCA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGA8bWF0aD4ke2NvbnRlbnR9PC9tYXRoPmAgOiBjb250ZW50XG4gICAgICApO1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNvbnRhaW5lci5jb250ZW50O1xuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJzdmdcIiB8fCBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRlbXBsYXRlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlLnJlbW92ZUNoaWxkKHdyYXBwZXIpO1xuICAgICAgfVxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0ZW1wbGF0ZSwgYW5jaG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIGZpcnN0XG4gICAgICBiZWZvcmUgPyBiZWZvcmUubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCxcbiAgICAgIC8vIGxhc3RcbiAgICAgIGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkXG4gICAgXTtcbiAgfVxufTtcblxuY29uc3QgVFJBTlNJVElPTiA9IFwidHJhbnNpdGlvblwiO1xuY29uc3QgQU5JTUFUSU9OID0gXCJhbmltYXRpb25cIjtcbmNvbnN0IHZ0Y0tleSA9IFN5bWJvbChcIl92dGNcIik7XG5jb25zdCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBuYW1lOiBTdHJpbmcsXG4gIHR5cGU6IFN0cmluZyxcbiAgY3NzOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXG4gIGVudGVyRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gIGFwcGVhckZyb21DbGFzczogU3RyaW5nLFxuICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXG4gIGxlYXZlRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcbn07XG5jb25zdCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZChcbiAge30sXG4gIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLFxuICBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzXG4pO1xuY29uc3QgZGVjb3JhdGUkMSA9ICh0KSA9PiB7XG4gIHQuZGlzcGxheU5hbWUgPSBcIlRyYW5zaXRpb25cIjtcbiAgdC5wcm9wcyA9IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnM7XG4gIHJldHVybiB0O1xufTtcbmNvbnN0IFRyYW5zaXRpb24gPSAvKiBAX19QVVJFX18gKi8gZGVjb3JhdGUkMShcbiAgKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cylcbik7XG5jb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzID0gW10pID0+IHtcbiAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICBob29rLmZvckVhY2goKGgyKSA9PiBoMiguLi5hcmdzKSk7XG4gIH0gZWxzZSBpZiAoaG9vaykge1xuICAgIGhvb2soLi4uYXJncyk7XG4gIH1cbn07XG5jb25zdCBoYXNFeHBsaWNpdENhbGxiYWNrID0gKGhvb2spID0+IHtcbiAgcmV0dXJuIGhvb2sgPyBpc0FycmF5KGhvb2spID8gaG9vay5zb21lKChoMikgPT4gaDIubGVuZ3RoID4gMSkgOiBob29rLmxlbmd0aCA+IDEgOiBmYWxzZTtcbn07XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKSB7XG4gIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xuICAgIGlmICghKGtleSBpbiBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSkge1xuICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xuICAgIH1cbiAgfVxuICBpZiAocmF3UHJvcHMuY3NzID09PSBmYWxzZSkge1xuICAgIHJldHVybiBiYXNlUHJvcHM7XG4gIH1cbiAgY29uc3Qge1xuICAgIG5hbWUgPSBcInZcIixcbiAgICB0eXBlLFxuICAgIGR1cmF0aW9uLFxuICAgIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsXG4gICAgZW50ZXJBY3RpdmVDbGFzcyA9IGAke25hbWV9LWVudGVyLWFjdGl2ZWAsXG4gICAgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLFxuICAgIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLFxuICAgIGFwcGVhckFjdGl2ZUNsYXNzID0gZW50ZXJBY3RpdmVDbGFzcyxcbiAgICBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLFxuICAgIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsXG4gICAgbGVhdmVBY3RpdmVDbGFzcyA9IGAke25hbWV9LWxlYXZlLWFjdGl2ZWAsXG4gICAgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gXG4gIH0gPSByYXdQcm9wcztcbiAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xuICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcbiAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XG4gIGNvbnN0IHtcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLFxuICAgIG9uQXBwZWFyID0gb25FbnRlcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWRcbiAgfSA9IGJhc2VQcm9wcztcbiAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lLCBpc0NhbmNlbGxlZCkgPT4ge1xuICAgIGVsLl9lbnRlckNhbmNlbGxlZCA9IGlzQ2FuY2VsbGVkO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICBkb25lICYmIGRvbmUoKTtcbiAgfTtcbiAgY29uc3QgZmluaXNoTGVhdmUgPSAoZWwsIGRvbmUpID0+IHtcbiAgICBlbC5faXNMZWF2aW5nID0gZmFsc2U7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcbiAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XG4gICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XG4gICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcbiAgICAgIGNhbGxIb29rKGhvb2ssIFtlbCwgcmVzb2x2ZV0pO1xuICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckZyb21DbGFzcyA6IGVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2soaG9vaykpIHtcbiAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGVudGVyRHVyYXRpb24sIHJlc29sdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xuICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlRW50ZXIsIFtlbF0pO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgIH0sXG4gICAgb25CZWZvcmVBcHBlYXIoZWwpIHtcbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlQXBwZWFyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xuICAgIH0sXG4gICAgb25FbnRlcjogbWFrZUVudGVySG9vayhmYWxzZSksXG4gICAgb25BcHBlYXI6IG1ha2VFbnRlckhvb2sodHJ1ZSksXG4gICAgb25MZWF2ZShlbCwgZG9uZSkge1xuICAgICAgZWwuX2lzTGVhdmluZyA9IHRydWU7XG4gICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICBpZiAoIWVsLl9lbnRlckNhbmNlbGxlZCkge1xuICAgICAgICBmb3JjZVJlZmxvdyhlbCk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgICBmb3JjZVJlZmxvdyhlbCk7XG4gICAgICB9XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICB9LFxuICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlLCB2b2lkIDAsIHRydWUpO1xuICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gW24sIG5dO1xuICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIocmVzLCBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgKGVsW3Z0Y0tleV0gfHwgKGVsW3Z0Y0tleV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICBlbFt2dGNLZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICBjb25zdCBpZCA9IGVsLl9lbmRJZCA9ICsrZW5kSWQ7XG4gIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXhwbGljaXRUaW1lb3V0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgfVxuICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiByZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgXCJlbmRcIjtcbiAgbGV0IGVuZGVkID0gMDtcbiAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfSwgdGltZW91dCArIDEpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8IFwiXCIpLnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0aW1lb3V0ID0gMDtcbiAgbGV0IHByb3BDb3VudCA9IDA7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQgPyBUUkFOU0lUSU9OIDogQU5JTUFUSU9OIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlID8gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aCA6IDA7XG4gIH1cbiAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiAvXFxiKD86dHJhbnNmb3JtfGFsbCkoPzosfCQpLy50ZXN0KFxuICAgIGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKVxuICApO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdGltZW91dCxcbiAgICBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtXG4gIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuZnVuY3Rpb24gdG9NcyhzKSB7XG4gIGlmIChzID09PSBcImF1dG9cIikgcmV0dXJuIDA7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZShcIixcIiwgXCIuXCIpKSAqIDFlMztcbn1cbmZ1bmN0aW9uIGZvcmNlUmVmbG93KGVsKSB7XG4gIGNvbnN0IHRhcmdldERvY3VtZW50ID0gZWwgPyBlbC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gIHJldHVybiB0YXJnZXREb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWxbdnRjS2V5XTtcbiAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gIH0gZWxzZSBpZiAoaXNTVkcpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdlNob3dPcmlnaW5hbERpc3BsYXkgPSBTeW1ib2woXCJfdm9kXCIpO1xuY29uc3QgdlNob3dIaWRkZW4gPSBTeW1ib2woXCJfdnNoXCIpO1xuY29uc3QgdlNob3cgPSB7XG4gIC8vIHVzZWQgZm9yIHByb3AgbWlzbWF0Y2ggY2hlY2sgZHVyaW5nIGh5ZHJhdGlvblxuICBuYW1lOiBcInNob3dcIixcbiAgYmVmb3JlTW91bnQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gPSBlbC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XG4gICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XG4gICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKSByZXR1cm47XG4gICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XG4gICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgIHNldERpc3BsYXkoZWwsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZVVubW91bnQoZWwsIHsgdmFsdWUgfSkge1xuICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA6IFwibm9uZVwiO1xuICBlbFt2U2hvd0hpZGRlbl0gPSAhdmFsdWU7XG59XG5mdW5jdGlvbiBpbml0VlNob3dGb3JTU1IoKSB7XG4gIHZTaG93LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB7IHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IENTU19WQVJfVEVYVCA9IFN5bWJvbCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJDU1NfVkFSX1RFWFRcIiA6IFwiXCIpO1xuZnVuY3Rpb24gdXNlQ3NzVmFycyhnZXR0ZXIpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHVwZGF0ZVRlbGVwb3J0cyA9IGluc3RhbmNlLnV0ID0gKHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKSA9PiB7XG4gICAgQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXYtb3duZXI9XCIke2luc3RhbmNlLnVpZH1cIl1gKVxuICAgICkuZm9yRWFjaCgobm9kZSkgPT4gc2V0VmFyc09uTm9kZShub2RlLCB2YXJzKSk7XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuZ2V0Q3NzVmFycyA9ICgpID0+IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gIH1cbiAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHtcbiAgICBjb25zdCB2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgICBpZiAoaW5zdGFuY2UuY2UpIHtcbiAgICAgIHNldFZhcnNPbk5vZGUoaW5zdGFuY2UuY2UsIHZhcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCB2YXJzKTtcbiAgICB9XG4gICAgdXBkYXRlVGVsZXBvcnRzKHZhcnMpO1xuICB9O1xuICBvbkJlZm9yZVVwZGF0ZSgoKSA9PiB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihzZXRWYXJzKTtcbiAgfSk7XG4gIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgd2F0Y2goc2V0VmFycywgTk9PUCwgeyBmbHVzaDogXCJwb3N0XCIgfSk7XG4gICAgY29uc3Qgb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihzZXRWYXJzKTtcbiAgICBvYi5vYnNlcnZlKGluc3RhbmNlLnN1YlRyZWUuZWwucGFyZW50Tm9kZSwgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG4gICAgb25Vbm1vdW50ZWQoKCkgPT4gb2IuZGlzY29ubmVjdCgpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBzZXRWYXJzT25WTm9kZSh2bm9kZSwgdmFycykge1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcbiAgICB2bm9kZSA9IHN1c3BlbnNlLmFjdGl2ZUJyYW5jaDtcbiAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCgoKSA9PiB7XG4gICAgICAgIHNldFZhcnNPblZOb2RlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgdmFycyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XG4gIH1cbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgJiYgdm5vZGUuZWwpIHtcbiAgICBzZXRWYXJzT25Ob2RlKHZub2RlLmVsLCB2YXJzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS50eXBlID09PSBGcmFnbWVudCkge1xuICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGMpID0+IHNldFZhcnNPblZOb2RlKGMsIHZhcnMpKTtcbiAgfSBlbHNlIGlmICh2bm9kZS50eXBlID09PSBTdGF0aWMpIHtcbiAgICBsZXQgeyBlbCwgYW5jaG9yIH0gPSB2bm9kZTtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpO1xuICAgICAgaWYgKGVsID09PSBhbmNob3IpIGJyZWFrO1xuICAgICAgZWwgPSBlbC5uZXh0U2libGluZztcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpIHtcbiAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICBsZXQgY3NzVGV4dCA9IFwiXCI7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemVDc3NWYXJWYWx1ZSh2YXJzW2tleV0pO1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFsdWUpO1xuICAgICAgY3NzVGV4dCArPSBgLS0ke2tleX06ICR7dmFsdWV9O2A7XG4gICAgfVxuICAgIHN0eWxlW0NTU19WQVJfVEVYVF0gPSBjc3NUZXh0O1xuICB9XG59XG5cbmNvbnN0IGRpc3BsYXlSRSA9IC8oPzpefDspXFxzKmRpc3BsYXlcXHMqOi87XG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XG4gIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gIGNvbnN0IGlzQ3NzU3RyaW5nID0gaXNTdHJpbmcobmV4dCk7XG4gIGxldCBoYXNDb250cm9sbGVkRGlzcGxheSA9IGZhbHNlO1xuICBpZiAobmV4dCAmJiAhaXNDc3NTdHJpbmcpIHtcbiAgICBpZiAocHJldikge1xuICAgICAgaWYgKCFpc1N0cmluZyhwcmV2KSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcmV2KSB7XG4gICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJldlN0eWxlIG9mIHByZXYuc3BsaXQoXCI7XCIpKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gcHJldlN0eWxlLnNsaWNlKDAsIHByZXZTdHlsZS5pbmRleE9mKFwiOlwiKSkudHJpbSgpO1xuICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiZGlzcGxheVwiKSB7XG4gICAgICAgIGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIG5leHRba2V5XSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0Nzc1N0cmluZykge1xuICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcbiAgICAgICAgY29uc3QgY3NzVmFyVGV4dCA9IHN0eWxlW0NTU19WQVJfVEVYVF07XG4gICAgICAgIGlmIChjc3NWYXJUZXh0KSB7XG4gICAgICAgICAgbmV4dCArPSBcIjtcIiArIGNzc1ZhclRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XG4gICAgICAgIGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gZGlzcGxheVJFLnRlc3QobmV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcmV2KSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZTaG93T3JpZ2luYWxEaXNwbGF5IGluIGVsKSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gaGFzQ29udHJvbGxlZERpc3BsYXkgPyBzdHlsZS5kaXNwbGF5IDogXCJcIjtcbiAgICBpZiAoZWxbdlNob3dIaWRkZW5dKSB7XG4gICAgICBzdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9XG59XG5jb25zdCBzZW1pY29sb25SRSA9IC9bXlxcXFxdO1xccyokLztcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdmFsKSB7XG4gIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICB2YWwuZm9yRWFjaCgodikgPT4gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHYpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsID09IG51bGwpIHZhbCA9IFwiXCI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChzZW1pY29sb25SRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVW5leHBlY3RlZCBzZW1pY29sb24gYXQgdGhlIGVuZCBvZiAnJHtuYW1lfScgc3R5bGUgdmFsdWU6ICcke3ZhbH0nYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKFwiLS1cIikpIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZWZpeGVkID0gYXV0b1ByZWZpeChzdHlsZSwgbmFtZSk7XG4gICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgIGh5cGhlbmF0ZShwcmVmaXhlZCksXG4gICAgICAgICAgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsIFwiXCIpLFxuICAgICAgICAgIFwiaW1wb3J0YW50XCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlW3ByZWZpeGVkXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNvbnN0IHByZWZpeGVzID0gW1wiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIl07XG5jb25zdCBwcmVmaXhDYWNoZSA9IHt9O1xuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xuICBjb25zdCBjYWNoZWQgPSBwcmVmaXhDYWNoZVtyYXdOYW1lXTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgbGV0IG5hbWUgPSBjYW1lbGl6ZShyYXdOYW1lKTtcbiAgaWYgKG5hbWUgIT09IFwiZmlsdGVyXCIgJiYgbmFtZSBpbiBzdHlsZSkge1xuICAgIHJldHVybiBwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IG5hbWU7XG4gIH1cbiAgbmFtZSA9IGNhcGl0YWxpemUobmFtZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcbiAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmF3TmFtZTtcbn1cblxuY29uc3QgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuZnVuY3Rpb24gcGF0Y2hBdHRyKGVsLCBrZXksIHZhbHVlLCBpc1NWRywgaW5zdGFuY2UsIGlzQm9vbGVhbiA9IGlzU3BlY2lhbEJvb2xlYW5BdHRyKGtleSkpIHtcbiAgaWYgKGlzU1ZHICYmIGtleS5zdGFydHNXaXRoKFwieGxpbms6XCIpKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleS5zbGljZSg2LCBrZXkubGVuZ3RoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc0Jvb2xlYW4gJiYgIWluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIGtleSxcbiAgICAgICAgaXNCb29sZWFuID8gXCJcIiA6IGlzU3ltYm9sKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBwYXJlbnRDb21wb25lbnQsIGF0dHJOYW1lKSB7XG4gIGlmIChrZXkgPT09IFwiaW5uZXJIVE1MXCIgfHwga2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgZWxba2V5XSA9IGtleSA9PT0gXCJpbm5lckhUTUxcIiA/IHVuc2FmZVRvVHJ1c3RlZEhUTUwodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0YWcgPSBlbC50YWdOYW1lO1xuICBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgdGFnICE9PSBcIlBST0dSRVNTXCIgJiYgLy8gY3VzdG9tIGVsZW1lbnRzIG1heSB1c2UgX3ZhbHVlIGludGVybmFsbHlcbiAgIXRhZy5pbmNsdWRlcyhcIi1cIikpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhZyA9PT0gXCJPUFRJT05cIiA/IGVsLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIHx8IFwiXCIgOiBlbC52YWx1ZTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAoXG4gICAgICAvLyAjMTE2NDc6IHZhbHVlIHNob3VsZCBiZSBzZXQgYXMgZW1wdHkgc3RyaW5nIGZvciBudWxsIGFuZCB1bmRlZmluZWQsXG4gICAgICAvLyBidXQgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPiBzaG91bGQgYmUgc2V0IGFzICdvbicuXG4gICAgICBlbC50eXBlID09PSBcImNoZWNrYm94XCIgPyBcIm9uXCIgOiBcIlwiXG4gICAgKSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSB8fCAhKFwiX3ZhbHVlXCIgaW4gZWwpKSB7XG4gICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfVxuICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbmVlZFJlbW92ZSA9IGZhbHNlO1xuICBpZiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcbiAgICBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHZhbHVlID0gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICB2YWx1ZSA9IDA7XG4gICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBlbFtrZXldID0gdmFsdWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhbmVlZFJlbW92ZSkge1xuICAgICAgd2FybihcbiAgICAgICAgYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHt0YWcudG9Mb3dlckNhc2UoKX0+OiB2YWx1ZSAke3ZhbHVlfSBpcyBpbnZhbGlkLmAsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIG5lZWRSZW1vdmUgJiYgZWwucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lIHx8IGtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5jb25zdCB2ZWlLZXkgPSBTeW1ib2woXCJfdmVpXCIpO1xuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICBjb25zdCBpbnZva2VycyA9IGVsW3ZlaUtleV0gfHwgKGVsW3ZlaUtleV0gPSB7fSk7XG4gIGNvbnN0IGV4aXN0aW5nSW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdO1xuICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xuICAgIGV4aXN0aW5nSW52b2tlci52YWx1ZSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzYW5pdGl6ZUV2ZW50VmFsdWUobmV4dFZhbHVlLCByYXdOYW1lKSA6IG5leHRWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XG4gICAgaWYgKG5leHRWYWx1ZSkge1xuICAgICAgY29uc3QgaW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdID0gY3JlYXRlSW52b2tlcihcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNhbml0aXplRXZlbnRWYWx1ZShuZXh0VmFsdWUsIHJhd05hbWUpIDogbmV4dFZhbHVlLFxuICAgICAgICBpbnN0YW5jZVxuICAgICAgKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGludm9rZXIsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xuICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5jb25zdCBvcHRpb25zTW9kaWZpZXJSRSA9IC8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XG4gIGxldCBvcHRpb25zO1xuICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgICBsZXQgbTtcbiAgICB3aGlsZSAobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSB7XG4gICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcbiAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGNvbnN0IGV2ZW50ID0gbmFtZVsyXSA9PT0gXCI6XCIgPyBuYW1lLnNsaWNlKDMpIDogaHlwaGVuYXRlKG5hbWUuc2xpY2UoMikpO1xuICByZXR1cm4gW2V2ZW50LCBvcHRpb25zXTtcbn1cbmxldCBjYWNoZWROb3cgPSAwO1xuY29uc3QgcCA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKCgpID0+IGNhY2hlZE5vdyA9IDApLCBjYWNoZWROb3cgPSBEYXRlLm5vdygpKTtcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xuICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcbiAgICBpZiAoIWUuX3Z0cykge1xuICAgICAgZS5fdnRzID0gRGF0ZS5ub3coKTtcbiAgICB9IGVsc2UgaWYgKGUuX3Z0cyA8PSBpbnZva2VyLmF0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDUsXG4gICAgICBbZV1cbiAgICApO1xuICB9O1xuICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBpbnZva2VyLmF0dGFjaGVkID0gZ2V0Tm93KCk7XG4gIHJldHVybiBpbnZva2VyO1xufVxuZnVuY3Rpb24gc2FuaXRpemVFdmVudFZhbHVlKHZhbHVlLCBwcm9wTmFtZSkge1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgd2FybihcbiAgICBgV3JvbmcgdHlwZSBwYXNzZWQgYXMgZXZlbnQgaGFuZGxlciB0byAke3Byb3BOYW1lfSAtIGRpZCB5b3UgZm9yZ2V0IEAgb3IgOiBpbiBmcm9udCBvZiB5b3VyIHByb3A/XG5FeHBlY3RlZCBmdW5jdGlvbiBvciBhcnJheSBvZiBmdW5jdGlvbnMsIHJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgdmFsdWV9LmBcbiAgKTtcbiAgcmV0dXJuIE5PT1A7XG59XG5mdW5jdGlvbiBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCB2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcbiAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKGUpO1xuICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gdmFsdWUubWFwKFxuICAgICAgKGZuKSA9PiAoZTIpID0+ICFlMi5fc3RvcHBlZCAmJiBmbiAmJiBmbihlMilcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5jb25zdCBpc05hdGl2ZU9uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIGxvd2VyY2FzZSBsZXR0ZXJcbmtleS5jaGFyQ29kZUF0KDIpID4gOTYgJiYga2V5LmNoYXJDb2RlQXQoMikgPCAxMjM7XG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gIGNvbnN0IGlzU1ZHID0gbmFtZXNwYWNlID09PSBcInN2Z1wiO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBwYXRjaENsYXNzKGVsLCBuZXh0VmFsdWUsIGlzU1ZHKTtcbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICBwYXRjaEV2ZW50KGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXlbMF0gPT09IFwiLlwiID8gKGtleSA9IGtleS5zbGljZSgxKSwgdHJ1ZSkgOiBrZXlbMF0gPT09IFwiXlwiID8gKGtleSA9IGtleS5zbGljZSgxKSwgZmFsc2UpIDogc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpKSB7XG4gICAgcGF0Y2hET01Qcm9wKGVsLCBrZXksIG5leHRWYWx1ZSk7XG4gICAgaWYgKCFlbC50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKSAmJiAoa2V5ID09PSBcInZhbHVlXCIgfHwga2V5ID09PSBcImNoZWNrZWRcIiB8fCBrZXkgPT09IFwic2VsZWN0ZWRcIikpIHtcbiAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHLCBwYXJlbnRDb21wb25lbnQsIGtleSAhPT0gXCJ2YWx1ZVwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgLy8gIzExMDgxIGZvcmNlIHNldCBwcm9wcyBmb3IgcG9zc2libGUgYXN5bmMgY3VzdG9tIGVsZW1lbnRcbiAgICBlbC5faXNWdWVDRSAmJiAoL1tBLVpdLy50ZXN0KGtleSkgfHwgIWlzU3RyaW5nKG5leHRWYWx1ZSkpXG4gICkge1xuICAgIHBhdGNoRE9NUHJvcChlbCwgY2FtZWxpemUkMShrZXkpLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCwga2V5KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoa2V5ID09PSBcInRydWUtdmFsdWVcIikge1xuICAgICAgZWwuX3RydWVWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJmYWxzZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9XG4gICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpO1xuICB9XG59O1xuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xuICBpZiAoaXNTVkcpIHtcbiAgICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGtleSBpbiBlbCAmJiBpc05hdGl2ZU9uKGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJzcGVsbGNoZWNrXCIgfHwga2V5ID09PSBcImRyYWdnYWJsZVwiIHx8IGtleSA9PT0gXCJ0cmFuc2xhdGVcIiB8fCBrZXkgPT09IFwiYXV0b2NvcnJlY3RcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInNhbmRib3hcIiAmJiBlbC50YWdOYW1lID09PSBcIklGUkFNRVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwiZm9ybVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwibGlzdFwiICYmIGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInR5cGVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ3aWR0aFwiIHx8IGtleSA9PT0gXCJoZWlnaHRcIikge1xuICAgIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gXCJJTUdcIiB8fCB0YWcgPT09IFwiVklERU9cIiB8fCB0YWcgPT09IFwiQ0FOVkFTXCIgfHwgdGFnID09PSBcIlNPVVJDRVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc05hdGl2ZU9uKGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbmNvbnN0IFJFTU9WQUwgPSB7fTtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucywgX2NyZWF0ZUFwcCkge1xuICBsZXQgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zLCBleHRyYU9wdGlvbnMpO1xuICBpZiAoaXNQbGFpbk9iamVjdChDb21wKSkgQ29tcCA9IGV4dGVuZCh7fSwgQ29tcCwgZXh0cmFPcHRpb25zKTtcbiAgY2xhc3MgVnVlQ3VzdG9tRWxlbWVudCBleHRlbmRzIFZ1ZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxQcm9wcykge1xuICAgICAgc3VwZXIoQ29tcCwgaW5pdGlhbFByb3BzLCBfY3JlYXRlQXBwKTtcbiAgICB9XG4gIH1cbiAgVnVlQ3VzdG9tRWxlbWVudC5kZWYgPSBDb21wO1xuICByZXR1cm4gVnVlQ3VzdG9tRWxlbWVudDtcbn1cbmNvbnN0IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQgPSAoLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi8gKG9wdGlvbnMsIGV4dHJhT3B0aW9ucykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBjcmVhdGVTU1JBcHApO1xufSk7XG5jb25zdCBCYXNlQ2xhc3MgPSB0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBIVE1MRWxlbWVudCA6IGNsYXNzIHtcbn07XG5jbGFzcyBWdWVFbGVtZW50IGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgY29uc3RydWN0b3IoX2RlZiwgX3Byb3BzID0ge30sIF9jcmVhdGVBcHAgPSBjcmVhdGVBcHApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2RlZiA9IF9kZWY7XG4gICAgdGhpcy5fcHJvcHMgPSBfcHJvcHM7XG4gICAgdGhpcy5fY3JlYXRlQXBwID0gX2NyZWF0ZUFwcDtcbiAgICB0aGlzLl9pc1Z1ZUNFID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fYXBwID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9ub25jZSA9IHRoaXMuX2RlZi5ub25jZTtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZXNvbHZlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fc3R5bGVDaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIF9jcmVhdGVBcHAgIT09IGNyZWF0ZUFwcCkge1xuICAgICAgdGhpcy5fcm9vdCA9IHRoaXMuc2hhZG93Um9vdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYEN1c3RvbSBlbGVtZW50IGhhcyBwcmUtcmVuZGVyZWQgZGVjbGFyYXRpdmUgc2hhZG93IHJvb3QgYnV0IGlzIG5vdCBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChfZGVmLnNoYWRvd1Jvb3QgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KFxuICAgICAgICAgIGV4dGVuZCh7fSwgX2RlZi5zaGFkb3dSb290T3B0aW9ucywge1xuICAgICAgICAgICAgbW9kZTogXCJvcGVuXCJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5zaGFkb3dSb290O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290ICYmICF0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgdGhpcy5fcGFyc2VTbG90cygpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgIHRoaXMuX21vdW50KHRoaXMuX2RlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5fcGVuZGluZ1Jlc29sdmUpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHBhcmVudC5fcGVuZGluZ1Jlc29sdmUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3NldFBhcmVudChwYXJlbnQgPSB0aGlzLl9wYXJlbnQpIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgdGhpcy5faW5oZXJpdFBhcmVudENvbnRleHQocGFyZW50KTtcbiAgICB9XG4gIH1cbiAgX2luaGVyaXRQYXJlbnRDb250ZXh0KHBhcmVudCA9IHRoaXMuX3BhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiYgdGhpcy5fYXBwKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoXG4gICAgICAgIHRoaXMuX2FwcC5fY29udGV4dC5wcm92aWRlcyxcbiAgICAgICAgcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHAgJiYgdGhpcy5fYXBwLnVubW91bnQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB0aGlzLl9pbnN0YW5jZS5jZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fYXBwID0gdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdGVsZXBvcnRUYXJnZXRzKSB7XG4gICAgICAgICAgdGhpcy5fdGVsZXBvcnRUYXJnZXRzLmNsZWFyKCk7XG4gICAgICAgICAgdGhpcy5fdGVsZXBvcnRUYXJnZXRzID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX3Byb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSB7XG4gICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgdGhpcy5fc2V0QXR0cihtLmF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogcmVzb2x2ZSBpbm5lciBjb21wb25lbnQgZGVmaW5pdGlvbiAoaGFuZGxlIHBvc3NpYmxlIGFzeW5jIGNvbXBvbmVudClcbiAgICovXG4gIF9yZXNvbHZlRGVmKCkge1xuICAgIGlmICh0aGlzLl9wZW5kaW5nUmVzb2x2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fc2V0QXR0cih0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgfVxuICAgIHRoaXMuX29iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fcHJvY2Vzc011dGF0aW9ucy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplJDEoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN0eWxlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQ3VzdG9tIGVsZW1lbnQgc3R5bGUgaW5qZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBzaGFkb3dSb290OiBmYWxzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3VudChkZWYpO1xuICAgIH07XG4gICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gYXN5bmNEZWYoKS50aGVuKChkZWYpID0+IHtcbiAgICAgICAgZGVmLmNvbmZpZ3VyZUFwcCA9IHRoaXMuX2RlZi5jb25maWd1cmVBcHA7XG4gICAgICAgIHJlc29sdmUodGhpcy5fZGVmID0gZGVmLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIF9tb3VudChkZWYpIHtcbiAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiAhZGVmLm5hbWUpIHtcbiAgICAgIGRlZi5uYW1lID0gXCJWdWVFbGVtZW50XCI7XG4gICAgfVxuICAgIHRoaXMuX2FwcCA9IHRoaXMuX2NyZWF0ZUFwcChkZWYpO1xuICAgIHRoaXMuX2luaGVyaXRQYXJlbnRDb250ZXh0KCk7XG4gICAgaWYgKGRlZi5jb25maWd1cmVBcHApIHtcbiAgICAgIGRlZi5jb25maWd1cmVBcHAodGhpcy5fYXBwKTtcbiAgICB9XG4gICAgdGhpcy5fYXBwLl9jZVZOb2RlID0gdGhpcy5fY3JlYXRlVk5vZGUoKTtcbiAgICB0aGlzLl9hcHAubW91bnQodGhpcy5fcm9vdCk7XG4gICAgY29uc3QgZXhwb3NlZCA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmV4cG9zZWQ7XG4gICAgaWYgKCFleHBvc2VkKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZXhwb3NlZCkge1xuICAgICAgaWYgKCFoYXNPd24odGhpcywga2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgLy8gdW53cmFwIHJlZiB0byBiZSBjb25zaXN0ZW50IHdpdGggcHVibGljIGluc3RhbmNlIGJlaGF2aW9yXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihleHBvc2VkW2tleV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4oYEV4cG9zZWQgcHJvcGVydHkgXCIke2tleX1cIiBhbHJlYWR5IGV4aXN0cyBvbiBjdXN0b20gZWxlbWVudC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsLCB0cnVlLCAhdGhpcy5fcGF0Y2hpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgX3NldEF0dHIoa2V5KSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKFwiZGF0YS12LVwiKSkgcmV0dXJuO1xuICAgIGNvbnN0IGhhcyA9IHRoaXMuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgbGV0IHZhbHVlID0gaGFzID8gdGhpcy5nZXRBdHRyaWJ1dGUoa2V5KSA6IFJFTU9WQUw7XG4gICAgY29uc3QgY2FtZWxLZXkgPSBjYW1lbGl6ZSQxKGtleSk7XG4gICAgaWYgKGhhcyAmJiB0aGlzLl9udW1iZXJQcm9wcyAmJiB0aGlzLl9udW1iZXJQcm9wc1tjYW1lbEtleV0pIHtcbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICB0aGlzLl9zZXRQcm9wKGNhbWVsS2V5LCB2YWx1ZSwgZmFsc2UsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRQcm9wKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9wcm9wc1trZXldO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9zZXRQcm9wKGtleSwgdmFsLCBzaG91bGRSZWZsZWN0ID0gdHJ1ZSwgc2hvdWxkVXBkYXRlID0gZmFsc2UpIHtcbiAgICBpZiAodmFsICE9PSB0aGlzLl9wcm9wc1trZXldKSB7XG4gICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICBpZiAodmFsID09PSBSRU1PVkFMKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wcm9wc1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvcHNba2V5XSA9IHZhbDtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJrZXlcIiAmJiB0aGlzLl9hcHApIHtcbiAgICAgICAgICB0aGlzLl9hcHAuX2NlVk5vZGUua2V5ID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlICYmIHRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFJlZmxlY3QpIHtcbiAgICAgICAgY29uc3Qgb2IgPSB0aGlzLl9vYjtcbiAgICAgICAgaWYgKG9iKSB7XG4gICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhvYi50YWtlUmVjb3JkcygpKTtcbiAgICAgICAgICBvYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBvYiAmJiBvYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCB2bm9kZSA9IHRoaXMuX2NyZWF0ZVZOb2RlKCk7XG4gICAgaWYgKHRoaXMuX2FwcCkgdm5vZGUuYXBwQ29udGV4dCA9IHRoaXMuX2FwcC5fY29udGV4dDtcbiAgICByZW5kZXIodm5vZGUsIHRoaXMuX3Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgYmFzZVByb3BzLm9uVm5vZGVNb3VudGVkID0gYmFzZVByb3BzLm9uVm5vZGVVcGRhdGVkID0gdGhpcy5fcmVuZGVyU2xvdHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0aGlzLl9kZWYsIGV4dGVuZChiYXNlUHJvcHMsIHRoaXMuX3Byb3BzKSk7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdm5vZGUuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UuY2UgPSB0aGlzO1xuICAgICAgICBpbnN0YW5jZS5pc0NFID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IChuZXdTdHlsZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChhcmdzWzBdKSA/IGV4dGVuZCh7IGRldGFpbDogYXJncyB9LCBhcmdzWzBdKSA6IHsgZGV0YWlsOiBhcmdzIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zZXRQYXJlbnQoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBfYXBwbHlTdHlsZXMoc3R5bGVzLCBvd25lcikge1xuICAgIGlmICghc3R5bGVzKSByZXR1cm47XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIgPT09IHRoaXMuX2RlZiB8fCB0aGlzLl9zdHlsZUNoaWxkcmVuLmhhcyhvd25lcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5hZGQob3duZXIpO1xuICAgIH1cbiAgICBjb25zdCBub25jZSA9IHRoaXMuX25vbmNlO1xuICAgIGZvciAobGV0IGkgPSBzdHlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBpZiAobm9uY2UpIHMuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgcy50ZXh0Q29udGVudCA9IHN0eWxlc1tpXTtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5wcmVwZW5kKHMpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgaWYgKG93bmVyLl9faG1ySWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hpbGRTdHlsZXMpIHRoaXMuX2NoaWxkU3R5bGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChvd25lci5fX2htcklkKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY2hpbGRTdHlsZXMuc2V0KG93bmVyLl9faG1ySWQsIGVudHJ5ID0gW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkucHVzaChzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9wYXJzZVNsb3RzKCkge1xuICAgIGNvbnN0IHNsb3RzID0gdGhpcy5fc2xvdHMgPSB7fTtcbiAgICBsZXQgbjtcbiAgICB3aGlsZSAobiA9IHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBuLm5vZGVUeXBlID09PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIChzbG90c1tzbG90TmFtZV0gfHwgKHNsb3RzW3Nsb3ROYW1lXSA9IFtdKSkucHVzaChuKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9yZW5kZXJTbG90cygpIHtcbiAgICBjb25zdCBvdXRsZXRzID0gdGhpcy5fZ2V0U2xvdHMoKTtcbiAgICBjb25zdCBzY29wZUlkID0gdGhpcy5faW5zdGFuY2UudHlwZS5fX3Njb3BlSWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRsZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvID0gb3V0bGV0c1tpXTtcbiAgICAgIGNvbnN0IHNsb3ROYW1lID0gby5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuX3Nsb3RzW3Nsb3ROYW1lXTtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG8ucGFyZW50Tm9kZTtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBjb250ZW50KSB7XG4gICAgICAgICAgaWYgKHNjb3BlSWQgJiYgbi5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBzY29wZUlkICsgXCItc1wiO1xuICAgICAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihuLCAxKTtcbiAgICAgICAgICAgIG4uc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgICAgICAgICAgIGxldCBjaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZCA9IHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobiwgbyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChvLmZpcnN0Q2hpbGQpIHBhcmVudC5pbnNlcnRCZWZvcmUoby5maXJzdENoaWxkLCBvKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChvKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2dldFNsb3RzKCkge1xuICAgIGNvbnN0IHJvb3RzID0gW3RoaXNdO1xuICAgIGlmICh0aGlzLl90ZWxlcG9ydFRhcmdldHMpIHtcbiAgICAgIHJvb3RzLnB1c2goLi4udGhpcy5fdGVsZXBvcnRUYXJnZXRzKTtcbiAgICB9XG4gICAgY29uc3Qgc2xvdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3Qgcm9vdCBvZiByb290cykge1xuICAgICAgY29uc3QgZm91bmQgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzbG90XCIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3VuZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbG90cy5hZGQoZm91bmRbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShzbG90cyk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2luamVjdENoaWxkU3R5bGUoY29tcCkge1xuICAgIHRoaXMuX2FwcGx5U3R5bGVzKGNvbXAuc3R5bGVzLCBjb21wKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfYmVnaW5QYXRjaCgpIHtcbiAgICB0aGlzLl9wYXRjaGluZyA9IHRydWU7XG4gICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZW5kUGF0Y2goKSB7XG4gICAgdGhpcy5fcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fZGlydHkgJiYgdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfcmVtb3ZlQ2hpbGRTdHlsZShjb21wKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRoaXMuX3N0eWxlQ2hpbGRyZW4uZGVsZXRlKGNvbXApO1xuICAgICAgaWYgKHRoaXMuX2NoaWxkU3R5bGVzICYmIGNvbXAuX19obXJJZCkge1xuICAgICAgICBjb25zdCBvbGRTdHlsZXMgPSB0aGlzLl9jaGlsZFN0eWxlcy5nZXQoY29tcC5fX2htcklkKTtcbiAgICAgICAgaWYgKG9sZFN0eWxlcykge1xuICAgICAgICAgIG9sZFN0eWxlcy5mb3JFYWNoKChzKSA9PiB0aGlzLl9yb290LnJlbW92ZUNoaWxkKHMpKTtcbiAgICAgICAgICBvbGRTdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXNlSG9zdChjYWxsZXIpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgZWwgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jZTtcbiAgaWYgKGVsKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYWxsZXIgfHwgXCJ1c2VIb3N0XCJ9IGNhbGxlZCB3aXRob3V0IGFuIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FsbGVyIHx8IFwidXNlSG9zdFwifSBjYW4gb25seSBiZSB1c2VkIGluIGNvbXBvbmVudHMgZGVmaW5lZCB2aWEgZGVmaW5lQ3VzdG9tRWxlbWVudC5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNoYWRvd1Jvb3QoKSB7XG4gIGNvbnN0IGVsID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHVzZUhvc3QoXCJ1c2VTaGFkb3dSb290XCIpIDogdXNlSG9zdCgpO1xuICByZXR1cm4gZWwgJiYgZWwuc2hhZG93Um9vdDtcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSBcIiRzdHlsZVwiKSB7XG4gIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XG4gICAgaWYgKCFtb2R1bGVzKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlcyBpbmplY3RlZC5gKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XG4gICAgaWYgKCFtb2QpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXCIke25hbWV9XCIuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICByZXR1cm4gbW9kO1xuICB9XG59XG5cbmNvbnN0IHBvc2l0aW9uTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbW92ZUNiS2V5ID0gU3ltYm9sKFwiX21vdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmNvbnN0IGRlY29yYXRlID0gKHQpID0+IHtcbiAgZGVsZXRlIHQucHJvcHMubW9kZTtcbiAgcmV0dXJuIHQ7XG59O1xuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IC8qIEBfX1BVUkVfXyAqLyBkZWNvcmF0ZSh7XG4gIG5hbWU6IFwiVHJhbnNpdGlvbkdyb3VwXCIsXG4gIHByb3BzOiAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XG4gICAgdGFnOiBTdHJpbmcsXG4gICAgbW92ZUNsYXNzOiBTdHJpbmdcbiAgfSksXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgbGV0IHByZXZDaGlsZHJlbjtcbiAgICBsZXQgY2hpbGRyZW47XG4gICAgb25VcGRhdGVkKCgpID0+IHtcbiAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCBcInZcIn0tbW92ZWA7XG4gICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShcbiAgICAgICAgcHJldkNoaWxkcmVuWzBdLmVsLFxuICAgICAgICBpbnN0YW5jZS52bm9kZS5lbCxcbiAgICAgICAgbW92ZUNsYXNzXG4gICAgICApKSB7XG4gICAgICAgIHByZXZDaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgIGZvcmNlUmVmbG93KGluc3RhbmNlLnZub2RlLmVsKTtcbiAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgY29uc3QgY2IgPSBlbFttb3ZlQ2JLZXldID0gKGUpID0+IHtcbiAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFlIHx8IGUucHJvcGVydHlOYW1lLmVuZHNXaXRoKFwidHJhbnNmb3JtXCIpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYik7XG4gICAgICAgICAgICBlbFttb3ZlQ2JLZXldID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgIH0pO1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgaWYgKGNoaWxkLmVsICYmIGNoaWxkLmVsIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICBjc3NUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChjaGlsZCwge1xuICAgICAgICAgICAgICBsZWZ0OiBjaGlsZC5lbC5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgICB0b3A6IGNoaWxkLmVsLm9mZnNldFRvcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoY2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGlsZC50eXBlICE9PSBUZXh0KSB7XG4gICAgICAgICAgd2FybihgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xuICAgIH07XG4gIH1cbn0pO1xuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcbiAgY29uc3QgZWwgPSBjLmVsO1xuICBpZiAoZWxbbW92ZUNiS2V5XSkge1xuICAgIGVsW21vdmVDYktleV0oKTtcbiAgfVxuICBpZiAoZWxbZW50ZXJDYktleV0pIHtcbiAgICBlbFtlbnRlckNiS2V5XSgpO1xuICB9XG59XG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XG4gIG5ld1Bvc2l0aW9uTWFwLnNldChjLCB7XG4gICAgbGVmdDogYy5lbC5vZmZzZXRMZWZ0LFxuICAgIHRvcDogYy5lbC5vZmZzZXRUb3BcbiAgfSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSBcIjBzXCI7XG4gICAgcmV0dXJuIGM7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZm9yRWFjaCgoY2xzKSA9PiB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIH0pO1xuICB9XG4gIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gIGNsb25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGU7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1tcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIl0gfHwgZmFsc2U7XG4gIHJldHVybiBpc0FycmF5KGZuKSA/ICh2YWx1ZSkgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgfVxufVxuY29uc3QgYXNzaWduS2V5ID0gU3ltYm9sKFwiX2Fzc2lnblwiKTtcbmZ1bmN0aW9uIGNhc3RWYWx1ZSh2YWx1ZSwgdHJpbSwgbnVtYmVyKSB7XG4gIGlmICh0cmltKSB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgaWYgKG51bWJlcikgdmFsdWUgPSBsb29zZVRvTnVtYmVyKHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcbiAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgY29uc3QgY2FzdFRvTnVtYmVyID0gbnVtYmVyIHx8IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUgPT09IFwibnVtYmVyXCI7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/IFwiY2hhbmdlXCIgOiBcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKSByZXR1cm47XG4gICAgICBlbFthc3NpZ25LZXldKGNhc3RWYWx1ZShlbC52YWx1ZSwgdHJpbSwgY2FzdFRvTnVtYmVyKSk7XG4gICAgfSk7XG4gICAgaWYgKHRyaW0gfHwgY2FzdFRvTnVtYmVyKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gY2FzdFZhbHVlKGVsLnZhbHVlLCB0cmltLCBjYXN0VG9OdW1iZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGF6eSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfVxuICB9LFxuICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmIChlbC5jb21wb3NpbmcpIHJldHVybjtcbiAgICBjb25zdCBlbFZhbHVlID0gKG51bWJlciB8fCBlbC50eXBlID09PSBcIm51bWJlclwiKSAmJiAhL14wXFxkLy50ZXN0KGVsLnZhbHVlKSA/IGxvb3NlVG9OdW1iZXIoZWwudmFsdWUpIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChlbFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gXCJyYW5nZVwiKSB7XG4gICAgICBpZiAobGF6eSAmJiB2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgY29uc3QgYXNzaWduID0gZWxbYXNzaWduS2V5XTtcbiAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgbGV0IGNoZWNrZWQ7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHJldHVybjtcbiAgICBjaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICB9XG4gIGlmIChlbC5jaGVja2VkICE9PSBjaGVja2VkKSB7XG4gICAgZWwuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZWxbYXNzaWduS2V5XShnZXRWYWx1ZShlbCkpO1xuICAgIH0pO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpLm1hcChcbiAgICAgICAgKG8pID0+IG51bWJlciA/IGxvb3NlVG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobylcbiAgICAgICk7XG4gICAgICBlbFthc3NpZ25LZXldKFxuICAgICAgICBlbC5tdWx0aXBsZSA/IGlzU2V0TW9kZWwgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKSA6IHNlbGVjdGVkVmFsIDogc2VsZWN0ZWRWYWxbMF1cbiAgICAgICk7XG4gICAgICBlbC5fYXNzaWduaW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuX2Fzc2lnbmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gIC8vIDxvcHRpb24+cy5cbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGlmICghZWwuX2Fzc2lnbmluZykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLnNvbWUoKHYpID0+IFN0cmluZyh2KSA9PT0gU3RyaW5nKG9wdGlvblZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9ICgoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xuICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKSByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gIH0pKTtcbn07XG5jb25zdCBrZXlOYW1lcyA9IHtcbiAgZXNjOiBcImVzY2FwZVwiLFxuICBzcGFjZTogXCIgXCIsXG4gIHVwOiBcImFycm93LXVwXCIsXG4gIGxlZnQ6IFwiYXJyb3ctbGVmdFwiLFxuICByaWdodDogXCJhcnJvdy1yaWdodFwiLFxuICBkb3duOiBcImFycm93LWRvd25cIixcbiAgZGVsZXRlOiBcImJhY2tzcGFjZVwiXG59O1xuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICBjb25zdCBjYWNoZSA9IGZuLl93aXRoS2V5cyB8fCAoZm4uX3dpdGhLZXlzID0ge30pO1xuICBjb25zdCBjYWNoZUtleSA9IG1vZGlmaWVycy5qb2luKFwiLlwiKTtcbiAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSB8fCAoY2FjaGVbY2FjaGVLZXldID0gKChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKFxuICAgICAgKGspID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleVxuICAgICkpIHtcbiAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgfVxuICB9KSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn0pO1xuY29uc3QgY3JlYXRlQXBwID0gKCguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcInYtY2xvYWtcIik7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS12LWFwcFwiLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3h5O1xuICB9O1xuICByZXR1cm4gYXBwO1xufSk7XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xuICB9XG4gIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gYXBwO1xufSk7XG5mdW5jdGlvbiByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpIHtcbiAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdmdcIjtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiBjb250YWluZXIgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwibWF0aG1sXCI7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc05hdGl2ZVRhZ1wiLCB7XG4gICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZykgfHwgaXNNYXRoTUxUYWcodGFnKSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG59XG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcbiAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImlzQ3VzdG9tRWxlbWVudFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIFNpbmNlIHlvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCwgXFxgY29tcGlsZXJPcHRpb25zXFxgIG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxuLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxuLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcbi0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlLXBsdWdpbi12dWUvdHJlZS9tYWluL3BhY2thZ2VzL3BsdWdpbi12dWUjZXhhbXBsZS1mb3ItcGFzc2luZy1vcHRpb25zLXRvLXZ1ZWNvbXBpbGVyLXNmY2A7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiY29tcGlsZXJPcHRpb25zXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFyZXMpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICB3YXJuKFxuICAgICAgYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgIHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBpbml0Vk1vZGVsRm9yU1NSKCk7XG4gICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gIH1cbn0gO1xuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBkZWZpbmVDdXN0b21FbGVtZW50LCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBoeWRyYXRlLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgbm9kZU9wcywgcGF0Y2hQcm9wLCByZW5kZXIsIHVzZUNzc01vZHVsZSwgdXNlQ3NzVmFycywgdXNlSG9zdCwgdXNlU2hhZG93Um9vdCwgdk1vZGVsQ2hlY2tib3gsIHZNb2RlbER5bmFtaWMsIHZNb2RlbFJhZGlvLCB2TW9kZWxTZWxlY3QsIHZNb2RlbFRleHQsIHZTaG93LCB3aXRoS2V5cywgd2l0aE1vZGlmaWVycyB9O1xuIiwiaW1wb3J0IHsgbmV4dFRpY2ssIHB1c2hTY29wZUlkLCBwb3BTY29wZUlkLCBvcGVuQmxvY2ssIGNyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIGdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uKCkge1xuICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgdmFyIG1zaWUgPSB1YS5pbmRleE9mKCdNU0lFICcpO1xuXG4gIGlmIChtc2llID4gMCkge1xuICAgIC8vIElFIDEwIG9yIG9sZGVyID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxuICAgIHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcobXNpZSArIDUsIHVhLmluZGV4T2YoJy4nLCBtc2llKSksIDEwKTtcbiAgfVxuXG4gIHZhciB0cmlkZW50ID0gdWEuaW5kZXhPZignVHJpZGVudC8nKTtcblxuICBpZiAodHJpZGVudCA+IDApIHtcbiAgICAvLyBJRSAxMSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcbiAgICB2YXIgcnYgPSB1YS5pbmRleE9mKCdydjonKTtcbiAgICByZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKHJ2ICsgMywgdWEuaW5kZXhPZignLicsIHJ2KSksIDEwKTtcbiAgfVxuXG4gIHZhciBlZGdlID0gdWEuaW5kZXhPZignRWRnZS8nKTtcblxuICBpZiAoZWRnZSA+IDApIHtcbiAgICAvLyBFZGdlIChJRSAxMispID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxuICAgIHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcoZWRnZSArIDUsIHVhLmluZGV4T2YoJy4nLCBlZGdlKSksIDEwKTtcbiAgfSAvLyBvdGhlciBicm93c2VyXG5cblxuICByZXR1cm4gLTE7XG59XG5cbmxldCBpc0lFO1xuXG5mdW5jdGlvbiBpbml0Q29tcGF0ICgpIHtcbiAgaWYgKCFpbml0Q29tcGF0LmluaXQpIHtcbiAgICBpbml0Q29tcGF0LmluaXQgPSB0cnVlO1xuICAgIGlzSUUgPSBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpICE9PSAtMTtcbiAgfVxufVxuXG52YXIgc2NyaXB0ID0ge1xuICBuYW1lOiAnUmVzaXplT2JzZXJ2ZXInLFxuXG4gIHByb3BzOiB7XG4gICAgZW1pdE9uTW91bnQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgaWdub3JlV2lkdGg6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgaWdub3JlSGVpZ2h0OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcbiAgfSxcblxuICBlbWl0czogW1xuICAgICdub3RpZnknLFxuICBdLFxuXG4gIG1vdW50ZWQgKCkge1xuICAgIGluaXRDb21wYXQoKTtcbiAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICB0aGlzLl93ID0gdGhpcy4kZWwub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLl9oID0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKHRoaXMuZW1pdE9uTW91bnQpIHtcbiAgICAgICAgdGhpcy5lbWl0U2l6ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29iamVjdCcpO1xuICAgIHRoaXMuX3Jlc2l6ZU9iamVjdCA9IG9iamVjdDtcbiAgICBvYmplY3Quc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgb2JqZWN0LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSk7XG4gICAgb2JqZWN0Lm9ubG9hZCA9IHRoaXMuYWRkUmVzaXplSGFuZGxlcnM7XG4gICAgb2JqZWN0LnR5cGUgPSAndGV4dC9odG1sJztcbiAgICBpZiAoaXNJRSkge1xuICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQob2JqZWN0KTtcbiAgICB9XG4gICAgb2JqZWN0LmRhdGEgPSAnYWJvdXQ6YmxhbmsnO1xuICAgIGlmICghaXNJRSkge1xuICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQob2JqZWN0KTtcbiAgICB9XG4gIH0sXG5cbiAgYmVmb3JlVW5tb3VudCAoKSB7XG4gICAgdGhpcy5yZW1vdmVSZXNpemVIYW5kbGVycygpO1xuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBjb21wYXJlQW5kTm90aWZ5ICgpIHtcbiAgICAgIGlmICgoIXRoaXMuaWdub3JlV2lkdGggJiYgdGhpcy5fdyAhPT0gdGhpcy4kZWwub2Zmc2V0V2lkdGgpIHx8ICghdGhpcy5pZ25vcmVIZWlnaHQgJiYgdGhpcy5faCAhPT0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0KSkge1xuICAgICAgICB0aGlzLl93ID0gdGhpcy4kZWwub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuX2ggPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuZW1pdFNpemUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZW1pdFNpemUgKCkge1xuICAgICAgdGhpcy4kZW1pdCgnbm90aWZ5Jywge1xuICAgICAgICB3aWR0aDogdGhpcy5fdyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLl9oLFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGFkZFJlc2l6ZUhhbmRsZXJzICgpIHtcbiAgICAgIHRoaXMuX3Jlc2l6ZU9iamVjdC5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jb21wYXJlQW5kTm90aWZ5KTtcbiAgICAgIHRoaXMuY29tcGFyZUFuZE5vdGlmeSgpO1xuICAgIH0sXG5cbiAgICByZW1vdmVSZXNpemVIYW5kbGVycyAoKSB7XG4gICAgICBpZiAodGhpcy5fcmVzaXplT2JqZWN0ICYmIHRoaXMuX3Jlc2l6ZU9iamVjdC5vbmxvYWQpIHtcbiAgICAgICAgaWYgKCFpc0lFICYmIHRoaXMuX3Jlc2l6ZU9iamVjdC5jb250ZW50RG9jdW1lbnQpIHtcbiAgICAgICAgICB0aGlzLl9yZXNpemVPYmplY3QuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY29tcGFyZUFuZE5vdGlmeSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2hpbGQodGhpcy5fcmVzaXplT2JqZWN0KTtcbiAgICAgICAgdGhpcy5fcmVzaXplT2JqZWN0Lm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZU9iamVjdCA9IG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbn07XG5cbmNvbnN0IF93aXRoSWQgPSAvKiNfX1BVUkVfXyovd2l0aFNjb3BlSWQoXCJkYXRhLXYtYjMyOWVlNGNcIik7XG5cbnB1c2hTY29wZUlkKFwiZGF0YS12LWIzMjllZTRjXCIpO1xuY29uc3QgX2hvaXN0ZWRfMSA9IHtcbiAgY2xhc3M6IFwicmVzaXplLW9ic2VydmVyXCIsXG4gIHRhYmluZGV4OiBcIi0xXCJcbn07XG5wb3BTY29wZUlkKCk7XG5cbmNvbnN0IHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soXCJkaXZcIiwgX2hvaXN0ZWRfMSkpXG59KTtcblxuc2NyaXB0LnJlbmRlciA9IHJlbmRlcjtcbnNjcmlwdC5fX3Njb3BlSWQgPSBcImRhdGEtdi1iMzI5ZWU0Y1wiO1xuc2NyaXB0Ll9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvUmVzaXplT2JzZXJ2ZXIudnVlXCI7XG5cbmZ1bmN0aW9uIGluc3RhbGwoYXBwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvY29tcG9uZW50LWRlZmluaXRpb24tbmFtZS1jYXNpbmdcbiAgYXBwLmNvbXBvbmVudCgncmVzaXplLW9ic2VydmVyJywgc2NyaXB0KTtcbiAgYXBwLmNvbXBvbmVudCgnUmVzaXplT2JzZXJ2ZXInLCBzY3JpcHQpO1xufVxuXG52YXIgcGx1Z2luID0ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmVyc2lvbjogXCIyLjAuMC1hbHBoYS4xXCIsXG4gIGluc3RhbGw6IGluc3RhbGxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbmV4cG9ydCB7IHNjcmlwdCBhcyBSZXNpemVPYnNlcnZlciwgaW5zdGFsbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dnVlLXJlc2l6ZS5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gIHJldHVybiBhcnIyO1xufVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzT3B0aW9ucyh2YWx1ZSkge1xuICB2YXIgb3B0aW9ucztcblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gU2ltcGxlIG9wdGlvbnMgKGNhbGxiYWNrLW9ubHkpXG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGNhbGxiYWNrOiB2YWx1ZVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gT3B0aW9ucyBvYmplY3RcbiAgICBvcHRpb25zID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIHRocm90dGxlKGNhbGxiYWNrLCBkZWxheSkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciB0aW1lb3V0O1xuICB2YXIgbGFzdFN0YXRlO1xuICB2YXIgY3VycmVudEFyZ3M7XG5cbiAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uIHRocm90dGxlZChzdGF0ZSkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGN1cnJlbnRBcmdzID0gYXJncztcbiAgICBpZiAodGltZW91dCAmJiBzdGF0ZSA9PT0gbGFzdFN0YXRlKSByZXR1cm47XG4gICAgdmFyIGxlYWRpbmcgPSBvcHRpb25zLmxlYWRpbmc7XG5cbiAgICBpZiAodHlwZW9mIGxlYWRpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGxlYWRpbmcgPSBsZWFkaW5nKHN0YXRlLCBsYXN0U3RhdGUpO1xuICAgIH1cblxuICAgIGlmICgoIXRpbWVvdXQgfHwgc3RhdGUgIT09IGxhc3RTdGF0ZSkgJiYgbGVhZGluZykge1xuICAgICAgY2FsbGJhY2suYXBwbHkodm9pZCAwLCBbc3RhdGVdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoY3VycmVudEFyZ3MpKSk7XG4gICAgfVxuXG4gICAgbGFzdFN0YXRlID0gc3RhdGU7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KHZvaWQgMCwgW3N0YXRlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGN1cnJlbnRBcmdzKSkpO1xuICAgICAgdGltZW91dCA9IDA7XG4gICAgfSwgZGVsYXkpO1xuICB9O1xuXG4gIHRocm90dGxlZC5fY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiB0aHJvdHRsZWQ7XG59XG5mdW5jdGlvbiBkZWVwRXF1YWwodmFsMSwgdmFsMikge1xuICBpZiAodmFsMSA9PT0gdmFsMikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKF90eXBlb2YodmFsMSkgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHZhbDEpIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKHZhbDFba2V5XSwgdmFsMltrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBWaXNpYmlsaXR5U3RhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBWaXNpYmlsaXR5U3RhdGUoZWwsIG9wdGlvbnMsIHZub2RlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpc2liaWxpdHlTdGF0ZSk7XG5cbiAgICB0aGlzLmVsID0gZWw7XG4gICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgdGhpcy5mcm96ZW4gPSBmYWxzZTtcbiAgICB0aGlzLmNyZWF0ZU9ic2VydmVyKG9wdGlvbnMsIHZub2RlKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhWaXNpYmlsaXR5U3RhdGUsIFt7XG4gICAga2V5OiBcImNyZWF0ZU9ic2VydmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKG9wdGlvbnMsIHZub2RlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgICB0aGlzLmRlc3Ryb3lPYnNlcnZlcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5mcm96ZW4pIHJldHVybjtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHByb2Nlc3NPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3VsdCwgZW50cnkpIHtcbiAgICAgICAgX3RoaXMub3B0aW9ucy5jYWxsYmFjayhyZXN1bHQsIGVudHJ5KTtcblxuICAgICAgICBpZiAocmVzdWx0ICYmIF90aGlzLm9wdGlvbnMub25jZSkge1xuICAgICAgICAgIF90aGlzLmZyb3plbiA9IHRydWU7XG5cbiAgICAgICAgICBfdGhpcy5kZXN0cm95T2JzZXJ2ZXIoKTtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gVGhyb3R0bGVcblxuXG4gICAgICBpZiAodGhpcy5jYWxsYmFjayAmJiB0aGlzLm9wdGlvbnMudGhyb3R0bGUpIHtcbiAgICAgICAgdmFyIF9yZWYgPSB0aGlzLm9wdGlvbnMudGhyb3R0bGVPcHRpb25zIHx8IHt9LFxuICAgICAgICAgICAgX2xlYWRpbmcgPSBfcmVmLmxlYWRpbmc7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IHRocm90dGxlKHRoaXMuY2FsbGJhY2ssIHRoaXMub3B0aW9ucy50aHJvdHRsZSwge1xuICAgICAgICAgIGxlYWRpbmc6IGZ1bmN0aW9uIGxlYWRpbmcoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfbGVhZGluZyA9PT0gJ2JvdGgnIHx8IF9sZWFkaW5nID09PSAndmlzaWJsZScgJiYgc3RhdGUgfHwgX2xlYWRpbmcgPT09ICdoaWRkZW4nICYmICFzdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9sZFJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1swXTtcblxuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdmFyIGludGVyc2VjdGluZ0VudHJ5ID0gZW50cmllcy5maW5kKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5pc0ludGVyc2VjdGluZztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChpbnRlcnNlY3RpbmdFbnRyeSkge1xuICAgICAgICAgICAgZW50cnkgPSBpbnRlcnNlY3RpbmdFbnRyeTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMuY2FsbGJhY2spIHtcbiAgICAgICAgICAvLyBVc2UgaXNJbnRlcnNlY3RpbmcgaWYgcG9zc2libGUgYmVjYXVzZSBicm93c2VycyBjYW4gcmVwb3J0IGlzSW50ZXJzZWN0aW5nIGFzIHRydWUsIGJ1dCBpbnRlcnNlY3Rpb25SYXRpbyBhcyAwLCB3aGVuIHNvbWV0aGluZyB2ZXJ5IHNsb3dseSBlbnRlcnMgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIHZhciByZXN1bHQgPSBlbnRyeS5pc0ludGVyc2VjdGluZyAmJiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+PSBfdGhpcy50aHJlc2hvbGQ7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gX3RoaXMub2xkUmVzdWx0KSByZXR1cm47XG4gICAgICAgICAgX3RoaXMub2xkUmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICAgICAgX3RoaXMuY2FsbGJhY2socmVzdWx0LCBlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnNlY3Rpb24pOyAvLyBXYWl0IGZvciB0aGUgZWxlbWVudCB0byBiZSBpbiBkb2N1bWVudFxuXG4gICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5vYnNlcnZlcikge1xuICAgICAgICAgIF90aGlzLm9ic2VydmVyLm9ic2VydmUoX3RoaXMuZWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveU9ic2VydmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3lPYnNlcnZlcigpIHtcbiAgICAgIGlmICh0aGlzLm9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgIH0gLy8gQ2FuY2VsIHRocm90dGxlZCBjYWxsXG5cblxuICAgICAgaWYgKHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjay5fY2xlYXIpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjay5fY2xlYXIoKTtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGhyZXNob2xkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmludGVyc2VjdGlvbiAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLmludGVyc2VjdGlvbi50aHJlc2hvbGQgPT09ICdudW1iZXInID8gdGhpcy5vcHRpb25zLmludGVyc2VjdGlvbi50aHJlc2hvbGQgOiAwO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBWaXNpYmlsaXR5U3RhdGU7XG59KCk7XG5cbmZ1bmN0aW9uIGJlZm9yZU1vdW50KGVsLCBfcmVmMiwgdm5vZGUpIHtcbiAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7XG4gIGlmICghdmFsdWUpIHJldHVybjtcblxuICBpZiAodHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUud2FybignW3Z1ZS1vYnNlcnZlLXZpc2liaWxpdHldIEludGVyc2VjdGlvbk9ic2VydmVyIEFQSSBpcyBub3QgYXZhaWxhYmxlIGluIHlvdXIgYnJvd3Nlci4gUGxlYXNlIGluc3RhbGwgdGhpcyBwb2x5ZmlsbDogaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci90cmVlL21hc3Rlci9wb2x5ZmlsbCcpO1xuICB9IGVsc2Uge1xuICAgIHZhciBzdGF0ZSA9IG5ldyBWaXNpYmlsaXR5U3RhdGUoZWwsIHZhbHVlLCB2bm9kZSk7XG4gICAgZWwuX3Z1ZV92aXNpYmlsaXR5U3RhdGUgPSBzdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVkKGVsLCBfcmVmMywgdm5vZGUpIHtcbiAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWUsXG4gICAgICBvbGRWYWx1ZSA9IF9yZWYzLm9sZFZhbHVlO1xuICBpZiAoZGVlcEVxdWFsKHZhbHVlLCBvbGRWYWx1ZSkpIHJldHVybjtcbiAgdmFyIHN0YXRlID0gZWwuX3Z1ZV92aXNpYmlsaXR5U3RhdGU7XG5cbiAgaWYgKCF2YWx1ZSkge1xuICAgIHVubW91bnRlZChlbCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHN0YXRlKSB7XG4gICAgc3RhdGUuY3JlYXRlT2JzZXJ2ZXIodmFsdWUsIHZub2RlKTtcbiAgfSBlbHNlIHtcbiAgICBiZWZvcmVNb3VudChlbCwge1xuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSwgdm5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVubW91bnRlZChlbCkge1xuICB2YXIgc3RhdGUgPSBlbC5fdnVlX3Zpc2liaWxpdHlTdGF0ZTtcblxuICBpZiAoc3RhdGUpIHtcbiAgICBzdGF0ZS5kZXN0cm95T2JzZXJ2ZXIoKTtcbiAgICBkZWxldGUgZWwuX3Z1ZV92aXNpYmlsaXR5U3RhdGU7XG4gIH1cbn1cblxudmFyIE9ic2VydmVWaXNpYmlsaXR5ID0ge1xuICBiZWZvcmVNb3VudDogYmVmb3JlTW91bnQsXG4gIHVwZGF0ZWQ6IHVwZGF0ZWQsXG4gIHVubW91bnRlZDogdW5tb3VudGVkXG59O1xuXG5mdW5jdGlvbiBpbnN0YWxsKGFwcCkge1xuICBhcHAuZGlyZWN0aXZlKCdvYnNlcnZlLXZpc2liaWxpdHknLCBPYnNlcnZlVmlzaWJpbGl0eSk7XG4gIC8qIC0tIEFkZCBtb3JlIGNvbXBvbmVudHMgaGVyZSAtLSAqL1xufVxuLyogLS0gUGx1Z2luIGRlZmluaXRpb24gJiBBdXRvLWluc3RhbGwgLS0gKi9cblxuLyogWW91IHNob3VsZG4ndCBoYXZlIHRvIG1vZGlmeSB0aGUgY29kZSBiZWxvdyAqL1xuLy8gUGx1Z2luXG5cbnZhciBwbHVnaW4gPSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2ZXJzaW9uOiBcIjIuMC4wLWFscGhhLjFcIixcbiAgaW5zdGFsbDogaW5zdGFsbFxufTtcblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuZXhwb3J0IHsgT2JzZXJ2ZVZpc2liaWxpdHksIGluc3RhbGwgfTtcbiIsImltcG9ydCB7IG1hcmtSYXcsIHNoYWxsb3dSZWFjdGl2ZSwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgd2l0aERpcmVjdGl2ZXMsIG9wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrLCBub3JtYWxpemVDbGFzcywgcmVuZGVyU2xvdCwgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVCbG9jaywgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIG5vcm1hbGl6ZVN0eWxlLCB3aXRoQ3R4LCBGcmFnbWVudCwgcmVuZGVyTGlzdCwgbWVyZ2VQcm9wcywgdG9IYW5kbGVycywgY3JlYXRlVk5vZGUsIG5vcm1hbGl6ZVByb3BzLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIHJlYWN0aXZlIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyIGFzIFJlc2l6ZU9ic2VydmVyJDEgfSBmcm9tICd2dWUtcmVzaXplJztcbmltcG9ydCB7IE9ic2VydmVWaXNpYmlsaXR5IH0gZnJvbSAndnVlLW9ic2VydmUtdmlzaWJpbGl0eSc7XG5pbXBvcnQgbWl0dCBmcm9tICdtaXR0JztcblxudmFyIGNvbmZpZyA9IHtcbiAgaXRlbXNMaW1pdDogMTAwMFxufTtcblxuLy8gRm9yayBvZiBodHRwczovL2dpdGh1Yi5jb20vb2xhaG9sL3Njcm9sbHBhcmVudC5qcyB0byBiZSBhYmxlIHRvIGJ1aWxkIHdpdGggUm9sbHVwXG5cbnZhciByZWdleCA9IC8oYXV0b3xzY3JvbGwpLztcbmZ1bmN0aW9uIHBhcmVudHMobm9kZSwgcHMpIHtcbiAgaWYgKG5vZGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBwcztcbiAgfVxuICByZXR1cm4gcGFyZW50cyhub2RlLnBhcmVudE5vZGUsIHBzLmNvbmNhdChbbm9kZV0pKTtcbn1cbnZhciBzdHlsZSA9IGZ1bmN0aW9uIHN0eWxlKG5vZGUsIHByb3ApIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKTtcbn07XG52YXIgb3ZlcmZsb3cgPSBmdW5jdGlvbiBvdmVyZmxvdyhub2RlKSB7XG4gIHJldHVybiBzdHlsZShub2RlLCAnb3ZlcmZsb3cnKSArIHN0eWxlKG5vZGUsICdvdmVyZmxvdy15JykgKyBzdHlsZShub2RlLCAnb3ZlcmZsb3cteCcpO1xufTtcbnZhciBzY3JvbGwgPSBmdW5jdGlvbiBzY3JvbGwobm9kZSkge1xuICByZXR1cm4gcmVnZXgudGVzdChvdmVyZmxvdyhub2RlKSk7XG59O1xuZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KG5vZGUpIHtcbiAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgcHMgPSBwYXJlbnRzKG5vZGUucGFyZW50Tm9kZSwgW10pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHNjcm9sbChwc1tpXSkpIHtcbiAgICAgIHJldHVybiBwc1tpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufVxuXG52YXIgcHJvcHMgPSB7XG4gIGl0ZW1zOiB7XG4gICAgdHlwZTogQXJyYXksXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAga2V5RmllbGQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2lkJ1xuICB9LFxuICBkaXJlY3Rpb246IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3ZlcnRpY2FsJyxcbiAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFsndmVydGljYWwnLCAnaG9yaXpvbnRhbCddLmluY2x1ZGVzKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGxpc3RUYWc6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2RpdidcbiAgfSxcbiAgaXRlbVRhZzoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnZGl2J1xuICB9XG59O1xuZnVuY3Rpb24gc2ltcGxlQXJyYXkoKSB7XG4gIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCAmJiBfdHlwZW9mKHRoaXMuaXRlbXNbMF0pICE9PSAnb2JqZWN0Jztcbn1cblxudmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmxldCB1aWQgPSAwO1xuXG52YXIgc2NyaXB0JDIgPSB7XG4gIG5hbWU6ICdSZWN5Y2xlU2Nyb2xsZXInLFxuXG4gIGNvbXBvbmVudHM6IHtcbiAgICBSZXNpemVPYnNlcnZlcjogUmVzaXplT2JzZXJ2ZXIkMSxcbiAgfSxcblxuICBkaXJlY3RpdmVzOiB7XG4gICAgT2JzZXJ2ZVZpc2liaWxpdHksXG4gIH0sXG5cbiAgcHJvcHM6IHtcbiAgICAuLi5wcm9wcyxcblxuICAgIGl0ZW1TaXplOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgIH0sXG5cbiAgICBncmlkSXRlbXM6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgICB9LFxuXG4gICAgaXRlbVNlY29uZGFyeVNpemU6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgICB9LFxuXG4gICAgbWluSXRlbVNpemU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgIH0sXG5cbiAgICBzaXplRmllbGQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdzaXplJyxcbiAgICB9LFxuXG4gICAgdHlwZUZpZWxkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAndHlwZScsXG4gICAgfSxcblxuICAgIGJ1ZmZlcjoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMjAwLFxuICAgIH0sXG5cbiAgICBwYWdlTW9kZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG5cbiAgICBwcmVyZW5kZXI6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgfSxcblxuICAgIGVtaXRVcGRhdGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgdXBkYXRlSW50ZXJ2YWw6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgfSxcblxuICAgIHNraXBIb3Zlcjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG5cbiAgICBsaXN0VGFnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZGl2JyxcbiAgICB9LFxuXG4gICAgaXRlbVRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2RpdicsXG4gICAgfSxcblxuICAgIGxpc3RDbGFzczoge1xuICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0LCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuXG4gICAgaXRlbUNsYXNzOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3QsIEFycmF5XSxcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gIH0sXG5cbiAgZW1pdHM6IFtcbiAgICAncmVzaXplJyxcbiAgICAndmlzaWJsZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ3VwZGF0ZScsXG4gICAgJ3Njcm9sbC1zdGFydCcsXG4gICAgJ3Njcm9sbC1lbmQnLFxuICBdLFxuXG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwb29sOiBbXSxcbiAgICAgIHRvdGFsU2l6ZTogMCxcbiAgICAgIHJlYWR5OiBmYWxzZSxcbiAgICAgIGhvdmVyS2V5OiBudWxsLFxuICAgIH1cbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIHNpemVzICgpIHtcbiAgICAgIGlmICh0aGlzLml0ZW1TaXplID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNpemVzID0ge1xuICAgICAgICAgICctMSc6IHsgYWNjdW11bGF0b3I6IDAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuc2l6ZUZpZWxkO1xuICAgICAgICBjb25zdCBtaW5JdGVtU2l6ZSA9IHRoaXMubWluSXRlbVNpemU7XG4gICAgICAgIGxldCBjb21wdXRlZE1pblNpemUgPSAxMDAwMDtcbiAgICAgICAgbGV0IGFjY3VtdWxhdG9yID0gMDtcbiAgICAgICAgbGV0IGN1cnJlbnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY3VycmVudCA9IGl0ZW1zW2ldW2ZpZWxkXSB8fCBtaW5JdGVtU2l6ZTtcbiAgICAgICAgICBpZiAoY3VycmVudCA8IGNvbXB1dGVkTWluU2l6ZSkge1xuICAgICAgICAgICAgY29tcHV0ZWRNaW5TaXplID0gY3VycmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWNjdW11bGF0b3IgKz0gY3VycmVudDtcbiAgICAgICAgICBzaXplc1tpXSA9IHsgYWNjdW11bGF0b3IsIHNpemU6IGN1cnJlbnQgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgdGhpcy4kX2NvbXB1dGVkTWluSXRlbVNpemUgPSBjb21wdXRlZE1pblNpemU7XG4gICAgICAgIHJldHVybiBzaXplc1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdXG4gICAgfSxcblxuICAgIHNpbXBsZUFycmF5LFxuXG4gICAgaXRlbUluZGV4QnlLZXkgKCkge1xuICAgICAgY29uc3QgeyBrZXlGaWVsZCwgaXRlbXMgfSA9IHRoaXM7XG4gICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpdGVtc1tpXVtrZXlGaWVsZF1dID0gaTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9LFxuICB9LFxuXG4gIHdhdGNoOiB7XG4gICAgaXRlbXMgKCkge1xuICAgICAgdGhpcy51cGRhdGVWaXNpYmxlSXRlbXModHJ1ZSk7XG4gICAgfSxcblxuICAgIHBhZ2VNb2RlICgpIHtcbiAgICAgIHRoaXMuYXBwbHlQYWdlTW9kZSgpO1xuICAgICAgdGhpcy51cGRhdGVWaXNpYmxlSXRlbXMoZmFsc2UpO1xuICAgIH0sXG5cbiAgICBzaXplczoge1xuICAgICAgaGFuZGxlciAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICBkZWVwOiB0cnVlLFxuICAgIH0sXG5cbiAgICBncmlkSXRlbXMgKCkge1xuICAgICAgdGhpcy51cGRhdGVWaXNpYmxlSXRlbXModHJ1ZSk7XG4gICAgfSxcblxuICAgIGl0ZW1TZWNvbmRhcnlTaXplICgpIHtcbiAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKHRydWUpO1xuICAgIH0sXG4gIH0sXG5cbiAgY3JlYXRlZCAoKSB7XG4gICAgdGhpcy4kX3N0YXJ0SW5kZXggPSAwO1xuICAgIHRoaXMuJF9lbmRJbmRleCA9IDA7XG4gICAgdGhpcy4kX3ZpZXdzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuJF91bnVzZWRWaWV3cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLiRfc2Nyb2xsRGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLiRfbGFzdFVwZGF0ZVNjcm9sbFBvc2l0aW9uID0gMDtcblxuICAgIC8vIEluIFNTUiBtb2RlLCB3ZSBhbHNvIHByZXJlbmRlciB0aGUgc2FtZSBudW1iZXIgb2YgaXRlbSBmb3IgdGhlIGZpcnN0IHJlbmRlclxuICAgIC8vIHRvIGF2b2lyIG1pc21hdGNoIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgdGVtcGxhdGVzXG4gICAgaWYgKHRoaXMucHJlcmVuZGVyKSB7XG4gICAgICB0aGlzLiRfcHJlcmVuZGVyID0gdHJ1ZTtcbiAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ncmlkSXRlbXMgJiYgIXRoaXMuaXRlbVNpemUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWUtcmVjeWNsZS1zY3JvbGxlcl0gWW91IG11c3QgcHJvdmlkZSBhbiBpdGVtU2l6ZSB3aGVuIHVzaW5nIGdyaWRJdGVtcycpO1xuICAgIH1cbiAgfSxcblxuICBtb3VudGVkICgpIHtcbiAgICB0aGlzLmFwcGx5UGFnZU1vZGUoKTtcbiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAvLyBJbiBTU1IgbW9kZSwgcmVuZGVyIHRoZSByZWFsIG51bWJlciBvZiB2aXNpYmxlIGl0ZW1zXG4gICAgICB0aGlzLiRfcHJlcmVuZGVyID0gZmFsc2U7XG4gICAgICB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyh0cnVlKTtcbiAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgIH0pO1xuICB9LFxuXG4gIGFjdGl2YXRlZCAoKSB7XG4gICAgY29uc3QgbGFzdFBvc2l0aW9uID0gdGhpcy4kX2xhc3RVcGRhdGVTY3JvbGxQb3NpdGlvbjtcbiAgICBpZiAodHlwZW9mIGxhc3RQb3NpdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1Bvc2l0aW9uKGxhc3RQb3NpdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgYmVmb3JlVW5tb3VudCAoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgYWRkVmlldyAocG9vbCwgaW5kZXgsIGl0ZW0sIGtleSwgdHlwZSkge1xuICAgICAgY29uc3QgbnIgPSBtYXJrUmF3KHtcbiAgICAgICAgaWQ6IHVpZCsrLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgdXNlZDogdHJ1ZSxcbiAgICAgICAga2V5LFxuICAgICAgICB0eXBlLFxuICAgICAgfSk7XG4gICAgICBjb25zdCB2aWV3ID0gc2hhbGxvd1JlYWN0aXZlKHtcbiAgICAgICAgaXRlbSxcbiAgICAgICAgcG9zaXRpb246IDAsXG4gICAgICAgIG5yLFxuICAgICAgfSk7XG4gICAgICBwb29sLnB1c2godmlldyk7XG4gICAgICByZXR1cm4gdmlld1xuICAgIH0sXG5cbiAgICB1bnVzZVZpZXcgKHZpZXcsIGZha2UgPSBmYWxzZSkge1xuICAgICAgY29uc3QgdW51c2VkVmlld3MgPSB0aGlzLiRfdW51c2VkVmlld3M7XG4gICAgICBjb25zdCB0eXBlID0gdmlldy5uci50eXBlO1xuICAgICAgbGV0IHVudXNlZFBvb2wgPSB1bnVzZWRWaWV3cy5nZXQodHlwZSk7XG4gICAgICBpZiAoIXVudXNlZFBvb2wpIHtcbiAgICAgICAgdW51c2VkUG9vbCA9IFtdO1xuICAgICAgICB1bnVzZWRWaWV3cy5zZXQodHlwZSwgdW51c2VkUG9vbCk7XG4gICAgICB9XG4gICAgICB1bnVzZWRQb29sLnB1c2godmlldyk7XG4gICAgICBpZiAoIWZha2UpIHtcbiAgICAgICAgdmlldy5uci51c2VkID0gZmFsc2U7XG4gICAgICAgIHZpZXcucG9zaXRpb24gPSAtOTk5OTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFuZGxlUmVzaXplICgpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3Jlc2l6ZScpO1xuICAgICAgaWYgKHRoaXMucmVhZHkpIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKGZhbHNlKTtcbiAgICB9LFxuXG4gICAgaGFuZGxlU2Nyb2xsIChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLiRfc2Nyb2xsRGlydHkpIHtcbiAgICAgICAgdGhpcy4kX3Njcm9sbERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuJF91cGRhdGVUaW1lb3V0KSByZXR1cm5cblxuICAgICAgICBjb25zdCByZXF1ZXN0VXBkYXRlID0gKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLiRfc2Nyb2xsRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICBjb25zdCB7IGNvbnRpbnVvdXMgfSA9IHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKGZhbHNlLCB0cnVlKTtcblxuICAgICAgICAgIC8vIEl0IHNlZW1zIHNvbWV0aW1lcyBjaHJvbWUgZG9lc24ndCBmaXJlIHNjcm9sbCBldmVudCA6L1xuICAgICAgICAgIC8vIFdoZW4gbm9uIGNvbnRpbm91cyBzY3JvbGxpbmcgaXMgZW5kaW5nLCB3ZSBmb3JjZSBhIHJlZnJlc2hcbiAgICAgICAgICBpZiAoIWNvbnRpbnVvdXMpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLiRfcmVmcmVzaFRpbW91dCk7XG4gICAgICAgICAgICB0aGlzLiRfcmVmcmVzaFRpbW91dCA9IHNldFRpbWVvdXQodGhpcy5oYW5kbGVTY3JvbGwsIHRoaXMudXBkYXRlSW50ZXJ2YWwgKyAxMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVxdWVzdFVwZGF0ZSgpO1xuXG4gICAgICAgIC8vIFNjaGVkdWxlIHRoZSBuZXh0IHVwZGF0ZSB3aXRoIHRocm90dGxpbmdcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgICAgICB0aGlzLiRfdXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kX3VwZGF0ZVRpbWVvdXQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuJF9zY3JvbGxEaXJ0eSkgcmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgICAgIH0sIHRoaXMudXBkYXRlSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgKGlzVmlzaWJsZSwgZW50cnkpIHtcbiAgICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICAgIGlmIChpc1Zpc2libGUgfHwgZW50cnkuYm91bmRpbmdDbGllbnRSZWN0LndpZHRoICE9PSAwIHx8IGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgIT09IDApIHtcbiAgICAgICAgICB0aGlzLiRlbWl0KCd2aXNpYmxlJyk7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLiRlbWl0KCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICB1cGRhdGVWaXNpYmxlSXRlbXMgKGNoZWNrSXRlbSwgY2hlY2tQb3NpdGlvbkRpZmYgPSBmYWxzZSkge1xuICAgICAgY29uc3QgaXRlbVNpemUgPSB0aGlzLml0ZW1TaXplO1xuICAgICAgY29uc3QgZ3JpZEl0ZW1zID0gdGhpcy5ncmlkSXRlbXMgfHwgMTtcbiAgICAgIGNvbnN0IGl0ZW1TZWNvbmRhcnlTaXplID0gdGhpcy5pdGVtU2Vjb25kYXJ5U2l6ZSB8fCBpdGVtU2l6ZTtcbiAgICAgIGNvbnN0IG1pbkl0ZW1TaXplID0gdGhpcy4kX2NvbXB1dGVkTWluSXRlbVNpemU7XG4gICAgICBjb25zdCB0eXBlRmllbGQgPSB0aGlzLnR5cGVGaWVsZDtcbiAgICAgIGNvbnN0IGtleUZpZWxkID0gdGhpcy5zaW1wbGVBcnJheSA/IG51bGwgOiB0aGlzLmtleUZpZWxkO1xuICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgICAgY29uc3QgY291bnQgPSBpdGVtcy5sZW5ndGg7XG4gICAgICBjb25zdCBzaXplcyA9IHRoaXMuc2l6ZXM7XG4gICAgICBjb25zdCB2aWV3cyA9IHRoaXMuJF92aWV3cztcbiAgICAgIGNvbnN0IHVudXNlZFZpZXdzID0gdGhpcy4kX3VudXNlZFZpZXdzO1xuICAgICAgY29uc3QgcG9vbCA9IHRoaXMucG9vbDtcbiAgICAgIGNvbnN0IGl0ZW1JbmRleEJ5S2V5ID0gdGhpcy5pdGVtSW5kZXhCeUtleTtcbiAgICAgIGxldCBzdGFydEluZGV4LCBlbmRJbmRleDtcbiAgICAgIGxldCB0b3RhbFNpemU7XG4gICAgICBsZXQgdmlzaWJsZVN0YXJ0SW5kZXgsIHZpc2libGVFbmRJbmRleDtcblxuICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICBzdGFydEluZGV4ID0gZW5kSW5kZXggPSB2aXNpYmxlU3RhcnRJbmRleCA9IHZpc2libGVFbmRJbmRleCA9IHRvdGFsU2l6ZSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuJF9wcmVyZW5kZXIpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IHZpc2libGVTdGFydEluZGV4ID0gMDtcbiAgICAgICAgZW5kSW5kZXggPSB2aXNpYmxlRW5kSW5kZXggPSBNYXRoLm1pbih0aGlzLnByZXJlbmRlciwgaXRlbXMubGVuZ3RoKTtcbiAgICAgICAgdG90YWxTaXplID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuZ2V0U2Nyb2xsKCk7XG5cbiAgICAgICAgLy8gU2tpcCB1cGRhdGUgaWYgdXNlIGhhc24ndCBzY3JvbGxlZCBlbm91Z2hcbiAgICAgICAgaWYgKGNoZWNrUG9zaXRpb25EaWZmKSB7XG4gICAgICAgICAgbGV0IHBvc2l0aW9uRGlmZiA9IHNjcm9sbC5zdGFydCAtIHRoaXMuJF9sYXN0VXBkYXRlU2Nyb2xsUG9zaXRpb247XG4gICAgICAgICAgaWYgKHBvc2l0aW9uRGlmZiA8IDApIHBvc2l0aW9uRGlmZiA9IC1wb3NpdGlvbkRpZmY7XG4gICAgICAgICAgaWYgKChpdGVtU2l6ZSA9PT0gbnVsbCAmJiBwb3NpdGlvbkRpZmYgPCBtaW5JdGVtU2l6ZSkgfHwgcG9zaXRpb25EaWZmIDwgaXRlbVNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGNvbnRpbnVvdXM6IHRydWUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJF9sYXN0VXBkYXRlU2Nyb2xsUG9zaXRpb24gPSBzY3JvbGwuc3RhcnQ7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHNjcm9sbC5zdGFydCAtPSBidWZmZXI7XG4gICAgICAgIHNjcm9sbC5lbmQgKz0gYnVmZmVyO1xuXG4gICAgICAgIC8vIGFjY291bnQgZm9yIGxlYWRpbmcgc2xvdFxuICAgICAgICBsZXQgYmVmb3JlU2l6ZSA9IDA7XG4gICAgICAgIGlmICh0aGlzLiRyZWZzLmJlZm9yZSkge1xuICAgICAgICAgIGJlZm9yZVNpemUgPSB0aGlzLiRyZWZzLmJlZm9yZS5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgc2Nyb2xsLnN0YXJ0IC09IGJlZm9yZVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhY2NvdW50IGZvciB0cmFpbGluZyBzbG90XG4gICAgICAgIGlmICh0aGlzLiRyZWZzLmFmdGVyKSB7XG4gICAgICAgICAgY29uc3QgYWZ0ZXJTaXplID0gdGhpcy4kcmVmcy5hZnRlci5zY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgc2Nyb2xsLmVuZCArPSBhZnRlclNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYXJpYWJsZSBzaXplIG1vZGVcbiAgICAgICAgaWYgKGl0ZW1TaXplID09PSBudWxsKSB7XG4gICAgICAgICAgbGV0IGg7XG4gICAgICAgICAgbGV0IGEgPSAwO1xuICAgICAgICAgIGxldCBiID0gY291bnQgLSAxO1xuICAgICAgICAgIGxldCBpID0gfn4oY291bnQgLyAyKTtcbiAgICAgICAgICBsZXQgb2xkSTtcblxuICAgICAgICAgIC8vIFNlYXJjaGluZyBmb3Igc3RhcnRJbmRleFxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIG9sZEkgPSBpO1xuICAgICAgICAgICAgaCA9IHNpemVzW2ldLmFjY3VtdWxhdG9yO1xuICAgICAgICAgICAgaWYgKGggPCBzY3JvbGwuc3RhcnQpIHtcbiAgICAgICAgICAgICAgYSA9IGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCBjb3VudCAtIDEgJiYgc2l6ZXNbaSArIDFdLmFjY3VtdWxhdG9yID4gc2Nyb2xsLnN0YXJ0KSB7XG4gICAgICAgICAgICAgIGIgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSA9IH5+KChhICsgYikgLyAyKTtcbiAgICAgICAgICB9IHdoaWxlIChpICE9PSBvbGRJKVxuICAgICAgICAgIGkgPCAwICYmIChpID0gMCk7XG4gICAgICAgICAgc3RhcnRJbmRleCA9IGk7XG5cbiAgICAgICAgICAvLyBGb3IgY29udGFpbmVyIHN0eWxlXG4gICAgICAgICAgdG90YWxTaXplID0gc2l6ZXNbY291bnQgLSAxXS5hY2N1bXVsYXRvcjtcblxuICAgICAgICAgIC8vIFNlYXJjaGluZyBmb3IgZW5kSW5kZXhcbiAgICAgICAgICBmb3IgKGVuZEluZGV4ID0gaTsgZW5kSW5kZXggPCBjb3VudCAmJiBzaXplc1tlbmRJbmRleF0uYWNjdW11bGF0b3IgPCBzY3JvbGwuZW5kOyBlbmRJbmRleCsrKTtcbiAgICAgICAgICBpZiAoZW5kSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBlbmRJbmRleCA9IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuZEluZGV4Kys7XG4gICAgICAgICAgICAvLyBCb3VuZHNcbiAgICAgICAgICAgIGVuZEluZGV4ID4gY291bnQgJiYgKGVuZEluZGV4ID0gY291bnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNlYXJjaCB2aXNpYmxlIHN0YXJ0SW5kZXhcbiAgICAgICAgICBmb3IgKHZpc2libGVTdGFydEluZGV4ID0gc3RhcnRJbmRleDsgdmlzaWJsZVN0YXJ0SW5kZXggPCBjb3VudCAmJiAoYmVmb3JlU2l6ZSArIHNpemVzW3Zpc2libGVTdGFydEluZGV4XS5hY2N1bXVsYXRvcikgPCBzY3JvbGwuc3RhcnQ7IHZpc2libGVTdGFydEluZGV4KyspO1xuXG4gICAgICAgICAgLy8gc2VhcmNoIHZpc2libGUgZW5kSW5kZXhcbiAgICAgICAgICBmb3IgKHZpc2libGVFbmRJbmRleCA9IHZpc2libGVTdGFydEluZGV4OyB2aXNpYmxlRW5kSW5kZXggPCBjb3VudCAmJiAoYmVmb3JlU2l6ZSArIHNpemVzW3Zpc2libGVFbmRJbmRleF0uYWNjdW11bGF0b3IpIDwgc2Nyb2xsLmVuZDsgdmlzaWJsZUVuZEluZGV4KyspO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZpeGVkIHNpemUgbW9kZVxuICAgICAgICAgIHN0YXJ0SW5kZXggPSB+fihzY3JvbGwuc3RhcnQgLyBpdGVtU2l6ZSAqIGdyaWRJdGVtcyk7XG4gICAgICAgICAgY29uc3QgcmVtYWluZXIgPSBzdGFydEluZGV4ICUgZ3JpZEl0ZW1zO1xuICAgICAgICAgIHN0YXJ0SW5kZXggLT0gcmVtYWluZXI7XG4gICAgICAgICAgZW5kSW5kZXggPSBNYXRoLmNlaWwoc2Nyb2xsLmVuZCAvIGl0ZW1TaXplICogZ3JpZEl0ZW1zKTtcbiAgICAgICAgICB2aXNpYmxlU3RhcnRJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHNjcm9sbC5zdGFydCAtIGJlZm9yZVNpemUpIC8gaXRlbVNpemUgKiBncmlkSXRlbXMpKTtcbiAgICAgICAgICB2aXNpYmxlRW5kSW5kZXggPSBNYXRoLmZsb29yKChzY3JvbGwuZW5kIC0gYmVmb3JlU2l6ZSkgLyBpdGVtU2l6ZSAqIGdyaWRJdGVtcyk7XG5cbiAgICAgICAgICAvLyBCb3VuZHNcbiAgICAgICAgICBzdGFydEluZGV4IDwgMCAmJiAoc3RhcnRJbmRleCA9IDApO1xuICAgICAgICAgIGVuZEluZGV4ID4gY291bnQgJiYgKGVuZEluZGV4ID0gY291bnQpO1xuICAgICAgICAgIHZpc2libGVTdGFydEluZGV4IDwgMCAmJiAodmlzaWJsZVN0YXJ0SW5kZXggPSAwKTtcbiAgICAgICAgICB2aXNpYmxlRW5kSW5kZXggPiBjb3VudCAmJiAodmlzaWJsZUVuZEluZGV4ID0gY291bnQpO1xuXG4gICAgICAgICAgdG90YWxTaXplID0gTWF0aC5jZWlsKGNvdW50IC8gZ3JpZEl0ZW1zKSAqIGl0ZW1TaXplO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmRJbmRleCAtIHN0YXJ0SW5kZXggPiBjb25maWcuaXRlbXNMaW1pdCkge1xuICAgICAgICB0aGlzLml0ZW1zTGltaXRFcnJvcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRvdGFsU2l6ZSA9IHRvdGFsU2l6ZTtcblxuICAgICAgbGV0IHZpZXc7XG5cbiAgICAgIGNvbnN0IGNvbnRpbnVvdXMgPSBzdGFydEluZGV4IDw9IHRoaXMuJF9lbmRJbmRleCAmJiBlbmRJbmRleCA+PSB0aGlzLiRfc3RhcnRJbmRleDtcblxuICAgICAgLy8gVW51c2Ugdmlld3MgdGhhdCBhcmUgbm8gbG9uZ2VyIHZpc2libGVcbiAgICAgIGlmIChjb250aW51b3VzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcG9vbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2aWV3ID0gcG9vbFtpXTtcbiAgICAgICAgICBpZiAodmlldy5uci51c2VkKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdmlldyBpdGVtIGluZGV4XG4gICAgICAgICAgICBpZiAoY2hlY2tJdGVtKSB7XG4gICAgICAgICAgICAgIHZpZXcubnIuaW5kZXggPSBpdGVtSW5kZXhCeUtleVt2aWV3Lml0ZW1ba2V5RmllbGRdXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaW5kZXggaXMgc3RpbGwgaW4gdmlzaWJsZSByYW5nZVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB2aWV3Lm5yLmluZGV4ID09IG51bGwgfHxcbiAgICAgICAgICAgICAgdmlldy5uci5pbmRleCA8IHN0YXJ0SW5kZXggfHxcbiAgICAgICAgICAgICAgdmlldy5uci5pbmRleCA+PSBlbmRJbmRleFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHRoaXMudW51c2VWaWV3KHZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB1bnVzZWRJbmRleCA9IGNvbnRpbnVvdXMgPyBudWxsIDogbmV3IE1hcCgpO1xuXG4gICAgICBsZXQgaXRlbSwgdHlwZTtcbiAgICAgIGxldCB2O1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5RmllbGQgPyBpdGVtW2tleUZpZWxkXSA6IGl0ZW07XG4gICAgICAgIGlmIChrZXkgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5IGlzICR7a2V5fSBvbiBpdGVtIChrZXlGaWVsZCBpcyAnJHtrZXlGaWVsZH0nKWApXG4gICAgICAgIH1cbiAgICAgICAgdmlldyA9IHZpZXdzLmdldChrZXkpO1xuXG4gICAgICAgIGlmICghaXRlbVNpemUgJiYgIXNpemVzW2ldLnNpemUpIHtcbiAgICAgICAgICBpZiAodmlldykgdGhpcy51bnVzZVZpZXcodmlldyk7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIHR5cGUgPSBpdGVtW3R5cGVGaWVsZF07XG5cbiAgICAgICAgbGV0IHVudXNlZFBvb2wgPSB1bnVzZWRWaWV3cy5nZXQodHlwZSk7XG4gICAgICAgIGxldCBuZXdseVVzZWRWaWV3ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTm8gdmlldyBhc3NpZ25lZCB0byBpdGVtXG4gICAgICAgIGlmICghdmlldykge1xuICAgICAgICAgIGlmIChjb250aW51b3VzKSB7XG4gICAgICAgICAgICAvLyBSZXVzZSBleGlzdGluZyB2aWV3XG4gICAgICAgICAgICBpZiAodW51c2VkUG9vbCAmJiB1bnVzZWRQb29sLmxlbmd0aCkge1xuICAgICAgICAgICAgICB2aWV3ID0gdW51c2VkUG9vbC5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZpZXcgPSB0aGlzLmFkZFZpZXcocG9vbCwgaSwgaXRlbSwga2V5LCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGV4aXN0aW5nIHZpZXdcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGNhcmUgaWYgdGhleSBhcmUgYWxyZWFkeSB1c2VkXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGFyZSBub3QgaW4gY29udGlub3VzIHNjcm9sbGluZ1xuICAgICAgICAgICAgdiA9IHVudXNlZEluZGV4LmdldCh0eXBlKSB8fCAwO1xuXG4gICAgICAgICAgICBpZiAoIXVudXNlZFBvb2wgfHwgdiA+PSB1bnVzZWRQb29sLmxlbmd0aCkge1xuICAgICAgICAgICAgICB2aWV3ID0gdGhpcy5hZGRWaWV3KHBvb2wsIGksIGl0ZW0sIGtleSwgdHlwZSk7XG4gICAgICAgICAgICAgIHRoaXMudW51c2VWaWV3KHZpZXcsIHRydWUpO1xuICAgICAgICAgICAgICB1bnVzZWRQb29sID0gdW51c2VkVmlld3MuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2aWV3ID0gdW51c2VkUG9vbFt2XTtcbiAgICAgICAgICAgIHVudXNlZEluZGV4LnNldCh0eXBlLCB2ICsgMSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQXNzaWduIHZpZXcgdG8gaXRlbVxuICAgICAgICAgIHZpZXdzLmRlbGV0ZSh2aWV3Lm5yLmtleSk7XG4gICAgICAgICAgdmlldy5uci51c2VkID0gdHJ1ZTtcbiAgICAgICAgICB2aWV3Lm5yLmluZGV4ID0gaTtcbiAgICAgICAgICB2aWV3Lm5yLmtleSA9IGtleTtcbiAgICAgICAgICB2aWV3Lm5yLnR5cGUgPSB0eXBlO1xuICAgICAgICAgIHZpZXdzLnNldChrZXksIHZpZXcpO1xuXG4gICAgICAgICAgbmV3bHlVc2VkVmlldyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVmlldyBhbHJlYWR5IGFzc2lnbmVkIHRvIGl0ZW1cbiAgICAgICAgICBpZiAoIXZpZXcubnIudXNlZCkge1xuICAgICAgICAgICAgdmlldy5uci51c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld2x5VXNlZFZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHVudXNlZFBvb2wpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB1bnVzZWRQb29sLmluZGV4T2Yodmlldyk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHVudXNlZFBvb2wuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHdheXMgc2V0IGl0ZW0gaW4gY2FzZSBpdCdzIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleVxuICAgICAgICB2aWV3Lml0ZW0gPSBpdGVtO1xuXG4gICAgICAgIGlmIChuZXdseVVzZWRWaWV3KSB7XG4gICAgICAgICAgaWYgKGkgPT09IGl0ZW1zLmxlbmd0aCAtIDEpIHRoaXMuJGVtaXQoJ3Njcm9sbC1lbmQnKTtcbiAgICAgICAgICBpZiAoaSA9PT0gMCkgdGhpcy4kZW1pdCgnc2Nyb2xsLXN0YXJ0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgcG9zaXRpb25cbiAgICAgICAgaWYgKGl0ZW1TaXplID09PSBudWxsKSB7XG4gICAgICAgICAgdmlldy5wb3NpdGlvbiA9IHNpemVzW2kgLSAxXS5hY2N1bXVsYXRvcjtcbiAgICAgICAgICB2aWV3Lm9mZnNldCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlldy5wb3NpdGlvbiA9IE1hdGguZmxvb3IoaSAvIGdyaWRJdGVtcykgKiBpdGVtU2l6ZTtcbiAgICAgICAgICB2aWV3Lm9mZnNldCA9IChpICUgZ3JpZEl0ZW1zKSAqIGl0ZW1TZWNvbmRhcnlTaXplO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJF9zdGFydEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgIHRoaXMuJF9lbmRJbmRleCA9IGVuZEluZGV4O1xuXG4gICAgICBpZiAodGhpcy5lbWl0VXBkYXRlKSB0aGlzLiRlbWl0KCd1cGRhdGUnLCBzdGFydEluZGV4LCBlbmRJbmRleCwgdmlzaWJsZVN0YXJ0SW5kZXgsIHZpc2libGVFbmRJbmRleCk7XG5cbiAgICAgIC8vIEFmdGVyIHRoZSB1c2VyIGhhcyBmaW5pc2hlZCBzY3JvbGxpbmdcbiAgICAgIC8vIFNvcnQgdmlld3Mgc28gdGV4dCBzZWxlY3Rpb24gaXMgY29ycmVjdFxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuJF9zb3J0VGltZXIpO1xuICAgICAgdGhpcy4kX3NvcnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5zb3J0Vmlld3MsIHRoaXMudXBkYXRlSW50ZXJ2YWwgKyAzMDApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250aW51b3VzLFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRMaXN0ZW5lclRhcmdldCAoKSB7XG4gICAgICBsZXQgdGFyZ2V0ID0gZ2V0U2Nyb2xsUGFyZW50KHRoaXMuJGVsKTtcbiAgICAgIC8vIEZpeCBnbG9iYWwgc2Nyb2xsIHRhcmdldCBmb3IgQ2hyb21lIGFuZCBTYWZhcmlcbiAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQgJiYgKHRhcmdldCA9PT0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCB0YXJnZXQgPT09IHdpbmRvdy5kb2N1bWVudC5ib2R5KSkge1xuICAgICAgICB0YXJnZXQgPSB3aW5kb3c7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0XG4gICAgfSxcblxuICAgIGdldFNjcm9sbCAoKSB7XG4gICAgICBjb25zdCB7ICRlbDogZWwsIGRpcmVjdGlvbiB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGlzVmVydGljYWwgPSBkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCc7XG4gICAgICBsZXQgc2Nyb2xsU3RhdGU7XG5cbiAgICAgIGlmICh0aGlzLnBhZ2VNb2RlKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBib3VuZHNTaXplID0gaXNWZXJ0aWNhbCA/IGJvdW5kcy5oZWlnaHQgOiBib3VuZHMud2lkdGg7XG4gICAgICAgIGxldCBzdGFydCA9IC0oaXNWZXJ0aWNhbCA/IGJvdW5kcy50b3AgOiBib3VuZHMubGVmdCk7XG4gICAgICAgIGxldCBzaXplID0gaXNWZXJ0aWNhbCA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgICAgc2l6ZSArPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ICsgc2l6ZSA+IGJvdW5kc1NpemUpIHtcbiAgICAgICAgICBzaXplID0gYm91bmRzU2l6ZSAtIHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFN0YXRlID0ge1xuICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgIGVuZDogc3RhcnQgKyBzaXplLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgIHNjcm9sbFN0YXRlID0ge1xuICAgICAgICAgIHN0YXJ0OiBlbC5zY3JvbGxUb3AsXG4gICAgICAgICAgZW5kOiBlbC5zY3JvbGxUb3AgKyBlbC5jbGllbnRIZWlnaHQsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGxTdGF0ZSA9IHtcbiAgICAgICAgICBzdGFydDogZWwuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBlbmQ6IGVsLnNjcm9sbExlZnQgKyBlbC5jbGllbnRXaWR0aCxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNjcm9sbFN0YXRlXG4gICAgfSxcblxuICAgIGFwcGx5UGFnZU1vZGUgKCkge1xuICAgICAgaWYgKHRoaXMucGFnZU1vZGUpIHtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFkZExpc3RlbmVycyAoKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyVGFyZ2V0ID0gdGhpcy5nZXRMaXN0ZW5lclRhcmdldCgpO1xuICAgICAgdGhpcy5saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgc3VwcG9ydHNQYXNzaXZlXG4gICAgICAgID8ge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIDogZmFsc2UpO1xuICAgICAgdGhpcy5saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XG4gICAgfSxcblxuICAgIHJlbW92ZUxpc3RlbmVycyAoKSB7XG4gICAgICBpZiAoIXRoaXMubGlzdGVuZXJUYXJnZXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwpO1xuICAgICAgdGhpcy5saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XG5cbiAgICAgIHRoaXMubGlzdGVuZXJUYXJnZXQgPSBudWxsO1xuICAgIH0sXG5cbiAgICBzY3JvbGxUb0l0ZW0gKGluZGV4KSB7XG4gICAgICBsZXQgc2Nyb2xsO1xuICAgICAgY29uc3QgZ3JpZEl0ZW1zID0gdGhpcy5ncmlkSXRlbXMgfHwgMTtcbiAgICAgIGlmICh0aGlzLml0ZW1TaXplID09PSBudWxsKSB7XG4gICAgICAgIHNjcm9sbCA9IGluZGV4ID4gMCA/IHRoaXMuc2l6ZXNbaW5kZXggLSAxXS5hY2N1bXVsYXRvciA6IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGwgPSBNYXRoLmZsb29yKGluZGV4IC8gZ3JpZEl0ZW1zKSAqIHRoaXMuaXRlbVNpemU7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbFRvUG9zaXRpb24oc2Nyb2xsKTtcbiAgICB9LFxuXG4gICAgc2Nyb2xsVG9Qb3NpdGlvbiAocG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnXG4gICAgICAgID8geyBzY3JvbGw6ICdzY3JvbGxUb3AnLCBzdGFydDogJ3RvcCcgfVxuICAgICAgICA6IHsgc2Nyb2xsOiAnc2Nyb2xsTGVmdCcsIHN0YXJ0OiAnbGVmdCcgfTtcblxuICAgICAgbGV0IHZpZXdwb3J0O1xuICAgICAgbGV0IHNjcm9sbERpcmVjdGlvbjtcbiAgICAgIGxldCBzY3JvbGxEaXN0YW5jZTtcblxuICAgICAgaWYgKHRoaXMucGFnZU1vZGUpIHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbCA9IGdldFNjcm9sbFBhcmVudCh0aGlzLiRlbCk7XG4gICAgICAgIC8vIEhUTUwgZG9lc24ndCBvdmVyZmxvdyBsaWtlIG90aGVyIGVsZW1lbnRzXG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0RWwudGFnTmFtZSA9PT0gJ0hUTUwnID8gMCA6IHZpZXdwb3J0RWxbZGlyZWN0aW9uLnNjcm9sbF07XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHZpZXdwb3J0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsZXIgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsZXJQb3NpdGlvbiA9IHNjcm9sbGVyW2RpcmVjdGlvbi5zdGFydF0gLSBib3VuZHNbZGlyZWN0aW9uLnN0YXJ0XTtcblxuICAgICAgICB2aWV3cG9ydCA9IHZpZXdwb3J0RWw7XG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9IGRpcmVjdGlvbi5zY3JvbGw7XG4gICAgICAgIHNjcm9sbERpc3RhbmNlID0gcG9zaXRpb24gKyBzY3JvbGxUb3AgKyBzY3JvbGxlclBvc2l0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlld3BvcnQgPSB0aGlzLiRlbDtcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gZGlyZWN0aW9uLnNjcm9sbDtcbiAgICAgICAgc2Nyb2xsRGlzdGFuY2UgPSBwb3NpdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmlld3BvcnRbc2Nyb2xsRGlyZWN0aW9uXSA9IHNjcm9sbERpc3RhbmNlO1xuICAgIH0sXG5cbiAgICBpdGVtc0xpbWl0RXJyb3IgKCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJdCBzZWVtcyB0aGUgc2Nyb2xsZXIgZWxlbWVudCBpc25cXCd0IHNjcm9sbGluZywgc28gaXQgdHJpZXMgdG8gcmVuZGVyIGFsbCB0aGUgaXRlbXMgYXQgb25jZS4nLCAnU2Nyb2xsZXI6JywgdGhpcy4kZWwpO1xuICAgICAgICBjb25zb2xlLmxvZygnTWFrZSBzdXJlIHRoZSBzY3JvbGxlciBoYXMgYSBmaXhlZCBoZWlnaHQgKG9yIHdpZHRoKSBhbmQgXFwnb3ZlcmZsb3cteVxcJyAob3IgXFwnb3ZlcmZsb3cteFxcJykgc2V0IHRvIFxcJ2F1dG9cXCcgc28gaXQgY2FuIHNjcm9sbCBjb3JyZWN0bHkgYW5kIG9ubHkgcmVuZGVyIHRoZSBpdGVtcyB2aXNpYmxlIGluIHRoZSBzY3JvbGwgdmlld3BvcnQuJyk7XG4gICAgICB9KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVuZGVyZWQgaXRlbXMgbGltaXQgcmVhY2hlZCcpXG4gICAgfSxcblxuICAgIHNvcnRWaWV3cyAoKSB7XG4gICAgICB0aGlzLnBvb2wuc29ydCgodmlld0EsIHZpZXdCKSA9PiB2aWV3QS5uci5pbmRleCAtIHZpZXdCLm5yLmluZGV4KTtcbiAgICB9LFxuICB9LFxufTtcblxuY29uc3QgX2hvaXN0ZWRfMSA9IHtcbiAga2V5OiAwLFxuICByZWY6IFwiYmVmb3JlXCIsXG4gIGNsYXNzOiBcInZ1ZS1yZWN5Y2xlLXNjcm9sbGVyX19zbG90XCJcbn07XG5jb25zdCBfaG9pc3RlZF8yID0ge1xuICBrZXk6IDEsXG4gIHJlZjogXCJhZnRlclwiLFxuICBjbGFzczogXCJ2dWUtcmVjeWNsZS1zY3JvbGxlcl9fc2xvdFwiXG59O1xuXG5mdW5jdGlvbiByZW5kZXIkMShfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgY29uc3QgX2NvbXBvbmVudF9SZXNpemVPYnNlcnZlciA9IHJlc29sdmVDb21wb25lbnQoXCJSZXNpemVPYnNlcnZlclwiKTtcbiAgY29uc3QgX2RpcmVjdGl2ZV9vYnNlcnZlX3Zpc2liaWxpdHkgPSByZXNvbHZlRGlyZWN0aXZlKFwib2JzZXJ2ZS12aXNpYmlsaXR5XCIpO1xuXG4gIHJldHVybiB3aXRoRGlyZWN0aXZlcygob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCB7XG4gICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKFtcInZ1ZS1yZWN5Y2xlLXNjcm9sbGVyXCIsIHtcbiAgICAgIHJlYWR5OiAkZGF0YS5yZWFkeSxcbiAgICAgICdwYWdlLW1vZGUnOiAkcHJvcHMucGFnZU1vZGUsXG4gICAgICBbYGRpcmVjdGlvbi0ke19jdHguZGlyZWN0aW9ufWBdOiB0cnVlLFxuICAgIH1dKSxcbiAgICBvblNjcm9sbFBhc3NpdmU6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKC4uLmFyZ3MpID0+ICgkb3B0aW9ucy5oYW5kbGVTY3JvbGwgJiYgJG9wdGlvbnMuaGFuZGxlU2Nyb2xsKC4uLmFyZ3MpKSlcbiAgfSwgW1xuICAgIChfY3R4LiRzbG90cy5iZWZvcmUpXG4gICAgICA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEsIFtcbiAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImJlZm9yZVwiKVxuICAgICAgICBdLCA1MTIgLyogTkVFRF9QQVRDSCAqLykpXG4gICAgICA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhyZXNvbHZlRHluYW1pY0NvbXBvbmVudCgkcHJvcHMubGlzdFRhZyksIHtcbiAgICAgIHJlZjogXCJ3cmFwcGVyXCIsXG4gICAgICBzdHlsZTogbm9ybWFsaXplU3R5bGUoeyBbX2N0eC5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAnbWluSGVpZ2h0JyA6ICdtaW5XaWR0aCddOiAkZGF0YS50b3RhbFNpemUgKyAncHgnIH0pLFxuICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKFtcInZ1ZS1yZWN5Y2xlLXNjcm9sbGVyX19pdGVtLXdyYXBwZXJcIiwgJHByb3BzLmxpc3RDbGFzc10pXG4gICAgfSwge1xuICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgIChvcGVuQmxvY2sodHJ1ZSksIGNyZWF0ZUVsZW1lbnRCbG9jayhGcmFnbWVudCwgbnVsbCwgcmVuZGVyTGlzdCgkZGF0YS5wb29sLCAodmlldykgPT4ge1xuICAgICAgICAgIHJldHVybiAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHJlc29sdmVEeW5hbWljQ29tcG9uZW50KCRwcm9wcy5pdGVtVGFnKSwgbWVyZ2VQcm9wcyh7XG4gICAgICAgICAgICBrZXk6IHZpZXcubnIuaWQsXG4gICAgICAgICAgICBzdHlsZTogJGRhdGEucmVhZHkgPyB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlJHtfY3R4LmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdZJyA6ICdYJ30oJHt2aWV3LnBvc2l0aW9ufXB4KSB0cmFuc2xhdGUke19jdHguZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJ1gnIDogJ1knfSgke3ZpZXcub2Zmc2V0fXB4KWAsXG4gICAgICAgICAgd2lkdGg6ICRwcm9wcy5ncmlkSXRlbXMgPyBgJHtfY3R4LmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICRwcm9wcy5pdGVtU2Vjb25kYXJ5U2l6ZSB8fCAkcHJvcHMuaXRlbVNpemUgOiAkcHJvcHMuaXRlbVNpemV9cHhgIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGhlaWdodDogJHByb3BzLmdyaWRJdGVtcyA/IGAke19jdHguZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgPyAkcHJvcHMuaXRlbVNlY29uZGFyeVNpemUgfHwgJHByb3BzLml0ZW1TaXplIDogJHByb3BzLml0ZW1TaXplfXB4YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICBjbGFzczogW1widnVlLXJlY3ljbGUtc2Nyb2xsZXJfX2l0ZW0tdmlld1wiLCBbXG4gICAgICAgICAgJHByb3BzLml0ZW1DbGFzcyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBob3ZlcjogISRwcm9wcy5za2lwSG92ZXIgJiYgJGRhdGEuaG92ZXJLZXkgPT09IHZpZXcubnIua2V5XG4gICAgICAgICAgfSxcbiAgICAgICAgXV1cbiAgICAgICAgICB9LCB0b0hhbmRsZXJzKCRwcm9wcy5za2lwSG92ZXIgPyB7fSA6IHtcbiAgICAgICAgICBtb3VzZWVudGVyOiAoKSA9PiB7ICRkYXRhLmhvdmVyS2V5ID0gdmlldy5uci5rZXk7IH0sXG4gICAgICAgICAgbW91c2VsZWF2ZTogKCkgPT4geyAkZGF0YS5ob3ZlcktleSA9IG51bGw7IH0sXG4gICAgICAgIH0pKSwge1xuICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiLCB7XG4gICAgICAgICAgICAgICAgaXRlbTogdmlldy5pdGVtLFxuICAgICAgICAgICAgICAgIGluZGV4OiB2aWV3Lm5yLmluZGV4LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdmlldy5uci51c2VkXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqL1xuICAgICAgICAgIH0sIDEwNDAgLyogRlVMTF9QUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgW1wic3R5bGVcIiwgXCJjbGFzc1wiXSkpXG4gICAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKSxcbiAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJlbXB0eVwiKVxuICAgICAgXSksXG4gICAgICBfOiAzIC8qIEZPUldBUkRFRCAqL1xuICAgIH0sIDggLyogUFJPUFMgKi8sIFtcInN0eWxlXCIsIFwiY2xhc3NcIl0pKSxcbiAgICAoX2N0eC4kc2xvdHMuYWZ0ZXIpXG4gICAgICA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzIsIFtcbiAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImFmdGVyXCIpXG4gICAgICAgIF0sIDUxMiAvKiBORUVEX1BBVENIICovKSlcbiAgICAgIDogY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKSxcbiAgICBjcmVhdGVWTm9kZShfY29tcG9uZW50X1Jlc2l6ZU9ic2VydmVyLCB7IG9uTm90aWZ5OiAkb3B0aW9ucy5oYW5kbGVSZXNpemUgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgW1wib25Ob3RpZnlcIl0pXG4gIF0sIDM0IC8qIENMQVNTLCBIWURSQVRFX0VWRU5UUyAqLykpLCBbXG4gICAgW19kaXJlY3RpdmVfb2JzZXJ2ZV92aXNpYmlsaXR5LCAkb3B0aW9ucy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlXVxuICBdKVxufVxuXG5zY3JpcHQkMi5yZW5kZXIgPSByZW5kZXIkMTtcbnNjcmlwdCQyLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvUmVjeWNsZVNjcm9sbGVyLnZ1ZVwiO1xuXG52YXIgc2NyaXB0JDEgPSB7XG4gIG5hbWU6ICdEeW5hbWljU2Nyb2xsZXInLFxuXG4gIGNvbXBvbmVudHM6IHtcbiAgICBSZWN5Y2xlU2Nyb2xsZXI6IHNjcmlwdCQyLFxuICB9LFxuXG4gIHByb3ZpZGUgKCkge1xuICAgIGlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLiRfcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudHJpZXMpKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoZW50cnkudGFyZ2V0ICYmIGVudHJ5LnRhcmdldC4kX3ZzX29uUmVzaXplKSB7XG4gICAgICAgICAgICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAgICAgICAgICAgICBpZiAoZW50cnkuYm9yZGVyQm94U2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyU2l6ZSA9IGVudHJ5LmJvcmRlckJveFNpemVbMF07XG4gICAgICAgICAgICAgICAgd2lkdGggPSByZXNpemVPYnNlcnZlclNpemUuaW5saW5lU2l6ZTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSByZXNpemVPYnNlcnZlclNpemUuYmxvY2tTaXplO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEBUT0RPIHJlbW92ZSB3aGVuIGNvbnRlbnRSZWN0IGlzIGRlcHJlY2F0ZWRcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbnRyeS50YXJnZXQuJF92c19vblJlc2l6ZShlbnRyeS50YXJnZXQuJF92c19pZCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2c2Nyb2xsRGF0YTogdGhpcy52c2Nyb2xsRGF0YSxcbiAgICAgIHZzY3JvbGxQYXJlbnQ6IHRoaXMsXG4gICAgICB2c2Nyb2xsUmVzaXplT2JzZXJ2ZXI6IHRoaXMuJF9yZXNpemVPYnNlcnZlcixcbiAgICB9XG4gIH0sXG5cbiAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcblxuICBwcm9wczoge1xuICAgIC4uLnByb3BzLFxuXG4gICAgbWluSXRlbVNpemU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICB9LFxuXG4gIGVtaXRzOiBbXG4gICAgJ3Jlc2l6ZScsXG4gICAgJ3Zpc2libGUnLFxuICBdLFxuXG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2c2Nyb2xsRGF0YToge1xuICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgIHNpemVzOiB7fSxcbiAgICAgICAga2V5RmllbGQ6IHRoaXMua2V5RmllbGQsXG4gICAgICAgIHNpbXBsZUFycmF5OiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfVxuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgc2ltcGxlQXJyYXksXG5cbiAgICBpdGVtc1dpdGhTaXplICgpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgY29uc3QgeyBpdGVtcywga2V5RmllbGQsIHNpbXBsZUFycmF5IH0gPSB0aGlzO1xuICAgICAgY29uc3Qgc2l6ZXMgPSB0aGlzLnZzY3JvbGxEYXRhLnNpemVzO1xuICAgICAgY29uc3QgbCA9IGl0ZW1zLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgY29uc3QgaWQgPSBzaW1wbGVBcnJheSA/IGkgOiBpdGVtW2tleUZpZWxkXTtcbiAgICAgICAgbGV0IHNpemUgPSBzaXplc1tpZF07XG4gICAgICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuJF91bmRlZmluZWRNYXBbaWRdKSB7XG4gICAgICAgICAgc2l6ZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSxcbiAgfSxcblxuICB3YXRjaDoge1xuICAgIGl0ZW1zICgpIHtcbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9LFxuXG4gICAgc2ltcGxlQXJyYXk6IHtcbiAgICAgIGhhbmRsZXIgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudnNjcm9sbERhdGEuc2ltcGxlQXJyYXkgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBpbW1lZGlhdGU6IHRydWUsXG4gICAgfSxcblxuICAgIGRpcmVjdGlvbiAodmFsdWUpIHtcbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUodHJ1ZSk7XG4gICAgfSxcblxuICAgIGl0ZW1zV2l0aFNpemUgKG5leHQsIHByZXYpIHtcbiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHRoaXMuJGVsLnNjcm9sbFRvcDtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIGRpZmYgYmV0d2VlbiBwcmV2IGFuZCBuZXh0IHNpemVzXG4gICAgICAvLyBvdmVyIGN1cnJlbnQgc2Nyb2xsIHRvcC4gVGhlbiBhZGQgaXQgdG8gc2Nyb2xsVG9wIHRvXG4gICAgICAvLyBhdm9pZCBqdW1waW5nIHRoZSBjb250ZW50cyB0aGF0IHRoZSB1c2VyIGlzIHNlZWluZy5cbiAgICAgIGxldCBwcmV2QWN0aXZlVG9wID0gMDsgbGV0IGFjdGl2ZVRvcCA9IDA7XG4gICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihuZXh0Lmxlbmd0aCwgcHJldi5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJldkFjdGl2ZVRvcCA+PSBzY3JvbGxUb3ApIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHByZXZBY3RpdmVUb3AgKz0gcHJldltpXS5zaXplIHx8IHRoaXMubWluSXRlbVNpemU7XG4gICAgICAgIGFjdGl2ZVRvcCArPSBuZXh0W2ldLnNpemUgfHwgdGhpcy5taW5JdGVtU2l6ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9mZnNldCA9IGFjdGl2ZVRvcCAtIHByZXZBY3RpdmVUb3A7XG5cbiAgICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGVsLnNjcm9sbFRvcCArPSBvZmZzZXQ7XG4gICAgfSxcbiAgfSxcblxuICBiZWZvcmVDcmVhdGUgKCkge1xuICAgIHRoaXMuJF91cGRhdGVzID0gW107XG4gICAgdGhpcy4kX3VuZGVmaW5lZFNpemVzID0gMDtcbiAgICB0aGlzLiRfdW5kZWZpbmVkTWFwID0ge307XG4gICAgdGhpcy4kX2V2ZW50cyA9IG1pdHQoKTtcbiAgfSxcblxuICBhY3RpdmF0ZWQgKCkge1xuICAgIHRoaXMudnNjcm9sbERhdGEuYWN0aXZlID0gdHJ1ZTtcbiAgfSxcblxuICBkZWFjdGl2YXRlZCAoKSB7XG4gICAgdGhpcy52c2Nyb2xsRGF0YS5hY3RpdmUgPSBmYWxzZTtcbiAgfSxcblxuICB1bm1vdW50ZWQgKCkge1xuICAgIHRoaXMuJF9ldmVudHMuYWxsLmNsZWFyKCk7XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIG9uU2Nyb2xsZXJSZXNpemUgKCkge1xuICAgICAgY29uc3Qgc2Nyb2xsZXIgPSB0aGlzLiRyZWZzLnNjcm9sbGVyO1xuICAgICAgaWYgKHNjcm9sbGVyKSB7XG4gICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJGVtaXQoJ3Jlc2l6ZScpO1xuICAgIH0sXG5cbiAgICBvblNjcm9sbGVyVmlzaWJsZSAoKSB7XG4gICAgICB0aGlzLiRfZXZlbnRzLmVtaXQoJ3ZzY3JvbGw6dXBkYXRlJywgeyBmb3JjZTogZmFsc2UgfSk7XG4gICAgICB0aGlzLiRlbWl0KCd2aXNpYmxlJyk7XG4gICAgfSxcblxuICAgIGZvcmNlVXBkYXRlIChjbGVhciA9IGZhbHNlKSB7XG4gICAgICBpZiAoY2xlYXIgfHwgdGhpcy5zaW1wbGVBcnJheSkge1xuICAgICAgICB0aGlzLnZzY3JvbGxEYXRhLnNpemVzID0ge307XG4gICAgICB9XG4gICAgICB0aGlzLiRfZXZlbnRzLmVtaXQoJ3ZzY3JvbGw6dXBkYXRlJywgeyBmb3JjZTogdHJ1ZSB9KTtcbiAgICB9LFxuXG4gICAgc2Nyb2xsVG9JdGVtIChpbmRleCkge1xuICAgICAgY29uc3Qgc2Nyb2xsZXIgPSB0aGlzLiRyZWZzLnNjcm9sbGVyO1xuICAgICAgaWYgKHNjcm9sbGVyKSBzY3JvbGxlci5zY3JvbGxUb0l0ZW0oaW5kZXgpO1xuICAgIH0sXG5cbiAgICBnZXRJdGVtU2l6ZSAoaXRlbSwgaW5kZXggPSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGlkID0gdGhpcy5zaW1wbGVBcnJheSA/IChpbmRleCAhPSBudWxsID8gaW5kZXggOiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkpIDogaXRlbVt0aGlzLmtleUZpZWxkXTtcbiAgICAgIHJldHVybiB0aGlzLnZzY3JvbGxEYXRhLnNpemVzW2lkXSB8fCAwXG4gICAgfSxcblxuICAgIHNjcm9sbFRvQm90dG9tICgpIHtcbiAgICAgIGlmICh0aGlzLiRfc2Nyb2xsaW5nVG9Cb3R0b20pIHJldHVyblxuICAgICAgdGhpcy4kX3Njcm9sbGluZ1RvQm90dG9tID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGVsID0gdGhpcy4kZWw7XG4gICAgICAvLyBJdGVtIGlzIGluc2VydGVkIHRvIHRoZSBET01cbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0ICsgNTAwMDtcbiAgICAgICAgLy8gSXRlbSBzaXplcyBhcmUgY29tcHV0ZWRcbiAgICAgICAgY29uc3QgY2IgPSAoKSA9PiB7XG4gICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0ICsgNTAwMDtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0ICsgNTAwMDtcbiAgICAgICAgICAgIGlmICh0aGlzLiRfdW5kZWZpbmVkU2l6ZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhpcy4kX3Njcm9sbGluZ1RvQm90dG9tID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgY29uc3QgX2NvbXBvbmVudF9SZWN5Y2xlU2Nyb2xsZXIgPSByZXNvbHZlQ29tcG9uZW50KFwiUmVjeWNsZVNjcm9sbGVyXCIpO1xuXG4gIHJldHVybiAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKF9jb21wb25lbnRfUmVjeWNsZVNjcm9sbGVyLCBtZXJnZVByb3BzKHtcbiAgICByZWY6IFwic2Nyb2xsZXJcIixcbiAgICBpdGVtczogJG9wdGlvbnMuaXRlbXNXaXRoU2l6ZSxcbiAgICBcIm1pbi1pdGVtLXNpemVcIjogJHByb3BzLm1pbkl0ZW1TaXplLFxuICAgIGRpcmVjdGlvbjogX2N0eC5kaXJlY3Rpb24sXG4gICAgXCJrZXktZmllbGRcIjogXCJpZFwiLFxuICAgIFwibGlzdC10YWdcIjogX2N0eC5saXN0VGFnLFxuICAgIFwiaXRlbS10YWdcIjogX2N0eC5pdGVtVGFnXG4gIH0sIF9jdHguJGF0dHJzLCB7XG4gICAgb25SZXNpemU6ICRvcHRpb25zLm9uU2Nyb2xsZXJSZXNpemUsXG4gICAgb25WaXNpYmxlOiAkb3B0aW9ucy5vblNjcm9sbGVyVmlzaWJsZVxuICB9KSwge1xuICAgIGRlZmF1bHQ6IHdpdGhDdHgoKHsgaXRlbTogaXRlbVdpdGhTaXplLCBpbmRleCwgYWN0aXZlIH0pID0+IFtcbiAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiLCBub3JtYWxpemVQcm9wcyhndWFyZFJlYWN0aXZlUHJvcHMoe1xuICAgICAgICAgIGl0ZW06IGl0ZW1XaXRoU2l6ZS5pdGVtLFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIGFjdGl2ZSxcbiAgICAgICAgICBpdGVtV2l0aFNpemVcbiAgICAgICAgfSkpKVxuICAgIF0pLFxuICAgIGJlZm9yZTogd2l0aEN0eCgoKSA9PiBbXG4gICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImJlZm9yZVwiKVxuICAgIF0pLFxuICAgIGFmdGVyOiB3aXRoQ3R4KCgpID0+IFtcbiAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiYWZ0ZXJcIilcbiAgICBdKSxcbiAgICBlbXB0eTogd2l0aEN0eCgoKSA9PiBbXG4gICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImVtcHR5XCIpXG4gICAgXSksXG4gICAgXzogMyAvKiBGT1JXQVJERUQgKi9cbiAgfSwgMTYgLyogRlVMTF9QUk9QUyAqLywgW1wiaXRlbXNcIiwgXCJtaW4taXRlbS1zaXplXCIsIFwiZGlyZWN0aW9uXCIsIFwibGlzdC10YWdcIiwgXCJpdGVtLXRhZ1wiLCBcIm9uUmVzaXplXCIsIFwib25WaXNpYmxlXCJdKSlcbn1cblxuc2NyaXB0JDEucmVuZGVyID0gcmVuZGVyO1xuc2NyaXB0JDEuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9EeW5hbWljU2Nyb2xsZXIudnVlXCI7XG5cbnZhciBzY3JpcHQgPSB7XG4gIG5hbWU6ICdEeW5hbWljU2Nyb2xsZXJJdGVtJyxcblxuICBpbmplY3Q6IFtcbiAgICAndnNjcm9sbERhdGEnLFxuICAgICd2c2Nyb2xsUGFyZW50JyxcbiAgICAndnNjcm9sbFJlc2l6ZU9ic2VydmVyJyxcbiAgXSxcblxuICBwcm9wczoge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvcmVxdWlyZS1wcm9wLXR5cGVzXG4gICAgaXRlbToge1xuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcblxuICAgIHdhdGNoRGF0YToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHZpZXcgaXMgYWN0aXZlbHkgdXNlZCB0byBkaXNwbGF5IGFuIGl0ZW0uXG4gICAgICovXG4gICAgYWN0aXZlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcblxuICAgIGluZGV4OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWQsXG4gICAgfSxcblxuICAgIHNpemVEZXBlbmRlbmNpZXM6IHtcbiAgICAgIHR5cGU6IFtBcnJheSwgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcblxuICAgIGVtaXRSZXNpemU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgdGFnOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnZGl2JyxcbiAgICB9LFxuICB9LFxuXG4gIGVtaXRzOiBbXG4gICAgJ3Jlc2l6ZScsXG4gIF0sXG5cbiAgY29tcHV0ZWQ6IHtcbiAgICBpZCAoKSB7XG4gICAgICBpZiAodGhpcy52c2Nyb2xsRGF0YS5zaW1wbGVBcnJheSkgcmV0dXJuIHRoaXMuaW5kZXhcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgIGlmICh0aGlzLnZzY3JvbGxEYXRhLmtleUZpZWxkIGluIHRoaXMuaXRlbSkgcmV0dXJuIHRoaXMuaXRlbVt0aGlzLnZzY3JvbGxEYXRhLmtleUZpZWxkXVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBrZXlGaWVsZCAnJHt0aGlzLnZzY3JvbGxEYXRhLmtleUZpZWxkfScgbm90IGZvdW5kIGluIHlvdXIgaXRlbS4gWW91IHNob3VsZCBzZXQgYSB2YWxpZCBrZXlGaWVsZCBwcm9wIG9uIHlvdXIgU2Nyb2xsZXJgKVxuICAgIH0sXG5cbiAgICBzaXplICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZzY3JvbGxEYXRhLnNpemVzW3RoaXMuaWRdIHx8IDBcbiAgICB9LFxuXG4gICAgZmluYWxBY3RpdmUgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlICYmIHRoaXMudnNjcm9sbERhdGEuYWN0aXZlXG4gICAgfSxcbiAgfSxcblxuICB3YXRjaDoge1xuICAgIHdhdGNoRGF0YTogJ3VwZGF0ZVdhdGNoRGF0YScsXG5cbiAgICBpZCAodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICB0aGlzLiRlbC4kX3ZzX2lkID0gdGhpcy5pZDtcbiAgICAgIGlmICghdGhpcy5zaXplKSB7XG4gICAgICAgIHRoaXMub25EYXRhVXBkYXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLiRfc2l6ZU9ic2VydmVkKSB7XG4gICAgICAgIC8vIEluIGNhc2UgdGhlIG9sZCBpdGVtIGhhZCB0aGUgc2FtZSBzaXplLCBpdCB3b24ndCB0cmlnZ2VyIHRoZSBSZXNpemVPYnNlcnZlclxuICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgcmV1c2luZyB0aGUgc2FtZSBET00gbm9kZVxuICAgICAgICBjb25zdCBvbGRTaXplID0gdGhpcy52c2Nyb2xsRGF0YS5zaXplc1tvbGRWYWx1ZV07XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnZzY3JvbGxEYXRhLnNpemVzW3ZhbHVlXTtcbiAgICAgICAgaWYgKG9sZFNpemUgIT0gbnVsbCAmJiBvbGRTaXplICE9PSBzaXplKSB7XG4gICAgICAgICAgdGhpcy5hcHBseVNpemUob2xkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluYWxBY3RpdmUgKHZhbHVlKSB7XG4gICAgICBpZiAoIXRoaXMuc2l6ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoIXRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZE1hcFt0aGlzLmlkXSkge1xuICAgICAgICAgICAgdGhpcy52c2Nyb2xsUGFyZW50LiRfdW5kZWZpbmVkU2l6ZXMrKztcbiAgICAgICAgICAgIHRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZE1hcFt0aGlzLmlkXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRNYXBbdGhpcy5pZF0pIHtcbiAgICAgICAgICAgIHRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZFNpemVzLS07XG4gICAgICAgICAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRNYXBbdGhpcy5pZF0gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudnNjcm9sbFJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZVNpemUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVub2JzZXJ2ZVNpemUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0aGlzLiRfcGVuZGluZ1ZTY3JvbGxVcGRhdGUgPT09IHRoaXMuaWQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTaXplKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICBjcmVhdGVkICgpIHtcbiAgICBpZiAodGhpcy4kaXNTZXJ2ZXIpIHJldHVyblxuXG4gICAgdGhpcy4kX2ZvcmNlTmV4dFZTY3JvbGxVcGRhdGUgPSBudWxsO1xuICAgIHRoaXMudXBkYXRlV2F0Y2hEYXRhKCk7XG5cbiAgICBpZiAoIXRoaXMudnNjcm9sbFJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy5zaXplRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuJHdhdGNoKCgpID0+IHRoaXMuc2l6ZURlcGVuZGVuY2llc1trXSwgdGhpcy5vbkRhdGFVcGRhdGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF9ldmVudHMub24oJ3ZzY3JvbGw6dXBkYXRlJywgdGhpcy5vblZzY3JvbGxVcGRhdGUpO1xuICAgIH1cbiAgfSxcblxuICBtb3VudGVkICgpIHtcbiAgICBpZiAodGhpcy5maW5hbEFjdGl2ZSkge1xuICAgICAgdGhpcy51cGRhdGVTaXplKCk7XG4gICAgICB0aGlzLm9ic2VydmVTaXplKCk7XG4gICAgfVxuICB9LFxuXG4gIGJlZm9yZVVubW91bnQgKCkge1xuICAgIHRoaXMudnNjcm9sbFBhcmVudC4kX2V2ZW50cy5vZmYoJ3ZzY3JvbGw6dXBkYXRlJywgdGhpcy5vblZzY3JvbGxVcGRhdGUpO1xuICAgIHRoaXMudW5vYnNlcnZlU2l6ZSgpO1xuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICB1cGRhdGVTaXplICgpIHtcbiAgICAgIGlmICh0aGlzLmZpbmFsQWN0aXZlKSB7XG4gICAgICAgIGlmICh0aGlzLiRfcGVuZGluZ1NpemVVcGRhdGUgIT09IHRoaXMuaWQpIHtcbiAgICAgICAgICB0aGlzLiRfcGVuZGluZ1NpemVVcGRhdGUgPSB0aGlzLmlkO1xuICAgICAgICAgIHRoaXMuJF9mb3JjZU5leHRWU2Nyb2xsVXBkYXRlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLiRfcGVuZGluZ1ZTY3JvbGxVcGRhdGUgPSBudWxsO1xuICAgICAgICAgIHRoaXMuY29tcHV0ZVNpemUodGhpcy5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJF9mb3JjZU5leHRWU2Nyb2xsVXBkYXRlID0gdGhpcy5pZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlV2F0Y2hEYXRhICgpIHtcbiAgICAgIGlmICh0aGlzLndhdGNoRGF0YSAmJiAhdGhpcy52c2Nyb2xsUmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy4kX3dhdGNoRGF0YSA9IHRoaXMuJHdhdGNoKCdpdGVtJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMub25EYXRhVXBkYXRlKCk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBkZWVwOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy4kX3dhdGNoRGF0YSkge1xuICAgICAgICB0aGlzLiRfd2F0Y2hEYXRhKCk7XG4gICAgICAgIHRoaXMuJF93YXRjaERhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBvblZzY3JvbGxVcGRhdGUgKHsgZm9yY2UgfSkge1xuICAgICAgLy8gSWYgbm90IGFjdGl2ZSwgc2VjaGVkdWxlIGEgc2l6ZSB1cGRhdGUgd2hlbiBpdCBiZWNvbWVzIGFjdGl2ZVxuICAgICAgaWYgKCF0aGlzLmZpbmFsQWN0aXZlICYmIGZvcmNlKSB7XG4gICAgICAgIHRoaXMuJF9wZW5kaW5nVlNjcm9sbFVwZGF0ZSA9IHRoaXMuaWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLiRfZm9yY2VOZXh0VlNjcm9sbFVwZGF0ZSA9PT0gdGhpcy5pZCB8fCBmb3JjZSB8fCAhdGhpcy5zaXplKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBvbkRhdGFVcGRhdGUgKCkge1xuICAgICAgdGhpcy51cGRhdGVTaXplKCk7XG4gICAgfSxcblxuICAgIGNvbXB1dGVTaXplIChpZCkge1xuICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pZCA9PT0gaWQpIHtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuJGVsLm9mZnNldFdpZHRoO1xuICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuJGVsLm9mZnNldEhlaWdodDtcbiAgICAgICAgICB0aGlzLmFwcGx5V2lkdGhIZWlnaHQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kX3BlbmRpbmdTaXplVXBkYXRlID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhcHBseVdpZHRoSGVpZ2h0ICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICBjb25zdCBzaXplID0gfn4odGhpcy52c2Nyb2xsUGFyZW50LmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IGhlaWdodCA6IHdpZHRoKTtcbiAgICAgIGlmIChzaXplICYmIHRoaXMuc2l6ZSAhPT0gc2l6ZSkge1xuICAgICAgICB0aGlzLmFwcGx5U2l6ZShzaXplKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXBwbHlTaXplIChzaXplKSB7XG4gICAgICBpZiAodGhpcy52c2Nyb2xsUGFyZW50LiRfdW5kZWZpbmVkTWFwW3RoaXMuaWRdKSB7XG4gICAgICAgIHRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZFNpemVzLS07XG4gICAgICAgIHRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZE1hcFt0aGlzLmlkXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHRoaXMudnNjcm9sbERhdGEuc2l6ZXNbdGhpcy5pZF0gPSBzaXplO1xuICAgICAgaWYgKHRoaXMuZW1pdFJlc2l6ZSkgdGhpcy4kZW1pdCgncmVzaXplJywgdGhpcy5pZCk7XG4gICAgfSxcblxuICAgIG9ic2VydmVTaXplICgpIHtcbiAgICAgIGlmICghdGhpcy52c2Nyb2xsUmVzaXplT2JzZXJ2ZXIpIHJldHVyblxuICAgICAgaWYgKHRoaXMuJF9zaXplT2JzZXJ2ZWQpIHJldHVyblxuICAgICAgdGhpcy52c2Nyb2xsUmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRlbCk7XG4gICAgICB0aGlzLiRlbC4kX3ZzX2lkID0gdGhpcy5pZDtcbiAgICAgIHRoaXMuJGVsLiRfdnNfb25SZXNpemUgPSB0aGlzLm9uUmVzaXplO1xuICAgICAgdGhpcy4kX3NpemVPYnNlcnZlZCA9IHRydWU7XG4gICAgfSxcblxuICAgIHVub2JzZXJ2ZVNpemUgKCkge1xuICAgICAgaWYgKCF0aGlzLnZzY3JvbGxSZXNpemVPYnNlcnZlcikgcmV0dXJuXG4gICAgICBpZiAoIXRoaXMuJF9zaXplT2JzZXJ2ZWQpIHJldHVyblxuICAgICAgdGhpcy52c2Nyb2xsUmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuJGVsKTtcbiAgICAgIHRoaXMuJGVsLiRfdnNfb25SZXNpemUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLiRfc2l6ZU9ic2VydmVkID0gZmFsc2U7XG4gICAgfSxcblxuICAgIG9uUmVzaXplIChpZCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgaWYgKHRoaXMuaWQgPT09IGlkKSB7XG4gICAgICAgIHRoaXMuYXBwbHlXaWR0aEhlaWdodCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIGgodGhpcy50YWcsIHRoaXMuJHNsb3RzLmRlZmF1bHQoKSlcbiAgfSxcbn07XG5cbnNjcmlwdC5fX2ZpbGUgPSBcInNyYy9jb21wb25lbnRzL0R5bmFtaWNTY3JvbGxlckl0ZW0udnVlXCI7XG5cbmZ1bmN0aW9uIElkU3RhdGUgKCkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgX3JlZiRpZFByb3AgPSBfcmVmLmlkUHJvcCxcbiAgICBpZFByb3AgPSBfcmVmJGlkUHJvcCA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKHZtKSB7XG4gICAgICByZXR1cm4gdm0uaXRlbS5pZDtcbiAgICB9IDogX3JlZiRpZFByb3A7XG4gIHZhciBzdG9yZSA9IHJlYWN0aXZlKHt9KTtcblxuICAvLyBAdnVlL2NvbXBvbmVudFxuICByZXR1cm4ge1xuICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZFN0YXRlOiBudWxsXG4gICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLiRfaWQgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBpZFByb3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy4kX2dldElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBpZFByb3AuY2FsbChfdGhpcywgX3RoaXMpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kX2dldElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpc1tpZFByb3BdO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdGhpcy4kd2F0Y2godGhpcy4kX2dldElkLCB7XG4gICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuJF9pZCA9IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy4kX3VwZGF0ZUlkU3RhdGUoKTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlVXBkYXRlKCkge1xuICAgICAgdGhpcy4kX3VwZGF0ZUlkU3RhdGUoKTtcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIC8qKlxuICAgICAgICogSW5pdGlhbGl6ZSBhbiBpZFN0YXRlXG4gICAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGlkIFVuaXF1ZSBpZCBmb3IgdGhlIGRhdGFcbiAgICAgICAqLyRfaWRTdGF0ZUluaXQ6IGZ1bmN0aW9uICRfaWRTdGF0ZUluaXQoaWQpIHtcbiAgICAgICAgdmFyIGZhY3RvcnkgPSB0aGlzLiRvcHRpb25zLmlkU3RhdGU7XG4gICAgICAgIGlmICh0eXBlb2YgZmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBkYXRhID0gZmFjdG9yeS5jYWxsKHRoaXMsIHRoaXMpO1xuICAgICAgICAgIHN0b3JlW2lkXSA9IGRhdGE7XG4gICAgICAgICAgdGhpcy4kX2lkID0gaWQ7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbbWl4aW4gSWRTdGF0ZV0gTWlzc2luZyBgaWRTdGF0ZWAgZnVuY3Rpb24gb24gY29tcG9uZW50IGRlZmluaXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEVuc3VyZSBpZFN0YXRlIGlzIGNyZWF0ZWQgYW5kIHVwLXRvLWRhdGVcbiAgICAgICAqLyRfdXBkYXRlSWRTdGF0ZTogZnVuY3Rpb24gJF91cGRhdGVJZFN0YXRlKCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLiRfZ2V0SWQoKTtcbiAgICAgICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyBpZCBmb3VuZCBmb3IgSWRTdGF0ZSB3aXRoIGlkUHJvcDogJ1wiLmNvbmNhdChpZFByb3AsIFwiJy5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPT0gdGhpcy4kX2lkKSB7XG4gICAgICAgICAgaWYgKCFzdG9yZVtpZF0pIHtcbiAgICAgICAgICAgIHRoaXMuJF9pZFN0YXRlSW5pdChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaWRTdGF0ZSA9IHN0b3JlW2lkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnRzKGFwcCwgcHJlZml4KSB7XG4gIGFwcC5jb21wb25lbnQoXCJcIi5jb25jYXQocHJlZml4LCBcInJlY3ljbGUtc2Nyb2xsZXJcIiksIHNjcmlwdCQyKTtcbiAgYXBwLmNvbXBvbmVudChcIlwiLmNvbmNhdChwcmVmaXgsIFwiUmVjeWNsZVNjcm9sbGVyXCIpLCBzY3JpcHQkMik7XG4gIGFwcC5jb21wb25lbnQoXCJcIi5jb25jYXQocHJlZml4LCBcImR5bmFtaWMtc2Nyb2xsZXJcIiksIHNjcmlwdCQxKTtcbiAgYXBwLmNvbXBvbmVudChcIlwiLmNvbmNhdChwcmVmaXgsIFwiRHluYW1pY1Njcm9sbGVyXCIpLCBzY3JpcHQkMSk7XG4gIGFwcC5jb21wb25lbnQoXCJcIi5jb25jYXQocHJlZml4LCBcImR5bmFtaWMtc2Nyb2xsZXItaXRlbVwiKSwgc2NyaXB0KTtcbiAgYXBwLmNvbXBvbmVudChcIlwiLmNvbmNhdChwcmVmaXgsIFwiRHluYW1pY1Njcm9sbGVySXRlbVwiKSwgc2NyaXB0KTtcbn1cbnZhciBwbHVnaW4gPSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2ZXJzaW9uOiBcIjIuMC4wLWJldGEuOFwiLFxuICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKGFwcCwgb3B0aW9ucykge1xuICAgIHZhciBmaW5hbE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICBpbnN0YWxsQ29tcG9uZW50czogdHJ1ZSxcbiAgICAgIGNvbXBvbmVudHNQcmVmaXg6ICcnXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIga2V5IGluIGZpbmFsT3B0aW9ucykge1xuICAgICAgaWYgKHR5cGVvZiBmaW5hbE9wdGlvbnNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uZmlnW2tleV0gPSBmaW5hbE9wdGlvbnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpbmFsT3B0aW9ucy5pbnN0YWxsQ29tcG9uZW50cykge1xuICAgICAgcmVnaXN0ZXJDb21wb25lbnRzKGFwcCwgZmluYWxPcHRpb25zLmNvbXBvbmVudHNQcmVmaXgpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IHsgc2NyaXB0JDEgYXMgRHluYW1pY1Njcm9sbGVyLCBzY3JpcHQgYXMgRHluYW1pY1Njcm9sbGVySXRlbSwgSWRTdGF0ZSwgc2NyaXB0JDIgYXMgUmVjeWNsZVNjcm9sbGVyLCBwbHVnaW4gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dnVlLXZpcnR1YWwtc2Nyb2xsZXIuZXNtLmpzLm1hcFxuIiwiLyohXG4gKiBwaW5pYSB2My4wLjRcbiAqIChjKSAyMDI1IEVkdWFyZG8gU2FuIE1hcnRpbiBNb3JvdGVcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5pbXBvcnQgeyBoYXNJbmplY3Rpb25Db250ZXh0LCBpbmplY3QsIHRvUmF3LCB3YXRjaCwgdW5yZWYsIG1hcmtSYXcsIGVmZmVjdFNjb3BlLCByZWYsIGlzUmVmLCBpc1JlYWN0aXZlLCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCBnZXRDdXJyZW50SW5zdGFuY2UsIHJlYWN0aXZlLCB0b1JlZiwgbmV4dFRpY2ssIGNvbXB1dGVkLCB0b1JlZnMgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXG4gKiBgZmV0Y2hgLCBgc2V0dXBgLCBgc2VydmVyUHJlZmV0Y2hgIGFuZCBvdGhlcnNcbiAqL1xubGV0IGFjdGl2ZVBpbmlhO1xuLyoqXG4gKiBTZXRzIG9yIHVuc2V0cyB0aGUgYWN0aXZlIHBpbmlhLiBVc2VkIGluIFNTUiBhbmQgaW50ZXJuYWxseSB3aGVuIGNhbGxpbmdcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcbiAqXG4gKiBAcGFyYW0gcGluaWEgLSBQaW5pYSBpbnN0YW5jZVxuICovXG4vLyBAdHMtZXhwZWN0LWVycm9yOiBjYW5ub3QgY29uc3RyYWluIHRoZSB0eXBlIG9mIHRoZSByZXR1cm5cbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XG4vKipcbiAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBwaW5pYSBpZiB0aGVyZSBpcyBhbnkuXG4gKi9cbmNvbnN0IGdldEFjdGl2ZVBpbmlhID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgPyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpbmlhID0gaGFzSW5qZWN0aW9uQ29udGV4dCgpICYmIGluamVjdChwaW5pYVN5bWJvbCk7XG4gICAgICAgIGlmICghcGluaWEgJiYgIUlTX0NMSUVOVCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW/CfjY1dOiBQaW5pYSBpbnN0YW5jZSBub3QgZm91bmQgaW4gY29udGV4dC4gVGhpcyBmYWxscyBiYWNrIHRvIHRoZSBnbG9iYWwgYWN0aXZlUGluaWEgd2hpY2ggZXhwb3NlcyB5b3UgdG8gY3Jvc3MtcmVxdWVzdCBwb2xsdXRpb24gb24gdGhlIHNlcnZlci4gTW9zdCBvZiB0aGUgdGltZSwgaXQgbWVhbnMgeW91IGFyZSBjYWxsaW5nIFwidXNlU3RvcmUoKVwiIGluIHRoZSB3cm9uZyBwbGFjZS5cXG5gICtcbiAgICAgICAgICAgICAgICBgUmVhZCBodHRwczovL3Z1ZWpzLm9yZy9ndWlkZS9yZXVzYWJpbGl0eS9jb21wb3NhYmxlcy5odG1sIHRvIGxlYXJuIG1vcmVgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGluaWEgfHwgYWN0aXZlUGluaWE7XG4gICAgfVxuICAgIDogKCkgPT4gKGhhc0luamVjdGlvbkNvbnRleHQoKSAmJiBpbmplY3QocGluaWFTeW1ib2wpKSB8fCBhY3RpdmVQaW5pYTtcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5vKSB7XG4gICAgcmV0dXJuIChvICYmXG4gICAgICAgIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IE9iamVjdF0nICYmXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XG59XG4vLyB0eXBlIERlZXBSZWFkb25seTxUPiA9IHsgcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IERlZXBSZWFkb25seTxUW1BdPiB9XG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XG4vKipcbiAqIFBvc3NpYmxlIHR5cGVzIGZvciBTdWJzY3JpcHRpb25DYWxsYmFja1xuICovXG52YXIgTXV0YXRpb25UeXBlO1xuKGZ1bmN0aW9uIChNdXRhdGlvblR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBEaXJlY3QgbXV0YXRpb24gb2YgdGhlIHN0YXRlOlxuICAgICAqXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXG4gICAgICogLSBgc3RvcmUuJHN0YXRlLm5hbWUgPSAnbmV3IG5hbWUnYFxuICAgICAqIC0gYHN0b3JlLmxpc3QucHVzaCgnbmV3IGl0ZW0nKWBcbiAgICAgKi9cbiAgICBNdXRhdGlvblR5cGVbXCJkaXJlY3RcIl0gPSBcImRpcmVjdFwiO1xuICAgIC8qKlxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHsgbmFtZTogJ25ld05hbWUnIH0pYFxuICAgICAqL1xuICAgIE11dGF0aW9uVHlwZVtcInBhdGNoT2JqZWN0XCJdID0gXCJwYXRjaCBvYmplY3RcIjtcbiAgICAvKipcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS4kcGF0Y2goc3RhdGUgPT4gc3RhdGUubmFtZSA9ICduZXdOYW1lJylgXG4gICAgICovXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hGdW5jdGlvblwiXSA9IFwicGF0Y2ggZnVuY3Rpb25cIjtcbiAgICAvLyBtYXliZSByZXNldD8gZm9yICRzdGF0ZSA9IHt9IGFuZCAkcmVzZXRcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuLypcbiAqIEZpbGVTYXZlci5qcyBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBPcmlnaW5hbGx5IGJ5IEVsaSBHcmV5LCBhZGFwdGVkIGFzIGFuIEVTTSBtb2R1bGUgYnkgRWR1YXJkbyBTYW4gTWFydGluXG4gKiBNb3JvdGUuXG4gKlxuICogTGljZW5zZSA6IE1JVFxuICovXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMzI3NzE4Mi8xMDA4OTk5XG5jb25zdCBfZ2xvYmFsID0gLyojX19QVVJFX18qLyAoKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LndpbmRvdyA9PT0gd2luZG93XG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGZcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXG4gICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgICAgICAgICA6IHsgSFRNTEVsZW1lbnQ6IG51bGwgfSkoKTtcbmZ1bmN0aW9uIGJvbShibG9iLCB7IGF1dG9Cb20gPSBmYWxzZSB9ID0ge30pIHtcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuICAgIC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXG4gICAgaWYgKGF1dG9Cb20gJiZcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhmZWZmKSwgYmxvYl0sIHsgdHlwZTogYmxvYi50eXBlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvYjtcbn1cbmZ1bmN0aW9uIGRvd25sb2FkKHVybCwgbmFtZSwgb3B0cykge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2F2ZUFzKHhoci5yZXNwb25zZSwgbmFtZSwgb3B0cyk7XG4gICAgfTtcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignY291bGQgbm90IGRvd25sb2FkIGZpbGUnKTtcbiAgICB9O1xuICAgIHhoci5zZW5kKCk7XG59XG5mdW5jdGlvbiBjb3JzRW5hYmxlZCh1cmwpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAvLyB1c2Ugc3luYyB0byBhdm9pZCBwb3B1cCBibG9ja2VyXG4gICAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKTtcbiAgICB0cnkge1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5O1xufVxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXG5mdW5jdGlvbiBjbGljayhub2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gbmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICB2aWV3OiB3aW5kb3csXG4gICAgICAgICAgICBkZXRhaWw6IDAsXG4gICAgICAgICAgICBzY3JlZW5YOiA4MCxcbiAgICAgICAgICAgIHNjcmVlblk6IDIwLFxuICAgICAgICAgICAgY2xpZW50WDogODAsXG4gICAgICAgICAgICBjbGllbnRZOiAyMCxcbiAgICAgICAgICAgIGN0cmxLZXk6IGZhbHNlLFxuICAgICAgICAgICAgYWx0S2V5OiBmYWxzZSxcbiAgICAgICAgICAgIHNoaWZ0S2V5OiBmYWxzZSxcbiAgICAgICAgICAgIG1ldGFLZXk6IGZhbHNlLFxuICAgICAgICAgICAgYnV0dG9uOiAwLFxuICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIG5vZGUuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cbn1cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyA/IG5hdmlnYXRvciA6IHsgdXNlckFnZW50OiAnJyB9O1xuLy8gRGV0ZWN0IFdlYlZpZXcgaW5zaWRlIGEgbmF0aXZlIG1hY09TIGFwcCBieSBydWxpbmcgb3V0IGFsbCBicm93c2Vyc1xuLy8gV2UganVzdCBuZWVkIHRvIGNoZWNrIGZvciAnU2FmYXJpJyBiZWNhdXNlIGFsbCBvdGhlciBicm93c2VycyAoYmVzaWRlcyBGaXJlZm94KSBpbmNsdWRlIHRoYXQgdG9vXG4vLyBodHRwczovL3d3dy53aGF0aXNteWJyb3dzZXIuY29tL2d1aWRlcy90aGUtbGF0ZXN0LXVzZXItYWdlbnQvbWFjb3NcbmNvbnN0IGlzTWFjT1NXZWJWaWV3ID0gLyojX19QVVJFX18qLyAoKCkgPT4gL01hY2ludG9zaC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAvQXBwbGVXZWJLaXQvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgIS9TYWZhcmkvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpKSgpO1xuY29uc3Qgc2F2ZUFzID0gIUlTX0NMSUVOVFxuICAgID8gKCkgPT4geyB9IC8vIG5vb3BcbiAgICA6IC8vIFVzZSBkb3dubG9hZCBhdHRyaWJ1dGUgZmlyc3QgaWYgcG9zc2libGUgKCMxOTMgTHVtaWEgbW9iaWxlKSB1bmxlc3MgdGhpcyBpcyBhIG1hY09TIFdlYlZpZXcgb3IgbWluaSBwcm9ncmFtXG4gICAgICAgIHR5cGVvZiBIVE1MQW5jaG9yRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICdkb3dubG9hZCcgaW4gSFRNTEFuY2hvckVsZW1lbnQucHJvdG90eXBlICYmXG4gICAgICAgICAgICAhaXNNYWNPU1dlYlZpZXdcbiAgICAgICAgICAgID8gZG93bmxvYWRTYXZlQXNcbiAgICAgICAgICAgIDogLy8gVXNlIG1zU2F2ZU9yT3BlbkJsb2IgYXMgYSBzZWNvbmQgYXBwcm9hY2hcbiAgICAgICAgICAgICAgICAnbXNTYXZlT3JPcGVuQmxvYicgaW4gX25hdmlnYXRvclxuICAgICAgICAgICAgICAgICAgICA/IG1zU2F2ZUFzXG4gICAgICAgICAgICAgICAgICAgIDogLy8gRmFsbGJhY2sgdG8gdXNpbmcgRmlsZVJlYWRlciBhbmQgYSBwb3B1cFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNhdmVyU2F2ZUFzO1xuZnVuY3Rpb24gZG93bmxvYWRTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuZG93bmxvYWQgPSBuYW1lO1xuICAgIGEucmVsID0gJ25vb3BlbmVyJzsgLy8gdGFibmFiYmluZ1xuICAgIC8vIFRPRE86IGRldGVjdCBjaHJvbWUgZXh0ZW5zaW9ucyAmIHBhY2thZ2VkIGFwcHNcbiAgICAvLyBhLnRhcmdldCA9ICdfYmxhbmsnXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBTdXBwb3J0IHJlZ3VsYXIgbGlua3NcbiAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgaWYgKGEub3JpZ2luICE9PSBsb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgICAgICAgIGlmIChjb3JzRW5hYmxlZChhLmhyZWYpKSB7XG4gICAgICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xpY2soYSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFN1cHBvcnQgYmxvYnNcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGEuaHJlZik7XG4gICAgICAgIH0sIDRlNCk7IC8vIDQwc1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtc1NhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykge1xuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvcnNFbmFibGVkKGJsb2IpKSB7XG4gICAgICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhLmhyZWYgPSBibG9iO1xuICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdvcmtzIG9uIHdpbmRvd3NcbiAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYm9tKGJsb2IsIG9wdHMpLCBuYW1lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaWxlU2F2ZXJTYXZlQXMoYmxvYiwgbmFtZSwgb3B0cywgcG9wdXApIHtcbiAgICAvLyBPcGVuIGEgcG9wdXAgaW1tZWRpYXRlbHkgZG8gZ28gYXJvdW5kIHBvcHVwIGJsb2NrZXJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cbiAgICBwb3B1cCA9IHBvcHVwIHx8IG9wZW4oJycsICdfYmxhbmsnKTtcbiAgICBpZiAocG9wdXApIHtcbiAgICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPSBwb3B1cC5kb2N1bWVudC5ib2R5LmlubmVyVGV4dCA9ICdkb3dubG9hZGluZy4uLic7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcbiAgICBjb25zdCBmb3JjZSA9IGJsb2IudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgY29uc3QgaXNTYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KFN0cmluZyhfZ2xvYmFsLkhUTUxFbGVtZW50KSkgfHwgJ3NhZmFyaScgaW4gX2dsb2JhbDtcbiAgICBjb25zdCBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAoKGlzQ2hyb21lSU9TIHx8IChmb3JjZSAmJiBpc1NhZmFyaSkgfHwgaXNNYWNPU1dlYlZpZXcpICYmXG4gICAgICAgIHR5cGVvZiBGaWxlUmVhZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIFVSTHNcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcG9wdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcmVhZGVyLnJlc3VsdCB0eXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cmwgPSBpc0Nocm9tZUlPU1xuICAgICAgICAgICAgICAgID8gdXJsXG4gICAgICAgICAgICAgICAgOiB1cmwucmVwbGFjZSgvXmRhdGE6W147XSo7LywgJ2RhdGE6YXR0YWNobWVudC9maWxlOycpO1xuICAgICAgICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgICAgICAgICAgcG9wdXAubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGlmIChwb3B1cClcbiAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICBwb3B1cCA9IG51bGw7IC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICB9XG59XG5cbi8qKlxuICogU2hvd3MgYSB0b2FzdCBvciBjb25zb2xlLmxvZ1xuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gbWVzc2FnZSB0byBsb2dcbiAqIEBwYXJhbSB0eXBlIC0gZGlmZmVyZW50IGNvbG9yIG9mIHRoZSB0b29sdGlwXG4gKi9cbmZ1bmN0aW9uIHRvYXN0TWVzc2FnZShtZXNzYWdlLCB0eXBlKSB7XG4gICAgY29uc3QgcGluaWFNZXNzYWdlID0gJ/CfjY0gJyArIG1lc3NhZ2U7XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9ERVZUT09MU19UT0FTVF9fID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIE5vIGxvbmdlciBhdmFpbGFibGUgOihcbiAgICAgICAgX19WVUVfREVWVE9PTFNfVE9BU1RfXyhwaW5pYU1lc3NhZ2UsIHR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IocGluaWFNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm4nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihwaW5pYU1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2cocGluaWFNZXNzYWdlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1BpbmlhKG8pIHtcbiAgICByZXR1cm4gJ19hJyBpbiBvICYmICdpbnN0YWxsJyBpbiBvO1xufVxuXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWluIGRldnRvb2xzIGFjdGlvbnMsIHRoZXkgYXJlIG5vdCBQaW5pYSBhY3Rpb25zLlxuICovXG4vLyAtLS1cbmZ1bmN0aW9uIGNoZWNrQ2xpcGJvYXJkQWNjZXNzKCkge1xuICAgIGlmICghKCdjbGlwYm9hcmQnIGluIG5hdmlnYXRvcikpIHtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRoZSBDbGlwYm9hcmQgQVBJYCwgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkb2N1bWVudCBpcyBub3QgZm9jdXNlZCcpKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IG5lZWQgdG8gYWN0aXZhdGUgdGhlIFwiRW11bGF0ZSBhIGZvY3VzZWQgcGFnZVwiIHNldHRpbmcgaW4gdGhlIFwiUmVuZGVyaW5nXCIgcGFuZWwgb2YgZGV2dG9vbHMuJywgJ3dhcm4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbENvcHlTdGF0ZShwaW5pYSkge1xuICAgIGlmIChjaGVja0NsaXBib2FyZEFjY2VzcygpKVxuICAgICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoSlNPTi5zdHJpbmdpZnkocGluaWEuc3RhdGUudmFsdWUpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIHNlcmlhbGl6ZSB0aGUgc3RhdGUuIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpIHtcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRTdG9yZXNTdGF0ZShwaW5pYSwgSlNPTi5wYXJzZShhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgcGFzdGVkIGZyb20gY2xpcGJvYXJkLicpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gZGVzZXJpYWxpemUgdGhlIHN0YXRlIGZyb20gY2xpcGJvYXJkLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBzYXZlQXMobmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKV0sIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnLFxuICAgICAgICB9KSwgJ3BpbmlhLXN0YXRlLmpzb24nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGV4cG9ydCB0aGUgc3RhdGUgYXMgSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxubGV0IGZpbGVJbnB1dDtcbmZ1bmN0aW9uIGdldEZpbGVPcGVuZXIoKSB7XG4gICAgaWYgKCFmaWxlSW5wdXQpIHtcbiAgICAgICAgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgICAgIGZpbGVJbnB1dC5hY2NlcHQgPSAnLmpzb24nO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuRmlsZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVJbnB1dC5maWxlcztcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGVzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaXRlbSgwKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdGV4dDogYXdhaXQgZmlsZS50ZXh0KCksIGZpbGUgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogVE9ETzogY2hhbmdlZCBmcm9tIDQuMyB0byA0LjRcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9ICgpID0+IHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICBmaWxlSW5wdXQub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIGZpbGVJbnB1dC5jbGljaygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG9wZW5GaWxlO1xufVxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsT3BlblN0YXRlRmlsZShwaW5pYSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9wZW4gPSBnZXRGaWxlT3BlbmVyKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW4oKTtcbiAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdGV4dCwgZmlsZSB9ID0gcmVzdWx0O1xuICAgICAgICBsb2FkU3RvcmVzU3RhdGUocGluaWEsIEpTT04ucGFyc2UodGV4dCkpO1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEdsb2JhbCBzdGF0ZSBpbXBvcnRlZCBmcm9tIFwiJHtmaWxlLm5hbWV9XCIuYCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBpbXBvcnQgdGhlIHN0YXRlIGZyb20gSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9hZFN0b3Jlc1N0YXRlKHBpbmlhLCBzdGF0ZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVtrZXldO1xuICAgICAgICAvLyBzdG9yZSBpcyBhbHJlYWR5IGluc3RhbnRpYXRlZCwgcGF0Y2ggaXRcbiAgICAgICAgaWYgKHN0b3JlU3RhdGUpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3RvcmVTdGF0ZSwgc3RhdGVba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdG9yZSBpcyBub3QgaW5zdGFudGlhdGVkLCBzZXQgdGhlIGluaXRpYWwgc3RhdGVcbiAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlW2tleV0gPSBzdGF0ZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICB9LFxuICAgIH07XG59XG5jb25zdCBQSU5JQV9ST09UX0xBQkVMID0gJ/CfjY0gUGluaWEgKHJvb3QpJztcbmNvbnN0IFBJTklBX1JPT1RfSUQgPSAnX3Jvb3QnO1xuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlKSB7XG4gICAgcmV0dXJuIGlzUGluaWEoc3RvcmUpXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaWQ6IFBJTklBX1JPT1RfSUQsXG4gICAgICAgICAgICBsYWJlbDogUElOSUFfUk9PVF9MQUJFTCxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGlkOiBzdG9yZS4kaWQsXG4gICAgICAgICAgICBsYWJlbDogc3RvcmUuJGlkLFxuICAgICAgICB9O1xufVxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShzdG9yZSkge1xuICAgIGlmIChpc1BpbmlhKHN0b3JlKSkge1xuICAgICAgICBjb25zdCBzdG9yZU5hbWVzID0gQXJyYXkuZnJvbShzdG9yZS5fcy5rZXlzKCkpO1xuICAgICAgICBjb25zdCBzdG9yZU1hcCA9IHN0b3JlLl9zO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0YXRlOiBzdG9yZU5hbWVzLm1hcCgoc3RvcmVJZCkgPT4gKHtcbiAgICAgICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBrZXk6IHN0b3JlSWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlLnN0YXRlLnZhbHVlW3N0b3JlSWRdLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgZ2V0dGVyczogc3RvcmVOYW1lc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGlkKSA9PiBzdG9yZU1hcC5nZXQoaWQpLl9nZXR0ZXJzKVxuICAgICAgICAgICAgICAgIC5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZU1hcC5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlLl9nZXR0ZXJzLnJlZHVjZSgoZ2V0dGVycywga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBzdG9yZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XG4gICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHN0YXRlOiBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLm1hcCgoa2V5KSA9PiAoe1xuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZTogc3RvcmUuJHN0YXRlW2tleV0sXG4gICAgICAgIH0pKSxcbiAgICB9O1xuICAgIC8vIGF2b2lkIGFkZGluZyBlbXB0eSBnZXR0ZXJzXG4gICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICBzdGF0ZS5nZXR0ZXJzID0gc3RvcmUuX2dldHRlcnMubWFwKChnZXR0ZXJOYW1lKSA9PiAoe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiBnZXR0ZXJOYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlW2dldHRlck5hbWVdLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGlmIChzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5zaXplKSB7XG4gICAgICAgIHN0YXRlLmN1c3RvbVByb3BlcnRpZXMgPSBBcnJheS5mcm9tKHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzKS5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlW2tleV0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gZm9ybWF0RXZlbnREYXRhKGV2ZW50cykge1xuICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4ge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnRzKSkge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgYWRkIGFuZCBkZWxldGUgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICAgICAgICByZXR1cm4gZXZlbnRzLnJlZHVjZSgoZGF0YSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGRhdGEua2V5cy5wdXNoKGV2ZW50LmtleSk7XG4gICAgICAgICAgICBkYXRhLm9wZXJhdGlvbnMucHVzaChldmVudC50eXBlKTtcbiAgICAgICAgICAgIGRhdGEub2xkVmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm9sZFZhbHVlO1xuICAgICAgICAgICAgZGF0YS5uZXdWYWx1ZVtldmVudC5rZXldID0gZXZlbnQubmV3VmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2xkVmFsdWU6IHt9LFxuICAgICAgICAgICAga2V5czogW10sXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBbXSxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3BlcmF0aW9uOiBmb3JtYXREaXNwbGF5KGV2ZW50cy50eXBlKSxcbiAgICAgICAgICAgIGtleTogZm9ybWF0RGlzcGxheShldmVudHMua2V5KSxcbiAgICAgICAgICAgIG9sZFZhbHVlOiBldmVudHMub2xkVmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdE11dGF0aW9uVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDpcbiAgICAgICAgICAgIHJldHVybiAnbXV0YXRpb24nO1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uOlxuICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnO1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiAnJHBhdGNoJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgfVxufVxuXG4vLyB0aW1lbGluZSBjYW4gYmUgcGF1c2VkIHdoZW4gZGlyZWN0bHkgY2hhbmdpbmcgdGhlIHN0YXRlXG5sZXQgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XG5jb25zdCBjb21wb25lbnRTdGF0ZVR5cGVzID0gW107XG5jb25zdCBNVVRBVElPTlNfTEFZRVJfSUQgPSAncGluaWE6bXV0YXRpb25zJztcbmNvbnN0IElOU1BFQ1RPUl9JRCA9ICdwaW5pYSc7XG5jb25zdCB7IGFzc2lnbjogYXNzaWduJDEgfSA9IE9iamVjdDtcbi8qKlxuICogR2V0cyB0aGUgZGlzcGxheWVkIG5hbWUgb2YgYSBzdG9yZSBpbiBkZXZ0b29sc1xuICpcbiAqIEBwYXJhbSBpZCAtIGlkIG9mIHRoZSBzdG9yZVxuICogQHJldHVybnMgYSBmb3JtYXR0ZWQgc3RyaW5nXG4gKi9cbmNvbnN0IGdldFN0b3JlVHlwZSA9IChpZCkgPT4gJ/CfjY0gJyArIGlkO1xuLyoqXG4gKiBBZGQgdGhlIHBpbmlhIHBsdWdpbiB3aXRob3V0IGFueSBzdG9yZS4gQWxsb3dzIGRpc3BsYXlpbmcgYSBQaW5pYSBwbHVnaW4gdGFiXG4gKiBhcyBzb29uIGFzIGl0IGlzIGFkZGVkIHRvIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYXBwIC0gVnVlIGFwcGxpY2F0aW9uXG4gKiBAcGFyYW0gcGluaWEgLSBwaW5pYSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiByZWdpc3RlclBpbmlhRGV2dG9vbHMoYXBwLCBwaW5pYSkge1xuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICBpZDogJ2Rldi5lc20ucGluaWEnLFxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxuICAgICAgICBwYWNrYWdlTmFtZTogJ3BpbmlhJyxcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXG4gICAgICAgIGFwcCxcbiAgICB9LCAoYXBpKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXBpLm5vdyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCdZb3Ugc2VlbSB0byBiZSB1c2luZyBhbiBvdXRkYXRlZCB2ZXJzaW9uIG9mIFZ1ZSBEZXZ0b29scy4gQXJlIHlvdSBzdGlsbCB1c2luZyB0aGUgQmV0YSByZWxlYXNlIGluc3RlYWQgb2YgdGhlIHN0YWJsZSBvbmU/IFlvdSBjYW4gZmluZCB0aGUgbGlua3MgYXQgaHR0cHM6Ly9kZXZ0b29scy52dWVqcy5vcmcvZ3VpZGUvaW5zdGFsbGF0aW9uLmh0bWwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAgICAgaWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgIGxhYmVsOiBgUGluaWEg8J+NjWAsXG4gICAgICAgICAgICBjb2xvcjogMHhlNWRmODgsXG4gICAgICAgIH0pO1xuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcbiAgICAgICAgICAgIGlkOiBJTlNQRUNUT1JfSUQsXG4gICAgICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxuICAgICAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxuICAgICAgICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiAnU2VhcmNoIHN0b3JlcycsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9jb3B5JyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2VyaWFsaXplIGFuZCBjb3B5IHRoZSBzdGF0ZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb250ZW50X3Bhc3RlJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUmVwbGFjZSB0aGUgc3RhdGUgd2l0aCB0aGUgY29udGVudCBvZiB5b3VyIGNsaXBib2FyZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdzYXZlJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2F2ZSB0aGUgc3RhdGUgYXMgYSBKU09OIGZpbGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9sZGVyX29wZW4nLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdJbXBvcnQgdGhlIHN0YXRlIGZyb20gYSBKU09OIGZpbGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbm9kZUFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdyZXN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSAod2l0aCBcIiRyZXNldFwiKScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKG5vZGVJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQobm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYENhbm5vdCByZXNldCBcIiR7bm9kZUlkfVwiIHN0b3JlIGJlY2F1c2UgaXQgd2Fzbid0IGZvdW5kLmAsICd3YXJuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RvcmUuJHJlc2V0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IGRvZXNuJ3QgaGF2ZSBhIFwiJHJlc2V0XCIgbWV0aG9kIGltcGxlbWVudGVkLmAsICd3YXJuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS4kcmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYFN0b3JlIFwiJHtub2RlSWR9XCIgcmVzZXQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uaW5zcGVjdENvbXBvbmVudCgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIHBheWxvYWQuY29tcG9uZW50SW5zdGFuY2UucHJveHkpO1xuICAgICAgICAgICAgaWYgKHByb3h5ICYmIHByb3h5Ll9wU3RvcmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMocGluaWFTdG9yZXMpLmZvckVhY2goKHN0b3JlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHN0b3JlLiRyZXNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIE5PVEU6IHdvcmthcm91bmQgdG8gdW53cmFwIHRyYW5zZmVycmVkIHJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5yZWR1Y2UoKHN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge30pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZ2V0dGVycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHdlIGp1c3Qgd2FudCB0byBzaG93IGl0IGluIGRldnRvb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGxldCBzdG9yZXMgPSBbcGluaWFdO1xuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xuICAgICAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gKHBheWxvYWQuZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVzLmZpbHRlcigoc3RvcmUpID0+ICckaWQnIGluIHN0b3JlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdG9yZXMpLm1hcChmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRXhwb3NlIHBpbmlhIGluc3RhbmNlIGFzICRwaW5pYSB0byB3aW5kb3dcbiAgICAgICAgZ2xvYmFsVGhpcy4kcGluaWEgPSBwaW5pYTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXG4gICAgICAgICAgICAgICAgICAgID8gcGluaWFcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSB0aGUgc2VsZWN0ZWQgc3RvcmUgcmVzdG9yZWQgZm9yIGEgZGlmZmVyZW50IHByb2plY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gaXQncyBiZXR0ZXIgbm90IHRvIHNheSBhbnl0aGluZyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4cG9zZSBzZWxlY3RlZCBzdG9yZSBhcyAkc3RvcmUgdG8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLm5vZGVJZCAhPT0gUElOSUFfUk9PVF9JRClcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFRoaXMuJHN0b3JlID0gdG9SYXcoaW5zcGVjdGVkU3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnN0YXRlID0gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShpbnNwZWN0ZWRTdG9yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmVkaXRJbnNwZWN0b3JTdGF0ZSgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zcGVjdGVkU3RvcmUgPSBwYXlsb2FkLm5vZGVJZCA9PT0gUElOSUFfUk9PVF9JRFxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtwYXlsb2FkLm5vZGVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xuICAgICAgICAgICAgICAgIGlmICghaXNQaW5pYShpbnNwZWN0ZWRTdG9yZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXNzIG9ubHkgdGhlIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWluc3BlY3RlZFN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmhhcyhwYXRoWzBdKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFswXSBpbiBpbnNwZWN0ZWRTdG9yZS4kc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdCgnJHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb3QgYWNjZXNzLCB3ZSBjYW4gb21pdCB0aGUgYC52YWx1ZWAgYmVjYXVzZSB0aGUgZGV2dG9vbHMgQVBJIGRvZXMgaXQgZm9yIHVzXG4gICAgICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdCgnc3RhdGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBheWxvYWQuc2V0KGluc3BlY3RlZFN0b3JlLCBwYXRoLCBwYXlsb2FkLnN0YXRlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFwaS5vbi5lZGl0Q29tcG9uZW50U3RhdGUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUuc3RhcnRzV2l0aCgn8J+NjScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVJZCA9IHBheWxvYWQudHlwZS5yZXBsYWNlKC9e8J+NjVxccyovLCAnJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoc3RvcmVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBzdG9yZSBcIiR7c3RvcmVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoWzBdICE9PSAnc3RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYEludmFsaWQgcGF0aCBmb3Igc3RvcmUgXCIke3N0b3JlSWR9XCI6XFxuJHtwYXRofVxcbk9ubHkgc3RhdGUgY2FuIGJlIG1vZGlmaWVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXdyaXRlIHRoZSBmaXJzdCBlbnRyeSB0byBiZSBhYmxlIHRvIGRpcmVjdGx5IHNldCB0aGUgc3RhdGUgYXNcbiAgICAgICAgICAgICAgICAvLyB3ZWxsIGFzIGFueSBvdGhlciBwYXRoXG4gICAgICAgICAgICAgICAgcGF0aFswXSA9ICckc3RhdGUnO1xuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnNldChzdG9yZSwgcGF0aCwgcGF5bG9hZC5zdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYWRkU3RvcmVUb0RldnRvb2xzKGFwcCwgc3RvcmUpIHtcbiAgICBpZiAoIWNvbXBvbmVudFN0YXRlVHlwZXMuaW5jbHVkZXMoZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpKSB7XG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMucHVzaChnZXRTdG9yZVR5cGUoc3RvcmUuJGlkKSk7XG4gICAgfVxuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICBpZDogJ2Rldi5lc20ucGluaWEnLFxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxuICAgICAgICBwYWNrYWdlTmFtZTogJ3BpbmlhJyxcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXG4gICAgICAgIGFwcCxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIGxvZ1N0b3JlQ2hhbmdlczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnTm90aWZ5IGFib3V0IG5ldy9kZWxldGVkIHN0b3JlcycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1c2VFbW9qaXM6IHtcbiAgICAgICAgICAgIC8vICAgbGFiZWw6ICdVc2UgZW1vamlzIGluIG1lc3NhZ2VzIOKaoe+4jycsXG4gICAgICAgICAgICAvLyAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgIC8vICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgfSxcbiAgICB9LCAoYXBpKSA9PiB7XG4gICAgICAgIC8vIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yc1xuICAgICAgICBjb25zdCBub3cgPSB0eXBlb2YgYXBpLm5vdyA9PT0gJ2Z1bmN0aW9uJyA/IGFwaS5ub3cuYmluZChhcGkpIDogRGF0ZS5ub3c7XG4gICAgICAgIHN0b3JlLiRvbkFjdGlvbigoeyBhZnRlciwgb25FcnJvciwgbmFtZSwgYXJncyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gcnVubmluZ0FjdGlvbklkKys7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6sgJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhZnRlcigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6wgJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1hdERpc3BsYXkobmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25FcnJvcigoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CfkqUgJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1hdERpc3BsYXkobmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgICAgICB3YXRjaCgoKSA9PiB1bnJlZihzdG9yZVtuYW1lXSksIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgIGlmIChpc1RpbWVsaW5lQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDaGFuZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYWN0aXZlQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RvcmUuJHN1YnNjcmliZSgoeyBldmVudHMsIHR5cGUgfSwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGlmICghaXNUaW1lbGluZUFjdGl2ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyByb290U3RvcmUuc3RhdGVbc3RvcmUuaWRdID0gc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFzc2lnbiQxKHsgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSB9LCBmb3JtYXRFdmVudERhdGEoZXZlbnRzKSksXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYWN0aXZlQWN0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9ICfipLXvuI8nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ/Cfp6knO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRzICYmICFBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSBldmVudHMudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuZGF0YVsncmF3RXZlbnQocyknXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0RlYnVnZ2VyRXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAncmF3IERlYnVnZ2VyRXZlbnRbXScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgeyBkZXRhY2hlZDogdHJ1ZSwgZmx1c2g6ICdzeW5jJyB9KTtcbiAgICAgICAgY29uc3QgaG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcbiAgICAgICAgc3RvcmUuX2hvdFVwZGF0ZSA9IG1hcmtSYXcoKG5ld1N0b3JlKSA9PiB7XG4gICAgICAgICAgICBob3RVcGRhdGUobmV3U3RvcmUpO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5SlICcgKyBzdG9yZS4kaWQsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnSE1SIHVwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiBmb3JtYXREaXNwbGF5KGBITVIgdXBkYXRlYCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZXZ0b29scyB0b29cbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyAkZGlzcG9zZSB9ID0gc3RvcmU7XG4gICAgICAgIHN0b3JlLiRkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgJGRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXG4gICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBEaXNwb3NlZCBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIPCfl5FgKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdHJpZ2dlciBhbiB1cGRhdGUgc28gaXQgY2FuIGRpc3BsYXkgbmV3IHJlZ2lzdGVyZWQgc3RvcmVzXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXG4gICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYFwiJHtzdG9yZS4kaWR9XCIgc3RvcmUgaW5zdGFsbGVkIPCfhpVgKTtcbiAgICB9KTtcbn1cbmxldCBydW5uaW5nQWN0aW9uSWQgPSAwO1xubGV0IGFjdGl2ZUFjdGlvbjtcbi8qKlxuICogUGF0Y2hlcyBhIHN0b3JlIHRvIGVuYWJsZSBhY3Rpb24gZ3JvdXBpbmcgaW4gZGV2dG9vbHMgYnkgd3JhcHBpbmcgdGhlIHN0b3JlIHdpdGggYSBQcm94eSB0aGF0IGlzIHBhc3NlZCBhcyB0aGVcbiAqIGNvbnRleHQgb2YgYWxsIGFjdGlvbnMsIGFsbG93aW5nIHVzIHRvIHNldCBgcnVubmluZ0FjdGlvbmAgb24gZWFjaCBhY2Nlc3MgYW5kIGVmZmVjdGl2ZWx5IGFzc29jaWF0aW5nIGFueSBzdGF0ZVxuICogbXV0YXRpb24gdG8gdGhlIGFjdGlvbi5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBwYXRjaFxuICogQHBhcmFtIGFjdGlvbk5hbWVzIC0gbGlzdCBvZiBhY3Rpb25zdCB0byBwYXRjaFxuICovXG5mdW5jdGlvbiBwYXRjaEFjdGlvbkZvckdyb3VwaW5nKHN0b3JlLCBhY3Rpb25OYW1lcywgd3JhcFdpdGhQcm94eSkge1xuICAgIC8vIG9yaWdpbmFsIGFjdGlvbnMgb2YgdGhlIHN0b3JlIGFzIHRoZXkgYXJlIGdpdmVuIGJ5IHBpbmlhLiBXZSBhcmUgZ29pbmcgdG8gb3ZlcnJpZGUgdGhlbVxuICAgIGNvbnN0IGFjdGlvbnMgPSBhY3Rpb25OYW1lcy5yZWR1Y2UoKHN0b3JlQWN0aW9ucywgYWN0aW9uTmFtZSkgPT4ge1xuICAgICAgICAvLyB1c2UgdG9SYXcgdG8gYXZvaWQgdHJhY2tpbmcgIzU0MVxuICAgICAgICBzdG9yZUFjdGlvbnNbYWN0aW9uTmFtZV0gPSB0b1JhdyhzdG9yZSlbYWN0aW9uTmFtZV07XG4gICAgICAgIHJldHVybiBzdG9yZUFjdGlvbnM7XG4gICAgfSwge30pO1xuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBhY3Rpb25zKSB7XG4gICAgICAgIHN0b3JlW2FjdGlvbk5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdGhlIHJ1bm5pbmcgYWN0aW9uIGlkIGlzIGluY3JlbWVudGVkIGluIGEgYmVmb3JlIGFjdGlvbiBob29rXG4gICAgICAgICAgICBjb25zdCBfYWN0aW9uSWQgPSBydW5uaW5nQWN0aW9uSWQ7XG4gICAgICAgICAgICBjb25zdCB0cmFja2VkU3RvcmUgPSB3cmFwV2l0aFByb3h5XG4gICAgICAgICAgICAgICAgPyBuZXcgUHJveHkoc3RvcmUsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogc3RvcmU7XG4gICAgICAgICAgICAvLyBGb3IgU2V0dXAgU3RvcmVzIHdlIG5lZWQgaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtYXN5bmMtY29udGV4dFxuICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xuICAgICAgICAgICAgY29uc3QgcmV0VmFsdWUgPSBhY3Rpb25zW2FjdGlvbk5hbWVdLmFwcGx5KHRyYWNrZWRTdG9yZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc2FmZXIgYXMgYXN5bmMgYWN0aW9ucyBpbiBTZXR1cCBTdG9yZXMgd291bGQgYXNzb2NpYXRlIG11dGF0aW9ucyBkb25lIG91dHNpZGUgb2YgdGhlIGFjdGlvblxuICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHJldFZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogcGluaWEudXNlKGRldnRvb2xzUGx1Z2luKVxuICovXG5mdW5jdGlvbiBkZXZ0b29sc1BsdWdpbih7IGFwcCwgc3RvcmUsIG9wdGlvbnMgfSkge1xuICAgIC8vIEhNUiBtb2R1bGVcbiAgICBpZiAoc3RvcmUuJGlkLnN0YXJ0c1dpdGgoJ19faG90OicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZGV0ZWN0IG9wdGlvbiBhcGkgdnMgc2V0dXAgYXBpXG4gICAgc3RvcmUuX2lzT3B0aW9uc0FQSSA9ICEhb3B0aW9ucy5zdGF0ZTtcbiAgICAvLyBEbyBub3Qgb3ZlcndyaXRlIGFjdGlvbnMgbW9ja2VkIGJ5IEBwaW5pYS90ZXN0aW5nICgjMjI5OClcbiAgICBpZiAoIXN0b3JlLl9wLl90ZXN0aW5nKSB7XG4gICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoc3RvcmUsIE9iamVjdC5rZXlzKG9wdGlvbnMuYWN0aW9ucyksIHN0b3JlLl9pc09wdGlvbnNBUEkpO1xuICAgICAgICAvLyBVcGdyYWRlIHRoZSBITVIgdG8gYWxzbyB1cGRhdGUgdGhlIG5ldyBhY3Rpb25zXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcbiAgICAgICAgdG9SYXcoc3RvcmUpLl9ob3RVcGRhdGUgPSBmdW5jdGlvbiAobmV3U3RvcmUpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsSG90VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBwYXRjaEFjdGlvbkZvckdyb3VwaW5nKHN0b3JlLCBPYmplY3Qua2V5cyhuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSwgISFzdG9yZS5faXNPcHRpb25zQVBJKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYWRkU3RvcmVUb0RldnRvb2xzKGFwcCwgXG4gICAgLy8gRklYTUU6IGlzIHRoZXJlIGEgd2F5IHRvIGFsbG93IHRoZSBhc3NpZ25tZW50IGZyb20gU3RvcmU8SWQsIFMsIEcsIEE+IHRvIFN0b3JlR2VuZXJpYz9cbiAgICBzdG9yZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFBpbmlhIGluc3RhbmNlIHRvIGJlIHVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBpbmlhKCkge1xuICAgIGNvbnN0IHNjb3BlID0gZWZmZWN0U2NvcGUodHJ1ZSk7XG4gICAgLy8gTk9URTogaGVyZSB3ZSBjb3VsZCBjaGVjayB0aGUgd2luZG93IG9iamVjdCBmb3IgYSBzdGF0ZSBhbmQgZGlyZWN0bHkgc2V0IGl0XG4gICAgLy8gaWYgdGhlcmUgaXMgYW55dGhpbmcgbGlrZSBpdCB3aXRoIFZ1ZSAzIFNTUlxuICAgIGNvbnN0IHN0YXRlID0gc2NvcGUucnVuKCgpID0+IHJlZih7fSkpO1xuICAgIGxldCBfcCA9IFtdO1xuICAgIC8vIHBsdWdpbnMgYWRkZWQgYmVmb3JlIGNhbGxpbmcgYXBwLnVzZShwaW5pYSlcbiAgICBsZXQgdG9CZUluc3RhbGxlZCA9IFtdO1xuICAgIGNvbnN0IHBpbmlhID0gbWFya1Jhdyh7XG4gICAgICAgIGluc3RhbGwoYXBwKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxuICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxuICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgcGluaWEuX2EgPSBhcHA7XG4gICAgICAgICAgICBhcHAucHJvdmlkZShwaW5pYVN5bWJvbCwgcGluaWEpO1xuICAgICAgICAgICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgX19WVUVfUFJPRF9ERVZUT09MU19fKSkgJiYgIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSkgJiYgSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9CZUluc3RhbGxlZC5mb3JFYWNoKChwbHVnaW4pID0+IF9wLnB1c2gocGx1Z2luKSk7XG4gICAgICAgICAgICB0b0JlSW5zdGFsbGVkID0gW107XG4gICAgICAgIH0sXG4gICAgICAgIHVzZShwbHVnaW4pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSkge1xuICAgICAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3AucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIF9wLFxuICAgICAgICAvLyBpdCdzIGFjdHVhbGx5IHVuZGVmaW5lZCBoZXJlXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgX2E6IG51bGwsXG4gICAgICAgIF9lOiBzY29wZSxcbiAgICAgICAgX3M6IG5ldyBNYXAoKSxcbiAgICAgICAgc3RhdGUsXG4gICAgfSk7XG4gICAgLy8gcGluaWEgZGV2dG9vbHMgcmVseSBvbiBkZXYgb25seSBmZWF0dXJlcyBzbyB0aGV5IGNhbm5vdCBiZSBmb3JjZWQgdW5sZXNzXG4gICAgLy8gdGhlIGRldiBidWlsZCBvZiBWdWUgaXMgdXNlZC4gQXZvaWQgb2xkIGJyb3dzZXJzIGxpa2UgSUUxMS5cbiAgICBpZiAoKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykpICYmIElTX0NMSUVOVCAmJiB0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbik7XG4gICAgfVxuICAgIHJldHVybiBwaW5pYTtcbn1cbi8qKlxuICogRGlzcG9zZSBhIFBpbmlhIGluc3RhbmNlIGJ5IHN0b3BwaW5nIGl0cyBlZmZlY3RTY29wZSBhbmQgcmVtb3ZpbmcgdGhlIHN0YXRlLCBwbHVnaW5zIGFuZCBzdG9yZXMuIFRoaXMgaXMgbW9zdGx5XG4gKiB1c2VmdWwgaW4gdGVzdHMsIHdpdGggYm90aCBhIHRlc3RpbmcgcGluaWEgb3IgYSByZWd1bGFyIHBpbmlhIGFuZCBpbiBhcHBsaWNhdGlvbnMgdGhhdCB1c2UgbXVsdGlwbGUgcGluaWEgaW5zdGFuY2VzLlxuICogT25jZSBkaXNwb3NlZCwgdGhlIHBpbmlhIGluc3RhbmNlIGNhbm5vdCBiZSB1c2VkIGFueW1vcmUuXG4gKlxuICogQHBhcmFtIHBpbmlhIC0gcGluaWEgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZGlzcG9zZVBpbmlhKHBpbmlhKSB7XG4gICAgcGluaWEuX2Uuc3RvcCgpO1xuICAgIHBpbmlhLl9zLmNsZWFyKCk7XG4gICAgcGluaWEuX3Auc3BsaWNlKDApO1xuICAgIHBpbmlhLnN0YXRlLnZhbHVlID0ge307XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm9uIHZhbGlkXG4gICAgcGluaWEuX2EgPSBudWxsO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGZ1bmN0aW9uIGlzIGEgYFN0b3JlRGVmaW5pdGlvbmAuXG4gKlxuICogQHBhcmFtIGZuIC0gb2JqZWN0IHRvIHRlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgYGZuYCBpcyBhIFN0b3JlRGVmaW5pdGlvblxuICovXG5jb25zdCBpc1VzZVN0b3JlID0gKGZuKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZm4uJGlkID09PSAnc3RyaW5nJztcbn07XG4vKipcbiAqIE11dGF0ZXMgaW4gcGxhY2UgYG5ld1N0YXRlYCB3aXRoIGBvbGRTdGF0ZWAgdG8gX2hvdCB1cGRhdGVfIGl0LiBJdCB3aWxsXG4gKiByZW1vdmUgYW55IGtleSBub3QgZXhpc3RpbmcgaW4gYG5ld1N0YXRlYCBhbmQgcmVjdXJzaXZlbHkgbWVyZ2UgcGxhaW5cbiAqIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIG5ld1N0YXRlIC0gbmV3IHN0YXRlIG9iamVjdCB0byBiZSBwYXRjaGVkXG4gKiBAcGFyYW0gb2xkU3RhdGUgLSBvbGQgc3RhdGUgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBwYXRjaCBuZXdTdGF0ZVxuICogQHJldHVybnMgLSBuZXdTdGF0ZVxuICovXG5mdW5jdGlvbiBwYXRjaE9iamVjdChuZXdTdGF0ZSwgb2xkU3RhdGUpIHtcbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkU3RhdGUpIHtcbiAgICAgICAgY29uc3Qgc3ViUGF0Y2ggPSBvbGRTdGF0ZVtrZXldO1xuICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBzdWIgdHJlZVxuICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RhdGUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IG5ld1N0YXRlW2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFZhbHVlKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgICFpc1JlZihzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgICFpc1JlYWN0aXZlKHN1YlBhdGNoKSkge1xuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHBhdGNoT2JqZWN0KHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvYmplY3RzIGFyZSBlaXRoZXIgYSBiaXQgbW9yZSBjb21wbGV4IChlLmcuIHJlZnMpIG9yIHByaW1pdGl2ZXMsIHNvIHdlXG4gICAgICAgICAgICAvLyBqdXN0IHNldCB0aGUgd2hvbGUgdGhpbmdcbiAgICAgICAgICAgIG5ld1N0YXRlW2tleV0gPSBzdWJQYXRjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gX2FjY2VwdF8gZnVuY3Rpb24gdG8gcGFzcyB0byBgaW1wb3J0Lm1ldGEuaG90YCBpbiBWaXRlIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGNvbnN0IHVzZVVzZXIgPSBkZWZpbmVTdG9yZSguLi4pXG4gKiBpZiAoaW1wb3J0Lm1ldGEuaG90KSB7XG4gKiAgIGltcG9ydC5tZXRhLmhvdC5hY2NlcHQoYWNjZXB0SE1SVXBkYXRlKHVzZVVzZXIsIGltcG9ydC5tZXRhLmhvdCkpXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gaW5pdGlhbFVzZVN0b3JlIC0gcmV0dXJuIG9mIHRoZSBkZWZpbmVTdG9yZSB0byBob3QgdXBkYXRlXG4gKiBAcGFyYW0gaG90IC0gYGltcG9ydC5tZXRhLmhvdGBcbiAqL1xuZnVuY3Rpb24gYWNjZXB0SE1SVXBkYXRlKGluaXRpYWxVc2VTdG9yZSwgaG90KSB7XG4gICAgLy8gc3RyaXAgYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIGlpZmUucHJvZFxuICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfVxuICAgIHJldHVybiAobmV3TW9kdWxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBpbmlhID0gaG90LmRhdGEucGluaWEgfHwgaW5pdGlhbFVzZVN0b3JlLl9waW5pYTtcbiAgICAgICAgaWYgKCFwaW5pYSkge1xuICAgICAgICAgICAgLy8gdGhpcyBzdG9yZSBpcyBzdGlsbCBub3QgdXNlZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHByZXNlcnZlIHRoZSBwaW5pYSBpbnN0YW5jZSBhY3Jvc3MgbG9hZHNcbiAgICAgICAgaG90LmRhdGEucGluaWEgPSBwaW5pYTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dvdCBkYXRhJywgbmV3U3RvcmUpXG4gICAgICAgIGZvciAoY29uc3QgZXhwb3J0TmFtZSBpbiBuZXdNb2R1bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZVN0b3JlID0gbmV3TW9kdWxlW2V4cG9ydE5hbWVdO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NoZWNraW5nIGZvcicsIGV4cG9ydE5hbWUpXG4gICAgICAgICAgICBpZiAoaXNVc2VTdG9yZSh1c2VTdG9yZSkgJiYgcGluaWEuX3MuaGFzKHVzZVN0b3JlLiRpZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWNjZXB0aW5nIHVwZGF0ZSBmb3InLCB1c2VTdG9yZS4kaWQpXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB1c2VTdG9yZS4kaWQ7XG4gICAgICAgICAgICAgICAgaWYgKGlkICE9PSBpbml0aWFsVXNlU3RvcmUuJGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIGlkIG9mIHRoZSBzdG9yZSBjaGFuZ2VkIGZyb20gXCIke2luaXRpYWxVc2VTdG9yZS4kaWR9XCIgdG8gXCIke2lkfVwiLiBSZWxvYWRpbmcuYCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBpbXBvcnQubWV0YS5ob3QuaW52YWxpZGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBob3QuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1N0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQaW5pYV06IHNraXBwaW5nIGhtciBiZWNhdXNlIHN0b3JlIGRvZXNuJ3QgZXhpc3QgeWV0YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXNlU3RvcmUocGluaWEsIGV4aXN0aW5nU3RvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHsgfTtcbmZ1bmN0aW9uIGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgZGV0YWNoZWQsIG9uQ2xlYW51cCA9IG5vb3ApIHtcbiAgICBzdWJzY3JpcHRpb25zLmFkZChjYWxsYmFjayk7XG4gICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpc0RlbCA9IHN1YnNjcmlwdGlvbnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgaXNEZWwgJiYgb25DbGVhbnVwKCk7XG4gICAgfTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgIG9uU2NvcGVEaXNwb3NlKHJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XG59XG5mdW5jdGlvbiB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCAuLi5hcmdzKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICBjYWxsYmFjayguLi5hcmdzKTtcbiAgICB9KTtcbn1cblxuY29uc3QgZmFsbGJhY2tSdW5XaXRoQ29udGV4dCA9IChmbikgPT4gZm4oKTtcbi8qKlxuICogTWFya3MgYSBmdW5jdGlvbiBhcyBhbiBhY3Rpb24gZm9yIGAkb25BY3Rpb25gXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgQUNUSU9OX01BUktFUiA9IFN5bWJvbCgpO1xuLyoqXG4gKiBBY3Rpb24gbmFtZSBzeW1ib2wuIEFsbG93cyB0byBhZGQgYSBuYW1lIHRvIGFuIGFjdGlvbiBhZnRlciBkZWZpbmluZyBpdFxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEFDVElPTl9OQU1FID0gU3ltYm9sKCk7XG5mdW5jdGlvbiBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXQsIHBhdGNoVG9BcHBseSkge1xuICAgIC8vIEhhbmRsZSBNYXAgaW5zdGFuY2VzXG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE1hcCAmJiBwYXRjaFRvQXBwbHkgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTZXQgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgIC8vIEhhbmRsZSBTZXQgaW5zdGFuY2VzXG4gICAgICAgIHBhdGNoVG9BcHBseS5mb3JFYWNoKHRhcmdldC5hZGQsIHRhcmdldCk7XG4gICAgfVxuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXRjaFRvQXBwbHkpIHtcbiAgICAgICAgaWYgKCFwYXRjaFRvQXBwbHkuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBzdWJQYXRjaCA9IHBhdGNoVG9BcHBseVtrZXldO1xuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICB0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSAmJlxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVhY3RpdmUoc3ViUGF0Y2gpKSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBoZXJlIEkgd2FudGVkIHRvIHdhcm4gYWJvdXQgaW5jb25zaXN0ZW50IHR5cGVzIGJ1dCBpdCdzIG5vdCBwb3NzaWJsZSBiZWNhdXNlIGluIHNldHVwIHN0b3JlcyBvbmUgbWlnaHRcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGFzIGEgY2VydGFpbiB0eXBlIGUuZy4gYSBNYXAsIGFuZCB0aGVuIGZvciBzb21lIHJlYXNvbiwgZHVyaW5nIFNTUiwgY2hhbmdlIHRoYXRcbiAgICAgICAgICAgIC8vIHRvIGB1bmRlZmluZWRgLiBXaGVuIHRyeWluZyB0byBoeWRyYXRlLCB3ZSB3YW50IHRvIG92ZXJyaWRlIHRoZSBNYXAgd2l0aCBgdW5kZWZpbmVkYC5cbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gbWVyZ2VSZWFjdGl2ZU9iamVjdHModGFyZ2V0VmFsdWUsIHN1YlBhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHN1YlBhdGNoIGlzIGEgdmFsaWQgdmFsdWVcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3ViUGF0Y2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmNvbnN0IHNraXBIeWRyYXRlU3ltYm9sID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgPyBTeW1ib2woJ3BpbmlhOnNraXBIeWRyYXRpb24nKVxuICAgIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gU3ltYm9sKCk7XG4vKipcbiAqIFRlbGxzIFBpbmlhIHRvIHNraXAgdGhlIGh5ZHJhdGlvbiBwcm9jZXNzIG9mIGEgZ2l2ZW4gb2JqZWN0LiBUaGlzIGlzIHVzZWZ1bCBpbiBzZXR1cCBzdG9yZXMgKG9ubHkpIHdoZW4geW91IHJldHVybiBhXG4gKiBzdGF0ZWZ1bCBvYmplY3QgaW4gdGhlIHN0b3JlIGJ1dCBpdCBpc24ndCByZWFsbHkgc3RhdGUuIGUuZy4gcmV0dXJuaW5nIGEgcm91dGVyIGluc3RhbmNlIGluIGEgc2V0dXAgc3RvcmUuXG4gKlxuICogQHBhcmFtIG9iaiAtIHRhcmdldCBvYmplY3RcbiAqIEByZXR1cm5zIG9ialxuICovXG5mdW5jdGlvbiBza2lwSHlkcmF0ZShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc2tpcEh5ZHJhdGVTeW1ib2wsIHt9KTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGEgdmFsdWUgc2hvdWxkIGJlIGh5ZHJhdGVkXG4gKlxuICogQHBhcmFtIG9iaiAtIHRhcmdldCB2YXJpYWJsZVxuICogQHJldHVybnMgdHJ1ZSBpZiBgb2JqYCBzaG91bGQgYmUgaHlkcmF0ZWRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZShvYmopIHtcbiAgICByZXR1cm4gKCFpc1BsYWluT2JqZWN0KG9iaikgfHxcbiAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHNraXBIeWRyYXRlU3ltYm9sKSk7XG59XG5jb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xuZnVuY3Rpb24gaXNDb21wdXRlZChvKSB7XG4gICAgcmV0dXJuICEhKGlzUmVmKG8pICYmIG8uZWZmZWN0KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnNTdG9yZShpZCwgb3B0aW9ucywgcGluaWEsIGhvdCkge1xuICAgIGNvbnN0IHsgc3RhdGUsIGFjdGlvbnMsIGdldHRlcnMgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbaWRdO1xuICAgIGxldCBzdG9yZTtcbiAgICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgaWYgKCFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbaWRdID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXZvaWQgY3JlYXRpbmcgYSBzdGF0ZSBpbiBwaW5pYS5zdGF0ZS52YWx1ZVxuICAgICAgICBjb25zdCBsb2NhbFN0YXRlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdFxuICAgICAgICAgICAgPyAvLyB1c2UgcmVmKCkgdG8gdW53cmFwIHJlZnMgaW5zaWRlIHN0YXRlIFRPRE86IGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgdG9SZWZzKHJlZihzdGF0ZSA/IHN0YXRlKCkgOiB7fSkudmFsdWUpXG4gICAgICAgICAgICA6IHRvUmVmcyhwaW5pYS5zdGF0ZS52YWx1ZVtpZF0pO1xuICAgICAgICByZXR1cm4gYXNzaWduKGxvY2FsU3RhdGUsIGFjdGlvbnMsIE9iamVjdC5rZXlzKGdldHRlcnMgfHwge30pLnJlZHVjZSgoY29tcHV0ZWRHZXR0ZXJzLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5hbWUgaW4gbG9jYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBBIGdldHRlciBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgc3RhdGUgcHJvcGVydHkuIFJlbmFtZSBvbmUgb2YgdGhlbS4gRm91bmQgd2l0aCBcIiR7bmFtZX1cIiBpbiBzdG9yZSBcIiR7aWR9XCIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wdXRlZEdldHRlcnNbbmFtZV0gPSBtYXJrUmF3KGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgICAgICAgICAgLy8gaXQgd2FzIGNyZWF0ZWQganVzdCBiZWZvcmVcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3Jvc3MgdXNpbmcgc3RvcmVzXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBnZXR0ZXJzIVtuYW1lXS5jYWxsKGNvbnRleHQsIGNvbnRleHQpXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogYXZvaWQgcmVhZGluZyB0aGUgZ2V0dGVyIHdoaWxlIGFzc2lnbmluZyB3aXRoIGEgZ2xvYmFsIHZhcmlhYmxlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uY2FsbChzdG9yZSwgc3RvcmUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkR2V0dGVycztcbiAgICAgICAgfSwge30pKTtcbiAgICB9XG4gICAgc3RvcmUgPSBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIGhvdCwgdHJ1ZSk7XG4gICAgcmV0dXJuIHN0b3JlO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dXBTdG9yZSgkaWQsIHNldHVwLCBvcHRpb25zID0ge30sIHBpbmlhLCBob3QsIGlzT3B0aW9uc1N0b3JlKSB7XG4gICAgbGV0IHNjb3BlO1xuICAgIGNvbnN0IG9wdGlvbnNGb3JQbHVnaW4gPSBhc3NpZ24oeyBhY3Rpb25zOiB7fSB9LCBvcHRpb25zKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwaW5pYS5fZS5hY3RpdmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQaW5pYSBkZXN0cm95ZWQnKTtcbiAgICB9XG4gICAgLy8gd2F0Y2hlciBvcHRpb25zIGZvciAkc3Vic2NyaWJlXG4gICAgY29uc3QgJHN1YnNjcmliZU9wdGlvbnMgPSB7IGRlZXA6IHRydWUgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgJHN1YnNjcmliZU9wdGlvbnMub25UcmlnZ2VyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBldmVudDtcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0xpc3RlbmluZyA9PSBmYWxzZSAmJiAhc3RvcmUuX2hvdFVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlYnVnZ2VyRXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXG4gICAgbGV0IGlzU3luY0xpc3RlbmluZzsgLy8gc2V0IHRvIHRydWUgYXQgdGhlIGVuZFxuICAgIGxldCBzdWJzY3JpcHRpb25zID0gbmV3IFNldCgpO1xuICAgIGxldCBhY3Rpb25TdWJzY3JpcHRpb25zID0gbmV3IFNldCgpO1xuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdO1xuICAgIC8vIGF2b2lkIHNldHRpbmcgdGhlIHN0YXRlIGZvciBvcHRpb24gc3RvcmVzIGlmIGl0IGlzIHNldFxuICAgIC8vIGJ5IHRoZSBzZXR1cFxuICAgIGlmICghaXNPcHRpb25zU3RvcmUgJiYgIWluaXRpYWxTdGF0ZSAmJiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhaG90KSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBob3RTdGF0ZSA9IHJlZih7fSk7XG4gICAgLy8gYXZvaWQgdHJpZ2dlcmluZyB0b28gbWFueSBsaXN0ZW5lcnNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcbiAgICBsZXQgYWN0aXZlTGlzdGVuZXI7XG4gICAgZnVuY3Rpb24gJHBhdGNoKHBhcnRpYWxTdGF0ZU9yTXV0YXRvcikge1xuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XG4gICAgICAgIGlzTGlzdGVuaW5nID0gaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHJlc2V0IHRoZSBkZWJ1Z2dlciBldmVudHMgc2luY2UgcGF0Y2hlcyBhcmUgc3luY1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFydGlhbFN0YXRlT3JNdXRhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBwYXJ0aWFsU3RhdGVPck11dGF0b3IocGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXJnZVJlYWN0aXZlT2JqZWN0cyhwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCBwYXJ0aWFsU3RhdGVPck11dGF0b3IpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uTXV0YXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBhcnRpYWxTdGF0ZU9yTXV0YXRvcixcbiAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xuICAgICAgICBuZXh0VGljaygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUxpc3RlbmVyID09PSBteUxpc3RlbmVySWQpIHtcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAvLyBiZWNhdXNlIHdlIHBhdXNlZCB0aGUgd2F0Y2hlciwgd2UgbmVlZCB0byBtYW51YWxseSBjYWxsIHRoZSBzdWJzY3JpcHRpb25zXG4gICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKHN1YnNjcmlwdGlvbnMsIHN1YnNjcmlwdGlvbk11dGF0aW9uLCBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdKTtcbiAgICB9XG4gICAgY29uc3QgJHJlc2V0ID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgPyBmdW5jdGlvbiAkcmVzZXQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgICAgIC8vIHdlIHVzZSBhIHBhdGNoIHRvIGdyb3VwIGFsbCBjaGFuZ2VzIGludG8gb25lIHNpbmdsZSBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkbid0IGVycm9yP1xuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIG5ld1N0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgICAgID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYPCfjY06IFN0b3JlIFwiJHskaWR9XCIgaXMgYnVpbHQgdXNpbmcgdGhlIHNldHVwIHN5bnRheCBhbmQgZG9lcyBub3QgaW1wbGVtZW50ICRyZXNldCgpLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG5vb3A7XG4gICAgZnVuY3Rpb24gJGRpc3Bvc2UoKSB7XG4gICAgICAgIHNjb3BlLnN0b3AoKTtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICAgICAgICBhY3Rpb25TdWJzY3JpcHRpb25zLmNsZWFyKCk7XG4gICAgICAgIHBpbmlhLl9zLmRlbGV0ZSgkaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgdGhhdCB3cmFwcyBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgdHJhY2tlZCB3aXRoICRvbkFjdGlvblxuICAgICAqIEBwYXJhbSBmbiAtIGFjdGlvbiB0byB3cmFwXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdCBhY3Rpb24gPSAoZm4sIG5hbWUgPSAnJykgPT4ge1xuICAgICAgICBpZiAoQUNUSU9OX01BUktFUiBpbiBmbikge1xuICAgICAgICAgICAgZm5bQUNUSU9OX05BTUVdID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwcGVkQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IGFmdGVyQ2FsbGJhY2tTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yQ2FsbGJhY2tTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmdW5jdGlvbiBhZnRlcihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGFmdGVyQ2FsbGJhY2tTZXQuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yQ2FsbGJhY2tTZXQuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFjdGlvblN1YnNjcmlwdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgIG5hbWU6IHdyYXBwZWRBY3Rpb25bQUNUSU9OX05BTUVdLFxuICAgICAgICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgICAgICAgIGFmdGVyLFxuICAgICAgICAgICAgICAgIG9uRXJyb3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCByZXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldCA9IGZuLmFwcGx5KHRoaXMgJiYgdGhpcy4kaWQgPT09ICRpZCA/IHRoaXMgOiBzdG9yZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHN5bmMgZXJyb3JzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tTZXQsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldFxuICAgICAgICAgICAgICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja1NldCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tTZXQsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyaWdnZXIgYWZ0ZXIgY2FsbGJhY2tzXG4gICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhhZnRlckNhbGxiYWNrU2V0LCByZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgd3JhcHBlZEFjdGlvbltBQ1RJT05fTUFSS0VSXSA9IHRydWU7XG4gICAgICAgIHdyYXBwZWRBY3Rpb25bQUNUSU9OX05BTUVdID0gbmFtZTsgLy8gd2lsbCBiZSBzZXQgbGF0ZXJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogd2UgYXJlIGludGVudGlvbmFsbHkgbGltaXRpbmcgdGhlIHJldHVybmVkIHR5cGUgdG8ganVzdCBGblxuICAgICAgICAvLyBiZWNhdXNlIGFsbCB0aGUgYWRkZWQgcHJvcGVydGllcyBhcmUgaW50ZXJuYWxzIHRoYXQgYXJlIGV4cG9zZWQgdGhyb3VnaCBgJG9uQWN0aW9uKClgIG9ubHlcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRBY3Rpb247XG4gICAgfTtcbiAgICBjb25zdCBfaG1yUGF5bG9hZCA9IC8qI19fUFVSRV9fKi8gbWFya1Jhdyh7XG4gICAgICAgIGFjdGlvbnM6IHt9LFxuICAgICAgICBnZXR0ZXJzOiB7fSxcbiAgICAgICAgc3RhdGU6IFtdLFxuICAgICAgICBob3RTdGF0ZSxcbiAgICB9KTtcbiAgICBjb25zdCBwYXJ0aWFsU3RvcmUgPSB7XG4gICAgICAgIF9wOiBwaW5pYSxcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxuICAgICAgICAkaWQsXG4gICAgICAgICRvbkFjdGlvbjogYWRkU3Vic2NyaXB0aW9uLmJpbmQobnVsbCwgYWN0aW9uU3Vic2NyaXB0aW9ucyksXG4gICAgICAgICRwYXRjaCxcbiAgICAgICAgJHJlc2V0LFxuICAgICAgICAkc3Vic2NyaWJlKGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XG4gICAgICAgICAgICBjb25zdCBzdG9wV2F0Y2hlciA9IHNjb3BlLnJ1bigoKSA9PiB3YXRjaCgoKSA9PiBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5mbHVzaCA9PT0gJ3N5bmMnID8gaXNTeW5jTGlzdGVuaW5nIDogaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLmRpcmVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICAgICAgICAgIH0sIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZVN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgJGRpc3Bvc2UsXG4gICAgfTtcbiAgICBjb25zdCBzdG9yZSA9IHJlYWN0aXZlKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAoKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykpICYmIElTX0NMSUVOVClcbiAgICAgICAgPyBhc3NpZ24oe1xuICAgICAgICAgICAgX2htclBheWxvYWQsXG4gICAgICAgICAgICBfY3VzdG9tUHJvcGVydGllczogbWFya1JhdyhuZXcgU2V0KCkpLCAvLyBkZXZ0b29scyBjdXN0b20gcHJvcGVydGllc1xuICAgICAgICB9LCBwYXJ0aWFsU3RvcmVcbiAgICAgICAgLy8gbXVzdCBiZSBhZGRlZCBsYXRlclxuICAgICAgICAvLyBzZXR1cFN0b3JlXG4gICAgICAgIClcbiAgICAgICAgOiBwYXJ0aWFsU3RvcmUpO1xuICAgIC8vIHN0b3JlIHRoZSBwYXJ0aWFsIHN0b3JlIG5vdyBzbyB0aGUgc2V0dXAgb2Ygc3RvcmVzIGNhbiBpbnN0YW50aWF0ZSBlYWNoIG90aGVyIGJlZm9yZSB0aGV5IGFyZSBmaW5pc2hlZCB3aXRob3V0XG4gICAgLy8gY3JlYXRpbmcgaW5maW5pdGUgbG9vcHMuXG4gICAgcGluaWEuX3Muc2V0KCRpZCwgc3RvcmUpO1xuICAgIGNvbnN0IHJ1bldpdGhDb250ZXh0ID0gKHBpbmlhLl9hICYmIHBpbmlhLl9hLnJ1bldpdGhDb250ZXh0KSB8fCBmYWxsYmFja1J1bldpdGhDb250ZXh0O1xuICAgIC8vIFRPRE86IGlkZWEgY3JlYXRlIHNraXBTZXJpYWxpemUgdGhhdCBtYXJrcyBwcm9wZXJ0aWVzIGFzIG5vbiBzZXJpYWxpemFibGUgYW5kIHRoZXkgYXJlIHNraXBwZWRcbiAgICBjb25zdCBzZXR1cFN0b3JlID0gcnVuV2l0aENvbnRleHQoKCkgPT4gcGluaWEuX2UucnVuKCgpID0+IChzY29wZSA9IGVmZmVjdFNjb3BlKCkpLnJ1bigoKSA9PiBzZXR1cCh7IGFjdGlvbiB9KSkpKTtcbiAgICAvLyBvdmVyd3JpdGUgZXhpc3RpbmcgYWN0aW9ucyB0byBzdXBwb3J0ICRvbkFjdGlvblxuICAgIGZvciAoY29uc3Qga2V5IGluIHNldHVwU3RvcmUpIHtcbiAgICAgICAgY29uc3QgcHJvcCA9IHNldHVwU3RvcmVba2V5XTtcbiAgICAgICAgaWYgKChpc1JlZihwcm9wKSAmJiAhaXNDb21wdXRlZChwcm9wKSkgfHwgaXNSZWFjdGl2ZShwcm9wKSkge1xuICAgICAgICAgICAgLy8gbWFyayBpdCBhcyBhIHBpZWNlIG9mIHN0YXRlIHRvIGJlIHNlcmlhbGl6ZWRcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90KSB7XG4gICAgICAgICAgICAgICAgaG90U3RhdGUudmFsdWVba2V5XSA9IHRvUmVmKHNldHVwU3RvcmUsIGtleSk7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlT3B0aW9uU3RvcmUgZGlyZWN0bHkgc2V0cyB0aGUgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWUgc28gd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4ganVzdCBza2lwIHRoYXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc09wdGlvbnNTdG9yZSkge1xuICAgICAgICAgICAgICAgIC8vIGluIHNldHVwIHN0b3JlcyB3ZSBtdXN0IGh5ZHJhdGUgdGhlIHN0YXRlIGFuZCBzeW5jIHBpbmlhIHN0YXRlIHRyZWUgd2l0aCB0aGUgcmVmcyB0aGUgdXNlciBqdXN0IGNyZWF0ZWRcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFN0YXRlICYmIHNob3VsZEh5ZHJhdGUocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wLnZhbHVlID0gaW5pdGlhbFN0YXRlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9iYWJseSBhIHJlYWN0aXZlIG9iamVjdCwgbGV0cyByZWN1cnNpdmVseSBhc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHByb3AgaXMgdW5rbm93blxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocHJvcCwgaW5pdGlhbFN0YXRlW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWYgdG8gdGhlIHBpbmlhIHN0YXRlIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jXG4gICAgICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXVtrZXldID0gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuc3RhdGUucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWN0aW9uXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHByb3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvblZhbHVlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCA/IHByb3AgOiBhY3Rpb24ocHJvcCwga2V5KTtcbiAgICAgICAgICAgIC8vIHRoaXMgYSBob3QgbW9kdWxlIHJlcGxhY2VtZW50IHN0b3JlIGJlY2F1c2UgdGhlIGhvdFVwZGF0ZSBtZXRob2QgbmVlZHNcbiAgICAgICAgICAgIC8vIHRvIGRvIGl0IHdpdGggdGhlIHJpZ2h0IGNvbnRleHRcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHNldHVwU3RvcmVba2V5XSA9IGFjdGlvblZhbHVlO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5hY3Rpb25zW2tleV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGlzdCBhY3Rpb25zIHNvIHRoZXkgY2FuIGJlIHVzZWQgaW4gcGx1Z2luc1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgb3B0aW9uc0ZvclBsdWdpbi5hY3Rpb25zW2tleV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgLy8gYWRkIGdldHRlcnMgZm9yIGRldnRvb2xzXG4gICAgICAgICAgICBpZiAoaXNDb21wdXRlZChwcm9wKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmdldHRlcnNba2V5XSA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5nZXR0ZXJzW2tleV1cbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wO1xuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVycyA9IHNldHVwU3RvcmUuX2dldHRlcnMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHNhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXR1cFN0b3JlLl9nZXR0ZXJzID0gbWFya1JhdyhbXSkpO1xuICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIGFjdGlvbiBwcm9wZXJ0aWVzXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgYXNzaWduKHN0b3JlLCBzZXR1cFN0b3JlKTtcbiAgICAvLyBhbGxvd3MgcmV0cmlldmluZyByZWFjdGl2ZSBvYmplY3RzIHdpdGggYHN0b3JlVG9SZWZzKClgLiBNdXN0IGJlIGNhbGxlZCBhZnRlciBhc3NpZ25pbmcgdG8gdGhlIHJlYWN0aXZlIG9iamVjdC5cbiAgICAvLyBNYWtlIGBzdG9yZVRvUmVmcygpYCB3b3JrIHdpdGggYHJlYWN0aXZlKClgICM3OTlcbiAgICBhc3NpZ24odG9SYXcoc3RvcmUpLCBzZXR1cFN0b3JlKTtcbiAgICAvLyB1c2UgdGhpcyBpbnN0ZWFkIG9mIGEgY29tcHV0ZWQgd2l0aCBzZXR0ZXIgdG8gYmUgYWJsZSB0byBjcmVhdGUgaXQgYW55d2hlcmVcbiAgICAvLyB3aXRob3V0IGxpbmtpbmcgdGhlIGNvbXB1dGVkIGxpZmVzcGFuIHRvIHdoZXJldmVyIHRoZSBzdG9yZSBpcyBmaXJzdFxuICAgIC8vIGNyZWF0ZWQuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCAnJHN0YXRlJywge1xuICAgICAgICBnZXQ6ICgpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gaG90U3RhdGUudmFsdWUgOiBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdKSxcbiAgICAgICAgc2V0OiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBzZXQgaG90U3RhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRwYXRjaCgoJHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZG4ndCBlcnJvcj9cbiAgICAgICAgICAgICAgICBhc3NpZ24oJHN0YXRlLCBzdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBhZGQgdGhlIGhvdFVwZGF0ZSBiZWZvcmUgcGx1Z2lucyB0byBhbGxvdyB0aGVtIHRvIG92ZXJyaWRlIGl0XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHN0b3JlLl9ob3RVcGRhdGUgPSBtYXJrUmF3KChuZXdTdG9yZSkgPT4ge1xuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld1N0b3JlLl9obXJQYXlsb2FkLnN0YXRlLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlS2V5IGluIHN0b3JlLiRzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZVRhcmdldCA9IG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFN0YXRlU291cmNlID0gc3RvcmUuJHN0YXRlW3N0YXRlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdTdGF0ZVRhcmdldCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3QobmV3U3RhdGVUYXJnZXQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KG9sZFN0YXRlU291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hPYmplY3QobmV3U3RhdGVUYXJnZXQsIG9sZFN0YXRlU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV0gPSBvbGRTdGF0ZVNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBkaXJlY3QgYWNjZXNzIHByb3BlcnRpZXMgdG8gYWxsb3cgc3RvcmUuc3RhdGVQcm9wZXJ0eSB0byB3b3JrIGFzXG4gICAgICAgICAgICAgICAgLy8gc3RvcmUuJHN0YXRlLnN0YXRlUHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBhbnkgdHlwZVxuICAgICAgICAgICAgICAgIHN0b3JlW3N0YXRlS2V5XSA9IHRvUmVmKG5ld1N0b3JlLiRzdGF0ZSwgc3RhdGVLZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBzdGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoc3RhdGVLZXkgaW4gbmV3U3RvcmUuJHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBub29wIGlmIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0b3JlW3N0YXRlS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGF2b2lkIGRldnRvb2xzIGxvZ2dpbmcgdGhpcyBhcyBhIG11dGF0aW9uXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0gdG9SZWYobmV3U3RvcmUuX2htclBheWxvYWQsICdob3RTdGF0ZScpO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkZuID0gbmV3U3RvcmVbYWN0aW9uTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogYWN0aW9uTmFtZSBpcyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIHN0b3JlW2FjdGlvbk5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uKGFjdGlvbkZuLCBhY3Rpb25OYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGRvZXMgdGhpcyB3b3JrIGluIGJvdGggc2V0dXAgYW5kIG9wdGlvbiBzdG9yZT9cbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyID0gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVyc1tnZXR0ZXJOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJWYWx1ZSA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0dGVyO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGdldHRlck5hbWUgaXMgYSBzdHJpbmdcbiAgICAgICAgICAgICAgICBzdG9yZVtnZXR0ZXJOYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIGdldHRlclZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgZ2V0dGVyc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IG5vb3AgaWYgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYWN0aW9uc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IG5vb3AgaWYgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWVzIHVzZWQgaW4gZGV2dG9vbHMgYW5kIHRvIGFsbG93IGRlbGV0aW5nIG5ldyBwcm9wZXJ0aWVzIGxhdGVyIG9uXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xuICAgICAgICAgICAgc3RvcmUuX2dldHRlcnMgPSBuZXdTdG9yZS5fZ2V0dGVycztcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgY29uc3Qgbm9uRW51bWVyYWJsZSA9IHtcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gYXZvaWQgd2FybmluZyBvbiBkZXZ0b29scyB0cnlpbmcgdG8gZGlzcGxheSB0aGlzIHByb3BlcnR5XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgWydfcCcsICdfaG1yUGF5bG9hZCcsICdfZ2V0dGVycycsICdfY3VzdG9tUHJvcGVydGllcyddLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZSwgcCwgYXNzaWduKHsgdmFsdWU6IHN0b3JlW3BdIH0sIG5vbkVudW1lcmFibGUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFwcGx5IGFsbCBwbHVnaW5zXG4gICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSBzY29wZS5ydW4oKCkgPT4gZXh0ZW5kZXIoe1xuICAgICAgICAgICAgICAgIHN0b3JlOiBzdG9yZSxcbiAgICAgICAgICAgICAgICBhcHA6IHBpbmlhLl9hLFxuICAgICAgICAgICAgICAgIHBpbmlhLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhleHRlbnNpb25zIHx8IHt9KS5mb3JFYWNoKChrZXkpID0+IHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmFkZChrZXkpKTtcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgZXh0ZW5zaW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XG4gICAgICAgICAgICAgICAgc3RvcmU6IHN0b3JlLFxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXG4gICAgICAgICAgICAgICAgcGluaWEsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc0ZvclBsdWdpbixcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgIHN0b3JlLiRzdGF0ZSAmJlxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICFzdG9yZS4kc3RhdGUuY29uc3RydWN0b3IudG9TdHJpbmcoKS5pbmNsdWRlcygnW25hdGl2ZSBjb2RlXScpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBUaGUgXCJzdGF0ZVwiIG11c3QgYmUgYSBwbGFpbiBvYmplY3QuIEl0IGNhbm5vdCBiZVxcbmAgK1xuICAgICAgICAgICAgYFxcdHN0YXRlOiAoKSA9PiBuZXcgTXlDbGFzcygpXFxuYCArXG4gICAgICAgICAgICBgRm91bmQgaW4gc3RvcmUgXCIke3N0b3JlLiRpZH1cIi5gKTtcbiAgICB9XG4gICAgLy8gb25seSBhcHBseSBoeWRyYXRlIHRvIG9wdGlvbiBzdG9yZXMgd2l0aCBhbiBpbml0aWFsIHN0YXRlIGluIHBpbmlhXG4gICAgaWYgKGluaXRpYWxTdGF0ZSAmJlxuICAgICAgICBpc09wdGlvbnNTdG9yZSAmJlxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgb3B0aW9ucy5oeWRyYXRlKHN0b3JlLiRzdGF0ZSwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgIGlzU3luY0xpc3RlbmluZyA9IHRydWU7XG4gICAgcmV0dXJuIHN0b3JlO1xufVxuLy8gYWxsb3dzIHVudXNlZCBzdG9yZXMgdG8gYmUgdHJlZSBzaGFrZW5cbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuZnVuY3Rpb24gZGVmaW5lU3RvcmUoXG4vLyBUT0RPOiBhZGQgcHJvcGVyIHR5cGVzIGZyb20gYWJvdmVcbmlkLCBzZXR1cCwgc2V0dXBPcHRpb25zKSB7XG4gICAgbGV0IG9wdGlvbnM7XG4gICAgY29uc3QgaXNTZXR1cFN0b3JlID0gdHlwZW9mIHNldHVwID09PSAnZnVuY3Rpb24nO1xuICAgIC8vIHRoZSBvcHRpb24gc3RvcmUgc2V0dXAgd2lsbCBjb250YWluIHRoZSBhY3R1YWwgb3B0aW9ucyBpbiB0aGlzIGNhc2VcbiAgICBvcHRpb25zID0gaXNTZXR1cFN0b3JlID8gc2V0dXBPcHRpb25zIDogc2V0dXA7XG4gICAgZnVuY3Rpb24gdXNlU3RvcmUocGluaWEsIGhvdCkge1xuICAgICAgICBjb25zdCBoYXNDb250ZXh0ID0gaGFzSW5qZWN0aW9uQ29udGV4dCgpO1xuICAgICAgICBwaW5pYSA9XG4gICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhXG4gICAgICAgICAgICAvLyBwaW5pYSBpbnN0YW5jZSB3aXRoIGdldEFjdGl2ZVBpbmlhKClcbiAgICAgICAgICAgICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgYWN0aXZlUGluaWEgJiYgYWN0aXZlUGluaWEuX3Rlc3RpbmcgPyBudWxsIDogcGluaWEpIHx8XG4gICAgICAgICAgICAgICAgKGhhc0NvbnRleHQgPyBpbmplY3QocGluaWFTeW1ib2wsIG51bGwpIDogbnVsbCk7XG4gICAgICAgIGlmIChwaW5pYSlcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhYWN0aXZlUGluaWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW/CfjY1dOiBcImdldEFjdGl2ZVBpbmlhKClcIiB3YXMgY2FsbGVkIGJ1dCB0aGVyZSB3YXMgbm8gYWN0aXZlIFBpbmlhLiBBcmUgeW91IHRyeWluZyB0byB1c2UgYSBzdG9yZSBiZWZvcmUgY2FsbGluZyBcImFwcC51c2UocGluaWEpXCI/XFxuYCArXG4gICAgICAgICAgICAgICAgYFNlZSBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9jb3JlLWNvbmNlcHRzL291dHNpZGUtY29tcG9uZW50LXVzYWdlLmh0bWwgZm9yIGhlbHAuXFxuYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGluaWEgPSBhY3RpdmVQaW5pYTtcbiAgICAgICAgaWYgKCFwaW5pYS5fcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGluZyB0aGUgc3RvcmUgcmVnaXN0ZXJzIGl0IGluIGBwaW5pYS5fc2BcbiAgICAgICAgICAgIGlmIChpc1NldHVwU3RvcmUpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IG5vdCB0aGUgcmlnaHQgaW5mZXJyZWQgdHlwZVxuICAgICAgICAgICAgICAgIHVzZVN0b3JlLl9waW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvdElkID0gJ19faG90OicgKyBpZDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0b3JlID0gaXNTZXR1cFN0b3JlXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTZXR1cFN0b3JlKGhvdElkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIHRydWUpXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVPcHRpb25zU3RvcmUoaG90SWQsIGFzc2lnbih7fSwgb3B0aW9ucyksIHBpbmlhLCB0cnVlKTtcbiAgICAgICAgICAgIGhvdC5faG90VXBkYXRlKG5ld1N0b3JlKTtcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIHN0YXRlIHByb3BlcnRpZXMgYW5kIHRoZSBzdG9yZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgZGVsZXRlIHBpbmlhLnN0YXRlLnZhbHVlW2hvdElkXTtcbiAgICAgICAgICAgIHBpbmlhLl9zLmRlbGV0ZShob3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgLy8gc2F2ZSBzdG9yZXMgaW4gaW5zdGFuY2VzIHRvIGFjY2VzcyB0aGVtIGRldnRvb2xzXG4gICAgICAgICAgICBpZiAoY3VycmVudEluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLnByb3h5ICYmXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIHN0b3JlcyB0aGF0IGFyZSBqdXN0IGJ1aWx0IGZvciBob3QgbW9kdWxlIHJlcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgIWhvdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZtID0gY3VycmVudEluc3RhbmNlLnByb3h5O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gJ19wU3RvcmVzJyBpbiB2bSA/IHZtLl9wU3RvcmVzIDogKHZtLl9wU3RvcmVzID0ge30pO1xuICAgICAgICAgICAgICAgIGNhY2hlW2lkXSA9IHN0b3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmVcbiAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgIH1cbiAgICB1c2VTdG9yZS4kaWQgPSBpZDtcbiAgICByZXR1cm4gdXNlU3RvcmU7XG59XG5cbmxldCBtYXBTdG9yZVN1ZmZpeCA9ICdTdG9yZSc7XG4vKipcbiAqIENoYW5nZXMgdGhlIHN1ZmZpeCBhZGRlZCBieSBgbWFwU3RvcmVzKClgLiBDYW4gYmUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZy5cbiAqIERlZmF1bHRzIHRvIGBcIlN0b3JlXCJgLiBNYWtlIHN1cmUgdG8gZXh0ZW5kIHRoZSBNYXBTdG9yZXNDdXN0b21pemF0aW9uXG4gKiBpbnRlcmZhY2UgaWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LlxuICpcbiAqIEBwYXJhbSBzdWZmaXggLSBuZXcgc3VmZml4XG4gKi9cbmZ1bmN0aW9uIHNldE1hcFN0b3JlU3VmZml4KHN1ZmZpeCAvLyBjb3VsZCBiZSAnU3RvcmUnIGJ1dCB0aGF0IHdvdWxkIGJlIGFubm95aW5nIGZvciBKU1xuKSB7XG4gICAgbWFwU3RvcmVTdWZmaXggPSBzdWZmaXg7XG59XG4vKipcbiAqIEFsbG93cyB1c2luZyBzdG9yZXMgd2l0aG91dCB0aGUgY29tcG9zaXRpb24gQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW5cbiAqIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGQgb2YgYSBjb21wb25lbnQuIEl0IGFjY2VwdHMgYSBsaXN0XG4gKiBvZiBzdG9yZSBkZWZpbml0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGV4cG9ydCBkZWZhdWx0IHtcbiAqICAgY29tcHV0ZWQ6IHtcbiAqICAgICAvLyBvdGhlciBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gKiAgICAgLi4ubWFwU3RvcmVzKHVzZVVzZXJTdG9yZSwgdXNlQ2FydFN0b3JlKVxuICogICB9LFxuICpcbiAqICAgY3JlYXRlZCgpIHtcbiAqICAgICB0aGlzLnVzZXJTdG9yZSAvLyBzdG9yZSB3aXRoIGlkIFwidXNlclwiXG4gKiAgICAgdGhpcy5jYXJ0U3RvcmUgLy8gc3RvcmUgd2l0aCBpZCBcImNhcnRcIlxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RvcmVzIC0gbGlzdCBvZiBzdG9yZXMgdG8gbWFwIHRvIGFuIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBTdG9yZXMoLi4uc3RvcmVzKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBBcnJheS5pc0FycmF5KHN0b3Jlc1swXSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IERpcmVjdGx5IHBhc3MgYWxsIHN0b3JlcyB0byBcIm1hcFN0b3JlcygpXCIgd2l0aG91dCBwdXR0aW5nIHRoZW0gaW4gYW4gYXJyYXk6XFxuYCArXG4gICAgICAgICAgICBgUmVwbGFjZVxcbmAgK1xuICAgICAgICAgICAgYFxcdG1hcFN0b3JlcyhbdXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmVdKVxcbmAgK1xuICAgICAgICAgICAgYHdpdGhcXG5gICtcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXModXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmUpXFxuYCArXG4gICAgICAgICAgICBgVGhpcyB3aWxsIGZhaWwgaW4gcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XG4gICAgICAgIHN0b3JlcyA9IHN0b3Jlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3Jlcy5yZWR1Y2UoKHJlZHVjZWQsIHVzZVN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6ICRpZCBpcyBhZGRlZCBieSBkZWZpbmVTdG9yZVxuICAgICAgICByZWR1Y2VkW3VzZVN0b3JlLiRpZCArIG1hcFN0b3JlU3VmZml4XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgIH0sIHt9KTtcbn1cbi8qKlxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXG4gKiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkXG4gKiBvZiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gdXNlU3RvcmUgLSBzdG9yZSB0byBtYXAgZnJvbVxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBTdGF0ZSh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGQgd29yaz9cbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleV07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUtleSA9IGtleXNPck1hcHBlcltrZXldO1xuICAgICAgICAgICAgICAgIC8vIGZvciBzb21lIHJlYXNvbiBUUyBpcyB1bmFibGUgdG8gaW5mZXIgdGhlIHR5cGUgb2Ygc3RvcmVLZXkgdG8gYmUgYVxuICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdG9yZUtleSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IHN0b3JlS2V5LmNhbGwodGhpcywgc3RvcmUpXG4gICAgICAgICAgICAgICAgICAgIDogLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZCB3b3JrP1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbc3RvcmVLZXldO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciBgbWFwU3RhdGUoKWAuIFlvdSBzaG91bGQgdXNlIGBtYXBTdGF0ZSgpYCBpbnN0ZWFkLlxuICogQGRlcHJlY2F0ZWQgdXNlIGBtYXBTdGF0ZSgpYCBpbnN0ZWFkLlxuICovXG5jb25zdCBtYXBHZXR0ZXJzID0gbWFwU3RhdGU7XG4vKipcbiAqIEFsbG93cyBkaXJlY3RseSB1c2luZyBhY3Rpb25zIGZyb20geW91ciBzdG9yZSB3aXRob3V0IHVzaW5nIHRoZSBjb21wb3NpdGlvblxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYG1ldGhvZHNgIGZpZWxkXG4gKiBvZiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gdXNlU3RvcmUgLSBzdG9yZSB0byBtYXAgZnJvbVxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBBY3Rpb25zKHVzZVN0b3JlLCBrZXlzT3JNYXBwZXIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGQgd29yaz9cbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleV0oLi4uYXJncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZCB3b3JrP1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSk7XG59XG4vKipcbiAqIEFsbG93cyB1c2luZyBzdGF0ZSBhbmQgZ2V0dGVycyBmcm9tIG9uZSBzdG9yZSB3aXRob3V0IHVzaW5nIHRoZSBjb21wb3NpdGlvblxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwV3JpdGFibGVTdGF0ZSh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodXNlU3RvcmUodGhpcy4kcGluaWEpW2tleV0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBvZiByZWZlcmVuY2VzIHdpdGggYWxsIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIHBsdWdpbi1hZGRlZFxuICogc3RhdGUgcHJvcGVydGllcyBvZiB0aGUgc3RvcmUuIFNpbWlsYXIgdG8gYHRvUmVmcygpYCBidXQgc3BlY2lmaWNhbGx5XG4gKiBkZXNpZ25lZCBmb3IgUGluaWEgc3RvcmVzIHNvIG1ldGhvZHMgYW5kIG5vbiByZWFjdGl2ZSBwcm9wZXJ0aWVzIGFyZVxuICogY29tcGxldGVseSBpZ25vcmVkLlxuICpcbiAqIEBwYXJhbSBzdG9yZSAtIHN0b3JlIHRvIGV4dHJhY3QgdGhlIHJlZnMgZnJvbVxuICovXG5mdW5jdGlvbiBzdG9yZVRvUmVmcyhzdG9yZSkge1xuICAgIGNvbnN0IHJhd1N0b3JlID0gdG9SYXcoc3RvcmUpO1xuICAgIGNvbnN0IHJlZnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdTdG9yZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1N0b3JlW2tleV07XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIG5hdGl2ZSBtZXRob2QgdG8gY2hlY2sgZm9yIGEgY29tcHV0ZWRcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL2NvcmUvcHVsbC80MTY1XG4gICAgICAgIGlmICh2YWx1ZS5lZmZlY3QpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvbyBoYXJkIHRvIHR5cGUgY29ycmVjdGx5XG4gICAgICAgICAgICByZWZzW2tleV0gPVxuICAgICAgICAgICAgICAgIC8vIC4uLlxuICAgICAgICAgICAgICAgIGNvbXB1dGVkKHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBzdG9yZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZih2YWx1ZSkgfHwgaXNSZWFjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoZSBrZXkgaXMgc3RhdGUgb3IgZ2V0dGVyXG4gICAgICAgICAgICByZWZzW2tleV0gPVxuICAgICAgICAgICAgICAgIC8vIC0tLVxuICAgICAgICAgICAgICAgIHRvUmVmKHN0b3JlLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWZzO1xufVxuXG5leHBvcnQgeyBNdXRhdGlvblR5cGUsIGFjY2VwdEhNUlVwZGF0ZSwgY3JlYXRlUGluaWEsIGRlZmluZVN0b3JlLCBkaXNwb3NlUGluaWEsIGdldEFjdGl2ZVBpbmlhLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSwgbWFwU3RvcmVzLCBtYXBXcml0YWJsZVN0YXRlLCBzZXRBY3RpdmVQaW5pYSwgc2V0TWFwU3RvcmVTdWZmaXgsIHNob3VsZEh5ZHJhdGUsIHNraXBIeWRyYXRlLCBzdG9yZVRvUmVmcyB9O1xuIiwiLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBnbG9iYWxUaGlzLCB3aXRoIHN1cHBvcnRcbiAqIGZvciBicm93c2VycyB0aGF0IGRvbid0IHlldCBzdXBwb3J0IHRoZSBzcGVjLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgJGdsb2JhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgaW4gYSBtb2Rlcm4gZW52aXJvbm1lbnQuXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBXZSdyZSBydW5uaW5nIGluIE5vZGVKU1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgLy8gV2UncmUgcnVubmluZyBpbiBhIHdvcmtlci5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgaW4gdGhlIGJyb3dzZXIncyBtYWluIHRocmVhZC5cbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSG9wZWZ1bGx5IHdlIG5ldmVyIGdldCBoZXJlLi4uXG4gICAgICAgIC8vIE5vdCBhbGwgZW52aXJvbm1lbnRzIGFsbG93IGV2YWwgYW5kIEZ1bmN0aW9uLiBVc2Ugb25seSBhcyBhIGxhc3QgcmVzb3J0OlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICAvLyBJZiBhbGwgZmFpbHMsIGdpdmUgdXAgYW5kIGNyZWF0ZSBhbiBvYmplY3QuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbn0pKCk7XG4vLyBBUEktb25seSBQb2x5ZmlsbCBmb3IgdHJ1c3RlZFR5cGVzXG5pZiAoJGdsb2JhbC50cnVzdGVkVHlwZXMgPT09IHZvaWQgMCkge1xuICAgICRnbG9iYWwudHJ1c3RlZFR5cGVzID0geyBjcmVhdGVQb2xpY3k6IChuLCByKSA9PiByIH07XG59XG5jb25zdCBwcm9wQ29uZmlnID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IGZhbHNlLFxufTtcbmlmICgkZ2xvYmFsLkZBU1QgPT09IHZvaWQgMCkge1xuICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoJGdsb2JhbCwgXCJGQVNUXCIsIE9iamVjdC5hc3NpZ24oeyB2YWx1ZTogT2JqZWN0LmNyZWF0ZShudWxsKSB9LCBwcm9wQ29uZmlnKSk7XG59XG4vKipcbiAqIFRoZSBGQVNUIGdsb2JhbC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRkFTVCA9ICRnbG9iYWwuRkFTVDtcbmlmIChGQVNULmdldEJ5SWQgPT09IHZvaWQgMCkge1xuICAgIGNvbnN0IHN0b3JhZ2UgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoRkFTVCwgXCJnZXRCeUlkXCIsIE9iamVjdC5hc3NpZ24oeyB2YWx1ZShpZCwgaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gc3RvcmFnZVtpZF07XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gaW5pdGlhbGl6ZSA/IChzdG9yYWdlW2lkXSA9IGluaXRpYWxpemUoKSkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9IH0sIHByb3BDb25maWcpKTtcbn1cbi8qKlxuICogQSByZWFkb25seSwgZW1wdHkgYXJyYXkuXG4gKiBAcmVtYXJrc1xuICogVHlwaWNhbGx5IHJldHVybmVkIGJ5IEFQSXMgdGhhdCByZXR1cm4gYXJyYXlzIHdoZW4gdGhlcmUgYXJlXG4gKiBubyBhY3R1YWwgaXRlbXMgdG8gcmV0dXJuLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBlbXB0eUFycmF5ID0gT2JqZWN0LmZyZWV6ZShbXSk7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBjYXBhYmxlIG9mIGxvY2F0aW5nIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCBhIHR5cGUuXG4gKiBAcmV0dXJucyBBIG1ldGFkYXRhIGxvY2F0b3IgZnVuY3Rpb24uXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1ldGFkYXRhTG9jYXRvcigpIHtcbiAgICBjb25zdCBtZXRhZGF0YUxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgbGV0IG1ldGFkYXRhID0gbWV0YWRhdGFMb29rdXAuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmIChtZXRhZGF0YSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFRhcmdldCA9IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KTtcbiAgICAgICAgICAgIHdoaWxlIChtZXRhZGF0YSA9PT0gdm9pZCAwICYmIGN1cnJlbnRUYXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IG1ldGFkYXRhTG9va3VwLmdldChjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGFkYXRhID0gbWV0YWRhdGEgPT09IHZvaWQgMCA/IFtdIDogbWV0YWRhdGEuc2xpY2UoMCk7XG4gICAgICAgICAgICBtZXRhZGF0YUxvb2t1cC5zZXQodGFyZ2V0LCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH07XG59XG4iLCJpbXBvcnQgeyAkZ2xvYmFsIH0gZnJvbSBcIi4vcGxhdGZvcm0uanNcIjtcbmNvbnN0IHVwZGF0ZVF1ZXVlID0gJGdsb2JhbC5GQVNULmdldEJ5SWQoMSAvKiB1cGRhdGVRdWV1ZSAqLywgKCkgPT4ge1xuICAgIGNvbnN0IHRhc2tzID0gW107XG4gICAgY29uc3QgcGVuZGluZ0Vycm9ycyA9IFtdO1xuICAgIGZ1bmN0aW9uIHRocm93Rmlyc3RFcnJvcigpIHtcbiAgICAgICAgaWYgKHBlbmRpbmdFcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBwZW5kaW5nRXJyb3JzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ5UnVuVGFzayh0YXNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXNrLmNhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHBlbmRpbmdFcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRocm93Rmlyc3RFcnJvciwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgY29uc3QgY2FwYWNpdHkgPSAxMDI0O1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCB0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRyeVJ1blRhc2sodGFza3NbaW5kZXhdKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGxlYWtpbmcgbWVtb3J5IGZvciBsb25nIGNoYWlucyBvZiByZWN1cnNpdmUgY2FsbHMgdG8gYERPTS5xdWV1ZVVwZGF0ZWAuXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYWxsIGBET00ucXVldWVVcGRhdGVgIHdpdGhpbiBhIHRhc2sgc2NoZWR1bGVkIGJ5IGBET00ucXVldWVVcGRhdGVgLCB0aGUgcXVldWUgd2lsbFxuICAgICAgICAgICAgLy8gZ3JvdywgYnV0IHRvIGF2b2lkIGFuIE8obikgd2FsayBmb3IgZXZlcnkgdGFzayB3ZSBleGVjdXRlLCB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gc2hpZnQgdGFza3Mgb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGV5IGhhdmUgYmVlbiBleGVjdXRlZC5cbiAgICAgICAgICAgIC8vIEluc3RlYWQsIHdlIHBlcmlvZGljYWxseSBzaGlmdCAxMDI0IHRhc2tzIG9mZiB0aGUgcXVldWUuXG4gICAgICAgICAgICBpZiAoaW5kZXggPiBjYXBhY2l0eSkge1xuICAgICAgICAgICAgICAgIC8vIE1hbnVhbGx5IHNoaWZ0IGFsbCB2YWx1ZXMgc3RhcnRpbmcgYXQgdGhlIGluZGV4IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzY2FuID0gMCwgbmV3TGVuZ3RoID0gdGFza3MubGVuZ3RoIC0gaW5kZXg7IHNjYW4gPCBuZXdMZW5ndGg7IHNjYW4rKykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1tzY2FuXSA9IHRhc2tzW3NjYW4gKyBpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhc2tzLmxlbmd0aCAtPSBpbmRleDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGFza3MubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZShjYWxsYWJsZSkge1xuICAgICAgICBpZiAodGFza3MubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgJGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocHJvY2Vzcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFza3MucHVzaChjYWxsYWJsZSk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgZW5xdWV1ZSxcbiAgICAgICAgcHJvY2VzcyxcbiAgICB9KTtcbn0pO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmNvbnN0IGZhc3RIVE1MUG9saWN5ID0gJGdsb2JhbC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KFwiZmFzdC1odG1sXCIsIHtcbiAgICBjcmVhdGVIVE1MOiBodG1sID0+IGh0bWwsXG59KTtcbi8qIGVzbGludC1lbmFibGUgKi9cbmxldCBodG1sUG9saWN5ID0gZmFzdEhUTUxQb2xpY3k7XG5jb25zdCBtYXJrZXIgPSBgZmFzdC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KX1gO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9pbnRlcnBvbGF0aW9uU3RhcnQgPSBgJHttYXJrZXJ9e2A7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2ludGVycG9sYXRpb25FbmQgPSBgfSR7bWFya2VyfWA7XG4vKipcbiAqIENvbW1vbiBET00gQVBJcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERPTSA9IE9iamVjdC5mcmVlemUoe1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBET00gc3VwcG9ydHMgdGhlIGFkb3B0ZWRTdHlsZVNoZWV0cyBmZWF0dXJlLlxuICAgICAqL1xuICAgIHN1cHBvcnRzQWRvcHRlZFN0eWxlU2hlZXRzOiBBcnJheS5pc0FycmF5KGRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cykgJiZcbiAgICAgICAgXCJyZXBsYWNlXCIgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgSFRNTCB0cnVzdGVkIHR5cGVzIHBvbGljeSB1c2VkIGJ5IHRoZSB0ZW1wbGF0aW5nIGVuZ2luZS5cbiAgICAgKiBAcGFyYW0gcG9saWN5IC0gVGhlIHBvbGljeSB0byBzZXQgZm9yIEhUTUwuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIEFQSSBjYW4gb25seSBiZSBjYWxsZWQgb25jZSwgZm9yIHNlY3VyaXR5IHJlYXNvbnMuIEl0IHNob3VsZCBiZVxuICAgICAqIGNhbGxlZCBieSB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIGF0IHRoZSBzdGFydCBvZiB0aGVpciBwcm9ncmFtLlxuICAgICAqL1xuICAgIHNldEhUTUxQb2xpY3kocG9saWN5KSB7XG4gICAgICAgIGlmIChodG1sUG9saWN5ICE9PSBmYXN0SFRNTFBvbGljeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIEhUTUwgcG9saWN5IGNhbiBvbmx5IGJlIHNldCBvbmNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sUG9saWN5ID0gcG9saWN5O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVHVybnMgYSBzdHJpbmcgaW50byB0cnVzdGVkIEhUTUwgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgdHJ1c3RlZCB0eXBlcyBwb2xpY3kuXG4gICAgICogQHBhcmFtIGh0bWwgLSBUaGUgc3RyaW5nIHRvIHR1cm4gaW50byB0cnVzdGVkIEhUTUwuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBVc2VkIGludGVybmFsbHkgYnkgdGhlIHRlbXBsYXRlIGVuZ2luZSB3aGVuIGNyZWF0aW5nIHRlbXBsYXRlc1xuICAgICAqIGFuZCBzZXR0aW5nIGlubmVySFRNTC5cbiAgICAgKi9cbiAgICBjcmVhdGVIVE1MKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxQb2xpY3kuY3JlYXRlSFRNTChodG1sKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHByb3ZpZGVkIG5vZGUgaXMgYSB0ZW1wbGF0ZSBtYXJrZXIgdXNlZCBieSB0aGUgcnVudGltZS5cbiAgICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIHRvIHRlc3QuXG4gICAgICovXG4gICAgaXNNYXJrZXIobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSA4ICYmIG5vZGUuZGF0YS5zdGFydHNXaXRoKG1hcmtlcik7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG1hcmtlciBub2RlLCBleHRyYWN0IHRoZSB7QGxpbmsgSFRNTERpcmVjdGl2ZX0gaW5kZXggZnJvbSB0aGUgcGxhY2Vob2xkZXIuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbWFya2VyIG5vZGUgdG8gZXh0cmFjdCB0aGUgaW5kZXggZnJvbS5cbiAgICAgKi9cbiAgICBleHRyYWN0RGlyZWN0aXZlSW5kZXhGcm9tTWFya2VyKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG5vZGUuZGF0YS5yZXBsYWNlKGAke21hcmtlcn06YCwgXCJcIikpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYWNlaG9sZGVyIHN0cmluZyBzdWl0YWJsZSBmb3IgbWFya2luZyBvdXQgYSBsb2NhdGlvbiAqd2l0aGluKlxuICAgICAqIGFuIGF0dHJpYnV0ZSB2YWx1ZSBvciBIVE1MIGNvbnRlbnQuXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGRpcmVjdGl2ZSBpbmRleCB0byBjcmVhdGUgdGhlIHBsYWNlaG9sZGVyIGZvci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFVzZWQgaW50ZXJuYWxseSBieSBiaW5kaW5nIGRpcmVjdGl2ZXMuXG4gICAgICovXG4gICAgY3JlYXRlSW50ZXJwb2xhdGlvblBsYWNlaG9sZGVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBgJHtfaW50ZXJwb2xhdGlvblN0YXJ0fSR7aW5kZXh9JHtfaW50ZXJwb2xhdGlvbkVuZH1gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYWNlaG9sZGVyIHRoYXQgbWFuaWZlc3RzIGl0c2VsZiBhcyBhbiBhdHRyaWJ1dGUgb24gYW5cbiAgICAgKiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGRpcmVjdGl2ZSBpbmRleCB0byBjcmVhdGUgdGhlIHBsYWNlaG9sZGVyIGZvci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFVzZWQgaW50ZXJuYWxseSBieSBhdHRyaWJ1dGUgZGlyZWN0aXZlcyBzdWNoIGFzIGByZWZgLCBgc2xvdHRlZGAsIGFuZCBgY2hpbGRyZW5gLlxuICAgICAqL1xuICAgIGNyZWF0ZUN1c3RvbUF0dHJpYnV0ZVBsYWNlaG9sZGVyKGF0dHJpYnV0ZU5hbWUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBgJHthdHRyaWJ1dGVOYW1lfT1cIiR7dGhpcy5jcmVhdGVJbnRlcnBvbGF0aW9uUGxhY2Vob2xkZXIoaW5kZXgpfVwiYDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwbGFjZWhvbGRlciB0aGF0IG1hbmlmZXN0cyBpdHNlbGYgYXMgYSBtYXJrZXIgd2l0aGluIHRoZSBET00gc3RydWN0dXJlLlxuICAgICAqIEBwYXJhbSBpbmRleCAtIFRoZSBkaXJlY3RpdmUgaW5kZXggdG8gY3JlYXRlIHRoZSBwbGFjZWhvbGRlciBmb3IuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBVc2VkIGludGVybmFsbHkgYnkgc3RydWN0dXJhbCBkaXJlY3RpdmVzIHN1Y2ggYXMgYHJlcGVhdGAuXG4gICAgICovXG4gICAgY3JlYXRlQmxvY2tQbGFjZWhvbGRlcihpbmRleCkge1xuICAgICAgICByZXR1cm4gYDwhLS0ke21hcmtlcn06JHtpbmRleH0tLT5gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIERPTSB1cGRhdGUgd29yayBpbiB0aGUgbmV4dCBhc3luYyBiYXRjaC5cbiAgICAgKiBAcGFyYW0gY2FsbGFibGUgLSBUaGUgY2FsbGFibGUgZnVuY3Rpb24gb3Igb2JqZWN0IHRvIHF1ZXVlLlxuICAgICAqL1xuICAgIHF1ZXVlVXBkYXRlOiB1cGRhdGVRdWV1ZS5lbnF1ZXVlLFxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IHByb2Nlc3NlcyBhbGwgd29yayBwcmV2aW91c2x5IHNjaGVkdWxlZFxuICAgICAqIHRocm91Z2ggcXVldWVVcGRhdGUuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIGFsc28gZm9yY2VzIG5leHRVcGRhdGUgcHJvbWlzZXNcbiAgICAgKiB0byByZXNvbHZlLlxuICAgICAqL1xuICAgIHByb2Nlc3NVcGRhdGVzOiB1cGRhdGVRdWV1ZS5wcm9jZXNzLFxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHdpdGggdGhlIG5leHQgRE9NIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBuZXh0VXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UodXBkYXRlUXVldWUuZW5xdWV1ZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIGF0dHJpYnV0ZSB2YWx1ZSBvbiBhbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgb24uXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZU5hbWUgLSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHRvIHNldC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIElmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCwgb3RoZXJ3aXNlXG4gICAgICogaXQgaXMgc2V0IHRvIHRoZSBwcm92aWRlZCB2YWx1ZSB1c2luZyB0aGUgc3RhbmRhcmQgYHNldEF0dHJpYnV0ZWAgQVBJLlxuICAgICAqL1xuICAgIHNldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNldHMgYSBib29sZWFuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIHNldCB0aGUgYm9vbGVhbiBhdHRyaWJ1dGUgdmFsdWUgb24uXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZU5hbWUgLSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHRvIHNldC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIElmIHRoZSB2YWx1ZSBpcyB0cnVlLCB0aGUgYXR0cmlidXRlIGlzIGFkZGVkOyBvdGhlcndpc2UgaXQgaXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBzZXRCb29sZWFuQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhbHVlXG4gICAgICAgICAgICA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIFwiXCIpXG4gICAgICAgICAgICA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIGNoaWxkIG5vZGVzIG9mIHRoZSBwcm92aWRlZCBwYXJlbnQgbm9kZS5cbiAgICAgKiBAcGFyYW0gcGFyZW50IC0gVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBjaGlsZHJlbiBmcm9tLlxuICAgICAqL1xuICAgIHJlbW92ZUNoaWxkTm9kZXMocGFyZW50KSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkID0gcGFyZW50LmZpcnN0Q2hpbGQ7IGNoaWxkICE9PSBudWxsOyBjaGlsZCA9IHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVHJlZVdhbGtlciBjb25maWd1cmVkIHRvIHdhbGsgYSB0ZW1wbGF0ZSBmcmFnbWVudC5cbiAgICAgKiBAcGFyYW0gZnJhZ21lbnQgLSBUaGUgZnJhZ21lbnQgdG8gd2Fsay5cbiAgICAgKi9cbiAgICBjcmVhdGVUZW1wbGF0ZVdhbGtlcihmcmFnbWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihmcmFnbWVudCwgMTMzLCAvLyBlbGVtZW50LCB0ZXh0LCBjb21tZW50XG4gICAgICAgIG51bGwsIGZhbHNlKTtcbiAgICB9LFxufSk7XG4iLCIvKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBOb3RpZmllcn0gdGhhdCBlZmZpY2llbnRseSBrZWVwcyB0cmFjayBvZlxuICogc3Vic2NyaWJlcnMgaW50ZXJlc3RlZCBpbiBhIHNwZWNpZmljIGNoYW5nZSBub3RpZmljYXRpb24gb24gYW5cbiAqIG9ic2VydmFibGUgc291cmNlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIHNldCBpcyBvcHRpbWl6ZWQgZm9yIHRoZSBtb3N0IGNvbW1vbiBzY2VuYXJpbyBvZiAxIG9yIDIgc3Vic2NyaWJlcnMuXG4gKiBXaXRoIHRoaXMgaW4gbWluZCwgaXQgY2FuIHN0b3JlIGEgc3Vic2NyaWJlciBpbiBhbiBpbnRlcm5hbCBmaWVsZCwgYWxsb3dpbmcgaXQgdG8gYXZvaWQgQXJyYXkjcHVzaCBvcGVyYXRpb25zLlxuICogSWYgdGhlIHNldCBldmVyIGV4Y2VlZHMgdHdvIHN1YnNjcmliZXJzLCBpdCB1cGdyYWRlcyB0byBhbiBhcnJheSBhdXRvbWF0aWNhbGx5LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlclNldCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBTdWJzY3JpYmVyU2V0IGZvciB0aGUgc3BlY2lmaWVkIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIG9iamVjdCBzb3VyY2UgdGhhdCBzdWJzY3JpYmVycyB3aWxsIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmcm9tLlxuICAgICAqIEBwYXJhbSBpbml0aWFsU3Vic2NyaWJlciAtIEFuIGluaXRpYWwgc3Vic2NyaWJlciB0byBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgaW5pdGlhbFN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5zdWIxID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnN1YjIgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuc3BpbGxvdmVyID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zdWIxID0gaW5pdGlhbFN1YnNjcmliZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBzdWJzY3JpYmVyIGhhcyBiZWVuIGFkZGVkIHRvIHRoaXMgc2V0LlxuICAgICAqIEBwYXJhbSBzdWJzY3JpYmVyIC0gVGhlIHN1YnNjcmliZXIgdG8gdGVzdCBmb3IgaW5jbHVzaW9uIGluIHRoaXMgc2V0LlxuICAgICAqL1xuICAgIGhhcyhzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwaWxsb3ZlciA9PT0gdm9pZCAwXG4gICAgICAgICAgICA/IHRoaXMuc3ViMSA9PT0gc3Vic2NyaWJlciB8fCB0aGlzLnN1YjIgPT09IHN1YnNjcmliZXJcbiAgICAgICAgICAgIDogdGhpcy5zcGlsbG92ZXIuaW5kZXhPZihzdWJzY3JpYmVyKSAhPT0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gbm90aWZpY2F0aW9uIG9mIGNoYW5nZXMgaW4gYW4gb2JqZWN0J3Mgc3RhdGUuXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBUaGUgb2JqZWN0IHRoYXQgaXMgc3Vic2NyaWJpbmcgZm9yIGNoYW5nZSBub3RpZmljYXRpb24uXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgY29uc3Qgc3BpbGxvdmVyID0gdGhpcy5zcGlsbG92ZXI7XG4gICAgICAgIGlmIChzcGlsbG92ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzKHN1YnNjcmliZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3ViMSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIxID0gc3Vic2NyaWJlcjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdWIyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YjIgPSBzdWJzY3JpYmVyO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3BpbGxvdmVyID0gW3RoaXMuc3ViMSwgdGhpcy5zdWIyLCBzdWJzY3JpYmVyXTtcbiAgICAgICAgICAgIHRoaXMuc3ViMSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuc3ViMiA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3BpbGxvdmVyLmluZGV4T2Yoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3BpbGxvdmVyLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmVzIGZyb20gbm90aWZpY2F0aW9uIG9mIGNoYW5nZXMgaW4gYW4gb2JqZWN0J3Mgc3RhdGUuXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBUaGUgb2JqZWN0IHRoYXQgaXMgdW5zdWJzY3JpYmluZyBmcm9tIGNoYW5nZSBub3RpZmljYXRpb24uXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBjb25zdCBzcGlsbG92ZXIgPSB0aGlzLnNwaWxsb3ZlcjtcbiAgICAgICAgaWYgKHNwaWxsb3ZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWIxID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIxID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdWIyID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIyID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzcGlsbG92ZXIuaW5kZXhPZihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzcGlsbG92ZXIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgc3Vic2NyaWJlcnMuXG4gICAgICogQHBhcmFtIGFyZ3MgLSBEYXRhIHBhc3NlZCBhbG9uZyB0byBzdWJzY3JpYmVycyBkdXJpbmcgbm90aWZpY2F0aW9uLlxuICAgICAqL1xuICAgIG5vdGlmeShhcmdzKSB7XG4gICAgICAgIGNvbnN0IHNwaWxsb3ZlciA9IHRoaXMuc3BpbGxvdmVyO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHNwaWxsb3ZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdWIxID0gdGhpcy5zdWIxO1xuICAgICAgICAgICAgY29uc3Qgc3ViMiA9IHRoaXMuc3ViMjtcbiAgICAgICAgICAgIGlmIChzdWIxICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzdWIxLmhhbmRsZUNoYW5nZShzb3VyY2UsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1YjIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHN1YjIuaGFuZGxlQ2hhbmdlKHNvdXJjZSwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBzcGlsbG92ZXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHNwaWxsb3ZlcltpXS5oYW5kbGVDaGFuZ2Uoc291cmNlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgTm90aWZpZXIgdGhhdCBhbGxvd3Mgc3Vic2NyaWJlcnMgdG8gYmUgbm90aWZpZWRcbiAqIG9mIGluZGl2aWR1YWwgcHJvcGVydHkgY2hhbmdlcyBvbiBhbiBvYmplY3QuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFByb3BlcnR5Q2hhbmdlTm90aWZpZXIgZm9yIHRoZSBzcGVjaWZpZWQgc291cmNlLlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgb2JqZWN0IHNvdXJjZSB0aGF0IHN1YnNjcmliZXJzIHdpbGwgcmVjZWl2ZSBub3RpZmljYXRpb25zIGZyb20uXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zb3VyY2VTdWJzY3JpYmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgc3Vic2NyaWJlcnMsIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHByb3BlcnR5TmFtZSAtIFRoZSBwcm9wZXJ0eSBuYW1lLCBwYXNzZWQgYWxvbmcgdG8gc3Vic2NyaWJlcnMgZHVyaW5nIG5vdGlmaWNhdGlvbi5cbiAgICAgKi9cbiAgICBub3RpZnkocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLnN1YnNjcmliZXJzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChzdWJzY3JpYmVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVycy5ub3RpZnkocHJvcGVydHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnNvdXJjZVN1YnNjcmliZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eubm90aWZ5KHByb3BlcnR5TmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gbm90aWZpY2F0aW9uIG9mIGNoYW5nZXMgaW4gYW4gb2JqZWN0J3Mgc3RhdGUuXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBUaGUgb2JqZWN0IHRoYXQgaXMgc3Vic2NyaWJpbmcgZm9yIGNoYW5nZSBub3RpZmljYXRpb24uXG4gICAgICogQHBhcmFtIHByb3BlcnR5VG9XYXRjaCAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IHRoZSBzdWJzY3JpYmVyIGlzIGludGVyZXN0ZWQgaW4gd2F0Y2hpbmcgZm9yIGNoYW5nZXMuXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIsIHByb3BlcnR5VG9XYXRjaCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm9wZXJ0eVRvV2F0Y2gpIHtcbiAgICAgICAgICAgIGxldCBzdWJzY3JpYmVycyA9IHRoaXMuc3Vic2NyaWJlcnNbcHJvcGVydHlUb1dhdGNoXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1twcm9wZXJ0eVRvV2F0Y2hdID0gc3Vic2NyaWJlcnMgPSBuZXcgU3Vic2NyaWJlclNldCh0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVycy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVN1YnNjcmliZXJzID1cbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnNvdXJjZVN1YnNjcmliZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgU3Vic2NyaWJlclNldCh0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVN1YnNjcmliZXJzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZXMgZnJvbSBub3RpZmljYXRpb24gb2YgY2hhbmdlcyBpbiBhbiBvYmplY3QncyBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gc3Vic2NyaWJlciAtIFRoZSBvYmplY3QgdGhhdCBpcyB1bnN1YnNjcmliaW5nIGZyb20gY2hhbmdlIG5vdGlmaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0gcHJvcGVydHlUb1Vud2F0Y2ggLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCB0aGUgc3Vic2NyaWJlciBpcyBubyBsb25nZXIgaW50ZXJlc3RlZCBpbiB3YXRjaGluZy5cbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyLCBwcm9wZXJ0eVRvVW53YXRjaCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm9wZXJ0eVRvVW53YXRjaCkge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLnN1YnNjcmliZXJzW3Byb3BlcnR5VG9VbndhdGNoXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnMudW5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNvdXJjZVN1YnNjcmliZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudW5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRhZGF0YUxvY2F0b3IsIEZBU1QgfSBmcm9tIFwiLi4vcGxhdGZvcm0uanNcIjtcbmltcG9ydCB7IFByb3BlcnR5Q2hhbmdlTm90aWZpZXIsIFN1YnNjcmliZXJTZXQgfSBmcm9tIFwiLi9ub3RpZmllci5qc1wiO1xuLyoqXG4gKiBDb21tb24gT2JzZXJ2YWJsZSBBUElzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgT2JzZXJ2YWJsZSA9IEZBU1QuZ2V0QnlJZCgyIC8qIG9ic2VydmFibGUgKi8sICgpID0+IHtcbiAgICBjb25zdCB2b2xhdGlsZVJlZ2V4ID0gLyg6fCYmfFxcfFxcfHxpZikvO1xuICAgIGNvbnN0IG5vdGlmaWVyTG9va3VwID0gbmV3IFdlYWtNYXAoKTtcbiAgICBjb25zdCBxdWV1ZVVwZGF0ZSA9IERPTS5xdWV1ZVVwZGF0ZTtcbiAgICBsZXQgd2F0Y2hlciA9IHZvaWQgMDtcbiAgICBsZXQgY3JlYXRlQXJyYXlPYnNlcnZlciA9IChhcnJheSkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IGNhbGwgZW5hYmxlQXJyYXlPYnNlcnZhdGlvbiBiZWZvcmUgb2JzZXJ2aW5nIGFycmF5cy5cIik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXROb3RpZmllcihzb3VyY2UpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gc291cmNlLiRmYXN0Q29udHJvbGxlciB8fCBub3RpZmllckxvb2t1cC5nZXQoc291cmNlKTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNyZWF0ZUFycmF5T2JzZXJ2ZXIoc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vdGlmaWVyTG9va3VwLnNldChzb3VyY2UsIChmb3VuZCA9IG5ldyBQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyKHNvdXJjZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuICAgIGNvbnN0IGdldEFjY2Vzc29ycyA9IGNyZWF0ZU1ldGFkYXRhTG9jYXRvcigpO1xuICAgIGNsYXNzIERlZmF1bHRPYnNlcnZhYmxlQWNjZXNzb3Ige1xuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5maWVsZCA9IGBfJHtuYW1lfWA7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gYCR7bmFtZX1DaGFuZ2VkYDtcbiAgICAgICAgfVxuICAgICAgICBnZXRWYWx1ZShzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICh3YXRjaGVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB3YXRjaGVyLndhdGNoKHNvdXJjZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VbdGhpcy5maWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmFsdWUoc291cmNlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzb3VyY2VbZmllbGRdO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVtmaWVsZF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHNvdXJjZVt0aGlzLmNhbGxiYWNrXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChzb3VyY2UsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdldE5vdGlmaWVyKHNvdXJjZSkubm90aWZ5KHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xhc3MgQmluZGluZ09ic2VydmVySW1wbGVtZW50YXRpb24gZXh0ZW5kcyBTdWJzY3JpYmVyU2V0IHtcbiAgICAgICAgY29uc3RydWN0b3IoYmluZGluZywgaW5pdGlhbFN1YnNjcmliZXIsIGlzVm9sYXRpbGVCaW5kaW5nID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN1cGVyKGJpbmRpbmcsIGluaXRpYWxTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZyA9IGJpbmRpbmc7XG4gICAgICAgICAgICB0aGlzLmlzVm9sYXRpbGVCaW5kaW5nID0gaXNWb2xhdGlsZUJpbmRpbmc7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maXJzdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eVNvdXJjZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgdGhpcy5ub3RpZmllciA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZlKHNvdXJjZSwgY29udGV4dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoICYmIHRoaXMubGFzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNXYXRjaGVyID0gd2F0Y2hlcjtcbiAgICAgICAgICAgIHdhdGNoZXIgPSB0aGlzLm5lZWRzUmVmcmVzaCA/IHRoaXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRoaXMuaXNWb2xhdGlsZUJpbmRpbmc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJpbmRpbmcoc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHdhdGNoZXIgPSBwcmV2aW91c1dhdGNoZXI7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmZpcnN0O1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5ub3RpZmllci51bnN1YnNjcmliZSh0aGlzLCBjdXJyZW50LnByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSB0aGlzLm5lZWRzUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdhdGNoKHByb3BlcnR5U291cmNlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLmxhc3Q7XG4gICAgICAgICAgICBjb25zdCBub3RpZmllciA9IGdldE5vdGlmaWVyKHByb3BlcnR5U291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwcmV2ID09PSBudWxsID8gdGhpcy5maXJzdCA6IHt9O1xuICAgICAgICAgICAgY3VycmVudC5wcm9wZXJ0eVNvdXJjZSA9IHByb3BlcnR5U291cmNlO1xuICAgICAgICAgICAgY3VycmVudC5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICBjdXJyZW50Lm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUodGhpcywgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIGlmIChwcmV2ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5lZWRzUmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWNsYXJpbmcgdGhlIHZhcmlhYmxlIHByaW9yIHRvIGFzc2lnbm1lbnQgYmVsb3cgY2lyY3VtdmVudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBidWcgaW4gQW5ndWxhcidzIG9wdGltaXphdGlvbiBwcm9jZXNzIGNhdXNpbmcgaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoaXMgd2F0Y2goKSBtZXRob2QuIERldGFpbHMgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9mYXN0L2lzc3Vlcy80OTY5XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmV2VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqL1xuICAgICAgICAgICAgICAgICAgICBwcmV2VmFsdWUgPSBwcmV2LnByb3BlcnR5U291cmNlW3ByZXYucHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzICovXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlTb3VyY2UgPT09IHByZXZWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBjdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5lZWRzUXVldWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzUXVldWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBxdWV1ZVVwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNRdWV1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVjb3JkcygpIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5maXJzdDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogQHBhcmFtIGZhY3RvcnkgLSBUaGUgZmFjdG9yeSB1c2VkIHRvIGNyZWF0ZSBhcnJheSBvYnNlcnZlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRBcnJheU9ic2VydmVyRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgICAgICAgICBjcmVhdGVBcnJheU9ic2VydmVyID0gZmFjdG9yeTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBub3RpZmllciBmb3IgYW4gb2JqZWN0IG9yIEFycmF5LlxuICAgICAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIG9iamVjdCBvciBBcnJheSB0byBnZXQgdGhlIG5vdGlmaWVyIGZvci5cbiAgICAgICAgICovXG4gICAgICAgIGdldE5vdGlmaWVyLFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVjb3JkcyBhIHByb3BlcnR5IGNoYW5nZSBmb3IgYSBzb3VyY2Ugb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIG9iamVjdCB0byByZWNvcmQgdGhlIGNoYW5nZSBhZ2FpbnN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIC0gVGhlIHByb3BlcnR5IHRvIHRyYWNrIGFzIGNoYW5nZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0cmFjayhzb3VyY2UsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgaWYgKHdhdGNoZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHdhdGNoZXIud2F0Y2goc291cmNlLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2F0Y2hlcnMgdGhhdCB0aGUgY3VycmVudGx5IGV4ZWN1dGluZyBwcm9wZXJ0eSBnZXR0ZXIgb3IgZnVuY3Rpb24gaXMgdm9sYXRpbGVcbiAgICAgICAgICogd2l0aCByZXNwZWN0IHRvIGl0cyBvYnNlcnZhYmxlIGRlcGVuZGVuY2llcy5cbiAgICAgICAgICovXG4gICAgICAgIHRyYWNrVm9sYXRpbGUoKSB7XG4gICAgICAgICAgICBpZiAod2F0Y2hlciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgd2F0Y2hlci5uZWVkc1JlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgc3Vic2NyaWJlcnMgb2YgYSBzb3VyY2Ugb2JqZWN0IG9mIGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgb2JqZWN0IHRvIG5vdGlmeSBvZiBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0gYXJncyAtIFRoZSBjaGFuZ2UgYXJncyB0byBwYXNzIHRvIHN1YnNjcmliZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgbm90aWZ5KHNvdXJjZSwgYXJncykge1xuICAgICAgICAgICAgZ2V0Tm90aWZpZXIoc291cmNlKS5ub3RpZnkoYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGFuIG9ic2VydmFibGUgcHJvcGVydHkgb24gYW4gb2JqZWN0IG9yIHByb3RvdHlwZS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgb2JqZWN0IHRvIGRlZmluZSB0aGUgb2JzZXJ2YWJsZSBvbi5cbiAgICAgICAgICogQHBhcmFtIG5hbWVPckFjY2Vzc29yIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGRlZmluZSBhcyBvYnNlcnZhYmxlO1xuICAgICAgICAgKiBvciBhIGN1c3RvbSBhY2Nlc3NvciB0aGF0IHNwZWNpZmllcyB0aGUgcHJvcGVydHkgbmFtZSBhbmQgYWNjZXNzb3IgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWVPckFjY2Vzc29yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWVPckFjY2Vzc29yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbmFtZU9yQWNjZXNzb3IgPSBuZXcgRGVmYXVsdE9ic2VydmFibGVBY2Nlc3NvcihuYW1lT3JBY2Nlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRBY2Nlc3NvcnModGFyZ2V0KS5wdXNoKG5hbWVPckFjY2Vzc29yKTtcbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lT3JBY2Nlc3Nvci5uYW1lLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVPckFjY2Vzc29yLmdldFZhbHVlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZU9yQWNjZXNzb3Iuc2V0VmFsdWUodGhpcywgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmRzIGFsbCB0aGUgb2JzZXJ2YWJsZSBhY2Nlc3NvcnMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0LFxuICAgICAgICAgKiBpbmNsdWRpbmcgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgb2JqZWN0IHRvIHNlYXJjaCBmb3IgYWNjZXNzb3Igb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRBY2Nlc3NvcnMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEge0BsaW5rIEJpbmRpbmdPYnNlcnZlcn0gdGhhdCBjYW4gd2F0Y2ggdGhlXG4gICAgICAgICAqIHByb3ZpZGVkIHtAbGluayBCaW5kaW5nfSBmb3IgY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIGJpbmRpbmcgLSBUaGUgYmluZGluZyB0byBvYnNlcnZlLlxuICAgICAgICAgKiBAcGFyYW0gaW5pdGlhbFN1YnNjcmliZXIgLSBBbiBpbml0aWFsIHN1YnNjcmliZXIgdG8gY2hhbmdlcyBpbiB0aGUgYmluZGluZyB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIGlzVm9sYXRpbGVCaW5kaW5nIC0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJpbmRpbmcncyBkZXBlbmRlbmN5IGxpc3QgbXVzdCBiZSByZS1ldmFsdWF0ZWQgb24gZXZlcnkgdmFsdWUgZXZhbHVhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGJpbmRpbmcoYmluZGluZywgaW5pdGlhbFN1YnNjcmliZXIsIGlzVm9sYXRpbGVCaW5kaW5nID0gdGhpcy5pc1ZvbGF0aWxlQmluZGluZyhiaW5kaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT2JzZXJ2ZXJJbXBsZW1lbnRhdGlvbihiaW5kaW5nLCBpbml0aWFsU3Vic2NyaWJlciwgaXNWb2xhdGlsZUJpbmRpbmcpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgYmluZGluZyBleHByZXNzaW9uIGlzIHZvbGF0aWxlIGFuZCBuZWVkcyB0byBoYXZlIGl0cyBkZXBlbmRlbmN5IGxpc3QgcmUtZXZhbHVhdGVkXG4gICAgICAgICAqIG9uIGV2ZXJ5IGV2YWx1YXRpb24gb2YgdGhlIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0gYmluZGluZyAtIFRoZSBiaW5kaW5nIHRvIGluc3BlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBpc1ZvbGF0aWxlQmluZGluZyhiaW5kaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdm9sYXRpbGVSZWdleC50ZXN0KGJpbmRpbmcudG9TdHJpbmcoKSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59KTtcbi8qKlxuICogRGVjb3JhdG9yOiBEZWZpbmVzIGFuIG9ic2VydmFibGUgcHJvcGVydHkgb24gdGhlIHRhcmdldC5cbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IHRvIGRlZmluZSB0aGUgb2JzZXJ2YWJsZSBvbi5cbiAqIEBwYXJhbSBuYW1lT3JBY2Nlc3NvciAtIFRoZSBwcm9wZXJ0eSBuYW1lIG9yIGFjY2Vzc29yIHRvIGRlZmluZSB0aGUgb2JzZXJ2YWJsZSBhcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmFibGUodGFyZ2V0LCBuYW1lT3JBY2Nlc3Nvcikge1xuICAgIE9ic2VydmFibGUuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lT3JBY2Nlc3Nvcik7XG59XG4vKipcbiAqIERlY29yYXRvcjogTWFya3MgYSBwcm9wZXJ0eSBnZXR0ZXIgYXMgaGF2aW5nIHZvbGF0aWxlIG9ic2VydmFibGUgZGVwZW5kZW5jaWVzLlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgdGhhdCB0aGUgcHJvcGVydHkgaXMgZGVmaW5lZCBvbi5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIHByb3BlcnR5IG5hbWUuXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBleGlzdGluZyBkZXNjcmlwdG9yLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdm9sYXRpbGUodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBPYnNlcnZhYmxlLnRyYWNrVm9sYXRpbGUoKTtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5hcHBseSh0aGlzKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmNvbnN0IGNvbnRleHRFdmVudCA9IEZBU1QuZ2V0QnlJZCgzIC8qIGNvbnRleHRFdmVudCAqLywgKCkgPT4ge1xuICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KGV2ZW50KSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gZXZlbnQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn0pO1xuLyoqXG4gKiBQcm92aWRlcyBhZGRpdGlvbmFsIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gYXZhaWxhYmxlIHRvIGJlaGF2aW9ycyBhbmQgZXhwcmVzc2lvbnMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBFeGVjdXRpb25Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBpdGVtIHdpdGhpbiBhIHJlcGVhdCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gd2l0aGluIGEgcmVwZWF0IGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFyZW50IGRhdGEgb2JqZWN0IHdpdGhpbiBhIHJlcGVhdCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBhcmVudCBleGVjdXRpb24gY29udGV4dCB3aGVuIGluIG5lc3RlZCBjb250ZXh0IHNjZW5hcmlvcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGV2ZW50IHdpdGhpbiBhbiBldmVudCBoYW5kbGVyLlxuICAgICAqL1xuICAgIGdldCBldmVudCgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHRFdmVudC5nZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgaXRlbSB3aXRoaW4gYSByZXBlYXQgY29udGV4dFxuICAgICAqIGhhcyBhbiBldmVuIGluZGV4LlxuICAgICAqL1xuICAgIGdldCBpc0V2ZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4ICUgMiA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgaXRlbSB3aXRoaW4gYSByZXBlYXQgY29udGV4dFxuICAgICAqIGhhcyBhbiBvZGQgaW5kZXguXG4gICAgICovXG4gICAgZ2V0IGlzT2RkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCAlIDIgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjdXJyZW50IGl0ZW0gd2l0aGluIGEgcmVwZWF0IGNvbnRleHRcbiAgICAgKiBpcyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgaXNGaXJzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjdXJyZW50IGl0ZW0gd2l0aGluIGEgcmVwZWF0IGNvbnRleHRcbiAgICAgKiBpcyBzb21ld2hlcmUgaW4gdGhlIG1pZGRsZSBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgaXNJbk1pZGRsZSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzRmlyc3QgJiYgIXRoaXMuaXNMYXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY3VycmVudCBpdGVtIHdpdGhpbiBhIHJlcGVhdCBjb250ZXh0XG4gICAgICogaXMgdGhlIGxhc3QgaXRlbSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgaXNMYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCA9PT0gdGhpcy5sZW5ndGggLSAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBldmVudCBmb3IgdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGNvbnRleHQuXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIHNldC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29udGV4dEV2ZW50LnNldChldmVudCk7XG4gICAgfVxufVxuT2JzZXJ2YWJsZS5kZWZpbmVQcm9wZXJ0eShFeGVjdXRpb25Db250ZXh0LnByb3RvdHlwZSwgXCJpbmRleFwiKTtcbk9ic2VydmFibGUuZGVmaW5lUHJvcGVydHkoRXhlY3V0aW9uQ29udGV4dC5wcm90b3R5cGUsIFwibGVuZ3RoXCIpO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBleGVjdXRpb24gY29udGV4dCB1c2VkIGluIGJpbmRpbmcgZXhwcmVzc2lvbnMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCA9IE9iamVjdC5zZWFsKG5ldyBFeGVjdXRpb25Db250ZXh0KCkpO1xuIiwiaW1wb3J0IHsgRE9NIH0gZnJvbSBcIi4uL2RvbS5qc1wiO1xuLyoqXG4gKiBJbnN0cnVjdHMgdGhlIHRlbXBsYXRlIGVuZ2luZSB0byBhcHBseSBiZWhhdmlvciB0byBhIG5vZGUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBIVE1MRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCBvZiB0aGUgRE9NIG5vZGUgdG8gd2hpY2ggdGhlIGNyZWF0ZWQgYmVoYXZpb3Igd2lsbCBhcHBseS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0SW5kZXggPSAwO1xuICAgIH1cbn1cbi8qKlxuICogQSB7QGxpbmsgSFRNTERpcmVjdGl2ZX0gdGhhdCB0YXJnZXRzIGEgbmFtZWQgYXR0cmlidXRlIG9yIHByb3BlcnR5IG9uIGEgbm9kZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFRhcmdldGVkSFRNTERpcmVjdGl2ZSBleHRlbmRzIEhUTUxEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIHBsYWNlaG9sZGVyIHN0cmluZyBiYXNlZCBvbiB0aGUgZGlyZWN0aXZlJ3MgaW5kZXggd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBkaXJlY3RpdmUgd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhY2Vob2xkZXIgPSBET00uY3JlYXRlSW50ZXJwb2xhdGlvblBsYWNlaG9sZGVyO1xuICAgIH1cbn1cbi8qKlxuICogQSBkaXJlY3RpdmUgdGhhdCBhdHRhY2hlcyBzcGVjaWFsIGJlaGF2aW9yIHRvIGFuIGVsZW1lbnQgdmlhIGEgY3VzdG9tIGF0dHJpYnV0ZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlIGV4dGVuZHMgSFRNTERpcmVjdGl2ZSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBiZWhhdmlvcjsgdXNlZCBhcyBhIGN1c3RvbSBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGJlaGF2aW9yIC0gVGhlIGJlaGF2aW9yIHRvIGluc3RhbnRpYXRlIGFuZCBhdHRhY2ggdG8gdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHRvIHBhc3MgdG8gdGhlIGJlaGF2aW9yIGR1cmluZyBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBiZWhhdmlvciwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmJlaGF2aW9yID0gYmVoYXZpb3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwbGFjZWhvbGRlciBzdHJpbmcgYmFzZWQgb24gdGhlIGRpcmVjdGl2ZSdzIGluZGV4IHdpdGhpbiB0aGUgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBkaXJlY3RpdmUgd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIENyZWF0ZXMgYSBjdXN0b20gYXR0cmlidXRlIHBsYWNlaG9sZGVyLlxuICAgICAqL1xuICAgIGNyZWF0ZVBsYWNlaG9sZGVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBET00uY3JlYXRlQ3VzdG9tQXR0cmlidXRlUGxhY2Vob2xkZXIodGhpcy5uYW1lLCBpbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiZWhhdmlvciBmb3IgdGhlIHByb3ZpZGVkIHRhcmdldCBub2RlLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgbm9kZSBpbnN0YW5jZSB0byBjcmVhdGUgdGhlIGJlaGF2aW9yIGZvci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIGBiZWhhdmlvcmAgdHlwZSB0aGlzIGRpcmVjdGl2ZSB3YXMgY29uc3RydWN0ZWQgd2l0aFxuICAgICAqIGFuZCBwYXNzZXMgdGhlIHRhcmdldCBhbmQgb3B0aW9ucyB0byB0aGF0IGBiZWhhdmlvcmAncyBjb25zdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBjcmVhdGVCZWhhdmlvcih0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmJlaGF2aW9yKHRhcmdldCwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBFeGVjdXRpb25Db250ZXh0LCBPYnNlcnZhYmxlLCB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBUYXJnZXRlZEhUTUxEaXJlY3RpdmUgfSBmcm9tIFwiLi9odG1sLWRpcmVjdGl2ZS5qc1wiO1xuZnVuY3Rpb24gbm9ybWFsQmluZChzb3VyY2UsIGNvbnRleHQpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIGlmICh0aGlzLmJpbmRpbmdPYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlciA9IE9ic2VydmFibGUuYmluZGluZyh0aGlzLmJpbmRpbmcsIHRoaXMsIHRoaXMuaXNCaW5kaW5nVm9sYXRpbGUpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVRhcmdldCh0aGlzLmJpbmRpbmdPYnNlcnZlci5vYnNlcnZlKHNvdXJjZSwgY29udGV4dCkpO1xufVxuZnVuY3Rpb24gdHJpZ2dlckJpbmQoc291cmNlLCBjb250ZXh0KSB7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRoaXMudGFyZ2V0TmFtZSwgdGhpcyk7XG59XG5mdW5jdGlvbiBub3JtYWxVbmJpbmQoKSB7XG4gICAgdGhpcy5iaW5kaW5nT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xufVxuZnVuY3Rpb24gY29udGVudFVuYmluZCgpIHtcbiAgICB0aGlzLmJpbmRpbmdPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgY29uc3QgdmlldyA9IHRoaXMudGFyZ2V0LiRmYXN0VmlldztcbiAgICBpZiAodmlldyAhPT0gdm9pZCAwICYmIHZpZXcuaXNDb21wb3NlZCkge1xuICAgICAgICB2aWV3LnVuYmluZCgpO1xuICAgICAgICB2aWV3Lm5lZWRzQmluZE9ubHkgPSB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJVbmJpbmQoKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnRhcmdldE5hbWUsIHRoaXMpO1xuICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xufVxuZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlVGFyZ2V0KHZhbHVlKSB7XG4gICAgRE9NLnNldEF0dHJpYnV0ZSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXROYW1lLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiB1cGRhdGVCb29sZWFuQXR0cmlidXRlVGFyZ2V0KHZhbHVlKSB7XG4gICAgRE9NLnNldEJvb2xlYW5BdHRyaWJ1dGUodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0TmFtZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29udGVudFRhcmdldCh2YWx1ZSkge1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gYWN0dWFsIHZhbHVlLCB0aGVuIHRoaXMgZXF1YXRlcyB0byB0aGVcbiAgICAvLyBlbXB0eSBzdHJpbmcgZm9yIHRoZSBwdXJwb3NlcyBvZiBjb250ZW50IGJpbmRpbmdzLlxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHZhbHVlIGhhcyBhIFwiY3JlYXRlXCIgbWV0aG9kLCB0aGVuIGl0J3MgYSB0ZW1wbGF0ZS1saWtlLlxuICAgIGlmICh2YWx1ZS5jcmVhdGUpIHtcbiAgICAgICAgdGhpcy50YXJnZXQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMudGFyZ2V0LiRmYXN0VmlldztcbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBwcmV2aW91cyB2aWV3IHRoYXQgd2UgbWlnaHQgYmUgYWJsZSB0b1xuICAgICAgICAvLyByZXVzZSB0aGVuIGNyZWF0ZSBhIG5ldyB2aWV3IGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICBpZiAodmlldyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2aWV3ID0gdmFsdWUuY3JlYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHByZXZpb3VzIHZpZXcsIGJ1dCBpdCB3YXNuJ3QgY3JlYXRlZFxuICAgICAgICAgICAgLy8gZnJvbSB0aGUgc2FtZSB0ZW1wbGF0ZSBhcyB0aGUgbmV3IHZhbHVlLCB0aGVuIHdlXG4gICAgICAgICAgICAvLyBuZWVkIHRvIHJlbW92ZSB0aGUgb2xkIHZpZXcgaWYgaXQncyBzdGlsbCBpbiB0aGUgRE9NXG4gICAgICAgICAgICAvLyBhbmQgY3JlYXRlIGEgbmV3IHZpZXcgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQuJGZhc3RUZW1wbGF0ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0NvbXBvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcudW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2YWx1ZS5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHRoZSBwcmV2aW91cyB0ZW1wbGF0ZVxuICAgICAgICAvLyBhbmQgdGhhdCB0aGVyZSdzIGFjdHVhbGx5IG5vIG5lZWQgdG8gY29tcG9zZSBpdC5cbiAgICAgICAgaWYgKCF2aWV3LmlzQ29tcG9zZWQpIHtcbiAgICAgICAgICAgIHZpZXcuaXNDb21wb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2aWV3LmJpbmQodGhpcy5zb3VyY2UsIHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICB2aWV3Lmluc2VydEJlZm9yZSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC4kZmFzdFZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuJGZhc3RUZW1wbGF0ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZpZXcubmVlZHNCaW5kT25seSkge1xuICAgICAgICAgICAgdmlldy5uZWVkc0JpbmRPbmx5ID0gZmFsc2U7XG4gICAgICAgICAgICB2aWV3LmJpbmQodGhpcy5zb3VyY2UsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnRhcmdldC4kZmFzdFZpZXc7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgdmlldyBhbmQgaXQncyBjdXJyZW50bHkgY29tcG9zZWQgaW50b1xuICAgICAgICAvLyB0aGUgRE9NLCB0aGVuIHdlIG5lZWQgdG8gcmVtb3ZlIGl0LlxuICAgICAgICBpZiAodmlldyAhPT0gdm9pZCAwICYmIHZpZXcuaXNDb21wb3NlZCkge1xuICAgICAgICAgICAgdmlldy5pc0NvbXBvc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2aWV3LnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKHZpZXcubmVlZHNCaW5kT25seSkge1xuICAgICAgICAgICAgICAgIHZpZXcubmVlZHNCaW5kT25seSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlldy51bmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5VGFyZ2V0KHZhbHVlKSB7XG4gICAgdGhpcy50YXJnZXRbdGhpcy50YXJnZXROYW1lXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gdXBkYXRlQ2xhc3NUYXJnZXQodmFsdWUpIHtcbiAgICBjb25zdCBjbGFzc1ZlcnNpb25zID0gdGhpcy5jbGFzc1ZlcnNpb25zIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gICAgbGV0IHZlcnNpb24gPSB0aGlzLnZlcnNpb24gfHwgMDtcbiAgICAvLyBBZGQgdGhlIGNsYXNzZXMsIHRyYWNraW5nIHRoZSB2ZXJzaW9uIGF0IHdoaWNoIHRoZXkgd2VyZSBhZGRlZC5cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSB2YWx1ZS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGFzc1ZlcnNpb25zW2N1cnJlbnROYW1lXSA9IHZlcnNpb247XG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChjdXJyZW50TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jbGFzc1ZlcnNpb25zID0gY2xhc3NWZXJzaW9ucztcbiAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uICsgMTtcbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsIHRvIGFkZCBjbGFzc2VzLCB0aGVyZSdzIG5vIG5lZWQgdG8gcmVtb3ZlIG9sZCBvbmVzLlxuICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGNsYXNzZXMgZnJvbSB0aGUgcHJldmlvdXMgdmVyc2lvbi5cbiAgICB2ZXJzaW9uIC09IDE7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGNsYXNzVmVyc2lvbnMpIHtcbiAgICAgICAgaWYgKGNsYXNzVmVyc2lvbnNbbmFtZV0gPT09IHZlcnNpb24pIHtcbiAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGNvbmZpZ3VyZXMgZGF0YSBiaW5kaW5nIHRvIGVsZW1lbnQgY29udGVudCBhbmQgYXR0cmlidXRlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEhUTUxCaW5kaW5nRGlyZWN0aXZlIGV4dGVuZHMgVGFyZ2V0ZWRIVE1MRGlyZWN0aXZlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJpbmRpbmdEaXJlY3RpdmUuXG4gICAgICogQHBhcmFtIGJpbmRpbmcgLSBBIGJpbmRpbmcgdGhhdCByZXR1cm5zIHRoZSBkYXRhIHVzZWQgdG8gdXBkYXRlIHRoZSBET00uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmluZGluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJpbmRpbmcgPSBiaW5kaW5nO1xuICAgICAgICB0aGlzLmJpbmQgPSBub3JtYWxCaW5kO1xuICAgICAgICB0aGlzLnVuYmluZCA9IG5vcm1hbFVuYmluZDtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQgPSB1cGRhdGVBdHRyaWJ1dGVUYXJnZXQ7XG4gICAgICAgIHRoaXMuaXNCaW5kaW5nVm9sYXRpbGUgPSBPYnNlcnZhYmxlLmlzVm9sYXRpbGVCaW5kaW5nKHRoaXMuYmluZGluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMvc2V0cyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIG9yIHByb3BlcnR5IHRoYXQgdGhpc1xuICAgICAqIGJpbmRpbmcgaXMgdGFyZ2V0aW5nLlxuICAgICAqL1xuICAgIGdldCB0YXJnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbFRhcmdldE5hbWU7XG4gICAgfVxuICAgIHNldCB0YXJnZXROYW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxUYXJnZXROYW1lID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh2YWx1ZVswXSkge1xuICAgICAgICAgICAgY2FzZSBcIjpcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFuZWRUYXJnZXROYW1lID0gdmFsdWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0ID0gdXBkYXRlUHJvcGVydHlUYXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xlYW5lZFRhcmdldE5hbWUgPT09IFwiaW5uZXJIVE1MXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuYmluZGluZztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nID0gKHMsIGMpID0+IERPTS5jcmVhdGVIVE1MKGJpbmRpbmcocywgYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbmVkVGFyZ2V0TmFtZSA9IHZhbHVlLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldCA9IHVwZGF0ZUJvb2xlYW5BdHRyaWJ1dGVUYXJnZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5lZFRhcmdldE5hbWUgPSB2YWx1ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kID0gdHJpZ2dlckJpbmQ7XG4gICAgICAgICAgICAgICAgdGhpcy51bmJpbmQgPSB0cmlnZ2VyVW5iaW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFuZWRUYXJnZXROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQgPSB1cGRhdGVDbGFzc1RhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhpcyBiaW5kaW5nIHRhcmdldCB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IHJhdGhlciB0aGFuXG4gICAgICogYSBwYXJ0aWN1bGFyIGF0dHJpYnV0ZSBvciBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICB0YXJnZXRBdENvbnRlbnQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0ID0gdXBkYXRlQ29udGVudFRhcmdldDtcbiAgICAgICAgdGhpcy51bmJpbmQgPSBjb250ZW50VW5iaW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBydW50aW1lIEJpbmRpbmdCZWhhdmlvciBpbnN0YW5jZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvblxuICAgICAqIGluZm9ybWF0aW9uIHN0b3JlZCBpbiB0aGUgQmluZGluZ0RpcmVjdGl2ZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIHRhcmdldCBub2RlIHRoYXQgdGhlIGJpbmRpbmcgYmVoYXZpb3Igc2hvdWxkIGF0dGFjaCB0by5cbiAgICAgKi9cbiAgICBjcmVhdGVCZWhhdmlvcih0YXJnZXQpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZSAqL1xuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdCZWhhdmlvcih0YXJnZXQsIHRoaXMuYmluZGluZywgdGhpcy5pc0JpbmRpbmdWb2xhdGlsZSwgdGhpcy5iaW5kLCB0aGlzLnVuYmluZCwgdGhpcy51cGRhdGVUYXJnZXQsIHRoaXMuY2xlYW5lZFRhcmdldE5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogQSBiZWhhdmlvciB0aGF0IHVwZGF0ZXMgY29udGVudCBhbmQgYXR0cmlidXRlcyBiYXNlZCBvbiBhIGNvbmZpZ3VyZWRcbiAqIEJpbmRpbmdEaXJlY3RpdmUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW5kaW5nQmVoYXZpb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQmluZGluZ0JlaGF2aW9yLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBkYXRhIHVwZGF0ZXMuXG4gICAgICogQHBhcmFtIGJpbmRpbmcgLSBUaGUgYmluZGluZyB0aGF0IHJldHVybnMgdGhlIGxhdGVzdCB2YWx1ZSBmb3IgYW4gdXBkYXRlLlxuICAgICAqIEBwYXJhbSBpc0JpbmRpbmdWb2xhdGlsZSAtIEluZGljYXRlcyB3aGV0aGVyIHRoZSBiaW5kaW5nIGhhcyB2b2xhdGlsZSBkZXBlbmRlbmNpZXMuXG4gICAgICogQHBhcmFtIGJpbmQgLSBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0gZHVyaW5nIGJpbmRpbmcuXG4gICAgICogQHBhcmFtIHVuYmluZCAtIFRoZSBvcGVyYXRpb24gdG8gcGVyZm9ybSBkdXJpbmcgdW5iaW5kaW5nLlxuICAgICAqIEBwYXJhbSB1cGRhdGVUYXJnZXQgLSBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0gd2hlbiB1cGRhdGluZy5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgYXR0cmlidXRlIG9yIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGJpbmRpbmcsIGlzQmluZGluZ1ZvbGF0aWxlLCBiaW5kLCB1bmJpbmQsIHVwZGF0ZVRhcmdldCwgdGFyZ2V0TmFtZSkge1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuYmluZGluZyA9IGJpbmRpbmc7XG4gICAgICAgIHRoaXMuaXNCaW5kaW5nVm9sYXRpbGUgPSBpc0JpbmRpbmdWb2xhdGlsZTtcbiAgICAgICAgdGhpcy5iaW5kID0gYmluZDtcbiAgICAgICAgdGhpcy51bmJpbmQgPSB1bmJpbmQ7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0ID0gdXBkYXRlVGFyZ2V0O1xuICAgICAgICB0aGlzLnRhcmdldE5hbWUgPSB0YXJnZXROYW1lO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldCh0aGlzLmJpbmRpbmdPYnNlcnZlci5vYnNlcnZlKHRoaXMuc291cmNlLCB0aGlzLmNvbnRleHQpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIEV4ZWN1dGlvbkNvbnRleHQuc2V0RXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJpbmRpbmcodGhpcy5zb3VyY2UsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIEV4ZWN1dGlvbkNvbnRleHQuc2V0RXZlbnQobnVsbCk7XG4gICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfaW50ZXJwb2xhdGlvbkVuZCwgX2ludGVycG9sYXRpb25TdGFydCwgRE9NIH0gZnJvbSBcIi4uL2RvbS5qc1wiO1xuaW1wb3J0IHsgSFRNTEJpbmRpbmdEaXJlY3RpdmUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCI7XG5sZXQgc2hhcmVkQ29udGV4dCA9IG51bGw7XG5jbGFzcyBDb21waWxhdGlvbkNvbnRleHQge1xuICAgIGFkZEZhY3RvcnkoZmFjdG9yeSkge1xuICAgICAgICBmYWN0b3J5LnRhcmdldEluZGV4ID0gdGhpcy50YXJnZXRJbmRleDtcbiAgICAgICAgdGhpcy5iZWhhdmlvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIH1cbiAgICBjYXB0dXJlQ29udGVudEJpbmRpbmcoZGlyZWN0aXZlKSB7XG4gICAgICAgIGRpcmVjdGl2ZS50YXJnZXRBdENvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5hZGRGYWN0b3J5KGRpcmVjdGl2ZSk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmJlaGF2aW9yRmFjdG9yaWVzID0gW107XG4gICAgICAgIHRoaXMudGFyZ2V0SW5kZXggPSAtMTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzICovXG4gICAgICAgIHNoYXJlZENvbnRleHQgPSB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgYm9ycm93KGRpcmVjdGl2ZXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcmVhYmxlID0gc2hhcmVkQ29udGV4dCB8fCBuZXcgQ29tcGlsYXRpb25Db250ZXh0KCk7XG4gICAgICAgIHNoYXJlYWJsZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgc2hhcmVhYmxlLnJlc2V0KCk7XG4gICAgICAgIHNoYXJlZENvbnRleHQgPSBudWxsO1xuICAgICAgICByZXR1cm4gc2hhcmVhYmxlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0ZUJpbmRpbmcocGFydHMpIHtcbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBwYXJ0c1swXTtcbiAgICB9XG4gICAgbGV0IHRhcmdldE5hbWU7XG4gICAgY29uc3QgcGFydENvdW50ID0gcGFydHMubGVuZ3RoO1xuICAgIGNvbnN0IGZpbmFsUGFydHMgPSBwYXJ0cy5tYXAoKHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geDtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROYW1lID0geC50YXJnZXROYW1lIHx8IHRhcmdldE5hbWU7XG4gICAgICAgIHJldHVybiB4LmJpbmRpbmc7XG4gICAgfSk7XG4gICAgY29uc3QgYmluZGluZyA9IChzY29wZSwgY29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGZpbmFsUGFydHNbaV0oc2NvcGUsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbiAgICBjb25zdCBkaXJlY3RpdmUgPSBuZXcgSFRNTEJpbmRpbmdEaXJlY3RpdmUoYmluZGluZyk7XG4gICAgZGlyZWN0aXZlLnRhcmdldE5hbWUgPSB0YXJnZXROYW1lO1xuICAgIHJldHVybiBkaXJlY3RpdmU7XG59XG5jb25zdCBpbnRlcnBvbGF0aW9uRW5kTGVuZ3RoID0gX2ludGVycG9sYXRpb25FbmQubGVuZ3RoO1xuZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRleHQsIHZhbHVlKSB7XG4gICAgY29uc3QgdmFsdWVQYXJ0cyA9IHZhbHVlLnNwbGl0KF9pbnRlcnBvbGF0aW9uU3RhcnQpO1xuICAgIGlmICh2YWx1ZVBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYmluZGluZ1BhcnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdmFsdWVQYXJ0cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB2YWx1ZVBhcnRzW2ldO1xuICAgICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnQuaW5kZXhPZihfaW50ZXJwb2xhdGlvbkVuZCk7XG4gICAgICAgIGxldCBsaXRlcmFsO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBsaXRlcmFsID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4ID0gcGFyc2VJbnQoY3VycmVudC5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgICAgIGJpbmRpbmdQYXJ0cy5wdXNoKGNvbnRleHQuZGlyZWN0aXZlc1tkaXJlY3RpdmVJbmRleF0pO1xuICAgICAgICAgICAgbGl0ZXJhbCA9IGN1cnJlbnQuc3Vic3RyaW5nKGluZGV4ICsgaW50ZXJwb2xhdGlvbkVuZExlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpdGVyYWwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIGJpbmRpbmdQYXJ0cy5wdXNoKGxpdGVyYWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiaW5kaW5nUGFydHM7XG59XG5mdW5jdGlvbiBjb21waWxlQXR0cmlidXRlcyhjb250ZXh0LCBub2RlLCBpbmNsdWRlQmFzaWNWYWx1ZXMgPSBmYWxzZSkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHBhcnNlQ29udGVudChjb250ZXh0LCBhdHRyVmFsdWUpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHBhcnNlUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZUJhc2ljVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEhUTUxCaW5kaW5nRGlyZWN0aXZlKCgpID0+IGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnRhcmdldE5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjcmVhdGVBZ2dyZWdhdGVCaW5kaW5nKHBhcnNlUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYXR0cik7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBpaS0tO1xuICAgICAgICAgICAgY29udGV4dC5hZGRGYWN0b3J5KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21waWxlQ29udGVudChjb250ZXh0LCBub2RlLCB3YWxrZXIpIHtcbiAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHBhcnNlQ29udGVudChjb250ZXh0LCBub2RlLnRleHRDb250ZW50KTtcbiAgICBpZiAocGFyc2VSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IGxhc3ROb2RlID0gbm9kZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcGFyc2VSZXN1bHQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhcnQgPSBwYXJzZVJlc3VsdFtpXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gaSA9PT0gMFxuICAgICAgICAgICAgICAgID8gbm9kZVxuICAgICAgICAgICAgICAgIDogbGFzdE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksIGxhc3ROb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudFBhcnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IGN1cnJlbnRQYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUudGV4dENvbnRlbnQgPSBcIiBcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNhcHR1cmVDb250ZW50QmluZGluZyhjdXJyZW50UGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Tm9kZSA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlICE9PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC50YXJnZXRJbmRleC0tO1xuICAgIH1cbn1cbi8qKlxuICogQ29tcGlsZXMgYSB0ZW1wbGF0ZSBhbmQgYXNzb2NpYXRlZCBkaXJlY3RpdmVzIGludG8gYSByYXcgY29tcGlsYXRpb25cbiAqIHJlc3VsdCB3aGljaCBpbmNsdWRlIGEgY2xvbmVhYmxlIERvY3VtZW50RnJhZ21lbnQgYW5kIGZhY3RvcmllcyBjYXBhYmxlXG4gKiBvZiBhdHRhY2hpbmcgcnVudGltZSBiZWhhdmlvciB0byBub2RlcyB3aXRoaW4gdGhlIGZyYWdtZW50LlxuICogQHBhcmFtIHRlbXBsYXRlIC0gVGhlIHRlbXBsYXRlIHRvIGNvbXBpbGUuXG4gKiBAcGFyYW0gZGlyZWN0aXZlcyAtIFRoZSBkaXJlY3RpdmVzIHJlZmVyZW5jZWQgYnkgdGhlIHRlbXBsYXRlLlxuICogQHJlbWFya3NcbiAqIFRoZSB0ZW1wbGF0ZSB0aGF0IGlzIHByb3ZpZGVkIGZvciBjb21waWxhdGlvbiBpcyBhbHRlcmVkIGluLXBsYWNlXG4gKiBhbmQgY2Fubm90IGJlIGNvbXBpbGVkIGFnYWluLiBJZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgbXVzdCBiZSBwcmVzZXJ2ZWQsXG4gKiBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBjbG9uZSB0aGUgb3JpZ2luYWwgYW5kIHBhc3MgdGhlIGNsb25lIHRvIHRoaXMgQVBJLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlKHRlbXBsYXRlLCBkaXJlY3RpdmVzKSB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTExMTE4NjRcbiAgICBkb2N1bWVudC5hZG9wdE5vZGUoZnJhZ21lbnQpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBDb21waWxhdGlvbkNvbnRleHQuYm9ycm93KGRpcmVjdGl2ZXMpO1xuICAgIGNvbXBpbGVBdHRyaWJ1dGVzKGNvbnRleHQsIHRlbXBsYXRlLCB0cnVlKTtcbiAgICBjb25zdCBob3N0QmVoYXZpb3JGYWN0b3JpZXMgPSBjb250ZXh0LmJlaGF2aW9yRmFjdG9yaWVzO1xuICAgIGNvbnRleHQucmVzZXQoKTtcbiAgICBjb25zdCB3YWxrZXIgPSBET00uY3JlYXRlVGVtcGxhdGVXYWxrZXIoZnJhZ21lbnQpO1xuICAgIGxldCBub2RlO1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSkge1xuICAgICAgICBjb250ZXh0LnRhcmdldEluZGV4Kys7XG4gICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBlbGVtZW50IG5vZGVcbiAgICAgICAgICAgICAgICBjb21waWxlQXR0cmlidXRlcyhjb250ZXh0LCBub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzogLy8gdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgY29tcGlsZUNvbnRlbnQoY29udGV4dCwgbm9kZSwgd2Fsa2VyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgODogLy8gY29tbWVudFxuICAgICAgICAgICAgICAgIGlmIChET00uaXNNYXJrZXIobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hZGRGYWN0b3J5KGRpcmVjdGl2ZXNbRE9NLmV4dHJhY3REaXJlY3RpdmVJbmRleEZyb21NYXJrZXIobm9kZSldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHRhcmdldE9mZnNldCA9IDA7XG4gICAgaWYgKFxuICAgIC8vIElmIHRoZSBmaXJzdCBub2RlIGluIGEgZnJhZ21lbnQgaXMgYSBtYXJrZXIsIHRoYXQgbWVhbnMgaXQncyBhbiB1bnN0YWJsZSBmaXJzdCBub2RlLFxuICAgIC8vIGJlY2F1c2Ugc29tZXRoaW5nIGxpa2UgYSB3aGVuLCByZXBlYXQsIGV0Yy4gY291bGQgYWRkIG5vZGVzIGJlZm9yZSB0aGUgbWFya2VyLlxuICAgIC8vIFRvIG1pdGlnYXRlIHRoaXMsIHdlIGluc2VydCBhIHN0YWJsZSBmaXJzdCBub2RlLiBIb3dldmVyLCBpZiB3ZSBpbnNlcnQgYSBub2RlLFxuICAgIC8vIHRoYXQgd2lsbCBhbHRlciB0aGUgcmVzdWx0IG9mIHRoZSBUcmVlV2Fsa2VyLiBTbywgd2UgYWxzbyBuZWVkIHRvIG9mZnNldCB0aGUgdGFyZ2V0IGluZGV4LlxuICAgIERPTS5pc01hcmtlcihmcmFnbWVudC5maXJzdENoaWxkKSB8fFxuICAgICAgICAvLyBPciBpZiB0aGVyZSBpcyBvbmx5IG9uZSBub2RlIGFuZCBhIGRpcmVjdGl2ZSwgaXQgbWVhbnMgdGhlIHRlbXBsYXRlJ3MgY29udGVudFxuICAgICAgICAvLyBpcyAqb25seSogdGhlIGRpcmVjdGl2ZS4gSW4gdGhhdCBjYXNlLCBIVE1MVmlldy5kaXNwb3NlKCkgbWlzc2VzIGFueSBub2RlcyBpbnNlcnRlZCBieVxuICAgICAgICAvLyB0aGUgZGlyZWN0aXZlLiBJbnNlcnRpbmcgYSBuZXcgbm9kZSBlbnN1cmVzIHByb3BlciBkaXNwb3NhbCBvZiBub2RlcyBhZGRlZCBieSB0aGUgZGlyZWN0aXZlLlxuICAgICAgICAoZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgJiYgZGlyZWN0aXZlcy5sZW5ndGgpKSB7XG4gICAgICAgIGZyYWdtZW50Lmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpLCBmcmFnbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gLTE7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdCZWhhdmlvckZhY3RvcmllcyA9IGNvbnRleHQuYmVoYXZpb3JGYWN0b3JpZXM7XG4gICAgY29udGV4dC5yZWxlYXNlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgIHZpZXdCZWhhdmlvckZhY3RvcmllcyxcbiAgICAgICAgaG9zdEJlaGF2aW9yRmFjdG9yaWVzLFxuICAgICAgICB0YXJnZXRPZmZzZXQsXG4gICAgfTtcbn1cbiIsIi8vIEEgc2luZ2xldG9uIFJhbmdlIGluc3RhbmNlIHVzZWQgdG8gZWZmaWNpZW50bHkgcmVtb3ZlIHJhbmdlcyBvZiBET00gbm9kZXMuXG4vLyBTZWUgdGhlIGltcGxlbWVudGF0aW9uIG9mIEhUTUxWaWV3IGJlbG93IGZvciBmdXJ0aGVyIGRldGFpbHMuXG5jb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4vKipcbiAqIFRoZSBzdGFuZGFyZCBWaWV3IGltcGxlbWVudGF0aW9uLCB3aGljaCBhbHNvIGltcGxlbWVudHMgRWxlbWVudFZpZXcgYW5kIFN5bnRoZXRpY1ZpZXcuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBIVE1MVmlldyB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhbiBpbnN0YW5jZSBvZiBIVE1MVmlldy5cbiAgICAgKiBAcGFyYW0gZnJhZ21lbnQgLSBUaGUgaHRtbCBmcmFnbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBub2RlcyBmb3IgdGhpcyB2aWV3LlxuICAgICAqIEBwYXJhbSBiZWhhdmlvcnMgLSBUaGUgYmVoYXZpb3JzIHRvIGJlIGFwcGxpZWQgdG8gdGhpcyB2aWV3LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50LCBiZWhhdmlvcnMpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50O1xuICAgICAgICB0aGlzLmJlaGF2aW9ycyA9IGJlaGF2aW9ycztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgdGhlIHZpZXcgaXMgYm91bmQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhlY3V0aW9uIGNvbnRleHQgdGhlIHZpZXcgaXMgcnVubmluZyB3aXRoaW4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpcnN0Q2hpbGQgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgICAgICB0aGlzLmxhc3RDaGlsZCA9IGZyYWdtZW50Lmxhc3RDaGlsZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgdmlldydzIERPTSBub2RlcyB0byB0aGUgcmVmZXJlbmNlZCBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlIC0gVGhlIHBhcmVudCBub2RlIHRvIGFwcGVuZCB0aGUgdmlldydzIERPTSBub2RlcyB0by5cbiAgICAgKi9cbiAgICBhcHBlbmRUbyhub2RlKSB7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5mcmFnbWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHZpZXcncyBET00gbm9kZXMgYmVmb3JlIHRoZSByZWZlcmVuY2VkIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBpbnNlcnQgdGhlIHZpZXcncyBET00gYmVmb3JlLlxuICAgICAqL1xuICAgIGluc2VydEJlZm9yZShub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmZyYWdtZW50LCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHRoaXMubGFzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY3VycmVudCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbmQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHZpZXcncyBET00gbm9kZXMuXG4gICAgICogVGhlIG5vZGVzIGFyZSBub3QgZGlzcG9zZWQgYW5kIHRoZSB2aWV3IGNhbiBsYXRlciBiZSByZS1pbnNlcnRlZC5cbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IGVuZCkge1xuICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHZpZXcgYW5kIHVuYmluZHMgaXRzIGJlaGF2aW9ycywgZGlzcG9zaW5nIG9mIERPTSBub2RlcyBhZnRlcndhcmQuXG4gICAgICogT25jZSBhIHZpZXcgaGFzIGJlZW4gZGlzcG9zZWQsIGl0IGNhbm5vdCBiZSBpbnNlcnRlZCBvciBib3VuZCBhZ2Fpbi5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmZpcnN0Q2hpbGQucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IGVuZCkge1xuICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZW5kKTtcbiAgICAgICAgY29uc3QgYmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGNvbnN0IG9sZFNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBiZWhhdmlvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgYmVoYXZpb3JzW2ldLnVuYmluZChvbGRTb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmRzIGEgdmlldydzIGJlaGF2aW9ycyB0byBpdHMgYmluZGluZyBzb3VyY2UuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBiaW5kaW5nIHNvdXJjZSBmb3IgdGhlIHZpZXcncyBiaW5kaW5nIGJlaGF2aW9ycy5cbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBleGVjdXRpb24gY29udGV4dCB0byBydW4gdGhlIGJlaGF2aW9ycyB3aXRoaW4uXG4gICAgICovXG4gICAgYmluZChzb3VyY2UsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgYmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSA9PT0gc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYmVoYXZpb3JzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gYmVoYXZpb3JzW2ldO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQudW5iaW5kKG9sZFNvdXJjZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudC5iaW5kKHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBiZWhhdmlvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yc1tpXS5iaW5kKHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBhIHZpZXcncyBiZWhhdmlvcnMgZnJvbSBpdHMgYmluZGluZyBzb3VyY2UuXG4gICAgICovXG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiZWhhdmlvcnMgPSB0aGlzLmJlaGF2aW9ycztcbiAgICAgICAgY29uc3Qgb2xkU291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGJlaGF2aW9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBiZWhhdmlvcnNbaV0udW5iaW5kKG9sZFNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFZmZpY2llbnRseSBkaXNwb3NlcyBvZiBhIGNvbnRpZ3VvdXMgcmFuZ2Ugb2Ygc3ludGhldGljIHZpZXcgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSB2aWV3cyAtIEEgY29udGlndW91cyByYW5nZSBvZiB2aWV3cyB0byBiZSBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZGlzcG9zZUNvbnRpZ3VvdXNCYXRjaCh2aWV3cykge1xuICAgICAgICBpZiAodmlld3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUodmlld3NbMF0uZmlyc3RDaGlsZCk7XG4gICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKHZpZXdzW3ZpZXdzLmxlbmd0aCAtIDFdLmxhc3RDaGlsZCk7XG4gICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHZpZXdzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB2aWV3c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJlaGF2aW9ycyA9IHZpZXcuYmVoYXZpb3JzO1xuICAgICAgICAgICAgY29uc3Qgb2xkU291cmNlID0gdmlldy5zb3VyY2U7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSBiZWhhdmlvcnMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yc1tqXS51bmJpbmQob2xkU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IERPTSB9IGZyb20gXCIuLi9kb20uanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFeGVjdXRpb25Db250ZXh0IH0gZnJvbSBcIi4uL29ic2VydmF0aW9uL29ic2VydmFibGUuanNcIjtcbmltcG9ydCB7IGNvbXBpbGVUZW1wbGF0ZSB9IGZyb20gXCIuL2NvbXBpbGVyLmpzXCI7XG5pbXBvcnQgeyBIVE1MVmlldyB9IGZyb20gXCIuL3ZpZXcuanNcIjtcbmltcG9ydCB7IEhUTUxEaXJlY3RpdmUsIFRhcmdldGVkSFRNTERpcmVjdGl2ZSwgfSBmcm9tIFwiLi9odG1sLWRpcmVjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgSFRNTEJpbmRpbmdEaXJlY3RpdmUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCI7XG4vKipcbiAqIEEgdGVtcGxhdGUgY2FwYWJsZSBvZiBjcmVhdGluZyBIVE1MVmlldyBpbnN0YW5jZXMgb3IgcmVuZGVyaW5nIGRpcmVjdGx5IHRvIERPTS5cbiAqIEBwdWJsaWNcbiAqL1xuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuZXhwb3J0IGNsYXNzIFZpZXdUZW1wbGF0ZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBWaWV3VGVtcGxhdGUuXG4gICAgICogQHBhcmFtIGh0bWwgLSBUaGUgaHRtbCByZXByZXNlbnRpbmcgd2hhdCB0aGlzIHRlbXBsYXRlIHdpbGwgaW5zdGFudGlhdGUsIGluY2x1ZGluZyBwbGFjZWhvbGRlcnMgZm9yIGRpcmVjdGl2ZXMuXG4gICAgICogQHBhcmFtIGRpcmVjdGl2ZXMgLSBUaGUgZGlyZWN0aXZlcyB0aGF0IHdpbGwgYmUgY29ubmVjdGVkIHRvIHBsYWNlaG9sZGVycyBpbiB0aGUgaHRtbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihodG1sLCBkaXJlY3RpdmVzKSB7XG4gICAgICAgIHRoaXMuYmVoYXZpb3JDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaGFzSG9zdEJlaGF2aW9ycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnZpZXdCZWhhdmlvckZhY3RvcmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9zdEJlaGF2aW9yRmFjdG9yaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5odG1sID0gaHRtbDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBIVE1MVmlldyBpbnN0YW5jZSBiYXNlZCBvbiB0aGlzIHRlbXBsYXRlIGRlZmluaXRpb24uXG4gICAgICogQHBhcmFtIGhvc3RCaW5kaW5nVGFyZ2V0IC0gVGhlIGVsZW1lbnQgdGhhdCBob3N0IGJlaGF2aW9ycyB3aWxsIGJlIGJvdW5kIHRvLlxuICAgICAqL1xuICAgIGNyZWF0ZShob3N0QmluZGluZ1RhcmdldCkge1xuICAgICAgICBpZiAodGhpcy5mcmFnbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHRlbXBsYXRlO1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IERPTS5jcmVhdGVIVE1MKGh0bWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYyA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGZlYyAhPT0gbnVsbCAmJiBmZWMudGFnTmFtZSA9PT0gXCJURU1QTEFURVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZmVjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gaHRtbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBpbGVUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcy5kaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSByZXN1bHQuZnJhZ21lbnQ7XG4gICAgICAgICAgICB0aGlzLnZpZXdCZWhhdmlvckZhY3RvcmllcyA9IHJlc3VsdC52aWV3QmVoYXZpb3JGYWN0b3JpZXM7XG4gICAgICAgICAgICB0aGlzLmhvc3RCZWhhdmlvckZhY3RvcmllcyA9IHJlc3VsdC5ob3N0QmVoYXZpb3JGYWN0b3JpZXM7XG4gICAgICAgICAgICB0aGlzLnRhcmdldE9mZnNldCA9IHJlc3VsdC50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmJlaGF2aW9yQ291bnQgPVxuICAgICAgICAgICAgICAgIHRoaXMudmlld0JlaGF2aW9yRmFjdG9yaWVzLmxlbmd0aCArIHRoaXMuaG9zdEJlaGF2aW9yRmFjdG9yaWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuaGFzSG9zdEJlaGF2aW9ycyA9IHRoaXMuaG9zdEJlaGF2aW9yRmFjdG9yaWVzLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3Qgdmlld0ZhY3RvcmllcyA9IHRoaXMudmlld0JlaGF2aW9yRmFjdG9yaWVzO1xuICAgICAgICBjb25zdCBiZWhhdmlvcnMgPSBuZXcgQXJyYXkodGhpcy5iZWhhdmlvckNvdW50KTtcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gRE9NLmNyZWF0ZVRlbXBsYXRlV2Fsa2VyKGZyYWdtZW50KTtcbiAgICAgICAgbGV0IGJlaGF2aW9ySW5kZXggPSAwO1xuICAgICAgICBsZXQgdGFyZ2V0SW5kZXggPSB0aGlzLnRhcmdldE9mZnNldDtcbiAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSB2aWV3RmFjdG9yaWVzLmxlbmd0aDsgYmVoYXZpb3JJbmRleCA8IGlpOyArK2JlaGF2aW9ySW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSB2aWV3RmFjdG9yaWVzW2JlaGF2aW9ySW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeUluZGV4ID0gZmFjdG9yeS50YXJnZXRJbmRleDtcbiAgICAgICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZGV4ID09PSBmYWN0b3J5SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3JzW2JlaGF2aW9ySW5kZXhdID0gZmFjdG9yeS5jcmVhdGVCZWhhdmlvcihub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0hvc3RCZWhhdmlvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RGYWN0b3JpZXMgPSB0aGlzLmhvc3RCZWhhdmlvckZhY3RvcmllcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGhvc3RGYWN0b3JpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSwgKytiZWhhdmlvckluZGV4KSB7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3JzW2JlaGF2aW9ySW5kZXhdID0gaG9zdEZhY3Rvcmllc1tpXS5jcmVhdGVCZWhhdmlvcihob3N0QmluZGluZ1RhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBIVE1MVmlldyhmcmFnbWVudCwgYmVoYXZpb3JzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBIVE1MVmlldyBmcm9tIHRoaXMgdGVtcGxhdGUsIGJpbmRzIGl0IHRvIHRoZSBzb3VyY2UsIGFuZCB0aGVuIGFwcGVuZHMgaXQgdG8gdGhlIGhvc3QuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBkYXRhIHNvdXJjZSB0byBiaW5kIHRoZSB0ZW1wbGF0ZSB0by5cbiAgICAgKiBAcGFyYW0gaG9zdCAtIFRoZSBFbGVtZW50IHdoZXJlIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSBob3N0QmluZGluZ1RhcmdldCAtIEFuIEhUTUwgZWxlbWVudCB0byB0YXJnZXQgdGhlIGhvc3QgYmluZGluZ3MgYXQgaWYgZGlmZmVyZW50IGZyb20gdGhlXG4gICAgICogaG9zdCB0aGF0IHRoZSB0ZW1wbGF0ZSBpcyBiZWluZyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICByZW5kZXIoc291cmNlLCBob3N0LCBob3N0QmluZGluZ1RhcmdldCkge1xuICAgICAgICBpZiAodHlwZW9mIGhvc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGhvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChob3N0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9zdEJpbmRpbmdUYXJnZXQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaG9zdEJpbmRpbmdUYXJnZXQgPSBob3N0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmNyZWF0ZShob3N0QmluZGluZ1RhcmdldCk7XG4gICAgICAgIHZpZXcuYmluZChzb3VyY2UsIGRlZmF1bHRFeGVjdXRpb25Db250ZXh0KTtcbiAgICAgICAgdmlldy5hcHBlbmRUbyhob3N0KTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxufVxuLy8gTXVjaCB0aGFua3MgdG8gTGl0SFRNTCBmb3Igd29ya2luZyB0aGlzIG91dCFcbmNvbnN0IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXggPSBcbi8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4ICovXG4vKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbi8qKlxuICogVHJhbnNmb3JtcyBhIHRlbXBsYXRlIGxpdGVyYWwgc3RyaW5nIGludG8gYSByZW5kZXJhYmxlIFZpZXdUZW1wbGF0ZS5cbiAqIEBwYXJhbSBzdHJpbmdzIC0gVGhlIHN0cmluZyBmcmFnbWVudHMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIHdpdGggdGhlIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgYXJlIGludGVycG9sYXRlZCB3aXRoIHRoZSBzdHJpbmcgZnJhZ21lbnRzLlxuICogQHJlbWFya3NcbiAqIFRoZSBodG1sIGhlbHBlciBzdXBwb3J0cyBpbnRlcnBvbGF0aW9uIG9mIHN0cmluZ3MsIG51bWJlcnMsIGJpbmRpbmcgZXhwcmVzc2lvbnMsXG4gKiBvdGhlciB0ZW1wbGF0ZSBpbnN0YW5jZXMsIGFuZCBEaXJlY3RpdmUgaW5zdGFuY2VzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaHRtbChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zdCBkaXJlY3RpdmVzID0gW107XG4gICAgbGV0IGh0bWwgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0cmluZyA9IHN0cmluZ3NbaV07XG4gICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaHRtbCArPSBjdXJyZW50U3RyaW5nO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWaWV3VGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9ICgpID0+IHRlbXBsYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgSFRNTEJpbmRpbmdEaXJlY3RpdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRhcmdldGVkSFRNTERpcmVjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMoY3VycmVudFN0cmluZyk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS50YXJnZXROYW1lID0gbWF0Y2hbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSFRNTERpcmVjdGl2ZSkge1xuICAgICAgICAgICAgLy8gU2luY2Ugbm90IGFsbCB2YWx1ZXMgYXJlIGRpcmVjdGl2ZXMsIHdlIGNhbid0IHVzZSBpXG4gICAgICAgICAgICAvLyBhcyB0aGUgaW5kZXggZm9yIHRoZSBwbGFjZWhvbGRlci4gSW5zdGVhZCwgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gdXNlIGRpcmVjdGl2ZXMubGVuZ3RoIHRvIGdldCB0aGUgbmV4dCBpbmRleC5cbiAgICAgICAgICAgIGh0bWwgKz0gdmFsdWUuY3JlYXRlUGxhY2Vob2xkZXIoZGlyZWN0aXZlcy5sZW5ndGgpO1xuICAgICAgICAgICAgZGlyZWN0aXZlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGh0bWwgKz0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaHRtbCArPSBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIG5ldyBWaWV3VGVtcGxhdGUoaHRtbCwgZGlyZWN0aXZlcyk7XG59XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG4vKipcbiAqIFJlcHJlc2VudHMgc3R5bGVzIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gYSBjdXN0b20gZWxlbWVudC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEVsZW1lbnRTdHlsZXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldHMgPSBuZXcgV2Vha1NldCgpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYWRkU3R5bGVzVG8odGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0cy5hZGQodGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlbW92ZVN0eWxlc0Zyb20odGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0cy5kZWxldGUodGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGlzQXR0YWNoZWRUbyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5oYXModGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlcyBiZWhhdmlvcnMgd2l0aCB0aGlzIHNldCBvZiBzdHlsZXMuXG4gICAgICogQHBhcmFtIGJlaGF2aW9ycyAtIFRoZSBiZWhhdmlvcnMgdG8gYXNzb2NpYXRlLlxuICAgICAqL1xuICAgIHdpdGhCZWhhdmlvcnMoLi4uYmVoYXZpb3JzKSB7XG4gICAgICAgIHRoaXMuYmVoYXZpb3JzID1cbiAgICAgICAgICAgIHRoaXMuYmVoYXZpb3JzID09PSBudWxsID8gYmVoYXZpb3JzIDogdGhpcy5iZWhhdmlvcnMuY29uY2F0KGJlaGF2aW9ycyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIEVsZW1lbnRTdHlsZXMgZnJvbSBDb21wb3NhYmxlU3R5bGVzLlxuICovXG5FbGVtZW50U3R5bGVzLmNyZWF0ZSA9ICgoKSA9PiB7XG4gICAgaWYgKERPTS5zdXBwb3J0c0Fkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0Q2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiAoc3R5bGVzKSA9PiBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICBuZXcgQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzKHN0eWxlcywgc3R5bGVTaGVldENhY2hlKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiAoc3R5bGVzKSA9PiBuZXcgU3R5bGVFbGVtZW50U3R5bGVzKHN0eWxlcyk7XG59KSgpO1xuZnVuY3Rpb24gcmVkdWNlU3R5bGVzKHN0eWxlcykge1xuICAgIHJldHVybiBzdHlsZXNcbiAgICAgICAgLm1hcCgoeCkgPT4geCBpbnN0YW5jZW9mIEVsZW1lbnRTdHlsZXMgPyByZWR1Y2VTdHlsZXMoeC5zdHlsZXMpIDogW3hdKVxuICAgICAgICAucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBwcmV2LmNvbmNhdChjdXJyKSwgW10pO1xufVxuZnVuY3Rpb24gcmVkdWNlQmVoYXZpb3JzKHN0eWxlcykge1xuICAgIHJldHVybiBzdHlsZXNcbiAgICAgICAgLm1hcCgoeCkgPT4gKHggaW5zdGFuY2VvZiBFbGVtZW50U3R5bGVzID8geC5iZWhhdmlvcnMgOiBudWxsKSlcbiAgICAgICAgLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICBpZiAoY3VyciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXYgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldi5jb25jYXQoY3Vycik7XG4gICAgfSwgbnVsbCk7XG59XG4vKipcbiAqIEEgU3ltYm9sIHRoYXQgY2FuIGJlIGFkZGVkIHRvIGEgQ1NTU3R5bGVTaGVldCB0byBjYXVzZSBpdCB0byBiZSBwcmVwZW5kZWQgKHJhdGhlciB0aGFuIGFwcGVuZGVkKSB0byBhZG9wdGVkU3R5bGVTaGVldHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2wgPSBTeW1ib2woXCJwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNcIik7XG5mdW5jdGlvbiBzZXBhcmF0ZVNoZWV0c1RvUHJlcGVuZChzaGVldHMpIHtcbiAgICBjb25zdCBwcmVwZW5kID0gW107XG4gICAgY29uc3QgYXBwZW5kID0gW107XG4gICAgc2hlZXRzLmZvckVhY2goeCA9PiAoeFtwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2xdID8gcHJlcGVuZCA6IGFwcGVuZCkucHVzaCh4KSk7XG4gICAgcmV0dXJuIHsgcHJlcGVuZCwgYXBwZW5kIH07XG59XG5sZXQgYWRkQWRvcHRlZFN0eWxlU2hlZXRzID0gKHRhcmdldCwgc2hlZXRzKSA9PiB7XG4gICAgY29uc3QgeyBwcmVwZW5kLCBhcHBlbmQgfSA9IHNlcGFyYXRlU2hlZXRzVG9QcmVwZW5kKHNoZWV0cyk7XG4gICAgdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFsuLi5wcmVwZW5kLCAuLi50YXJnZXQuYWRvcHRlZFN0eWxlU2hlZXRzLCAuLi5hcHBlbmRdO1xufTtcbmxldCByZW1vdmVBZG9wdGVkU3R5bGVTaGVldHMgPSAodGFyZ2V0LCBzaGVldHMpID0+IHtcbiAgICB0YXJnZXQuYWRvcHRlZFN0eWxlU2hlZXRzID0gdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cy5maWx0ZXIoKHgpID0+IHNoZWV0cy5pbmRleE9mKHgpID09PSAtMSk7XG59O1xuaWYgKERPTS5zdXBwb3J0c0Fkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFRlc3QgaWYgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiB1c2VzIEZyb3plbkFycmF5LlxuICAgICAgICAvLyBJZiBub3QsIHVzZSBwdXNoIC8gc3BsaWNlIHRvIGFsdGVyIHRoZSBzdHlsZXNoZWV0c1xuICAgICAgICAvLyBpbiBwbGFjZS4gVGhpcyBjaXJjdW12ZW50cyBhIGJ1ZyBpbiBTYWZhcmkgMTYuNCB3aGVyZVxuICAgICAgICAvLyBwZXJpb2RpY2FsbHksIGFzc2lnbmluZyB0aGUgYXJyYXkgd291bGQgcHJldmlvdXNseVxuICAgICAgICAvLyBjYXVzZSBzaGVldHMgdG8gYmUgcmVtb3ZlZC5cbiAgICAgICAgZG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzLnB1c2goKTtcbiAgICAgICAgZG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzLnNwbGljZSgpO1xuICAgICAgICBhZGRBZG9wdGVkU3R5bGVTaGVldHMgPSAodGFyZ2V0LCBzaGVldHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJlcGVuZCwgYXBwZW5kIH0gPSBzZXBhcmF0ZVNoZWV0c1RvUHJlcGVuZChzaGVldHMpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cy5zcGxpY2UoMCwgMCwgLi4ucHJlcGVuZCk7XG4gICAgICAgICAgICB0YXJnZXQuYWRvcHRlZFN0eWxlU2hlZXRzLnB1c2goLi4uYXBwZW5kKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVtb3ZlQWRvcHRlZFN0eWxlU2hlZXRzID0gKHRhcmdldCwgc2hlZXRzKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNoZWV0IG9mIHNoZWV0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmRleE9mKHNoZWV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZG9wdGVkU3R5bGVTaGVldHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgYW4gZXJyb3IgaXMgdGhyb3duLCB0aGUgZGVmYXVsdFxuICAgICAgICAvLyBjYXNlIGhhbmRsZXMgRnJvemVuQXJyYXkuXG4gICAgfVxufVxuLyoqXG4gKiBodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy9cbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTkvMDIvY29uc3RydWN0YWJsZS1zdHlsZXNoZWV0c1xuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzIGV4dGVuZHMgRWxlbWVudFN0eWxlcyB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGVzLCBzdHlsZVNoZWV0Q2FjaGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuc3R5bGVTaGVldENhY2hlID0gc3R5bGVTaGVldENhY2hlO1xuICAgICAgICB0aGlzLl9zdHlsZVNoZWV0cyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5iZWhhdmlvcnMgPSByZWR1Y2VCZWhhdmlvcnMoc3R5bGVzKTtcbiAgICB9XG4gICAgZ2V0IHN0eWxlU2hlZXRzKCkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVTaGVldHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgICAgICBjb25zdCBzdHlsZVNoZWV0Q2FjaGUgPSB0aGlzLnN0eWxlU2hlZXRDYWNoZTtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXRzID0gcmVkdWNlU3R5bGVzKHN0eWxlcykubWFwKCh4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc2hlZXQgPSBzdHlsZVNoZWV0Q2FjaGUuZ2V0KHgpO1xuICAgICAgICAgICAgICAgIGlmIChzaGVldCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgc2hlZXQucmVwbGFjZVN5bmMoeCk7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlU2hlZXRDYWNoZS5zZXQoeCwgc2hlZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2hlZXQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldHM7XG4gICAgfVxuICAgIGFkZFN0eWxlc1RvKHRhcmdldCkge1xuICAgICAgICBhZGRBZG9wdGVkU3R5bGVTaGVldHModGFyZ2V0LCB0aGlzLnN0eWxlU2hlZXRzKTtcbiAgICAgICAgc3VwZXIuYWRkU3R5bGVzVG8odGFyZ2V0KTtcbiAgICB9XG4gICAgcmVtb3ZlU3R5bGVzRnJvbSh0YXJnZXQpIHtcbiAgICAgICAgcmVtb3ZlQWRvcHRlZFN0eWxlU2hlZXRzKHRhcmdldCwgdGhpcy5zdHlsZVNoZWV0cyk7XG4gICAgICAgIHN1cGVyLnJlbW92ZVN0eWxlc0Zyb20odGFyZ2V0KTtcbiAgICB9XG59XG5sZXQgc3R5bGVDbGFzc0lkID0gMDtcbmZ1bmN0aW9uIGdldE5leHRTdHlsZUNsYXNzKCkge1xuICAgIHJldHVybiBgZmFzdC1zdHlsZS1jbGFzcy0keysrc3R5bGVDbGFzc0lkfWA7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVzIGV4dGVuZHMgRWxlbWVudFN0eWxlcyB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICAgICAgICB0aGlzLmJlaGF2aW9ycyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmVoYXZpb3JzID0gcmVkdWNlQmVoYXZpb3JzKHN0eWxlcyk7XG4gICAgICAgIHRoaXMuc3R5bGVTaGVldHMgPSByZWR1Y2VTdHlsZXMoc3R5bGVzKTtcbiAgICAgICAgdGhpcy5zdHlsZUNsYXNzID0gZ2V0TmV4dFN0eWxlQ2xhc3MoKTtcbiAgICB9XG4gICAgYWRkU3R5bGVzVG8odGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXRzID0gdGhpcy5zdHlsZVNoZWV0cztcbiAgICAgICAgY29uc3Qgc3R5bGVDbGFzcyA9IHRoaXMuc3R5bGVDbGFzcztcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5ub3JtYWxpemVUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZVNoZWV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc3R5bGVTaGVldHNbaV07XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHN0eWxlQ2xhc3M7XG4gICAgICAgICAgICB0YXJnZXQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmFkZFN0eWxlc1RvKHRhcmdldCk7XG4gICAgfVxuICAgIHJlbW92ZVN0eWxlc0Zyb20odGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IHRoaXMubm9ybWFsaXplVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLnN0eWxlQ2xhc3N9YCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0eWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoc3R5bGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5yZW1vdmVTdHlsZXNGcm9tKHRhcmdldCk7XG4gICAgfVxuICAgIGlzQXR0YWNoZWRUbyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzQXR0YWNoZWRUbyh0aGlzLm5vcm1hbGl6ZVRhcmdldCh0YXJnZXQpKTtcbiAgICB9XG4gICAgbm9ybWFsaXplVGFyZ2V0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0ID09PSBkb2N1bWVudCA/IGRvY3VtZW50LmJvZHkgOiB0YXJnZXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRhZGF0YUxvY2F0b3IgfSBmcm9tIFwiLi4vcGxhdGZvcm0uanNcIjtcbi8qKlxuICogTWV0YWRhdGEgdXNlZCB0byBjb25maWd1cmUgYSBjdXN0b20gYXR0cmlidXRlJ3MgYmVoYXZpb3IuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBBdHRyaWJ1dGVDb25maWd1cmF0aW9uID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogTG9jYXRlcyBhbGwgYXR0cmlidXRlIGNvbmZpZ3VyYXRpb25zIGFzc29jaWF0ZWQgd2l0aCBhIHR5cGUuXG4gICAgICovXG4gICAgbG9jYXRlOiBjcmVhdGVNZXRhZGF0YUxvY2F0b3IoKSxcbn0pO1xuLyoqXG4gKiBBIHtAbGluayBWYWx1ZUNvbnZlcnRlcn0gdGhhdCBjb252ZXJ0cyB0byBhbmQgZnJvbSBgYm9vbGVhbmAgdmFsdWVzLlxuICogQHJlbWFya3NcbiAqIFVzZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYm9vbGVhbmAge0BsaW5rIEF0dHJpYnV0ZU1vZGV9IGlzIHNlbGVjdGVkLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYm9vbGVhbkNvbnZlcnRlciA9IHtcbiAgICB0b1ZpZXcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgfSxcbiAgICBmcm9tVmlldyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHZhbHVlID09PSB2b2lkIDAgfHxcbiAgICAgICAgICAgIHZhbHVlID09PSBcImZhbHNlXCIgfHxcbiAgICAgICAgICAgIHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgdmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxufTtcbi8qKlxuICogQSB7QGxpbmsgVmFsdWVDb252ZXJ0ZXJ9IHRoYXQgY29udmVydHMgdG8gYW5kIGZyb20gYG51bWJlcmAgdmFsdWVzLlxuICogQHJlbWFya3NcbiAqIFRoaXMgY29udmVydGVyIGFsbG93cyBmb3IgbnVsbGFibGUgbnVtYmVycywgcmV0dXJuaW5nIGBudWxsYCBpZiB0aGVcbiAqIGlucHV0IHdhcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBgTmFOYC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG51bGxhYmxlTnVtYmVyQ29udmVydGVyID0ge1xuICAgIHRvVmlldyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtYmVyID0gdmFsdWUgKiAxO1xuICAgICAgICByZXR1cm4gaXNOYU4obnVtYmVyKSA/IG51bGwgOiBudW1iZXIudG9TdHJpbmcoKTtcbiAgICB9LFxuICAgIGZyb21WaWV3KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW1iZXIgPSB2YWx1ZSAqIDE7XG4gICAgICAgIHJldHVybiBpc05hTihudW1iZXIpID8gbnVsbCA6IG51bWJlcjtcbiAgICB9LFxufTtcbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIEFjY2Vzc29yfSB0aGF0IHN1cHBvcnRzIHJlYWN0aXZpdHksXG4gKiBjaGFuZ2UgY2FsbGJhY2tzLCBhdHRyaWJ1dGUgcmVmbGVjdGlvbiwgYW5kIHR5cGUgY29udmVyc2lvbiBmb3JcbiAqIGN1c3RvbSBlbGVtZW50cy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZURlZmluaXRpb24ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQXR0cmlidXRlRGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gT3duZXIgLSBUaGUgY2xhc3MgY29uc3RydWN0b3IgdGhhdCBvd25zIHRoaXMgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGUgLSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIGluIEhUTUwuXG4gICAgICogQHBhcmFtIG1vZGUgLSBUaGUge0BsaW5rIEF0dHJpYnV0ZU1vZGV9IHRoYXQgZGVzY3JpYmVzIHRoZSBiZWhhdmlvciBvZiB0aGlzIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gY29udmVydGVyIC0gQSB7QGxpbmsgVmFsdWVDb252ZXJ0ZXJ9IHRoYXQgaW50ZWdyYXRlcyB3aXRoIHRoZSBwcm9wZXJ0eSBnZXR0ZXIvc2V0dGVyXG4gICAgICogdG8gY29udmVydCB2YWx1ZXMgdG8gYW5kIGZyb20gYSBET00gc3RyaW5nLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKE93bmVyLCBuYW1lLCBhdHRyaWJ1dGUgPSBuYW1lLnRvTG93ZXJDYXNlKCksIG1vZGUgPSBcInJlZmxlY3RcIiwgY29udmVydGVyKSB7XG4gICAgICAgIHRoaXMuZ3VhcmRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLk93bmVyID0gT3duZXI7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlID0gYXR0cmlidXRlO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IGNvbnZlcnRlcjtcbiAgICAgICAgdGhpcy5maWVsZE5hbWUgPSBgXyR7bmFtZX1gO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTmFtZSA9IGAke25hbWV9Q2hhbmdlZGA7XG4gICAgICAgIHRoaXMuaGFzQ2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrTmFtZSBpbiBPd25lci5wcm90b3R5cGU7XG4gICAgICAgIGlmIChtb2RlID09PSBcImJvb2xlYW5cIiAmJiBjb252ZXJ0ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSBib29sZWFuQ29udmVydGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUvcHJvcGVydHkgb24gdGhlIHNvdXJjZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgc291cmNlIGVsZW1lbnQgdG8gYWNjZXNzLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZS9wcm9wZXJ0eSB0by5cbiAgICAgKi9cbiAgICBzZXRWYWx1ZShzb3VyY2UsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc291cmNlW3RoaXMuZmllbGROYW1lXTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gdGhpcy5jb252ZXJ0ZXI7XG4gICAgICAgIGlmIChjb252ZXJ0ZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb252ZXJ0ZXIuZnJvbVZpZXcobmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHNvdXJjZVt0aGlzLmZpZWxkTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMudHJ5UmVmbGVjdFRvQXR0cmlidXRlKHNvdXJjZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNvdXJjZVt0aGlzLmNhbGxiYWNrTmFtZV0ob2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZS4kZmFzdENvbnRyb2xsZXIubm90aWZ5KHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS9wcm9wZXJ0eSBvbiB0aGUgc291cmNlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBzb3VyY2UgZWxlbWVudCB0byBhY2Nlc3MuXG4gICAgICovXG4gICAgZ2V0VmFsdWUoc291cmNlKSB7XG4gICAgICAgIE9ic2VydmFibGUudHJhY2soc291cmNlLCB0aGlzLm5hbWUpO1xuICAgICAgICByZXR1cm4gc291cmNlW3RoaXMuZmllbGROYW1lXTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG9uQXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmd1YXJkcy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmd1YXJkcy5hZGQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICB0aGlzLmd1YXJkcy5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICAgIHRyeVJlZmxlY3RUb0F0dHJpYnV0ZShlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICAgIGNvbnN0IGd1YXJkcyA9IHRoaXMuZ3VhcmRzO1xuICAgICAgICBpZiAoZ3VhcmRzLmhhcyhlbGVtZW50KSB8fCBtb2RlID09PSBcImZyb21WaWV3XCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgZ3VhcmRzLmFkZChlbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGxhdGVzdFZhbHVlID0gZWxlbWVudFt0aGlzLmZpZWxkTmFtZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVmbGVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSB0aGlzLmNvbnZlcnRlcjtcbiAgICAgICAgICAgICAgICAgICAgRE9NLnNldEF0dHJpYnV0ZShlbGVtZW50LCB0aGlzLmF0dHJpYnV0ZSwgY29udmVydGVyICE9PSB2b2lkIDAgPyBjb252ZXJ0ZXIudG9WaWV3KGxhdGVzdFZhbHVlKSA6IGxhdGVzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgRE9NLnNldEJvb2xlYW5BdHRyaWJ1dGUoZWxlbWVudCwgdGhpcy5hdHRyaWJ1dGUsIGxhdGVzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29sbGVjdHMgYWxsIGF0dHJpYnV0ZSBkZWZpbml0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIG93bmVyLlxuICAgICAqIEBwYXJhbSBPd25lciAtIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciB0byBjb2xsZWN0IGF0dHJpYnV0ZSBmb3IuXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZUxpc3RzIC0gQW55IGV4aXN0aW5nIGF0dHJpYnV0ZXMgdG8gY29sbGVjdCBhbmQgbWVyZ2Ugd2l0aCB0aG9zZSBhc3NvY2lhdGVkIHdpdGggdGhlIG93bmVyLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHN0YXRpYyBjb2xsZWN0KE93bmVyLCAuLi5hdHRyaWJ1dGVMaXN0cykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIGF0dHJpYnV0ZUxpc3RzLnB1c2goQXR0cmlidXRlQ29uZmlndXJhdGlvbi5sb2NhdGUoT3duZXIpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRlTGlzdHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IGF0dHJpYnV0ZUxpc3RzW2ldO1xuICAgICAgICAgICAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gbGlzdC5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGlzdFtqXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmV3IEF0dHJpYnV0ZURlZmluaXRpb24oT3duZXIsIGNvbmZpZykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5ldyBBdHRyaWJ1dGVEZWZpbml0aW9uKE93bmVyLCBjb25maWcucHJvcGVydHksIGNvbmZpZy5hdHRyaWJ1dGUsIGNvbmZpZy5tb2RlLCBjb25maWcuY29udmVydGVyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKGNvbmZpZ09yVGFyZ2V0LCBwcm9wKSB7XG4gICAgbGV0IGNvbmZpZztcbiAgICBmdW5jdGlvbiBkZWNvcmF0b3IoJHRhcmdldCwgJHByb3ApIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBOb24gaW52b2NhdGlvbjpcbiAgICAgICAgICAgIC8vIC0gQGF0dHJcbiAgICAgICAgICAgIC8vIEludm9jYXRpb24gd2l0aCBvciB3L28gb3B0czpcbiAgICAgICAgICAgIC8vIC0gQGF0dHIoKVxuICAgICAgICAgICAgLy8gLSBAYXR0cih7Li4ub3B0c30pXG4gICAgICAgICAgICBjb25maWcucHJvcGVydHkgPSAkcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLmxvY2F0ZSgkdGFyZ2V0LmNvbnN0cnVjdG9yKS5wdXNoKGNvbmZpZyk7XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBOb24gaW52b2NhdGlvbjpcbiAgICAgICAgLy8gLSBAYXR0clxuICAgICAgICBjb25maWcgPSB7fTtcbiAgICAgICAgZGVjb3JhdG9yKGNvbmZpZ09yVGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJbnZvY2F0aW9uIHdpdGggb3Igdy9vIG9wdHM6XG4gICAgLy8gLSBAYXR0cigpXG4gICAgLy8gLSBAYXR0cih7Li4ub3B0c30pXG4gICAgY29uZmlnID0gY29uZmlnT3JUYXJnZXQgPT09IHZvaWQgMCA/IHt9IDogY29uZmlnT3JUYXJnZXQ7XG4gICAgcmV0dXJuIGRlY29yYXRvcjtcbn1cbiIsImltcG9ydCB7IEZBU1QgfSBmcm9tIFwiLi4vcGxhdGZvcm0uanNcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi4vb2JzZXJ2YXRpb24vb2JzZXJ2YWJsZS5qc1wiO1xuaW1wb3J0IHsgRWxlbWVudFN0eWxlcyB9IGZyb20gXCIuLi9zdHlsZXMvZWxlbWVudC1zdHlsZXMuanNcIjtcbmltcG9ydCB7IEF0dHJpYnV0ZURlZmluaXRpb24gfSBmcm9tIFwiLi9hdHRyaWJ1dGVzLmpzXCI7XG5jb25zdCBkZWZhdWx0U2hhZG93T3B0aW9ucyA9IHsgbW9kZTogXCJvcGVuXCIgfTtcbmNvbnN0IGRlZmF1bHRFbGVtZW50T3B0aW9ucyA9IHt9O1xuY29uc3QgZmFzdFJlZ2lzdHJ5ID0gRkFTVC5nZXRCeUlkKDQgLyogZWxlbWVudFJlZ2lzdHJ5ICovLCAoKSA9PiB7XG4gICAgY29uc3QgdHlwZVRvRGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIHJlZ2lzdGVyKGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0eXBlVG9EZWZpbml0aW9uLmhhcyhkZWZpbml0aW9uLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZVRvRGVmaW5pdGlvbi5zZXQoZGVmaW5pdGlvbi50eXBlLCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXRCeVR5cGUoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZVRvRGVmaW5pdGlvbi5nZXQoa2V5KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuLyoqXG4gKiBEZWZpbmVzIG1ldGFkYXRhIGZvciBhIEZBU1RFbGVtZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRkFTVEVsZW1lbnREZWZpbml0aW9uIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEZBU1RFbGVtZW50RGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIHRoaXMgZGVmaW5pdGlvbiBpcyBiZWluZyBjcmVhdGVkIGZvci5cbiAgICAgKiBAcGFyYW0gbmFtZU9yQ29uZmlnIC0gVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgdG8gZGVmaW5lIG9yIGEgY29uZmlnIG9iamVjdFxuICAgICAqIHRoYXQgZGVzY3JpYmVzIHRoZSBlbGVtZW50IHRvIGRlZmluZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBuYW1lT3JDb25maWcgPSB0eXBlLmRlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lT3JDb25maWcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIG5hbWVPckNvbmZpZyA9IHsgbmFtZTogbmFtZU9yQ29uZmlnIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZU9yQ29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBuYW1lT3JDb25maWcudGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVEZWZpbml0aW9uLmNvbGxlY3QodHlwZSwgbmFtZU9yQ29uZmlnLmF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBvYnNlcnZlZEF0dHJpYnV0ZXMgPSBuZXcgQXJyYXkoYXR0cmlidXRlcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBwcm9wZXJ0eUxvb2t1cCA9IHt9O1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXAgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIG9ic2VydmVkQXR0cmlidXRlc1tpXSA9IGN1cnJlbnQuYXR0cmlidXRlO1xuICAgICAgICAgICAgcHJvcGVydHlMb29rdXBbY3VycmVudC5uYW1lXSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBhdHRyaWJ1dGVMb29rdXBbY3VycmVudC5hdHRyaWJ1dGVdID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLm9ic2VydmVkQXR0cmlidXRlcyA9IG9ic2VydmVkQXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUxvb2t1cCA9IHByb3BlcnR5TG9va3VwO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxvb2t1cCA9IGF0dHJpYnV0ZUxvb2t1cDtcbiAgICAgICAgdGhpcy5zaGFkb3dPcHRpb25zID1cbiAgICAgICAgICAgIG5hbWVPckNvbmZpZy5zaGFkb3dPcHRpb25zID09PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRTaGFkb3dPcHRpb25zXG4gICAgICAgICAgICAgICAgOiBuYW1lT3JDb25maWcuc2hhZG93T3B0aW9ucyA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNoYWRvd09wdGlvbnMpLCBuYW1lT3JDb25maWcuc2hhZG93T3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZWxlbWVudE9wdGlvbnMgPVxuICAgICAgICAgICAgbmFtZU9yQ29uZmlnLmVsZW1lbnRPcHRpb25zID09PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRFbGVtZW50T3B0aW9uc1xuICAgICAgICAgICAgICAgIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RWxlbWVudE9wdGlvbnMpLCBuYW1lT3JDb25maWcuZWxlbWVudE9wdGlvbnMpO1xuICAgICAgICB0aGlzLnN0eWxlcyA9XG4gICAgICAgICAgICBuYW1lT3JDb25maWcuc3R5bGVzID09PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICAgIDogQXJyYXkuaXNBcnJheShuYW1lT3JDb25maWcuc3R5bGVzKVxuICAgICAgICAgICAgICAgICAgICA/IEVsZW1lbnRTdHlsZXMuY3JlYXRlKG5hbWVPckNvbmZpZy5zdHlsZXMpXG4gICAgICAgICAgICAgICAgICAgIDogbmFtZU9yQ29uZmlnLnN0eWxlcyBpbnN0YW5jZW9mIEVsZW1lbnRTdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmFtZU9yQ29uZmlnLnN0eWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBFbGVtZW50U3R5bGVzLmNyZWF0ZShbbmFtZU9yQ29uZmlnLnN0eWxlc10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhpcyBlbGVtZW50IGhhcyBiZWVuIGRlZmluZWQgaW4gYXQgbGVhc3Qgb25lIHJlZ2lzdHJ5LlxuICAgICAqL1xuICAgIGdldCBpc0RlZmluZWQoKSB7XG4gICAgICAgIHJldHVybiAhIWZhc3RSZWdpc3RyeS5nZXRCeVR5cGUodGhpcy50eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhIGN1c3RvbSBlbGVtZW50IGJhc2VkIG9uIHRoaXMgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gcmVnaXN0cnkgLSBUaGUgZWxlbWVudCByZWdpc3RyeSB0byBkZWZpbmUgdGhlIGVsZW1lbnQgaW4uXG4gICAgICovXG4gICAgZGVmaW5lKHJlZ2lzdHJ5ID0gY3VzdG9tRWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgaWYgKGZhc3RSZWdpc3RyeS5yZWdpc3Rlcih0aGlzKSkge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IHByb3RvID0gdHlwZS5wcm90b3R5cGU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBPYnNlcnZhYmxlLmRlZmluZVByb3BlcnR5KHByb3RvLCBhdHRyaWJ1dGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJvYnNlcnZlZEF0dHJpYnV0ZXNcIiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLm9ic2VydmVkQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWdpc3RyeS5nZXQodGhpcy5uYW1lKSkge1xuICAgICAgICAgICAgcmVnaXN0cnkuZGVmaW5lKHRoaXMubmFtZSwgdHlwZSwgdGhpcy5lbGVtZW50T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLyoqXG4gKiBHZXRzIHRoZSBlbGVtZW50IGRlZmluaXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAqIEBwYXJhbSB0eXBlIC0gVGhlIGN1c3RvbSBlbGVtZW50IHR5cGUgdG8gcmV0cmlldmUgdGhlIGRlZmluaXRpb24gZm9yLlxuICovXG5GQVNURWxlbWVudERlZmluaXRpb24uZm9yVHlwZSA9IGZhc3RSZWdpc3RyeS5nZXRCeVR5cGU7XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyIH0gZnJvbSBcIi4uL29ic2VydmF0aW9uL25vdGlmaWVyLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCwgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBGQVNURWxlbWVudERlZmluaXRpb24gfSBmcm9tIFwiLi9mYXN0LWRlZmluaXRpb25zLmpzXCI7XG5jb25zdCBzaGFkb3dSb290cyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBkZWZhdWx0RXZlbnRPcHRpb25zID0ge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWUsXG4gICAgY2FuY2VsYWJsZTogdHJ1ZSxcbn07XG5mdW5jdGlvbiBnZXRTaGFkb3dSb290KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5zaGFkb3dSb290IHx8IHNoYWRvd1Jvb3RzLmdldChlbGVtZW50KSB8fCBudWxsO1xufVxuLyoqXG4gKiBDb250cm9scyB0aGUgbGlmZWN5Y2xlIGFuZCByZW5kZXJpbmcgb2YgYSBgRkFTVEVsZW1lbnRgLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIFByb3BlcnR5Q2hhbmdlTm90aWZpZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb250cm9sbGVyIHRvIGNvbnRyb2wgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gYmUgY29udHJvbGxlZCBieSB0aGlzIGNvbnRyb2xsZXIuXG4gICAgICogQHBhcmFtIGRlZmluaXRpb24gLSBUaGUgZWxlbWVudCBkZWZpbml0aW9uIG1ldGFkYXRhIHRoYXQgaW5zdHJ1Y3RzIHRoaXNcbiAgICAgKiBjb250cm9sbGVyIGluIGhvdyB0byBoYW5kbGUgcmVuZGVyaW5nIGFuZCBvdGhlciBwbGF0Zm9ybSBpbnRlZ3JhdGlvbnMuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5ib3VuZE9ic2VydmFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iZWhhdmlvcnMgPSBudWxsO1xuICAgICAgICB0aGlzLm5lZWRzSW5pdGlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0eWxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGFsbG93cyBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKC4uLikgdG8gcmV0dXJuIHRoZSBDb250cm9sbGVyXG4gICAgICAgICAqIHdoZW4gdGhlIG5vdGlmaWVyIGZvciB0aGUgQ29udHJvbGxlciBpdHNlbGYgaXMgYmVpbmcgcmVxdWVzdGVkLiBUaGVcbiAgICAgICAgICogcmVzdWx0IGlzIHRoYXQgdGhlIE9ic2VydmFibGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gY3JlYXRlIGEgc2VwYXJhdGVcbiAgICAgICAgICogaW5zdGFuY2Ugb2YgTm90aWZpZXIgZm9yIG9ic2VydmFibGVzIG9uIHRoZSBDb250cm9sbGVyLiBUaGUgY29tcG9uZW50IGFuZFxuICAgICAgICAgKiB0aGUgY29udHJvbGxlciB3aWxsIG5vdyBzaGFyZSB0aGUgc2FtZSBub3RpZmllciwgcmVtb3Zpbmcgb25lLW9iamVjdCBjb25zdHJ1Y3RcbiAgICAgICAgICogcGVyIHdlYiBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRmYXN0Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1c3RvbSBlbGVtZW50LlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBgbnVsbGAgdGhlbiB0aGUgZWxlbWVudCBpcyBtYW5hZ2luZyBpdHMgb3duIHJlbmRlcmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgICAgIGNvbnN0IHNoYWRvd09wdGlvbnMgPSBkZWZpbml0aW9uLnNoYWRvd09wdGlvbnM7XG4gICAgICAgIGlmIChzaGFkb3dPcHRpb25zICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBlbGVtZW50LmF0dGFjaFNoYWRvdyhzaGFkb3dPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChzaGFkb3dPcHRpb25zLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICAgICAgICAgICAgICBzaGFkb3dSb290cy5zZXQoZWxlbWVudCwgc2hhZG93Um9vdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FwdHVyZSBhbnkgb2JzZXJ2YWJsZSB2YWx1ZXMgdGhhdCB3ZXJlIHNldCBieSB0aGUgYmluZGluZyBlbmdpbmUgYmVmb3JlXG4gICAgICAgIC8vIHRoZSBicm93c2VyIHVwZ3JhZGVkIHRoZSBlbGVtZW50LiBUaGVuIGRlbGV0ZSB0aGUgcHJvcGVydHkgc2luY2UgaXQgd2lsbFxuICAgICAgICAvLyBzaGFkb3cgdGhlIGdldHRlci9zZXR0ZXIgdGhhdCBpcyByZXF1aXJlZCB0byBtYWtlIHRoZSBvYnNlcnZhYmxlIG9wZXJhdGUuXG4gICAgICAgIC8vIExhdGVyLCBpbiB0aGUgY29ubmVjdCBjYWxsYmFjaywgd2UnbGwgcmUtYXBwbHkgdGhlIHZhbHVlcy5cbiAgICAgICAgY29uc3QgYWNjZXNzb3JzID0gT2JzZXJ2YWJsZS5nZXRBY2Nlc3NvcnMoZWxlbWVudCk7XG4gICAgICAgIGlmIChhY2Nlc3NvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYm91bmRPYnNlcnZhYmxlcyA9ICh0aGlzLmJvdW5kT2JzZXJ2YWJsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFjY2Vzc29ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gYWNjZXNzb3JzW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRPYnNlcnZhYmxlc1twcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaGFzIGJlZW5cbiAgICAgKiBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGdldCBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCBcImlzQ29ubmVjdGVkXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHNldElzQ29ubmVjdGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gdmFsdWU7XG4gICAgICAgIE9ic2VydmFibGUubm90aWZ5KHRoaXMsIFwiaXNDb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMvc2V0cyB0aGUgdGVtcGxhdGUgdXNlZCB0byByZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgdmFsdWUgY2FuIG9ubHkgYmUgYWNjdXJhdGVseSByZWFkIGFmdGVyIGNvbm5lY3QgYnV0IGNhbiBiZSBzZXQgYXQgYW55IHRpbWUuXG4gICAgICovXG4gICAgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGU7XG4gICAgfVxuICAgIHNldCB0ZW1wbGF0ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRzSW5pdGlhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGVtcGxhdGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMvc2V0cyB0aGUgcHJpbWFyeSBzdHlsZXMgdXNlZCBmb3IgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgdmFsdWUgY2FuIG9ubHkgYmUgYWNjdXJhdGVseSByZWFkIGFmdGVyIGNvbm5lY3QgYnV0IGNhbiBiZSBzZXQgYXQgYW55IHRpbWUuXG4gICAgICovXG4gICAgZ2V0IHN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlcztcbiAgICB9XG4gICAgc2V0IHN0eWxlcyh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVzID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU3R5bGVzKHRoaXMuX3N0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3R5bGVzID0gdmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5uZWVkc0luaXRpYWxpemF0aW9uICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0eWxlcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBzdHlsZXMgdG8gdGhpcyBlbGVtZW50LiBQcm92aWRpbmcgYW4gSFRNTFN0eWxlRWxlbWVudCB3aWxsIGF0dGFjaCB0aGUgZWxlbWVudCBpbnN0YW5jZSB0byB0aGUgc2hhZG93Um9vdC5cbiAgICAgKiBAcGFyYW0gc3R5bGVzIC0gVGhlIHN0eWxlcyB0byBhZGQuXG4gICAgICovXG4gICAgYWRkU3R5bGVzKHN0eWxlcykge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRTaGFkb3dSb290KHRoaXMuZWxlbWVudCkgfHxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5nZXRSb290Tm9kZSgpO1xuICAgICAgICBpZiAoc3R5bGVzIGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCkge1xuICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZChzdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzdHlsZXMuaXNBdHRhY2hlZFRvKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUJlaGF2aW9ycyA9IHN0eWxlcy5iZWhhdmlvcnM7XG4gICAgICAgICAgICBzdHlsZXMuYWRkU3R5bGVzVG8odGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VCZWhhdmlvcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJlaGF2aW9ycyhzb3VyY2VCZWhhdmlvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgc3R5bGVzIGZyb20gdGhpcyBlbGVtZW50LiBQcm92aWRpbmcgYW4gSFRNTFN0eWxlRWxlbWVudCB3aWxsIGRldGFjaCB0aGUgZWxlbWVudCBpbnN0YW5jZSBmcm9tIHRoZSBzaGFkb3dSb290LlxuICAgICAqIEBwYXJhbSBzdHlsZXMgLSB0aGUgc3R5bGVzIHRvIHJlbW92ZS5cbiAgICAgKi9cbiAgICByZW1vdmVTdHlsZXMoc3R5bGVzKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGdldFNoYWRvd1Jvb3QodGhpcy5lbGVtZW50KSB8fFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICAgIGlmIChzdHlsZXMgaW5zdGFuY2VvZiBIVE1MU3R5bGVFbGVtZW50KSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoc3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZXMuaXNBdHRhY2hlZFRvKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUJlaGF2aW9ycyA9IHN0eWxlcy5iZWhhdmlvcnM7XG4gICAgICAgICAgICBzdHlsZXMucmVtb3ZlU3R5bGVzRnJvbSh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUJlaGF2aW9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQmVoYXZpb3JzKHNvdXJjZUJlaGF2aW9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBiZWhhdmlvcnMgdG8gdGhpcyBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBiZWhhdmlvcnMgLSBUaGUgYmVoYXZpb3JzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRCZWhhdmlvcnMoYmVoYXZpb3JzKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEJlaGF2aW9ycyA9IHRoaXMuYmVoYXZpb3JzIHx8ICh0aGlzLmJlaGF2aW9ycyA9IG5ldyBNYXAoKSk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGJlaGF2aW9ycy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJlaGF2aW9yc1RvQmluZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IGJlaGF2aW9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRCZWhhdmlvcnMuaGFzKGJlaGF2aW9yKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldEJlaGF2aW9ycy5zZXQoYmVoYXZpb3IsIHRhcmdldEJlaGF2aW9ycy5nZXQoYmVoYXZpb3IpICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRCZWhhdmlvcnMuc2V0KGJlaGF2aW9yLCAxKTtcbiAgICAgICAgICAgICAgICBiZWhhdmlvcnNUb0JpbmQucHVzaChiZWhhdmlvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWhhdmlvcnNUb0JpbmQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBiZWhhdmlvcnNUb0JpbmRbaV0uYmluZChlbGVtZW50LCBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBiZWhhdmlvcnMgZnJvbSB0aGlzIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGJlaGF2aW9ycyAtIFRoZSBiZWhhdmlvcnMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSBmb3JjZSAtIEZvcmNlcyB1bmJpbmRpbmcgb2YgYmVoYXZpb3JzLlxuICAgICAqL1xuICAgIHJlbW92ZUJlaGF2aW9ycyhiZWhhdmlvcnMsIGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0QmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGlmICh0YXJnZXRCZWhhdmlvcnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW5ndGggPSBiZWhhdmlvcnMubGVuZ3RoO1xuICAgICAgICBjb25zdCBiZWhhdmlvcnNUb1VuYmluZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IGJlaGF2aW9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRCZWhhdmlvcnMuaGFzKGJlaGF2aW9yKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGFyZ2V0QmVoYXZpb3JzLmdldChiZWhhdmlvcikgLSAxO1xuICAgICAgICAgICAgICAgIGNvdW50ID09PSAwIHx8IGZvcmNlXG4gICAgICAgICAgICAgICAgICAgID8gdGFyZ2V0QmVoYXZpb3JzLmRlbGV0ZShiZWhhdmlvcikgJiYgYmVoYXZpb3JzVG9VbmJpbmQucHVzaChiZWhhdmlvcilcbiAgICAgICAgICAgICAgICAgICAgOiB0YXJnZXRCZWhhdmlvcnMuc2V0KGJlaGF2aW9yLCBjb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWhhdmlvcnNUb1VuYmluZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yc1RvVW5iaW5kW2ldLnVuYmluZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIGNvbm5lY3RlZCBsaWZlY3ljbGUgYmVoYXZpb3Igb24gdGhlIGFzc29jaWF0ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBvbkNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5uZWVkc0luaXRpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaEluaXRpYWxpemF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy52aWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuYmluZChlbGVtZW50LCBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGlmIChiZWhhdmlvcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2JlaGF2aW9yXSBvZiBiZWhhdmlvcnMpIHtcbiAgICAgICAgICAgICAgICBiZWhhdmlvci5iaW5kKGVsZW1lbnQsIGRlZmF1bHRFeGVjdXRpb25Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldElzQ29ubmVjdGVkKHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIGRpc2Nvbm5lY3RlZCBsaWZlY3ljbGUgYmVoYXZpb3Igb24gdGhlIGFzc29jaWF0ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBvbkRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmICh2aWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2aWV3LnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJlaGF2aW9ycyA9IHRoaXMuYmVoYXZpb3JzO1xuICAgICAgICBpZiAoYmVoYXZpb3JzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZm9yIChjb25zdCBbYmVoYXZpb3JdIG9mIGJlaGF2aW9ycykge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yLnVuYmluZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSBhdHRyaWJ1dGUgY2hhbmdlZCBjYWxsYmFjayBmb3IgdGhlIGFzc29jaWF0ZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSAtIFRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSAtIFRoZSBuZXcgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBvbkF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgY29uc3QgYXR0ckRlZiA9IHRoaXMuZGVmaW5pdGlvbi5hdHRyaWJ1dGVMb29rdXBbbmFtZV07XG4gICAgICAgIGlmIChhdHRyRGVmICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGF0dHJEZWYub25BdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodGhpcy5lbGVtZW50LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYSBjdXN0b20gSFRNTCBldmVudC5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBkZXRhaWwgLSBUaGUgZXZlbnQgZGV0YWlsIG9iamVjdCB0byBzZW5kIHdpdGggdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGV2ZW50IG9wdGlvbnMuIEJ5IGRlZmF1bHQgYnViYmxlcyBhbmQgY29tcG9zZWQuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBPbmx5IGVtaXRzIGV2ZW50cyBpZiBjb25uZWN0ZWQuXG4gICAgICovXG4gICAgZW1pdCh0eXBlLCBkZXRhaWwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHR5cGUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGRldGFpbCB9LCBkZWZhdWx0RXZlbnRPcHRpb25zKSwgb3B0aW9ucykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZpbmlzaEluaXRpYWxpemF0aW9uKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBib3VuZE9ic2VydmFibGVzID0gdGhpcy5ib3VuZE9ic2VydmFibGVzO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFueSBvYnNlcnZhYmxlcyB0aGF0IHdlcmUgYm91bmQsIHJlLWFwcGx5IHRoZWlyIHZhbHVlcy5cbiAgICAgICAgaWYgKGJvdW5kT2JzZXJ2YWJsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBPYmplY3Qua2V5cyhib3VuZE9ic2VydmFibGVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgICAgICAgICAgICAgZWxlbWVudFtwcm9wZXJ0eU5hbWVdID0gYm91bmRPYnNlcnZhYmxlc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib3VuZE9ic2VydmFibGVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5kZWZpbml0aW9uO1xuICAgICAgICAvLyAxLiBUZW1wbGF0ZSBvdmVycmlkZXMgdGFrZSB0b3AgcHJlY2VkZW5jZS5cbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LnJlc29sdmVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIDIuIEFsbG93IGZvciBlbGVtZW50IGluc3RhbmNlIG92ZXJyaWRlcyBuZXh0LlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGhpcy5lbGVtZW50LnJlc29sdmVUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVmaW5pdGlvbi50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIDMuIERlZmF1bHQgdG8gdGhlIHN0YXRpYyBkZWZpbml0aW9uLlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlID0gZGVmaW5pdGlvbi50ZW1wbGF0ZSB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSB0ZW1wbGF0ZSBhZnRlciB0aGUgYWJvdmUgcHJvY2VzcywgcmVuZGVyIGl0LlxuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHRlbXBsYXRlLCB0aGVuIHRoZSBlbGVtZW50IGF1dGhvciBoYXMgb3B0ZWQgaW50b1xuICAgICAgICAvLyBjdXN0b20gcmVuZGVyaW5nIGFuZCB0aGV5IHdpbGwgbWFuYWdlZCB0aGUgc2hhZG93IHJvb3QncyBjb250ZW50IHRoZW1zZWx2ZXMuXG4gICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMS4gU3R5bGVzIG92ZXJyaWRlcyB0YWtlIHRvcCBwcmVjZWRlbmNlLlxuICAgICAgICBpZiAodGhpcy5fc3R5bGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LnJlc29sdmVTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyAyLiBBbGxvdyBmb3IgZWxlbWVudCBpbnN0YW5jZSBvdmVycmlkZXMgbmV4dC5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMgPSB0aGlzLmVsZW1lbnQucmVzb2x2ZVN0eWxlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVmaW5pdGlvbi5zdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyAzLiBEZWZhdWx0IHRvIHRoZSBzdGF0aWMgZGVmaW5pdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMgPSBkZWZpbml0aW9uLnN0eWxlcyB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhhdmUgc3R5bGVzIGFmdGVyIHRoZSBhYm92ZSBwcm9jZXNzLCBhZGQgdGhlbS5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRTdHlsZXModGhpcy5fc3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5lZWRzSW5pdGlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICB9XG4gICAgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgLy8gV2hlbiBnZXR0aW5nIHRoZSBob3N0IHRvIHJlbmRlciB0bywgd2Ugc3RhcnQgYnkgbG9va2luZ1xuICAgICAgICAvLyB1cCB0aGUgc2hhZG93IHJvb3QuIElmIHRoZXJlIGlzbid0IG9uZSwgdGhlbiB0aGF0IG1lYW5zXG4gICAgICAgIC8vIHdlJ3JlIGRvaW5nIGEgTGlnaHQgRE9NIHJlbmRlciB0byB0aGUgZWxlbWVudCdzIGRpcmVjdCBjaGlsZHJlbi5cbiAgICAgICAgY29uc3QgaG9zdCA9IGdldFNoYWRvd1Jvb3QoZWxlbWVudCkgfHwgZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMudmlldyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgdmlldywgd2UgbmVlZCB0byB1bmJpbmQgYW5kIHJlbW92ZSB0aHJvdWdoIGRpc3Bvc2UuXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5uZWVkc0luaXRpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgcHJldmlvdXMgY3VzdG9tIHJlbmRlcmluZywgd2UgbmVlZCB0byBjbGVhciBvdXQgdGhlIGhvc3QuXG4gICAgICAgICAgICBET00ucmVtb3ZlQ2hpbGROb2Rlcyhob3N0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgIC8vIElmIGEgbmV3IHRlbXBsYXRlIHdhcyBwcm92aWRlZCwgcmVuZGVyIGl0LlxuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGVtcGxhdGUucmVuZGVyKGVsZW1lbnQsIGhvc3QsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2F0ZXMgb3IgY3JlYXRlcyBhIGNvbnRyb2xsZXIgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIHJldHVybiB0aGUgY29udHJvbGxlciBmb3IuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbXVzdCBoYXZlIGEge0BsaW5rIEZBU1RFbGVtZW50RGVmaW5pdGlvbn1cbiAgICAgKiByZWdpc3RlcmVkIGVpdGhlciB0aHJvdWdoIHRoZSB1c2Ugb2YgdGhlIHtAbGluayBjdXN0b21FbGVtZW50fVxuICAgICAqIGRlY29yYXRvciBvciBhIGNhbGwgdG8gYEZBU1RFbGVtZW50LmRlZmluZWAuXG4gICAgICovXG4gICAgc3RhdGljIGZvckN1c3RvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gZWxlbWVudC4kZmFzdENvbnRyb2xsZXI7XG4gICAgICAgIGlmIChjb250cm9sbGVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBGQVNURWxlbWVudERlZmluaXRpb24uZm9yVHlwZShlbGVtZW50LmNvbnN0cnVjdG9yKTtcbiAgICAgICAgaWYgKGRlZmluaXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBGQVNURWxlbWVudCBkZWZpbml0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGVsZW1lbnQuJGZhc3RDb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoZWxlbWVudCwgZGVmaW5pdGlvbikpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyLmpzXCI7XG5pbXBvcnQgeyBGQVNURWxlbWVudERlZmluaXRpb24sIH0gZnJvbSBcIi4vZmFzdC1kZWZpbml0aW9ucy5qc1wiO1xuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqL1xuZnVuY3Rpb24gY3JlYXRlRkFTVEVsZW1lbnQoQmFzZVR5cGUpIHtcbiAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBCYXNlVHlwZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICovXG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgQ29udHJvbGxlci5mb3JDdXN0b21FbGVtZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgICRlbWl0KHR5cGUsIGRldGFpbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGZhc3RDb250cm9sbGVyLmVtaXQodHlwZSwgZGV0YWlsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoaXMuJGZhc3RDb250cm9sbGVyLm9uQ29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoaXMuJGZhc3RDb250cm9sbGVyLm9uRGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLiRmYXN0Q29udHJvbGxlci5vbkF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQSBtaW5pbWFsIGJhc2UgY2xhc3MgZm9yIEZBU1RFbGVtZW50cyB0aGF0IGFsc28gcHJvdmlkZXNcbiAqIHN0YXRpYyBoZWxwZXJzIGZvciB3b3JraW5nIHdpdGggRkFTVEVsZW1lbnRzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRkFTVEVsZW1lbnQgPSBPYmplY3QuYXNzaWduKGNyZWF0ZUZBU1RFbGVtZW50KEhUTUxFbGVtZW50KSwge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgRkFTVEVsZW1lbnQgYmFzZSBjbGFzcyBpbmhlcml0ZWQgZnJvbSB0aGVcbiAgICAgKiBwcm92aWRlZCBiYXNlIHR5cGUuXG4gICAgICogQHBhcmFtIEJhc2VUeXBlIC0gVGhlIGJhc2UgZWxlbWVudCB0eXBlIHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKi9cbiAgICBmcm9tKEJhc2VUeXBlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGQVNURWxlbWVudChCYXNlVHlwZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGEgcGxhdGZvcm0gY3VzdG9tIGVsZW1lbnQgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHR5cGUgYW5kIGRlZmluaXRpb24uXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgY3VzdG9tIGVsZW1lbnQgdHlwZSB0byBkZWZpbmUuXG4gICAgICogQHBhcmFtIG5hbWVPckRlZiAtIFRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IHRvIGRlZmluZSBvciBhIGRlZmluaXRpb24gb2JqZWN0XG4gICAgICogdGhhdCBkZXNjcmliZXMgdGhlIGVsZW1lbnQgdG8gZGVmaW5lLlxuICAgICAqL1xuICAgIGRlZmluZSh0eXBlLCBuYW1lT3JEZWYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGQVNURWxlbWVudERlZmluaXRpb24odHlwZSwgbmFtZU9yRGVmKS5kZWZpbmUoKS50eXBlO1xuICAgIH0sXG59KTtcbi8qKlxuICogRGVjb3JhdG9yOiBEZWZpbmVzIGEgcGxhdGZvcm0gY3VzdG9tIGVsZW1lbnQgYmFzZWQgb24gYEZBU1RFbGVtZW50YC5cbiAqIEBwYXJhbSBuYW1lT3JEZWYgLSBUaGUgbmFtZSBvZiB0aGUgZWxlbWVudCB0byBkZWZpbmUgb3IgYSBkZWZpbml0aW9uIG9iamVjdFxuICogdGhhdCBkZXNjcmliZXMgdGhlIGVsZW1lbnQgdG8gZGVmaW5lLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tRWxlbWVudChuYW1lT3JEZWYpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LWZ1bmN0aW9uLXJldHVybi10eXBlICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIG5ldyBGQVNURWxlbWVudERlZmluaXRpb24odHlwZSwgbmFtZU9yRGVmKS5kZWZpbmUoKTtcbiAgICB9O1xufVxuIiwiLyoqXG4gKiBEaXJlY3RpdmUgZm9yIHVzZSBpbiB7QGxpbmsgY3NzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBDU1NEaXJlY3RpdmUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDU1MgZnJhZ21lbnQgdG8gaW50ZXJwb2xhdGUgaW50byB0aGUgQ1NTIGRvY3VtZW50LlxuICAgICAqIEByZXR1cm5zIC0gdGhlIHN0cmluZyB0byBpbnRlcnBvbGF0ZSBpbnRvIENTU1xuICAgICAqL1xuICAgIGNyZWF0ZUNTUygpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiZWhhdmlvciB0byBiaW5kIHRvIHRoZSBob3N0IGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgLSB0aGUgYmVoYXZpb3IgdG8gYmluZCB0byB0aGUgaG9zdCBlbGVtZW50LCBvciB1bmRlZmluZWQuXG4gICAgICovXG4gICAgY3JlYXRlQmVoYXZpb3IoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ1NTRGlyZWN0aXZlIH0gZnJvbSBcIi4vY3NzLWRpcmVjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgRWxlbWVudFN0eWxlcyB9IGZyb20gXCIuL2VsZW1lbnQtc3R5bGVzLmpzXCI7XG5mdW5jdGlvbiBjb2xsZWN0U3R5bGVzKHN0cmluZ3MsIHZhbHVlcykge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIGxldCBjc3NTdHJpbmcgPSBcIlwiO1xuICAgIGNvbnN0IGJlaGF2aW9ycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY3NzU3RyaW5nICs9IHN0cmluZ3NbaV07XG4gICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IHZhbHVlLmNyZWF0ZUJlaGF2aW9yKCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmNyZWF0ZUNTUygpO1xuICAgICAgICAgICAgaWYgKGJlaGF2aW9yKSB7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3JzLnB1c2goYmVoYXZpb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRTdHlsZXMgfHwgdmFsdWUgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICBpZiAoY3NzU3RyaW5nLnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKGNzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgY3NzU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNzc1N0cmluZyArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjc3NTdHJpbmcgKz0gc3RyaW5nc1tzdHJpbmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChjc3NTdHJpbmcudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKGNzc1N0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgYmVoYXZpb3JzLFxuICAgIH07XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHN0cmluZyBpbnRvIHN0eWxlcy5cbiAqIEBwYXJhbSBzdHJpbmdzIC0gVGhlIHN0cmluZyBmcmFnbWVudHMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIHdpdGggdGhlIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgYXJlIGludGVycG9sYXRlZCB3aXRoIHRoZSBzdHJpbmcgZnJhZ21lbnRzLlxuICogQHJlbWFya3NcbiAqIFRoZSBjc3MgaGVscGVyIHN1cHBvcnRzIGludGVycG9sYXRpb24gb2Ygc3RyaW5ncyBhbmQgRWxlbWVudFN0eWxlIGluc3RhbmNlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzcyhzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zdCB7IHN0eWxlcywgYmVoYXZpb3JzIH0gPSBjb2xsZWN0U3R5bGVzKHN0cmluZ3MsIHZhbHVlcyk7XG4gICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IEVsZW1lbnRTdHlsZXMuY3JlYXRlKHN0eWxlcyk7XG4gICAgaWYgKGJlaGF2aW9ycy5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcy53aXRoQmVoYXZpb3JzKC4uLmJlaGF2aW9ycyk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50U3R5bGVzO1xufVxuY2xhc3MgQ1NTUGFydGlhbCBleHRlbmRzIENTU0RpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGVzLCBiZWhhdmlvcnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iZWhhdmlvcnMgPSBiZWhhdmlvcnM7XG4gICAgICAgIHRoaXMuY3NzID0gXCJcIjtcbiAgICAgICAgY29uc3Qgc3R5bGVzaGVldHMgPSBzdHlsZXMucmVkdWNlKChhY2N1bXVsYXRlZCwgY3VycmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jc3MgKz0gY3VycmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjdW11bGF0ZWQ7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgaWYgKHN0eWxlc2hlZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXMgPSBFbGVtZW50U3R5bGVzLmNyZWF0ZShzdHlsZXNoZWV0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQmVoYXZpb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjcmVhdGVDU1MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNzcztcbiAgICB9XG4gICAgYmluZChlbCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZXMpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5hZGRTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJlaGF2aW9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5hZGRCZWhhdmlvcnModGhpcy5iZWhhdmlvcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuYmluZChlbCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZXMpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5yZW1vdmVTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJlaGF2aW9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5yZW1vdmVCZWhhdmlvcnModGhpcy5iZWhhdmlvcnMpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgdGVtcGxhdGUgbGl0ZXJhbCBzdHJpbmcgaW50byBwYXJ0aWFsIENTUy5cbiAqIEBwYXJhbSBzdHJpbmdzIC0gVGhlIHN0cmluZyBmcmFnbWVudHMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIHdpdGggdGhlIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgYXJlIGludGVycG9sYXRlZCB3aXRoIHRoZSBzdHJpbmcgZnJhZ21lbnRzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzUGFydGlhbChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zdCB7IHN0eWxlcywgYmVoYXZpb3JzIH0gPSBjb2xsZWN0U3R5bGVzKHN0cmluZ3MsIHZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBDU1NQYXJ0aWFsKHN0eWxlcywgYmVoYXZpb3JzKTtcbn1cbiIsImltcG9ydCB7IEF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlIH0gZnJvbSBcIi4vaHRtbC1kaXJlY3RpdmUuanNcIjtcbi8qKlxuICogVGhlIHJ1bnRpbWUgYmVoYXZpb3IgZm9yIHRlbXBsYXRlIHJlZmVyZW5jZXMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZCZWhhdmlvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBSZWZCZWhhdmlvci5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGVsZW1lbnQgdG8gcmVmZXJlbmNlLlxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduIHRoZSByZWZlcmVuY2UgdG8uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoaXMgYmVoYXZpb3IgdG8gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBiaW5kIHRvLlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGV4ZWN1dGlvbiBjb250ZXh0IHRoYXQgdGhlIGJpbmRpbmcgaXMgb3BlcmF0aW5nIHdpdGhpbi5cbiAgICAgKi9cbiAgICBiaW5kKHNvdXJjZSkge1xuICAgICAgICBzb3VyY2VbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdGhpcy50YXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgdGhpcyBiZWhhdmlvciBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gdW5iaW5kIGZyb20uXG4gICAgICovXG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuICAgIHVuYmluZCgpIHsgfVxufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IG9ic2VydmVzIHRoZSB1cGRhdGVzIGEgcHJvcGVydHkgd2l0aCBhIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduIHRoZSByZWZlcmVuY2UgdG8uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWYocHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBBdHRhY2hlZEJlaGF2aW9ySFRNTERpcmVjdGl2ZShcImZhc3QtcmVmXCIsIFJlZkJlaGF2aW9yLCBwcm9wZXJ0eU5hbWUpO1xufVxuIiwiLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IGFuIG9iamVjdCBpcyBhIGZ1bmN0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbiA9IChvYmplY3QpID0+IHR5cGVvZiBvYmplY3QgPT09IFwiZnVuY3Rpb25cIjtcbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy5qc1wiO1xuY29uc3Qgbm9UZW1wbGF0ZSA9ICgpID0+IG51bGw7XG5mdW5jdGlvbiBub3JtYWxpemVCaW5kaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBub1RlbXBsYXRlIDogaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZSA6ICgpID0+IHZhbHVlO1xufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGVuYWJsZXMgYmFzaWMgY29uZGl0aW9uYWwgcmVuZGVyaW5nIGluIGEgdGVtcGxhdGUuXG4gKiBAcGFyYW0gYmluZGluZyAtIFRoZSBjb25kaXRpb24gdG8gdGVzdCBmb3IgcmVuZGVyaW5nLlxuICogQHBhcmFtIHRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmcgLSBUaGUgdGVtcGxhdGUgb3IgYSBiaW5kaW5nIHRoYXQgZ2V0c1xuICogdGhlIHRlbXBsYXRlIHRvIHJlbmRlciB3aGVuIHRoZSBjb25kaXRpb24gaXMgdHJ1ZS5cbiAqIEBwYXJhbSBlbHNlVGVtcGxhdGVPclRlbXBsYXRlQmluZGluZyAtIE9wdGlvbmFsIHRlbXBsYXRlIG9yIGJpbmRpbmcgdGhhdCB0aGF0XG4gKiBnZXRzIHRoZSB0ZW1wbGF0ZSB0byByZW5kZXIgd2hlbiB0aGUgY29uZGl0aW9uYWwgaXMgZmFsc2UuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuKGJpbmRpbmcsIHRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmcsIGVsc2VUZW1wbGF0ZU9yVGVtcGxhdGVCaW5kaW5nKSB7XG4gICAgY29uc3QgZGF0YUJpbmRpbmcgPSBpc0Z1bmN0aW9uKGJpbmRpbmcpID8gYmluZGluZyA6ICgpID0+IGJpbmRpbmc7XG4gICAgY29uc3QgdGVtcGxhdGVCaW5kaW5nID0gbm9ybWFsaXplQmluZGluZyh0ZW1wbGF0ZU9yVGVtcGxhdGVCaW5kaW5nKTtcbiAgICBjb25zdCBlbHNlQmluZGluZyA9IG5vcm1hbGl6ZUJpbmRpbmcoZWxzZVRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmcpO1xuICAgIHJldHVybiAoc291cmNlLCBjb250ZXh0KSA9PiBkYXRhQmluZGluZyhzb3VyY2UsIGNvbnRleHQpXG4gICAgICAgID8gdGVtcGxhdGVCaW5kaW5nKHNvdXJjZSwgY29udGV4dClcbiAgICAgICAgOiBlbHNlQmluZGluZyhzb3VyY2UsIGNvbnRleHQpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBlbXB0eUFycmF5IH0gZnJvbSBcIi4uL3BsYXRmb3JtLmpzXCI7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBhIE5vZGUgYXJyYXksIHNlbGVjdGluZyBvbmx5IGVsZW1lbnRzLlxuICogQHBhcmFtIHNlbGVjdG9yIC0gQW4gb3B0aW9uYWwgc2VsZWN0b3IgdG8gcmVzdHJpY3QgdGhlIGZpbHRlciB0by5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm5vZGVUeXBlID09PSAxICYmIHZhbHVlLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm5vZGVUeXBlID09PSAxO1xuICAgIH07XG59XG4vKipcbiAqIEEgYmFzZSBjbGFzcyBmb3Igbm9kZSBvYnNlcnZhdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTm9kZU9ic2VydmF0aW9uQmVoYXZpb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgTm9kZU9ic2VydmF0aW9uQmVoYXZpb3IuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgdG8gYXNzaWduIHRoZSBub2RlcyBwcm9wZXJ0eSBvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHRvIHVzZSBpbiBjb25maWd1cmluZyBub2RlIG9ic2VydmF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoaXMgYmVoYXZpb3IgdG8gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBiaW5kIHRvLlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGV4ZWN1dGlvbiBjb250ZXh0IHRoYXQgdGhlIGJpbmRpbmcgaXMgb3BlcmF0aW5nIHdpdGhpbi5cbiAgICAgKi9cbiAgICBiaW5kKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5vcHRpb25zLnByb3BlcnR5O1xuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IE9ic2VydmFibGUuZ2V0QWNjZXNzb3JzKHNvdXJjZSkuc29tZSgoeCkgPT4geC5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KHRoaXMuY29tcHV0ZU5vZGVzKCkpO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgdGhpcyBiZWhhdmlvciBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gdW5iaW5kIGZyb20uXG4gICAgICovXG4gICAgdW5iaW5kKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldChlbXB0eUFycmF5KTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBoYW5kbGVFdmVudCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodGhpcy5jb21wdXRlTm9kZXMoKSk7XG4gICAgfVxuICAgIGNvbXB1dGVOb2RlcygpIHtcbiAgICAgICAgbGV0IG5vZGVzID0gdGhpcy5nZXROb2RlcygpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpbHRlciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub2RlcyA9IG5vZGVzLmZpbHRlcih0aGlzLm9wdGlvbnMuZmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvdXJjZVt0aGlzLm9wdGlvbnMucHJvcGVydHldID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXR0YWNoZWRCZWhhdmlvckhUTUxEaXJlY3RpdmUgfSBmcm9tIFwiLi9odG1sLWRpcmVjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgTm9kZU9ic2VydmF0aW9uQmVoYXZpb3IgfSBmcm9tIFwiLi9ub2RlLW9ic2VydmF0aW9uLmpzXCI7XG4vKipcbiAqIFRoZSBydW50aW1lIGJlaGF2aW9yIGZvciBzbG90dGVkIG5vZGUgb2JzZXJ2YXRpb24uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTbG90dGVkQmVoYXZpb3IgZXh0ZW5kcyBOb2RlT2JzZXJ2YXRpb25CZWhhdmlvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBTbG90dGVkQmVoYXZpb3IuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSBzbG90IGVsZW1lbnQgdGFyZ2V0IHRvIG9ic2VydmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyB0byB1c2Ugd2hlbiBvYnNlcnZpbmcgdGhlIHNsb3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2lucyBvYnNlcnZhdGlvbiBvZiB0aGUgbm9kZXMuXG4gICAgICovXG4gICAgb2JzZXJ2ZSgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInNsb3RjaGFuZ2VcIiwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIG9ic2VydmF0aW9uIG9mIHRoZSBub2Rlcy5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2xvdGNoYW5nZVwiLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBub2RlcyB0aGF0IHNob3VsZCBiZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxuICAgICAqL1xuICAgIGdldE5vZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuYXNzaWduZWROb2Rlcyh0aGlzLm9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogQSBkaXJlY3RpdmUgdGhhdCBvYnNlcnZlcyB0aGUgYGFzc2lnbmVkTm9kZXMoKWAgb2YgYSBzbG90IGFuZCB1cGRhdGVzIGEgcHJvcGVydHlcbiAqIHdoZW5ldmVyIHRoZXkgY2hhbmdlLlxuICogQHBhcmFtIHByb3BlcnR5T3JPcHRpb25zIC0gVGhlIG9wdGlvbnMgdXNlZCB0byBjb25maWd1cmUgc2xvdHRlZCBub2RlIG9ic2VydmF0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2xvdHRlZChwcm9wZXJ0eU9yT3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgcHJvcGVydHlPck9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcHJvcGVydHlPck9wdGlvbnMgPSB7IHByb3BlcnR5OiBwcm9wZXJ0eU9yT3B0aW9ucyB9O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlKFwiZmFzdC1zbG90dGVkXCIsIFNsb3R0ZWRCZWhhdmlvciwgcHJvcGVydHlPck9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IHsgaHRtbCwgcmVmIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG4vKipcbiAqIEEgbWl4aW4gY2xhc3MgaW1wbGVtZW50aW5nIHN0YXJ0IGFuZCBlbmQgZWxlbWVudHMuXG4gKiBUaGVzZSBhcmUgZ2VuZXJhbGx5IHVzZWQgdG8gZGVjb3JhdGUgdGV4dCBlbGVtZW50cyB3aXRoIGljb25zIG9yIG90aGVyIHZpc3VhbCBpbmRpY2F0b3JzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU3RhcnRFbmQge1xuICAgIGhhbmRsZVN0YXJ0Q29udGVudENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwic3RhcnRcIiwgdGhpcy5zdGFydC5hc3NpZ25lZE5vZGVzKCkubGVuZ3RoID4gMCk7XG4gICAgfVxuICAgIGhhbmRsZUVuZENvbnRlbnRDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZW5kQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJlbmRcIiwgdGhpcy5lbmQuYXNzaWduZWROb2RlcygpLmxlbmd0aCA+IDApO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUgZW5kIGVsZW1lbnQuXG4gKiBGb3IgdXNlIHdpdGgge0BsaW5rIFN0YXJ0RW5kfVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGVuZFNsb3RUZW1wbGF0ZSA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBodG1sIGBcbiAgICA8c3BhblxuICAgICAgICBwYXJ0PVwiZW5kXCJcbiAgICAgICAgJHtyZWYoXCJlbmRDb250YWluZXJcIil9XG4gICAgICAgIGNsYXNzPSR7eCA9PiAoZGVmaW5pdGlvbi5lbmQgPyBcImVuZFwiIDogdm9pZCAwKX1cbiAgICA+XG4gICAgICAgIDxzbG90IG5hbWU9XCJlbmRcIiAke3JlZihcImVuZFwiKX0gQHNsb3RjaGFuZ2U9XCIke3ggPT4geC5oYW5kbGVFbmRDb250ZW50Q2hhbmdlKCl9XCI+XG4gICAgICAgICAgICAke2RlZmluaXRpb24uZW5kIHx8IFwiXCJ9XG4gICAgICAgIDwvc2xvdD5cbiAgICA8L3NwYW4+XG5gO1xuLyoqXG4gKiBUaGUgdGVtcGxhdGUgZm9yIHRoZSBzdGFydCBlbGVtZW50LlxuICogRm9yIHVzZSB3aXRoIHtAbGluayBTdGFydEVuZH1cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFydFNsb3RUZW1wbGF0ZSA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBodG1sIGBcbiAgICA8c3BhblxuICAgICAgICBwYXJ0PVwic3RhcnRcIlxuICAgICAgICAke3JlZihcInN0YXJ0Q29udGFpbmVyXCIpfVxuICAgICAgICBjbGFzcz1cIiR7eCA9PiAoZGVmaW5pdGlvbi5zdGFydCA/IFwic3RhcnRcIiA6IHZvaWQgMCl9XCJcbiAgICA+XG4gICAgICAgIDxzbG90XG4gICAgICAgICAgICBuYW1lPVwic3RhcnRcIlxuICAgICAgICAgICAgJHtyZWYoXCJzdGFydFwiKX1cbiAgICAgICAgICAgIEBzbG90Y2hhbmdlPVwiJHt4ID0+IHguaGFuZGxlU3RhcnRDb250ZW50Q2hhbmdlKCl9XCJcbiAgICAgICAgPlxuICAgICAgICAgICAgJHtkZWZpbml0aW9uLnN0YXJ0IHx8IFwiXCJ9XG4gICAgICAgIDwvc2xvdD5cbiAgICA8L3NwYW4+XG5gO1xuLyoqXG4gKiBUaGUgdGVtcGxhdGUgZm9yIHRoZSBlbmQgZWxlbWVudC5cbiAqIEZvciB1c2Ugd2l0aCB7QGxpbmsgU3RhcnRFbmR9XG4gKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgLSB1c2UgZW5kU2xvdFRlbXBsYXRlXG4gKi9cbmV4cG9ydCBjb25zdCBlbmRUZW1wbGF0ZSA9IGh0bWwgYFxuICAgIDxzcGFuIHBhcnQ9XCJlbmRcIiAke3JlZihcImVuZENvbnRhaW5lclwiKX0+XG4gICAgICAgIDxzbG90XG4gICAgICAgICAgICBuYW1lPVwiZW5kXCJcbiAgICAgICAgICAgICR7cmVmKFwiZW5kXCIpfVxuICAgICAgICAgICAgQHNsb3RjaGFuZ2U9XCIke3ggPT4geC5oYW5kbGVFbmRDb250ZW50Q2hhbmdlKCl9XCJcbiAgICAgICAgPjwvc2xvdD5cbiAgICA8L3NwYW4+XG5gO1xuLyoqXG4gKiBUaGUgdGVtcGxhdGUgZm9yIHRoZSBzdGFydCBlbGVtZW50LlxuICogRm9yIHVzZSB3aXRoIHtAbGluayBTdGFydEVuZH1cbiAqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCAtIHVzZSBzdGFydFNsb3RUZW1wbGF0ZVxuICovXG5leHBvcnQgY29uc3Qgc3RhcnRUZW1wbGF0ZSA9IGh0bWwgYFxuICAgIDxzcGFuIHBhcnQ9XCJzdGFydFwiICR7cmVmKFwic3RhcnRDb250YWluZXJcIil9PlxuICAgICAgICA8c2xvdFxuICAgICAgICAgICAgbmFtZT1cInN0YXJ0XCJcbiAgICAgICAgICAgICR7cmVmKFwic3RhcnRcIil9XG4gICAgICAgICAgICBAc2xvdGNoYW5nZT1cIiR7eCA9PiB4LmhhbmRsZVN0YXJ0Q29udGVudENoYW5nZSgpfVwiXG4gICAgICAgID48L3Nsb3Q+XG4gICAgPC9zcGFuPlxuYDtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8qKlxuICogQmlnIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vZmtsZXV2ZXIgYW5kIHRoZSBodHRwczovL2dpdGh1Yi5jb20vYXVyZWxpYS9hdXJlbGlhIHByb2plY3RcbiAqIGZvciB0aGUgYnVsayBvZiB0aGlzIGNvZGUgYW5kIG1hbnkgb2YgdGhlIGFzc29jaWF0ZWQgdGVzdHMuXG4gKi9cbmltcG9ydCB7IGVtcHR5QXJyYXksIEZBU1RFbGVtZW50IH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG4vLyBUaW55IHBvbHlmaWxsIGZvciBUeXBlU2NyaXB0J3MgUmVmbGVjdCBtZXRhZGF0YSBBUEkuXG5jb25zdCBtZXRhZGF0YUJ5VGFyZ2V0ID0gbmV3IE1hcCgpO1xuaWYgKCEoXCJtZXRhZGF0YVwiIGluIFJlZmxlY3QpKSB7XG4gICAgUmVmbGVjdC5tZXRhZGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKGtleSwgdmFsdWUsIHRhcmdldCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHRhcmdldCkge1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSBtZXRhZGF0YUJ5VGFyZ2V0LmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAobWV0YWRhdGEgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbWV0YWRhdGFCeVRhcmdldC5zZXQodGFyZ2V0LCAobWV0YWRhdGEgPSBuZXcgTWFwKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBtZXRhZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZWZsZWN0LmdldE93bk1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSwgdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gbWV0YWRhdGFCeVRhcmdldC5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKG1ldGFkYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH07XG59XG4vKipcbiAqIEEgdXRpbGl0eSBjbGFzcyB1c2VkIHRoYXQgY29uc3RydWN0cyBhbmQgcmVnaXN0ZXJzIHJlc29sdmVycyBmb3IgYSBkZXBlbmRlbmN5XG4gKiBpbmplY3Rpb24gY29udGFpbmVyLiBTdXBwb3J0cyBhIHN0YW5kYXJkIHNldCBvZiBvYmplY3QgbGlmZXRpbWVzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUmVzb2x2ZXJCdWlsZGVyIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIGNyZWF0ZSByZXNvbHZlcnMgZm9yLlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIHJlZ2lzdGVyIHJlc29sdmVycyB1bmRlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIGtleSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZXNvbHZlciBmb3IgYW4gZXhpc3Rpbmcgb2JqZWN0IGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBpbnN0YW5jZSB0byByZXNvbHZlLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBpbnN0YW5jZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDAgLyogaW5zdGFuY2UgKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgZW5mb3JjZXMgYSBzaW5nbGV0b24gbGlmZXRpbWUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHR5cGUgdG8gY3JlYXRlIGFuZCBjYWNoZSB0aGUgc2luZ2xldG9uIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzb2x2ZXIuXG4gICAgICovXG4gICAgc2luZ2xldG9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoMSAvKiBzaW5nbGV0b24gKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBmb3IgZXZlcnkgZGVwZW5kZW5jeSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB0eXBlIHRvIGNyZWF0ZSBpbnN0YW5jZXMgb2YuXG4gICAgICogQHJldHVybnMgLSBUaGUgcmVzb2x2ZXIuXG4gICAgICovXG4gICAgdHJhbnNpZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoMiAvKiB0cmFuc2llbnQgKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgaW52b2tlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBldmVyeSBkZXBlbmRlbmN5IHJlc29sdXRpb25cbiAgICAgKiByZXF1ZXN0LCBhbGxvd2luZyBjdXN0b20gbG9naWMgdG8gcmV0dXJuIHRoZSBkZXBlbmRlbmN5LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBjYWxsYmFjayB0byBjYWxsIGR1cmluZyByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBjYWxsYmFjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDMgLyogY2FsbGJhY2sgKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgaW52b2tlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRoZSBmaXJzdCB0aW1lIHRoYXQgYSBkZXBlbmRlbmN5XG4gICAgICogcmVzb2x1dGlvbiBpcyByZXF1ZXN0ZWQuIFRoZSByZXR1cm5lZCB2YWx1ZSBpcyB0aGVuIGNhY2hlZCBhbmQgcHJvdmlkZWQgZm9yIGFsbFxuICAgICAqIHN1YnNlcXVlbnQgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGNhbGxiYWNrIHRvIGNhbGwgZHVyaW5nIHRoZSBmaXJzdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBjYWNoZWRDYWxsYmFjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDMgLyogY2FsbGJhY2sgKi8sIGNhY2hlQ2FsbGJhY2tSZXN1bHQodmFsdWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXNlcyB0aGUgY3VycmVudCBrZXkgdG8gYSBkaWZmZXJlbnQga2V5LlxuICAgICAqIEBwYXJhbSBkZXN0aW5hdGlvbktleSAtIFRoZSBrZXkgdG8gcG9pbnQgdGhlIGFsaWFzIHRvLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBhbGlhc1RvKGRlc3RpbmF0aW9uS2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoNSAvKiBhbGlhcyAqLywgZGVzdGluYXRpb25LZXkpO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKHN0cmF0ZWd5LCBzdGF0ZSkge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwga2V5IH0gPSB0aGlzO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMua2V5ID0gKHZvaWQgMCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcihrZXksIG5ldyBSZXNvbHZlckltcGwoa2V5LCBzdHJhdGVneSwgc3RhdGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoc291cmNlKSB7XG4gICAgY29uc3QgY2xvbmUgPSBzb3VyY2Uuc2xpY2UoKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKCFpc0FycmF5SW5kZXgoa2V5KSkge1xuICAgICAgICAgICAgY2xvbmVba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbn1cbi8qKlxuICogQSBzZXQgb2YgZGVmYXVsdCByZXNvbHZlcnMgdXNlZnVsIGluIGNvbmZpZ3VyaW5nIGEgY29udGFpbmVyLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdFJlc29sdmVyID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYXV0by1yZWdpc3RyYXRpb24gYW5kIHRocm93cyBmb3IgYWxsIHVuLXJlZ2lzdGVyZWQgZGVwZW5kZW5jaWVzLlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIGNyZWF0ZSB0aGUgcmVzb2x2ZXIgZm9yLlxuICAgICAqL1xuICAgIG5vbmUoa2V5KSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke2tleS50b1N0cmluZygpfSBub3QgcmVnaXN0ZXJlZCwgZGlkIHlvdSBmb3JnZXQgdG8gYWRkIEBzaW5nbGV0b24oKT9gKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGRlZmF1bHQgc2luZ2xldG9uIHJlc29sdXRpb24gYmVoYXZpb3IgZHVyaW5nIGF1dG8tcmVnaXN0cmF0aW9uLlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIGNyZWF0ZSB0aGUgcmVzb2x2ZXIgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBzaW5nbGV0b24oa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMSAvKiBzaW5nbGV0b24gKi8sIGtleSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBkZWZhdWx0IHRyYW5zaWVudCByZXNvbHV0aW9uIGJlaGF2aW9yIGR1cmluZyBhdXRvLXJlZ2lzdHJhdGlvbi5cbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBjcmVhdGUgdGhlIHJlc29sdmVyIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzb2x2ZXIuXG4gICAgICovXG4gICAgdHJhbnNpZW50KGtleSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc29sdmVySW1wbChrZXksIDIgLyogdHJhbnNpZW50ICovLCBrZXkpO1xuICAgIH0sXG59KTtcbi8qKlxuICogQ29uZmlndXJhdGlvbiBmb3IgYSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBDb250YWluZXJDb25maWd1cmF0aW9uID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiB1c2VkIHdoZW4gY3JlYXRpbmcgYSBET00tZGlzY29ubmVjdGVkIGNvbnRhaW5lci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoZSBkZWZhdWx0IGNyZWF0ZXMgYSByb290IGNvbnRhaW5lciwgd2l0aCBubyBwYXJlbnQgY29udGFpbmVyLiBJdCBkb2VzIG5vdCBoYW5kbGVcbiAgICAgKiBvd25lciByZXF1ZXN0cyBhbmQgaXQgdXNlcyBzaW5nbGV0b24gcmVzb2x1dGlvbiBiZWhhdmlvciBmb3IgYXV0by1yZWdpc3RyYXRpb24uXG4gICAgICovXG4gICAgZGVmYXVsdDogT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIHBhcmVudExvY2F0b3I6ICgpID0+IG51bGwsXG4gICAgICAgIHJlc3BvbnNpYmxlRm9yT3duZXJSZXF1ZXN0czogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRSZXNvbHZlcjogRGVmYXVsdFJlc29sdmVyLnNpbmdsZXRvbixcbiAgICB9KSxcbn0pO1xuY29uc3QgZGVwZW5kZW5jeUxvb2t1cCA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldFBhcmFtVHlwZXMoa2V5KSB7XG4gICAgcmV0dXJuIChUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldE93bk1ldGFkYXRhKGtleSwgVHlwZSk7XG4gICAgfTtcbn1cbmxldCByb290RE9NQ29udGFpbmVyID0gbnVsbDtcbi8qKlxuICogVGhlIGdhdGV3YXkgdG8gZGVwZW5kZW5jeSBpbmplY3Rpb24gQVBJcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERJID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIEEgbmV3bHkgY3JlYXRlZCBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuXG4gICAgICovXG4gICAgY3JlYXRlQ29udGFpbmVyKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5lckltcGwobnVsbCwgT2JqZWN0LmFzc2lnbih7fSwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5kZWZhdWx0LCBjb25maWcpKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyBkZXBlbmRlbmNpZXNcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBmaW5kIHRoZSByZXNwb25zaWJsZSBjb250YWluZXIgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb250YWluZXIgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyBkZXBlbmRlbmNpZXMgdG8gdGhlIG5vZGUuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHBhcmVudCBjb250YWluZXIgaWYgdGhlIHNwZWNpZmllZCBub2RlXG4gICAgICogZG9lcyBub3QgaXRzZWxmIGhvc3QgYSBjb250YWluZXIgY29uZmlndXJlZCB3aXRoIHJlc3BvbnNpYmxlRm9yT3duZXJSZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBmaW5kUmVzcG9uc2libGVDb250YWluZXIobm9kZSkge1xuICAgICAgICBjb25zdCBvd25lZCA9IG5vZGUuJCRjb250YWluZXIkJDtcbiAgICAgICAgaWYgKG93bmVkICYmIG93bmVkLnJlc3BvbnNpYmxlRm9yT3duZXJSZXF1ZXN0cykge1xuICAgICAgICAgICAgcmV0dXJuIG93bmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBESS5maW5kUGFyZW50Q29udGFpbmVyKG5vZGUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIHVwIHRoZSBET00gdHJlZSBmcm9tIHRoaXMgbm9kZS5cbiAgICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIHRvIGZpbmQgdGhlIHBhcmVudCBjb250YWluZXIgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBwYXJlbnQgY29udGFpbmVyIG9mIHRoaXMgbm9kZS5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgcmVzcG9uc2libGUgY29udGFpbmVyIGlmIHRoZSBzcGVjaWZpZWQgbm9kZVxuICAgICAqIGRvZXMgbm90IGl0c2VsZiBob3N0IGEgY29udGFpbmVyIGNvbmZpZ3VyZWQgd2l0aCByZXNwb25zaWJsZUZvck93bmVyUmVxdWVzdHMuXG4gICAgICovXG4gICAgZmluZFBhcmVudENvbnRhaW5lcihub2RlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KERJTG9jYXRlUGFyZW50RXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7IGNvbnRhaW5lcjogdm9pZCAwIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gZXZlbnQuZGV0YWlsLmNvbnRhaW5lciB8fCBESS5nZXRPckNyZWF0ZURPTUNvbnRhaW5lcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciBpZiBvbmUgaXMgZXhwbGljaXRseSBvd25lZCBieSB0aGUgc3BlY2lmaWVkXG4gICAgICogbm9kZS4gSWYgb25lIGlzIG5vdCBvd25lZCwgdGhlbiBhIG5ldyBjb250YWluZXIgaXMgY3JlYXRlZCBhbmQgYXNzaWduZWQgdG8gdGhlIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBmaW5kIG9yIGNyZWF0ZSB0aGUgY29udGFpbmVyIGZvci5cbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb250YWluZXIgaWYgb25lIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gICAgICogQHJldHVybnMgVGhlIGxvY2F0ZWQgb3IgY3JlYXRlZCBjb250YWluZXIuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIEFQSSBkb2VzIG5vdCBzZWFyY2ggZm9yIGEgcmVzcG9uc2libGUgb3IgcGFyZW50IGNvbnRhaW5lci4gSXQgbG9va3Mgb25seSBmb3IgYSBjb250YWluZXJcbiAgICAgKiBkaXJlY3RseSBkZWZpbmVkIG9uIHRoZSBzcGVjaWZpZWQgbm9kZSBhbmQgY3JlYXRlcyBvbmUgYXQgdGhhdCBsb2NhdGlvbiBpZiBvbmUgZG9lcyBub3RcbiAgICAgKiBhbHJlYWR5IGV4aXN0LlxuICAgICAqL1xuICAgIGdldE9yQ3JlYXRlRE9NQ29udGFpbmVyKG5vZGUsIGNvbmZpZykge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAocm9vdERPTUNvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAgIChyb290RE9NQ29udGFpbmVyID0gbmV3IENvbnRhaW5lckltcGwobnVsbCwgT2JqZWN0LmFzc2lnbih7fSwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5kZWZhdWx0LCBjb25maWcsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50TG9jYXRvcjogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG5vZGUuJCRjb250YWluZXIkJCB8fFxuICAgICAgICAgICAgbmV3IENvbnRhaW5lckltcGwobm9kZSwgT2JqZWN0LmFzc2lnbih7fSwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5kZWZhdWx0LCBjb25maWcsIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRMb2NhdG9yOiBESS5maW5kUGFyZW50Q29udGFpbmVyLFxuICAgICAgICAgICAgfSkpKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIFwiZGVzaWduOnBhcmFtdHlwZXNcIiBtZXRhZGF0YSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlLlxuICAgICAqIEBwYXJhbSBUeXBlIC0gVGhlIHR5cGUgdG8gZ2V0IHRoZSBtZXRhZGF0YSBmb3IuXG4gICAgICogQHJldHVybnMgVGhlIG1ldGFkYXRhIGFycmF5IG9yIHVuZGVmaW5lZCBpZiBubyBtZXRhZGF0YSBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBnZXREZXNpZ25QYXJhbXR5cGVzOiBnZXRQYXJhbVR5cGVzKFwiZGVzaWduOnBhcmFtdHlwZXNcIiksXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgXCJkaTpwYXJhbXR5cGVzXCIgbWV0YWRhdGEgZm9yIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAgICAgKiBAcGFyYW0gVHlwZSAtIFRoZSB0eXBlIHRvIGdldCB0aGUgbWV0YWRhdGEgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSBhcnJheSBvciB1bmRlZmluZWQgaWYgbm8gbWV0YWRhdGEgaXMgZm91bmQuXG4gICAgICovXG4gICAgZ2V0QW5ub3RhdGlvblBhcmFtdHlwZXM6IGdldFBhcmFtVHlwZXMoXCJkaTpwYXJhbXR5cGVzXCIpLFxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIFR5cGUgLSBHZXRzIHRoZSBcImRpOnBhcmFtdHlwZXNcIiBtZXRhZGF0YSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlLiBJZiBub25lIGlzIGZvdW5kLFxuICAgICAqIGFuIGVtcHR5IG1ldGFkYXRhIGFycmF5IGlzIGNyZWF0ZWQgYW5kIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSBhcnJheS5cbiAgICAgKi9cbiAgICBnZXRPckNyZWF0ZUFubm90YXRpb25QYXJhbVR5cGVzKFR5cGUpIHtcbiAgICAgICAgbGV0IGFubm90YXRpb25QYXJhbXR5cGVzID0gdGhpcy5nZXRBbm5vdGF0aW9uUGFyYW10eXBlcyhUeXBlKTtcbiAgICAgICAgaWYgKGFubm90YXRpb25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJkaTpwYXJhbXR5cGVzXCIsIChhbm5vdGF0aW9uUGFyYW10eXBlcyA9IFtdKSwgVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFubm90YXRpb25QYXJhbXR5cGVzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVwZW5kZW5jeSBrZXlzIHJlcHJlc2VudGluZyB3aGF0IGlzIG5lZWRlZCB0byBpbnN0YW50aWF0ZSB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gICAgICogQHBhcmFtIFR5cGUgLSBUaGUgdHlwZSB0byBnZXQgdGhlIGRlcGVuZGVuY2llcyBmb3IuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgZGVwZW5kZW5jeSBrZXlzLlxuICAgICAqL1xuICAgIGdldERlcGVuZGVuY2llcyhUeXBlKSB7XG4gICAgICAgIC8vIE5vdGU6IEV2ZXJ5IGRldGFpbCBvZiB0aGlzIGdldERlcGVuZGVuY2llcyBtZXRob2QgaXMgcHJldHR5IGRlbGliZXJhdGUgYXQgdGhlIG1vbWVudCwgYW5kIHByb2JhYmx5IG5vdCB5ZXQgMTAwJSB0ZXN0ZWQgZnJvbSBldmVyeSBwb3NzaWJsZSBhbmdsZSxcbiAgICAgICAgLy8gc28gYmUgY2FyZWZ1bCB3aXRoIG1ha2luZyBjaGFuZ2VzIGhlcmUgYXMgaXQgY2FuIGhhdmUgYSBodWdlIGltcGFjdCBvbiBjb21wbGV4IGVuZCB1c2VyIGFwcHMuXG4gICAgICAgIC8vIFByZWZlcmFibHksIG9ubHkgbWFrZSBjaGFuZ2VzIHRvIHRoZSBkZXBlbmRlbmN5IHJlc29sdXRpb24gcHJvY2VzcyB2aWEgYSBSRkMuXG4gICAgICAgIGxldCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmN5TG9va3VwLmdldChUeXBlKTtcbiAgICAgICAgaWYgKGRlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAvLyBUeXBlLmxlbmd0aCBpcyB0aGUgbnVtYmVyIG9mIGNvbnN0cnVjdG9yIHBhcmFtZXRlcnMuIElmIHRoaXMgaXMgMCwgaXQgY291bGQgbWVhbiB0aGUgY2xhc3MgaGFzIGFuIGVtcHR5IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAvLyBidXQgaXQgY291bGQgYWxzbyBtZWFuIHRoZSBjbGFzcyBoYXMgbm8gY29uc3RydWN0b3IgYXQgYWxsIChpbiB3aGljaCBjYXNlIGl0IGluaGVyaXRzIHRoZSBjb25zdHJ1Y3RvciBmcm9tIHRoZSBwcm90b3R5cGUpLlxuICAgICAgICAgICAgLy8gTm9uLXplcm8gY29uc3RydWN0b3IgbGVuZ3RoICsgbm8gcGFyYW10eXBlcyBtZWFucyBlbWl0RGVjb3JhdG9yTWV0YWRhdGEgaXMgb2ZmLCBvciB0aGUgY2xhc3MgaGFzIG5vIGRlY29yYXRvci5cbiAgICAgICAgICAgIC8vIFdlJ3JlIG5vdCBkb2luZyBhbnl0aGluZyB3aXRoIHRoZSBhYm92ZSByaWdodCBub3csIGJ1dCBpdCdzIGdvb2QgdG8ga2VlcCBpbiBtaW5kIGZvciBhbnkgZnV0dXJlIGlzc3Vlcy5cbiAgICAgICAgICAgIGNvbnN0IGluamVjdCA9IFR5cGUuaW5qZWN0O1xuICAgICAgICAgICAgaWYgKGluamVjdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVzaWduOnBhcmFtdHlwZXMgaXMgc2V0IGJ5IHRzYyB3aGVuIGVtaXREZWNvcmF0b3JNZXRhZGF0YSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2lnblBhcmFtdHlwZXMgPSBESS5nZXREZXNpZ25QYXJhbXR5cGVzKFR5cGUpO1xuICAgICAgICAgICAgICAgIC8vIGRpOnBhcmFtdHlwZXMgaXMgc2V0IGJ5IHRoZSBwYXJhbWV0ZXIgZGVjb3JhdG9yIGZyb20gREkuY3JlYXRlSW50ZXJmYWNlIG9yIGJ5IEBpbmplY3RcbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IERJLmdldEFubm90YXRpb25QYXJhbXR5cGVzKFR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChkZXNpZ25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZ28gdXAgdGhlIHByb3RvdHlwZSBpZiBuZWl0aGVyIHN0YXRpYyBpbmplY3Qgbm9yIGFueSBvZiB0aGUgcGFyYW10eXBlcyBpcyBkZWZpbmVkLCBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gc291bmQgd2F5IHRvIG1lcmdlIGEgdHlwZSdzIGRlcHMgd2l0aCBpdHMgcHJvdG90eXBlJ3MgZGVwc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFByb3RvID09PSBcImZ1bmN0aW9uXCIgJiYgUHJvdG8gIT09IEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhESS5nZXREZXBlbmRlbmNpZXMoUHJvdG8pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gZGVzaWduOnBhcmFtdHlwZXMgc28ganVzdCB1c2UgdGhlIGRpOnBhcmFtdHlwZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhhbm5vdGF0aW9uUGFyYW10eXBlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYW5ub3RhdGlvblBhcmFtdHlwZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBkaTpwYXJhbXR5cGVzIHNvIGp1c3QgdXNlIHRoZSBkZXNpZ246cGFyYW10eXBlc1xuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoZGVzaWduUGFyYW10eXBlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSd2ZSBnb3QgYm90aCwgc28gbWVyZ2UgdGhlbSAoaW4gY2FzZSBvZiBjb25mbGljdCBvbiBzYW1lIGluZGV4LCBkaTpwYXJhbXR5cGVzIHRha2UgcHJlY2VkZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzKGRlc2lnblBhcmFtdHlwZXMpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuID0gYW5ub3RhdGlvblBhcmFtdHlwZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXVBbm5vdGF0aW9uUGFyYW10eXBlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdUFubm90YXRpb25QYXJhbXR5cGUgPSBhbm5vdGF0aW9uUGFyYW10eXBlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdUFubm90YXRpb25QYXJhbXR5cGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llc1tpXSA9IGF1QW5ub3RhdGlvblBhcmFtdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYW5ub3RhdGlvblBhcmFtdHlwZXMpO1xuICAgICAgICAgICAgICAgICAgICBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBcnJheUluZGV4KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXNba2V5XSA9IGFubm90YXRpb25QYXJhbXR5cGVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcGFyYW10eXBlcyBpZiB3ZSBoYXZlIHN0YXRpYyBpbmplY3RcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoaW5qZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlcGVuZGVuY3lMb29rdXAuc2V0KFR5cGUsIGRlcGVuZGVuY2llcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBwcm9wZXJ0eSBvbiBhIHdlYiBjb21wb25lbnQgY2xhc3MuIFRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IHdpbGxcbiAgICAgKiBiZSByZXNvbHZlZCBmcm9tIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgcmVzcG9uc2libGUgZm9yIHRoZSBlbGVtZW50XG4gICAgICogaW5zdGFuY2UsIGJhc2VkIG9uIHdoZXJlIGl0IGlzIGNvbm5lY3RlZCBpbiB0aGUgRE9NLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IHRvIGRlZmluZSB0aGUgcHJvcGVydHkgb24uXG4gICAgICogQHBhcmFtIHByb3BlcnR5TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBkZWZpbmUuXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBrZXkuXG4gICAgICogQHBhcmFtIHJlc3BlY3RDb25uZWN0aW9uIC0gSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRvIHVwZGF0ZSB0aGUgcHJvcGVydHkgdmFsdWUgaWYgdGhlXG4gICAgICogaG9zdGluZyBjb21wb25lbnQgaXMgZGlzY29ubmVjdGVkIGFuZCB0aGVuIHJlLWNvbm5lY3RlZCBhdCBhIGRpZmZlcmVudCBsb2NhdGlvbiBpbiB0aGUgRE9NLlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhlIHJlc3BlY3RDb25uZWN0aW9uIG9wdGlvbiBpcyBvbmx5IGFwcGxpY2FibGUgdG8gZWxlbWVudHMgdGhhdCBkZXNjZW5kIGZyb20gRkFTVEVsZW1lbnQuXG4gICAgICovXG4gICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGtleSwgcmVzcGVjdENvbm5lY3Rpb24gPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBkaVByb3BlcnR5S2V5ID0gYCRkaV8ke3Byb3BlcnR5TmFtZX1gO1xuICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzW2RpUHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBESS5maW5kUmVzcG9uc2libGVDb250YWluZXIodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogREkuZ2V0T3JDcmVhdGVET01Db250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjb250YWluZXIuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZGlQcm9wZXJ0eUtleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BlY3RDb25uZWN0aW9uICYmIHRoaXMgaW5zdGFuY2VvZiBGQVNURWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSB0aGlzLiRmYXN0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb250YWluZXIgPSBESS5maW5kUmVzcG9uc2libGVDb250YWluZXIodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdDb250YWluZXIuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW2RpUHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tkaVByb3BlcnR5S2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmllci5ub3RpZnkocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKHsgaGFuZGxlQ2hhbmdlIH0sIFwiaXNDb25uZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVwZW5kZW5jeSBpbmplY3Rpb24ga2V5LlxuICAgICAqIEBwYXJhbSBuYW1lQ29uZmlnT3JDYWxsYmFjayAtIEEgZnJpZW5kbHkgbmFtZSBmb3IgdGhlIGtleSBvciBhIGxhbWJkYSB0aGF0IGNvbmZpZ3VyZXMgYVxuICAgICAqIGRlZmF1bHQgcmVzb2x1dGlvbiBmb3IgdGhlIGRlcGVuZGVuY3kuXG4gICAgICogQHBhcmFtIGNvbmZpZ3Vyb3IgLSBJZiBhIGZyaWVuZGx5IG5hbWUgd2FzIHByb3ZpZGVkIGZvciB0aGUgZmlyc3QgcGFyYW1ldGVyLCB0aGVuIGFuIG9wdGlvbmFsXG4gICAgICogbGFtYmRhIHRoYXQgY29uZmlndXJlcyBhIGRlZmF1bHQgcmVzb2x1dGlvbiBmb3IgdGhlIGRlcGVuZGVuY3kgY2FuIGJlIHByb3ZpZGVkIHNlY29uZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBrZXkuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGUgY3JlYXRlZCBrZXkgY2FuIGJlIHVzZWQgYXMgYSBwcm9wZXJ0eSBkZWNvcmF0b3Igb3IgY29uc3RydWN0b3IgcGFyYW1ldGVyIGRlY29yYXRvcixcbiAgICAgKiBpbiBhZGRpdGlvbiB0byBpdHMgc3RhbmRhcmQgdXNlIGluIGFuIGluamVjdCBhcnJheSBvciB0aHJvdWdoIGRpcmVjdCBjb250YWluZXIgQVBJcy5cbiAgICAgKi9cbiAgICBjcmVhdGVJbnRlcmZhY2UobmFtZUNvbmZpZ09yQ2FsbGJhY2ssIGNvbmZpZ3Vyb3IpIHtcbiAgICAgICAgY29uc3QgY29uZmlndXJlID0gdHlwZW9mIG5hbWVDb25maWdPckNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gbmFtZUNvbmZpZ09yQ2FsbGJhY2tcbiAgICAgICAgICAgIDogY29uZmlndXJvcjtcbiAgICAgICAgY29uc3QgZnJpZW5kbHlOYW1lID0gdHlwZW9mIG5hbWVDb25maWdPckNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IG5hbWVDb25maWdPckNhbGxiYWNrXG4gICAgICAgICAgICA6IG5hbWVDb25maWdPckNhbGxiYWNrICYmIFwiZnJpZW5kbHlOYW1lXCIgaW4gbmFtZUNvbmZpZ09yQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICA/IG5hbWVDb25maWdPckNhbGxiYWNrLmZyaWVuZGx5TmFtZSB8fCBkZWZhdWx0RnJpZW5kbHlOYW1lXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0RnJpZW5kbHlOYW1lO1xuICAgICAgICBjb25zdCByZXNwZWN0Q29ubmVjdGlvbiA9IHR5cGVvZiBuYW1lQ29uZmlnT3JDYWxsYmFjayA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiBuYW1lQ29uZmlnT3JDYWxsYmFjayAmJiBcInJlc3BlY3RDb25uZWN0aW9uXCIgaW4gbmFtZUNvbmZpZ09yQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICA/IG5hbWVDb25maWdPckNhbGxiYWNrLnJlc3BlY3RDb25uZWN0aW9uIHx8IGZhbHNlXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgSW50ZXJmYWNlID0gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHksIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwgbmV3LnRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyByZWdpc3RyYXRpb24gZm9yIGludGVyZmFjZTogJyR7SW50ZXJmYWNlLmZyaWVuZGx5TmFtZX0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBESS5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBJbnRlcmZhY2UsIHJlc3BlY3RDb25uZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25QYXJhbXR5cGVzID0gREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2luZGV4XSA9IEludGVyZmFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgSW50ZXJmYWNlLiRpc0ludGVyZmFjZSA9IHRydWU7XG4gICAgICAgIEludGVyZmFjZS5mcmllbmRseU5hbWUgPSBmcmllbmRseU5hbWUgPT0gbnVsbCA/IFwiKGFub255bW91cylcIiA6IGZyaWVuZGx5TmFtZTtcbiAgICAgICAgaWYgKGNvbmZpZ3VyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBJbnRlcmZhY2UucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlndXJlKG5ldyBSZXNvbHZlckJ1aWxkZXIoY29udGFpbmVyLCBrZXkgIT09IG51bGwgJiYga2V5ICE9PSB2b2lkIDAgPyBrZXkgOiBJbnRlcmZhY2UpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgSW50ZXJmYWNlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYEludGVyZmFjZVN5bWJvbDwke0ludGVyZmFjZS5mcmllbmRseU5hbWV9PmA7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBJbnRlcmZhY2U7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBBIGRlY29yYXRvciB0aGF0IHNwZWNpZmllcyB3aGF0IHRvIGluamVjdCBpbnRvIGl0cyB0YXJnZXQuXG4gICAgICogQHBhcmFtIGRlcGVuZGVuY2llcyAtIFRoZSBkZXBlbmRlbmNpZXMgdG8gaW5qZWN0LlxuICAgICAqIEByZXR1cm5zIFRoZSBkZWNvcmF0b3IgdG8gYmUgYXBwbGllZCB0byB0aGUgdGFyZ2V0IGNsYXNzLlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhlIGRlY29yYXRvciBjYW4gYmUgdXNlZCB0byBkZWNvcmF0ZSBhIGNsYXNzLCBsaXN0aW5nIGFsbCBvZiB0aGUgY2xhc3NlcyBkZXBlbmRlbmNpZXMuXG4gICAgICogT3IgaXQgY2FuIGJlIHVzZWQgdG8gZGVjb3JhdGUgYSBjb25zdHJ1Y3RvciBwYXJhbXRlciwgaW5kaWNhdGluZyB3aGF0IHRvIGluamVjdCBmb3IgdGhhdFxuICAgICAqIHBhcmFtZXRlci5cbiAgICAgKiBPciBpdCBjYW4gYmUgdXNlZCBmb3IgYSB3ZWIgY29tcG9uZW50IHByb3BlcnR5LCBpbmRpY2F0aW5nIHdoYXQgdGhhdCBwcm9wZXJ0eSBzaG91bGQgcmVzb2x2ZSB0by5cbiAgICAgKi9cbiAgICBpbmplY3QoLi4uZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvciA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBwYXJhbWV0ZXIgZGVjb3JhdG9yLlxuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25QYXJhbXR5cGVzID0gREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcCA9IGRlcGVuZGVuY2llc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvblBhcmFtdHlwZXNbZGVzY3JpcHRvcl0gPSBkZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgREkuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlcGVuZGVuY2llc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IGRlc2NyaXB0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBESS5nZXRPckNyZWF0ZUFubm90YXRpb25QYXJhbVR5cGVzKGRlc2NyaXB0b3IudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGxldCBkZXA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2ldID0gZGVwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIHRoZSBgdGFyZ2V0YCBjbGFzcyBhcyBhIHRyYW5zaWVudCBkZXBlbmRlbmN5OyBlYWNoIHRpbWUgdGhlIGRlcGVuZGVuY3kgaXMgcmVzb2x2ZWRcbiAgICAgKiBhIG5ldyBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGNsYXNzIC8gY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYXMgdHJhbnNpZW50LlxuICAgICAqIEByZXR1cm5zIFRoZSBzYW1lIGNsYXNzLCB3aXRoIGEgc3RhdGljIGByZWdpc3RlcmAgbWV0aG9kIHRoYXQgdGFrZXMgYSBjb250YWluZXIgYW5kIHJldHVybnMgdGhlIGFwcHJvcHJpYXRlIHJlc29sdmVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBPbiBhbiBleGlzdGluZyBjbGFzc1xuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgRm9vIHsgfVxuICAgICAqIERJLnRyYW5zaWVudChGb28pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBJbmxpbmUgZGVjbGFyYXRpb25cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgRm9vID0gREkudHJhbnNpZW50KGNsYXNzIHsgfSk7XG4gICAgICogLy8gRm9vIGlzIG5vdyBzdHJvbmdseSB0eXBlZCB3aXRoIHJlZ2lzdGVyXG4gICAgICogRm9vLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgdHJhbnNpZW50KHRhcmdldCkge1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IFJlZ2lzdHJhdGlvbi50cmFuc2llbnQodGFyZ2V0LCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICB9O1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXJJblJlcXVlc3RvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIHRoZSBgdGFyZ2V0YCBjbGFzcyBhcyBhIHNpbmdsZXRvbiBkZXBlbmRlbmN5OyB0aGUgY2xhc3Mgd2lsbCBvbmx5IGJlIGNyZWF0ZWQgb25jZS4gRWFjaFxuICAgICAqIGNvbnNlY3V0aXZlIHRpbWUgdGhlIGRlcGVuZGVuY3kgaXMgcmVzb2x2ZWQsIHRoZSBzYW1lIGluc3RhbmNlIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGNsYXNzIC8gY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYXMgYSBzaW5nbGV0b24uXG4gICAgICogQHJldHVybnMgVGhlIHNhbWUgY2xhc3MsIHdpdGggYSBzdGF0aWMgYHJlZ2lzdGVyYCBtZXRob2QgdGhhdCB0YWtlcyBhIGNvbnRhaW5lciBhbmQgcmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgcmVzb2x2ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBPbiBhbiBleGlzdGluZyBjbGFzc1xuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgRm9vIHsgfVxuICAgICAqIERJLnNpbmdsZXRvbihGb28pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBJbmxpbmUgZGVjbGFyYXRpb25cbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IEZvbyA9IERJLnNpbmdsZXRvbihjbGFzcyB7IH0pO1xuICAgICAqIC8vIEZvbyBpcyBub3cgc3Ryb25nbHkgdHlwZWQgd2l0aCByZWdpc3RlclxuICAgICAqIEZvby5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNpbmdsZXRvbih0YXJnZXQsIG9wdGlvbnMgPSBkZWZhdWx0U2luZ2xldG9uT3B0aW9ucykge1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24odGFyZ2V0LCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICB9O1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXJJblJlcXVlc3RvciA9IG9wdGlvbnMuc2NvcGVkO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG59KTtcbi8qKlxuICogVGhlIGludGVyZmFjZSBrZXkgdGhhdCByZXNvbHZlcyB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIGl0c2VsZi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IERJLmNyZWF0ZUludGVyZmFjZShcIkNvbnRhaW5lclwiKTtcbi8qKlxuICogVGhlIGludGVyZmFjZSBrZXkgdGhhdCByZXNvbHZlcyB0aGUgc2VydmljZSBsb2NhdG9yIGl0c2VsZi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNlcnZpY2VMb2NhdG9yID0gQ29udGFpbmVyO1xuZnVuY3Rpb24gY3JlYXRlUmVzb2x2ZXIoZ2V0dGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgREkuaW5qZWN0KHJlc29sdmVyKSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVzb2x2ZXIuJGlzUmVzb2x2ZXIgPSB0cnVlO1xuICAgICAgICByZXNvbHZlci5yZXNvbHZlID0gZnVuY3Rpb24gKGhhbmRsZXIsIHJlcXVlc3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGdldHRlcihrZXksIGhhbmRsZXIsIHJlcXVlc3Rvcik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICB9O1xufVxuLyoqXG4gKiBBIGRlY29yYXRvciB0aGF0IHNwZWNpZmllcyB3aGF0IHRvIGluamVjdCBpbnRvIGl0cyB0YXJnZXQuXG4gKiBAcGFyYW0gZGVwZW5kZW5jaWVzIC0gVGhlIGRlcGVuZGVuY2llcyB0byBpbmplY3QuXG4gKiBAcmV0dXJucyBUaGUgZGVjb3JhdG9yIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHRhcmdldCBjbGFzcy5cbiAqIEByZW1hcmtzXG4gKiBUaGUgZGVjb3JhdG9yIGNhbiBiZSB1c2VkIHRvIGRlY29yYXRlIGEgY2xhc3MsIGxpc3RpbmcgYWxsIG9mIHRoZSBjbGFzc2VzIGRlcGVuZGVuY2llcy5cbiAqIE9yIGl0IGNhbiBiZSB1c2VkIHRvIGRlY29yYXRlIGEgY29uc3RydWN0b3IgcGFyYW10ZXIsIGluZGljYXRpbmcgd2hhdCB0byBpbmplY3QgZm9yIHRoYXRcbiAqIHBhcmFtZXRlci5cbiAqIE9yIGl0IGNhbiBiZSB1c2VkIGZvciBhIHdlYiBjb21wb25lbnQgcHJvcGVydHksIGluZGljYXRpbmcgd2hhdCB0aGF0IHByb3BlcnR5IHNob3VsZCByZXNvbHZlIHRvLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGluamVjdCA9IERJLmluamVjdDtcbmZ1bmN0aW9uIHRyYW5zaWVudERlY29yYXRvcih0YXJnZXQpIHtcbiAgICByZXR1cm4gREkudHJhbnNpZW50KHRhcmdldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpZW50KHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQgPT0gbnVsbCA/IHRyYW5zaWVudERlY29yYXRvciA6IHRyYW5zaWVudERlY29yYXRvcih0YXJnZXQpO1xufVxuY29uc3QgZGVmYXVsdFNpbmdsZXRvbk9wdGlvbnMgPSB7IHNjb3BlZDogZmFsc2UgfTtcbmZ1bmN0aW9uIHNpbmdsZXRvbkRlY29yYXRvcih0YXJnZXQpIHtcbiAgICByZXR1cm4gREkuc2luZ2xldG9uKHRhcmdldCk7XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZXRvbih0YXJnZXRPck9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHRhcmdldE9yT3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBESS5zaW5nbGV0b24odGFyZ2V0T3JPcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBESS5zaW5nbGV0b24oJHRhcmdldCwgdGFyZ2V0T3JPcHRpb25zKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQWxsUmVzb2x2ZXIoZ2V0dGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHNlYXJjaEFuY2VzdG9ycykge1xuICAgICAgICBzZWFyY2hBbmNlc3RvcnMgPSAhIXNlYXJjaEFuY2VzdG9ycztcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgREkuaW5qZWN0KHJlc29sdmVyKSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVzb2x2ZXIuJGlzUmVzb2x2ZXIgPSB0cnVlO1xuICAgICAgICByZXNvbHZlci5yZXNvbHZlID0gZnVuY3Rpb24gKGhhbmRsZXIsIHJlcXVlc3Rvcikge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbiAgICAgICAgICAgIHJldHVybiBnZXR0ZXIoa2V5LCBoYW5kbGVyLCByZXF1ZXN0b3IsIHNlYXJjaEFuY2VzdG9ycyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICB9O1xufVxuLyoqXG4gKiBBIGRlY29yYXRvciBhbmQgREkgcmVzb2x2ZXIgdGhhdCB3aWxsIHJlc29sdmUgYW4gYXJyYXkgb2YgYWxsIGRlcGVuZGVuY2llc1xuICogcmVnaXN0ZXJlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LlxuICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gcmVzb2x2ZSBhbGwgZGVwZW5kZW5jaWVzIGZvci5cbiAqIEBwYXJhbSBzZWFyY2hBbmNlc3RvcnMgLSBbb3B0aW9uYWxdIEluZGljYXRlcyB3aGV0aGVyIHRvIHNlYXJjaCBhbmNlc3RvciBjb250YWluZXJzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYWxsID0gY3JlYXRlQWxsUmVzb2x2ZXIoKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yLCBzZWFyY2hBbmNlc3RvcnMpID0+IHJlcXVlc3Rvci5nZXRBbGwoa2V5LCBzZWFyY2hBbmNlc3RvcnMpKTtcbi8qKlxuICogQSBkZWNvcmF0b3IgdGhhdCBsYXppbHkgaW5qZWN0cyBhIGRlcGVuZGVuY3kgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGBLZXlgIGlzIHByZXNlbnQgYXQgdGhlIHRpbWUgb2YgZnVuY3Rpb24gY2FsbC5cbiAqXG4gKiBAZXhhbXBsZVxuICogWW91IG5lZWQgdG8gbWFrZSB5b3VyIGFyZ3VtZW50IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB0eXBlLCBmb3IgZXhhbXBsZVxuICogYGBgdHNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGNvbnN0cnVjdG9yKCBAbGF6eSgncmFuZG9tJykgcHVibGljIHJhbmRvbTogKCkgPT4gbnVtYmVyIClcbiAqIH1cbiAqIGNvbnN0IGZvbyA9IGNvbnRhaW5lci5nZXQoRm9vKTsgLy8gaW5zdGFuY2VvZiBGb29cbiAqIGZvby5yYW5kb20oKTsgLy8gdGhyb3dzXG4gKiBgYGBcbiAqIHdvdWxkIHRocm93IGFuIGV4Y2VwdGlvbiBiZWNhdXNlIHlvdSBoYXZlbid0IHJlZ2lzdGVyZWQgYCdyYW5kb20nYCBiZWZvcmUgY2FsbGluZyB0aGUgbWV0aG9kLlxuICogQGV4YW1wbGVcbiAqIFRoaXMsIHdvdWxkIGdpdmUgeW91IGEgbmV3ICdNYXRoLnJhbmRvbSgpJyBudW1iZXIgZWFjaCB0aW1lLlxuICogYGBgdHNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGNvbnN0cnVjdG9yKCBAbGF6eSgncmFuZG9tJykgcHVibGljIHJhbmRvbTogKCkgPT4gcmFuZG9tIClcbiAqIH1cbiAqIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uY2FsbGJhY2soJ3JhbmRvbScsIE1hdGgucmFuZG9tICkpO1xuICogY29udGFpbmVyLmdldChGb28pLnJhbmRvbSgpOyAvLyBzb21lIHJhbmRvbSBudW1iZXJcbiAqIGNvbnRhaW5lci5nZXQoRm9vKS5yYW5kb20oKTsgLy8gYW5vdGhlciByYW5kb20gbnVtYmVyXG4gKiBgYGBcbiAqXG4gKiBgQGxhenlgIGRvZXMgbm90IG1hbmFnZSB0aGUgbGlmZWN5Y2xlIG9mIHRoZSB1bmRlcmx5aW5nIGtleS4gSWYgeW91IHdhbnQgYSBzaW5nbGV0b24sIHlvdSBoYXZlIHRvIHJlZ2lzdGVyIGFzIGFcbiAqIGBzaW5nbGV0b25gLCBgdHJhbnNpZW50YCB3b3VsZCBhbHNvIGJlaGF2ZSBhcyB5b3Ugd291bGQgZXhwZWN0LCBwcm92aWRpbmcgeW91IGEgbmV3IGluc3RhbmNlIGVhY2ggdGltZS5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBsYXppbHkgcmVzb2x2ZS5cbiAqIHNlZSB7QGxpbmsgREkuY3JlYXRlSW50ZXJmYWNlfSBvbiBpbnRlcmFjdGlvbnMgd2l0aCBpbnRlcmZhY2VzXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbGF6eSA9IGNyZWF0ZVJlc29sdmVyKChrZXksIGhhbmRsZXIsIHJlcXVlc3RvcikgPT4ge1xuICAgIHJldHVybiAoKSA9PiByZXF1ZXN0b3IuZ2V0KGtleSk7XG59KTtcbi8qKlxuICogQSBkZWNvcmF0b3IgdGhhdCBhbGxvd3MgeW91IHRvIG9wdGlvbmFsbHkgaW5qZWN0IGEgZGVwZW5kZW5jeSBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgW1tgS2V5YF1dIGlzIHByZXNlbnQsIGZvciBleGFtcGxlOlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjbGFzcyBGb28ge1xuICogICBjb25zdHJ1Y3RvciggQGluamVjdCgnbXlzdHJpbmcnKSBwdWJsaWMgc3RyOiBzdHJpbmcgPSAnc29tZXN0cmluZycgKVxuICogfVxuICogY29udGFpbmVyLmdldChGb28pOyAvLyB0aHJvd3NcbiAqIGBgYFxuICogd291bGQgZmFpbFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY2xhc3MgRm9vIHtcbiAqICAgY29uc3RydWN0b3IoIEBvcHRpb25hbCgnbXlzdHJpbmcnKSBwdWJsaWMgc3RyOiBzdHJpbmcgPSAnc29tZXN0cmluZycgKVxuICogfVxuICogY29udGFpbmVyLmdldChGb28pLnN0ciAvLyBzb21lc3RyaW5nXG4gKiBgYGBcbiAqIGlmIHlvdSB1c2UgaXQgd2l0aG91dCBhIGRlZmF1bHQgaXQgd2lsbCBpbmplY3QgYHVuZGVmaW5lZGAsIHNvIHJlbWVtYmVyIHRvIG1hcmsgeW91ciBpbnB1dCB0eXBlIGFzXG4gKiBwb3NzaWJseSBgdW5kZWZpbmVkYCFcbiAqXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBvcHRpb25hbGx5IHJlc29sdmUuXG4gKiBzZWUge0BsaW5rIERJLmNyZWF0ZUludGVyZmFjZX0gb24gaW50ZXJhY3Rpb25zIHdpdGggaW50ZXJmYWNlc1xuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG9wdGlvbmFsID0gY3JlYXRlUmVzb2x2ZXIoKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yKSA9PiB7XG4gICAgaWYgKHJlcXVlc3Rvci5oYXMoa2V5LCB0cnVlKSkge1xuICAgICAgICByZXR1cm4gcmVxdWVzdG9yLmdldChrZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59KTtcbi8qKlxuICogQSBkZWNvcmF0b3IgdGhhdCB0ZWxscyB0aGUgY29udGFpbmVyIG5vdCB0byB0cnkgdG8gaW5qZWN0IGEgZGVwZW5kZW5jeS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZ25vcmUodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgIERJLmluamVjdChpZ25vcmUpKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xufVxuLy8gSGFjazogY2FzdGluZyBiZWxvdyB1c2VkIHRvIHByZXZlbnQgVFMgZnJvbSBnZW5lcmF0ZSBhIG5hbWVzcGFjZSB3aGljaCBjYW4ndCBiZSBjb21tZW50ZWRcbi8vIGFuZCByZXN1bHRzIGluIGRvY3VtZW50YXRpb24gdmFsaWRhdGlvbiBlcnJvcnMuXG5pZ25vcmUuJGlzUmVzb2x2ZXIgPSB0cnVlO1xuaWdub3JlLnJlc29sdmUgPSAoKSA9PiB1bmRlZmluZWQ7XG4vKipcbiAqIEEgZGVjb3JhdG9yIHRoYXQgaW5kaWNhdGVzIHRoYXQgYSBuZXcgaW5zdGFuY2Ugc2hvdWxkIGJlIGluamVjdGVkIHNjb3BlZCB0byB0aGVcbiAqIGNvbnRhaW5lciB0aGF0IHJlcXVlc3RlZCB0aGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGRlcGVuZGVuY3kga2V5IGZvciB0aGUgbmV3IGluc3RhbmNlLlxuICogQHJlbWFya3NcbiAqIFRoaXMgY3JlYXRlcyBhIHJlc29sdmVyIHdpdGggYW4gaW5zdGFuY2Ugc3RyYXRlZ3kgcG9pbnRpbmcgdG8gdGhlIG5ldyBpbnN0YW5jZSwgZWZmZWN0aXZlbHlcbiAqIG1ha2luZyB0aGlzIGEgc2luZ2xldG9uLCBzY29wZWQgdG8gdGhlIGNvbnRhaW5lciBvciBET00ncyBzdWJ0cmVlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG5ld0luc3RhbmNlRm9yU2NvcGUgPSBjcmVhdGVSZXNvbHZlcigoa2V5LCBoYW5kbGVyLCByZXF1ZXN0b3IpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKGtleSwgaGFuZGxlcik7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMCAvKiBpbnN0YW5jZSAqLywgaW5zdGFuY2UpO1xuICAgIHJlcXVlc3Rvci5yZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn0pO1xuLyoqXG4gKiBBIGRlY29yYXRvciB0aGF0IGluZGljYXRlcyB0aGF0IGEgbmV3IGluc3RhbmNlIHNob3VsZCBiZSBpbmplY3RlZC5cbiAqIEBwYXJhbSBrZXkgLSBUaGUgZGVwZW5kZW5jeSBrZXkgZm9yIHRoZSBuZXcgaW5zdGFuY2UuXG4gKiBAcmVtYXJrc1xuICogVGhlIGluc3RhbmNlIGlzIG5vdCBpbnRlcm5hbGx5IGNhY2hlZCB3aXRoIGEgcmVzb2x2ZXIgYXMgbmV3SW5zdGFuY2VGb3JTY29wZSBkb2VzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG5ld0luc3RhbmNlT2YgPSBjcmVhdGVSZXNvbHZlcigoa2V5LCBoYW5kbGVyLCBfcmVxdWVzdG9yKSA9PiBjcmVhdGVOZXdJbnN0YW5jZShrZXksIGhhbmRsZXIpKTtcbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKGtleSwgaGFuZGxlcikge1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uICovXG4gICAgcmV0dXJuIGhhbmRsZXIuZ2V0RmFjdG9yeShrZXkpLmNvbnN0cnVjdChoYW5kbGVyKTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBSZXNvbHZlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgc3RyYXRlZ3ksIHN0YXRlKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0ICRpc1Jlc29sdmVyKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcih0aGlzLmtleSwgdGhpcyk7XG4gICAgfVxuICAgIHJlc29sdmUoaGFuZGxlciwgcmVxdWVzdG9yKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIGluc3RhbmNlICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgY2FzZSAxIC8qIHNpbmdsZXRvbiAqLzoge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEN5Y2xpYyBkZXBlbmRlbmN5IGZvdW5kOiAke3RoaXMuc3RhdGUubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRGYWN0b3J5KHRoaXMuc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIC5jb25zdHJ1Y3QocmVxdWVzdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gMCAvKiBpbnN0YW5jZSAqLztcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAyIC8qIHRyYW5zaWVudCAqLzoge1xuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBjcmVhdGUgdHJhbnNpZW50cyBmcm9tIHRoZSByZXF1ZXN0aW5nIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBoYW5kbGVyLmdldEZhY3RvcnkodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhY3RvcnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXNvbHZlciBmb3IgJHtTdHJpbmcodGhpcy5rZXkpfSByZXR1cm5lZCBhIG51bGwgZmFjdG9yeWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5jb25zdHJ1Y3QocmVxdWVzdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMyAvKiBjYWxsYmFjayAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZShoYW5kbGVyLCByZXF1ZXN0b3IsIHRoaXMpO1xuICAgICAgICAgICAgY2FzZSA0IC8qIGFycmF5ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlWzBdLnJlc29sdmUoaGFuZGxlciwgcmVxdWVzdG9yKTtcbiAgICAgICAgICAgIGNhc2UgNSAvKiBhbGlhcyAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdG9yLmdldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc29sdmVyIHN0cmF0ZWd5IHNwZWNpZmllZDogJHt0aGlzLnN0cmF0ZWd5fS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRGYWN0b3J5KGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogc2luZ2xldG9uICovOlxuICAgICAgICAgICAgY2FzZSAyIC8qIHRyYW5zaWVudCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmdldEZhY3RvcnkodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICBjYXNlIDUgLyogYWxpYXMgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9IGNvbnRhaW5lci5nZXRSZXNvbHZlcih0aGlzLnN0YXRlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEZhY3RvcnkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBjb250YWluZXIpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBudWxsO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnRhaW5lckdldEtleShkKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGQpO1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtSW5zdGFuY2UoaW5zdCwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShpbnN0KTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBGYWN0b3J5SW1wbCB7XG4gICAgY29uc3RydWN0b3IoVHlwZSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuVHlwZSA9IFR5cGU7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVycyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0cnVjdChjb250YWluZXIsIGR5bmFtaWNEZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgbGV0IGluc3RhbmNlO1xuICAgICAgICBpZiAoZHluYW1pY0RlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgY29udGFpbmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgY29udGFpbmVyKSwgLi4uZHluYW1pY0RlcGVuZGVuY2llcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtZXJzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1lcnMucmVkdWNlKHRyYW5zZm9ybUluc3RhbmNlLCBpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyVHJhbnNmb3JtZXIodHJhbnNmb3JtZXIpIHtcbiAgICAgICAgKHRoaXMudHJhbnNmb3JtZXJzIHx8ICh0aGlzLnRyYW5zZm9ybWVycyA9IFtdKSkucHVzaCh0cmFuc2Zvcm1lcik7XG4gICAgfVxufVxuY29uc3QgY29udGFpbmVyUmVzb2x2ZXIgPSB7XG4gICAgJGlzUmVzb2x2ZXI6IHRydWUsXG4gICAgcmVzb2x2ZShoYW5kbGVyLCByZXF1ZXN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RvcjtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGlzUmVnaXN0cnkob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmoucmVnaXN0ZXIgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzU2VsZlJlZ2lzdHJ5KG9iaikge1xuICAgIHJldHVybiBpc1JlZ2lzdHJ5KG9iaikgJiYgdHlwZW9mIG9iai5yZWdpc3RlckluUmVxdWVzdG9yID09PSBcImJvb2xlYW5cIjtcbn1cbmZ1bmN0aW9uIGlzUmVnaXN0ZXJJblJlcXVlc3RlcihvYmopIHtcbiAgICByZXR1cm4gaXNTZWxmUmVnaXN0cnkob2JqKSAmJiBvYmoucmVnaXN0ZXJJblJlcXVlc3Rvcjtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3Mob2JqKSB7XG4gICAgcmV0dXJuIG9iai5wcm90b3R5cGUgIT09IHZvaWQgMDtcbn1cbmNvbnN0IEluc3RyaW5zaWNUeXBlTmFtZXMgPSBuZXcgU2V0KFtcbiAgICBcIkFycmF5XCIsXG4gICAgXCJBcnJheUJ1ZmZlclwiLFxuICAgIFwiQm9vbGVhblwiLFxuICAgIFwiRGF0YVZpZXdcIixcbiAgICBcIkRhdGVcIixcbiAgICBcIkVycm9yXCIsXG4gICAgXCJFdmFsRXJyb3JcIixcbiAgICBcIkZsb2F0MzJBcnJheVwiLFxuICAgIFwiRmxvYXQ2NEFycmF5XCIsXG4gICAgXCJGdW5jdGlvblwiLFxuICAgIFwiSW50OEFycmF5XCIsXG4gICAgXCJJbnQxNkFycmF5XCIsXG4gICAgXCJJbnQzMkFycmF5XCIsXG4gICAgXCJNYXBcIixcbiAgICBcIk51bWJlclwiLFxuICAgIFwiT2JqZWN0XCIsXG4gICAgXCJQcm9taXNlXCIsXG4gICAgXCJSYW5nZUVycm9yXCIsXG4gICAgXCJSZWZlcmVuY2VFcnJvclwiLFxuICAgIFwiUmVnRXhwXCIsXG4gICAgXCJTZXRcIixcbiAgICBcIlNoYXJlZEFycmF5QnVmZmVyXCIsXG4gICAgXCJTdHJpbmdcIixcbiAgICBcIlN5bnRheEVycm9yXCIsXG4gICAgXCJUeXBlRXJyb3JcIixcbiAgICBcIlVpbnQ4QXJyYXlcIixcbiAgICBcIlVpbnQ4Q2xhbXBlZEFycmF5XCIsXG4gICAgXCJVaW50MTZBcnJheVwiLFxuICAgIFwiVWludDMyQXJyYXlcIixcbiAgICBcIlVSSUVycm9yXCIsXG4gICAgXCJXZWFrTWFwXCIsXG4gICAgXCJXZWFrU2V0XCIsXG5dKTtcbmNvbnN0IERJTG9jYXRlUGFyZW50RXZlbnRUeXBlID0gXCJfX0RJX0xPQ0FURV9QQVJFTlRfX1wiO1xuY29uc3QgZmFjdG9yaWVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRhaW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRGVwdGggPSAwO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG93bmVyLiQkY29udGFpbmVyJCQgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzb2x2ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnJlc29sdmVycy5zZXQoQ29udGFpbmVyLCBjb250YWluZXJSZXNvbHZlcik7XG4gICAgICAgIGlmIChvd25lciBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIG93bmVyLmFkZEV2ZW50TGlzdGVuZXIoRElMb2NhdGVQYXJlbnRFdmVudFR5cGUsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUuY29tcG9zZWRQYXRoKClbMF0gIT09IHRoaXMub3duZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kZXRhaWwuY29udGFpbmVyID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fcGFyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHRoaXMuY29uZmlnLnBhcmVudExvY2F0b3IodGhpcy5vd25lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgICB9XG4gICAgZ2V0IGRlcHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPT09IG51bGwgPyAwIDogdGhpcy5wYXJlbnQuZGVwdGggKyAxO1xuICAgIH1cbiAgICBnZXQgcmVzcG9uc2libGVGb3JPd25lclJlcXVlc3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcucmVzcG9uc2libGVGb3JPd25lclJlcXVlc3RzO1xuICAgIH1cbiAgICByZWdpc3RlcldpdGhDb250ZXh0KGNvbnRleHQsIC4uLnBhcmFtcykge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKC4uLnBhcmFtcyk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlciguLi5wYXJhbXMpIHtcbiAgICAgICAgaWYgKCsrdGhpcy5yZWdpc3RlckRlcHRoID09PSAxMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBhdXRvcmVnaXN0ZXIgZGVwZW5kZW5jeVwiKTtcbiAgICAgICAgICAgIC8vIE1vc3QgbGlrZWx5IGNhdXNlIGlzIHRyeWluZyB0byByZWdpc3RlciBhIHBsYWluIG9iamVjdCB0aGF0IGRvZXMgbm90IGhhdmUgYVxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgbWV0aG9kIGFuZCBpcyBub3QgYSBjbGFzcyBjb25zdHJ1Y3RvclxuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50O1xuICAgICAgICBsZXQga2V5cztcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBsZXQgajtcbiAgICAgICAgbGV0IGpqO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwYXJhbXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY3VycmVudCA9IHBhcmFtc1tpXTtcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JlZ2lzdHJ5KGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5yZWdpc3Rlcih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQ2xhc3MoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24uc2luZ2xldG9uKGN1cnJlbnQsIGN1cnJlbnQpLnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgIGpqID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY3VycmVudFtrZXlzW2pdXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGNvdWxkIHJlbW92ZSB0aGlzIGlmLWJyYW5jaCBhbmQgY2FsbCB0aGlzLnJlZ2lzdGVyIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gdGhlIGV4dHJhIGNoZWNrIGlzIGp1c3QgYSBwZXJmIHR3ZWFrIHRvIGNyZWF0ZSBmZXdlciB1bm5lY2Vzc2FyeSBhcnJheXMgYnkgdGhlIHNwcmVhZCBvcGVyYXRvclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWdpc3RyeSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnJlZ2lzdGVyKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLS10aGlzLnJlZ2lzdGVyRGVwdGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXJzID0gdGhpcy5yZXNvbHZlcnM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc29sdmVycy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlcnMuc2V0KGtleSwgcmVzb2x2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlc29sdmVySW1wbCAmJlxuICAgICAgICAgICAgcmVzdWx0LnN0cmF0ZWd5ID09PSA0IC8qIGFycmF5ICovKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdGUucHVzaChyZXNvbHZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlcnMuc2V0KGtleSwgbmV3IFJlc29sdmVySW1wbChrZXksIDQgLyogYXJyYXkgKi8sIFtyZXN1bHQsIHJlc29sdmVyXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICB9XG4gICAgcmVnaXN0ZXJUcmFuc2Zvcm1lcihrZXksIHRyYW5zZm9ybWVyKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpcy5nZXRSZXNvbHZlcihrZXkpO1xuICAgICAgICBpZiAocmVzb2x2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvbHZlci5nZXRGYWN0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcmVzb2x2ZXIuZ2V0RmFjdG9yeSh0aGlzKTtcbiAgICAgICAgICAgIGlmIChmYWN0b3J5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHR5cGUgY2FzdCBpcyBhIGJpdCBvZiBhIGhhY2t5IG9uZSwgbmVjZXNzYXJ5IGR1ZSB0byB0aGUgZHVwbGljaXR5IG9mIElSZXNvbHZlckxpa2UuXG4gICAgICAgICAgICAvLyBQcm9ibGVtIGlzIHRoYXQgdGhhdCBpbnRlcmZhY2UncyB0eXBlIGFyZyBjYW4gYmUgb2YgdHlwZSBLZXksIGJ1dCB0aGUgZ2V0RmFjdG9yeSBtZXRob2Qgb25seSB3b3JrcyBvblxuICAgICAgICAgICAgLy8gdHlwZSBDb25zdHJ1Y3RhYmxlLiBTbyB0aGUgcmV0dXJuIHR5cGUgb2YgdGhhdCBvcHRpb25hbCBtZXRob2QgaGFzIHRoaXMgYWRkaXRpb25hbCBjb25zdHJhaW50LCB3aGljaFxuICAgICAgICAgICAgLy8gc2VlbXMgdG8gY29uZnVzZSB0aGUgdHlwZSBjaGVja2VyLlxuICAgICAgICAgICAgZmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybWVyKHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UmVzb2x2ZXIoa2V5LCBhdXRvUmVnaXN0ZXIgPSB0cnVlKSB7XG4gICAgICAgIHZhbGlkYXRlS2V5KGtleSk7XG4gICAgICAgIGlmIChrZXkucmVzb2x2ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhcyAqL1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXM7XG4gICAgICAgIGxldCByZXNvbHZlcjtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzb2x2ZXIgPSBjdXJyZW50LnJlc29sdmVycy5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQucGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGlzUmVnaXN0ZXJJblJlcXVlc3RlcihrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9SZWdpc3RlciA/IHRoaXMuaml0UmVnaXN0ZXIoa2V5LCBoYW5kbGVyKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaGFzKGtleSwgc2VhcmNoQW5jZXN0b3JzID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZXJzLmhhcyhrZXkpXG4gICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgIDogc2VhcmNoQW5jZXN0b3JzICYmIHRoaXMucGFyZW50ICE9IG51bGxcbiAgICAgICAgICAgICAgICA/IHRoaXMucGFyZW50LmhhcyhrZXksIHRydWUpXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICB2YWxpZGF0ZUtleShrZXkpO1xuICAgICAgICBpZiAoa2V5LiRpc1Jlc29sdmVyKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LnJlc29sdmUodGhpcywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzICovXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcztcbiAgICAgICAgbGV0IHJlc29sdmVyO1xuICAgICAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlciA9IGN1cnJlbnQucmVzb2x2ZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5wYXJlbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNSZWdpc3RlckluUmVxdWVzdGVyKGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlciA9IHRoaXMuaml0UmVnaXN0ZXIoa2V5LCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyLnJlc29sdmUoY3VycmVudCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlci5yZXNvbHZlKGN1cnJlbnQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlc29sdmUga2V5OiAke1N0cmluZyhrZXkpfWApO1xuICAgIH1cbiAgICBnZXRBbGwoa2V5LCBzZWFyY2hBbmNlc3RvcnMgPSBmYWxzZSkge1xuICAgICAgICB2YWxpZGF0ZUtleShrZXkpO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgKi9cbiAgICAgICAgY29uc3QgcmVxdWVzdG9yID0gdGhpcztcbiAgICAgICAgbGV0IGN1cnJlbnQgPSByZXF1ZXN0b3I7XG4gICAgICAgIGxldCByZXNvbHZlcjtcbiAgICAgICAgaWYgKHNlYXJjaEFuY2VzdG9ycykge1xuICAgICAgICAgICAgbGV0IHJlc29sdXRpb25zID0gZW1wdHlBcnJheTtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlciA9IGN1cnJlbnQucmVzb2x2ZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb25zID0gcmVzb2x1dGlvbnMuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBidWlsZEFsbFJlc3BvbnNlKHJlc29sdmVyLCBjdXJyZW50LCByZXF1ZXN0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyID0gY3VycmVudC5yZXNvbHZlcnMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkQWxsUmVzcG9uc2UocmVzb2x2ZXIsIGN1cnJlbnQsIHJlcXVlc3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgIH1cbiAgICBnZXRGYWN0b3J5KFR5cGUpIHtcbiAgICAgICAgbGV0IGZhY3RvcnkgPSBmYWN0b3JpZXMuZ2V0KFR5cGUpO1xuICAgICAgICBpZiAoZmFjdG9yeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVGdW5jdGlvbihUeXBlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtUeXBlLm5hbWV9IGlzIGEgbmF0aXZlIGZ1bmN0aW9uIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHNhZmVseSBjb25zdHJ1Y3RlZCBieSBESS4gSWYgdGhpcyBpcyBpbnRlbnRpb25hbCwgcGxlYXNlIHVzZSBhIGNhbGxiYWNrIG9yIGNhY2hlZENhbGxiYWNrIHJlc29sdmVyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmFjdG9yaWVzLnNldChUeXBlLCAoZmFjdG9yeSA9IG5ldyBGYWN0b3J5SW1wbChUeXBlLCBESS5nZXREZXBlbmRlbmNpZXMoVHlwZSkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRmFjdG9yeShrZXksIGZhY3RvcnkpIHtcbiAgICAgICAgZmFjdG9yaWVzLnNldChrZXksIGZhY3RvcnkpO1xuICAgIH1cbiAgICBjcmVhdGVDaGlsZChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb250YWluZXJJbXBsKG51bGwsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLCBjb25maWcsIHsgcGFyZW50TG9jYXRvcjogKCkgPT4gdGhpcyB9KSk7XG4gICAgfVxuICAgIGppdFJlZ2lzdGVyKGtleUFzVmFsdWUsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlBc1ZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGppdFJlZ2lzdGVyIHNvbWV0aGluZyB0aGF0IGlzIG5vdCBhIGNvbnN0cnVjdG9yOiAnJHtrZXlBc1ZhbHVlfScuIERpZCB5b3UgZm9yZ2V0IHRvIHJlZ2lzdGVyIHRoaXMgZGVwZW5kZW5jeT9gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSW5zdHJpbnNpY1R5cGVOYW1lcy5oYXMoa2V5QXNWYWx1ZS5uYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gaml0UmVnaXN0ZXIgYW4gaW50cmluc2ljIHR5cGU6ICR7a2V5QXNWYWx1ZS5uYW1lfS4gRGlkIHlvdSBmb3JnZXQgdG8gYWRkIEBpbmplY3QoS2V5KWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZ2lzdHJ5KGtleUFzVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25SZXNvbHZlciA9IGtleUFzVmFsdWUucmVnaXN0ZXIoaGFuZGxlcik7XG4gICAgICAgICAgICBpZiAoIShyZWdpc3RyYXRpb25SZXNvbHZlciBpbnN0YW5jZW9mIE9iamVjdCkgfHxcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25SZXNvbHZlci5yZXNvbHZlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvbHZlciA9IGhhbmRsZXIucmVzb2x2ZXJzLmdldChrZXlBc1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb2x2ZXIgIT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdSZXNvbHZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB2YWxpZCByZXNvbHZlciB3YXMgbm90IHJldHVybmVkIGZyb20gdGhlIHN0YXRpYyByZWdpc3RlciBtZXRob2RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uUmVzb2x2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5QXNWYWx1ZS4kaXNJbnRlcmZhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGppdFJlZ2lzdGVyIGFuIGludGVyZmFjZTogJHtrZXlBc1ZhbHVlLmZyaWVuZGx5TmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpcy5jb25maWcuZGVmYXVsdFJlc29sdmVyKGtleUFzVmFsdWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgaGFuZGxlci5yZXNvbHZlcnMuc2V0KGtleUFzVmFsdWUsIHJlc29sdmVyKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGNhY2hlQ2FsbGJhY2tSZXN1bHQoZnVuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyLCByZXF1ZXN0b3IsIHJlc29sdmVyKSB7XG4gICAgICAgIGlmIChjYWNoZS5oYXMocmVzb2x2ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KHJlc29sdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ID0gZnVuKGhhbmRsZXIsIHJlcXVlc3RvciwgcmVzb2x2ZXIpO1xuICAgICAgICBjYWNoZS5zZXQocmVzb2x2ZXIsIHQpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xufVxuLyoqXG4gKiBZb3UgY2FuIHVzZSB0aGUgcmVzdWx0aW5nIFJlZ2lzdHJhdGlvbiBvZiBhbnkgb2YgdGhlIGZhY3RvcnkgbWV0aG9kc1xuICogdG8gcmVnaXN0ZXIgd2l0aCB0aGUgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIEZvbyB7fVxuICogY29uc3QgY29udGFpbmVyID0gREkuY3JlYXRlQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKEZvbywgbmV3IEZvbygpKSk7XG4gKiBjb250YWluZXIuZ2V0KEZvbyk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBSZWdpc3RyYXRpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgeW91IHRvIHBhc3MgYW4gaW5zdGFuY2UuXG4gICAgICogRXZlcnkgdGltZSB5b3UgcmVxdWVzdCB0aGlzIHtAbGluayBLZXl9IHlvdSB3aWxsIGdldCB0aGlzIGluc3RhbmNlIGJhY2suXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShGb28sIG5ldyBGb28oKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gcmVnaXN0ZXIgdGhlIGluc3RhbmNlIHVuZGVyLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBpbnN0YW5jZSB0byByZXR1cm4gd2hlbiB0aGUga2V5IGlzIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBpbnN0YW5jZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMCAvKiBpbnN0YW5jZSAqLywgdmFsdWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBmcm9tIHRoZSBjbGFzcy5cbiAgICAgKiBFdmVyeSB0aW1lIHlvdSByZXF1ZXN0IHRoaXMge0BsaW5rIEtleX0geW91IHdpbGwgZ2V0IHRoZSBzYW1lIG9uZSBiYWNrLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBSZWdpc3RyYXRpb24uc2luZ2xldG9uKEZvbywgRm9vKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIHJlZ2lzdGVyIHRoZSBzaW5nbGV0b24gdW5kZXIuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGNsYXNzIHRvIGluc3RhbnRpYXRlIGFzIGEgc2luZ2xldG9uIHdoZW4gZmlyc3QgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIHNpbmdsZXRvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMSAvKiBzaW5nbGV0b24gKi8sIHZhbHVlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2UgZnJvbSBhIGNsYXNzLlxuICAgICAqIEV2ZXJ5IHRpbWUgeW91IHJlcXVlc3QgdGhpcyB7QGxpbmsgS2V5fSB5b3Ugd2lsbCBnZXQgYSBuZXcgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShGb28sIEZvbyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byByZWdpc3RlciB0aGUgaW5zdGFuY2UgdHlwZSB1bmRlci5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgY2xhc3MgdG8gaW5zdGFudGlhdGUgZWFjaCB0aW1lIHRoZSBrZXkgaXMgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIHRyYW5zaWVudChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMiAvKiB0cmFuc2llbnQgKi8sIHZhbHVlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlbGVnYXRlcyB0byBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHByb3ZpZGUgdGhlIGRlcGVuZGVuY3kuXG4gICAgICogRXZlcnkgdGltZSB5b3UgcmVxdWVzdCB0aGlzIHtAbGluayBLZXl9IHRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgdG8gcHJvdmlkZVxuICAgICAqIHRoZSBkZXBlbmRlbmN5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBSZWdpc3RyYXRpb24uY2FsbGJhY2soRm9vLCAoKSA9PiBuZXcgRm9vKCkpO1xuICAgICAqIFJlZ2lzdHJhdGlvbi5jYWxsYmFjayhCYXIsIChjOiBDb250YWluZXIpID0+IG5ldyBCYXIoYy5nZXQoRm9vKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gcmVnaXN0ZXIgdGhlIGNhbGxiYWNrIGZvci5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBpcyBleHBlY3RlZCB0byByZXR1cm4gdGhlIGRlcGVuZGVuY3kuXG4gICAgICovXG4gICAgY2FsbGJhY2soa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gbmV3IFJlc29sdmVySW1wbChrZXksIDMgLyogY2FsbGJhY2sgKi8sIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlbGVnYXRlcyB0byBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHByb3ZpZGUgdGhlIGRlcGVuZGVuY3kgYW5kIHRoZW4gY2FjaGVzIHRoZVxuICAgICAqIGRlcGVuZGVuY3kgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogUmVnaXN0cmF0aW9uLmNhY2hlZENhbGxiYWNrKEZvbywgKCkgPT4gbmV3IEZvbygpKTtcbiAgICAgKiBSZWdpc3RyYXRpb24uY2FjaGVkQ2FsbGJhY2soQmFyLCAoYzogQ29udGFpbmVyKSA9PiBuZXcgQmFyKGMuZ2V0KEZvbykpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIHJlZ2lzdGVyIHRoZSBjYWxsYmFjayBmb3IuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRoYXQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIHRoZSBkZXBlbmRlbmN5LlxuICAgICAqIEByZW1hcmtzXG4gICAgICogSWYgeW91IHBhc3MgdGhlIHNhbWUgUmVnaXN0cmF0aW9uIHRvIGFub3RoZXIgY29udGFpbmVyLCB0aGUgc2FtZSBjYWNoZWQgdmFsdWUgd2lsbCBiZSB1c2VkLlxuICAgICAqIFNob3VsZCBhbGwgcmVmZXJlbmNlcyB0byB0aGUgcmVzb2x2ZXIgcmV0dXJuZWQgYmUgcmVtb3ZlZCwgdGhlIGNhY2hlIHdpbGwgZXhwaXJlLlxuICAgICAqL1xuICAgIGNhY2hlZENhbGxiYWNrKGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlckltcGwoa2V5LCAzIC8qIGNhbGxiYWNrICovLCBjYWNoZUNhbGxiYWNrUmVzdWx0KGNhbGxiYWNrKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFsdGVybmF0ZSB7QGxpbmsgS2V5fSB0byByZXRyaWV2ZSBhbiBpbnN0YW5jZSBieS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogUmVnaXN0ZXIuc2luZ2xldG9uKEZvbywgRm9vKVxuICAgICAqIFJlZ2lzdGVyLmFsaWFzVG8oRm9vLCBNeUZvb3MpO1xuICAgICAqXG4gICAgICogY29udGFpbmVyLmdldEFsbChNeUZvb3MpIC8vIGNvbnRhaW5zIGFuIGluc3RhbmNlIG9mIEZvb1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIG9yaWdpbmFsS2V5IC0gVGhlIG9yaWdpbmFsIGtleSB0aGF0IGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gICAgICogQHBhcmFtIGFsaWFzS2V5IC0gVGhlIGFsaWFzIHRvIHRoZSBvcmlnaW5hbCBrZXkuXG4gICAgICovXG4gICAgYWxpYXNUbyhvcmlnaW5hbEtleSwgYWxpYXNLZXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlckltcGwoYWxpYXNLZXksIDUgLyogYWxpYXMgKi8sIG9yaWdpbmFsS2V5KTtcbiAgICB9LFxufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVLZXkoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXkvdmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLiBBcmUgeW91IHRyeWluZyB0byBpbmplY3QvcmVnaXN0ZXIgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdCB3aXRoIERJP1wiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBidWlsZEFsbFJlc3BvbnNlKHJlc29sdmVyLCBoYW5kbGVyLCByZXF1ZXN0b3IpIHtcbiAgICBpZiAocmVzb2x2ZXIgaW5zdGFuY2VvZiBSZXNvbHZlckltcGwgJiZcbiAgICAgICAgcmVzb2x2ZXIuc3RyYXRlZ3kgPT09IDQgLyogYXJyYXkgKi8pIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSByZXNvbHZlci5zdGF0ZTtcbiAgICAgICAgbGV0IGkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdHNbaV0gPSBzdGF0ZVtpXS5yZXNvbHZlKGhhbmRsZXIsIHJlcXVlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBbcmVzb2x2ZXIucmVzb2x2ZShoYW5kbGVyLCByZXF1ZXN0b3IpXTtcbn1cbmNvbnN0IGRlZmF1bHRGcmllbmRseU5hbWUgPSBcIihhbm9ueW1vdXMpXCI7XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpcyB0aGUgZnVuY3Rpb24gaXMgYSBuYXRpdmUgZnVuY3Rpb24sIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbmNvbnN0IGlzTmF0aXZlRnVuY3Rpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgbGV0IGlzTmF0aXZlID0gZmFsc2U7XG4gICAgbGV0IHNvdXJjZVRleHQgPSBcIlwiO1xuICAgIGxldCBpID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGlzTmF0aXZlID0gbG9va3VwLmdldChmbik7XG4gICAgICAgIGlmIChpc05hdGl2ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzb3VyY2VUZXh0ID0gZm4udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGkgPSBzb3VyY2VUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi8jcHJvZC1OYXRpdmVGdW5jdGlvblxuICAgICAgICAgICAgaXNOYXRpdmUgPVxuICAgICAgICAgICAgICAgIC8vIDI5IGlzIHRoZSBsZW5ndGggb2YgJ2Z1bmN0aW9uICgpIHsgW25hdGl2ZSBjb2RlXSB9JyB3aGljaCBpcyB0aGUgc21hbGxlc3QgbGVuZ3RoIG9mIGEgbmF0aXZlIGZ1bmN0aW9uIHN0cmluZ1xuICAgICAgICAgICAgICAgIGkgPj0gMjkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gMTAwIHNlZW1zIHRvIGJlIGEgc2FmZSB1cHBlciBib3VuZCBvZiB0aGUgbWF4IGxlbmd0aCBvZiBhIG5hdGl2ZSBmdW5jdGlvbi4gSW4gQ2hyb21lIGFuZCBGRiBpdCdzIDU2LCBpbiBFZGdlIGl0J3MgNjEuXG4gICAgICAgICAgICAgICAgICAgIGkgPD0gMTAwICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2hvbGUgaGV1cmlzdGljICpjb3VsZCogYmUgdHJpY2tlZCBieSBhIGNvbW1lbnQuIERvIHdlIG5lZWQgdG8gY2FyZSBhYm91dCB0aGF0P1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDEpID09PSAweDdkICYmIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGhlIHNwZWMgaXMgYSBsaXR0bGUgdmFndWUgYWJvdXQgdGhlIHByZWNpc2UgY29uc3RyYWludHMsIHNvIHdlIGRvIG5lZWQgdG8gdGVzdCB0aGlzIGFjcm9zcyB2YXJpb3VzIGJyb3dzZXJzIHRvIG1ha2Ugc3VyZSBqdXN0IG9uZSB3aGl0ZXNwYWNlIGlzIGEgc2FmZSBhc3N1bXB0aW9uLlxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDIpIDw9IDB4MjAgJiYgLy8gd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDMpID09PSAweDVkICYmIC8vIF1cbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSA0KSA9PT0gMHg2NSAmJiAvLyBlXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gNSkgPT09IDB4NjQgJiYgLy8gZFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDYpID09PSAweDZmICYmIC8vIG9cbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSA3KSA9PT0gMHg2MyAmJiAvLyBjXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gOCkgPT09IDB4MjAgJiYgLy9cbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSA5KSA9PT0gMHg2NSAmJiAvLyBlXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMTApID09PSAweDc2ICYmIC8vIHZcbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSAxMSkgPT09IDB4NjkgJiYgLy8gaVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDEyKSA9PT0gMHg3NCAmJiAvLyB0XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMTMpID09PSAweDYxICYmIC8vIGFcbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSAxNCkgPT09IDB4NmUgJiYgLy8gblxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDE1KSA9PT0gMHg1ODsgLy8gW1xuICAgICAgICAgICAgbG9va3VwLnNldChmbiwgaXNOYXRpdmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc05hdGl2ZTtcbiAgICB9O1xufSkoKTtcbmNvbnN0IGlzTnVtZXJpY0xvb2t1cCA9IHt9O1xuZnVuY3Rpb24gaXNBcnJheUluZGV4KHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDAgJiYgKHZhbHVlIHwgMCkgPT09IHZhbHVlO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGlzTnVtZXJpY0xvb2t1cFt2YWx1ZV07XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoaXNOdW1lcmljTG9va3VwW3ZhbHVlXSA9IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2ggPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgICAgIGlmICgoaSA9PT0gMCAmJiBjaCA9PT0gMHgzMCAmJiBsZW5ndGggPiAxKSAvKiBtdXN0IG5vdCBzdGFydCB3aXRoIDAgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgY2ggPCAweDMwIC8qIDAgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgY2ggPiAweDM5IC8qIDkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc051bWVyaWNMb29rdXBbdmFsdWVdID0gZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoaXNOdW1lcmljTG9va3VwW3ZhbHVlXSA9IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRWxlbWVudFN0eWxlcywgfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbmltcG9ydCB7IERJLCBSZWdpc3RyYXRpb24gfSBmcm9tIFwiLi4vZGkvZGkuanNcIjtcbmZ1bmN0aW9uIHByZXNlbnRhdGlvbktleUZyb21UYWcodGFnTmFtZSkge1xuICAgIHJldHVybiBgJHt0YWdOYW1lLnRvTG93ZXJDYXNlKCl9OnByZXNlbnRhdGlvbmA7XG59XG5jb25zdCBwcmVzZW50YXRpb25SZWdpc3RyeSA9IG5ldyBNYXAoKTtcbi8qKlxuICogQW4gQVBJIGdhdGV3YXkgdG8gY29tcG9uZW50IHByZXNlbnRhdGlvbiBmZWF0dXJlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFByZXNlbnRhdGlvbiA9IE9iamVjdC5mcmVlemUoe1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBjb21wb25lbnQgcHJlc2VudGF0aW9uIGZvciBhbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB0YWdOYW1lIC0gVGhlIGVsZW1lbnQgbmFtZSB0byBkZWZpbmUgdGhlIHByZXNlbnRhdGlvbiBmb3IuXG4gICAgICogQHBhcmFtIHByZXNlbnRhdGlvbiAtIFRoZSBwcmVzZW50YXRpb24gdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gbWF0Y2hpbmcgZWxlbWVudHMuXG4gICAgICogQHBhcmFtIGNvbnRhaW5lciAtIFRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgdG8gcmVnaXN0ZXIgdGhlIGNvbmZpZ3VyYXRpb24gaW4uXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGRlZmluZSh0YWdOYW1lLCBwcmVzZW50YXRpb24sIGNvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBrZXkgPSBwcmVzZW50YXRpb25LZXlGcm9tVGFnKHRhZ05hbWUpO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHByZXNlbnRhdGlvblJlZ2lzdHJ5LmdldChrZXkpO1xuICAgICAgICBpZiAoZXhpc3RpbmcgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcHJlc2VudGF0aW9uUmVnaXN0cnkuc2V0KGtleSwgcHJlc2VudGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZhbHNlIGluZGljYXRlcyB0aGF0IHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBwcmVzZW50YXRpb25cbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyZWQgZm9yIGEgdGFnTmFtZSBhbmQgd2UgbXVzdCByZXNvbHZlIHRocm91Z2ggRElcbiAgICAgICAgICAgIHByZXNlbnRhdGlvblJlZ2lzdHJ5LnNldChrZXksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKGtleSwgcHJlc2VudGF0aW9uKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhIGNvbXBvbmVudCBwcmVzZW50YXRpb24gZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBuYW1lLFxuICAgICAqIHNlYXJjaGluZyB0aGUgRE9NIGhpZXJhcmNoeSBzdGFydGluZyBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB0YWdOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgdG8gbG9jYXRlIHRoZSBwcmVzZW50YXRpb24gZm9yLlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gYmVnaW4gdGhlIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb21wb25lbnQgcHJlc2VudGF0aW9uIG9yIG51bGwgaWYgbm9uZSBpcyBmb3VuZC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZm9yVGFnKHRhZ05hbWUsIGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcHJlc2VudGF0aW9uS2V5RnJvbVRhZyh0YWdOYW1lKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBwcmVzZW50YXRpb25SZWdpc3RyeS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gREkuZmluZFJlc3BvbnNpYmxlQ29udGFpbmVyKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhpc3RpbmcgfHwgbnVsbDtcbiAgICB9LFxufSk7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIENvbXBvbmVudFByZXNlbnRhdGlvbiwgdXNlZCBieSBGb3VuZGF0aW9uRWxlbWVudC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRDb21wb25lbnRQcmVzZW50YXRpb24ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgRGVmYXVsdENvbXBvbmVudFByZXNlbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGUgLSBUaGUgdGVtcGxhdGUgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHN0eWxlcyAtIFRoZSBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBzdHlsZXMpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuc3R5bGVzID1cbiAgICAgICAgICAgIHN0eWxlcyA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgOiBBcnJheS5pc0FycmF5KHN0eWxlcylcbiAgICAgICAgICAgICAgICAgICAgPyBFbGVtZW50U3R5bGVzLmNyZWF0ZShzdHlsZXMpXG4gICAgICAgICAgICAgICAgICAgIDogc3R5bGVzIGluc3RhbmNlb2YgRWxlbWVudFN0eWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogRWxlbWVudFN0eWxlcy5jcmVhdGUoW3N0eWxlc10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBwcmVzZW50YXRpb24gZGV0YWlscyB0byB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBhcHBseSB0aGUgcHJlc2VudGF0aW9uIGRldGFpbHMgdG8uXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGFwcGx5VG8oZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gZWxlbWVudC4kZmFzdENvbnRyb2xsZXI7XG4gICAgICAgIGlmIChjb250cm9sbGVyLnRlbXBsYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLnRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udHJvbGxlci5zdHlsZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBGQVNURWxlbWVudCwgb2JzZXJ2YWJsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UHJlc2VudGF0aW9uLCBEZWZhdWx0Q29tcG9uZW50UHJlc2VudGF0aW9uLCB9IGZyb20gXCIuLi9kZXNpZ24tc3lzdGVtL2NvbXBvbmVudC1wcmVzZW50YXRpb24uanNcIjtcbi8qKlxuICogRGVmaW5lcyBhIGZvdW5kYXRpb24gZWxlbWVudCBjbGFzcyB0aGF0OlxuICogMS4gQ29ubmVjdHMgdGhlIGVsZW1lbnQgdG8gaXRzIENvbXBvbmVudFByZXNlbnRhdGlvblxuICogMi4gQWxsb3dzIHJlc29sdmluZyB0aGUgZWxlbWVudCB0ZW1wbGF0ZSBmcm9tIHRoZSBpbnN0YW5jZSBvciBDb21wb25lbnRQcmVzZW50YXRpb25cbiAqIDMuIEFsbG93cyByZXNvbHZpbmcgdGhlIGVsZW1lbnQgc3R5bGVzIGZyb20gdGhlIGluc3RhbmNlIG9yIENvbXBvbmVudFByZXNlbnRhdGlvblxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEZvdW5kYXRpb25FbGVtZW50IGV4dGVuZHMgRkFTVEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9wcmVzZW50YXRpb24gPSB2b2lkIDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvcGVydHkgd2hpY2ggcmVzb2x2ZXMgdGhlIENvbXBvbmVudFByZXNlbnRhdGlvbiBpbnN0YW5jZVxuICAgICAqIGZvciB0aGUgY3VycmVudCBjb21wb25lbnQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldCAkcHJlc2VudGF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fcHJlc2VudGF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXNlbnRhdGlvbiA9IENvbXBvbmVudFByZXNlbnRhdGlvbi5mb3JUYWcodGhpcy50YWdOYW1lLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlc2VudGF0aW9uO1xuICAgIH1cbiAgICB0ZW1wbGF0ZUNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJGZhc3RDb250cm9sbGVyLnRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHlsZXNDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy4kZmFzdENvbnRyb2xsZXIuc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbm5lY3RlZCBjYWxsYmFjayBmb3IgdGhpcyBGQVNURWxlbWVudC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgYnkgdGhlIHBsYXRmb3JtIHdoZW5ldmVyIHRoaXMgRm91bmRhdGlvbkVsZW1lbnRcbiAgICAgKiBiZWNvbWVzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy4kcHJlc2VudGF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLiRwcmVzZW50YXRpb24uYXBwbHlUbyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGFuIGVsZW1lbnQgcmVnaXN0cnkgZnVuY3Rpb24gd2l0aCBhIHNldCBvZiBlbGVtZW50IGRlZmluaXRpb24gZGVmYXVsdHMuXG4gICAgICogQHBhcmFtIGVsZW1lbnREZWZpbml0aW9uIC0gVGhlIGRlZmluaXRpb24gb2YgdGhlIGVsZW1lbnQgdG8gY3JlYXRlIHRoZSByZWdpc3RyeVxuICAgICAqIGZ1bmN0aW9uIGZvci5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3RhdGljIGNvbXBvc2UoZWxlbWVudERlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIChvdmVycmlkZURlZmluaXRpb24gPSB7fSkgPT4gbmV3IEZvdW5kYXRpb25FbGVtZW50UmVnaXN0cnkodGhpcyA9PT0gRm91bmRhdGlvbkVsZW1lbnRcbiAgICAgICAgICAgID8gY2xhc3MgZXh0ZW5kcyBGb3VuZGF0aW9uRWxlbWVudCB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHRoaXMsIGVsZW1lbnREZWZpbml0aW9uLCBvdmVycmlkZURlZmluaXRpb24pO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIEZvdW5kYXRpb25FbGVtZW50LnByb3RvdHlwZSwgXCJ0ZW1wbGF0ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgRm91bmRhdGlvbkVsZW1lbnQucHJvdG90eXBlLCBcInN0eWxlc1wiLCB2b2lkIDApO1xuZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbihvcHRpb24sIGNvbnRleHQsIGRlZmluaXRpb24pIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBvcHRpb24oY29udGV4dCwgZGVmaW5pdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb247XG59XG4vKipcbiAqIFJlZ2lzdHJ5IGNhcGFibGUgb2YgZGVmaW5pbmcgcHJlc2VudGF0aW9uIHByb3BlcnRpZXMgZm9yIGEgRE9NIENvbnRhaW5lciBoaWVyYXJjaHkuXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuZXhwb3J0IGNsYXNzIEZvdW5kYXRpb25FbGVtZW50UmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGVsZW1lbnREZWZpbml0aW9uLCBvdmVycmlkZURlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5lbGVtZW50RGVmaW5pdGlvbiA9IGVsZW1lbnREZWZpbml0aW9uO1xuICAgICAgICB0aGlzLm92ZXJyaWRlRGVmaW5pdGlvbiA9IG92ZXJyaWRlRGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVsZW1lbnREZWZpbml0aW9uKSwgdGhpcy5vdmVycmlkZURlZmluaXRpb24pO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb250YWluZXIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHRoaXMuZGVmaW5pdGlvbjtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVEZWZpbml0aW9uID0gdGhpcy5vdmVycmlkZURlZmluaXRpb247XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGRlZmluaXRpb24ucHJlZml4IHx8IGNvbnRleHQuZWxlbWVudFByZWZpeDtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke3ByZWZpeH0tJHtkZWZpbml0aW9uLmJhc2VOYW1lfWA7XG4gICAgICAgIGNvbnRleHQudHJ5RGVmaW5lRWxlbWVudCh7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgYmFzZUNsYXNzOiB0aGlzLmVsZW1lbnREZWZpbml0aW9uLmJhc2VDbGFzcyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB4ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVzZW50YXRpb24gPSBuZXcgRGVmYXVsdENvbXBvbmVudFByZXNlbnRhdGlvbihyZXNvbHZlT3B0aW9uKGRlZmluaXRpb24udGVtcGxhdGUsIHgsIGRlZmluaXRpb24pLCByZXNvbHZlT3B0aW9uKGRlZmluaXRpb24uc3R5bGVzLCB4LCBkZWZpbml0aW9uKSk7XG4gICAgICAgICAgICAgICAgeC5kZWZpbmVQcmVzZW50YXRpb24ocHJlc2VudGF0aW9uKTtcbiAgICAgICAgICAgICAgICBsZXQgc2hhZG93T3B0aW9ucyA9IHJlc29sdmVPcHRpb24oZGVmaW5pdGlvbi5zaGFkb3dPcHRpb25zLCB4LCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoeC5zaGFkb3dSb290TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGVzaWduIHN5c3RlbSBoYXMgb3ZlcnJpZGRlbiB0aGUgc2hhZG93IHJvb3QgbW9kZSwgd2UgbmVlZCBzcGVjaWFsIGhhbmRsaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93T3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHNoYWRvdyBvcHRpb25zIHByZXNlbnQgaW4gdGhlIGRlZmluaXRpb24sIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciB0aGUgY29tcG9uZW50IGl0c2VsZiBoYXMgc3BlY2lmaWVkIGFuIG9wdGlvbiBvciB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ2lzdHJ5IGZ1bmN0aW9uIGhhcyBvdmVycmlkZGVuIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdmVycmlkZURlZmluaXRpb24uc2hhZG93T3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdlcmUgc2hhZG93IG9wdGlvbnMgcHJvdmlkZWQgYnkgdGhlIGNvbXBvbmVudCBhbmQgbm90IG92ZXJyaWRkZW4gYnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVnaXN0cnkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93T3B0aW9ucy5tb2RlID0geC5zaGFkb3dSb290TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFkb3dPcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY29tcG9uZW50IGF1dGhvciBkaWQgbm90IHByb3ZpZGUgc2hhZG93IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZGlkIG5vdCBudWxsIHRoZW0gb3V0IChsaWdodCBkb20gb3B0LWluKSB0aGVuIHRoZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlcmUgcmVseWluZyBvbiB0aGUgRkFTVEVsZW1lbnQgZGVmYXVsdC4gU28sIGlmIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVzaWduIHN5c3RlbSBwcm92aWRlcyBhIG1vZGUsIHdlIG5lZWQgdG8gY3JlYXRlIHRoZSBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09wdGlvbnMgPSB7IG1vZGU6IHguc2hhZG93Um9vdE1vZGUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4LmRlZmluZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50T3B0aW9uczogcmVzb2x2ZU9wdGlvbihkZWZpbml0aW9uLmVsZW1lbnRPcHRpb25zLCB4LCBkZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogcmVzb2x2ZU9wdGlvbihkZWZpbml0aW9uLmF0dHJpYnV0ZXMsIHgsIGRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiIsImltcG9ydCB7IEF0dHJpYnV0ZUNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbi8qKlxuICogQXBwbHkgbWl4aW5zIHRvIGEgY29uc3RydWN0b3IuXG4gKiBTb3VyY2VkIGZyb20ge0BsaW5rIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL21peGlucy5odG1sIHwgVHlwZVNjcmlwdCBEb2N1bWVudGF0aW9uIH0uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseU1peGlucyhkZXJpdmVkQ3RvciwgLi4uYmFzZUN0b3JzKSB7XG4gICAgY29uc3QgZGVyaXZlZEF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLmxvY2F0ZShkZXJpdmVkQ3Rvcik7XG4gICAgYmFzZUN0b3JzLmZvckVhY2goYmFzZUN0b3IgPT4ge1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlQ3Rvci5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgbmFtZSwgXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2VDdG9yLnByb3RvdHlwZSwgbmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmFzZUF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLmxvY2F0ZShiYXNlQ3Rvcik7XG4gICAgICAgIGJhc2VBdHRyaWJ1dGVzLmZvckVhY2goeCA9PiBkZXJpdmVkQXR0cmlidXRlcy5wdXNoKHgpKTtcbiAgICB9KTtcbn1cbiIsIi8qKlxuICogU3RhbmRhcmQgb3JpZW50YXRpb24gdmFsdWVzXG4gKi9cbmV4cG9ydCBjb25zdCBPcmllbnRhdGlvbiA9IHtcbiAgICBob3Jpem9udGFsOiBcImhvcml6b250YWxcIixcbiAgICB2ZXJ0aWNhbDogXCJ2ZXJ0aWNhbFwiLFxufTtcbiIsIi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgYXJyYXkgd2hlcmUgcHJlZGljYXRlIGlzIHRydWUsIGFuZCAtMSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIHRlc3RcbiAqIEBwYXJhbSBwcmVkaWNhdGUgLSBmaW5kIGNhbGxzIHByZWRpY2F0ZSBvbmNlIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5LCBpbiBkZXNjZW5kaW5nIG9yZGVyLCB1bnRpbCBpdCBmaW5kcyBvbmUgd2hlcmUgcHJlZGljYXRlIHJldHVybnMgdHJ1ZS4gSWYgc3VjaCBhbiBlbGVtZW50IGlzIGZvdW5kLCBmaW5kTGFzdEluZGV4IGltbWVkaWF0ZWx5IHJldHVybnMgdGhhdCBlbGVtZW50IGluZGV4LiBPdGhlcndpc2UsIGZpbmRJbmRleCByZXR1cm5zIC0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgbGV0IGsgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGstLSkge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2tdLCBrLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbiIsIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBET00gaXMgYXZhaWxhYmxlIHRvIGFjY2VzcyBhbmQgdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5Vc2VET00oKSB7XG4gICAgcmV0dXJuICEhKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbn1cbiIsImltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gXCJleGVudi1lczZcIjtcbi8qKlxuICogQSB0ZXN0IHRoYXQgZW5zdXJlcyB0aGF0IGFsbCBhcmd1bWVudHMgYXJlIEhUTUwgRWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQoLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLmV2ZXJ5KChhcmcpID0+IGFyZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgZGlzcGxheWVkIGVsZW1lbnRzIGluc2lkZSBvZiBhIHJvb3Qgbm9kZSB0aGF0IG1hdGNoIGEgcHJvdmlkZWQgc2VsZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3BsYXllZE5vZGVzKHJvb3ROb2RlLCBzZWxlY3Rvcikge1xuICAgIGlmICghcm9vdE5vZGUgfHwgIXNlbGVjdG9yIHx8ICFpc0hUTUxFbGVtZW50KHJvb3ROb2RlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vZGVzID0gQXJyYXkuZnJvbShyb290Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgLy8gb2Zmc2V0UGFyZW50IHdpbGwgYmUgbnVsbCBpZiB0aGUgZWxlbWVudCBpc24ndCBjdXJyZW50bHkgZGlzcGxheWVkLFxuICAgIC8vIHNvIHRoaXMgd2lsbCBhbGxvdyB1cyB0byBvcGVyYXRlIG9ubHkgb24gdmlzaWJsZSBub2Rlc1xuICAgIHJldHVybiBub2Rlcy5maWx0ZXIoKG5vZGUpID0+IG5vZGUub2Zmc2V0UGFyZW50ICE9PSBudWxsKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgbnVtZXJpYyBrZXkgY29kZSBhc3NvY2lhdGVkIHdpdGggYSBrZXlib2FyZCBldmVudC4gVGhpcyBtZXRob2QgaXMgZm9yIHVzZSB3aXRoIERPTSBsZXZlbCAzIGV2ZW50c1xuICogdGhhdCBzdGlsbCB1c2UgdGhlIGRlcHJlY2F0ZWQga2V5Q29kZSBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUNvZGUoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQgPT09IG51bGwgPyBudWxsIDogZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSB8fCBldmVudC5jaGFyQ29kZTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbm9uY2UgdXNlZCBpbiB0aGUgcGFnZSwgaWYgYW55LlxuICpcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9jc3NpbmpzL2pzcy9ibG9iL21hc3Rlci9wYWNrYWdlcy9qc3Mvc3JjL0RvbVJlbmRlcmVyLmpzXG4gKi9cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgZG9jdW1lbnQgc3VwcG9ydHMgOmZvY3VzLXZpc2libGVcbiAqL1xubGV0IF9jYW5Vc2VGb2N1c1Zpc2libGU7XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlRm9jdXNWaXNpYmxlKCkge1xuICAgIGlmICh0eXBlb2YgX2NhblVzZUZvY3VzVmlzaWJsZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jYW5Vc2VGb2N1c1Zpc2libGU7XG4gICAgfVxuICAgIGlmICghY2FuVXNlRE9NKCkpIHtcbiAgICAgICAgX2NhblVzZUZvY3VzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX2NhblVzZUZvY3VzVmlzaWJsZTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBkb2N1bWVudCBzdXBwb3J0cyB0aGUgZm9jdXMtdmlzaWJsZSBlbGVtZW50XG4gICAgY29uc3Qgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIC8vIElmIG5vbmNlcyBhcmUgcHJlc2VudCBvbiB0aGUgcGFnZSwgdXNlIGl0IHdoZW4gY3JlYXRpbmcgdGhlIHN0eWxlIGVsZW1lbnRcbiAgICAvLyB0byB0ZXN0IGZvY3VzLXZpc2libGUgc3VwcG9ydC5cbiAgICBjb25zdCBzdHlsZU5vbmNlID0gZ2V0Tm9uY2UoKTtcbiAgICBpZiAoc3R5bGVOb25jZSAhPT0gbnVsbCkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgc3R5bGVOb25jZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB0cnkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuc2hlZXQuaW5zZXJ0UnVsZShcImZvbzpmb2N1cy12aXNpYmxlIHtjb2xvcjppbmhlcml0fVwiLCAwKTtcbiAgICAgICAgX2NhblVzZUZvY3VzVmlzaWJsZSA9IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIF9jYW5Vc2VGb2N1c1Zpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIF9jYW5Vc2VGb2N1c1Zpc2libGU7XG59XG5sZXQgX2NhblVzZUNzc0dyaWQ7XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlQ3NzR3JpZCgpIHtcbiAgICBpZiAodHlwZW9mIF9jYW5Vc2VDc3NHcmlkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gX2NhblVzZUNzc0dyaWQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIF9jYW5Vc2VDc3NHcmlkID0gQ1NTLnN1cHBvcnRzKFwiZGlzcGxheVwiLCBcImdyaWRcIik7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICBfY2FuVXNlQ3NzR3JpZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX2NhblVzZUNzc0dyaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlRm9yY2VkQ29sb3JzKCkge1xuICAgIHJldHVybiAoY2FuVXNlRE9NKCkgJiZcbiAgICAgICAgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKGZvcmNlZC1jb2xvcnM6IG5vbmUpXCIpLm1hdGNoZXMgfHxcbiAgICAgICAgICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSlcIikubWF0Y2hlcykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RG9jdW1lbnRDYWNoZSgpIHtcbiAgICBfY2FuVXNlQ3NzR3JpZCA9IHVuZGVmaW5lZDtcbiAgICBfY2FuVXNlRm9jdXNWaXNpYmxlID0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgJ2NhblVzZUZvcmNlZENvbG9ycycgaW5zdGVhZFxuICovXG5leHBvcnQgY29uc3QgY2FuVXNlZEZvcmNlZENvbG9ycyA9IGNhblVzZUZvcmNlZENvbG9ycztcbiIsIi8qKlxuICogS2V5IENvZGUgdmFsdWVzXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2UgaW5kaXZpZHVhbCBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IHZhciBLZXlDb2RlcztcbihmdW5jdGlvbiAoS2V5Q29kZXMpIHtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImFsdFwiXSA9IDE4XSA9IFwiYWx0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJhcnJvd0Rvd25cIl0gPSA0MF0gPSBcImFycm93RG93blwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiYXJyb3dMZWZ0XCJdID0gMzddID0gXCJhcnJvd0xlZnRcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImFycm93UmlnaHRcIl0gPSAzOV0gPSBcImFycm93UmlnaHRcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImFycm93VXBcIl0gPSAzOF0gPSBcImFycm93VXBcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImJhY2tcIl0gPSA4XSA9IFwiYmFja1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiYmFja1NsYXNoXCJdID0gMjIwXSA9IFwiYmFja1NsYXNoXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJicmVha1wiXSA9IDE5XSA9IFwiYnJlYWtcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImNhcHNMb2NrXCJdID0gMjBdID0gXCJjYXBzTG9ja1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiY2xvc2VCcmFja2V0XCJdID0gMjIxXSA9IFwiY2xvc2VCcmFja2V0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJjb2xvblwiXSA9IDE4Nl0gPSBcImNvbG9uXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJjb2xvbjJcIl0gPSA1OV0gPSBcImNvbG9uMlwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiY29tbWFcIl0gPSAxODhdID0gXCJjb21tYVwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiY3RybFwiXSA9IDE3XSA9IFwiY3RybFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZGVsZXRlXCJdID0gNDZdID0gXCJkZWxldGVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImVuZFwiXSA9IDM1XSA9IFwiZW5kXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJlbnRlclwiXSA9IDEzXSA9IFwiZW50ZXJcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImVxdWFsc1wiXSA9IDE4N10gPSBcImVxdWFsc1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZXF1YWxzMlwiXSA9IDYxXSA9IFwiZXF1YWxzMlwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZXF1YWxzM1wiXSA9IDEwN10gPSBcImVxdWFsczNcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImVzY2FwZVwiXSA9IDI3XSA9IFwiZXNjYXBlXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmb3J3YXJkU2xhc2hcIl0gPSAxOTFdID0gXCJmb3J3YXJkU2xhc2hcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uMVwiXSA9IDExMl0gPSBcImZ1bmN0aW9uMVwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb24xMFwiXSA9IDEyMV0gPSBcImZ1bmN0aW9uMTBcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uMTFcIl0gPSAxMjJdID0gXCJmdW5jdGlvbjExXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjEyXCJdID0gMTIzXSA9IFwiZnVuY3Rpb24xMlwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb24yXCJdID0gMTEzXSA9IFwiZnVuY3Rpb24yXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjNcIl0gPSAxMTRdID0gXCJmdW5jdGlvbjNcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uNFwiXSA9IDExNV0gPSBcImZ1bmN0aW9uNFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb241XCJdID0gMTE2XSA9IFwiZnVuY3Rpb241XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjZcIl0gPSAxMTddID0gXCJmdW5jdGlvbjZcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uN1wiXSA9IDExOF0gPSBcImZ1bmN0aW9uN1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb244XCJdID0gMTE5XSA9IFwiZnVuY3Rpb244XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjlcIl0gPSAxMjBdID0gXCJmdW5jdGlvbjlcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImhvbWVcIl0gPSAzNl0gPSBcImhvbWVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImluc2VydFwiXSA9IDQ1XSA9IFwiaW5zZXJ0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJtZW51XCJdID0gOTNdID0gXCJtZW51XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJtaW51c1wiXSA9IDE4OV0gPSBcIm1pbnVzXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJtaW51czJcIl0gPSAxMDldID0gXCJtaW51czJcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bUxvY2tcIl0gPSAxNDRdID0gXCJudW1Mb2NrXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQwXCJdID0gOTZdID0gXCJudW1QYWQwXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQxXCJdID0gOTddID0gXCJudW1QYWQxXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQyXCJdID0gOThdID0gXCJudW1QYWQyXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQzXCJdID0gOTldID0gXCJudW1QYWQzXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQ0XCJdID0gMTAwXSA9IFwibnVtUGFkNFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkNVwiXSA9IDEwMV0gPSBcIm51bVBhZDVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bVBhZDZcIl0gPSAxMDJdID0gXCJudW1QYWQ2XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQ3XCJdID0gMTAzXSA9IFwibnVtUGFkN1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkOFwiXSA9IDEwNF0gPSBcIm51bVBhZDhcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bVBhZDlcIl0gPSAxMDVdID0gXCJudW1QYWQ5XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWREaXZpZGVcIl0gPSAxMTFdID0gXCJudW1QYWREaXZpZGVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bVBhZERvdFwiXSA9IDExMF0gPSBcIm51bVBhZERvdFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkTWludXNcIl0gPSAxMDldID0gXCJudW1QYWRNaW51c1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkTXVsdGlwbHlcIl0gPSAxMDZdID0gXCJudW1QYWRNdWx0aXBseVwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkUGx1c1wiXSA9IDEwN10gPSBcIm51bVBhZFBsdXNcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm9wZW5CcmFja2V0XCJdID0gMjE5XSA9IFwib3BlbkJyYWNrZXRcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInBhZ2VEb3duXCJdID0gMzRdID0gXCJwYWdlRG93blwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wicGFnZVVwXCJdID0gMzNdID0gXCJwYWdlVXBcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInBlcmlvZFwiXSA9IDE5MF0gPSBcInBlcmlvZFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wicHJpbnRcIl0gPSA0NF0gPSBcInByaW50XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJxdW90ZVwiXSA9IDIyMl0gPSBcInF1b3RlXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJzY3JvbGxMb2NrXCJdID0gMTQ1XSA9IFwic2Nyb2xsTG9ja1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wic2hpZnRcIl0gPSAxNl0gPSBcInNoaWZ0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJzcGFjZVwiXSA9IDMyXSA9IFwic3BhY2VcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInRhYlwiXSA9IDldID0gXCJ0YWJcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInRpbGRlXCJdID0gMTkyXSA9IFwidGlsZGVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIndpbmRvd3NMZWZ0XCJdID0gOTFdID0gXCJ3aW5kb3dzTGVmdFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wid2luZG93c09wZXJhXCJdID0gMjE5XSA9IFwid2luZG93c09wZXJhXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJ3aW5kb3dzUmlnaHRcIl0gPSA5Ml0gPSBcIndpbmRvd3NSaWdodFwiO1xufSkoS2V5Q29kZXMgfHwgKEtleUNvZGVzID0ge30pKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUFsdCA9IDE4O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQXJyb3dEb3duID0gNDA7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVBcnJvd0xlZnQgPSAzNztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUFycm93UmlnaHQgPSAzOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUFycm93VXAgPSAzODtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUJhY2sgPSA4O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQmFja1NsYXNoID0gMjIwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQnJlYWsgPSAxOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUNhcHNMb2NrID0gMjA7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVDbG9zZUJyYWNrZXQgPSAyMjE7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVDb2xvbiA9IDE4Njtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUNvbG9uMiA9IDU5OyAvLyBPcGVyYSBhbmQgRmlyZWZveFxuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQ29tbWEgPSAxODg7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVDdHJsID0gMTc7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVEZWxldGUgPSA0Njtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVuZCA9IDM1O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRW50ZXIgPSAxMztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVxdWFscyA9IDE4Nztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVxdWFsczIgPSA2MTsgLy8gT3BlcmFcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVxdWFsczMgPSAxMDc7IC8vIEZpcmVmb3hcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVzY2FwZSA9IDI3O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRm9yd2FyZFNsYXNoID0gMTkxO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24xID0gMTEyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24xMCA9IDEyMTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUZ1bmN0aW9uMTEgPSAxMjI7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVGdW5jdGlvbjEyID0gMTIzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24yID0gMTEzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24zID0gMTE0O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb240ID0gMTE1O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb241ID0gMTE2O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb242ID0gMTE3O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb243ID0gMTE4O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb244ID0gMTE5O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb245ID0gMTIwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlSG9tZSA9IDM2O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlSW5zZXJ0ID0gNDU7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVNZW51ID0gOTM7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVNaW51cyA9IDE4OTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU1pbnVzMiA9IDEwOTsgLy8gT3BlcmEgYW5kIEZpcmVmb3hcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bUxvY2sgPSAxNDQ7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQwID0gOTY7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQxID0gOTc7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQyID0gOTg7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQzID0gOTk7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQ0ID0gMTAwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlTnVtUGFkNSA9IDEwMTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bVBhZDYgPSAxMDI7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQ3ID0gMTAzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlTnVtUGFkOCA9IDEwNDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bVBhZDkgPSAxMDU7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWREaXZpZGUgPSAxMTE7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWREb3QgPSAxMTA7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWRNaW51cyA9IDEwOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bVBhZE11bHRpcGx5ID0gMTA2O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlTnVtUGFkUGx1cyA9IDEwNztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU9wZW5CcmFja2V0ID0gMjE5O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlUGFnZURvd24gPSAzNDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVBhZ2VVcCA9IDMzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlUGVyaW9kID0gMTkwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlUHJpbnQgPSA0NDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVF1b3RlID0gMjIyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlU2Nyb2xsTG9jayA9IDE0NTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVNoaWZ0ID0gMTY7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVTcGFjZSA9IDMyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlVGFiID0gOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVRpbGRlID0gMTkyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlV2luZG93c0xlZnQgPSA5MTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVdpbmRvd3NPcGVyYSA9IDIxOTsgLy8gT3BlcmFcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVdpbmRvd3NSaWdodCA9IDkyO1xuLyoqXG4gKiBTdHJpbmcgdmFsdWVzIGZvciB1c2Ugd2l0aCBLZXlib2FyZEV2ZW50LmtleVxuICovXG5leHBvcnQgY29uc3Qga2V5QXJyb3dEb3duID0gXCJBcnJvd0Rvd25cIjtcbmV4cG9ydCBjb25zdCBrZXlBcnJvd0xlZnQgPSBcIkFycm93TGVmdFwiO1xuZXhwb3J0IGNvbnN0IGtleUFycm93UmlnaHQgPSBcIkFycm93UmlnaHRcIjtcbmV4cG9ydCBjb25zdCBrZXlBcnJvd1VwID0gXCJBcnJvd1VwXCI7XG5leHBvcnQgY29uc3Qga2V5RW50ZXIgPSBcIkVudGVyXCI7XG5leHBvcnQgY29uc3Qga2V5RXNjYXBlID0gXCJFc2NhcGVcIjtcbmV4cG9ydCBjb25zdCBrZXlIb21lID0gXCJIb21lXCI7XG5leHBvcnQgY29uc3Qga2V5RW5kID0gXCJFbmRcIjtcbmV4cG9ydCBjb25zdCBrZXlGdW5jdGlvbjIgPSBcIkYyXCI7XG5leHBvcnQgY29uc3Qga2V5UGFnZURvd24gPSBcIlBhZ2VEb3duXCI7XG5leHBvcnQgY29uc3Qga2V5UGFnZVVwID0gXCJQYWdlVXBcIjtcbmV4cG9ydCBjb25zdCBrZXlTcGFjZSA9IFwiIFwiO1xuZXhwb3J0IGNvbnN0IGtleVRhYiA9IFwiVGFiXCI7XG5leHBvcnQgY29uc3Qga2V5QmFja3NwYWNlID0gXCJCYWNrc3BhY2VcIjtcbmV4cG9ydCBjb25zdCBrZXlEZWxldGUgPSBcIkRlbGV0ZVwiO1xuZXhwb3J0IGNvbnN0IEFycm93S2V5cyA9IHtcbiAgICBBcnJvd0Rvd246IGtleUFycm93RG93bixcbiAgICBBcnJvd0xlZnQ6IGtleUFycm93TGVmdCxcbiAgICBBcnJvd1JpZ2h0OiBrZXlBcnJvd1JpZ2h0LFxuICAgIEFycm93VXA6IGtleUFycm93VXAsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCBrZWVwcyBhIGdpdmVuIHZhbHVlIHdpdGhpbiB0aGUgYm91bmRzIG9mIGEgbWluIGFuZCBtYXggdmFsdWUuIElmIHRoZSB2YWx1ZVxuICogaXMgbGFyZ2VyIHRoYW4gdGhlIG1heCwgdGhlIG1pbmltdW0gdmFsdWUgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhlIHZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSxcbiAqIHRoZSBtYXhpbXVtIHdpbGwgYmUgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIHZhbHVlIGlzIHJldHVybmVkIHVuLWNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSW5Cb3VuZHMobWluLCBtYXgsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID4gbWF4KSB7XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogRW5zdXJlcyB0aGF0IGEgdmFsdWUgaXMgYmV0d2VlbiBhIG1pbiBhbmQgbWF4IHZhbHVlLiBJZiB2YWx1ZSBpcyBsb3dlciB0aGFuIG1pbiwgbWluIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBJZiB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gbWF4LCBtYXggd2lsbCBiZSByZXR1cm5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbWl0KG1pbiwgbWF4LCB2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIG51bWJlciB2YWx1ZSBpcyB3aXRoaW4gYSBzcGVjaWZpZWQgcmFuZ2UuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNoZWNrXG4gKiBAcGFyYW0gbWluIC0gdGhlIHJhbmdlIHN0YXJ0XG4gKiBAcGFyYW0gbWF4IC0gdGhlIHJhbmdlIGVuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5SYW5nZSh2YWx1ZSwgbWluLCBtYXggPSAwKSB7XG4gICAgW21pbiwgbWF4XSA9IFttaW4sIG1heF0uc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgIHJldHVybiBtaW4gPD0gdmFsdWUgJiYgdmFsdWUgPCBtYXg7XG59XG4iLCJsZXQgdW5pcXVlSWRDb3VudGVyID0gMDtcbi8qKlxuICogR2VuZXJhdGVzIGEgdW5pcXVlIElEIGJhc2VkIG9uIGluY3JlbWVudGluZyBhIGNvdW50ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXggPSBcIlwiKSB7XG4gICAgcmV0dXJuIGAke3ByZWZpeH0ke3VuaXF1ZUlkQ291bnRlcisrfWA7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHN0cmluZyBmcm9tIGEgZm9ybWF0IHNwZWNpZmllciBhbmQgcmVwbGFjZW1lbnQgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChmb3JtYXRTcGVjaWZpZXIsIC4uLnBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gZm9ybWF0U3BlY2lmaWVyLnJlcGxhY2UoL3soXFxkKyl9L2csIGZ1bmN0aW9uIChtYXRjaCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID49IHBhcmFtZXRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbWV0ZXJzW2luZGV4XTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIG9uZSBzdHJpbmcgc3RhcnRzIHdpdGggYW5vdGhlclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmdUb1NlYXJjaCwgc2VhcmNoRm9yLCBwb3NpdGlvbiA9IDApIHtcbiAgICBpZiAoIXN0cmluZ1RvU2VhcmNoIHx8ICFzZWFyY2hGb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nVG9TZWFyY2guc3Vic3RyKHBvc2l0aW9uLCBzZWFyY2hGb3IubGVuZ3RoKSA9PT0gc2VhcmNoRm9yO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBzcGVjaWZpZWQgc3RyaW5nIGlzIHVuZGVmaW5lZCwgbnVsbCwgZW1wdHksIG9yIHdoaXRlc3BhY2UuXG4gKiBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG51bGwsIGVtcHR5LCBvciB3aGl0ZXNwYWNlLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bGxPcldoaXRlU3BhY2UodmFsdWUpIHtcbiAgICByZXR1cm4gIXZhbHVlIHx8ICF2YWx1ZS50cmltKCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIFBhc2NhbCBDYXNlXG4gKiB3aGVyZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggY29tcG91bmQgd29yZCBpcyBjYXBpdGFsaXplZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhc2NhbENhc2UodmFsdWUpIHtcbiAgICBsZXQgbmV3VmFsdWUgPSBgJHt2YWx1ZX1gXG4gICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoL1stX10rLywgXCJnXCIpLCBcIiBcIilcbiAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgvW15cXHdcXHNdLywgXCJnXCIpLCBcIlwiKVxuICAgICAgICAucmVwbGFjZSgvXlxccyt8XFxzKyR8XFxzKyg/PVxccykvZywgXCJcIilcbiAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgvXFxzKyguKShcXHcqKS8sIFwiZ1wiKSwgKCQxLCAkMiwgJDMpID0+IGAkeyQyLnRvVXBwZXJDYXNlKCkgKyAkMy50b0xvd2VyQ2FzZSgpfWApXG4gICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoL1xcdy8pLCBzID0+IHMudG9VcHBlckNhc2UoKSk7XG4gICAgbGV0IGZpcnN0TG93ZXJJZHggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VyckNoYXIgPSBuZXdWYWx1ZS5jaGFyQXQoaSk7XG4gICAgICAgIGlmIChjdXJyQ2hhciA9PSBjdXJyQ2hhci50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBmaXJzdExvd2VySWR4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmaXJzdExvd2VySWR4ID4gMSkge1xuICAgICAgICBuZXdWYWx1ZSA9XG4gICAgICAgICAgICBgJHtuZXdWYWx1ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke25ld1ZhbHVlXG4gICAgICAgICAgICAgICAgLnNsaWNlKDEsIGZpcnN0TG93ZXJJZHggLSAxKVxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpfWAgKyBuZXdWYWx1ZS5zbGljZShmaXJzdExvd2VySWR4IC0gMSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbi8qKlxuICogY29udmVydHMgYSBzdHJpbmcgZnJvbSBjYW1lbENhc2Ugb3IgcGFzY2FsQ2FzZSB0byBzcGluYWwtY2FzZVxuICogd2hpY2ggaXMgYW4gbG93ZXJjYXNlIGRhc2ggc2VwYXJhdGVkIG5hbWluZyBzdHlsZS5cbiAqXG4gKiBBbiBleGFtcGxlIG9mIHNwaW5hbCBjYXNlOiBmb28tYmFyLWJhdFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BpbmFsQ2FzZSh2YWx1ZSkge1xuICAgIGNvbnN0IHZhbHVlV2l0aExvd2VyQ2FzZUZpcnN0TGV0dGVyID0gYCR7dmFsdWVcbiAgICAgICAgLmNoYXJBdCgwKVxuICAgICAgICAudG9Mb3dlckNhc2UoKX0ke3ZhbHVlLnNsaWNlKDEpfWA7XG4gICAgcmV0dXJuIHZhbHVlV2l0aExvd2VyQ2FzZUZpcnN0TGV0dGVyLnJlcGxhY2UoLyhbQS1aXXxbMC05XSkvZywgZnVuY3Rpb24gKG1hdGNoLCBncm91cDEpIHtcbiAgICAgICAgcmV0dXJuIGAtJHtncm91cDEudG9Mb3dlckNhc2UoKX1gO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuLyoqXG4gKiBTb21lIHN0YXRlcyBhbmQgcHJvcGVydGllcyBhcmUgYXBwbGljYWJsZSB0byBhbGwgaG9zdCBsYW5ndWFnZSBlbGVtZW50cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgYSByb2xlIGlzIGFwcGxpZWQuXG4gKiBUaGUgZm9sbG93aW5nIGdsb2JhbCBzdGF0ZXMgYW5kIHByb3BlcnRpZXMgYXJlIHN1cHBvcnRlZCBieSBhbGwgcm9sZXMgYW5kIGJ5IGFsbCBiYXNlIG1hcmt1cCBlbGVtZW50cy5cbiAqIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNnbG9iYWxfc3RhdGVzfVxuICpcbiAqIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBhcyBhIG1peGluLiBCZSBzdXJlIHlvdSBleHRlbmQgRkFTVEVsZW1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMge1xufVxuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWF0b21pY1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUF0b21pY1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWJ1c3lcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFCdXN5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtY29udHJvbHNcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFDb250cm9sc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWN1cnJlbnRcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFDdXJyZW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtZGVzY3JpYmVkYnlcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFEZXNjcmliZWRieVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWRldGFpbHNcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFEZXRhaWxzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtZGlzYWJsZWRcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFEaXNhYmxlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWVycm9ybWVzc2FnZVwiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUVycm9ybWVzc2FnZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWZsb3d0b1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUZsb3d0b1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWhhc3BvcHVwXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhSGFzcG9wdXBcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1oaWRkZW5cIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFIaWRkZW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1pbnZhbGlkXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhSW52YWxpZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWtleXNob3J0Y3V0c1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUtleXNob3J0Y3V0c1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWxhYmVsXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhTGFiZWxcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1sYWJlbGxlZGJ5XCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhTGFiZWxsZWRieVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWxpdmVcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFMaXZlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtb3duc1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYU93bnNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1yZWxldmFudFwiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYVJlbGV2YW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhUm9sZWRlc2NyaXB0aW9uXCIsIHZvaWQgMCk7XG4iLCJpbXBvcnQgeyBodG1sLCByZWYsIHNsb3R0ZWQgfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbmltcG9ydCB7IGVuZFNsb3RUZW1wbGF0ZSwgc3RhcnRTbG90VGVtcGxhdGUgfSBmcm9tIFwiLi4vcGF0dGVybnMvc3RhcnQtZW5kLmpzXCI7XG4vKipcbiAqIFRoZSB0ZW1wbGF0ZSBmb3IgdGhlIHtAbGluayBAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbiMoQnV0dG9uOmNsYXNzKX0gY29tcG9uZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYnV0dG9uVGVtcGxhdGUgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gaHRtbCBgXG4gICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cImNvbnRyb2xcIlxuICAgICAgICBwYXJ0PVwiY29udHJvbFwiXG4gICAgICAgID9hdXRvZm9jdXM9XCIke3ggPT4geC5hdXRvZm9jdXN9XCJcbiAgICAgICAgP2Rpc2FibGVkPVwiJHt4ID0+IHguZGlzYWJsZWR9XCJcbiAgICAgICAgZm9ybT1cIiR7eCA9PiB4LmZvcm1JZH1cIlxuICAgICAgICBmb3JtYWN0aW9uPVwiJHt4ID0+IHguZm9ybWFjdGlvbn1cIlxuICAgICAgICBmb3JtZW5jdHlwZT1cIiR7eCA9PiB4LmZvcm1lbmN0eXBlfVwiXG4gICAgICAgIGZvcm1tZXRob2Q9XCIke3ggPT4geC5mb3JtbWV0aG9kfVwiXG4gICAgICAgIGZvcm1ub3ZhbGlkYXRlPVwiJHt4ID0+IHguZm9ybW5vdmFsaWRhdGV9XCJcbiAgICAgICAgZm9ybXRhcmdldD1cIiR7eCA9PiB4LmZvcm10YXJnZXR9XCJcbiAgICAgICAgbmFtZT1cIiR7eCA9PiB4Lm5hbWV9XCJcbiAgICAgICAgdHlwZT1cIiR7eCA9PiB4LnR5cGV9XCJcbiAgICAgICAgdmFsdWU9XCIke3ggPT4geC52YWx1ZX1cIlxuICAgICAgICBhcmlhLWF0b21pYz1cIiR7eCA9PiB4LmFyaWFBdG9taWN9XCJcbiAgICAgICAgYXJpYS1idXN5PVwiJHt4ID0+IHguYXJpYUJ1c3l9XCJcbiAgICAgICAgYXJpYS1jb250cm9scz1cIiR7eCA9PiB4LmFyaWFDb250cm9sc31cIlxuICAgICAgICBhcmlhLWN1cnJlbnQ9XCIke3ggPT4geC5hcmlhQ3VycmVudH1cIlxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiJHt4ID0+IHguYXJpYURlc2NyaWJlZGJ5fVwiXG4gICAgICAgIGFyaWEtZGV0YWlscz1cIiR7eCA9PiB4LmFyaWFEZXRhaWxzfVwiXG4gICAgICAgIGFyaWEtZGlzYWJsZWQ9XCIke3ggPT4geC5hcmlhRGlzYWJsZWR9XCJcbiAgICAgICAgYXJpYS1lcnJvcm1lc3NhZ2U9XCIke3ggPT4geC5hcmlhRXJyb3JtZXNzYWdlfVwiXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCIke3ggPT4geC5hcmlhRXhwYW5kZWR9XCJcbiAgICAgICAgYXJpYS1mbG93dG89XCIke3ggPT4geC5hcmlhRmxvd3RvfVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCIke3ggPT4geC5hcmlhSGFzcG9wdXB9XCJcbiAgICAgICAgYXJpYS1oaWRkZW49XCIke3ggPT4geC5hcmlhSGlkZGVufVwiXG4gICAgICAgIGFyaWEtaW52YWxpZD1cIiR7eCA9PiB4LmFyaWFJbnZhbGlkfVwiXG4gICAgICAgIGFyaWEta2V5c2hvcnRjdXRzPVwiJHt4ID0+IHguYXJpYUtleXNob3J0Y3V0c31cIlxuICAgICAgICBhcmlhLWxhYmVsPVwiJHt4ID0+IHguYXJpYUxhYmVsfVwiXG4gICAgICAgIGFyaWEtbGFiZWxsZWRieT1cIiR7eCA9PiB4LmFyaWFMYWJlbGxlZGJ5fVwiXG4gICAgICAgIGFyaWEtbGl2ZT1cIiR7eCA9PiB4LmFyaWFMaXZlfVwiXG4gICAgICAgIGFyaWEtb3ducz1cIiR7eCA9PiB4LmFyaWFPd25zfVwiXG4gICAgICAgIGFyaWEtcHJlc3NlZD1cIiR7eCA9PiB4LmFyaWFQcmVzc2VkfVwiXG4gICAgICAgIGFyaWEtcmVsZXZhbnQ9XCIke3ggPT4geC5hcmlhUmVsZXZhbnR9XCJcbiAgICAgICAgYXJpYS1yb2xlZGVzY3JpcHRpb249XCIke3ggPT4geC5hcmlhUm9sZWRlc2NyaXB0aW9ufVwiXG4gICAgICAgICR7cmVmKFwiY29udHJvbFwiKX1cbiAgICA+XG4gICAgICAgICR7c3RhcnRTbG90VGVtcGxhdGUoY29udGV4dCwgZGVmaW5pdGlvbil9XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY29udGVudFwiIHBhcnQ9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8c2xvdCAke3Nsb3R0ZWQoXCJkZWZhdWx0U2xvdHRlZENvbnRlbnRcIil9Pjwvc2xvdD5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICAke2VuZFNsb3RUZW1wbGF0ZShjb250ZXh0LCBkZWZpbml0aW9uKX1cbiAgICA8L2J1dHRvbj5cbmA7XG4iLCJpbXBvcnQgeyBhdHRyLCBib29sZWFuQ29udmVydGVyLCBET00sIGVtcHR5QXJyYXksIG9ic2VydmFibGUsIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBrZXlFbnRlciB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuY29uc3QgcHJveHlTbG90TmFtZSA9IFwiZm9ybS1hc3NvY2lhdGVkLXByb3h5XCI7XG5jb25zdCBFbGVtZW50SW50ZXJuYWxzS2V5ID0gXCJFbGVtZW50SW50ZXJuYWxzXCI7XG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3Qgc3VwcG9ydHNFbGVtZW50SW50ZXJuYWxzID0gRWxlbWVudEludGVybmFsc0tleSBpbiB3aW5kb3cgJiZcbiAgICBcInNldEZvcm1WYWx1ZVwiIGluIHdpbmRvd1tFbGVtZW50SW50ZXJuYWxzS2V5XS5wcm90b3R5cGU7XG5jb25zdCBJbnRlcm5hbHNNYXAgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBCYXNlIGZ1bmN0aW9uIGZvciBwcm92aWRpbmcgQ3VzdG9tIEVsZW1lbnQgRm9ybSBBc3NvY2lhdGlvbi5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZvcm1Bc3NvY2lhdGVkKEJhc2VDdG9yKSB7XG4gICAgY29uc3QgQyA9IGNsYXNzIGV4dGVuZHMgQmFzZUN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJhY2sgd2hldGhlciB0aGUgdmFsdWUgaGFzIGJlZW4gY2hhbmdlZCBmcm9tIHRoZSBpbml0aWFsIHZhbHVlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIHRoZSBlbGVtZW50J3MgZGlzYWJsZWQgc3RhdGUuIEEgZGlzYWJsZWQgZWxlbWVudCB3aWxsIG5vdCBiZSBpbmNsdWRlZCBkdXJpbmcgZm9ybSBzdWJtaXNzaW9uLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAgICAgKiBIVE1MIEF0dHJpYnV0ZTogZGlzYWJsZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGVzZSBhcmUgZXZlbnRzIHRoYXQgYXJlIHN0aWxsIGZpcmVkIGJ5IHRoZSBwcm94eVxuICAgICAgICAgICAgICogZWxlbWVudCBiYXNlZCBvbiB1c2VyIC8gcHJvZ3JhbW1hdGljIGludGVyYWN0aW9uLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRoZSBwcm94eSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgYmUgdHJhbnNwYXJlbnQgdG9cbiAgICAgICAgICAgICAqIHRoZSBhcHAgYXV0aG9yLCBzbyBibG9jayB0aGVzZSBldmVudHMgZnJvbSBlbWl0dGluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5wcm94eUV2ZW50c1RvQmxvY2sgPSBbXCJjaGFuZ2VcIiwgXCJjbGlja1wiXTtcbiAgICAgICAgICAgIHRoaXMucHJveHlJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSB0aGlzLmluaXRpYWxWYWx1ZSB8fCBcIlwiO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRJbnRlcm5hbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIGVsZW1lbnRJbnRlcm5hbHMgaXMgbm90IHN1cHBvcnRlZCwgZm9ybVJlc2V0Q2FsbGJhY2sgaXNcbiAgICAgICAgICAgICAgICAvLyBib3VuZCB0byBhbiBldmVudCBsaXN0ZW5lciwgc28gZW5zdXJlIHRoZSBoYW5kbGVyJ3MgYHRoaXNgXG4gICAgICAgICAgICAgICAgLy8gY29udGV4dCBpcyBjb3JyZWN0LlxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybVJlc2V0Q2FsbGJhY2sgPSB0aGlzLmZvcm1SZXNldENhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11c3QgZXZhbHVhdGUgdG8gdHJ1ZSB0byBlbmFibGUgZWxlbWVudEludGVybmFscy5cbiAgICAgICAgICogRmVhdHVyZSBkZXRlY3RzIEFQSSBzdXBwb3J0IGFuZCByZXNvbHZlIHJlc3BlY3RpdmVseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBnZXQgZm9ybUFzc29jaWF0ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwcG9ydHNFbGVtZW50SW50ZXJuYWxzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB2YWxpZGl0eSBzdGF0ZSBvZiB0aGUgZWxlbWVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAYWxwaGFcbiAgICAgICAgICovXG4gICAgICAgIGdldCB2YWxpZGl0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnRlcm5hbHNcbiAgICAgICAgICAgICAgICA/IHRoaXMuZWxlbWVudEludGVybmFscy52YWxpZGl0eVxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm94eS52YWxpZGl0eTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmUgYSByZWZlcmVuY2UgdG8gdGhlIGFzc29jaWF0ZWQgZm9ybS5cbiAgICAgICAgICogUmV0dXJucyBudWxsIGlmIG5vdCBhc3NvY2lhdGVkIHRvIGFueSBmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAYWxwaGFcbiAgICAgICAgICovXG4gICAgICAgIGdldCBmb3JtKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFscyA/IHRoaXMuZWxlbWVudEludGVybmFscy5mb3JtIDogdGhpcy5wcm94eS5mb3JtO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgbG9jYWxpemVkIHZhbGlkYXRpb24gbWVzc2FnZSxcbiAgICAgICAgICogb3IgY3VzdG9tIHZhbGlkYXRpb24gbWVzc2FnZSBpZiBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBhbHBoYVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHZhbGlkYXRpb25NZXNzYWdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFsc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50SW50ZXJuYWxzLnZhbGlkYXRpb25NZXNzYWdlXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3h5LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBlbGVtZW50IHdpbGwgYmUgdmFsaWRhdGVkIHdoZW4gdGhlXG4gICAgICAgICAqIGZvcm0gaXMgc3VibWl0dGVkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgd2lsbFZhbGlkYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFsc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50SW50ZXJuYWxzLndpbGxWYWxpZGF0ZVxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm94eS53aWxsVmFsaWRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIGFsbCBhc3NvY2lhdGVkIGxhYmVsIGVsZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgbGFiZWxzKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEludGVybmFscykge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKEFycmF5LmZyb20odGhpcy5lbGVtZW50SW50ZXJuYWxzLmxhYmVscykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5vd25lckRvY3VtZW50ICYmXG4gICAgICAgICAgICAgICAgdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIC8vIExhYmVscyBhc3NvY2lhdGVkIGJ5IHdyYXBwaW5nIHRoZSBlbGVtZW50OiA8bGFiZWw+PGN1c3RvbS1lbGVtZW50PjwvY3VzdG9tLWVsZW1lbnQ+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRMYWJlbHMgPSB0aGlzLnByb3h5LmxhYmVscztcbiAgICAgICAgICAgICAgICAvLyBMYWJlbHMgYXNzb2NpYXRlZCB1c2luZyB0aGUgYGZvcmAgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgY29uc3QgZm9yTGFiZWxzID0gQXJyYXkuZnJvbSh0aGlzLnByb3h5LmdldFJvb3ROb2RlKCkucXVlcnlTZWxlY3RvckFsbChgW2Zvcj0nJHt0aGlzLmlkfSddYCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVscyA9IHBhcmVudExhYmVsc1xuICAgICAgICAgICAgICAgICAgICA/IGZvckxhYmVscy5jb25jYXQoQXJyYXkuZnJvbShwYXJlbnRMYWJlbHMpKVxuICAgICAgICAgICAgICAgICAgICA6IGZvckxhYmVscztcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShsYWJlbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgYHZhbHVlYCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICAgICAqIEBwYXJhbSBwcmV2aW91cyAtIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgZWxlbWVudHMgZXh0ZW5kaW5nIGBGb3JtQXNzb2NpYXRlZGAgaW1wbGVtZW50IGEgYHZhbHVlQ2hhbmdlZGAgbWV0aG9kXG4gICAgICAgICAqIFRoZXkgbXVzdCBiZSBzdXJlIHRvIGludm9rZSBgc3VwZXIudmFsdWVDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KWAgdG8gZW5zdXJlXG4gICAgICAgICAqIHByb3BlciBmdW5jdGlvbmluZyBvZiBgRm9ybUFzc29jaWF0ZWRgXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZUNoYW5nZWQocHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnNldEZvcm1WYWx1ZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50VmFsdWVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuY3VycmVudFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGBpbml0aWFsVmFsdWVgIHByb3BlcnR5IGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZXZpb3VzIC0gdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBlbGVtZW50cyBleHRlbmRpbmcgYEZvcm1Bc3NvY2lhdGVkYCBpbXBsZW1lbnQgYSBgaW5pdGlhbFZhbHVlQ2hhbmdlZGAgbWV0aG9kXG4gICAgICAgICAqIFRoZXkgbXVzdCBiZSBzdXJlIHRvIGludm9rZSBgc3VwZXIuaW5pdGlhbFZhbHVlQ2hhbmdlZChwcmV2aW91cywgbmV4dClgIHRvIGVuc3VyZVxuICAgICAgICAgKiBwcm9wZXIgZnVuY3Rpb25pbmcgb2YgYEZvcm1Bc3NvY2lhdGVkYFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdGlhbFZhbHVlQ2hhbmdlZChwcmV2aW91cywgbmV4dCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGNsZWFuIGFuZCB0aGUgY29tcG9uZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgRE9NXG4gICAgICAgICAgICAvLyB0aGVuIHNldCB2YWx1ZSBlcXVhbCB0byB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgICAgICAgaWYgKCF0aGlzLmRpcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbml0aWFsVmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgYGRpc2FibGVkYCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwcmV2aW91cyAtIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgZWxlbWVudHMgZXh0ZW5kaW5nIGBGb3JtQXNzb2NpYXRlZGAgaW1wbGVtZW50IGEgYGRpc2FibGVkQ2hhbmdlZGAgbWV0aG9kXG4gICAgICAgICAqIFRoZXkgbXVzdCBiZSBzdXJlIHRvIGludm9rZSBgc3VwZXIuZGlzYWJsZWRDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KWAgdG8gZW5zdXJlXG4gICAgICAgICAqIHByb3BlciBmdW5jdGlvbmluZyBvZiBgRm9ybUFzc29jaWF0ZWRgXG4gICAgICAgICAqL1xuICAgICAgICBkaXNhYmxlZENoYW5nZWQocHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlZFwiLCB0aGlzLmRpc2FibGVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgYG5hbWVgIHByb3BlcnR5IGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZXZpb3VzIC0gdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBlbGVtZW50cyBleHRlbmRpbmcgYEZvcm1Bc3NvY2lhdGVkYCBpbXBsZW1lbnQgYSBgbmFtZUNoYW5nZWRgIG1ldGhvZFxuICAgICAgICAgKiBUaGV5IG11c3QgYmUgc3VyZSB0byBpbnZva2UgYHN1cGVyLm5hbWVDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KWAgdG8gZW5zdXJlXG4gICAgICAgICAqIHByb3BlciBmdW5jdGlvbmluZyBvZiBgRm9ybUFzc29jaWF0ZWRgXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lQ2hhbmdlZChwcmV2aW91cywgbmV4dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHkubmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlZCB3aGVuIHRoZSBgcmVxdWlyZWRgIHByb3BlcnR5IGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZXZpb3VzIC0gdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBlbGVtZW50cyBleHRlbmRpbmcgYEZvcm1Bc3NvY2lhdGVkYCBpbXBsZW1lbnQgYSBgcmVxdWlyZWRDaGFuZ2VkYCBtZXRob2RcbiAgICAgICAgICogVGhleSBtdXN0IGJlIHN1cmUgdG8gaW52b2tlIGBzdXBlci5yZXF1aXJlZENoYW5nZWQocHJldmlvdXMsIG5leHQpYCB0byBlbnN1cmVcbiAgICAgICAgICogcHJvcGVyIGZ1bmN0aW9uaW5nIG9mIGBGb3JtQXNzb2NpYXRlZGBcbiAgICAgICAgICovXG4gICAgICAgIHJlcXVpcmVkQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5yZXF1aXJlZCA9IHRoaXMucmVxdWlyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4gdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwicmVxdWlyZWRcIiwgdGhpcy5yZXF1aXJlZCkpO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZWxlbWVudCBpbnRlcm5hbHMgb2JqZWN0LiBXaWxsIG9ubHkgZXhpc3RcbiAgICAgICAgICogaW4gYnJvd3NlcnMgc3VwcG9ydGluZyB0aGUgYXR0YWNoSW50ZXJuYWxzIEFQSVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGVsZW1lbnRJbnRlcm5hbHMoKSB7XG4gICAgICAgICAgICBpZiAoIXN1cHBvcnRzRWxlbWVudEludGVybmFscykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGludGVybmFscyA9IEludGVybmFsc01hcC5nZXQodGhpcyk7XG4gICAgICAgICAgICBpZiAoIWludGVybmFscykge1xuICAgICAgICAgICAgICAgIGludGVybmFscyA9IHRoaXMuYXR0YWNoSW50ZXJuYWxzKCk7XG4gICAgICAgICAgICAgICAgSW50ZXJuYWxzTWFwLnNldCh0aGlzLCBpbnRlcm5hbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFscztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCB0aGlzLl9rZXlwcmVzc0hhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRJbnRlcm5hbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaFByb3h5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIHRoaXMuZm9ybVJlc2V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzLnByb3h5RXZlbnRzVG9CbG9jay5mb3JFYWNoKG5hbWUgPT4gdGhpcy5wcm94eS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHRoaXMuc3RvcFByb3BhZ2F0aW9uKSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWxlbWVudEludGVybmFscyAmJiB0aGlzLmZvcm0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIHRoaXMuZm9ybVJlc2V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdmFsaWRpdHkgb2YgdGhlIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjaGVja1ZhbGlkaXR5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFsc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50SW50ZXJuYWxzLmNoZWNrVmFsaWRpdHkoKVxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm94eS5jaGVja1ZhbGlkaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiB0aGUgY3VycmVudCB2YWxpZGl0eSBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgICogSWYgZmFsc2UsIGZpcmVzIGFuIGludmFsaWQgZXZlbnQgYXQgdGhlIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICByZXBvcnRWYWxpZGl0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnRlcm5hbHNcbiAgICAgICAgICAgICAgICA/IHRoaXMuZWxlbWVudEludGVybmFscy5yZXBvcnRWYWxpZGl0eSgpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3h5LnJlcG9ydFZhbGlkaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgdmFsaWRpdHkgb2YgdGhlIGNvbnRyb2wuIEluIGNhc2VzIHdoZW4gdGhlIGVsZW1lbnRJbnRlcm5hbHMgb2JqZWN0IGlzIG5vdFxuICAgICAgICAgKiBhdmFpbGFibGUgKGFuZCB0aGUgcHJveHkgZWxlbWVudCBpcyB1c2VkIHRvIHJlcG9ydCB2YWxpZGl0eSksIHRoaXMgZnVuY3Rpb24gd2lsbFxuICAgICAgICAgKiBkbyBub3RoaW5nIHVubGVzcyBhIG1lc3NhZ2UgaXMgcHJvdmlkZWQsIGF0IHdoaWNoIHBvaW50IHRoZSBzZXRDdXN0b21WYWxpZGl0eSBtZXRob2RcbiAgICAgICAgICogb2YgdGhlIHByb3h5IGVsZW1lbnQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIHByb3ZpZGVkIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSBmbGFncyAtIFZhbGlkaXR5IGZsYWdzXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gT3B0aW9uYWwgbWVzc2FnZSB0byBzdXBwbHlcbiAgICAgICAgICogQHBhcmFtIGFuY2hvciAtIE9wdGlvbmFsIGVsZW1lbnQgdXNlZCBieSBVQSB0byBkaXNwbGF5IGFuIGludGVyYWN0aXZlIHZhbGlkYXRpb24gVUlcbiAgICAgICAgICovXG4gICAgICAgIHNldFZhbGlkaXR5KGZsYWdzLCBtZXNzYWdlLCBhbmNob3IpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRJbnRlcm5hbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRJbnRlcm5hbHMuc2V0VmFsaWRpdHkoZmxhZ3MsIG1lc3NhZ2UsIGFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHkuc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiBhIGNvbm5lY3RlZCBjb21wb25lbnQncyBmb3JtIG9yIGZpZWxkc2V0IGhhcyBpdHMgZGlzYWJsZWRcbiAgICAgICAgICogc3RhdGUgY2hhbmdlZC5cbiAgICAgICAgICogQHBhcmFtIGRpc2FibGVkIC0gdGhlIGRpc2FibGVkIHZhbHVlIG9mIHRoZSBmb3JtIC8gZmllbGRzZXRcbiAgICAgICAgICovXG4gICAgICAgIGZvcm1EaXNhYmxlZENhbGxiYWNrKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybVJlc2V0Q2FsbGJhY2soKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbml0aWFsVmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIHRoZSBwcm94eSBlbGVtZW50IHRvIHRoZSBET01cbiAgICAgICAgICovXG4gICAgICAgIGF0dGFjaFByb3h5KCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByb3h5SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHlFdmVudHNUb0Jsb2NrLmZvckVhY2gobmFtZSA9PiB0aGlzLnByb3h5LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgdGhpcy5zdG9wUHJvcGFnYXRpb24pKTtcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgdHlwaWNhbGx5IG1hcHBlZCB0byB0aGUgcHJveHkgZHVyaW5nXG4gICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgY2hhbmdlIGNhbGxiYWNrcywgYnV0IGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBpbml0aWFsIGNhbGwgb2YgdGhlIGNhbGxiYWNrLCB0aGUgcHJveHkgaXNcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCB1bmRlZmluZWQuIFdlIHNob3VsZCBmaW5kIGEgYmV0dGVyIHdheSB0byBhZGRyZXNzIHRoaXMuXG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5kaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5yZXF1aXJlZCA9IHRoaXMucmVxdWlyZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eS5uYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eS52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucHJveHkuc2V0QXR0cmlidXRlKFwic2xvdFwiLCBwcm94eVNsb3ROYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5U2xvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzbG90XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHlTbG90LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgcHJveHlTbG90TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcHBlbmRDaGlsZCh0aGlzLnByb3h5U2xvdCk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMucHJveHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhY2ggdGhlIHByb3h5IGVsZW1lbnQgZnJvbSB0aGUgRE9NXG4gICAgICAgICAqL1xuICAgICAgICBkZXRhY2hQcm94eSgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5wcm94eSk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLnByb3h5U2xvdCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIHtAaW5oZXJpdERvYyAoRm9ybUFzc29jaWF0ZWQ6aW50ZXJmYWNlKS52YWxpZGF0ZX0gKi9cbiAgICAgICAgdmFsaWRhdGUoYW5jaG9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYWxpZGl0eSh0aGlzLnByb3h5LnZhbGlkaXR5LCB0aGlzLnByb3h5LnZhbGlkYXRpb25NZXNzYWdlLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3NvY2lhdGVzIHRoZSBwcm92aWRlZCB2YWx1ZSAoYW5kIG9wdGlvbmFsIHN0YXRlKSB3aXRoIHRoZSBwYXJlbnQgZm9ybS5cbiAgICAgICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldFxuICAgICAgICAgKiBAcGFyYW0gc3RhdGUgLSBUaGUgc3RhdGUgb2JqZWN0IHByb3ZpZGVkIHRvIGR1cmluZyBzZXNzaW9uIHJlc3RvcmVzIGFuZCB3aGVuIGF1dG9maWxsaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0Rm9ybVZhbHVlKHZhbHVlLCBzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEludGVybmFscykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudEludGVybmFscy5zZXRGb3JtVmFsdWUodmFsdWUsIHN0YXRlIHx8IHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfa2V5cHJlc3NIYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGtleUVudGVyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbXBsaWNpdCBzdWJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0QnV0dG9uID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbdHlwZT1zdWJtaXRdXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEJ1dHRvbiA9PT0gbnVsbCB8fCBkZWZhdWx0QnV0dG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gc3RvcCBwcm9wYWdhdGlvbiBvZiBwcm94eSBlbGVtZW50IGV2ZW50c1xuICAgICAgICAgKiBAcGFyYW0gZSAtIEV2ZW50IG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGF0dHIoeyBtb2RlOiBcImJvb2xlYW5cIiB9KShDLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiKTtcbiAgICBhdHRyKHsgbW9kZTogXCJmcm9tVmlld1wiLCBhdHRyaWJ1dGU6IFwidmFsdWVcIiB9KShDLnByb3RvdHlwZSwgXCJpbml0aWFsVmFsdWVcIik7XG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJjdXJyZW50LXZhbHVlXCIgfSkoQy5wcm90b3R5cGUsIFwiY3VycmVudFZhbHVlXCIpO1xuICAgIGF0dHIoQy5wcm90b3R5cGUsIFwibmFtZVwiKTtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSkoQy5wcm90b3R5cGUsIFwicmVxdWlyZWRcIik7XG4gICAgb2JzZXJ2YWJsZShDLnByb3RvdHlwZSwgXCJ2YWx1ZVwiKTtcbiAgICByZXR1cm4gQztcbn1cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDaGVja2FibGVGb3JtQXNzb2NpYXRlZChCYXNlQ3Rvcikge1xuICAgIGNsYXNzIEMgZXh0ZW5kcyBGb3JtQXNzb2NpYXRlZChCYXNlQ3Rvcikge1xuICAgIH1cbiAgICBjbGFzcyBEIGV4dGVuZHMgQyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHN1cGVyKGFyZ3MpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFja3Mgd2hldGhlciB0aGUgXCJjaGVja2VkXCIgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIHByb3ZpZGUgY29uc2lzdGVudCBiZWhhdmlvciB3aXRoXG4gICAgICAgICAgICAgKiBub3JtYWwgaW5wdXQgY2hlY2tib3hlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmRpcnR5Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm92aWRlcyB0aGUgZGVmYXVsdCBjaGVja2VkbmVzcyBvZiB0aGUgaW5wdXQgZWxlbWVudFxuICAgICAgICAgICAgICogUGFzc2VkIGRvd24gdG8gcHJveHlcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgICAgICogSFRNTCBBdHRyaWJ1dGU6IGNoZWNrZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkQXR0cmlidXRlID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBjaGVja2VkIHN0YXRlIG9mIHRoZSBjb250cm9sLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBSZS1pbml0aWFsaXplIGRpcnR5Q2hlY2tlZCBiZWNhdXNlIGluaXRpYWxpemF0aW9uIG9mIG90aGVyIHZhbHVlc1xuICAgICAgICAgICAgLy8gY2F1c2VzIGl0IHRvIGJlY29tZSB0cnVlXG4gICAgICAgICAgICB0aGlzLmRpcnR5Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrZWRBdHRyaWJ1dGVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0Q2hlY2tlZCA9IHRoaXMuY2hlY2tlZEF0dHJpYnV0ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBkZWZhdWx0Q2hlY2tlZENoYW5nZWQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlydHlDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0dGluZyB0aGlzLmNoZWNrZWQgd2lsbCBjYXVzZSB1cyB0byBlbnRlciBhIGRpcnR5IHN0YXRlLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCBpZiB3ZSBhcmUgY2xlYW4gd2hlbiBkZWZhdWx0Q2hlY2tlZCBpcyBjaGFuZ2VkLCB3ZSB3YW50IHRvIHN0YXlcbiAgICAgICAgICAgICAgICAvLyBpbiBhIGNsZWFuIHN0YXRlLCBzbyByZXNldCB0aGlzLmRpcnR5Q2hlY2tlZFxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuZGVmYXVsdENoZWNrZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGVja2VkQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlydHlDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hlY2tlZCA9IHRoaXMuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9ybSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5jaGVja2VkID0gdGhpcy5jaGVja2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJjaGFuZ2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudENoZWNrZWRDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuY3VycmVudENoZWNrZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlRm9ybSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jaGVja2VkID8gdGhpcy52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNldEZvcm1WYWx1ZSh2YWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1SZXNldENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuZm9ybVJlc2V0Q2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9ICEhdGhpcy5jaGVja2VkQXR0cmlidXRlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImNoZWNrZWRcIiwgbW9kZTogXCJib29sZWFuXCIgfSkoRC5wcm90b3R5cGUsIFwiY2hlY2tlZEF0dHJpYnV0ZVwiKTtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImN1cnJlbnQtY2hlY2tlZFwiLCBjb252ZXJ0ZXI6IGJvb2xlYW5Db252ZXJ0ZXIgfSkoRC5wcm90b3R5cGUsIFwiY3VycmVudENoZWNrZWRcIik7XG4gICAgb2JzZXJ2YWJsZShELnByb3RvdHlwZSwgXCJkZWZhdWx0Q2hlY2tlZFwiKTtcbiAgICBvYnNlcnZhYmxlKEQucHJvdG90eXBlLCBcImNoZWNrZWRcIik7XG4gICAgcmV0dXJuIEQ7XG59XG4iLCJpbXBvcnQgeyBGb3JtQXNzb2NpYXRlZCB9IGZyb20gXCIuLi9mb3JtLWFzc29jaWF0ZWQvZm9ybS1hc3NvY2lhdGVkLmpzXCI7XG5pbXBvcnQgeyBGb3VuZGF0aW9uRWxlbWVudCB9IGZyb20gXCIuLi9mb3VuZGF0aW9uLWVsZW1lbnQvZm91bmRhdGlvbi1lbGVtZW50LmpzXCI7XG5jbGFzcyBfQnV0dG9uIGV4dGVuZHMgRm91bmRhdGlvbkVsZW1lbnQge1xufVxuLyoqXG4gKiBBIGZvcm0tYXNzb2NpYXRlZCBiYXNlIGNsYXNzIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhCdXR0b246Y2xhc3MpfSBjb21wb25lbnQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3JtQXNzb2NpYXRlZEJ1dHRvbiBleHRlbmRzIEZvcm1Bc3NvY2lhdGVkKF9CdXR0b24pIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wcm94eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhdHRyLCBvYnNlcnZhYmxlIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcywgU3RhcnRFbmQsIH0gZnJvbSBcIi4uL3BhdHRlcm5zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXBwbHktbWl4aW5zLmpzXCI7XG5pbXBvcnQgeyBGb3JtQXNzb2NpYXRlZEJ1dHRvbiB9IGZyb20gXCIuL2J1dHRvbi5mb3JtLWFzc29jaWF0ZWQuanNcIjtcbi8qKlxuICogQSBCdXR0b24gQ3VzdG9tIEhUTUwgRWxlbWVudC5cbiAqIEJhc2VkIGxhcmdlbHkgb24gdGhlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvYnV0dG9uIHwgPGJ1dHRvbj4gZWxlbWVudCB9LlxuICpcbiAqIEBzbG90IHN0YXJ0IC0gQ29udGVudCB3aGljaCBjYW4gYmUgcHJvdmlkZWQgYmVmb3JlIHRoZSBidXR0b24gY29udGVudFxuICogQHNsb3QgZW5kIC0gQ29udGVudCB3aGljaCBjYW4gYmUgcHJvdmlkZWQgYWZ0ZXIgdGhlIGJ1dHRvbiBjb250ZW50XG4gKiBAc2xvdCAtIFRoZSBkZWZhdWx0IHNsb3QgZm9yIGJ1dHRvbiBjb250ZW50XG4gKiBAY3NzcGFydCBjb250cm9sIC0gVGhlIGJ1dHRvbiBlbGVtZW50XG4gKiBAY3NzcGFydCBjb250ZW50IC0gVGhlIGVsZW1lbnQgd3JhcHBpbmcgYnV0dG9uIGNvbnRlbnRcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBGb3JtQXNzb2NpYXRlZEJ1dHRvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmV2ZW50IGV2ZW50cyB0byBwcm9wYWdhdGUgaWYgZGlzYWJsZWQgYW5kIGhhcyBubyBzbG90dGVkIGNvbnRlbnQgd3JhcHBlZCBpbiBIVE1MIGVsZW1lbnRzXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVDbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCAmJiAoKF9hID0gdGhpcy5kZWZhdWx0U2xvdHRlZENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIDw9IDEpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogU3VibWl0cyB0aGUgcGFyZW50IGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFuZGxlU3VibWlzc2lvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5mb3JtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXR0YWNoZWQgPSB0aGlzLnByb3h5LmlzQ29ubmVjdGVkO1xuICAgICAgICAgICAgaWYgKCFhdHRhY2hlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUHJveHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJyb3dzZXIgc3VwcG9ydCBmb3IgcmVxdWVzdFN1Ym1pdCBpcyBub3QgY29tcHJlaGVuc2l2ZVxuICAgICAgICAgICAgLy8gc28gY2xpY2sgdGhlIHByb3h5IGlmIGl0IGlzbid0IHN1cHBvcnRlZFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuZm9ybS5yZXF1ZXN0U3VibWl0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICA/IHRoaXMuZm9ybS5yZXF1ZXN0U3VibWl0KHRoaXMucHJveHkpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3h5LmNsaWNrKCk7XG4gICAgICAgICAgICBpZiAoIWF0dGFjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhY2hQcm94eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzZXRzIHRoZSBwYXJlbnQgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVGb3JtUmVzZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZvcm0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNldCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBmb2N1cyBjYWxsIGZvciB3aGVyZSBkZWxlZ2F0ZXNGb2N1cyBpcyB1bnN1cHBvcnRlZC5cbiAgICAgICAgICogVGhpcyBjaGVjayB3b3JrcyBmb3IgQ2hyb21lLCBFZGdlIENocm9taXVtLCBGaXJlRm94LCBhbmQgU2FmYXJpXG4gICAgICAgICAqIFJlbGV2YW50IFBSIG9uIHRoZSBGaXJlZm94IGJyb3dzZXI6IGh0dHBzOi8vcGhhYnJpY2F0b3Iuc2VydmljZXMubW96aWxsYS5jb20vRDEyMzg1OFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVVbnN1cHBvcnRlZERlbGVnYXRlc0ZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGRlbGVnYXRlc0ZvY3VzIGlzIHN1cHBvcnRlZFxuICAgICAgICAgICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmXG4gICAgICAgICAgICAgICAgIXdpbmRvdy5TaGFkb3dSb290LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcImRlbGVnYXRlc0ZvY3VzXCIpICYmXG4gICAgICAgICAgICAgICAgKChfYSA9IHRoaXMuJGZhc3RDb250cm9sbGVyLmRlZmluaXRpb24uc2hhZG93T3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlbGVnYXRlc0ZvY3VzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvcm1hY3Rpb25DaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucHJveHkuZm9ybUFjdGlvbiA9IHRoaXMuZm9ybWFjdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JtZW5jdHlwZUNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5mb3JtRW5jdHlwZSA9IHRoaXMuZm9ybWVuY3R5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9ybW1ldGhvZENoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5mb3JtTWV0aG9kID0gdGhpcy5mb3JtbWV0aG9kO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcm1ub3ZhbGlkYXRlQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LmZvcm1Ob1ZhbGlkYXRlID0gdGhpcy5mb3Jtbm92YWxpZGF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JtdGFyZ2V0Q2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LmZvcm1UYXJnZXQgPSB0aGlzLmZvcm10YXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHlwZUNoYW5nZWQocHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCA9PT0gXCJzdWJtaXRcIiAmJiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVN1Ym1pc3Npb24pO1xuICAgICAgICBwcmV2aW91cyA9PT0gXCJzdWJtaXRcIiAmJiB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVN1Ym1pc3Npb24pO1xuICAgICAgICBuZXh0ID09PSBcInJlc2V0XCIgJiYgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVGb3JtUmVzZXQpO1xuICAgICAgICBwcmV2aW91cyA9PT0gXCJyZXNldFwiICYmIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlRm9ybVJlc2V0KTtcbiAgICB9XG4gICAgLyoqIHtAaW5oZXJpdERvYyAoRm9ybUFzc29jaWF0ZWQ6aW50ZXJmYWNlKS52YWxpZGF0ZX0gKi9cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgc3VwZXIudmFsaWRhdGUodGhpcy5jb250cm9sKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5wcm94eS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlVW5zdXBwb3J0ZWREZWxlZ2F0ZXNGb2N1cygpO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oKF9hID0gdGhpcy5jb250cm9sKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKHNwYW4pID0+IHtcbiAgICAgICAgICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbSgoX2EgPSB0aGlzLmNvbnRyb2wpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jaGlsZHJlbik7XG4gICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoc3BhbikgPT4ge1xuICAgICAgICAgICAgICAgIHNwYW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiYXV0b2ZvY3VzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImZvcm1cIiB9KVxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtSWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHJcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybWFjdGlvblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0clxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtZW5jdHlwZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0clxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtbWV0aG9kXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybW5vdmFsaWRhdGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHJcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybXRhcmdldFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0clxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJ0eXBlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBCdXR0b24ucHJvdG90eXBlLCBcImRlZmF1bHRTbG90dGVkQ29udGVudFwiLCB2b2lkIDApO1xuLyoqXG4gKiBJbmNsdWRlcyBBUklBIHN0YXRlcyBhbmQgcHJvcGVydGllcyByZWxhdGluZyB0byB0aGUgQVJJQSBidXR0b24gcm9sZVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIERlbGVnYXRlc0FSSUFCdXR0b24ge1xufVxuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWV4cGFuZGVkXCIgfSlcbl0sIERlbGVnYXRlc0FSSUFCdXR0b24ucHJvdG90eXBlLCBcImFyaWFFeHBhbmRlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLXByZXNzZWRcIiB9KVxuXSwgRGVsZWdhdGVzQVJJQUJ1dHRvbi5wcm90b3R5cGUsIFwiYXJpYVByZXNzZWRcIiwgdm9pZCAwKTtcbmFwcGx5TWl4aW5zKERlbGVnYXRlc0FSSUFCdXR0b24sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzKTtcbmFwcGx5TWl4aW5zKEJ1dHRvbiwgU3RhcnRFbmQsIERlbGVnYXRlc0FSSUFCdXR0b24pO1xuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciwgb2JzZXJ2YWJsZSwgT2JzZXJ2YWJsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuaW1wb3J0IHsgRm91bmRhdGlvbkVsZW1lbnQgfSBmcm9tIFwiLi4vZm91bmRhdGlvbi1lbGVtZW50L2ZvdW5kYXRpb24tZWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMgfSBmcm9tIFwiLi4vcGF0dGVybnMvYXJpYS1nbG9iYWwuanNcIjtcbmltcG9ydCB7IFN0YXJ0RW5kIH0gZnJvbSBcIi4uL3BhdHRlcm5zL3N0YXJ0LWVuZC5qc1wiO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2FwcGx5LW1peGlucy5qc1wiO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBlbGVtZW50IGlzIGEge0BsaW5rIChMaXN0Ym94T3B0aW9uOmNsYXNzKX1cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHRlc3QuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpc3Rib3hPcHRpb24oZWwpIHtcbiAgICByZXR1cm4gKGlzSFRNTEVsZW1lbnQoZWwpICYmXG4gICAgICAgIChlbC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcIm9wdGlvblwiIHx8XG4gICAgICAgICAgICBlbCBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSk7XG59XG4vKipcbiAqIEFuIE9wdGlvbiBDdXN0b20gSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB7QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLTEuMS8jb3B0aW9uIHwgQVJJQSBvcHRpb24gfS5cbiAqXG4gKiBAc2xvdCBzdGFydCAtIENvbnRlbnQgd2hpY2ggY2FuIGJlIHByb3ZpZGVkIGJlZm9yZSB0aGUgbGlzdGJveCBvcHRpb24gY29udGVudFxuICogQHNsb3QgZW5kIC0gQ29udGVudCB3aGljaCBjYW4gYmUgcHJvdmlkZWQgYWZ0ZXIgdGhlIGxpc3Rib3ggb3B0aW9uIGNvbnRlbnRcbiAqIEBzbG90IC0gVGhlIGRlZmF1bHQgc2xvdCBmb3IgbGlzdGJveCBvcHRpb24gY29udGVudFxuICogQGNzc3BhcnQgY29udGVudCAtIFdyYXBzIHRoZSBsaXN0Ym94IG9wdGlvbiBjb250ZW50XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgTGlzdGJveE9wdGlvbiBleHRlbmRzIEZvdW5kYXRpb25FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCB2YWx1ZSwgZGVmYXVsdFNlbGVjdGVkLCBzZWxlY3RlZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHRTZWxlY3RlZCBzdGF0ZSBvZiB0aGUgb3B0aW9uLlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIHdoZXRoZXIgdGhlIFwic2VsZWN0ZWRcIiBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoZWNrZWQgc3RhdGUgb2YgdGhlIGNvbnRyb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLmRlZmF1bHRTZWxlY3RlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrIHdoZXRoZXIgdGhlIHZhbHVlIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSB0aGUgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVZhbHVlID0gZmFsc2U7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0ZWQgPSBkZWZhdWx0U2VsZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm94eSA9IG5ldyBPcHRpb24oYCR7dGhpcy50ZXh0Q29udGVudH1gLCB0aGlzLmluaXRpYWxWYWx1ZSwgdGhpcy5kZWZhdWx0U2VsZWN0ZWQsIHRoaXMuc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnByb3h5LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYXJpYUNoZWNrZWQgcHJvcGVydHkgd2hlbiB0aGUgY2hlY2tlZCBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgY2hlY2tlZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgY2hlY2tlZCB2YWx1ZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNoZWNrZWRDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhpcy5hcmlhQ2hlY2tlZCA9IG5leHQgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyaWFDaGVja2VkID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJveHkncyB0ZXh0IGNvbnRlbnQgd2hlbiB0aGUgZGVmYXVsdCBzbG90IGNoYW5nZXMuXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgY29udGVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgY29udGVudCB2YWx1ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29udGVudENoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRlbWl0KFwiY29udGVudGNoYW5nZVwiLCBudWxsLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG4gICAgfVxuICAgIGRlZmF1bHRTZWxlY3RlZENoYW5nZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eVNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5kZWZhdWx0U2VsZWN0ZWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5zZWxlY3RlZCA9IHRoaXMuZGVmYXVsdFNlbGVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2FibGVkQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHRoaXMuYXJpYURpc2FibGVkID0gdGhpcy5kaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RlZEF0dHJpYnV0ZUNoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEF0dHJpYnV0ZTtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MT3B0aW9uRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5kZWZhdWx0U2VsZWN0ZWQgPSB0aGlzLmRlZmF1bHRTZWxlY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RlZENoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMuYXJpYVNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICBpZiAoIXRoaXMuZGlydHlTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0aWFsVmFsdWVDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBjbGVhbiBhbmQgdGhlIGNvbXBvbmVudCBpcyBjb25uZWN0ZWQgdG8gdGhlIERPTVxuICAgICAgICAvLyB0aGVuIHNldCB2YWx1ZSBlcXVhbCB0byB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgICBpZiAoIXRoaXMuZGlydHlWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGxhYmVsKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnZhbHVlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRleHQ7XG4gICAgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoL1xccysvZywgXCIgXCIpLnRyaW0oKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJcIjtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5leHQpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBgJHtuZXh0ICE9PSBudWxsICYmIG5leHQgIT09IHZvaWQgMCA/IG5leHQgOiBcIlwifWA7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTE9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucHJveHkudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBPYnNlcnZhYmxlLm5vdGlmeSh0aGlzLCBcInZhbHVlXCIpO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCBcInZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGV4dDtcbiAgICB9XG4gICAgZ2V0IGZvcm0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5ID8gdGhpcy5wcm94eS5mb3JtIDogbnVsbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJjaGVja2VkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJkZWZhdWx0U2VsZWN0ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBtb2RlOiBcImJvb2xlYW5cIiB9KVxuXSwgTGlzdGJveE9wdGlvbi5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwic2VsZWN0ZWRcIiwgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIExpc3Rib3hPcHRpb24ucHJvdG90eXBlLCBcInNlbGVjdGVkQXR0cmlidXRlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJzZWxlY3RlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJ2YWx1ZVwiLCBtb2RlOiBcImZyb21WaWV3XCIgfSlcbl0sIExpc3Rib3hPcHRpb24ucHJvdG90eXBlLCBcImluaXRpYWxWYWx1ZVwiLCB2b2lkIDApO1xuLyoqXG4gKiBTdGF0ZXMgYW5kIHByb3BlcnRpZXMgcmVsYXRpbmcgdG8gdGhlIEFSSUEgYG9wdGlvbmAgcm9sZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxlZ2F0ZXNBUklBTGlzdGJveE9wdGlvbiB7XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveE9wdGlvbi5wcm90b3R5cGUsIFwiYXJpYUNoZWNrZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJhcmlhUG9zSW5TZXRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJhcmlhU2VsZWN0ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJhcmlhU2V0U2l6ZVwiLCB2b2lkIDApO1xuYXBwbHlNaXhpbnMoRGVsZWdhdGVzQVJJQUxpc3Rib3hPcHRpb24sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzKTtcbmFwcGx5TWl4aW5zKExpc3Rib3hPcHRpb24sIFN0YXJ0RW5kLCBEZWxlZ2F0ZXNBUklBTGlzdGJveE9wdGlvbik7XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhdHRyLCBvYnNlcnZhYmxlLCBPYnNlcnZhYmxlIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBmaW5kTGFzdEluZGV4LCBrZXlBcnJvd0Rvd24sIGtleUFycm93VXAsIGtleUVuZCwga2V5RW50ZXIsIGtleUVzY2FwZSwga2V5SG9tZSwga2V5U3BhY2UsIGtleVRhYiwgdW5pcXVlSWQsIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzXCI7XG5pbXBvcnQgeyBGb3VuZGF0aW9uRWxlbWVudCB9IGZyb20gXCIuLi9mb3VuZGF0aW9uLWVsZW1lbnQvZm91bmRhdGlvbi1lbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBpc0xpc3Rib3hPcHRpb24gfSBmcm9tIFwiLi4vbGlzdGJveC1vcHRpb24vbGlzdGJveC1vcHRpb24uanNcIjtcbmltcG9ydCB7IEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4uL3BhdHRlcm5zL2FyaWEtZ2xvYmFsLmpzXCI7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXBwbHktbWl4aW5zLmpzXCI7XG4vKipcbiAqIEEgTGlzdGJveCBDdXN0b20gSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI2xpc3Rib3ggfCBBUklBIGxpc3Rib3ggfS5cbiAqXG4gKiBAc2xvdCAtIFRoZSBkZWZhdWx0IHNsb3QgZm9yIHRoZSBsaXN0Ym94IG9wdGlvbnNcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0Ym94IGV4dGVuZHMgRm91bmRhdGlvbkVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGludGVybmFsIHVuZmlsdGVyZWQgbGlzdCBvZiBzZWxlY3RhYmxlIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBvcHRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9uIG9mIHRoZSBzZWxlY3RlZCBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzdGFuZGFyZCBgY2xpY2tgIGV2ZW50IGNyZWF0ZXMgYSBgZm9jdXNgIGV2ZW50IGJlZm9yZSBmaXJpbmcsIHNvIGFcbiAgICAgICAgICogYG1vdXNlZG93bmAgZXZlbnQgaXMgdXNlZCB0byBza2lwIHRoYXQgaW5pdGlhbCBmb2N1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNob3VsZFNraXBGb2N1cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgdHlwZWFoZWFkIGJ1ZmZlciBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlYWhlYWRCdWZmZXIgPSBcIlwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBmb3IgdGhlIHR5cGVhaGVhZCB0aW1lb3V0IGV4cGlyYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlYWhlYWRFeHBpcmVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lb3V0IElEIGZvciB0aGUgdHlwZWFoZWFkIGhhbmRsZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlYWhlYWRUaW1lb3V0ID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgZmlyc3RTZWxlY3RlZE9wdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zZWxlY3RlZE9wdGlvbnNbMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBvbmUgb3IgbW9yZSBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGdldCBoYXNTZWxlY3RhYmxlT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sZW5ndGggPiAwICYmICF0aGlzLm9wdGlvbnMuZXZlcnkobyA9PiBvLmRpc2FibGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIE9ic2VydmFibGUudHJhY2sodGhpcywgXCJvcHRpb25zXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgICB9XG4gICAgc2V0IG9wdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHZhbHVlO1xuICAgICAgICBPYnNlcnZhYmxlLm5vdGlmeSh0aGlzLCBcIm9wdGlvbnNcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsYWcgZm9yIHRoZSB0eXBlYWhlYWQgdGltZW91dCBleHBpcmF0aW9uLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBMaXN0Ym94LnR5cGVhaGVhZEV4cGlyZWRgXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZ2V0IHR5cGVBaGVhZEV4cGlyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGVhaGVhZEV4cGlyZWQ7XG4gICAgfVxuICAgIHNldCB0eXBlQWhlYWRFeHBpcmVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZWFoZWFkRXhwaXJlZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgY2xpY2sgZXZlbnRzIGZvciBsaXN0Ym94IG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjbGlja0hhbmRsZXIoZSkge1xuICAgICAgICBjb25zdCBjYXB0dXJlZCA9IGUudGFyZ2V0LmNsb3Nlc3QoYG9wdGlvbixbcm9sZT1vcHRpb25dYCk7XG4gICAgICAgIGlmIChjYXB0dXJlZCAmJiAhY2FwdHVyZWQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKGNhcHR1cmVkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgcHJvdmlkZWQgb3B0aW9uIGlzIGZvY3VzZWQgYW5kIHNjcm9sbGVkIGludG8gdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25Ub0ZvY3VzIC0gVGhlIG9wdGlvbiB0byBmb2N1c1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcob3B0aW9uVG9Gb2N1cyA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikge1xuICAgICAgICAvLyBUbyBlbnN1cmUgdGhhdCB0aGUgYnJvd3NlciBoYW5kbGVzIGJvdGggYGZvY3VzKClgIGFuZCBgc2Nyb2xsSW50b1ZpZXcoKWAsIHRoZVxuICAgICAgICAvLyB0aW1pbmcgaGVyZSBuZWVkcyB0byBndWFyYW50ZWUgdGhhdCB0aGV5IGhhcHBlbiBvbiBkaWZmZXJlbnQgZnJhbWVzLiBTaW5jZSB0aGlzXG4gICAgICAgIC8vIGZ1bmN0aW9uIGlzIHR5cGljYWxseSBjYWxsZWQgZnJvbSB0aGUgYG9wZW5DaGFuZ2VkYCBvYnNlcnZlciwgYERPTS5xdWV1ZVVwZGF0ZWBcbiAgICAgICAgLy8gY2F1c2VzIHRoZSBjYWxscyB0byBiZSBncm91cGVkIGludG8gdGhlIHNhbWUgZnJhbWUuIFRvIHByZXZlbnQgdGhpcyxcbiAgICAgICAgLy8gYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgaXMgdXNlZCBpbnN0ZWFkIG9mIGBET00ucXVldWVVcGRhdGVgLlxuICAgICAgICBpZiAodGhpcy5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSAmJiBvcHRpb25Ub0ZvY3VzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvcHRpb25Ub0ZvY3VzLmZvY3VzKCk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wdGlvblRvRm9jdXMuc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogXCJuZWFyZXN0XCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGBmb2N1c2luYCBhY3Rpb25zIGZvciB0aGUgY29tcG9uZW50LiBXaGVuIHRoZSBjb21wb25lbnQgcmVjZWl2ZXMgZm9jdXMsXG4gICAgICogdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBpcyByZWZyZXNoZWQgYW5kIHRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24gaXMgc2Nyb2xsZWRcbiAgICAgKiBpbnRvIHZpZXcuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmb2N1c2luSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRTa2lwRm9jdXMgJiYgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdWxkU2tpcEZvY3VzID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9wdGlvbnMgd2hpY2ggbWF0Y2ggdGhlIGN1cnJlbnQgdHlwZWFoZWFkIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGdldFR5cGVhaGVhZE1hdGNoZXMoKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnR5cGVhaGVhZEJ1ZmZlci5yZXBsYWNlKC9bLiorXFwtP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgXiR7cGF0dGVybn1gLCBcImdpXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbHRlcigobykgPT4gby50ZXh0LnRyaW0oKS5tYXRjaChyZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBvcHRpb24gd2hpY2ggaXMgc2VsZWN0YWJsZSwgaWYgYW55LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgc2VsZWN0ZWQgaW5kZXhcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXh0IGluZGV4IHRvIHNlbGVjdFxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZ2V0U2VsZWN0YWJsZUluZGV4KHByZXYgPSB0aGlzLnNlbGVjdGVkSW5kZXgsIG5leHQpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gcHJldiA+IG5leHQgPyAtMSA6IHByZXYgPCBuZXh0ID8gMSA6IDA7XG4gICAgICAgIGNvbnN0IHBvdGVudGlhbERpcmVjdGlvbiA9IHByZXYgKyBkaXJlY3Rpb247XG4gICAgICAgIGxldCBuZXh0U2VsZWN0YWJsZU9wdGlvbiA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIC0xOiB7XG4gICAgICAgICAgICAgICAgbmV4dFNlbGVjdGFibGVPcHRpb24gPSB0aGlzLm9wdGlvbnMucmVkdWNlUmlnaHQoKG5leHRTZWxlY3RhYmxlT3B0aW9uLCB0aGlzT3B0aW9uLCBpbmRleCkgPT4gIW5leHRTZWxlY3RhYmxlT3B0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzT3B0aW9uLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluZGV4IDwgcG90ZW50aWFsRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gdGhpc09wdGlvblxuICAgICAgICAgICAgICAgICAgICA6IG5leHRTZWxlY3RhYmxlT3B0aW9uLCBuZXh0U2VsZWN0YWJsZU9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICAgICAgICBuZXh0U2VsZWN0YWJsZU9wdGlvbiA9IHRoaXMub3B0aW9ucy5yZWR1Y2UoKG5leHRTZWxlY3RhYmxlT3B0aW9uLCB0aGlzT3B0aW9uLCBpbmRleCkgPT4gIW5leHRTZWxlY3RhYmxlT3B0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzT3B0aW9uLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID4gcG90ZW50aWFsRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gdGhpc09wdGlvblxuICAgICAgICAgICAgICAgICAgICA6IG5leHRTZWxlY3RhYmxlT3B0aW9uLCBuZXh0U2VsZWN0YWJsZU9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmRleE9mKG5leHRTZWxlY3RhYmxlT3B0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBleHRlcm5hbCBjaGFuZ2VzIHRvIGNoaWxkIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIC0gdGhlIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2Uoc291cmNlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKExpc3Rib3guc2xvdHRlZE9wdGlvbkZpbHRlcihzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZXMgZm9jdXMgdG8gYW4gb3B0aW9uIHdob3NlIGxhYmVsIG1hdGNoZXMgY2hhcmFjdGVycyB0eXBlZCBieSB0aGUgdXNlci5cbiAgICAgKiBDb25zZWN1dGl2ZSBrZXlzdHJva2VzIGFyZSBiYXRjaGVkIGludG8gYSBidWZmZXIgb2Ygc2VhcmNoIHRleHQgdXNlZFxuICAgICAqIHRvIG1hdGNoIGFnYWluc3QgdGhlIHNldCBvZiBvcHRpb25zLiAgSWYgYFRZUEVfQUhFQURfVElNRU9VVF9NU2AgcGFzc2VzXG4gICAgICogYmV0d2VlbiBjb25zZWN1dGl2ZSBrZXlzdHJva2VzLCB0aGUgc2VhcmNoIHJlc3RhcnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIHRoZSBrZXkgdG8gYmUgZXZhbHVhdGVkXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBoYW5kbGVUeXBlQWhlYWQoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50eXBlYWhlYWRUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR5cGVhaGVhZFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiAodGhpcy50eXBlYWhlYWRFeHBpcmVkID0gdHJ1ZSksIExpc3Rib3guVFlQRV9BSEVBRF9USU1FT1VUX01TKTtcbiAgICAgICAgaWYgKGtleS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eXBlYWhlYWRCdWZmZXIgPSBgJHt0aGlzLnR5cGVhaGVhZEV4cGlyZWQgPyBcIlwiIDogdGhpcy50eXBlYWhlYWRCdWZmZXJ9JHtrZXl9YDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBga2V5ZG93bmAgYWN0aW9ucyBmb3IgbGlzdGJveCBuYXZpZ2F0aW9uIGFuZCB0eXBlYWhlYWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNob3VsZFNraXBGb2N1cyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBrZXkgPSBlLmtleTtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgZmlyc3QgYXZhaWxhYmxlIG9wdGlvblxuICAgICAgICAgICAgY2FzZSBrZXlIb21lOiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGaXJzdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbmV4dCBzZWxlY3RhYmxlIG9wdGlvblxuICAgICAgICAgICAgY2FzZSBrZXlBcnJvd0Rvd246IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE5leHRPcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIHByZXZpb3VzIHNlbGVjdGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUFycm93VXA6IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFByZXZpb3VzT3B0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBsYXN0IGF2YWlsYWJsZSBvcHRpb25cbiAgICAgICAgICAgIGNhc2Uga2V5RW5kOiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TGFzdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlUYWI6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2Uga2V5RW50ZXI6XG4gICAgICAgICAgICBjYXNlIGtleUVzY2FwZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlTcGFjZToge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VuZCBrZXkgdG8gVHlwZWFoZWFkIGhhbmRsZXJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVR5cGVBaGVhZChgJHtrZXl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGBmb2N1c2luYCBldmVudHMgZnJvbSBmaXJpbmcgYmVmb3JlIGBjbGlja2AgZXZlbnRzIHdoZW4gdGhlXG4gICAgICogZWxlbWVudCBpcyB1bmZvY3VzZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBtb3VzZWRvd25IYW5kbGVyKGUpIHtcbiAgICAgICAgdGhpcy5zaG91bGRTa2lwRm9jdXMgPSAhdGhpcy5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIGJldHdlZW4gc2luZ2xlLXNlbGVjdGlvbiBhbmQgbXVsdGktc2VsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJldiAtIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXh0IHZhbHVlIG9mIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgbXVsdGlwbGVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdGhpcy5hcmlhTXVsdGlTZWxlY3RhYmxlID0gbmV4dCA/IFwidHJ1ZVwiIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbGlzdCBvZiBzZWxlY3RlZCBvcHRpb25zIHdoZW4gdGhlIGBzZWxlY3RlZEluZGV4YCBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgc2VsZWN0ZWQgaW5kZXggdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IHNlbGVjdGVkIGluZGV4IHZhbHVlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3RlZEluZGV4Q2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1NlbGVjdGFibGVPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKChfYSA9IHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzYWJsZWQpICYmIHR5cGVvZiBwcmV2ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RhYmxlSW5kZXggPSB0aGlzLmdldFNlbGVjdGFibGVJbmRleChwcmV2LCBuZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld05leHQgPSBzZWxlY3RhYmxlSW5kZXggPiAtMSA/IHNlbGVjdGFibGVJbmRleCA6IHByZXY7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBuZXdOZXh0O1xuICAgICAgICAgICAgaWYgKG5leHQgPT09IG5ld05leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXhDaGFuZ2VkKG5leHQsIG5ld05leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHNlbGVjdGVkbmVzcyBvZiBlYWNoIG9wdGlvbiB3aGVuIHRoZSBsaXN0IG9mIHNlbGVjdGVkIG9wdGlvbnMgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIGxpc3Qgb2Ygc2VsZWN0ZWQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgbGlzdCBvZiBzZWxlY3RlZCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3RlZE9wdGlvbnNDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE5leHQgPSBuZXh0LmZpbHRlcihMaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIpO1xuICAgICAgICAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKG8gPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKG8pO1xuICAgICAgICAgICAgbm90aWZpZXIudW5zdWJzY3JpYmUodGhpcywgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIG8uc2VsZWN0ZWQgPSBmaWx0ZXJlZE5leHQuaW5jbHVkZXMobyk7XG4gICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUodGhpcywgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGZvY3VzIHRvIHRoZSBmaXJzdCBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZWxlY3RGaXJzdE9wdGlvbigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5kSW5kZXgobyA9PiAhby5kaXNhYmxlZCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGZvY3VzIHRvIHRoZSBsYXN0IHNlbGVjdGFibGUgb3B0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2VsZWN0TGFzdE9wdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBmaW5kTGFzdEluZGV4KHRoaXMub3B0aW9ucywgbyA9PiAhby5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZXMgZm9jdXMgdG8gdGhlIG5leHQgc2VsZWN0YWJsZSBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3ROZXh0T3B0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5zZWxlY3RlZEluZGV4IDwgdGhpcy5vcHRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGZvY3VzIHRvIHRoZSBwcmV2aW91cyBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNlbGVjdFByZXZpb3VzT3B0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5zZWxlY3RlZEluZGV4ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZEluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZWxlY3RlZCBpbmRleCB0byBtYXRjaCB0aGUgZmlyc3Qgc2VsZWN0ZWQgb3B0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2V0RGVmYXVsdFNlbGVjdGVkT3B0aW9uKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5kSW5kZXgoZWwgPT4gZWwuZGVmYXVsdFNlbGVjdGVkKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYW4gb3B0aW9uIGFzIHNlbGVjdGVkIGFuZCBnaXZlcyBpdCBmb2N1cy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXRTZWxlY3RlZE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucyA9IFt0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XV07XG4gICAgICAgICAgICB0aGlzLmFyaWFBY3RpdmVEZXNjZW5kYW50ID0gKF9jID0gKF9iID0gdGhpcy5maXJzdFNlbGVjdGVkT3B0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsaXN0IG9mIG9wdGlvbnMgYW5kIHJlc2V0cyB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdoZW4gdGhlIHNsb3R0ZWQgb3B0aW9uIGNvbnRlbnQgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIGxpc3Qgb2Ygc2xvdHRlZCBvcHRpb25zXG4gICAgICogQHBhcmFtIG5leHQgLSB0aGUgY3VycmVudCBsaXN0IG9mIHNsb3R0ZWQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2xvdHRlZE9wdGlvbnNDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gbmV4dC5yZWR1Y2UoKG9wdGlvbnMsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpc0xpc3Rib3hPcHRpb24oaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBjb25zdCBzZXRTaXplID0gYCR7dGhpcy5vcHRpb25zLmxlbmd0aH1gO1xuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvcHRpb24uaWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uaWQgPSB1bmlxdWVJZChcIm9wdGlvbi1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb24uYXJpYVBvc0luU2V0ID0gYCR7aW5kZXggKyAxfWA7XG4gICAgICAgICAgICBvcHRpb24uYXJpYVNldFNpemUgPSBzZXRTaXplO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuJGZhc3RDb250cm9sbGVyLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0U2VsZWN0ZWRPcHRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBmaWx0ZXJlZCBsaXN0IG9mIG9wdGlvbnMgd2hlbiB0aGUgdHlwZWFoZWFkIGJ1ZmZlciBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgdHlwZWFoZWFkIGJ1ZmZlciB2YWx1ZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgdHlwZWFoZWFkIGJ1ZmZlciB2YWx1ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdHlwZWFoZWFkQnVmZmVyQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc3QgdHlwZWFoZWFkTWF0Y2hlcyA9IHRoaXMuZ2V0VHlwZWFoZWFkTWF0Y2hlcygpO1xuICAgICAgICAgICAgaWYgKHR5cGVhaGVhZE1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKHR5cGVhaGVhZE1hdGNoZXNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnR5cGVhaGVhZEV4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBzdGF0aWMgZmlsdGVyIHRvIGluY2x1ZGUgb25seSBzZWxlY3RhYmxlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIG4gLSBlbGVtZW50IHRvIGZpbHRlclxuICogQHB1YmxpY1xuICovXG5MaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIgPSAobikgPT4gaXNMaXN0Ym94T3B0aW9uKG4pICYmICFuLmhpZGRlbjtcbi8qKlxuICogVHlwZWFoZWFkIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5MaXN0Ym94LlRZUEVfQUhFQURfVElNRU9VVF9NUyA9IDEwMDA7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIExpc3Rib3gucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94LnByb3RvdHlwZSwgXCJzZWxlY3RlZEluZGV4XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94LnByb3RvdHlwZSwgXCJzZWxlY3RlZE9wdGlvbnNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIExpc3Rib3gucHJvdG90eXBlLCBcInNsb3R0ZWRPcHRpb25zXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94LnByb3RvdHlwZSwgXCJ0eXBlYWhlYWRCdWZmZXJcIiwgdm9pZCAwKTtcbi8qKlxuICogSW5jbHVkZXMgQVJJQSBzdGF0ZXMgYW5kIHByb3BlcnRpZXMgcmVsYXRpbmcgdG8gdGhlIEFSSUEgbGlzdGJveCByb2xlXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGVsZWdhdGVzQVJJQUxpc3Rib3gge1xufVxuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgRGVsZWdhdGVzQVJJQUxpc3Rib3gucHJvdG90eXBlLCBcImFyaWFBY3RpdmVEZXNjZW5kYW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveC5wcm90b3R5cGUsIFwiYXJpYURpc2FibGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveC5wcm90b3R5cGUsIFwiYXJpYUV4cGFuZGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveC5wcm90b3R5cGUsIFwiYXJpYU11bHRpU2VsZWN0YWJsZVwiLCB2b2lkIDApO1xuYXBwbHlNaXhpbnMoRGVsZWdhdGVzQVJJQUxpc3Rib3gsIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzKTtcbmFwcGx5TWl4aW5zKExpc3Rib3gsIERlbGVnYXRlc0FSSUFMaXN0Ym94KTtcbiIsIi8qKlxuICogUG9zaXRpb25pbmcgZGlyZWN0aW9ucyBmb3IgdGhlIGxpc3Rib3ggd2hlbiBhIHNlbGVjdCBpcyBvcGVuLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2VsZWN0UG9zaXRpb24gPSB7XG4gICAgYWJvdmU6IFwiYWJvdmVcIixcbiAgICBiZWxvdzogXCJiZWxvd1wiLFxufTtcbiIsIi8qKlxuICogUmV0cmlldmVzIHRoZSBcImNvbXBvc2VkIHBhcmVudFwiIGVsZW1lbnQgb2YgYSBub2RlLCBpZ25vcmluZyBET00gdHJlZSBib3VuZGFyaWVzLlxuICogV2hlbiB0aGUgcGFyZW50IG9mIGEgbm9kZSBpcyBhIHNoYWRvdy1yb290LCBpdCB3aWxsIHJldHVybiB0aGUgaG9zdFxuICogZWxlbWVudCBvZiB0aGUgc2hhZG93IHJvb3QuIE90aGVyd2lzZSBpdCB3aWxsIHJldHVybiB0aGUgcGFyZW50IG5vZGUgb3IgbnVsbCBpZlxuICogbm8gcGFyZW50IG5vZGUgZXhpc3RzLlxuICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlIGNvbXBvc2VkIHBhcmVudFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2VkUGFyZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCBwYXJlbnROb2RlID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICAgIGlmIChyb290Tm9kZS5ob3N0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc2hhZG93LXJvb3RcbiAgICAgICAgICAgIHJldHVybiByb290Tm9kZS5ob3N0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuIiwiaW1wb3J0IHsgY29tcG9zZWRQYXJlbnQgfSBmcm9tIFwiLi9jb21wb3NlZC1wYXJlbnQuanNcIjtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgY29udGFpbnMgdGhlIHRlc3QgZWxlbWVudCBpbiBhIFwiY29tcG9zZWRcIiBET00gdHJlZSB0aGF0XG4gKiBpZ25vcmVzIHNoYWRvdyBET00gYm91bmRhcmllcy5cbiAqXG4gKiBSZXR1cm5zIHRydWUgb2YgdGhlIHRlc3QgZWxlbWVudCBpcyBhIGRlc2NlbmRlbnQgb2YgdGhlIHJlZmVyZW5jZSwgb3IgZXhpc3QgaW5cbiAqIGEgc2hhZG93IERPTSB0aGF0IGlzIGEgbG9naWNhbCBkZXNjZW5kZW50IG9mIHRoZSByZWZlcmVuY2UuIE90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIFRoZSBlbGVtZW50IHRvIHRlc3QgZm9yIGNvbnRhaW5tZW50IGFnYWluc3QuXG4gKiBAcGFyYW0gdGVzdCAtIFRoZSBlbGVtZW50IGJlaW5nIHRlc3RlZCBmb3IgY29udGFpbm1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZWRDb250YWlucyhyZWZlcmVuY2UsIHRlc3QpIHtcbiAgICBsZXQgY3VycmVudCA9IHRlc3Q7XG4gICAgd2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGNvbXBvc2VkUGFyZW50KGN1cnJlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBET00sIEVsZW1lbnRTdHlsZXMsIEZBU1RFbGVtZW50LCBvYnNlcnZhYmxlLCBPYnNlcnZhYmxlLCBwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2wsIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuZnVuY3Rpb24gaXNGYXN0RWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBGQVNURWxlbWVudDtcbn1cbmNsYXNzIFF1ZXVlZFN0eWxlU2hlZXRUYXJnZXQge1xuICAgIHNldFByb3BlcnR5KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB0aGlzLnRhcmdldC5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSkpO1xuICAgIH1cbiAgICByZW1vdmVQcm9wZXJ0eShuYW1lKSB7XG4gICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB0aGlzLnRhcmdldC5yZW1vdmVQcm9wZXJ0eShuYW1lKSk7XG4gICAgfVxufVxuLyoqXG4gKiBIYW5kbGVzIHNldHRpbmcgcHJvcGVydGllcyBmb3IgYSBGQVNURWxlbWVudCB1c2luZyBDb25zdHJ1Y3RhYmxlIFN0eWxlc2hlZXRzXG4gKi9cbmNsYXNzIENvbnN0cnVjdGFibGVTdHlsZVNoZWV0VGFyZ2V0IGV4dGVuZHMgUXVldWVkU3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgc2hlZXRbcHJlcGVuZFRvQWRvcHRlZFN0eWxlU2hlZXRzU3ltYm9sXSA9IHRydWU7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gc2hlZXQuY3NzUnVsZXNbc2hlZXQuaW5zZXJ0UnVsZShcIjpob3N0e31cIildLnN0eWxlO1xuICAgICAgICBzb3VyY2UuJGZhc3RDb250cm9sbGVyLmFkZFN0eWxlcyhFbGVtZW50U3R5bGVzLmNyZWF0ZShbc2hlZXRdKSk7XG4gICAgfVxufVxuY2xhc3MgRG9jdW1lbnRTdHlsZVNoZWV0VGFyZ2V0IGV4dGVuZHMgUXVldWVkU3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBzaGVldC5jc3NSdWxlc1tzaGVldC5pbnNlcnRSdWxlKFwiOnJvb3R7fVwiKV0uc3R5bGU7XG4gICAgICAgIGRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFtcbiAgICAgICAgICAgIC4uLmRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cyxcbiAgICAgICAgICAgIHNoZWV0LFxuICAgICAgICBdO1xuICAgIH1cbn1cbmNsYXNzIEhlYWRTdHlsZUVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0IGV4dGVuZHMgUXVldWVkU3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSk7XG4gICAgICAgIGNvbnN0IHsgc2hlZXQgfSA9IHRoaXMuc3R5bGU7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIEhUTUxTdHlsZUVsZW1lbnQgaGFzIGJlZW4gYXBwZW5kZWQsXG4gICAgICAgIC8vIHRoZXJlIHNob3VsZG4ndCBleGlzdCBhIGNhc2Ugd2hlcmUgYHNoZWV0YCBpcyBudWxsLFxuICAgICAgICAvLyBidXQgaWYtY2hlY2sgaXQganVzdCBpbiBjYXNlLlxuICAgICAgICBpZiAoc2hlZXQpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvbS9qc2RvbSB1c2VzIGh0dHBzOi8vZ2l0aHViLmNvbS9OVi9DU1NPTSBmb3IgaXQncyBDU1NPTSBpbXBsZW1lbnRhdGlvbixcbiAgICAgICAgICAgIC8vIHdoaWNoIGltcGxlbWVudHMgdGhlIERPTSBMZXZlbCAyIHNwZWMgZm9yIENTU1N0eWxlU2hlZXQgd2hlcmUgaW5zZXJ0UnVsZSgpIHJlcXVpcmVzIGFuIGluZGV4IGFyZ3VtZW50LlxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzaGVldC5pbnNlcnRSdWxlKFwiOnJvb3R7fVwiLCBzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBzaGVldC5jc3NSdWxlc1tpbmRleF0uc3R5bGU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEhhbmRsZXMgc2V0dGluZyBwcm9wZXJ0aWVzIGZvciBhIEZBU1RFbGVtZW50IHVzaW5nIGFuIEhUTUxTdHlsZUVsZW1lbnRcbiAqL1xuY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRhcmdldC4kZmFzdENvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGNvbnRyb2xsZXIuYWRkU3R5bGVzKHRoaXMuc3R5bGUpO1xuICAgICAgICBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKGNvbnRyb2xsZXIpLnN1YnNjcmliZSh0aGlzLCBcImlzQ29ubmVjdGVkXCIpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZShjb250cm9sbGVyLCBcImlzQ29ubmVjdGVkXCIpO1xuICAgIH1cbiAgICB0YXJnZXRDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuc3RvcmUuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlUHJvcGVydHkobmFtZSkge1xuICAgICAgICB0aGlzLnN0b3JlLmRlbGV0ZShuYW1lKTtcbiAgICAgICAgRE9NLnF1ZXVlVXBkYXRlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHNvdXJjZSwga2V5KSB7XG4gICAgICAgIC8vIEhUTUxTdHlsZUVsZW1lbnQuc2hlZXQgaXMgbnVsbCBpZiB0aGUgZWxlbWVudCBpc24ndCBjb25uZWN0ZWQgdG8gdGhlIERPTSxcbiAgICAgICAgLy8gc28gdGhpcyBtZXRob2QgcmVhY3RzIHRvIGNoYW5nZXMgaW4gRE9NIGNvbm5lY3Rpb24gZm9yIHRoZSBlbGVtZW50IGhvc3RpbmdcbiAgICAgICAgLy8gdGhlIEhUTUxTdHlsZUVsZW1lbnQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFsbCBydWxlcyBhcHBsaWVkIHZpYSB0aGUgQ1NTT00gYWxzbyBnZXQgY2xlYXJlZCB3aGVuIHRoZSBlbGVtZW50IGRpc2Nvbm5lY3RzLFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGFkZCBhIG5ldyBydWxlIGVhY2ggdGltZSBhbmQgcG9wdWxhdGUgaXQgd2l0aCB0aGUgc3RvcmVkIHByb3BlcnRpZXNcbiAgICAgICAgY29uc3QgeyBzaGVldCB9ID0gdGhpcy5zdHlsZTtcbiAgICAgICAgaWYgKHNoZWV0KSB7XG4gICAgICAgICAgICAvLyBTYWZhcmkgd2lsbCB0aHJvdyBpZiB3ZSB0cnkgdG8gdXNlIHRoZSByZXR1cm4gcmVzdWx0IG9mIGluc2VydFJ1bGUoKVxuICAgICAgICAgICAgLy8gdG8gaW5kZXggdGhlIHJ1bGUgaW5saW5lLCBzbyBzdG9yZSBhcyBhIGNvbnN0IHByaW9yIHRvIGluZGV4aW5nLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pzZG9tL2pzZG9tIHVzZXMgaHR0cHM6Ly9naXRodWIuY29tL05WL0NTU09NIGZvciBpdCdzIENTU09NIGltcGxlbWVudGF0aW9uLFxuICAgICAgICAgICAgLy8gd2hpY2ggaW1wbGVtZW50cyB0aGUgRE9NIExldmVsIDIgc3BlYyBmb3IgQ1NTU3R5bGVTaGVldCB3aGVyZSBpbnNlcnRSdWxlKCkgcmVxdWlyZXMgYW4gaW5kZXggYXJndW1lbnQuXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNoZWV0Lmluc2VydFJ1bGUoXCI6aG9zdHt9XCIsIHNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHNoZWV0LmNzc1J1bGVzW2luZGV4XS5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIFN0eWxlRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQucHJvdG90eXBlLCBcInRhcmdldFwiLCB2b2lkIDApO1xuLyoqXG4gKiBIYW5kbGVzIHNldHRpbmcgcHJvcGVydGllcyBmb3IgYSBub3JtYWwgSFRNTEVsZW1lbnRcbiAqL1xuY2xhc3MgRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHNvdXJjZS5zdHlsZTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgRE9NLnF1ZXVlVXBkYXRlKCgpID0+IHRoaXMudGFyZ2V0LnNldFByb3BlcnR5KG5hbWUsIHZhbHVlKSk7XG4gICAgfVxuICAgIHJlbW92ZVByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgRE9NLnF1ZXVlVXBkYXRlKCgpID0+IHRoaXMudGFyZ2V0LnJlbW92ZVByb3BlcnR5KG5hbWUpKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnRyb2xzIGVtaXNzaW9uIGZvciBkZWZhdWx0IHZhbHVlcy4gVGhpcyBjb250cm9sIGlzIGNhcGFibGVcbiAqIG9mIGVtaXR0aW5nIHRvIG11bHRpcGxlIHtAbGluayBQcm9wZXJ0eVRhcmdldCB8IFByb3BlcnR5VGFyZ2V0c30sXG4gKiBhbmQgb25seSBlbWl0cyBpZiBpdCBoYXMgYXQgbGVhc3Qgb25lIHJvb3QuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBSb290U3R5bGVTaGVldFRhcmdldCB7XG4gICAgc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgUm9vdFN0eWxlU2hlZXRUYXJnZXQucHJvcGVydGllc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBSb290U3R5bGVTaGVldFRhcmdldC5yb290cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgUHJvcGVydHlUYXJnZXRNYW5hZ2VyLmdldE9yQ3JlYXRlKFJvb3RTdHlsZVNoZWV0VGFyZ2V0Lm5vcm1hbGl6ZVJvb3QodGFyZ2V0KSkuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgZGVsZXRlIFJvb3RTdHlsZVNoZWV0VGFyZ2V0LnByb3BlcnRpZXNbbmFtZV07XG4gICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIFJvb3RTdHlsZVNoZWV0VGFyZ2V0LnJvb3RzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBQcm9wZXJ0eVRhcmdldE1hbmFnZXIuZ2V0T3JDcmVhdGUoUm9vdFN0eWxlU2hlZXRUYXJnZXQubm9ybWFsaXplUm9vdCh0YXJnZXQpKS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXJSb290KHJvb3QpIHtcbiAgICAgICAgY29uc3QgeyByb290cyB9ID0gUm9vdFN0eWxlU2hlZXRUYXJnZXQ7XG4gICAgICAgIGlmICghcm9vdHMuaGFzKHJvb3QpKSB7XG4gICAgICAgICAgICByb290cy5hZGQocm9vdCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBQcm9wZXJ0eVRhcmdldE1hbmFnZXIuZ2V0T3JDcmVhdGUodGhpcy5ub3JtYWxpemVSb290KHJvb3QpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIFJvb3RTdHlsZVNoZWV0VGFyZ2V0LnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0UHJvcGVydHkoa2V5LCBSb290U3R5bGVTaGVldFRhcmdldC5wcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB1bnJlZ2lzdGVyUm9vdChyb290KSB7XG4gICAgICAgIGNvbnN0IHsgcm9vdHMgfSA9IFJvb3RTdHlsZVNoZWV0VGFyZ2V0O1xuICAgICAgICBpZiAocm9vdHMuaGFzKHJvb3QpKSB7XG4gICAgICAgICAgICByb290cy5kZWxldGUocm9vdCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBQcm9wZXJ0eVRhcmdldE1hbmFnZXIuZ2V0T3JDcmVhdGUoUm9vdFN0eWxlU2hlZXRUYXJnZXQubm9ybWFsaXplUm9vdChyb290KSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBSb290U3R5bGVTaGVldFRhcmdldC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZVByb3BlcnR5KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQgd2hlbiBwcm92aWRlZCB0aGUgZGVmYXVsdCBlbGVtZW50LFxuICAgICAqIG90aGVyd2lzZSBpcyBhIG5vLW9wXG4gICAgICogQHBhcmFtIHJvb3QgLSB0aGUgcm9vdCB0byBub3JtYWxpemVcbiAgICAgKi9cbiAgICBzdGF0aWMgbm9ybWFsaXplUm9vdChyb290KSB7XG4gICAgICAgIHJldHVybiByb290ID09PSBkZWZhdWx0RWxlbWVudCA/IGRvY3VtZW50IDogcm9vdDtcbiAgICB9XG59XG5Sb290U3R5bGVTaGVldFRhcmdldC5yb290cyA9IG5ldyBTZXQoKTtcblJvb3RTdHlsZVNoZWV0VGFyZ2V0LnByb3BlcnRpZXMgPSB7fTtcbi8vIENhY2hlcyBQcm9wZXJ0eVRhcmdldCBpbnN0YW5jZXNcbmNvbnN0IHByb3BlcnR5VGFyZ2V0Q2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuLy8gVXNlIENvbnN0cnVjdGFibGUgU3R5bGVTaGVldHMgZm9yIEZBU1QgZWxlbWVudHMgd2hlbiBzdXBwb3J0ZWQsIG90aGVyd2lzZSB1c2Vcbi8vIEhUTUxTdHlsZUVsZW1lbnQgaW5zdGFuY2VzXG5jb25zdCBwcm9wZXJ0eVRhcmdldEN0b3IgPSBET00uc3VwcG9ydHNBZG9wdGVkU3R5bGVTaGVldHNcbiAgICA/IENvbnN0cnVjdGFibGVTdHlsZVNoZWV0VGFyZ2V0XG4gICAgOiBTdHlsZUVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0O1xuLyoqXG4gKiBNYW5hZ2VzIGNyZWF0aW9uIGFuZCBjYWNoaW5nIG9mIFByb3BlcnR5VGFyZ2V0IGluc3RhbmNlcy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5VGFyZ2V0TWFuYWdlciA9IE9iamVjdC5mcmVlemUoe1xuICAgIGdldE9yQ3JlYXRlKHNvdXJjZSkge1xuICAgICAgICBpZiAocHJvcGVydHlUYXJnZXRDYWNoZS5oYXMoc291cmNlKSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eVRhcmdldENhY2hlLmdldChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YXJnZXQ7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IGRlZmF1bHRFbGVtZW50KSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBuZXcgUm9vdFN0eWxlU2hlZXRUYXJnZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gRE9NLnN1cHBvcnRzQWRvcHRlZFN0eWxlU2hlZXRzXG4gICAgICAgICAgICAgICAgPyBuZXcgRG9jdW1lbnRTdHlsZVNoZWV0VGFyZ2V0KClcbiAgICAgICAgICAgICAgICA6IG5ldyBIZWFkU3R5bGVFbGVtZW50U3R5bGVTaGVldFRhcmdldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRmFzdEVsZW1lbnQoc291cmNlKSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IHByb3BlcnR5VGFyZ2V0Q3Rvcihzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0KHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydHlUYXJnZXRDYWNoZS5zZXQoc291cmNlLCB0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG59KTtcbiIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IENTU0RpcmVjdGl2ZSwgZGVmYXVsdEV4ZWN1dGlvbkNvbnRleHQsIEZBU1RFbGVtZW50LCBvYnNlcnZhYmxlLCBPYnNlcnZhYmxlLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgY29tcG9zZWRQYXJlbnQgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NvbXBvc2VkLXBhcmVudC5qc1wiO1xuaW1wb3J0IHsgY29tcG9zZWRDb250YWlucyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29tcG9zZWQtY29udGFpbnMuanNcIjtcbmltcG9ydCB7IFByb3BlcnR5VGFyZ2V0TWFuYWdlciwgUm9vdFN0eWxlU2hlZXRUYXJnZXQsIH0gZnJvbSBcIi4vY3VzdG9tLXByb3BlcnR5LW1hbmFnZXIuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFbGVtZW50IH0gZnJvbSBcIi4vY3VzdG9tLXByb3BlcnR5LW1hbmFnZXIuanNcIjtcbi8qKlxuICogSW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIChEZXNpZ25Ub2tlbjppbnRlcmZhY2UpfVxuICovXG5jbGFzcyBEZXNpZ25Ub2tlbkltcGwgZXh0ZW5kcyBDU1NEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuX2FwcGxpZWRUbyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gY29uZmlndXJhdGlvbi5uYW1lO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5jc3NDdXN0b21Qcm9wZXJ0eU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzQ3VzdG9tUHJvcGVydHkgPSBgLS0ke2NvbmZpZ3VyYXRpb24uY3NzQ3VzdG9tUHJvcGVydHlOYW1lfWA7XG4gICAgICAgICAgICB0aGlzLmNzc1ZhciA9IGB2YXIoJHt0aGlzLmNzc0N1c3RvbVByb3BlcnR5fSlgO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWQgPSBEZXNpZ25Ub2tlbkltcGwudW5pcXVlSWQoKTtcbiAgICAgICAgRGVzaWduVG9rZW5JbXBsLnRva2Vuc0J5SWQuc2V0KHRoaXMuaWQsIHRoaXMpO1xuICAgIH1cbiAgICBnZXQgYXBwbGllZFRvKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2FwcGxpZWRUb107XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKG5hbWVPckNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IERlc2lnblRva2VuSW1wbCh7XG4gICAgICAgICAgICBuYW1lOiB0eXBlb2YgbmFtZU9yQ29uZmlnID09PSBcInN0cmluZ1wiID8gbmFtZU9yQ29uZmlnIDogbmFtZU9yQ29uZmlnLm5hbWUsXG4gICAgICAgICAgICBjc3NDdXN0b21Qcm9wZXJ0eU5hbWU6IHR5cGVvZiBuYW1lT3JDb25maWcgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICA/IG5hbWVPckNvbmZpZ1xuICAgICAgICAgICAgICAgIDogbmFtZU9yQ29uZmlnLmNzc0N1c3RvbVByb3BlcnR5TmFtZSA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgID8gbmFtZU9yQ29uZmlnLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiBuYW1lT3JDb25maWcuY3NzQ3VzdG9tUHJvcGVydHlOYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGlzQ1NTRGVzaWduVG9rZW4odG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0b2tlbi5jc3NDdXN0b21Qcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIjtcbiAgICB9XG4gICAgc3RhdGljIGlzRGVyaXZlZERlc2lnblRva2VuVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdG9rZW4gYnkgSUQuIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZSB0b2tlbiB3YXMgbm90IGZvdW5kLlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBJRCBvZiB0aGUgdG9rZW5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRUb2tlbkJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIERlc2lnblRva2VuSW1wbC50b2tlbnNCeUlkLmdldChpZCk7XG4gICAgfVxuICAgIGdldE9yQ3JlYXRlU3Vic2NyaWJlclNldCh0YXJnZXQgPSB0aGlzKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdWJzY3JpYmVycy5nZXQodGFyZ2V0KSB8fFxuICAgICAgICAgICAgKHRoaXMuc3Vic2NyaWJlcnMuc2V0KHRhcmdldCwgbmV3IFNldCgpKSAmJiB0aGlzLnN1YnNjcmliZXJzLmdldCh0YXJnZXQpKSk7XG4gICAgfVxuICAgIGNyZWF0ZUNTUygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NzVmFyIHx8IFwiXCI7XG4gICAgfVxuICAgIGdldFZhbHVlRm9yKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUoZWxlbWVudCkuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgY291bGQgbm90IGJlIHJldHJpZXZlZCBmb3IgdG9rZW4gbmFtZWQgXCIke3RoaXMubmFtZX1cIi4gRW5zdXJlIHRoZSB2YWx1ZSBpcyBzZXQgZm9yICR7ZWxlbWVudH0gb3IgYW4gYW5jZXN0b3Igb2YgJHtlbGVtZW50fS5gKTtcbiAgICB9XG4gICAgc2V0VmFsdWVGb3IoZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXBwbGllZFRvLmFkZChlbGVtZW50KTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGVzaWduVG9rZW5JbXBsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuYWxpYXModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIERlc2lnblRva2VuTm9kZS5nZXRPckNyZWF0ZShlbGVtZW50KS5zZXQodGhpcywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVsZXRlVmFsdWVGb3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9hcHBsaWVkVG8uZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICBpZiAoRGVzaWduVG9rZW5Ob2RlLmV4aXN0c0ZvcihlbGVtZW50KSkge1xuICAgICAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmdldE9yQ3JlYXRlKGVsZW1lbnQpLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aERlZmF1bHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZUZvcihkZWZhdWx0RWxlbWVudCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIsIHRhcmdldCkge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVyU2V0ID0gdGhpcy5nZXRPckNyZWF0ZVN1YnNjcmliZXJTZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKHRhcmdldCAmJiAhRGVzaWduVG9rZW5Ob2RlLmV4aXN0c0Zvcih0YXJnZXQpKSB7XG4gICAgICAgICAgICBEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN1YnNjcmliZXJTZXQuaGFzKHN1YnNjcmliZXIpKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyU2V0LmFkZChzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyLCB0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuc3Vic2NyaWJlcnMuZ2V0KHRhcmdldCB8fCB0aGlzKTtcbiAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5oYXMoc3Vic2NyaWJlcikpIHtcbiAgICAgICAgICAgIGxpc3QuZGVsZXRlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIHN1YnNjcmliZXJzIHRoYXQgdGhlIHZhbHVlIGZvciBhbiBlbGVtZW50IGhhcyBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gZW1pdCBhIG5vdGlmaWNhdGlvbiBmb3JcbiAgICAgKi9cbiAgICBub3RpZnkoZWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWNvcmQgPSBPYmplY3QuZnJlZXplKHsgdG9rZW46IHRoaXMsIHRhcmdldDogZWxlbWVudCB9KTtcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnMuaGFzKHRoaXMpKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmdldCh0aGlzKS5mb3JFYWNoKHN1YiA9PiBzdWIuaGFuZGxlQ2hhbmdlKHJlY29yZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmliZXJzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5nZXQoZWxlbWVudCkuZm9yRWFjaChzdWIgPT4gc3ViLmhhbmRsZUNoYW5nZShyZWNvcmQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyB0aGUgdG9rZW4gdG8gdGhlIHByb3ZpZGVkIHRva2VuLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIHRoZSB0b2tlbiB0byBhbGlhcyB0b1xuICAgICAqL1xuICAgIGFsaWFzKHRva2VuKSB7XG4gICAgICAgIHJldHVybiAoKHRhcmdldCkgPT4gdG9rZW4uZ2V0VmFsdWVGb3IodGFyZ2V0KSk7XG4gICAgfVxufVxuRGVzaWduVG9rZW5JbXBsLnVuaXF1ZUlkID0gKCgpID0+IHtcbiAgICBsZXQgaWQgPSAwO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlkKys7XG4gICAgICAgIHJldHVybiBpZC50b1N0cmluZygxNik7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIFRva2VuIHN0b3JhZ2UgYnkgdG9rZW4gSURcbiAqL1xuRGVzaWduVG9rZW5JbXBsLnRva2Vuc0J5SWQgPSBuZXcgTWFwKCk7XG5jbGFzcyBDdXN0b21Qcm9wZXJ0eVJlZmxlY3RvciB7XG4gICAgc3RhcnRSZWZsZWN0aW9uKHRva2VuLCB0YXJnZXQpIHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHRoaXMsIHRhcmdldCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHsgdG9rZW4sIHRhcmdldCB9KTtcbiAgICB9XG4gICAgc3RvcFJlZmxlY3Rpb24odG9rZW4sIHRhcmdldCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZSh0aGlzLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLnJlbW92ZSh0b2tlbiwgdGFyZ2V0KTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHJlY29yZCkge1xuICAgICAgICBjb25zdCB7IHRva2VuLCB0YXJnZXQgfSA9IHJlY29yZDtcbiAgICAgICAgdGhpcy5hZGQodG9rZW4sIHRhcmdldCk7XG4gICAgfVxuICAgIGFkZCh0b2tlbiwgdGFyZ2V0KSB7XG4gICAgICAgIFByb3BlcnR5VGFyZ2V0TWFuYWdlci5nZXRPckNyZWF0ZSh0YXJnZXQpLnNldFByb3BlcnR5KHRva2VuLmNzc0N1c3RvbVByb3BlcnR5LCB0aGlzLnJlc29sdmVDU1NWYWx1ZShEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUodGFyZ2V0KS5nZXQodG9rZW4pKSk7XG4gICAgfVxuICAgIHJlbW92ZSh0b2tlbiwgdGFyZ2V0KSB7XG4gICAgICAgIFByb3BlcnR5VGFyZ2V0TWFuYWdlci5nZXRPckNyZWF0ZSh0YXJnZXQpLnJlbW92ZVByb3BlcnR5KHRva2VuLmNzc0N1c3RvbVByb3BlcnR5KTtcbiAgICB9XG4gICAgcmVzb2x2ZUNTU1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuY3JlYXRlQ1NTID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZS5jcmVhdGVDU1MoKSA6IHZhbHVlO1xuICAgIH1cbn1cbi8qKlxuICogQSBsaWdodCB3cmFwcGVyIGFyb3VuZCBCaW5kaW5nT2JzZXJ2ZXIgdG8gaGFuZGxlIHZhbHVlIGNhY2hpbmcgYW5kXG4gKiB0b2tlbiBub3RpZmljYXRpb25cbiAqL1xuY2xhc3MgRGVzaWduVG9rZW5CaW5kaW5nT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgdG9rZW4sIG5vZGUpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBPYnNlcnZhYmxlLmJpbmRpbmcoc291cmNlLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBsaXR0bGUgYml0IGhhY2t5IGJlY2F1c2UgaXQncyB1c2luZyBpbnRlcm5hbCBBUElzIG9mIEJpbmRpbmdPYnNlcnZlckltcGwuXG4gICAgICAgIC8vIEJpbmRpbmdPYnNlcnZlckltcGwgcXVldWVzIHVwZGF0ZXMgdG8gYmF0Y2ggaXQncyBub3RpZmljYXRpb25zIHdoaWNoIGRvZXNuJ3Qgd29yayBmb3IgdGhpc1xuICAgICAgICAvLyBzY2VuYXJpbyBiZWNhdXNlIHRoZSBEZXNpZ25Ub2tlbi5nZXRWYWx1ZUZvciBBUEkgaXMgbm90IGFzeW5jLiBXaXRob3V0IHRoaXMsIHVzaW5nIERlc2lnblRva2VuLmdldFZhbHVlRm9yKClcbiAgICAgICAgLy8gYWZ0ZXIgRGVzaWduVG9rZW4uc2V0VmFsdWVGb3IoKSB3aGVuIHNldHRpbmcgYSBkZXBlbmRlbmN5IG9mIHRoZSB2YWx1ZSBiZWluZyByZXRyaWV2ZWQgY2FuIHJldHVybiBhIHN0YWxlXG4gICAgICAgIC8vIHZhbHVlLiBBc3NpZ25pbmcgLmhhbmRsZUNoYW5nZSB0byAuY2FsbCBmb3JjZXMgaW1tZWRpYXRlIGludm9jYXRpb24gb2YgdGhpcyBjbGFzc2VzIGhhbmRsZUNoYW5nZSgpIG1ldGhvZCxcbiAgICAgICAgLy8gYWxsb3dpbmcgcmVzb2x1dGlvbiBvZiB2YWx1ZXMgc3luY2hyb25vdXNseS5cbiAgICAgICAgLy8gVE9ETzogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9mYXN0L2lzc3Vlcy81MTEwXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuaGFuZGxlQ2hhbmdlID0gdGhpcy5vYnNlcnZlci5jYWxsO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnN0b3JlLnNldCh0aGlzLnRva2VuLCB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5ub2RlLnRhcmdldCwgZGVmYXVsdEV4ZWN1dGlvbkNvbnRleHQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogU3RvcmVzIHJlc29sdmVkIHRva2VuL3ZhbHVlIHBhaXJzIGFuZCBub3RpZmllcyBvbiBjaGFuZ2VzXG4gKi9cbmNsYXNzIFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHNldCh0b2tlbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzLmdldCh0b2tlbikgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcy5zZXQodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgIE9ic2VydmFibGUuZ2V0Tm90aWZpZXIodGhpcykubm90aWZ5KHRva2VuLmlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQodG9rZW4pIHtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCB0b2tlbi5pZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5nZXQodG9rZW4pO1xuICAgIH1cbiAgICBkZWxldGUodG9rZW4pIHtcbiAgICAgICAgdGhpcy52YWx1ZXMuZGVsZXRlKHRva2VuKTtcbiAgICAgICAgT2JzZXJ2YWJsZS5nZXROb3RpZmllcih0aGlzKS5ub3RpZnkodG9rZW4uaWQpO1xuICAgIH1cbiAgICBhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5lbnRyaWVzKCk7XG4gICAgfVxufVxuY29uc3Qgbm9kZUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGNoaWxkVG9QYXJlbnQgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBBIG5vZGUgcmVzcG9uc2libGUgZm9yIHNldHRpbmcgYW5kIGdldHRpbmcgdG9rZW4gdmFsdWVzLFxuICogZW1pdHRpbmcgdmFsdWVzIHRvIENTUyBjdXN0b20gcHJvcGVydGllcywgYW5kIG1haW50YWluaW5nXG4gKiBpbmhlcml0YW5jZSBzdHJ1Y3R1cmVzLlxuICovXG5jbGFzcyBEZXNpZ25Ub2tlbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBhbGwgcmVzb2x2ZWQgdG9rZW4gdmFsdWVzIGZvciBhIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU3RvcmUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBjaGlsZHJlbiBhc3NpZ25lZCB0byB0aGUgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHZhbHVlcyBleHBsaWNpdGx5IGFzc2lnbmVkIHRvIHRoZSBub2RlIGluIHRoZWlyIHJhdyBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFzc2lnbmVkVmFsdWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVG9rZW5zIGN1cnJlbnRseSBiZWluZyByZWZsZWN0ZWQgdG8gQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZmxlY3RpbmcgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCaW5kaW5nIG9ic2VydmVycyBmb3IgYXNzaWduZWQgYW5kIGluaGVyaXRlZCBkZXJpdmVkIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVtaXRzIG5vdGlmaWNhdGlvbnMgdG8gdG9rZW4gd2hlbiB0b2tlbiB2YWx1ZXNcbiAgICAgICAgICogY2hhbmdlIHRoZSBEZXNpZ25Ub2tlbk5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG9rZW5WYWx1ZUNoYW5nZUhhbmRsZXIgPSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U6IChzb3VyY2UsIGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gRGVzaWduVG9rZW5JbXBsLmdldFRva2VuQnlJZChhcmcpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgYW55IHRva2VuIHN1YnNjcmliZXJzXG4gICAgICAgICAgICAgICAgICAgIHRva2VuLm5vdGlmeSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ1NTVG9rZW5SZWZsZWN0aW9uKHNvdXJjZSwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG5vZGVDYWNoZS5zZXQodGFyZ2V0LCB0aGlzKTtcbiAgICAgICAgLy8gTWFwIHN0b3JlIGNoYW5nZSBub3RpZmljYXRpb25zIHRvIHRva2VuIGNoYW5nZSBub3RpZmljYXRpb25zXG4gICAgICAgIE9ic2VydmFibGUuZ2V0Tm90aWZpZXIodGhpcy5zdG9yZSkuc3Vic2NyaWJlKHRoaXMudG9rZW5WYWx1ZUNoYW5nZUhhbmRsZXIpO1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRkFTVEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRhcmdldC4kZmFzdENvbnRyb2xsZXIuYWRkQmVoYXZpb3JzKFt0aGlzXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0LmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgRGVzaWduVG9rZW5Ob2RlIGZvciBhbiBlbGVtZW50LlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2UgaWYgb25lIGRvZXMgbm90IGFscmVhZHkgZXhpc3QgZm9yIGEgbm9kZSxcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJucyB0aGUgY2FjaGVkIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIEhUTUwgZWxlbWVudCB0byByZXRyaWV2ZSBhIERlc2lnblRva2VuTm9kZSBmb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0T3JDcmVhdGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBub2RlQ2FjaGUuZ2V0KHRhcmdldCkgfHwgbmV3IERlc2lnblRva2VuTm9kZSh0YXJnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgRGVzaWduVG9rZW5Ob2RlIGhhcyBiZWVuIGNyZWF0ZWQgZm9yIGEgdGFyZ2V0XG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSBlbGVtZW50IHRvIHRlc3RcbiAgICAgKi9cbiAgICBzdGF0aWMgZXhpc3RzRm9yKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gbm9kZUNhY2hlLmhhcyh0YXJnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBmb3IgYW5kIHJldHVybiB0aGUgbmVhcmVzdCBwYXJlbnQgRGVzaWduVG9rZW5Ob2RlLlxuICAgICAqIE51bGwgaXMgcmV0dXJuZWQgaWYgbm8gbm9kZSBpcyBmb3VuZCBvciB0aGUgbm9kZSBwcm92aWRlZCBpcyBmb3IgYSBkZWZhdWx0IGVsZW1lbnQuXG4gICAgICovXG4gICAgc3RhdGljIGZpbmRQYXJlbnQobm9kZSkge1xuICAgICAgICBpZiAoIShkZWZhdWx0RWxlbWVudCA9PT0gbm9kZS50YXJnZXQpKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gY29tcG9zZWRQYXJlbnQobm9kZS50YXJnZXQpO1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlQ2FjaGUuaGFzKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVDYWNoZS5nZXQocGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gY29tcG9zZWRQYXJlbnQocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUoZGVmYXVsdEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgY2xvc2VzdCBub2RlIHdpdGggYSB2YWx1ZSBleHBsaWNpdGx5IGFzc2lnbmVkIGZvciBhIHRva2VuLCBvdGhlcndpc2UgbnVsbC5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gbG9vayBmb3JcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBUaGUgbm9kZSB0byBzdGFydCBsb29raW5nIGZvciB2YWx1ZSBhc3NpZ25tZW50XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluZENsb3Nlc3RBc3NpZ25lZE5vZGUodG9rZW4sIHN0YXJ0KSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Lmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudFxuICAgICAgICAgICAgICAgID8gY3VycmVudC5wYXJlbnRcbiAgICAgICAgICAgICAgICA6IGN1cnJlbnQudGFyZ2V0ICE9PSBkZWZhdWx0RWxlbWVudFxuICAgICAgICAgICAgICAgICAgICA/IERlc2lnblRva2VuTm9kZS5nZXRPckNyZWF0ZShkZWZhdWx0RWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB9IHdoaWxlIChjdXJyZW50ICE9PSBudWxsKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgRGVzaWduVG9rZW5Ob2RlLCBvciBudWxsLlxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiBjaGlsZFRvUGFyZW50LmdldCh0aGlzKSB8fCBudWxsO1xuICAgIH1cbiAgICB1cGRhdGVDU1NUb2tlblJlZmxlY3Rpb24oc291cmNlLCB0b2tlbikge1xuICAgICAgICBpZiAoRGVzaWduVG9rZW5JbXBsLmlzQ1NTRGVzaWduVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgICAgIGNvbnN0IHJlZmxlY3RpbmcgPSB0aGlzLmlzUmVmbGVjdGluZyh0b2tlbik7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VmFsdWUgPSBwYXJlbnQuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZSA9IHNvdXJjZS5nZXQodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRWYWx1ZSAhPT0gc291cmNlVmFsdWUgJiYgIXJlZmxlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZsZWN0VG9DU1ModG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJlbnRWYWx1ZSA9PT0gc291cmNlVmFsdWUgJiYgcmVmbGVjdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BSZWZsZWN0VG9DU1ModG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZWZsZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZsZWN0VG9DU1ModG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHRva2VuIGhhcyBiZWVuIGFzc2lnbmVkIGFuIGV4cGxpY2l0IHZhbHVlIHRoZSBub2RlLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIHRoZSB0b2tlbiB0byBjaGVjay5cbiAgICAgKi9cbiAgICBoYXModG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzaWduZWRWYWx1ZXMuaGFzKHRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYSB0b2tlbiBmb3IgYSBub2RlXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIHRva2VuIHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBmb3JcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldCh0b2tlbikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RvcmUuZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXcgPSB0aGlzLmdldFJhdyh0b2tlbik7XG4gICAgICAgIGlmIChyYXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oeWRyYXRlKHRva2VuLCByYXcpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHJhdyBhc3NpZ25lZCB2YWx1ZSBvZiBhIHRva2VuIGZyb20gdGhlIG5lYXJlc3QgYXNzaWduZWQgbm9kZS5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gcmV0cmlldmUgYSByYXcgdmFsdWUgZm9yXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRSYXcodG9rZW4pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5hc3NpZ25lZFZhbHVlcy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc3NpZ25lZFZhbHVlcy5nZXQodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSBEZXNpZ25Ub2tlbk5vZGUuZmluZENsb3Nlc3RBc3NpZ25lZE5vZGUodG9rZW4sIHRoaXMpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UmF3KHRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHRva2VuIHRvIGEgdmFsdWUgZm9yIGEgbm9kZVxuICAgICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBzZXRcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0IHRoZSB0b2tlbiB0b1xuICAgICAqL1xuICAgIHNldCh0b2tlbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKERlc2lnblRva2VuSW1wbC5pc0Rlcml2ZWREZXNpZ25Ub2tlblZhbHVlKHRoaXMuYXNzaWduZWRWYWx1ZXMuZ2V0KHRva2VuKSkpIHtcbiAgICAgICAgICAgIHRoaXMudGVhckRvd25CaW5kaW5nT2JzZXJ2ZXIodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzaWduZWRWYWx1ZXMuc2V0KHRva2VuLCB2YWx1ZSk7XG4gICAgICAgIGlmIChEZXNpZ25Ub2tlbkltcGwuaXNEZXJpdmVkRGVzaWduVG9rZW5WYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBCaW5kaW5nT2JzZXJ2ZXIodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0KHRva2VuLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHRva2VuIHZhbHVlIGZvciB0aGUgbm9kZS5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gZGVsZXRlIHRoZSB2YWx1ZSBmb3JcbiAgICAgKi9cbiAgICBkZWxldGUodG9rZW4pIHtcbiAgICAgICAgdGhpcy5hc3NpZ25lZFZhbHVlcy5kZWxldGUodG9rZW4pO1xuICAgICAgICB0aGlzLnRlYXJEb3duQmluZGluZ09ic2VydmVyKHRva2VuKTtcbiAgICAgICAgY29uc3QgdXBzdHJlYW0gPSB0aGlzLmdldFJhdyh0b2tlbik7XG4gICAgICAgIGlmICh1cHN0cmVhbSkge1xuICAgICAgICAgICAgdGhpcy5oeWRyYXRlKHRva2VuLCB1cHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRlbGV0ZSh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBEZXNpZ25Ub2tlbk5vZGUudGFyZ2V0IGlzIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIGJpbmQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IERlc2lnblRva2VuTm9kZS5maW5kUGFyZW50KHRoaXMpO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5hc3NpZ25lZFZhbHVlcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGtleS5ub3RpZnkodGhpcy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgRGVzaWduVG9rZW5Ob2RlLnRhcmdldCBpcyBkZXRhY2hlZCBmcm9tIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIHVuYmluZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZFRvUGFyZW50LmdldCh0aGlzKTtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRoaXMuYmluZGluZ09ic2VydmVycy5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGVhckRvd25CaW5kaW5nT2JzZXJ2ZXIodG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBjaGlsZCB0byBhIHBhcmVudCBEZXNpZ25Ub2tlbk5vZGUuXG4gICAgICogQHBhcmFtIGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFwcGVuZCB0byB0aGUgbm9kZVxuICAgICAqL1xuICAgIGFwcGVuZENoaWxkKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkVG9QYXJlbnQuZ2V0KGNoaWxkKS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVQYXJlbnQgPSB0aGlzLmNoaWxkcmVuLmZpbHRlcih4ID0+IGNoaWxkLmNvbnRhaW5zKHgpKTtcbiAgICAgICAgY2hpbGRUb1BhcmVudC5zZXQoY2hpbGQsIHRoaXMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICByZVBhcmVudC5mb3JFYWNoKHggPT4gY2hpbGQuYXBwZW5kQ2hpbGQoeCkpO1xuICAgICAgICBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKHRoaXMuc3RvcmUpLnN1YnNjcmliZShjaGlsZCk7XG4gICAgICAgIC8vIEhvdyBjYW4gd2Ugbm90IG5vdGlmeSAqZXZlcnkqIHN1YnNjcmliZXI/XG4gICAgICAgIGZvciAoY29uc3QgW3Rva2VuLCB2YWx1ZV0gb2YgdGhpcy5zdG9yZS5hbGwoKSkge1xuICAgICAgICAgICAgY2hpbGQuaHlkcmF0ZSh0b2tlbiwgdGhpcy5iaW5kaW5nT2JzZXJ2ZXJzLmhhcyh0b2tlbikgPyB0aGlzLmdldFJhdyh0b2tlbikgOiB2YWx1ZSk7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHN0b3AgcmVmbGVjdGluZyBhbnkgdG9rZW5zIHRoYXQgY2FuIG5vdyBiZSBpbmhlcml0ZWRcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUNTU1Rva2VuUmVmbGVjdGlvbihjaGlsZC5zdG9yZSwgdG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIGEgbm9kZS5cbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHJlbW92ZUNoaWxkKGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIE9ic2VydmFibGUuZ2V0Tm90aWZpZXIodGhpcy5zdG9yZSkudW5zdWJzY3JpYmUoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGQucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsZXRlZCA9IGNoaWxkVG9QYXJlbnQuZGVsZXRlKGNoaWxkKTtcbiAgICAgICAgZm9yIChjb25zdCBbdG9rZW5dIG9mIHRoaXMuc3RvcmUuYWxsKCkpIHtcbiAgICAgICAgICAgIGNoaWxkLmh5ZHJhdGUodG9rZW4sIGNoaWxkLmdldFJhdyh0b2tlbikpO1xuICAgICAgICAgICAgLy8gTmVlZCB0byBzdGFydCByZWZsZWN0aW5nIGFueSBhc3NpZ25lZCB2YWx1ZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgaW5oZXJpdGVkXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVDU1NUb2tlblJlZmxlY3Rpb24oY2hpbGQuc3RvcmUsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVsZXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdHMgd2hldGhlciBhIHByb3ZpZGVkIG5vZGUgaXMgY29udGFpbmVkIGJ5XG4gICAgICogdGhlIGNhbGxpbmcgbm9kZS5cbiAgICAgKiBAcGFyYW0gdGVzdCAtIFRoZSBub2RlIHRvIHRlc3RcbiAgICAgKi9cbiAgICBjb250YWlucyh0ZXN0KSB7XG4gICAgICAgIHJldHVybiBjb21wb3NlZENvbnRhaW5zKHRoaXMudGFyZ2V0LCB0ZXN0LnRhcmdldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RydWN0cyB0aGUgbm9kZSB0byByZWZsZWN0IGEgZGVzaWduIHRva2VuIGZvciB0aGUgcHJvdmlkZWQgdG9rZW4uXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIGRlc2lnbiB0b2tlbiB0byByZWZsZWN0XG4gICAgICovXG4gICAgcmVmbGVjdFRvQ1NTKHRva2VuKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlZmxlY3RpbmcodG9rZW4pKSB7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3RpbmcuYWRkKHRva2VuKTtcbiAgICAgICAgICAgIERlc2lnblRva2VuTm9kZS5jc3NDdXN0b21Qcm9wZXJ0eVJlZmxlY3Rvci5zdGFydFJlZmxlY3Rpb24odG9rZW4sIHRoaXMudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyByZWZsZWN0aW5nIGEgRGVzaWduVG9rZW4gdG8gQ1NTXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIGRlc2lnbiB0b2tlbiB0byBzdG9wIHJlZmxlY3RpbmdcbiAgICAgKi9cbiAgICBzdG9wUmVmbGVjdFRvQ1NTKHRva2VuKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVmbGVjdGluZyh0b2tlbikpIHtcbiAgICAgICAgICAgIHRoaXMucmVmbGVjdGluZy5kZWxldGUodG9rZW4pO1xuICAgICAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmNzc0N1c3RvbVByb3BlcnR5UmVmbGVjdG9yLnN0b3BSZWZsZWN0aW9uKHRva2VuLCB0aGlzLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHRva2VuIGlzIGJlaW5nIHJlZmxlY3RlZCB0byBDU1MgZm9yIGEgbm9kZS5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gY2hlY2sgZm9yIHJlZmxlY3Rpb25cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGlzUmVmbGVjdGluZyh0b2tlbikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW5nLmhhcyh0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIHRvIHVwc3RyZWFtIHRva2Vuc1xuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgcGFyZW50IERlc2lnblRva2VuTm9kZVxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSAtIFRoZSB0b2tlbiBJRCB0aGF0IGNoYW5nZWRcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2Uoc291cmNlLCBwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IERlc2lnblRva2VuSW1wbC5nZXRUb2tlbkJ5SWQocHJvcGVydHkpO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oeWRyYXRlKHRva2VuLCB0aGlzLmdldFJhdyh0b2tlbikpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNTU1Rva2VuUmVmbGVjdGlvbih0aGlzLnN0b3JlLCB0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEh5ZHJhdGVzIGEgdG9rZW4gd2l0aCBhIERlc2lnblRva2VuVmFsdWUsIG1ha2luZyByZXRyaWV2YWwgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBoeWRyYXRlXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGh5ZHJhdGVcbiAgICAgKi9cbiAgICBoeWRyYXRlKHRva2VuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmJpbmRpbmdPYnNlcnZlcnMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChEZXNpZ25Ub2tlbkltcGwuaXNEZXJpdmVkRGVzaWduVG9rZW5WYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJpbmRpbmcgc291cmNlIGRvZXNuJ3QgbWF0Y2gsIHdlIG5lZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gdXBkYXRlIHRoZSBiaW5kaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlci5zb3VyY2UgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlYXJEb3duQmluZGluZ09ic2VydmVyKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBCaW5kaW5nT2JzZXJ2ZXIodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cEJpbmRpbmdPYnNlcnZlcih0b2tlbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlYXJEb3duQmluZGluZ09ic2VydmVyKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXQodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgYmluZGluZyBvYnNlcnZlciBmb3IgYSBkZXJpdmVkIHRva2VuIHZhbHVlIHRoYXQgbm90aWZpZXMgdG9rZW5cbiAgICAgKiBzdWJzY3JpYmVycyBvbiBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gbm90aWZ5IHdoZW4gdGhlIGJpbmRpbmcgdXBkYXRlc1xuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgYmluZGluZyBzb3VyY2VcbiAgICAgKi9cbiAgICBzZXR1cEJpbmRpbmdPYnNlcnZlcih0b2tlbiwgc291cmNlKSB7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBuZXcgRGVzaWduVG9rZW5CaW5kaW5nT2JzZXJ2ZXIoc291cmNlLCB0b2tlbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycy5zZXQodG9rZW4sIGJpbmRpbmcpO1xuICAgICAgICByZXR1cm4gYmluZGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVhciBkb3duIGEgYmluZGluZyBvYnNlcnZlciBmb3IgYSB0b2tlbi5cbiAgICAgKi9cbiAgICB0ZWFyRG93bkJpbmRpbmdPYnNlcnZlcih0b2tlbikge1xuICAgICAgICBpZiAodGhpcy5iaW5kaW5nT2JzZXJ2ZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycy5nZXQodG9rZW4pLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycy5kZWxldGUodG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogUmVzcG9uc2libGUgZm9yIHJlZmxlY3RpbmcgdG9rZW5zIHRvIENTUyBjdXN0b20gcHJvcGVydGllc1xuICovXG5EZXNpZ25Ub2tlbk5vZGUuY3NzQ3VzdG9tUHJvcGVydHlSZWZsZWN0b3IgPSBuZXcgQ3VzdG9tUHJvcGVydHlSZWZsZWN0b3IoKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlc2lnblRva2VuTm9kZS5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwgdm9pZCAwKTtcbmZ1bmN0aW9uIGNyZWF0ZShuYW1lT3JDb25maWcpIHtcbiAgICByZXR1cm4gRGVzaWduVG9rZW5JbXBsLmZyb20obmFtZU9yQ29uZmlnKTtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG4vKipcbiAqIEZhY3Rvcnkgb2JqZWN0IGZvciBjcmVhdGluZyB7QGxpbmsgKERlc2lnblRva2VuOmludGVyZmFjZSl9IGluc3RhbmNlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERlc2lnblRva2VuID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgY3JlYXRlLFxuICAgIC8qKlxuICAgICAqIEluZm9ybXMgRGVzaWduVG9rZW4gdGhhdCBhbiBIVE1MRWxlbWVudCBmb3Igd2hpY2ggdG9rZW5zIGhhdmVcbiAgICAgKiBiZWVuIHNldCBoYXMgYmVlbiBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogVGhlIGJyb3dzZXIgZG9lcyBub3QgcHJvdmlkZSBhIHJlbGlhYmxlIG1lY2hhbmlzbSB0byBvYnNlcnZlIGFuIEhUTUxFbGVtZW50J3MgY29ubmVjdGVkbmVzc1xuICAgICAqIGluIGFsbCBzY2VuYXJpb3MsIHNvIGludm9raW5nIHRoaXMgbWV0aG9kIG1hbnVhbGx5IGlzIG5lY2Vzc2FyeSB3aGVuOlxuICAgICAqXG4gICAgICogMS4gVG9rZW4gdmFsdWVzIGFyZSBzZXQgZm9yIGFuIEhUTUxFbGVtZW50LlxuICAgICAqIDIuIFRoZSBIVE1MRWxlbWVudCBkb2VzIG5vdCBpbmhlcml0IGZyb20gRkFTVEVsZW1lbnQuXG4gICAgICogMy4gVGhlIEhUTUxFbGVtZW50IGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50IHdoZW4gdG9rZW4gdmFsdWVzIGFyZSBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIG5vdGlmeVxuICAgICAqIEByZXR1cm5zIC0gdHJ1ZSBpZiBub3RpZmljYXRpb24gd2FzIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBub3RpZnlDb25uZWN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50LmlzQ29ubmVjdGVkIHx8ICFEZXNpZ25Ub2tlbk5vZGUuZXhpc3RzRm9yKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmdldE9yQ3JlYXRlKGVsZW1lbnQpLmJpbmQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBJbmZvcm1zIERlc2lnblRva2VuIHRoYXQgYW4gSFRNTEVsZW1lbnQgZm9yIHdoaWNoIHRva2VucyBoYXZlXG4gICAgICogYmVlbiBzZXQgaGFzIGJlZW4gZGlzY29ubmVjdGVkIHRvIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBicm93c2VyIGRvZXMgbm90IHByb3ZpZGUgYSByZWxpYWJsZSBtZWNoYW5pc20gdG8gb2JzZXJ2ZSBhbiBIVE1MRWxlbWVudCdzIGNvbm5lY3RlZG5lc3NcbiAgICAgKiBpbiBhbGwgc2NlbmFyaW9zLCBzbyBpbnZva2luZyB0aGlzIG1ldGhvZCBtYW51YWxseSBpcyBuZWNlc3Nhcnkgd2hlbjpcbiAgICAgKlxuICAgICAqIDEuIFRva2VuIHZhbHVlcyBhcmUgc2V0IGZvciBhbiBIVE1MRWxlbWVudC5cbiAgICAgKiAyLiBUaGUgSFRNTEVsZW1lbnQgZG9lcyBub3QgaW5oZXJpdCBmcm9tIEZBU1RFbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBub3RpZnlcbiAgICAgKiBAcmV0dXJucyAtIHRydWUgaWYgbm90aWZpY2F0aW9uIHdhcyBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICovXG4gICAgbm90aWZ5RGlzY29ubmVjdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmlzQ29ubmVjdGVkIHx8ICFEZXNpZ25Ub2tlbk5vZGUuZXhpc3RzRm9yKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmdldE9yQ3JlYXRlKGVsZW1lbnQpLnVuYmluZCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbmQgZWxlbWVudCBvciBkb2N1bWVudCBhcyBhIERlc2lnblRva2VuIHJvb3QuXG4gICAgICoge0BsaW5rIENTU0Rlc2lnblRva2VuIHwgQ1NTRGVzaWduVG9rZW5zfSB3aXRoIGRlZmF1bHQgdmFsdWVzIGFzc2lnbmVkIHZpYVxuICAgICAqIHtAbGluayAoRGVzaWduVG9rZW46aW50ZXJmYWNlKS53aXRoRGVmYXVsdH0gd2lsbCBlbWl0IENTUyBjdXN0b20gcHJvcGVydGllcyB0byBhbGxcbiAgICAgKiByZWdpc3RlcmVkIHJvb3RzLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgcm9vdCB0byByZWdpc3RlclxuICAgICAqL1xuICAgIHJlZ2lzdGVyUm9vdCh0YXJnZXQgPSBkZWZhdWx0RWxlbWVudCkge1xuICAgICAgICBSb290U3R5bGVTaGVldFRhcmdldC5yZWdpc3RlclJvb3QodGFyZ2V0KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXIgYW4gZWxlbWVudCBvciBkb2N1bWVudCBhcyBhIERlc2lnblRva2VuIHJvb3QuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSByb290IHRvIGRlcmVnaXN0ZXJcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyUm9vdCh0YXJnZXQgPSBkZWZhdWx0RWxlbWVudCkge1xuICAgICAgICBSb290U3R5bGVTaGVldFRhcmdldC51bnJlZ2lzdGVyUm9vdCh0YXJnZXQpO1xuICAgIH0sXG59KTtcbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuIiwiaW1wb3J0IHsgRkFTVEVsZW1lbnREZWZpbml0aW9uIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBGb3VuZGF0aW9uRWxlbWVudCB9IGZyb20gXCIuLi9mb3VuZGF0aW9uLWVsZW1lbnQvZm91bmRhdGlvbi1lbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBESSwgUmVnaXN0cmF0aW9uIH0gZnJvbSBcIi4uL2RpL2RpLmpzXCI7XG5pbXBvcnQgeyBEZXNpZ25Ub2tlbiB9IGZyb20gXCIuLi9kZXNpZ24tdG9rZW4vZGVzaWduLXRva2VuLmpzXCI7XG5pbXBvcnQgeyBDb21wb25lbnRQcmVzZW50YXRpb24gfSBmcm9tIFwiLi9jb21wb25lbnQtcHJlc2VudGF0aW9uLmpzXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uICovXG4vKipcbiAqIEluZGljYXRlcyB3aGF0IHRvIGRvIHdpdGggYW4gYW1iaWd1b3VzIChkdXBsaWNhdGUpIGVsZW1lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBFbGVtZW50RGlzYW1iaWd1YXRpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgICAvKipcbiAgICAgKiBTa2lwIGRlZmluaW5nIHRoZSBlbGVtZW50IGJ1dCBzdGlsbCBjYWxsIHRoZSBwcm92aWRlZCBjYWxsYmFjayBwYXNzZWRcbiAgICAgKiB0byBEZXNpZ25TeXN0ZW1SZWdpc3RyYXRpb25Db250ZXh0LnRyeURlZmluZUVsZW1lbnRcbiAgICAgKi9cbiAgICBkZWZpbml0aW9uQ2FsbGJhY2tPbmx5OiBudWxsLFxuICAgIC8qKlxuICAgICAqIElnbm9yZSB0aGUgZHVwbGljYXRlIGVsZW1lbnQgZW50aXJlbHkuXG4gICAgICovXG4gICAgaWdub3JlRHVwbGljYXRlOiBTeW1ib2woKSxcbn0pO1xuY29uc3QgZWxlbWVudFR5cGVzQnlUYWcgPSBuZXcgTWFwKCk7XG5jb25zdCBlbGVtZW50VGFnc0J5VHlwZSA9IG5ldyBNYXAoKTtcbmxldCByb290RGVzaWduU3lzdGVtID0gbnVsbDtcbmNvbnN0IGRlc2lnblN5c3RlbUtleSA9IERJLmNyZWF0ZUludGVyZmFjZSh4ID0+IHguY2FjaGVkQ2FsbGJhY2soaGFuZGxlciA9PiB7XG4gICAgaWYgKHJvb3REZXNpZ25TeXN0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgcm9vdERlc2lnblN5c3RlbSA9IG5ldyBEZWZhdWx0RGVzaWduU3lzdGVtKG51bGwsIGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdERlc2lnblN5c3RlbTtcbn0pKTtcbi8qKlxuICogQW4gQVBJIGdhdGV3YXkgdG8gZGVzaWduIHN5c3RlbSBmZWF0dXJlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERlc2lnblN5c3RlbSA9IE9iamVjdC5mcmVlemUoe1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCBuYW1lIHRoYXQgdGhlIHR5cGUgaXMgZGVmaW5lZCBhcy5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIHRvIGxvb2t1cC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgdGFnRm9yKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRUYWdzQnlUeXBlLmdldCh0eXBlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIHRoZSBET00gaGllcmFyY2h5IGZvciB0aGUgZGVzaWduIHN5c3RlbSB0aGF0IGlzIHJlc3BvbnNpYmxlXG4gICAgICogZm9yIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gbG9jYXRlIHRoZSBkZXNpZ24gc3lzdGVtIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgbG9jYXRlZCBkZXNpZ24gc3lzdGVtLlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICByZXNwb25zaWJsZUZvcihlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG93bmVkID0gZWxlbWVudC4kJGRlc2lnblN5c3RlbSQkO1xuICAgICAgICBpZiAob3duZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvd25lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBESS5maW5kUmVzcG9uc2libGVDb250YWluZXIoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZ2V0KGRlc2lnblN5c3RlbUtleSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBEZXNpZ25TeXN0ZW0gaWYgb25lIGlzIGV4cGxpY2l0bHkgZGVmaW5lZCBvbiB0aGUgcHJvdmlkZWQgZWxlbWVudDtcbiAgICAgKiBvdGhlcndpc2UgY3JlYXRlcyBhIGRlc2lnbiBzeXN0ZW0gZGVmaW5lZCBkaXJlY3RseSBvbiB0aGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGdldCBvciBjcmVhdGUgYSBkZXNpZ24gc3lzdGVtIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgZGVzaWduIHN5c3RlbS5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0T3JDcmVhdGUobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIGlmIChyb290RGVzaWduU3lzdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcm9vdERlc2lnblN5c3RlbSA9IERJLmdldE9yQ3JlYXRlRE9NQ29udGFpbmVyKCkuZ2V0KGRlc2lnblN5c3RlbUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm9vdERlc2lnblN5c3RlbTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvd25lZCA9IG5vZGUuJCRkZXNpZ25TeXN0ZW0kJDtcbiAgICAgICAgaWYgKG93bmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3duZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gREkuZ2V0T3JDcmVhdGVET01Db250YWluZXIobm9kZSk7XG4gICAgICAgIGlmIChjb250YWluZXIuaGFzKGRlc2lnblN5c3RlbUtleSwgZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmdldChkZXNpZ25TeXN0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3lzdGVtID0gbmV3IERlZmF1bHREZXNpZ25TeXN0ZW0obm9kZSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uaW5zdGFuY2UoZGVzaWduU3lzdGVtS2V5LCBzeXN0ZW0pKTtcbiAgICAgICAgICAgIHJldHVybiBzeXN0ZW07XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5mdW5jdGlvbiBleHRyYWN0VHJ5RGVmaW5lRWxlbWVudFBhcmFtcyhwYXJhbXMsIGVsZW1lbnREZWZpbml0aW9uVHlwZSwgZWxlbWVudERlZmluaXRpb25DYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBwYXJhbXMsXG4gICAgICAgICAgICB0eXBlOiBlbGVtZW50RGVmaW5pdGlvblR5cGUsXG4gICAgICAgICAgICBjYWxsYmFjazogZWxlbWVudERlZmluaXRpb25DYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxufVxuY2xhc3MgRGVmYXVsdERlc2lnblN5c3RlbSB7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRlc2lnblRva2Vuc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJlZml4ID0gXCJmYXN0XCI7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdE1vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGlzYW1iaWd1YXRlID0gKCkgPT4gRWxlbWVudERpc2FtYmlndWF0aW9uLmRlZmluaXRpb25DYWxsYmFja09ubHk7XG4gICAgICAgIGlmIChvd25lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgb3duZXIuJCRkZXNpZ25TeXN0ZW0kJCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2l0aFByZWZpeChwcmVmaXgpIHtcbiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2hhZG93Um9vdE1vZGUobW9kZSkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3RNb2RlID0gbW9kZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhFbGVtZW50RGlzYW1iaWd1YXRpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5kaXNhbWJpZ3VhdGUgPSBjYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhEZXNpZ25Ub2tlblJvb3Qocm9vdCkge1xuICAgICAgICB0aGlzLmRlc2lnblRva2VuUm9vdCA9IHJvb3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlciguLi5yZWdpc3RyYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBlbGVtZW50RGVmaW5pdGlvbkVudHJpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZGlzYW1iaWd1YXRlID0gdGhpcy5kaXNhbWJpZ3VhdGU7XG4gICAgICAgIGNvbnN0IHNoYWRvd1Jvb3RNb2RlID0gdGhpcy5zaGFkb3dSb290TW9kZTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGVsZW1lbnRQcmVmaXg6IHRoaXMucHJlZml4LFxuICAgICAgICAgICAgdHJ5RGVmaW5lRWxlbWVudChwYXJhbXMsIGVsZW1lbnREZWZpbml0aW9uVHlwZSwgZWxlbWVudERlZmluaXRpb25DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhY3RlZFBhcmFtcyA9IGV4dHJhY3RUcnlEZWZpbmVFbGVtZW50UGFyYW1zKHBhcmFtcywgZWxlbWVudERlZmluaXRpb25UeXBlLCBlbGVtZW50RGVmaW5pdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGNhbGxiYWNrLCBiYXNlQ2xhc3MgfSA9IGV4dHJhY3RlZFBhcmFtcztcbiAgICAgICAgICAgICAgICBsZXQgeyB0eXBlIH0gPSBleHRyYWN0ZWRQYXJhbXM7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICBsZXQgdHlwZUZvdW5kQnlOYW1lID0gZWxlbWVudFR5cGVzQnlUYWcuZ2V0KGVsZW1lbnROYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgbmVlZHNEZWZpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0eXBlRm91bmRCeU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGlzYW1iaWd1YXRlKGVsZW1lbnROYW1lLCB0eXBlLCB0eXBlRm91bmRCeU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFbGVtZW50RGlzYW1iaWd1YXRpb24uaWdub3JlRHVwbGljYXRlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRWxlbWVudERpc2FtYmlndWF0aW9uLmRlZmluaXRpb25DYWxsYmFja09ubHk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNEZWZpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlRm91bmRCeU5hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnROYW1lID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVGb3VuZEJ5TmFtZSA9IGVsZW1lbnRUeXBlc0J5VGFnLmdldChlbGVtZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzRGVmaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50VGFnc0J5VHlwZS5oYXModHlwZSkgfHwgdHlwZSA9PT0gRm91bmRhdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBjbGFzcyBleHRlbmRzIHR5cGUge1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZXNCeVRhZy5zZXQoZWxlbWVudE5hbWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50VGFnc0J5VHlwZS5zZXQodHlwZSwgZWxlbWVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VGFnc0J5VHlwZS5zZXQoYmFzZUNsYXNzLCBlbGVtZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudERlZmluaXRpb25FbnRyaWVzLnB1c2gobmV3IEVsZW1lbnREZWZpbml0aW9uRW50cnkoY29udGFpbmVyLCBlbGVtZW50TmFtZSwgdHlwZSwgc2hhZG93Um9vdE1vZGUsIGNhbGxiYWNrLCBuZWVkc0RlZmluZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLmRlc2lnblRva2Vuc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc2lnblRva2Vuc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc2lnblRva2VuUm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIERlc2lnblRva2VuLnJlZ2lzdGVyUm9vdCh0aGlzLmRlc2lnblRva2VuUm9vdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyV2l0aENvbnRleHQoY29udGV4dCwgLi4ucmVnaXN0cmF0aW9ucyk7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZWxlbWVudERlZmluaXRpb25FbnRyaWVzKSB7XG4gICAgICAgICAgICBlbnRyeS5jYWxsYmFjayhlbnRyeSk7XG4gICAgICAgICAgICBpZiAoZW50cnkud2lsbERlZmluZSAmJiBlbnRyeS5kZWZpbml0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZW50cnkuZGVmaW5pdGlvbi5kZWZpbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5jbGFzcyBFbGVtZW50RGVmaW5pdGlvbkVudHJ5IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG5hbWUsIHR5cGUsIHNoYWRvd1Jvb3RNb2RlLCBjYWxsYmFjaywgd2lsbERlZmluZSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290TW9kZSA9IHNoYWRvd1Jvb3RNb2RlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMud2lsbERlZmluZSA9IHdpbGxEZWZpbmU7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGRlZmluZVByZXNlbnRhdGlvbihwcmVzZW50YXRpb24pIHtcbiAgICAgICAgQ29tcG9uZW50UHJlc2VudGF0aW9uLmRlZmluZSh0aGlzLm5hbWUsIHByZXNlbnRhdGlvbiwgdGhpcy5jb250YWluZXIpO1xuICAgIH1cbiAgICBkZWZpbmVFbGVtZW50KGRlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gbmV3IEZBU1RFbGVtZW50RGVmaW5pdGlvbih0aGlzLnR5cGUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmaW5pdGlvbiksIHsgbmFtZTogdGhpcy5uYW1lIH0pKTtcbiAgICB9XG4gICAgdGFnRm9yKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIERlc2lnblN5c3RlbS50YWdGb3IodHlwZSk7XG4gICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uICovXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG4vKipcbiAqIFRoZSB0ZW1wbGF0ZSBmb3IgdGhlIHtAbGluayBAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbiNEaXZpZGVyfSBjb21wb25lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBkaXZpZGVyVGVtcGxhdGUgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gaHRtbCBgXG4gICAgPHRlbXBsYXRlIHJvbGU9XCIke3ggPT4geC5yb2xlfVwiIGFyaWEtb3JpZW50YXRpb249XCIke3ggPT4geC5vcmllbnRhdGlvbn1cIj48L3RlbXBsYXRlPlxuYDtcbiIsIi8qKlxuICogRGl2aWRlciByb2xlc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRGl2aWRlclJvbGUgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIGRpdmlkZXIgc2VtYW50aWNhbGx5IHNlcGFyYXRlcyBjb250ZW50XG4gICAgICovXG4gICAgc2VwYXJhdG9yOiBcInNlcGFyYXRvclwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBkaXZpZGVyIGhhcyBubyBzZW1hbnRpYyB2YWx1ZSBhbmQgaXMgZm9yIHZpc3VhbCBwcmVzZW50YXRpb24gb25seS5cbiAgICAgKi9cbiAgICBwcmVzZW50YXRpb246IFwicHJlc2VudGF0aW9uXCIsXG59O1xuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LXdlYi11dGlsaXRpZXNcIjtcbmltcG9ydCB7IEZvdW5kYXRpb25FbGVtZW50IH0gZnJvbSBcIi4uL2ZvdW5kYXRpb24tZWxlbWVudC9mb3VuZGF0aW9uLWVsZW1lbnQuanNcIjtcbmltcG9ydCB7IERpdmlkZXJSb2xlIH0gZnJvbSBcIi4vZGl2aWRlci5vcHRpb25zLmpzXCI7XG5leHBvcnQgeyBEaXZpZGVyUm9sZSB9O1xuLyoqXG4gKiBBIERpdmlkZXIgQ3VzdG9tIEhUTUwgRWxlbWVudC5cbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNzZXBhcmF0b3IgfCBBUklBIHNlcGFyYXRvciB9IG9yIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNwcmVzZW50YXRpb24gfCBBUklBIHByZXNlbnRhdGlvbn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGl2aWRlciBleHRlbmRzIEZvdW5kYXRpb25FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIEhUTUwgQXR0cmlidXRlOiByb2xlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvbGUgPSBEaXZpZGVyUm9sZS5zZXBhcmF0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZW50YXRpb24gb2YgdGhlIGRpdmlkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSFRNTCBBdHRyaWJ1dGU6IG9yaWVudGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uaG9yaXpvbnRhbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyXG5dLCBEaXZpZGVyLnByb3RvdHlwZSwgXCJyb2xlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyXG5dLCBEaXZpZGVyLnByb3RvdHlwZSwgXCJvcmllbnRhdGlvblwiLCB2b2lkIDApO1xuIiwiaW1wb3J0IHsgaHRtbCwgc2xvdHRlZCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgZW5kU2xvdFRlbXBsYXRlLCBzdGFydFNsb3RUZW1wbGF0ZSB9IGZyb20gXCIuLi9wYXR0ZXJucy9zdGFydC1lbmQuanNcIjtcbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhMaXN0Ym94T3B0aW9uOmNsYXNzKX0gY29tcG9uZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbGlzdGJveE9wdGlvblRlbXBsYXRlID0gKGNvbnRleHQsIGRlZmluaXRpb24pID0+IGh0bWwgYFxuICAgIDx0ZW1wbGF0ZVxuICAgICAgICBhcmlhLWNoZWNrZWQ9XCIke3ggPT4geC5hcmlhQ2hlY2tlZH1cIlxuICAgICAgICBhcmlhLWRpc2FibGVkPVwiJHt4ID0+IHguYXJpYURpc2FibGVkfVwiXG4gICAgICAgIGFyaWEtcG9zaW5zZXQ9XCIke3ggPT4geC5hcmlhUG9zSW5TZXR9XCJcbiAgICAgICAgYXJpYS1zZWxlY3RlZD1cIiR7eCA9PiB4LmFyaWFTZWxlY3RlZH1cIlxuICAgICAgICBhcmlhLXNldHNpemU9XCIke3ggPT4geC5hcmlhU2V0U2l6ZX1cIlxuICAgICAgICBjbGFzcz1cIiR7eCA9PiBbeC5jaGVja2VkICYmIFwiY2hlY2tlZFwiLCB4LnNlbGVjdGVkICYmIFwic2VsZWN0ZWRcIiwgeC5kaXNhYmxlZCAmJiBcImRpc2FibGVkXCJdXG4gICAgLmZpbHRlcihCb29sZWFuKVxuICAgIC5qb2luKFwiIFwiKX1cIlxuICAgICAgICByb2xlPVwib3B0aW9uXCJcbiAgICA+XG4gICAgICAgICR7c3RhcnRTbG90VGVtcGxhdGUoY29udGV4dCwgZGVmaW5pdGlvbil9XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY29udGVudFwiIHBhcnQ9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8c2xvdCAke3Nsb3R0ZWQoXCJjb250ZW50XCIpfT48L3Nsb3Q+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgJHtlbmRTbG90VGVtcGxhdGUoY29udGV4dCwgZGVmaW5pdGlvbil9XG4gICAgPC90ZW1wbGF0ZT5cbmA7XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhdHRyLCBET00sIG51bGxhYmxlTnVtYmVyQ29udmVydGVyLCBvYnNlcnZhYmxlIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBpblJhbmdlLCBrZXlBcnJvd0Rvd24sIGtleUFycm93VXAsIGtleUVuZCwga2V5RXNjYXBlLCBrZXlIb21lLCBrZXlTcGFjZSwga2V5VGFiLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuaW1wb3J0IHsgTGlzdGJveCB9IGZyb20gXCIuL2xpc3Rib3guanNcIjtcbi8qKlxuICogQSBMaXN0Ym94IEN1c3RvbSBIVE1MIEVsZW1lbnQuXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2FyaWEvI2xpc3Rib3ggfCBBUklBIGxpc3Rib3ggfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0Ym94RWxlbWVudCBleHRlbmRzIExpc3Rib3gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGV4IG9mIHRoZSBtb3N0IHJlY2VudGx5IGNoZWNrZWQgb3B0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogTXVsdGlwbGUtc2VsZWN0aW9uIG1vZGUgb25seS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFydCBpbmRleCB3aGVuIGNoZWNraW5nIGEgcmFuZ2Ugb2Ygb3B0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhbmdlU3RhcnRJbmRleCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGNoZWNrZWQgb3B0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZU9wdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBjaGVja2VkIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgY2hlY2tlZE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbHRlcihvID0+IG8uY2hlY2tlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgZmlyc3RTZWxlY3RlZE9wdGlvbkluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmluZGV4T2YodGhpcy5maXJzdFNlbGVjdGVkT3B0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYGFyaWFBY3RpdmVEZXNjZW5kYW50YCBwcm9wZXJ0eSB3aGVuIHRoZSBhY3RpdmUgaW5kZXggY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIGFjdGl2ZSBpbmRleFxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5leHQgYWN0aXZlIGluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhY3RpdmVJbmRleENoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmFyaWFBY3RpdmVEZXNjZW5kYW50ID0gKF9iID0gKF9hID0gdGhpcy5vcHRpb25zW25leHRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiXCI7XG4gICAgICAgIHRoaXMuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHRoZSBjaGVja2VkIHN0YXRlIGZvciB0aGUgY3VycmVudGx5IGFjdGl2ZSBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE11bHRpcGxlLXNlbGVjdGlvbiBtb2RlIG9ubHkuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjaGVja0FjdGl2ZUluZGV4KCkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVJdGVtID0gdGhpcy5hY3RpdmVPcHRpb247XG4gICAgICAgIGlmIChhY3RpdmVJdGVtKSB7XG4gICAgICAgICAgICBhY3RpdmVJdGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBpbmRleCB0byB0aGUgZmlyc3Qgb3B0aW9uIGFuZCBtYXJrcyBpdCBhcyBjaGVja2VkLlxuICAgICAqXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBNdWx0aS1zZWxlY3Rpb24gbW9kZSBvbmx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXNlcnZlQ2hlY2tlZCAtIG1hcmsgYWxsIG9wdGlvbnMgdW5jaGVja2VkIGJlZm9yZSBjaGFuZ2luZyB0aGUgYWN0aXZlIGluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjaGVja0ZpcnN0T3B0aW9uKHByZXNlcnZlQ2hlY2tlZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChwcmVzZXJ2ZUNoZWNrZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlU3RhcnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlU3RhcnRJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBvLmNoZWNrZWQgPSBpblJhbmdlKGksIHRoaXMucmFuZ2VTdGFydEluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bmNoZWNrQWxsT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjcmVtZW50cyB0aGUgYWN0aXZlIGluZGV4IGFuZCBzZXRzIHRoZSBtYXRjaGluZyBvcHRpb24gYXMgY2hlY2tlZC5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogTXVsdGktc2VsZWN0aW9uIG1vZGUgb25seS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmVzZXJ2ZUNoZWNrZWQgLSBtYXJrIGFsbCBvcHRpb25zIHVuY2hlY2tlZCBiZWZvcmUgY2hhbmdpbmcgdGhlIGFjdGl2ZSBpbmRleFxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY2hlY2tMYXN0T3B0aW9uKHByZXNlcnZlQ2hlY2tlZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChwcmVzZXJ2ZUNoZWNrZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlU3RhcnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlU3RhcnRJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgobywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIG8uY2hlY2tlZCA9IGluUmFuZ2UoaSwgdGhpcy5yYW5nZVN0YXJ0SW5kZXgsIHRoaXMub3B0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMub3B0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHRoaXMuZm9jdXNvdXRIYW5kbGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHRoaXMuZm9jdXNvdXRIYW5kbGVyKTtcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVtZW50cyB0aGUgYWN0aXZlIGluZGV4IGFuZCBtYXJrcyB0aGUgbWF0Y2hpbmcgb3B0aW9uIGFzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE11bHRpcGxlLXNlbGVjdGlvbiBtb2RlIG9ubHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJlc2VydmVDaGVja2VkIC0gbWFyayBhbGwgb3B0aW9ucyB1bmNoZWNrZWQgYmVmb3JlIGNoYW5naW5nIHRoZSBhY3RpdmUgaW5kZXhcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNoZWNrTmV4dE9wdGlvbihwcmVzZXJ2ZUNoZWNrZWQgPSBmYWxzZSkge1xuICAgICAgICBpZiAocHJlc2VydmVDaGVja2VkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5nZVN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZVN0YXJ0SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBvLmNoZWNrZWQgPSBpblJhbmdlKGksIHRoaXMucmFuZ2VTdGFydEluZGV4LCB0aGlzLmFjdGl2ZUluZGV4ICsgMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5jaGVja0FsbE9wdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ICs9IHRoaXMuYWN0aXZlSW5kZXggPCB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMSA/IDEgOiAwO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjcmVtZW50cyB0aGUgYWN0aXZlIGluZGV4IGFuZCBtYXJrcyB0aGUgbWF0Y2hpbmcgb3B0aW9uIGFzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE11bHRpcGxlLXNlbGVjdGlvbiBtb2RlIG9ubHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJlc2VydmVDaGVja2VkIC0gbWFyayBhbGwgb3B0aW9ucyB1bmNoZWNrZWQgYmVmb3JlIGNoYW5naW5nIHRoZSBhY3RpdmUgaW5kZXhcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNoZWNrUHJldmlvdXNPcHRpb24ocHJlc2VydmVDaGVja2VkID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHByZXNlcnZlQ2hlY2tlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VTdGFydEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VTdGFydEluZGV4ID0gdGhpcy5hY3RpdmVJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWRPcHRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VTdGFydEluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgobywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIG8uY2hlY2tlZCA9IGluUmFuZ2UoaSwgdGhpcy5hY3RpdmVJbmRleCwgdGhpcy5yYW5nZVN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCAtPSB0aGlzLmFjdGl2ZUluZGV4ID4gMCA/IDEgOiAwO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBjbGljayBldmVudHMgZm9yIGxpc3Rib3ggb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlIC0gdGhlIGV2ZW50IG9iamVjdFxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY2xpY2tIYW5kbGVyKGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5jbGlja0hhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FwdHVyZWQgPSAoX2EgPSBlLnRhcmdldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3Nlc3QoYFtyb2xlPW9wdGlvbl1gKTtcbiAgICAgICAgaWYgKCFjYXB0dXJlZCB8fCBjYXB0dXJlZC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5jaGVja0FsbE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKGNhcHR1cmVkKTtcbiAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgIHRoaXMudG9nZ2xlU2VsZWN0ZWRGb3JBbGxDaGVja2VkT3B0aW9ucygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpIHtcbiAgICAgICAgc3VwZXIuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldyh0aGlzLmFjdGl2ZU9wdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluIG11bHRpcGxlLXNlbGVjdGlvbiBtb2RlOlxuICAgICAqIElmIGFueSBvcHRpb25zIGFyZSBzZWxlY3RlZCwgdGhlIGZpcnN0IHNlbGVjdGVkIG9wdGlvbiBpcyBjaGVja2VkIHdoZW5cbiAgICAgKiB0aGUgbGlzdGJveCByZWNlaXZlcyBmb2N1cy4gSWYgbm8gb3B0aW9ucyBhcmUgc2VsZWN0ZWQsIHRoZSBmaXJzdFxuICAgICAqIHNlbGVjdGFibGUgb3B0aW9uIGlzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmb2N1c2luSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmZvY3VzaW5IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRTa2lwRm9jdXMgJiYgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy51bmNoZWNrQWxsT3B0aW9ucygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbkluZGV4ICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmZpcnN0U2VsZWN0ZWRPcHRpb25JbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c0FuZFNjcm9sbE9wdGlvbkludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG91bGRTa2lwRm9jdXMgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5jaGVja3MgYWxsIG9wdGlvbnMgd2hlbiB0aGUgbGlzdGJveCBsb3NlcyBmb2N1cy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZvY3Vzb3V0SGFuZGxlcihlKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBrZXlkb3duIGFjdGlvbnMgZm9yIGxpc3Rib3ggbmF2aWdhdGlvbiBhbmQgdHlwZWFoZWFkXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmtleWRvd25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGtleSwgc2hpZnRLZXkgfSA9IGU7XG4gICAgICAgIHRoaXMuc2hvdWxkU2tpcEZvY3VzID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGZpcnN0IGF2YWlsYWJsZSBvcHRpb25cbiAgICAgICAgICAgIGNhc2Uga2V5SG9tZToge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tGaXJzdE9wdGlvbihzaGlmdEtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBuZXh0IHNlbGVjdGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUFycm93RG93bjoge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tOZXh0T3B0aW9uKHNoaWZ0S2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIHByZXZpb3VzIHNlbGVjdGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUFycm93VXA6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUHJldmlvdXNPcHRpb24oc2hpZnRLZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbGFzdCBhdmFpbGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUVuZDoge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tMYXN0T3B0aW9uKHNoaWZ0S2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGtleVRhYjoge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlFc2NhcGU6IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGtleVNwYWNlOiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVBaGVhZEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTZWxlY3RlZEZvckFsbENoZWNrZWRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZW5kIGtleSB0byBUeXBlYWhlYWQgaGFuZGxlclxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVHlwZUFoZWFkKGAke2tleX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgYGZvY3VzaW5gIGV2ZW50cyBmcm9tIGZpcmluZyBiZWZvcmUgYGNsaWNrYCBldmVudHMgd2hlbiB0aGVcbiAgICAgKiBlbGVtZW50IGlzIHVuZm9jdXNlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG1vdXNlZG93bkhhbmRsZXIoZSkge1xuICAgICAgICBpZiAoZS5vZmZzZXRYID49IDAgJiYgZS5vZmZzZXRYIDw9IHRoaXMuc2Nyb2xsV2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5tb3VzZWRvd25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIGJldHdlZW4gc2luZ2xlLXNlbGVjdGlvbiBhbmQgbXVsdGktc2VsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBtdWx0aXBsZUNoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuYXJpYU11bHRpU2VsZWN0YWJsZSA9IG5leHQgPyBcInRydWVcIiA6IG51bGw7XG4gICAgICAgIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2gobyA9PiB7XG4gICAgICAgICAgICBvLmNoZWNrZWQgPSBuZXh0ID8gZmFsc2UgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIG9wdGlvbiBhcyBzZWxlY3RlZCBhbmQgZ2l2ZXMgaXQgZm9jdXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2V0U2VsZWN0ZWRPcHRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHN1cGVyLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCAmJiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25zID0gdGhpcy5vcHRpb25zLmZpbHRlcihvID0+IG8uc2VsZWN0ZWQpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c0FuZFNjcm9sbE9wdGlvbkludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGUgc2l6ZSBpcyBhIHBvc2l0aXZlIGludGVnZXIgd2hlbiB0aGUgcHJvcGVydHkgaXMgdXBkYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIHNpemUgdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IHNpemUgdmFsdWVcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNpemVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBzaXplID0gTWF0aC5tYXgoMCwgcGFyc2VJbnQoKF9hID0gbmV4dCA9PT0gbnVsbCB8fCBuZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0LnRvRml4ZWQoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIiwgMTApKTtcbiAgICAgICAgaWYgKHNpemUgIT09IG5leHQpIHtcbiAgICAgICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgdGhlIHNlbGVjdGVkIHN0YXRlIG9mIHRoZSBwcm92aWRlZCBvcHRpb25zLiBJZiBhbnkgcHJvdmlkZWQgaXRlbXNcbiAgICAgKiBhcmUgaW4gYW4gdW5zZWxlY3RlZCBzdGF0ZSwgYWxsIGl0ZW1zIGFyZSBzZXQgdG8gc2VsZWN0ZWQuIElmIGV2ZXJ5XG4gICAgICogcHJvdmlkZWQgaXRlbSBpcyBzZWxlY3RlZCwgdGhleSBhcmUgYWxsIHVuc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0b2dnbGVTZWxlY3RlZEZvckFsbENoZWNrZWRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBlbmFibGVkQ2hlY2tlZE9wdGlvbnMgPSB0aGlzLmNoZWNrZWRPcHRpb25zLmZpbHRlcihvID0+ICFvLmRpc2FibGVkKTtcbiAgICAgICAgY29uc3QgZm9yY2UgPSAhZW5hYmxlZENoZWNrZWRPcHRpb25zLmV2ZXJ5KG8gPT4gby5zZWxlY3RlZCk7XG4gICAgICAgIGVuYWJsZWRDaGVja2VkT3B0aW9ucy5mb3JFYWNoKG8gPT4gKG8uc2VsZWN0ZWQgPSBmb3JjZSkpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLm9wdGlvbnMuaW5kZXhPZihlbmFibGVkQ2hlY2tlZE9wdGlvbnNbZW5hYmxlZENoZWNrZWRPcHRpb25zLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdHlwZWFoZWFkQnVmZmVyQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgc3VwZXIudHlwZWFoZWFkQnVmZmVyQ2hhbmdlZChwcmV2LCBuZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4kZmFzdENvbnRyb2xsZXIuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVhaGVhZE1hdGNoZXMgPSB0aGlzLmdldFR5cGVhaGVhZE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5vcHRpb25zLmluZGV4T2YodHlwZWFoZWFkTWF0Y2hlc1swXSk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnR5cGVBaGVhZEV4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbmNoZWNrcyBhbGwgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogTXVsdGlwbGUtc2VsZWN0aW9uIG1vZGUgb25seS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmVzZXJ2ZUNoZWNrZWQgLSByZXNldCB0aGUgcmFuZ2VTdGFydEluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB1bmNoZWNrQWxsT3B0aW9ucyhwcmVzZXJ2ZUNoZWNrZWQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChvID0+IChvLmNoZWNrZWQgPSB0aGlzLm11bHRpcGxlID8gZmFsc2UgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgaWYgKCFwcmVzZXJ2ZUNoZWNrZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VTdGFydEluZGV4ID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94RWxlbWVudC5wcm90b3R5cGUsIFwiYWN0aXZlSW5kZXhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBtb2RlOiBcImJvb2xlYW5cIiB9KVxuXSwgTGlzdGJveEVsZW1lbnQucHJvdG90eXBlLCBcIm11bHRpcGxlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgY29udmVydGVyOiBudWxsYWJsZU51bWJlckNvbnZlcnRlciB9KVxuXSwgTGlzdGJveEVsZW1lbnQucHJvdG90eXBlLCBcInNpemVcIiwgdm9pZCAwKTtcbiIsImltcG9ydCB7IGh0bWwsIHdoZW4gfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbmNvbnN0IHByb2dyZXNzU2VnbWVudHMgPSA0NDtcbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uI0Jhc2VQcm9ncmVzc30gY29tcG9uZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NSaW5nVGVtcGxhdGUgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gaHRtbCBgXG4gICAgPHRlbXBsYXRlXG4gICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgIGFyaWEtdmFsdWVub3c9XCIke3ggPT4geC52YWx1ZX1cIlxuICAgICAgICBhcmlhLXZhbHVlbWluPVwiJHt4ID0+IHgubWlufVwiXG4gICAgICAgIGFyaWEtdmFsdWVtYXg9XCIke3ggPT4geC5tYXh9XCJcbiAgICAgICAgY2xhc3M9XCIke3ggPT4gKHgucGF1c2VkID8gXCJwYXVzZWRcIiA6IFwiXCIpfVwiXG4gICAgPlxuICAgICAgICAke3doZW4oeCA9PiB0eXBlb2YgeC52YWx1ZSA9PT0gXCJudW1iZXJcIiwgaHRtbCBgXG4gICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInByb2dyZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgcGFydD1cInByb2dyZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxNiAxNlwiXG4gICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJkZXRlcm1pbmF0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydD1cImJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3g9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3k9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcj1cIjdweFwiXG4gICAgICAgICAgICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZXRlcm1pbmF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0PVwiZGV0ZXJtaW5hdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJzdHJva2UtZGFzaGFycmF5OiAke3ggPT4gKHByb2dyZXNzU2VnbWVudHMgKiB4LnBlcmNlbnRDb21wbGV0ZSkgL1xuICAgIDEwMH1weCAke3Byb2dyZXNzU2VnbWVudHN9cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3g9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3k9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcj1cIjdweFwiXG4gICAgICAgICAgICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIGAsIGh0bWwgYFxuICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJpbmRldGVybWluYXRlXCIgc2xvdD1cImluZGV0ZXJtaW5hdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtkZWZpbml0aW9uLmluZGV0ZXJtaW5hdGVJbmRpY2F0b3IgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICBgKX1cbiAgICA8L3RlbXBsYXRlPlxuYDtcbiIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGF0dHIsIG51bGxhYmxlTnVtYmVyQ29udmVydGVyLCBvYnNlcnZhYmxlLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgRm91bmRhdGlvbkVsZW1lbnQsIH0gZnJvbSBcIi4uL2ZvdW5kYXRpb24tZWxlbWVudC9mb3VuZGF0aW9uLWVsZW1lbnQuanNcIjtcbi8qKlxuICogQW4gUHJvZ3Jlc3MgSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI3Byb2dyZXNzYmFyIHwgQVJJQSBwcm9ncmVzc2JhciB9LlxuICpcbiAqIEBzbG90IGluZGV0ZXJtaW5hdGUgLSBUaGUgc2xvdCBmb3IgYSBjdXN0b20gaW5kZXRlcm1pbmF0ZSBpbmRpY2F0b3JcbiAqIEBjc3NwYXJ0IHByb2dyZXNzIC0gUmVwcmVzZW50cyB0aGUgcHJvZ3Jlc3MgZWxlbWVudFxuICogQGNzc3BhcnQgZGV0ZXJtaW5hdGUgLSBUaGUgZGV0ZXJtaW5hdGUgaW5kaWNhdG9yXG4gKiBAY3NzcGFydCBpbmRldGVybWluYXRlIC0gVGhlIGluZGV0ZXJtaW5hdGUgaW5kaWNhdG9yXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb2dyZXNzIGV4dGVuZHMgRm91bmRhdGlvbkVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHByb2dyZXNzIGluICVcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlcmNlbnRDb21wbGV0ZSA9IDA7XG4gICAgfVxuICAgIHZhbHVlQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuJGZhc3RDb250cm9sbGVyLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBlcmNlbnRDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbkNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQZXJjZW50Q29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXhDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy4kZmFzdENvbnRyb2xsZXIuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGVyY2VudENvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMudXBkYXRlUGVyY2VudENvbXBsZXRlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVBlcmNlbnRDb21wbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgbWluID0gdHlwZW9mIHRoaXMubWluID09PSBcIm51bWJlclwiID8gdGhpcy5taW4gOiAwO1xuICAgICAgICBjb25zdCBtYXggPSB0eXBlb2YgdGhpcy5tYXggPT09IFwibnVtYmVyXCIgPyB0aGlzLm1heCA6IDEwMDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdGhpcy52YWx1ZSA9PT0gXCJudW1iZXJcIiA/IHRoaXMudmFsdWUgOiAwO1xuICAgICAgICBjb25zdCByYW5nZSA9IG1heCAtIG1pbjtcbiAgICAgICAgdGhpcy5wZXJjZW50Q29tcGxldGUgPVxuICAgICAgICAgICAgcmFuZ2UgPT09IDAgPyAwIDogTWF0aC5mcm91bmQoKCh2YWx1ZSAtIG1pbikgLyByYW5nZSkgKiAxMDApO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBjb252ZXJ0ZXI6IG51bGxhYmxlTnVtYmVyQ29udmVydGVyIH0pXG5dLCBCYXNlUHJvZ3Jlc3MucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgY29udmVydGVyOiBudWxsYWJsZU51bWJlckNvbnZlcnRlciB9KVxuXSwgQmFzZVByb2dyZXNzLnByb3RvdHlwZSwgXCJtaW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBjb252ZXJ0ZXI6IG51bGxhYmxlTnVtYmVyQ29udmVydGVyIH0pXG5dLCBCYXNlUHJvZ3Jlc3MucHJvdG90eXBlLCBcIm1heFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IG1vZGU6IFwiYm9vbGVhblwiIH0pXG5dLCBCYXNlUHJvZ3Jlc3MucHJvdG90eXBlLCBcInBhdXNlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgQmFzZVByb2dyZXNzLnByb3RvdHlwZSwgXCJwZXJjZW50Q29tcGxldGVcIiwgdm9pZCAwKTtcbiIsImltcG9ydCB7IExpc3Rib3hFbGVtZW50IH0gZnJvbSBcIi4uL2xpc3Rib3gvbGlzdGJveC5lbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBGb3JtQXNzb2NpYXRlZCB9IGZyb20gXCIuLi9mb3JtLWFzc29jaWF0ZWQvZm9ybS1hc3NvY2lhdGVkLmpzXCI7XG5jbGFzcyBfU2VsZWN0IGV4dGVuZHMgTGlzdGJveEVsZW1lbnQge1xufVxuLyoqXG4gKiBBIGZvcm0tYXNzb2NpYXRlZCBiYXNlIGNsYXNzIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhTZWxlY3Q6Y2xhc3MpfSBjb21wb25lbnQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3JtQXNzb2NpYXRlZFNlbGVjdCBleHRlbmRzIEZvcm1Bc3NvY2lhdGVkKF9TZWxlY3QpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wcm94eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciwgRE9NLCBPYnNlcnZhYmxlLCBvYnNlcnZhYmxlLCB2b2xhdGlsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsga2V5QXJyb3dEb3duLCBrZXlBcnJvd1VwLCBrZXlFbmQsIGtleUVudGVyLCBrZXlFc2NhcGUsIGtleUhvbWUsIGtleVNwYWNlLCBrZXlUYWIsIHVuaXF1ZUlkLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuaW1wb3J0IHsgRGVsZWdhdGVzQVJJQUxpc3Rib3gsIExpc3Rib3ggfSBmcm9tIFwiLi4vbGlzdGJveC9saXN0Ym94LmpzXCI7XG5pbXBvcnQgeyBTdGFydEVuZCB9IGZyb20gXCIuLi9wYXR0ZXJucy9zdGFydC1lbmQuanNcIjtcbmltcG9ydCB7IGFwcGx5TWl4aW5zIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9hcHBseS1taXhpbnMuanNcIjtcbmltcG9ydCB7IEZvcm1Bc3NvY2lhdGVkU2VsZWN0IH0gZnJvbSBcIi4vc2VsZWN0LmZvcm0tYXNzb2NpYXRlZC5qc1wiO1xuaW1wb3J0IHsgU2VsZWN0UG9zaXRpb24gfSBmcm9tIFwiLi9zZWxlY3Qub3B0aW9ucy5qc1wiO1xuLyoqXG4gKiBBIFNlbGVjdCBDdXN0b20gSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI3NlbGVjdCB8IEFSSUEgc2VsZWN0IH0uXG4gKlxuICogQHNsb3Qgc3RhcnQgLSBDb250ZW50IHdoaWNoIGNhbiBiZSBwcm92aWRlZCBiZWZvcmUgdGhlIGJ1dHRvbiBjb250ZW50XG4gKiBAc2xvdCBlbmQgLSBDb250ZW50IHdoaWNoIGNhbiBiZSBwcm92aWRlZCBhZnRlciB0aGUgYnV0dG9uIGNvbnRlbnRcbiAqIEBzbG90IGJ1dHRvbi1jb250YWluZXIgLSBUaGUgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIHNlbGVjdCBidXR0b25cbiAqIEBzbG90IHNlbGVjdGVkLXZhbHVlIC0gVGhlIHNlbGVjdGVkIHZhbHVlXG4gKiBAc2xvdCBpbmRpY2F0b3IgLSBUaGUgdmlzdWFsIGluZGljYXRvciBmb3IgdGhlIGV4cGFuZC9jb2xsYXBzZSBzdGF0ZSBvZiB0aGUgYnV0dG9uXG4gKiBAc2xvdCAtIFRoZSBkZWZhdWx0IHNsb3QgZm9yIHNsb3R0ZWQgb3B0aW9uc1xuICogQGNzc3BhcnQgY29udHJvbCAtIFRoZSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgc2VsZWN0IGludm9raW5nIGVsZW1lbnRcbiAqIEBjc3NwYXJ0IHNlbGVjdGVkLXZhbHVlIC0gVGhlIGVsZW1lbnQgd3JhcHBpbmcgdGhlIHNlbGVjdGVkIHZhbHVlXG4gKiBAY3NzcGFydCBpbmRpY2F0b3IgLSBUaGUgZWxlbWVudCB3cmFwcGluZyB0aGUgdmlzdWFsIGluZGljYXRvclxuICogQGNzc3BhcnQgbGlzdGJveCAtIFRoZSBsaXN0Ym94IGVsZW1lbnRcbiAqIEBmaXJlcyBpbnB1dCAtIEZpcmVzIGEgY3VzdG9tICdpbnB1dCcgZXZlbnQgd2hlbiB0aGUgdmFsdWUgdXBkYXRlc1xuICogQGZpcmVzIGNoYW5nZSAtIEZpcmVzIGEgY3VzdG9tICdjaGFuZ2UnIGV2ZW50IHdoZW4gdGhlIHZhbHVlIHVwZGF0ZXNcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWxlY3QgZXh0ZW5kcyBGb3JtQXNzb2NpYXRlZFNlbGVjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BlbiBhdHRyaWJ1dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSFRNTCBBdHRyaWJ1dGU6IG9wZW5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBwb3NpdGlvbiBhdHRyaWJ1dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb3JjZWRQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXF1ZSBpZCBmb3IgdGhlIGludGVybmFsIGxpc3Rib3ggZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpc3Rib3hJZCA9IHVuaXF1ZUlkKFwibGlzdGJveC1cIik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGhlaWdodCBmb3IgdGhlIGxpc3Rib3ggd2hlbiBvcGVuZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGZvY3VzIGFuZCBzeW5jaHJvbml6ZXMgQVJJQSBhdHRyaWJ1dGVzIHdoZW4gdGhlIG9wZW4gcHJvcGVydHkgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIG9wZW4gdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IG9wZW4gdmFsdWVcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9wZW5DaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5hcmlhQ29udHJvbHMgPSB0aGlzLmxpc3Rib3hJZDtcbiAgICAgICAgICAgIHRoaXMuYXJpYUV4cGFuZGVkID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcoKTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhXaGVuT3BlbmVkID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgLy8gZm9jdXMgaXMgZGlyZWN0ZWQgdG8gdGhlIGVsZW1lbnQgd2hlbiBgb3BlbmAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4gdGhpcy5mb2N1cygpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyaWFDb250cm9scyA9IFwiXCI7XG4gICAgICAgIHRoaXMuYXJpYUV4cGFuZGVkID0gXCJmYWxzZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29tcG9uZW50IGlzIGNvbGxhcHNpYmxlIHdoZW4gaW4gc2luZ2xlLXNlbGVjdGlvbiBtb2RlIHdpdGggbm8gc2l6ZSBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgY29sbGFwc2libGUoKSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMubXVsdGlwbGUgfHwgdHlwZW9mIHRoaXMuc2l6ZSA9PT0gXCJudW1iZXJcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIE9ic2VydmFibGUudHJhY2sodGhpcywgXCJ2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUobmV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgIGNvbnN0IHByZXYgPSBgJHt0aGlzLl92YWx1ZX1gO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHRoaXMuX29wdGlvbnMuZmluZEluZGV4KGVsID0+IGVsLnZhbHVlID09PSBuZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZTZWxlY3RlZFZhbHVlID0gKF9jID0gKF9iID0gdGhpcy5fb3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFsdWUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBuZXh0U2VsZWN0ZWRWYWx1ZSA9IChfZSA9IChfZCA9IHRoaXMuX29wdGlvbnNbc2VsZWN0ZWRJbmRleF0pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC52YWx1ZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID09PSAtMSB8fCBwcmV2U2VsZWN0ZWRWYWx1ZSAhPT0gbmV4dFNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCA9IChfZyA9IChfZiA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhbHVlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5leHQ7XG4gICAgICAgICAgICBzdXBlci52YWx1ZUNoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgICAgICBPYnNlcnZhYmxlLm5vdGlmeSh0aGlzLCBcInZhbHVlXCIpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNwbGF5VmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhbmQgZGlzcGxheSB2YWx1ZSB0byBtYXRjaCB0aGUgZmlyc3Qgc2VsZWN0ZWQgb3B0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNob3VsZEVtaXQgLSBpZiB0cnVlLCB0aGUgaW5wdXQgYW5kIGNoYW5nZSBldmVudHMgd2lsbCBiZSBlbWl0dGVkXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB1cGRhdGVWYWx1ZShzaG91bGRFbWl0KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IChfYiA9IChfYSA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRFbWl0KSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiaW5wdXRcIik7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2hhbmdlXCIsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbXBvc2VkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm94eSB2YWx1ZSB3aGVuIHRoZSBzZWxlY3RlZCBpbmRleCBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgc2VsZWN0ZWQgaW5kZXhcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXh0IHNlbGVjdGVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3RlZEluZGV4Q2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHN1cGVyLnNlbGVjdGVkSW5kZXhDaGFuZ2VkKHByZXYsIG5leHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgfVxuICAgIHBvc2l0aW9uQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb25BdHRyaWJ1dGUgPSBuZXh0O1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBhbmQgYXBwbHkgbGlzdGJveCBwb3NpdGlvbmluZyBiYXNlZCBvbiBhdmFpbGFibGUgdmlld3BvcnQgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2V0UG9zaXRpb25pbmcoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCb3ggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlQm90dG9tID0gdmlld3BvcnRIZWlnaHQgLSBjdXJyZW50Qm94LmJvdHRvbTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMuZm9yY2VkUG9zaXRpb25cbiAgICAgICAgICAgID8gdGhpcy5wb3NpdGlvbkF0dHJpYnV0ZVxuICAgICAgICAgICAgOiBjdXJyZW50Qm94LnRvcCA+IGF2YWlsYWJsZUJvdHRvbVxuICAgICAgICAgICAgICAgID8gU2VsZWN0UG9zaXRpb24uYWJvdmVcbiAgICAgICAgICAgICAgICA6IFNlbGVjdFBvc2l0aW9uLmJlbG93O1xuICAgICAgICB0aGlzLnBvc2l0aW9uQXR0cmlidXRlID0gdGhpcy5mb3JjZWRQb3NpdGlvblxuICAgICAgICAgICAgPyB0aGlzLnBvc2l0aW9uQXR0cmlidXRlXG4gICAgICAgICAgICA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID1cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPT09IFNlbGVjdFBvc2l0aW9uLmFib3ZlID8gfn5jdXJyZW50Qm94LnRvcCA6IH5+YXZhaWxhYmxlQm90dG9tO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgZGlzcGxheWVkIG9uIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCBcImRpc3BsYXlWYWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRleHQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplIHRoZSBgYXJpYS1kaXNhYmxlZGAgcHJvcGVydHkgd2hlbiB0aGUgYGRpc2FibGVkYCBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSBUaGUgcHJldmlvdXMgZGlzYWJsZWQgdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIFRoZSBuZXh0IGRpc2FibGVkIHZhbHVlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBkaXNhYmxlZENoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICBpZiAoc3VwZXIuZGlzYWJsZWRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzdXBlci5kaXNhYmxlZENoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmlhRGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBlbGVtZW50IHRvIGl0cyBmaXJzdCBzZWxlY3RhYmxlIG9wdGlvbiB3aGVuIGl0cyBwYXJlbnQgZm9ybSBpcyByZXNldC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZvcm1SZXNldENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnNldFByb3h5T3B0aW9ucygpO1xuICAgICAgICAvLyBDYWxsIHRoZSBiYXNlIGNsYXNzJ3MgaW1wbGVtZW50YXRpb24gc2V0RGVmYXVsdFNlbGVjdGVkT3B0aW9uIGluc3RlYWQgb2YgdGhlIHNlbGVjdCdzXG4gICAgICAgIC8vIG92ZXJyaWRlLCBpbiBvcmRlciB0byByZXNldCB0aGUgc2VsZWN0ZWRJbmRleCB3aXRob3V0IHVzaW5nIHRoZSB2YWx1ZSBwcm9wZXJ0eS5cbiAgICAgICAgc3VwZXIuc2V0RGVmYXVsdFNlbGVjdGVkT3B0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBvcGVuaW5nIGFuZCBjbG9zaW5nIHRoZSBsaXN0Ym94IHdoZW4gdGhlIHNlbGVjdCBpcyBjbGlja2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGUgLSB0aGUgbW91c2UgZXZlbnRcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjbGlja0hhbmRsZXIoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBzZWxlY3QgaXMgZGlzYWJsZWRcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlZCA9IGUudGFyZ2V0LmNsb3Nlc3QoYG9wdGlvbixbcm9sZT1vcHRpb25dYCk7XG4gICAgICAgICAgICBpZiAoY2FwdHVyZWQgJiYgY2FwdHVyZWQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuY2xpY2tIYW5kbGVyKGUpO1xuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLmNvbGxhcHNpYmxlICYmICF0aGlzLm9wZW47XG4gICAgICAgIGlmICghdGhpcy5vcGVuICYmIHRoaXMuaW5kZXhXaGVuT3BlbmVkICE9PSB0aGlzLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmFsdWUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZm9jdXMgc3RhdGUgd2hlbiB0aGUgZWxlbWVudCBvciBpdHMgY2hpbGRyZW4gbG9zZSBmb2N1cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlIC0gVGhlIGZvY3VzIGV2ZW50XG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZm9jdXNvdXRIYW5kbGVyKGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5mb2N1c291dEhhbmRsZXIoZSk7XG4gICAgICAgIGlmICghdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb2N1c1RhcmdldCA9IGUucmVsYXRlZFRhcmdldDtcbiAgICAgICAgaWYgKHRoaXMuaXNTYW1lTm9kZShmb2N1c1RhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISgoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhmb2N1c1RhcmdldCkpKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4V2hlbk9wZW5lZCAhPT0gdGhpcy5zZWxlY3RlZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSB3aGVuIGFuIG9wdGlvbidzIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIC0gdGhlIHByb3BlcnR5IHRvIGV2YWx1YXRlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2Uoc291cmNlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgc3VwZXIuaGFuZGxlQ2hhbmdlKHNvdXJjZSwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemUgdGhlIGZvcm0tYXNzb2NpYXRlZCBwcm94eSBhbmQgdXBkYXRlcyB0aGUgdmFsdWUgcHJvcGVydHkgb2YgdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJldiAtIHRoZSBwcmV2aW91cyBjb2xsZWN0aW9uIG9mIHNsb3R0ZWQgb3B0aW9uIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIG5leHQgLSB0aGUgbmV4dCBjb2xsZWN0aW9uIG9mIHNsb3R0ZWQgb3B0aW9uIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzbG90dGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyID0gT2JzZXJ2YWJsZS5nZXROb3RpZmllcihvKTtcbiAgICAgICAgICAgIG5vdGlmaWVyLnVuc3Vic2NyaWJlKHRoaXMsIFwidmFsdWVcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlci5zbG90dGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKG8gPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKG8pO1xuICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKHRoaXMsIFwidmFsdWVcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFByb3h5T3B0aW9ucygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGZvY3VzIHdoZW4gc2l6ZSBpcyBzZXQgYW5kIGEgc2Nyb2xsYmFyIGlzIGNsaWNrZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZSAtIHRoZSBtb3VzZSBldmVudCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG1vdXNlZG93bkhhbmRsZXIoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChlLm9mZnNldFggPj0gMCAmJiBlLm9mZnNldFggPD0gKChfYSA9IHRoaXMubGlzdGJveCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNjcm9sbFdpZHRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm1vdXNlZG93bkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2libGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG11bHRpcGxlIHByb3BlcnR5IG9uIHRoZSBwcm94eSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgbXVsdGlwbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IG11bHRpcGxlIHZhbHVlXG4gICAgICovXG4gICAgbXVsdGlwbGVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgc3VwZXIubXVsdGlwbGVDaGFuZ2VkKHByZXYsIG5leHQpO1xuICAgICAgICBpZiAodGhpcy5wcm94eSkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5tdWx0aXBsZSA9IG5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc2VsZWN0ZWRuZXNzIG9mIGVhY2ggb3B0aW9uIHdoZW4gdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgbGlzdCBvZiBzZWxlY3RlZCBvcHRpb25zXG4gICAgICogQHBhcmFtIG5leHQgLSB0aGUgY3VycmVudCBsaXN0IG9mIHNlbGVjdGVkIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNlbGVjdGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLnNlbGVjdGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHByb3h5T3B0aW9uID0gKF9hID0gdGhpcy5wcm94eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wdGlvbnMuaXRlbShpKTtcbiAgICAgICAgICAgIGlmIChwcm94eU9wdGlvbikge1xuICAgICAgICAgICAgICAgIHByb3h5T3B0aW9uLnNlbGVjdGVkID0gby5zZWxlY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNlbGVjdGVkIGluZGV4IHRvIG1hdGNoIHRoZSBmaXJzdCBvcHRpb24gd2l0aCB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlLCBvclxuICAgICAqIHRoZSBmaXJzdCBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldERlZmF1bHRTZWxlY3RlZE9wdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKF9hID0gdGhpcy5vcHRpb25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBBcnJheS5mcm9tKHRoaXMuY2hpbGRyZW4pLmZpbHRlcihMaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmZpbmRJbmRleChlbCA9PiBlbC5oYXNBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSB8fCBlbC5zZWxlY3RlZCB8fCBlbC52YWx1ZSA9PT0gdGhpcy52YWx1ZSk7XG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW5kIGZpbGxzIHRoZSBwcm94eSB0byBtYXRjaCB0aGUgY29tcG9uZW50J3Mgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldFByb3h5T3B0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCAmJiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucHJveHkub3B0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eU9wdGlvbiA9IG9wdGlvbi5wcm94eSB8fFxuICAgICAgICAgICAgICAgICAgICAob3B0aW9uIGluc3RhbmNlb2YgSFRNTE9wdGlvbkVsZW1lbnQgPyBvcHRpb24uY2xvbmVOb2RlKCkgOiBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAocHJveHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eS5vcHRpb25zLmFkZChwcm94eU9wdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGtleWJvYXJkIGludGVyYWN0aW9uIGZvciB0aGUgc2VsZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGUgLSB0aGUga2V5Ym9hcmQgZXZlbnRcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIHN1cGVyLmtleWRvd25IYW5kbGVyKGUpO1xuICAgICAgICBjb25zdCBrZXkgPSBlLmtleSB8fCBlLmtleS5jaGFyQ29kZUF0KDApO1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSBrZXlTcGFjZToge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZSAmJiB0aGlzLnR5cGVBaGVhZEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGtleUhvbWU6XG4gICAgICAgICAgICBjYXNlIGtleUVuZDoge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2Uga2V5RW50ZXI6IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2Uga2V5RXNjYXBlOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2libGUgJiYgdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlUYWI6IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZSAmJiB0aGlzLm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm9wZW4gJiYgdGhpcy5pbmRleFdoZW5PcGVuZWQgIT09IHRoaXMuc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhXaGVuT3BlbmVkID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhKGtleSA9PT0ga2V5QXJyb3dEb3duIHx8IGtleSA9PT0ga2V5QXJyb3dVcCk7XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLmZvcmNlZFBvc2l0aW9uID0gISF0aGlzLnBvc2l0aW9uQXR0cmlidXRlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZW50Y2hhbmdlXCIsIHRoaXMudXBkYXRlRGlzcGxheVZhbHVlKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRlbnRjaGFuZ2VcIiwgdGhpcy51cGRhdGVEaXNwbGF5VmFsdWUpO1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm94eSdzIHNpemUgcHJvcGVydHkgd2hlbiB0aGUgc2l6ZSBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIHNpemVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IHNpemVcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNpemVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgc3VwZXIuc2l6ZUNoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIGlmICh0aGlzLnByb3h5KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnNpemUgPSBuZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdXBkYXRlRGlzcGxheVZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZSkge1xuICAgICAgICAgICAgT2JzZXJ2YWJsZS5ub3RpZnkodGhpcywgXCJkaXNwbGF5VmFsdWVcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcIm9wZW5cIiwgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIFNlbGVjdC5wcm90b3R5cGUsIFwib3BlblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdm9sYXRpbGVcbl0sIFNlbGVjdC5wcm90b3R5cGUsIFwiY29sbGFwc2libGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBTZWxlY3QucHJvdG90eXBlLCBcImNvbnRyb2xcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwicG9zaXRpb25cIiB9KVxuXSwgU2VsZWN0LnByb3RvdHlwZSwgXCJwb3NpdGlvbkF0dHJpYnV0ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgU2VsZWN0LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgU2VsZWN0LnByb3RvdHlwZSwgXCJtYXhIZWlnaHRcIiwgdm9pZCAwKTtcbi8qKlxuICogSW5jbHVkZXMgQVJJQSBzdGF0ZXMgYW5kIHByb3BlcnRpZXMgcmVsYXRpbmcgdG8gdGhlIEFSSUEgc2VsZWN0IHJvbGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGVsZWdhdGVzQVJJQVNlbGVjdCB7XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBU2VsZWN0LnByb3RvdHlwZSwgXCJhcmlhQ29udHJvbHNcIiwgdm9pZCAwKTtcbmFwcGx5TWl4aW5zKERlbGVnYXRlc0FSSUFTZWxlY3QsIERlbGVnYXRlc0FSSUFMaXN0Ym94KTtcbmFwcGx5TWl4aW5zKFNlbGVjdCwgU3RhcnRFbmQsIERlbGVnYXRlc0FSSUFTZWxlY3QpO1xuIiwiaW1wb3J0IHsgaHRtbCwgcmVmLCBzbG90dGVkLCB3aGVuIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBMaXN0Ym94IH0gZnJvbSBcIi4uL2xpc3Rib3gvbGlzdGJveC5qc1wiO1xuaW1wb3J0IHsgZW5kU2xvdFRlbXBsYXRlLCBzdGFydFNsb3RUZW1wbGF0ZSB9IGZyb20gXCIuLi9wYXR0ZXJucy9zdGFydC1lbmQuanNcIjtcbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhTZWxlY3Q6Y2xhc3MpfSBjb21wb25lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzZWxlY3RUZW1wbGF0ZSA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBodG1sIGBcbiAgICA8dGVtcGxhdGVcbiAgICAgICAgY2xhc3M9XCIke3ggPT4gW1xuICAgIHguY29sbGFwc2libGUgJiYgXCJjb2xsYXBzaWJsZVwiLFxuICAgIHguY29sbGFwc2libGUgJiYgeC5vcGVuICYmIFwib3BlblwiLFxuICAgIHguZGlzYWJsZWQgJiYgXCJkaXNhYmxlZFwiLFxuICAgIHguY29sbGFwc2libGUgJiYgeC5wb3NpdGlvbixcbl1cbiAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgLmpvaW4oXCIgXCIpfVwiXG4gICAgICAgIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cIiR7eCA9PiB4LmFyaWFBY3RpdmVEZXNjZW5kYW50fVwiXG4gICAgICAgIGFyaWEtY29udHJvbHM9XCIke3ggPT4geC5hcmlhQ29udHJvbHN9XCJcbiAgICAgICAgYXJpYS1kaXNhYmxlZD1cIiR7eCA9PiB4LmFyaWFEaXNhYmxlZH1cIlxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwiJHt4ID0+IHguYXJpYUV4cGFuZGVkfVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCIke3ggPT4gKHguY29sbGFwc2libGUgPyBcImxpc3Rib3hcIiA6IG51bGwpfVwiXG4gICAgICAgIGFyaWEtbXVsdGlzZWxlY3RhYmxlPVwiJHt4ID0+IHguYXJpYU11bHRpU2VsZWN0YWJsZX1cIlxuICAgICAgICA/b3Blbj1cIiR7eCA9PiB4Lm9wZW59XCJcbiAgICAgICAgcm9sZT1cImNvbWJvYm94XCJcbiAgICAgICAgdGFiaW5kZXg9XCIke3ggPT4gKCF4LmRpc2FibGVkID8gXCIwXCIgOiBudWxsKX1cIlxuICAgICAgICBAY2xpY2s9XCIkeyh4LCBjKSA9PiB4LmNsaWNrSGFuZGxlcihjLmV2ZW50KX1cIlxuICAgICAgICBAZm9jdXNpbj1cIiR7KHgsIGMpID0+IHguZm9jdXNpbkhhbmRsZXIoYy5ldmVudCl9XCJcbiAgICAgICAgQGZvY3Vzb3V0PVwiJHsoeCwgYykgPT4geC5mb2N1c291dEhhbmRsZXIoYy5ldmVudCl9XCJcbiAgICAgICAgQGtleWRvd249XCIkeyh4LCBjKSA9PiB4LmtleWRvd25IYW5kbGVyKGMuZXZlbnQpfVwiXG4gICAgICAgIEBtb3VzZWRvd249XCIkeyh4LCBjKSA9PiB4Lm1vdXNlZG93bkhhbmRsZXIoYy5ldmVudCl9XCJcbiAgICA+XG4gICAgICAgICR7d2hlbih4ID0+IHguY29sbGFwc2libGUsIGh0bWwgYFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgcGFydD1cImNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICA/ZGlzYWJsZWQ9XCIke3ggPT4geC5kaXNhYmxlZH1cIlxuICAgICAgICAgICAgICAgICAgICAke3JlZihcImNvbnRyb2xcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAke3N0YXJ0U2xvdFRlbXBsYXRlKGNvbnRleHQsIGRlZmluaXRpb24pfVxuICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdGVkLXZhbHVlXCIgcGFydD1cInNlbGVjdGVkLXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cInNlbGVjdGVkLXZhbHVlXCI+JHt4ID0+IHguZGlzcGxheVZhbHVlfTwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzcz1cImluZGljYXRvclwiIHBhcnQ9XCJpbmRpY2F0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGVmaW5pdGlvbi5pbmRpY2F0b3IgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICAke2VuZFNsb3RUZW1wbGF0ZShjb250ZXh0LCBkZWZpbml0aW9uKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGApfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImxpc3Rib3hcIlxuICAgICAgICAgICAgaWQ9XCIke3ggPT4geC5saXN0Ym94SWR9XCJcbiAgICAgICAgICAgIHBhcnQ9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgID9kaXNhYmxlZD1cIiR7eCA9PiB4LmRpc2FibGVkfVwiXG4gICAgICAgICAgICA/aGlkZGVuPVwiJHt4ID0+ICh4LmNvbGxhcHNpYmxlID8gIXgub3BlbiA6IGZhbHNlKX1cIlxuICAgICAgICAgICAgJHtyZWYoXCJsaXN0Ym94XCIpfVxuICAgICAgICA+XG4gICAgICAgICAgICA8c2xvdFxuICAgICAgICAgICAgICAgICR7c2xvdHRlZCh7XG4gICAgZmlsdGVyOiBMaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIsXG4gICAgZmxhdHRlbjogdHJ1ZSxcbiAgICBwcm9wZXJ0eTogXCJzbG90dGVkT3B0aW9uc1wiLFxufSl9XG4gICAgICAgICAgICA+PC9zbG90PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L3RlbXBsYXRlPlxuYDtcbiIsIi8qKlxuICogVGhlIENTUyB2YWx1ZSBmb3IgZGlzYWJsZWQgY3Vyc29ycy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGRpc2FibGVkQ3Vyc29yID0gXCJub3QtYWxsb3dlZFwiO1xuIiwiLyoqXG4gKiBBIENTUyBmcmFnbWVudCB0byBzZXQgYGRpc3BsYXk6IG5vbmU7YCB3aGVuIHRoZSBob3N0IGlzIGhpZGRlbiB1c2luZyB0aGUgW2hpZGRlbl0gYXR0cmlidXRlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaGlkZGVuID0gYDpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9YDtcbi8qKlxuICogQXBwbGllcyBhIENTUyBkaXNwbGF5IHByb3BlcnR5LlxuICogQWxzbyBhZGRzIENTUyBydWxlcyB0byBub3QgZGlzcGxheSB0aGUgZWxlbWVudCB3aGVuIHRoZSBbaGlkZGVuXSBhdHRyaWJ1dGUgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBkaXNwbGF5IC0gVGhlIENTUyBkaXNwbGF5IHByb3BlcnR5IHZhbHVlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5KGRpc3BsYXlWYWx1ZSkge1xuICAgIHJldHVybiBgJHtoaWRkZW59Omhvc3R7ZGlzcGxheToke2Rpc3BsYXlWYWx1ZX19YDtcbn1cbiIsImltcG9ydCB7IGNhblVzZUZvY3VzVmlzaWJsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuLyoqXG4gKiBUaGUgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZm9jdXMgc2VsZWN0b3IgdG8gYmUgdXNlZC4gVmFsdWVcbiAqIHdpbGwgYmUgXCJmb2N1cy12aXNpYmxlXCIgd2hlbiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvc2VsZWN0b3JzLTQvI3RoZS1mb2N1cy12aXNpYmxlLXBzZXVkb1xuICogaXMgc3VwcG9ydGVkIGFuZCBcImZvY3VzXCIgd2hlbiBpdCBpcyBub3QuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZm9jdXNWaXNpYmxlID0gY2FuVXNlRm9jdXNWaXNpYmxlKCkgPyBcImZvY3VzLXZpc2libGVcIiA6IFwiZm9jdXNcIjtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgRGVzaWduU3lzdGVtIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuLyoqXG4gKiBQcm92aWRlcyBhIGRlc2lnbiBzeXN0ZW0gZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBlaXRoZXIgYnkgcmV0dXJuaW5nIG9uZSB0aGF0IHdhc1xuICogYWxyZWFkeSBjcmVhdGVkIGZvciB0aGF0IGVsZW1lbnQgb3IgY3JlYXRpbmcgb25lLlxuICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byByb290IHRoZSBkZXNpZ24gc3lzdGVtIGF0LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBib2R5LlxuICogQHJldHVybnMgQSBWU0NvZGUgRGVzaWduIFN5c3RlbVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZVZTQ29kZURlc2lnblN5c3RlbShlbGVtZW50KSB7XG4gICAgcmV0dXJuIERlc2lnblN5c3RlbS5nZXRPckNyZWF0ZShlbGVtZW50KS53aXRoUHJlZml4KCd2c2NvZGUnKTtcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuLyoqXG4gKiBDb25maWd1cmVzIGEgTXV0YXRpb25PYnNlcnZlciB0byB3YXRjaCBmb3IgVmlzdWFsIFN0dWRpbyBDb2RlIHRoZW1lIGNoYW5nZXMgYW5kXG4gKiBhcHBsaWVzIHRoZSBjdXJyZW50IFZpc3VhbCBTdHVkaW8gQ29kZSB0aGVtZSB0byB0aGUgdG9vbGtpdCBjb21wb25lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRoZW1lQ2hhbmdlTGlzdGVuZXIodG9rZW5NYXBwaW5ncykge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIGFwcGx5Q3VycmVudFRoZW1lKHRva2VuTWFwcGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ2NsYXNzJ10sXG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseUN1cnJlbnRUaGVtZSh0b2tlbk1hcHBpbmdzKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQXBwbGllcyB0aGUgY3VycmVudCBWaXN1YWwgU3R1ZGlvIENvZGUgdGhlbWUgdG8gdGhlIHRvb2xraXQgY29tcG9uZW50cy5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDdXJyZW50VGhlbWUodG9rZW5NYXBwaW5ncykge1xuICAgIC8vIEdldCBhbGwgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSA8Ym9keT4gdGFnIGluIHRoZSB3ZWJ2aWV3IEhUTUxcbiAgICAvLyBJbXBvcnRhbnRseSB0aGlzIGluY2x1ZGVzIGFsbCB0aGUgQ1NTIHZhcmlhYmxlcyBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgLy8gY3VycmVudCBWaXN1YWwgU3R1ZGlvIENvZGUgdGhlbWVcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpO1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgaWYgKGJvZHkpIHtcbiAgICAgICAgY29uc3QgdGhlbWVLaW5kID0gYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdnNjb2RlLXRoZW1lLWtpbmQnKTtcbiAgICAgICAgZm9yIChjb25zdCBbdnNjb2RlVG9rZW5OYW1lLCB0b29sa2l0VG9rZW5dIG9mIHRva2VuTWFwcGluZ3MpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKHZzY29kZVRva2VuTmFtZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBhIGNvdXBsZSBvZiBzdHlsaW5nIGVkZ2UgY2FzZXMgd2hlbiBhIGhpZ2ggY29udHJhc3QgdGhlbWUgaXMgYXBwbGllZFxuICAgICAgICAgICAgaWYgKHRoZW1lS2luZCA9PT0gJ3ZzY29kZS1oaWdoLWNvbnRyYXN0Jykge1xuICAgICAgICAgICAgICAgIC8vIERldmVsb3BlciBub3RlOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIGEgaGFuZGZ1bCBvZiBWUyBDb2RlIHRoZW1lIHRva2VucyB0aGF0IGhhdmUgbm8gdmFsdWUgd2hlbiBhIGhpZ2hcbiAgICAgICAgICAgICAgICAvLyBjb250cmFzdCB0aGVtZSBpcyBhcHBsaWVkLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBpc3N1ZSBiZWNhdXNlIHdoZW4gbm8gdmFsdWUgaXMgc2V0IHRoZSB0b29sa2l0IHRva2VucyB3aWxsIGZhbGxcbiAgICAgICAgICAgICAgICAvLyBiYWNrIHRvIHRoZWlyIGRlZmF1bHQgY29sb3IgdmFsdWVzIChha2EgdGhlIFZTIENvZGUgZGFyayB0aGVtZSBjb2xvciBwYWxldHRlKS5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIHJlc3VsdHMgaW4gdGhlIGJhY2tncm91bmRzIG9mIGEgY291cGxlIG9mIGNvbXBvbmVudHMgaGF2aW5nIGRlZmF1bHQgZGFya1xuICAgICAgICAgICAgICAgIC8vIHRoZW1lIGNvbG9yc+KAk+KAk3RodXMgYnJlYWtpbmcgdGhlIGhpZ2ggY29udHJhc3QgdGhlbWUuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBUaGUgYmVsb3cgY29kZSwgY2F0Y2hlcyB0aGVzZSB0b2tlbnMgd2hpY2ggaGF2ZSBubyB2YWx1ZSBhbmQgYXJlIGFsc28gYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgIC8vIHRva2VucywgdGhlbiBvdmVycmlkZXMgdGhlaXIgdmFsdWUgdG8gYmUgdHJhbnNwYXJlbnQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICB0b29sa2l0VG9rZW4ubmFtZS5pbmNsdWRlcygnYmFja2dyb3VuZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IGljb24gYnV0dG9uIGhvdmVyIHRvIGJlIHRyYW5zcGFyZW50IGluIGhpZ2ggY29udHJhc3QgdGhlbWVzXG4gICAgICAgICAgICAgICAgaWYgKHRvb2xraXRUb2tlbi5uYW1lID09PSAnYnV0dG9uLWljb24taG92ZXItYmFja2dyb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoZW1lS2luZCA9PT0gJ3ZzY29kZS1oaWdoLWNvbnRyYXN0LWxpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgdG9vbGtpdFRva2VuLm5hbWUuaW5jbHVkZXMoJ2JhY2tncm91bmQnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgYnV0dG9uIHZhcmlhbnQgaG92ZXIgYmFja2dyb3VuZHMgdG8gY29ycmVjdCB2YWx1ZXMgYmFzZWQgb24gVlMgQ29kZSBjb3JlIHNvdXJjZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvYmxvYi9mZDBlZTRmNzdlMzU0ZGUxMGFlNTkxYzllOTdmZTVhZDQxYjM5OGZjL3NyYy92cy9wbGF0Zm9ybS90aGVtZS9jb21tb24vY29sb3JSZWdpc3RyeS50cyNMMjcwLUwyNzZcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b29sa2l0VG9rZW4ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYnV0dG9uLXByaW1hcnktaG92ZXItYmFja2dyb3VuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnIzBGNEE4NSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdidXR0b24tc2Vjb25kYXJ5LWhvdmVyLWJhY2tncm91bmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J1dHRvbi1pY29uLWhvdmVyLWJhY2tncm91bmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNldCBjb250cmFzdC1hY3RpdmUtYm9yZGVyIHRva2VuIHRvIGJlIHRyYW5zcGFyZW50IGluIG5vbi1oaWdoLWNvbnRyYXN0IHRoZW1lc1xuICAgICAgICAgICAgICAgIGlmICh0b29sa2l0VG9rZW4ubmFtZSA9PT0gJ2NvbnRyYXN0LWFjdGl2ZS1ib3JkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b29sa2l0VG9rZW4uc2V0VmFsdWVGb3IoYm9keSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBEZXNpZ25Ub2tlbiB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uJztcbmltcG9ydCB7IGluaXRUaGVtZUNoYW5nZUxpc3RlbmVyIH0gZnJvbSAnLi4vdGhlbWUvYXBwbHlUaGVtZS5qcyc7XG4vKipcbiAqIEEgbWFwcGluZyBvZiBhbGwgdGhlIFZpc3VhbCBTdHVkaW8gQ29kZSB0aGVtZSBDU1MgdmFyaWFibGVzIG1hcHBlZCB0byB0aGVcbiAqIHRvb2xraXQgZGVzaWduIHRva2Vucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRva2VuTWFwcGluZ3MgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEJvb2xlYW4gZmxhZyB0aGF0IGVuc3VyZXMgdGhlIFZTIENvZGUgdGhlbWUgbGlzdGVuZXIgaXMgaW5pdGlhbGl6ZWQgb25jZS5cbiAqL1xubGV0IGlzVGhlbWVMaXN0ZW5lckluaXRpYWxpemVkID0gZmFsc2U7XG4vKipcbiAqIEdpdmVuIGEgZGVzaWduIHRva2VuIG5hbWUsIHJldHVybiBhIG5ldyBGQVNUIENTU0Rlc2lnblRva2VuLlxuICpcbiAqIEByZW1hcmtzIEEgVlMgQ29kZSB0aGVtZSBDU1MgdmFyaWFibGUgY2FuIGJlIG9wdGlvbmFsbHkgcGFzc2VkIHRvIGJlXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIGRlc2lnbiB0b2tlbi5cbiAqXG4gKiBAcmVtYXJrcyBPbiB0aGUgZmlyc3QgZXhlY3V0aW9uIHRoZSBWUyBDb2RlIHRoZW1lIGxpc3RlbmVyIHdpbGwgYWxzbyBiZVxuICogaW5pdGlhbGl6ZWQuXG4gKlxuICogQHBhcmFtIG5hbWUgQSBkZXNpZ24gdG9rZW4gbmFtZS5cbiAqIEBwYXJhbSB2c2NvZGVUaGVtZVZhciBBIFZTIENvZGUgdGhlbWUgQ1NTIHZhcmlhYmxlIG5hbWUgdG8gYmUgYXNzb2NpYXRlZCB3aXRoXG4gKiB0aGUgZGVzaWduIHRva2VuLlxuICogQHJldHVybnMgQSBGQVNUIENTU0Rlc2lnblRva2VuIHRoYXQgZW1pdHMgYSBDU1MgY3VzdG9tIHByb3BlcnR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKG5hbWUsIHZzY29kZVRoZW1lVmFyKSB7XG4gICAgY29uc3QgZGVzaWduVG9rZW4gPSBEZXNpZ25Ub2tlbi5jcmVhdGUobmFtZSk7XG4gICAgaWYgKHZzY29kZVRoZW1lVmFyKSB7XG4gICAgICAgIC8vIElmIHRoZSBmYWtlIHZzY29kZSB0b2tlbiBpcyBwYXNzZWQgaW4sIGF0dGFjaCBhIHVuaXF1ZSBJRCB0byBpdCBzbyB0aGF0IGl0IGNhblxuICAgICAgICAvLyBiZSBhZGRlZCB0byB0aGUgdG9rZW5NYXBwaW5ncyBtYXAgd2l0aG91dCBvdmVycmlkaW5nIGEgcHJldmlvdXMgZmFrZSB0b2tlbiB2YWx1ZVxuICAgICAgICBpZiAodnNjb2RlVGhlbWVWYXIuaW5jbHVkZXMoJy0tZmFrZS12c2NvZGUtdG9rZW4nKSkge1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlSWQgPSAnaWQnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMik7XG4gICAgICAgICAgICB2c2NvZGVUaGVtZVZhciA9IGAke3ZzY29kZVRoZW1lVmFyfS0ke3VuaXF1ZUlkfWA7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5NYXBwaW5ncy5zZXQodnNjb2RlVGhlbWVWYXIsIGRlc2lnblRva2VuKTtcbiAgICB9XG4gICAgaWYgKCFpc1RoZW1lTGlzdGVuZXJJbml0aWFsaXplZCkge1xuICAgICAgICBpbml0VGhlbWVDaGFuZ2VMaXN0ZW5lcih0b2tlbk1hcHBpbmdzKTtcbiAgICAgICAgaXNUaGVtZUxpc3RlbmVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGVzaWduVG9rZW47XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJy4vdXRpbGl0aWVzL2Rlc2lnbi10b2tlbnMvY3JlYXRlLmpzJztcbi8qKlxuICogRGV2ZWxvcGVyIG5vdGU6XG4gKlxuICogVGhlcmUgYXJlIHNvbWUgdG9rZW5zIGRlZmluZWQgaW4gdGhpcyBmaWxlIHRoYXQgbWFrZSB1c2Ugb2YgYC0tZmFrZS12c2NvZGUtdG9rZW5gLiBUaGlzIGlzXG4gKiBkb25lIHdoZW4gYSB0b29sa2l0IHRva2VuIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgdG9rZW5NYXBwaW5ncyBtYXAgKGFuZCBzdWJzZXF1ZW50bHkgYWx0ZXJlZFxuICogaW4gdGhlIGFwcGx5VGhlbWUgZnVuY3Rpb24pIGJ1dCBkb2VzIG5vdCBoYXZlIGEgY29ycmVzcG9uZGluZyBWUyBDb2RlIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQuXG4gKlxuICogQW4gZXhhbXBsZSBpcyBidXR0b25JY29uSG92ZXJCYWNrZ3JvdW5kIHRva2VuIHdoaWNoIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nIFZTIENvZGUgdG9rZW5cbiAqIGF0IHRoaXMgdGltZSAoaXQncyBhIGhhcmRjb2RlZCB2YWx1ZSBpbiBWUyBDb2RlKSwgYnV0IG5lZWRzIHRvIGJlIGFkanVzdGVkIHRvIGJlIHRyYW5zcGFyZW50IHdoZW4gYVxuICogaGlnaCBjb250cmFzdCB0aGVtZSBpcyBhcHBsaWVkLlxuICpcbiAqIEFzIGEgcnVsZSBvZiB0aHVtYiwgaWYgdGhlcmUgYXJlIHNwZWNpYWwgY2FzZXMgd2hlcmUgYSB0b2tlbiBuZWVkcyB0byBiZSBhZGp1c3RlZCBiYXNlZCBvbiB0aGVcbiAqIFZTIENvZGUgdGhlbWUgYW5kIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nIFZTIENvZGUgdG9rZW4sIGAtLWZha2UtdnNjb2RlLXRva2VuYCBjYW4gYmUgdXNlZFxuICogdG8gaW5kaWNhdGUgdGhhdCBpdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHRva2VuTWFwcGluZ3MgbWFwIGFuZCB0aHVzIG1ha2UgaXQgYWNjZXNzaWJsZSB0byB0aGVcbiAqIGFwcGx5VGhlbWUgZnVuY3Rpb24gd2hlcmUgaXQgY2FuIGJlIGR5bmFtaWNhbGx5IGFkanVzdGVkLlxuICovXG4vKipcbiAqIEdsb2JhbCBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZCA9IGNyZWF0ZSgnYmFja2dyb3VuZCcsICctLXZzY29kZS1lZGl0b3ItYmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjMWUxZTFlJyk7XG5leHBvcnQgY29uc3QgYm9yZGVyV2lkdGggPSBjcmVhdGUoJ2JvcmRlci13aWR0aCcpLndpdGhEZWZhdWx0KDEpO1xuZXhwb3J0IGNvbnN0IGNvbnRyYXN0QWN0aXZlQm9yZGVyID0gY3JlYXRlKCdjb250cmFzdC1hY3RpdmUtYm9yZGVyJywgJy0tdnNjb2RlLWNvbnRyYXN0QWN0aXZlQm9yZGVyJykud2l0aERlZmF1bHQoJyNmMzg1MTgnKTtcbmV4cG9ydCBjb25zdCBjb250cmFzdEJvcmRlciA9IGNyZWF0ZSgnY29udHJhc3QtYm9yZGVyJywgJy0tdnNjb2RlLWNvbnRyYXN0Qm9yZGVyJykud2l0aERlZmF1bHQoJyM2ZmMzZGYnKTtcbmV4cG9ydCBjb25zdCBjb3JuZXJSYWRpdXMgPSBjcmVhdGUoJ2Nvcm5lci1yYWRpdXMnKS53aXRoRGVmYXVsdCgwKTtcbmV4cG9ydCBjb25zdCBjb3JuZXJSYWRpdXNSb3VuZCA9IGNyZWF0ZSgnY29ybmVyLXJhZGl1cy1yb3VuZCcpLndpdGhEZWZhdWx0KDIpO1xuZXhwb3J0IGNvbnN0IGRlc2lnblVuaXQgPSBjcmVhdGUoJ2Rlc2lnbi11bml0Jykud2l0aERlZmF1bHQoNCk7XG5leHBvcnQgY29uc3QgZGlzYWJsZWRPcGFjaXR5ID0gY3JlYXRlKCdkaXNhYmxlZC1vcGFjaXR5Jykud2l0aERlZmF1bHQoMC40KTtcbmV4cG9ydCBjb25zdCBmb2N1c0JvcmRlciA9IGNyZWF0ZSgnZm9jdXMtYm9yZGVyJywgJy0tdnNjb2RlLWZvY3VzQm9yZGVyJykud2l0aERlZmF1bHQoJyMwMDdmZDQnKTtcbmV4cG9ydCBjb25zdCBmb250RmFtaWx5ID0gY3JlYXRlKCdmb250LWZhbWlseScsICctLXZzY29kZS1mb250LWZhbWlseScpLndpdGhEZWZhdWx0KCctYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIEFwcGxlIENvbG9yIEVtb2ppLCBTZWdvZSBVSSBFbW9qaSwgU2Vnb2UgVUkgU3ltYm9sJyk7XG5leHBvcnQgY29uc3QgZm9udFdlaWdodCA9IGNyZWF0ZSgnZm9udC13ZWlnaHQnLCAnLS12c2NvZGUtZm9udC13ZWlnaHQnKS53aXRoRGVmYXVsdCgnNDAwJyk7XG5leHBvcnQgY29uc3QgZm9yZWdyb3VuZCA9IGNyZWF0ZSgnZm9yZWdyb3VuZCcsICctLXZzY29kZS1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNjY2NjY2MnKTtcbmV4cG9ydCBjb25zdCBpbnB1dEhlaWdodCA9IGNyZWF0ZSgnaW5wdXQtaGVpZ2h0Jykud2l0aERlZmF1bHQoJzI2Jyk7XG5leHBvcnQgY29uc3QgaW5wdXRNaW5XaWR0aCA9IGNyZWF0ZSgnaW5wdXQtbWluLXdpZHRoJykud2l0aERlZmF1bHQoJzEwMHB4Jyk7XG5leHBvcnQgY29uc3QgdHlwZVJhbXBCYXNlRm9udFNpemUgPSBjcmVhdGUoJ3R5cGUtcmFtcC1iYXNlLWZvbnQtc2l6ZScsICctLXZzY29kZS1mb250LXNpemUnKS53aXRoRGVmYXVsdCgnMTNweCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wQmFzZUxpbmVIZWlnaHQgPSBjcmVhdGUoJ3R5cGUtcmFtcC1iYXNlLWxpbmUtaGVpZ2h0Jykud2l0aERlZmF1bHQoJ25vcm1hbCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wTWludXMxRm9udFNpemUgPSBjcmVhdGUoJ3R5cGUtcmFtcC1taW51czEtZm9udC1zaXplJykud2l0aERlZmF1bHQoJzExcHgnKTtcbmV4cG9ydCBjb25zdCB0eXBlUmFtcE1pbnVzMUxpbmVIZWlnaHQgPSBjcmVhdGUoJ3R5cGUtcmFtcC1taW51czEtbGluZS1oZWlnaHQnKS53aXRoRGVmYXVsdCgnMTZweCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wTWludXMyRm9udFNpemUgPSBjcmVhdGUoJ3R5cGUtcmFtcC1taW51czItZm9udC1zaXplJykud2l0aERlZmF1bHQoJzlweCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wTWludXMyTGluZUhlaWdodCA9IGNyZWF0ZSgndHlwZS1yYW1wLW1pbnVzMi1saW5lLWhlaWdodCcpLndpdGhEZWZhdWx0KCcxNnB4Jyk7XG5leHBvcnQgY29uc3QgdHlwZVJhbXBQbHVzMUZvbnRTaXplID0gY3JlYXRlKCd0eXBlLXJhbXAtcGx1czEtZm9udC1zaXplJykud2l0aERlZmF1bHQoJzE2cHgnKTtcbmV4cG9ydCBjb25zdCB0eXBlUmFtcFBsdXMxTGluZUhlaWdodCA9IGNyZWF0ZSgndHlwZS1yYW1wLXBsdXMxLWxpbmUtaGVpZ2h0Jykud2l0aERlZmF1bHQoJzI0cHgnKTtcbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IGNyZWF0ZSgnc2Nyb2xsYmFyV2lkdGgnKS53aXRoRGVmYXVsdCgnMTBweCcpO1xuZXhwb3J0IGNvbnN0IHNjcm9sbGJhckhlaWdodCA9IGNyZWF0ZSgnc2Nyb2xsYmFySGVpZ2h0Jykud2l0aERlZmF1bHQoJzEwcHgnKTtcbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJTbGlkZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdzY3JvbGxiYXItc2xpZGVyLWJhY2tncm91bmQnLCAnLS12c2NvZGUtc2Nyb2xsYmFyU2xpZGVyLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzc5Nzk3OTY2Jyk7XG5leHBvcnQgY29uc3Qgc2Nyb2xsYmFyU2xpZGVySG92ZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdzY3JvbGxiYXItc2xpZGVyLWhvdmVyLWJhY2tncm91bmQnLCAnLS12c2NvZGUtc2Nyb2xsYmFyU2xpZGVyLWhvdmVyQmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjNjQ2NDY0YjMnKTtcbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJTbGlkZXJBY3RpdmVCYWNrZ3JvdW5kID0gY3JlYXRlKCdzY3JvbGxiYXItc2xpZGVyLWFjdGl2ZS1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLXNjcm9sbGJhclNsaWRlci1hY3RpdmVCYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyNiZmJmYmY2NicpO1xuLyoqXG4gKiBCYWRnZSBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgYmFkZ2VCYWNrZ3JvdW5kID0gY3JlYXRlKCdiYWRnZS1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLWJhZGdlLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzRkNGQ0ZCcpO1xuZXhwb3J0IGNvbnN0IGJhZGdlRm9yZWdyb3VuZCA9IGNyZWF0ZSgnYmFkZ2UtZm9yZWdyb3VuZCcsICctLXZzY29kZS1iYWRnZS1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbi8qKlxuICogQnV0dG9uIGRlc2lnbiB0b2tlbnMuXG4gKi9cbi8vIE5vdGU6IEJ1dHRvbiBib3JkZXIgaXMgdXNlZCBvbmx5IGZvciBoaWdoIGNvbnRyYXN0IHRoZW1lcyBhbmQgc2hvdWxkIGJlIGxlZnQgYXMgdHJhbnNwYXJlbnQgb3RoZXJ3aXNlLlxuZXhwb3J0IGNvbnN0IGJ1dHRvbkJvcmRlciA9IGNyZWF0ZSgnYnV0dG9uLWJvcmRlcicsICctLXZzY29kZS1idXR0b24tYm9yZGVyJykud2l0aERlZmF1bHQoJ3RyYW5zcGFyZW50Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uSWNvbkJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1pY29uLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgndHJhbnNwYXJlbnQnKTtcbmV4cG9ydCBjb25zdCBidXR0b25JY29uQ29ybmVyUmFkaXVzID0gY3JlYXRlKCdidXR0b24taWNvbi1jb3JuZXItcmFkaXVzJykud2l0aERlZmF1bHQoJzVweCcpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkljb25Gb2N1c0JvcmRlck9mZnNldCA9IGNyZWF0ZSgnYnV0dG9uLWljb24tb3V0bGluZS1vZmZzZXQnKS53aXRoRGVmYXVsdCgwKTtcbi8vIE5vdGUgdXNhZ2Ugb2YgYC0tZmFrZS12c2NvZGUtdG9rZW5gIChyZWZlciB0byBkb2MgY29tbWVudCBhdCB0b3Agb2YgZmlsZSBmb3IgZXhwbGFuYXRpb24pLlxuZXhwb3J0IGNvbnN0IGJ1dHRvbkljb25Ib3ZlckJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1pY29uLWhvdmVyLWJhY2tncm91bmQnLCAnLS1mYWtlLXZzY29kZS10b2tlbicpLndpdGhEZWZhdWx0KCdyZ2JhKDkwLCA5MywgOTQsIDAuMzEpJyk7XG5leHBvcnQgY29uc3QgYnV0dG9uSWNvblBhZGRpbmcgPSBjcmVhdGUoJ2J1dHRvbi1pY29uLXBhZGRpbmcnKS53aXRoRGVmYXVsdCgnM3B4Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uUHJpbWFyeUJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1wcmltYXJ5LWJhY2tncm91bmQnLCAnLS12c2NvZGUtYnV0dG9uLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzBlNjM5YycpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblByaW1hcnlGb3JlZ3JvdW5kID0gY3JlYXRlKCdidXR0b24tcHJpbWFyeS1mb3JlZ3JvdW5kJywgJy0tdnNjb2RlLWJ1dHRvbi1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbmV4cG9ydCBjb25zdCBidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdidXR0b24tcHJpbWFyeS1ob3Zlci1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLWJ1dHRvbi1ob3ZlckJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzExNzdiYicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblNlY29uZGFyeUJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1zZWNvbmRhcnktYmFja2dyb3VuZCcsICctLXZzY29kZS1idXR0b24tc2Vjb25kYXJ5QmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjM2EzZDQxJyk7XG5leHBvcnQgY29uc3QgYnV0dG9uU2Vjb25kYXJ5Rm9yZWdyb3VuZCA9IGNyZWF0ZSgnYnV0dG9uLXNlY29uZGFyeS1mb3JlZ3JvdW5kJywgJy0tdnNjb2RlLWJ1dHRvbi1zZWNvbmRhcnlGb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbmV4cG9ydCBjb25zdCBidXR0b25TZWNvbmRhcnlIb3ZlckJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1zZWNvbmRhcnktaG92ZXItYmFja2dyb3VuZCcsICctLXZzY29kZS1idXR0b24tc2Vjb25kYXJ5SG92ZXJCYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyM0NTQ5NGUnKTtcbmV4cG9ydCBjb25zdCBidXR0b25QYWRkaW5nSG9yaXpvbnRhbCA9IGNyZWF0ZSgnYnV0dG9uLXBhZGRpbmctaG9yaXpvbnRhbCcpLndpdGhEZWZhdWx0KCcxMXB4Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uUGFkZGluZ1ZlcnRpY2FsID0gY3JlYXRlKCdidXR0b24tcGFkZGluZy12ZXJ0aWNhbCcpLndpdGhEZWZhdWx0KCc0cHgnKTtcbi8qKlxuICogQ2hlY2tib3ggZGVzaWduIHRva2Vucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrYm94QmFja2dyb3VuZCA9IGNyZWF0ZSgnY2hlY2tib3gtYmFja2dyb3VuZCcsICctLXZzY29kZS1jaGVja2JveC1iYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyMzYzNjM2MnKTtcbmV4cG9ydCBjb25zdCBjaGVja2JveEJvcmRlciA9IGNyZWF0ZSgnY2hlY2tib3gtYm9yZGVyJywgJy0tdnNjb2RlLWNoZWNrYm94LWJvcmRlcicpLndpdGhEZWZhdWx0KCcjM2MzYzNjJyk7XG5leHBvcnQgY29uc3QgY2hlY2tib3hDb3JuZXJSYWRpdXMgPSBjcmVhdGUoJ2NoZWNrYm94LWNvcm5lci1yYWRpdXMnKS53aXRoRGVmYXVsdCgzKTtcbmV4cG9ydCBjb25zdCBjaGVja2JveEZvcmVncm91bmQgPSBjcmVhdGUoJ2NoZWNrYm94LWZvcmVncm91bmQnLCAnLS12c2NvZGUtY2hlY2tib3gtZm9yZWdyb3VuZCcpLndpdGhEZWZhdWx0KCcjZjBmMGYwJyk7XG4vKipcbiAqIERhdGEgR3JpZCBkZXNpZ24gdG9rZW5zXG4gKi9cbmV4cG9ydCBjb25zdCBsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZCA9IGNyZWF0ZSgnbGlzdC1hY3RpdmUtc2VsZWN0aW9uLWJhY2tncm91bmQnLCAnLS12c2NvZGUtbGlzdC1hY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyMwOTQ3NzEnKTtcbmV4cG9ydCBjb25zdCBsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZCA9IGNyZWF0ZSgnbGlzdC1hY3RpdmUtc2VsZWN0aW9uLWZvcmVncm91bmQnLCAnLS12c2NvZGUtbGlzdC1hY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbmV4cG9ydCBjb25zdCBsaXN0SG92ZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdsaXN0LWhvdmVyLWJhY2tncm91bmQnLCAnLS12c2NvZGUtbGlzdC1ob3ZlckJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzJhMmQyZScpO1xuLyoqXG4gKiBEaXZpZGVyIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBkaXZpZGVyQmFja2dyb3VuZCA9IGNyZWF0ZSgnZGl2aWRlci1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLXNldHRpbmdzLWRyb3Bkb3duTGlzdEJvcmRlcicpLndpdGhEZWZhdWx0KCcjNDU0NTQ1Jyk7XG4vKipcbiAqIERyb3Bkb3duIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBkcm9wZG93bkJhY2tncm91bmQgPSBjcmVhdGUoJ2Ryb3Bkb3duLWJhY2tncm91bmQnLCAnLS12c2NvZGUtZHJvcGRvd24tYmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjM2MzYzNjJyk7XG5leHBvcnQgY29uc3QgZHJvcGRvd25Cb3JkZXIgPSBjcmVhdGUoJ2Ryb3Bkb3duLWJvcmRlcicsICctLXZzY29kZS1kcm9wZG93bi1ib3JkZXInKS53aXRoRGVmYXVsdCgnIzNjM2MzYycpO1xuZXhwb3J0IGNvbnN0IGRyb3Bkb3duRm9yZWdyb3VuZCA9IGNyZWF0ZSgnZHJvcGRvd24tZm9yZWdyb3VuZCcsICctLXZzY29kZS1kcm9wZG93bi1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmMGYwZjAnKTtcbmV4cG9ydCBjb25zdCBkcm9wZG93bkxpc3RNYXhIZWlnaHQgPSBjcmVhdGUoJ2Ryb3Bkb3duLWxpc3QtbWF4LWhlaWdodCcpLndpdGhEZWZhdWx0KCcyMDBweCcpO1xuLyoqXG4gKiBUZXh0IEZpZWxkICYgQXJlYSBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgaW5wdXRCYWNrZ3JvdW5kID0gY3JlYXRlKCdpbnB1dC1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLWlucHV0LWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzNjM2MzYycpO1xuZXhwb3J0IGNvbnN0IGlucHV0Rm9yZWdyb3VuZCA9IGNyZWF0ZSgnaW5wdXQtZm9yZWdyb3VuZCcsICctLXZzY29kZS1pbnB1dC1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNjY2NjY2MnKTtcbmV4cG9ydCBjb25zdCBpbnB1dFBsYWNlaG9sZGVyRm9yZWdyb3VuZCA9IGNyZWF0ZSgnaW5wdXQtcGxhY2Vob2xkZXItZm9yZWdyb3VuZCcsICctLXZzY29kZS1pbnB1dC1wbGFjZWhvbGRlckZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnI2NjY2NjYycpO1xuLyoqXG4gKiBMaW5rIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBsaW5rQWN0aXZlRm9yZWdyb3VuZCA9IGNyZWF0ZSgnbGluay1hY3RpdmUtZm9yZWdyb3VuZCcsICctLXZzY29kZS10ZXh0TGluay1hY3RpdmVGb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyMzNzk0ZmYnKTtcbmV4cG9ydCBjb25zdCBsaW5rRm9yZWdyb3VuZCA9IGNyZWF0ZSgnbGluay1mb3JlZ3JvdW5kJywgJy0tdnNjb2RlLXRleHRMaW5rLWZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnIzM3OTRmZicpO1xuLyoqXG4gKiBQcm9ncmVzcyByaW5nIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0JhY2tncm91bmQgPSBjcmVhdGUoJ3Byb2dyZXNzLWJhY2tncm91bmQnLCAnLS12c2NvZGUtcHJvZ3Jlc3NCYXItYmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjMGU3MGMwJyk7XG4vKipcbiAqIFBhbmVscyBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgcGFuZWxUYWJBY3RpdmVCb3JkZXIgPSBjcmVhdGUoJ3BhbmVsLXRhYi1hY3RpdmUtYm9yZGVyJywgJy0tdnNjb2RlLXBhbmVsVGl0bGUtYWN0aXZlQm9yZGVyJykud2l0aERlZmF1bHQoJyNlN2U3ZTcnKTtcbmV4cG9ydCBjb25zdCBwYW5lbFRhYkFjdGl2ZUZvcmVncm91bmQgPSBjcmVhdGUoJ3BhbmVsLXRhYi1hY3RpdmUtZm9yZWdyb3VuZCcsICctLXZzY29kZS1wYW5lbFRpdGxlLWFjdGl2ZUZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnI2U3ZTdlNycpO1xuZXhwb3J0IGNvbnN0IHBhbmVsVGFiRm9yZWdyb3VuZCA9IGNyZWF0ZSgncGFuZWwtdGFiLWZvcmVncm91bmQnLCAnLS12c2NvZGUtcGFuZWxUaXRsZS1pbmFjdGl2ZUZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnI2U3ZTdlNzk5Jyk7XG5leHBvcnQgY29uc3QgcGFuZWxWaWV3QmFja2dyb3VuZCA9IGNyZWF0ZSgncGFuZWwtdmlldy1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLXBhbmVsLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzFlMWUxZScpO1xuZXhwb3J0IGNvbnN0IHBhbmVsVmlld0JvcmRlciA9IGNyZWF0ZSgncGFuZWwtdmlldy1ib3JkZXInLCAnLS12c2NvZGUtcGFuZWwtYm9yZGVyJykud2l0aERlZmF1bHQoJyM4MDgwODA1OScpO1xuLyoqXG4gKiBUYWcgZGVzaWduIHRva2Vucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRhZ0Nvcm5lclJhZGl1cyA9IGNyZWF0ZSgndGFnLWNvcm5lci1yYWRpdXMnKS53aXRoRGVmYXVsdCgnMnB4Jyk7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IGRpc2FibGVkQ3Vyc29yLCBkaXNwbGF5LCBmb2N1c1Zpc2libGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgYm9yZGVyV2lkdGgsIGJ1dHRvbkJvcmRlciwgYnV0dG9uSWNvbkJhY2tncm91bmQsIGJ1dHRvbkljb25Db3JuZXJSYWRpdXMsIGJ1dHRvbkljb25Gb2N1c0JvcmRlck9mZnNldCwgYnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZCwgYnV0dG9uSWNvblBhZGRpbmcsIGJ1dHRvblBhZGRpbmdIb3Jpem9udGFsLCBidXR0b25QYWRkaW5nVmVydGljYWwsIGJ1dHRvblByaW1hcnlCYWNrZ3JvdW5kLCBidXR0b25QcmltYXJ5Rm9yZWdyb3VuZCwgYnV0dG9uUHJpbWFyeUhvdmVyQmFja2dyb3VuZCwgYnV0dG9uU2Vjb25kYXJ5QmFja2dyb3VuZCwgYnV0dG9uU2Vjb25kYXJ5Rm9yZWdyb3VuZCwgYnV0dG9uU2Vjb25kYXJ5SG92ZXJCYWNrZ3JvdW5kLCBjb250cmFzdEFjdGl2ZUJvcmRlciwgY29ybmVyUmFkaXVzUm91bmQsIGRlc2lnblVuaXQsIGRpc2FibGVkT3BhY2l0eSwgZm9jdXNCb3JkZXIsIGZvbnRGYW1pbHksIGZvcmVncm91bmQsIHR5cGVSYW1wQmFzZUZvbnRTaXplLCB0eXBlUmFtcEJhc2VMaW5lSGVpZ2h0LCB9IGZyb20gJy4uL2Rlc2lnbi10b2tlbnMuanMnO1xuLyoqXG4gKiBEZXZlbG9wZXIgbm90ZTpcbiAqXG4gKiBUaGUgcHJldHRpZXItaWdub3JlIGNvbW1hbmQgaXMgdXNlZCBvbiB0aGlzIGJsb2NrIG9mIGNvZGUgYmVjYXVzZSB3aGVuIHJlbW92ZWQgdGhlXG4gKiAnLmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9JyBDU1Mgc2VsZWN0b3Igd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHJlZm9ybWF0dGVkIHRvXG4gKiAnLmNvbnRyb2w6ICR7Zm9jdXNWaXNpYmxlfScgKG5vdGUgdGhlIHNwYWNlIGJldHdlZW4gdGhlIGNvbG9uIGFuZCBkb2xsYXIgc2lnbikuXG4gKlxuICogVGhpcyByZXN1bHRzIGluIG5vbi12YWxpZCBDU1MgdGhhdCB3aWxsIG5vdCByZW5kZXIgYSBmb2N1cyBvdXRsaW5lIG9uIGJhc2UgYnV0dG9ucy5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHRoaXMgcHJldHRpZXIgY29tbWFuZCBtdXN0IGJlIGRlY2xhcmVkIG9uIHRoZSBlbnRpcmUgY29kZSBibG9jayBhbmQgbm90XG4gKiBkaXJlY3RseSBhYm92ZSB0aGUgQ1NTIHNlbGVjdG9yIGxpbmUgYmVjYXVzZSB0aGUgYmVsb3cgY29kZSBibG9jayBpcyBhIHRlbXBsYXRlIGxpdGVyYWxcbiAqIHN0cmluZyB3aGljaCB3aWxsIGVuZCB1cCBiZWluZyB1c2VkIGRpcmVjdGx5IGluIHRoZSBmaW5hbCBjb21wb25lbnQgQ1NTLlxuICpcbiAqIFRodXMgaGF2aW5nICcvLyBwcmV0dGllci1pZ25vcmUnIGRpcmVjdGx5IGluIHRoZSBmaW5hbCBDU1Mgd2lsbCBhbHNvIGJyZWFrIHRoZSBjb21wb25lbnRcbiAqIHN0eWxpbmcuXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgQmFzZUJ1dHRvblN0eWxlcyA9IGNzcyBgXG5cdCR7ZGlzcGxheSgnaW5saW5lLWZsZXgnKX0gOmhvc3Qge1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0Zm9udC1mYW1pbHk6ICR7Zm9udEZhbWlseX07XG5cdFx0Zm9udC1zaXplOiAke3R5cGVSYW1wQmFzZUZvbnRTaXplfTtcblx0XHRsaW5lLWhlaWdodDogJHt0eXBlUmFtcEJhc2VMaW5lSGVpZ2h0fTtcblx0XHRjb2xvcjogJHtidXR0b25QcmltYXJ5Rm9yZWdyb3VuZH07XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5QmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyLXJhZGl1czogY2FsYygke2Nvcm5lclJhZGl1c1JvdW5kfSAqIDFweCk7XG5cdFx0ZmlsbDogY3VycmVudENvbG9yO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxuXHQuY29udHJvbCB7XG5cdFx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG5cdFx0aGVpZ2h0OiBpbmhlcml0O1xuXHRcdGZsZXgtZ3JvdzogMTtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0cGFkZGluZzogJHtidXR0b25QYWRkaW5nVmVydGljYWx9ICR7YnV0dG9uUGFkZGluZ0hvcml6b250YWx9O1xuXHRcdHdoaXRlLXNwYWNlOiB3cmFwO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtidXR0b25Cb3JkZXJ9O1xuXHRcdGNvbG9yOiBpbmhlcml0O1xuXHRcdGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XG5cdFx0ZmlsbDogaW5oZXJpdDtcblx0XHRjdXJzb3I6IGluaGVyaXQ7XG5cdFx0Zm9udC1mYW1pbHk6IGluaGVyaXQ7XG5cdH1cblx0Omhvc3QoOmhvdmVyKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdCg6YWN0aXZlKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5QmFja2dyb3VuZH07XG5cdH1cblx0LmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9IHtcblx0XHRvdXRsaW5lOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCAke2ZvY3VzQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogY2FsYygke2JvcmRlcldpZHRofSAqIDJweCk7XG5cdH1cblx0LmNvbnRyb2w6Oi1tb3otZm9jdXMtaW5uZXIge1xuXHRcdGJvcmRlcjogMDtcblx0fVxuXHQ6aG9zdChbZGlzYWJsZWRdKSB7XG5cdFx0b3BhY2l0eTogJHtkaXNhYmxlZE9wYWNpdHl9O1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uUHJpbWFyeUJhY2tncm91bmR9O1xuXHRcdGN1cnNvcjogJHtkaXNhYmxlZEN1cnNvcn07XG5cdH1cblx0LmNvbnRlbnQge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdH1cblx0LnN0YXJ0IHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHR9XG5cdDo6c2xvdHRlZChzdmcpLFxuXHQ6OnNsb3R0ZWQoc3Bhbikge1xuXHRcdHdpZHRoOiBjYWxjKCR7ZGVzaWduVW5pdH0gKiA0cHgpO1xuXHRcdGhlaWdodDogY2FsYygke2Rlc2lnblVuaXR9ICogNHB4KTtcblx0fVxuXHQuc3RhcnQge1xuXHRcdG1hcmdpbi1pbmxpbmUtZW5kOiA4cHg7XG5cdH1cbmA7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBQcmltYXJ5QnV0dG9uU3R5bGVzID0gY3NzIGBcblx0Omhvc3QoW2FwcGVhcmFuY2U9J3ByaW1hcnknXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uUHJpbWFyeUJhY2tncm91bmR9O1xuXHRcdGNvbG9yOiAke2J1dHRvblByaW1hcnlGb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddOmhvdmVyKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddOmFjdGl2ZSkgLmNvbnRyb2w6YWN0aXZlIHtcblx0XHRiYWNrZ3JvdW5kOiAke2J1dHRvblByaW1hcnlCYWNrZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddKSAuY29udHJvbDoke2ZvY3VzVmlzaWJsZX0ge1xuXHRcdG91dGxpbmU6IGNhbGMoJHtib3JkZXJXaWR0aH0gKiAxcHgpIHNvbGlkICR7Zm9jdXNCb3JkZXJ9O1xuXHRcdG91dGxpbmUtb2Zmc2V0OiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMnB4KTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddW2Rpc2FibGVkXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uUHJpbWFyeUJhY2tncm91bmR9O1xuXHR9XG5gO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgU2Vjb25kYXJ5QnV0dG9uU3R5bGVzID0gY3NzIGBcblx0Omhvc3QoW2FwcGVhcmFuY2U9J3NlY29uZGFyeSddKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25TZWNvbmRhcnlCYWNrZ3JvdW5kfTtcblx0XHRjb2xvcjogJHtidXR0b25TZWNvbmRhcnlGb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0nc2Vjb25kYXJ5J106aG92ZXIpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2J1dHRvblNlY29uZGFyeUhvdmVyQmFja2dyb3VuZH07XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J3NlY29uZGFyeSddOmFjdGl2ZSkgLmNvbnRyb2w6YWN0aXZlIHtcblx0XHRiYWNrZ3JvdW5kOiAke2J1dHRvblNlY29uZGFyeUJhY2tncm91bmR9O1xuXHR9XG5cdDpob3N0KFthcHBlYXJhbmNlPSdzZWNvbmRhcnknXSkgLmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9IHtcblx0XHRvdXRsaW5lOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCAke2ZvY3VzQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogY2FsYygke2JvcmRlcldpZHRofSAqIDJweCk7XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J3NlY29uZGFyeSddW2Rpc2FibGVkXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uU2Vjb25kYXJ5QmFja2dyb3VuZH07XG5cdH1cbmA7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBJY29uQnV0dG9uU3R5bGVzID0gY3NzIGBcblx0Omhvc3QoW2FwcGVhcmFuY2U9J2ljb24nXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uSWNvbkJhY2tncm91bmR9O1xuXHRcdGJvcmRlci1yYWRpdXM6ICR7YnV0dG9uSWNvbkNvcm5lclJhZGl1c307XG5cdFx0Y29sb3I6ICR7Zm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J2ljb24nXTpob3Zlcikge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZH07XG5cdFx0b3V0bGluZTogMXB4IGRvdHRlZCAke2NvbnRyYXN0QWN0aXZlQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogLTFweDtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0naWNvbiddKSAuY29udHJvbCB7XG5cdFx0cGFkZGluZzogJHtidXR0b25JY29uUGFkZGluZ307XG5cdFx0Ym9yZGVyOiBub25lO1xuXHR9XG5cdDpob3N0KFthcHBlYXJhbmNlPSdpY29uJ106YWN0aXZlKSAuY29udHJvbDphY3RpdmUge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZH07XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J2ljb24nXSkgLmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9IHtcblx0XHRvdXRsaW5lOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCAke2ZvY3VzQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogJHtidXR0b25JY29uRm9jdXNCb3JkZXJPZmZzZXR9O1xuXHR9XG5cdDpob3N0KFthcHBlYXJhbmNlPSdpY29uJ11bZGlzYWJsZWRdKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25JY29uQmFja2dyb3VuZH07XG5cdH1cbmA7XG5leHBvcnQgY29uc3QgYnV0dG9uU3R5bGVzID0gKGNvbnRleHQsIGRlZmluaXRpb24pID0+IGNzcyBgXG5cdCR7QmFzZUJ1dHRvblN0eWxlc31cblx0JHtQcmltYXJ5QnV0dG9uU3R5bGVzfVxuXHQke1NlY29uZGFyeUJ1dHRvblN0eWxlc31cblx0JHtJY29uQnV0dG9uU3R5bGVzfVxuYDtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IEJ1dHRvbiBhcyBGb3VuZGF0aW9uQnV0dG9uLCBidXR0b25UZW1wbGF0ZSBhcyB0ZW1wbGF0ZSwgfSBmcm9tICdAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbic7XG5pbXBvcnQgeyBidXR0b25TdHlsZXMgYXMgc3R5bGVzIH0gZnJvbSAnLi9idXR0b24uc3R5bGVzLmpzJztcbi8qKlxuICogVGhlIFZpc3VhbCBTdHVkaW8gQ29kZSBidXR0b24gY2xhc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgRm91bmRhdGlvbkJ1dHRvbiB7XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBpbnNlcnRlZFxuICAgICAqIGludG8gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAvLyBJZiB0aGUgYXBwZWFyYW5jZSBwcm9wZXJ0eSBoYXMgbm90IGJlZW4gc2V0LCBzZXQgaXQgdG8gdGhlXG4gICAgICAgIC8vIHZhbHVlIG9mIHRoZSBhcHBlYXJhbmNlIGF0dHJpYnV0ZS5cbiAgICAgICAgaWYgKCF0aGlzLmFwcGVhcmFuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcGVhcmFuY2VWYWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcHBlYXJhbmNlJyk7XG4gICAgICAgICAgICB0aGlzLmFwcGVhcmFuY2UgPSBhcHBlYXJhbmNlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2QgdGhhdCBydW5zIHdoZW4gYW4gYXR0cmlidXRlIG9mIHRoZVxuICAgICAqIGVsZW1lbnQgaXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhdHRyTmFtZSAtIFRoZSBhdHRyaWJ1dGUgdGhhdCB3YXMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSBvbGRWYWwgLSBUaGUgb2xkIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gbmV3VmFsIC0gVGhlIG5ldyB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ck5hbWUsIG9sZFZhbCwgbmV3VmFsKSB7XG4gICAgICAgIC8vIEluIHRoZSBjYXNlIHdoZW4gYW4gaWNvbiBvbmx5IGJ1dHRvbiBpcyBjcmVhdGVkIGFkZCBhIGRlZmF1bHQgQVJJQVxuICAgICAgICAvLyBsYWJlbCB0byB0aGUgYnV0dG9uIHNpbmNlIHRoZXJlIGlzIG5vIGxvbmdlciBidXR0b24gdGV4dCB0byB1c2VcbiAgICAgICAgLy8gYXMgdGhlIGxhYmVsXG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2FwcGVhcmFuY2UnICYmIG5ld1ZhbCA9PT0gJ2ljb24nKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHNldCB0aGUgQVJJQSBsYWJlbCB0byB0aGUgZGVmYXVsdCB0ZXh0IGlmIGFuIGFyaWEtbGFiZWwgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBleGlzdCBvbiB0aGUgYnV0dG9uXG4gICAgICAgICAgICBjb25zdCBhcmlhTGFiZWxWYWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICAgICAgICBpZiAoIWFyaWFMYWJlbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcmlhTGFiZWwgPSAnSWNvbiBCdXR0b24nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEluIHRoZSBjYXNlIHdoZW4gdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIGhhcyBiZWVuIGRlZmluZWQgb24gdGhlXG4gICAgICAgIC8vIDx2c2NvZGUtYnV0dG9uPiwgdGhpcyB3aWxsIHByb2dyYW1tYXRpY2FsbHkgcHJvcG9nYXRlIHRoZSB2YWx1ZSB0b1xuICAgICAgICAvLyB0aGUgPGJ1dHRvbj4gSFRNTCBlbGVtZW50IHRoYXQgbGl2ZXMgaW4gdGhlIFNoYWRvdyBET01cbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnYXJpYS1sYWJlbCcpIHtcbiAgICAgICAgICAgIHRoaXMuYXJpYUxhYmVsID0gbmV3VmFsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IG5ld1ZhbCAhPT0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGF0dHJcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiYXBwZWFyYW5jZVwiLCB2b2lkIDApO1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIGJ1dHRvbiBjb21wb25lbnQgcmVnaXN0cmF0aW9uLlxuICpcbiAqIEByZW1hcmtzXG4gKiBIVE1MIEVsZW1lbnQ6IGA8dnNjb2RlLWJ1dHRvbj5gXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdnNDb2RlQnV0dG9uID0gQnV0dG9uLmNvbXBvc2Uoe1xuICAgIGJhc2VOYW1lOiAnYnV0dG9uJyxcbiAgICB0ZW1wbGF0ZSxcbiAgICBzdHlsZXMsXG4gICAgc2hhZG93T3B0aW9uczoge1xuICAgICAgICBkZWxlZ2F0ZXNGb2N1czogdHJ1ZSxcbiAgICB9LFxufSk7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IGRpc3BsYXksIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgYm9yZGVyV2lkdGgsIGRlc2lnblVuaXQsIGRpdmlkZXJCYWNrZ3JvdW5kIH0gZnJvbSAnLi4vZGVzaWduLXRva2Vucy5qcyc7XG5leHBvcnQgY29uc3QgZGl2aWRlclN0eWxlcyA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBjc3MgYFxuXHQke2Rpc3BsYXkoJ2Jsb2NrJyl9IDpob3N0IHtcblx0XHRib3JkZXI6IG5vbmU7XG5cdFx0Ym9yZGVyLXRvcDogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtkaXZpZGVyQmFja2dyb3VuZH07XG5cdFx0Ym94LXNpemluZzogY29udGVudC1ib3g7XG5cdFx0aGVpZ2h0OiAwO1xuXHRcdG1hcmdpbjogY2FsYygke2Rlc2lnblVuaXR9ICogMXB4KSAwO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHR9XG5gO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBEaXZpZGVyUm9sZSwgRGl2aWRlciBhcyBGb3VuZGF0aW9uRGl2aWRlciwgZGl2aWRlclRlbXBsYXRlIGFzIHRlbXBsYXRlLCB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uJztcbmltcG9ydCB7IGRpdmlkZXJTdHlsZXMgYXMgc3R5bGVzIH0gZnJvbSAnLi9kaXZpZGVyLnN0eWxlcy5qcyc7XG5leHBvcnQgeyBEaXZpZGVyUm9sZSB9O1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIGRpdmlkZXIgY2xhc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGl2aWRlciBleHRlbmRzIEZvdW5kYXRpb25EaXZpZGVyIHtcbn1cbi8qKlxuICogVGhlIFZpc3VhbCBTdHVkaW8gQ29kZSBkaXZpZGVyIGNvbXBvbmVudCByZWdpc3RyYXRpb24uXG4gKlxuICogQHJlbWFya3NcbiAqIEhUTUwgRWxlbWVudDogYDx2c2NvZGUtZGl2aWRlcj5gXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdnNDb2RlRGl2aWRlciA9IERpdmlkZXIuY29tcG9zZSh7XG4gICAgYmFzZU5hbWU6ICdkaXZpZGVyJyxcbiAgICB0ZW1wbGF0ZSxcbiAgICBzdHlsZXMsXG59KTtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZGlzYWJsZWRDdXJzb3IsIGRpc3BsYXksIGZvY3VzVmlzaWJsZSwgfSBmcm9tICdAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbic7XG5pbXBvcnQgeyBib3JkZXJXaWR0aCwgY29ybmVyUmFkaXVzUm91bmQsIGRlc2lnblVuaXQsIGRpc2FibGVkT3BhY2l0eSwgZHJvcGRvd25CYWNrZ3JvdW5kLCBkcm9wZG93bkJvcmRlciwgZHJvcGRvd25MaXN0TWF4SGVpZ2h0LCBmb2N1c0JvcmRlciwgZm9udEZhbWlseSwgZm9yZWdyb3VuZCwgaW5wdXRIZWlnaHQsIGlucHV0TWluV2lkdGgsIGxpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kLCBsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZCwgdHlwZVJhbXBCYXNlRm9udFNpemUsIHR5cGVSYW1wQmFzZUxpbmVIZWlnaHQsIH0gZnJvbSAnLi4vZGVzaWduLXRva2Vucy5qcyc7XG5leHBvcnQgY29uc3QgZHJvcGRvd25TdHlsZXMgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gY3NzIGBcblx0JHtkaXNwbGF5KCdpbmxpbmUtZmxleCcpfSA6aG9zdCB7XG5cdFx0YmFja2dyb3VuZDogJHtkcm9wZG93bkJhY2tncm91bmR9O1xuXHRcdGJvcmRlci1yYWRpdXM6IGNhbGMoJHtjb3JuZXJSYWRpdXNSb3VuZH0gKiAxcHgpO1xuXHRcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdFx0Y29sb3I6ICR7Zm9yZWdyb3VuZH07XG5cdFx0Y29udGFpbjogY29udGVudHM7XG5cdFx0Zm9udC1mYW1pbHk6ICR7Zm9udEZhbWlseX07XG5cdFx0aGVpZ2h0OiBjYWxjKCR7aW5wdXRIZWlnaHR9ICogMXB4KTtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0dXNlci1zZWxlY3Q6IG5vbmU7XG5cdFx0bWluLXdpZHRoOiAke2lucHV0TWluV2lkdGh9O1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0dmVydGljYWwtYWxpZ246IHRvcDtcblx0fVxuXHQuY29udHJvbCB7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtkcm9wZG93bkJvcmRlcn07XG5cdFx0Ym9yZGVyLXJhZGl1czogY2FsYygke2Nvcm5lclJhZGl1c1JvdW5kfSAqIDFweCk7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0Zm9udC1mYW1pbHk6IGluaGVyaXQ7XG5cdFx0Zm9udC1zaXplOiAke3R5cGVSYW1wQmFzZUZvbnRTaXplfTtcblx0XHRsaW5lLWhlaWdodDogJHt0eXBlUmFtcEJhc2VMaW5lSGVpZ2h0fTtcblx0XHRtaW4taGVpZ2h0OiAxMDAlO1xuXHRcdHBhZGRpbmc6IDJweCA2cHggMnB4IDhweDtcblx0XHR3aWR0aDogMTAwJTtcblx0fVxuXHQubGlzdGJveCB7XG5cdFx0YmFja2dyb3VuZDogJHtkcm9wZG93bkJhY2tncm91bmR9O1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtmb2N1c0JvcmRlcn07XG5cdFx0Ym9yZGVyLXJhZGl1czogY2FsYygke2Nvcm5lclJhZGl1c1JvdW5kfSAqIDFweCk7XG5cdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcblx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGxlZnQ6IDA7XG5cdFx0bWF4LWhlaWdodDogJHtkcm9wZG93bkxpc3RNYXhIZWlnaHR9O1xuXHRcdHBhZGRpbmc6IDA7XG5cdFx0b3ZlcmZsb3cteTogYXV0bztcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0ei1pbmRleDogMTtcblx0fVxuXHQubGlzdGJveFtoaWRkZW5dIHtcblx0XHRkaXNwbGF5OiBub25lO1xuXHR9XG5cdDpob3N0KDoke2ZvY3VzVmlzaWJsZX0pIC5jb250cm9sIHtcblx0XHRib3JkZXItY29sb3I6ICR7Zm9jdXNCb3JkZXJ9O1xuXHR9XG5cdDpob3N0KDpub3QoW2Rpc2FibGVkXSk6aG92ZXIpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2Ryb3Bkb3duQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyLWNvbG9yOiAke2Ryb3Bkb3duQm9yZGVyfTtcblx0fVxuXHQ6aG9zdCg6JHtmb2N1c1Zpc2libGV9KSA6OnNsb3R0ZWQoW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdW3JvbGU9XCJvcHRpb25cIl06bm90KFtkaXNhYmxlZF0pKSB7XG5cdFx0YmFja2dyb3VuZDogJHtsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogJHtsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoW2Rpc2FibGVkXSkge1xuXHRcdGN1cnNvcjogJHtkaXNhYmxlZEN1cnNvcn07XG5cdFx0b3BhY2l0eTogJHtkaXNhYmxlZE9wYWNpdHl9O1xuXHR9XG5cdDpob3N0KFtkaXNhYmxlZF0pIC5jb250cm9sIHtcblx0XHRjdXJzb3I6ICR7ZGlzYWJsZWRDdXJzb3J9O1xuXHRcdHVzZXItc2VsZWN0OiBub25lO1xuXHR9XG5cdDpob3N0KFtkaXNhYmxlZF06aG92ZXIpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2Ryb3Bkb3duQmFja2dyb3VuZH07XG5cdFx0Y29sb3I6ICR7Zm9yZWdyb3VuZH07XG5cdFx0ZmlsbDogY3VycmVudGNvbG9yO1xuXHR9XG5cdDpob3N0KDpub3QoW2Rpc2FibGVkXSkpIC5jb250cm9sOmFjdGl2ZSB7XG5cdFx0Ym9yZGVyLWNvbG9yOiAke2ZvY3VzQm9yZGVyfTtcblx0fVxuXHQ6aG9zdCg6ZW1wdHkpIC5saXN0Ym94IHtcblx0XHRkaXNwbGF5OiBub25lO1xuXHR9XG5cdDpob3N0KFtvcGVuXSkgLmNvbnRyb2wge1xuXHRcdGJvcmRlci1jb2xvcjogJHtmb2N1c0JvcmRlcn07XG5cdH1cblx0Omhvc3QoW29wZW5dW3Bvc2l0aW9uPSdhYm92ZSddKSAubGlzdGJveCB7XG5cdFx0Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcblx0XHRib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcblx0fVxuXHQ6aG9zdChbb3Blbl1bcG9zaXRpb249J2JlbG93J10pIC5saXN0Ym94IHtcblx0XHRib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuXHRcdGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuXHR9XG5cdDpob3N0KFtvcGVuXVtwb3NpdGlvbj0nYWJvdmUnXSkgLmxpc3Rib3gge1xuXHRcdGJvdHRvbTogY2FsYygke2lucHV0SGVpZ2h0fSAqIDFweCk7XG5cdH1cblx0Omhvc3QoW29wZW5dW3Bvc2l0aW9uPSdiZWxvdyddKSAubGlzdGJveCB7XG5cdFx0dG9wOiBjYWxjKCR7aW5wdXRIZWlnaHR9ICogMXB4KTtcblx0fVxuXHQuc2VsZWN0ZWQtdmFsdWUge1xuXHRcdGZsZXg6IDEgMSBhdXRvO1xuXHRcdGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuXHRcdG92ZXJmbG93OiBoaWRkZW47XG5cdFx0dGV4dC1hbGlnbjogc3RhcnQ7XG5cdFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0fVxuXHQuaW5kaWNhdG9yIHtcblx0XHRmbGV4OiAwIDAgYXV0bztcblx0XHRtYXJnaW4taW5saW5lLXN0YXJ0OiAxZW07XG5cdH1cblx0c2xvdFtuYW1lPSdsaXN0Ym94J10ge1xuXHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdH1cblx0Omhvc3QoW29wZW5dKSBzbG90W25hbWU9J2xpc3Rib3gnXSB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdH1cblx0LmVuZCB7XG5cdFx0bWFyZ2luLWlubGluZS1zdGFydDogYXV0bztcblx0fVxuXHQuc3RhcnQsXG5cdC5lbmQsXG5cdC5pbmRpY2F0b3IsXG5cdC5zZWxlY3QtaW5kaWNhdG9yLFxuXHQ6OnNsb3R0ZWQoc3ZnKSxcblx0OjpzbG90dGVkKHNwYW4pIHtcblx0XHRmaWxsOiBjdXJyZW50Y29sb3I7XG5cdFx0aGVpZ2h0OiAxZW07XG5cdFx0bWluLWhlaWdodDogY2FsYygke2Rlc2lnblVuaXR9ICogNHB4KTtcblx0XHRtaW4td2lkdGg6IGNhbGMoJHtkZXNpZ25Vbml0fSAqIDRweCk7XG5cdFx0d2lkdGg6IDFlbTtcblx0fVxuXHQ6OnNsb3R0ZWQoW3JvbGU9J29wdGlvbiddKSxcblx0OjpzbG90dGVkKG9wdGlvbikge1xuXHRcdGZsZXg6IDAgMCBhdXRvO1xuXHR9XG5gO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBTZWxlY3RQb3NpdGlvbiBhcyBEcm9wZG93blBvc2l0aW9uLCBTZWxlY3QgYXMgRm91bmRhdGlvblNlbGVjdCwgc2VsZWN0VGVtcGxhdGUgYXMgdGVtcGxhdGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgZHJvcGRvd25TdHlsZXMgYXMgc3R5bGVzIH0gZnJvbSAnLi9kcm9wZG93bi5zdHlsZXMuanMnO1xuZXhwb3J0IHsgRHJvcGRvd25Qb3NpdGlvbiB9O1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIGRyb3Bkb3duIGNsYXNzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIERyb3Bkb3duIGV4dGVuZHMgRm91bmRhdGlvblNlbGVjdCB7XG59XG4vKipcbiAqIFRoZSBWaXN1YWwgU3R1ZGlvIENvZGUgbGluayBkcm9wZG93biByZWdpc3RyYXRpb24uXG4gKlxuICogQHJlbWFya3NcbiAqIEhUTUwgRWxlbWVudDogYDx2c2NvZGUtZHJvcGRvd24+YFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHZzQ29kZURyb3Bkb3duID0gRHJvcGRvd24uY29tcG9zZSh7XG4gICAgYmFzZU5hbWU6ICdkcm9wZG93bicsXG4gICAgdGVtcGxhdGUsXG4gICAgc3R5bGVzLFxuICAgIGluZGljYXRvcjogYFxuXHRcdDxzdmcgXG5cdFx0XHRjbGFzcz1cInNlbGVjdC1pbmRpY2F0b3JcIlxuXHRcdFx0cGFydD1cInNlbGVjdC1pbmRpY2F0b3JcIlxuXHRcdFx0d2lkdGg9XCIxNlwiIFxuXHRcdFx0aGVpZ2h0PVwiMTZcIiBcblx0XHRcdHZpZXdCb3g9XCIwIDAgMTYgMTZcIiBcblx0XHRcdHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBcblx0XHRcdGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuXHRcdD5cblx0XHRcdDxwYXRoIFxuXHRcdFx0XHRmaWxsLXJ1bGU9XCJldmVub2RkXCIgXG5cdFx0XHRcdGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBcblx0XHRcdFx0ZD1cIk03Ljk3NiAxMC4wNzJsNC4zNTctNC4zNTcuNjIuNjE4TDguMjg0IDExaC0uNjE4TDMgNi4zMzNsLjYxOS0uNjE4IDQuMzU3IDQuMzU3elwiXG5cdFx0XHQvPlxuXHRcdDwvc3ZnPlxuXHRgLFxufSk7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IGRpc2FibGVkQ3Vyc29yLCBkaXNwbGF5LCBmb2N1c1Zpc2libGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgYm9yZGVyV2lkdGgsIGNvcm5lclJhZGl1cywgZGVzaWduVW5pdCwgZGlzYWJsZWRPcGFjaXR5LCBmb2N1c0JvcmRlciwgZm9yZWdyb3VuZCwgbGlzdEFjdGl2ZVNlbGVjdGlvbkJhY2tncm91bmQsIGxpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kLCB0eXBlUmFtcEJhc2VGb250U2l6ZSwgdHlwZVJhbXBCYXNlTGluZUhlaWdodCwgfSBmcm9tICcuLi9kZXNpZ24tdG9rZW5zLmpzJztcbmV4cG9ydCBjb25zdCBvcHRpb25TdHlsZXMgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gY3NzIGBcblx0JHtkaXNwbGF5KCdpbmxpbmUtZmxleCcpfSA6aG9zdCB7XG5cdFx0Zm9udC1mYW1pbHk6IHZhcigtLWJvZHktZm9udCk7XG5cdFx0Ym9yZGVyLXJhZGl1czogJHtjb3JuZXJSYWRpdXN9O1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgdHJhbnNwYXJlbnQ7XG5cdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcblx0XHRjb2xvcjogJHtmb3JlZ3JvdW5kfTtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0ZmlsbDogY3VycmVudGNvbG9yO1xuXHRcdGZvbnQtc2l6ZTogJHt0eXBlUmFtcEJhc2VGb250U2l6ZX07XG5cdFx0bGluZS1oZWlnaHQ6ICR7dHlwZVJhbXBCYXNlTGluZUhlaWdodH07XG5cdFx0bWFyZ2luOiAwO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHRwYWRkaW5nOiAwIGNhbGMoKCR7ZGVzaWduVW5pdH0gLyAyKSAqIDFweClcblx0XHRcdGNhbGMoKCR7ZGVzaWduVW5pdH0gLyA0KSAqIDFweCk7XG5cdFx0dXNlci1zZWxlY3Q6IG5vbmU7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0fVxuXHQ6aG9zdCg6JHtmb2N1c1Zpc2libGV9KSB7XG5cdFx0Ym9yZGVyLWNvbG9yOiAke2ZvY3VzQm9yZGVyfTtcblx0XHRiYWNrZ3JvdW5kOiAke2xpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kfTtcblx0XHRjb2xvcjogJHtmb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXJpYS1zZWxlY3RlZD0ndHJ1ZSddKSB7XG5cdFx0YmFja2dyb3VuZDogJHtsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogJHtsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoOmFjdGl2ZSkge1xuXHRcdGJhY2tncm91bmQ6ICR7bGlzdEFjdGl2ZVNlbGVjdGlvbkJhY2tncm91bmR9O1xuXHRcdGNvbG9yOiAke2xpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdCg6bm90KFthcmlhLXNlbGVjdGVkPSd0cnVlJ10pOmhvdmVyKSB7XG5cdFx0YmFja2dyb3VuZDogJHtsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogJHtsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoOm5vdChbYXJpYS1zZWxlY3RlZD0ndHJ1ZSddKTphY3RpdmUpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2xpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kfTtcblx0XHRjb2xvcjogJHtmb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbZGlzYWJsZWRdKSB7XG5cdFx0Y3Vyc29yOiAke2Rpc2FibGVkQ3Vyc29yfTtcblx0XHRvcGFjaXR5OiAke2Rpc2FibGVkT3BhY2l0eX07XG5cdH1cblx0Omhvc3QoW2Rpc2FibGVkXTpob3Zlcikge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG5cdH1cblx0LmNvbnRlbnQge1xuXHRcdGdyaWQtY29sdW1uLXN0YXJ0OiAyO1xuXHRcdGp1c3RpZnktc2VsZjogc3RhcnQ7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcblx0fVxuYDtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgTGlzdGJveE9wdGlvbiBhcyBGb3VuZGF0aW9uTGlzdGJveE9wdGlvbiwgbGlzdGJveE9wdGlvblRlbXBsYXRlIGFzIHRlbXBsYXRlLCB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uJztcbmltcG9ydCB7IG9wdGlvblN0eWxlcyBhcyBzdHlsZXMgfSBmcm9tICcuL29wdGlvbi5zdHlsZXMuanMnO1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIG9wdGlvbiBjbGFzcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPcHRpb24gZXh0ZW5kcyBGb3VuZGF0aW9uTGlzdGJveE9wdGlvbiB7XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBpbnNlcnRlZFxuICAgICAqIGludG8gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICBpZiAodGhpcy50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLnRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHRoZSBsYWJlbCBpZiB0aGVyZSBpcyBubyB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ09wdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIG9wdGlvbiBjb21wb25lbnQgcmVnaXN0cmF0aW9uLlxuICpcbiAqIEByZW1hcmtzXG4gKiBIVE1MIEVsZW1lbnQ6IGA8dnNjb2RlLW9wdGlvbj5gXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdnNDb2RlT3B0aW9uID0gT3B0aW9uLmNvbXBvc2Uoe1xuICAgIGJhc2VOYW1lOiAnb3B0aW9uJyxcbiAgICB0ZW1wbGF0ZSxcbiAgICBzdHlsZXMsXG59KTtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZGlzcGxheSwgfSBmcm9tICdAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbic7XG5pbXBvcnQgeyBkZXNpZ25Vbml0LCBwcm9ncmVzc0JhY2tncm91bmQgfSBmcm9tICcuLi9kZXNpZ24tdG9rZW5zLmpzJztcbmV4cG9ydCBjb25zdCBwcm9ncmVzc1JpbmdTdHlsZXMgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gY3NzIGBcblx0JHtkaXNwbGF5KCdmbGV4Jyl9IDpob3N0IHtcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0aGVpZ2h0OiBjYWxjKCR7ZGVzaWduVW5pdH0gKiA3cHgpO1xuXHRcdHdpZHRoOiBjYWxjKCR7ZGVzaWduVW5pdH0gKiA3cHgpO1xuXHRcdG1hcmdpbjogMDtcblx0fVxuXHQucHJvZ3Jlc3Mge1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHR3aWR0aDogMTAwJTtcblx0fVxuXHQuYmFja2dyb3VuZCB7XG5cdFx0ZmlsbDogbm9uZTtcblx0XHRzdHJva2U6IHRyYW5zcGFyZW50O1xuXHRcdHN0cm9rZS13aWR0aDogY2FsYygke2Rlc2lnblVuaXR9IC8gMiAqIDFweCk7XG5cdH1cblx0LmluZGV0ZXJtaW5hdGUtaW5kaWNhdG9yLTEge1xuXHRcdGZpbGw6IG5vbmU7XG5cdFx0c3Ryb2tlOiAke3Byb2dyZXNzQmFja2dyb3VuZH07XG5cdFx0c3Ryb2tlLXdpZHRoOiBjYWxjKCR7ZGVzaWduVW5pdH0gLyAyICogMXB4KTtcblx0XHRzdHJva2UtbGluZWNhcDogc3F1YXJlO1xuXHRcdHRyYW5zZm9ybS1vcmlnaW46IDUwJSA1MCU7XG5cdFx0dHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcblx0XHR0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcblx0XHRhbmltYXRpb246IHNwaW4taW5maW5pdGUgMnMgbGluZWFyIGluZmluaXRlO1xuXHR9XG5cdEBrZXlmcmFtZXMgc3Bpbi1pbmZpbml0ZSB7XG5cdFx0MCUge1xuXHRcdFx0c3Ryb2tlLWRhc2hhcnJheTogMC4wMXB4IDQzLjk3cHg7XG5cdFx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcblx0XHR9XG5cdFx0NTAlIHtcblx0XHRcdHN0cm9rZS1kYXNoYXJyYXk6IDIxLjk5cHggMjEuOTlweDtcblx0XHRcdHRyYW5zZm9ybTogcm90YXRlKDQ1MGRlZyk7XG5cdFx0fVxuXHRcdDEwMCUge1xuXHRcdFx0c3Ryb2tlLWRhc2hhcnJheTogMC4wMXB4IDQzLjk3cHg7XG5cdFx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgxMDgwZGVnKTtcblx0XHR9XG5cdH1cbmA7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IEJhc2VQcm9ncmVzcywgcHJvZ3Jlc3NSaW5nVGVtcGxhdGUgYXMgdGVtcGxhdGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgcHJvZ3Jlc3NSaW5nU3R5bGVzIGFzIHN0eWxlcyB9IGZyb20gJy4vcHJvZ3Jlc3MtcmluZy5zdHlsZXMuanMnO1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIHByb2dyZXNzIHJpbmcgY2xhc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NSaW5nIGV4dGVuZHMgQmFzZVByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBDb21wb25lbnQgbGlmZWN5Y2xlIG1ldGhvZCB0aGF0IHJ1bnMgd2hlbiB0aGUgY29tcG9uZW50IGlzIGluc2VydGVkXG4gICAgICogaW50byB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBvdmVycmlkZSBhbnkgdXNhZ2Ugb2YgdGhlIHBhdXNlZCBhdHRyaWJ1dGVcbiAgICAgICAgLy8gaW5oZXJpdGVkIGJ5IHRoZSBGQVNUIEZvdW5kYXRpb24gQmFzZVByb2dyZXNzIGNvbXBvbmVudFxuICAgICAgICAvLyBzbyB0aGF0IFZTQ29kZVByb2dyZXNzUmluZyBjYW4gbmV2ZXIgYmUgcGF1c2VkXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZpbmVzIGEgZGVmYXVsdCBhcmlhIGxhYmVsIHRoYXQgc2NyZWVuIHJlYWRlcnMgY2FuIGFjY2Vzc1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdMb2FkaW5nJyk7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBvbmVudCBsaWZlY3ljbGUgbWV0aG9kIHRoYXQgcnVucyB3aGVuIGFuIGF0dHJpYnV0ZSBvZiB0aGVcbiAgICAgKiBlbGVtZW50IGlzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXR0ck5hbWUgLSBUaGUgYXR0cmlidXRlIHRoYXQgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gb2xkVmFsIC0gVGhlIG9sZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgICogQHBhcmFtIG5ld1ZhbCAtIFRoZSBuZXcgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHJOYW1lLCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBvdmVycmlkZSBhbnkgdXNhZ2Ugb2YgdGhlIHZhbHVlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gaW5oZXJpdGVkIGJ5IHRoZSBGQVNUIEZvdW5kYXRpb24gQmFzZVByb2dyZXNzIGNvbXBvbmVudFxuICAgICAgICAgICAgLy8gc28gdGhhdCBWU0NvZGVQcm9ncmVzc1JpbmcgY2FuIG5ldmVyIHNldCB0byBiZSBhXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmF0ZSBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoZSBWaXN1YWwgU3R1ZGlvIENvZGUgcHJvZ3Jlc3MgcmluZyBjb21wb25lbnQgcmVnaXN0cmF0aW9uLlxuICpcbiAqIEByZW1hcmtzXG4gKiBIVE1MIEVsZW1lbnQ6IGA8dnNjb2RlLXByb2dyZXNzLXJpbmc+YFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHZzQ29kZVByb2dyZXNzUmluZyA9IFByb2dyZXNzUmluZy5jb21wb3NlKHtcbiAgICBiYXNlTmFtZTogJ3Byb2dyZXNzLXJpbmcnLFxuICAgIHRlbXBsYXRlLFxuICAgIHN0eWxlcyxcbiAgICBpbmRldGVybWluYXRlSW5kaWNhdG9yOiBgXG5cdFx0PHN2ZyBjbGFzcz1cInByb2dyZXNzXCIgcGFydD1cInByb2dyZXNzXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuXHRcdFx0PGNpcmNsZVxuXHRcdFx0XHRjbGFzcz1cImJhY2tncm91bmRcIlxuXHRcdFx0XHRwYXJ0PVwiYmFja2dyb3VuZFwiXG5cdFx0XHRcdGN4PVwiOHB4XCJcblx0XHRcdFx0Y3k9XCI4cHhcIlxuXHRcdFx0XHRyPVwiN3B4XCJcblx0XHRcdD48L2NpcmNsZT5cblx0XHRcdDxjaXJjbGVcblx0XHRcdFx0Y2xhc3M9XCJpbmRldGVybWluYXRlLWluZGljYXRvci0xXCJcblx0XHRcdFx0cGFydD1cImluZGV0ZXJtaW5hdGUtaW5kaWNhdG9yLTFcIlxuXHRcdFx0XHRjeD1cIjhweFwiXG5cdFx0XHRcdGN5PVwiOHB4XCJcblx0XHRcdFx0cj1cIjdweFwiXG5cdFx0XHQ+PC9jaXJjbGU+XG5cdFx0PC9zdmc+XG5cdGAsXG59KTtcbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgIDxkaXYgdi1pZj1cImFjdGl2YXRlT3ZlcmxheVwiIGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PlxuICAgIDxzbG90IC8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmRlZmluZVByb3BzPHtcbiAgYWN0aXZhdGVPdmVybGF5OiBib29sZWFuO1xufT4oKTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4uY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxO1xufVxuLm92ZXJsYXkge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1kcm9wZG93bi1iYWNrZ3JvdW5kKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBpbnNldDogMDtcbiAgei1pbmRleDogMztcbiAgb3BhY2l0eTogdmFyKC0tZGlzYWJsZWQtb3BhY2l0eSk7XG59XG48L3N0eWxlPlxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZSBhIGJvdW5kIHZlcnNpb24gb2YgYSBmdW5jdGlvbiB3aXRoIGEgc3BlY2lmaWVkIGB0aGlzYCBjb250ZXh0XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gYmluZFxuICogQHBhcmFtIHsqfSB0aGlzQXJnIC0gVGhlIHZhbHVlIHRvIGJlIHBhc3NlZCBhcyB0aGUgYHRoaXNgIHBhcmFtZXRlclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGB0aGlzYCBjb250ZXh0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxuY29uc3Qge3RvU3RyaW5nfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCB7Z2V0UHJvdG90eXBlT2Z9ID0gT2JqZWN0O1xuY29uc3Qge2l0ZXJhdG9yLCB0b1N0cmluZ1RhZ30gPSBTeW1ib2w7XG5cbmNvbnN0IGtpbmRPZiA9IChjYWNoZSA9PiB0aGluZyA9PiB7XG4gICAgY29uc3Qgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGtpbmRPZlRlc3QgPSAodHlwZSkgPT4ge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKHRoaW5nKSA9PiBraW5kT2YodGhpbmcpID09PSB0eXBlXG59XG5cbmNvbnN0IHR5cGVPZlRlc3QgPSB0eXBlID0+IHRoaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gdHlwZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IHtpc0FycmF5fSA9IEFycmF5O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gdHlwZU9mVGVzdCgndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgaXNGdW5jdGlvbih2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIpICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmluZyA9IHR5cGVPZlRlc3QoJ3N0cmluZycpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlT2ZUZXN0KCdmdW5jdGlvbicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzTnVtYmVyID0gdHlwZU9mVGVzdCgnbnVtYmVyJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQm9vbGVhblxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQm9vbGVhbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9IHRoaW5nID0+IHRoaW5nID09PSB0cnVlIHx8IHRoaW5nID09PSBmYWxzZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4ge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKHRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShpdGVyYXRvciBpbiB2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIGVtcHR5IG9iamVjdCAoc2FmZWx5IGhhbmRsZXMgQnVmZmVycylcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIGVtcHR5IG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRW1wdHlPYmplY3QgPSAodmFsKSA9PiB7XG4gIC8vIEVhcmx5IHJldHVybiBmb3Igbm9uLW9iamVjdHMgb3IgQnVmZmVycyB0byBwcmV2ZW50IFJhbmdlRXJyb3JcbiAgaWYgKCFpc09iamVjdCh2YWwpIHx8IGlzQnVmZmVyKHZhbCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEZhbGxiYWNrIGZvciBhbnkgb3RoZXIgb2JqZWN0cyB0aGF0IG1pZ2h0IGNhdXNlIFJhbmdlRXJyb3Igd2l0aCBPYmplY3Qua2V5cygpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0RhdGUgPSBraW5kT2ZUZXN0KCdEYXRlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGUgPSBraW5kT2ZUZXN0KCdGaWxlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jsb2IgPSBraW5kT2ZUZXN0KCdCbG9iJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlTGlzdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlTGlzdCA9IGtpbmRPZlRlc3QoJ0ZpbGVMaXN0Jyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJlYW0gPSAodmFsKSA9PiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Zvcm1EYXRhID0gKHRoaW5nKSA9PiB7XG4gIGxldCBraW5kO1xuICByZXR1cm4gdGhpbmcgJiYgKFxuICAgICh0eXBlb2YgRm9ybURhdGEgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcgaW5zdGFuY2VvZiBGb3JtRGF0YSkgfHwgKFxuICAgICAgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIChcbiAgICAgICAgKGtpbmQgPSBraW5kT2YodGhpbmcpKSA9PT0gJ2Zvcm1kYXRhJyB8fFxuICAgICAgICAvLyBkZXRlY3QgZm9ybS1kYXRhIGluc3RhbmNlXG4gICAgICAgIChraW5kID09PSAnb2JqZWN0JyAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRvU3RyaW5nKSAmJiB0aGluZy50b1N0cmluZygpID09PSAnW29iamVjdCBGb3JtRGF0YV0nKVxuICAgICAgKVxuICAgIClcbiAgKVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuY29uc3QgW2lzUmVhZGFibGVTdHJlYW0sIGlzUmVxdWVzdCwgaXNSZXNwb25zZSwgaXNIZWFkZXJzXSA9IFsnUmVhZGFibGVTdHJlYW0nLCAnUmVxdWVzdCcsICdSZXNwb25zZScsICdIZWFkZXJzJ10ubWFwKGtpbmRPZlRlc3QpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5jb25zdCB0cmltID0gKHN0cikgPT4gc3RyLnRyaW0gP1xuICBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzID0gZmFsc2VdXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIHthbGxPd25LZXlzID0gZmFsc2V9ID0ge30pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaTtcbiAgbGV0IGw7XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEJ1ZmZlciBjaGVja1xuICAgIGlmIChpc0J1ZmZlcihvYmopKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGlmIChpc0J1ZmZlcihvYmopKXtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzLCBza2lwVW5kZWZpbmVkfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIGlmICghc2tpcFVuZGVmaW5lZCB8fCAhaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtpdGVyYXRvcl07XG5cbiAgY29uc3QgX2l0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gX2l0ZXJhdG9yLm5leHQoKSkgJiYgIXJlc3VsdC5kb25lKSB7XG4gICAgY29uc3QgcGFpciA9IHJlc3VsdC52YWx1ZTtcbiAgICBmbi5jYWxsKG9iaiwgcGFpclswXSwgcGFpclsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgYSBzdHJpbmcsIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdFeHAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBzZWFyY2guXG4gKlxuICogQHJldHVybnMge0FycmF5PGJvb2xlYW4+fVxuICovXG5jb25zdCBtYXRjaEFsbCA9IChyZWdFeHAsIHN0cikgPT4ge1xuICBsZXQgbWF0Y2hlcztcbiAgY29uc3QgYXJyID0gW107XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnRXhwLmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICBhcnIucHVzaChtYXRjaGVzKTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBsZXQgcmV0O1xuICAgIGlmICgocmV0ID0gcmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopKSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlZHVjZWREZXNjcmlwdG9yc1tuYW1lXSA9IHJldCB8fCBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufVxuXG4vKipcbiAqIE1ha2VzIGFsbCBtZXRob2RzIHJlYWQtb25seVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICovXG5cbmNvbnN0IGZyZWV6ZU1ldGhvZHMgPSAob2JqKSA9PiB7XG4gIHJlZHVjZURlc2NyaXB0b3JzKG9iaiwgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICAvLyBza2lwIHJlc3RyaWN0ZWQgcHJvcHMgaW4gc3RyaWN0IG1vZGVcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopICYmIFsnYXJndW1lbnRzJywgJ2NhbGxlcicsICdjYWxsZWUnXS5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gb2JqW25hbWVdO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZmFsc2U7XG5cbiAgICBpZiAoJ3dyaXRhYmxlJyBpbiBkZXNjcmlwdG9yKSB7XG4gICAgICBkZXNjcmlwdG9yLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW4gbm90IHJld3JpdGUgcmVhZC1vbmx5IG1ldGhvZCBcXCcnICsgbmFtZSArICdcXCcnKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgdG9PYmplY3RTZXQgPSAoYXJyYXlPclN0cmluZywgZGVsaW1pdGVyKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuXG4gIGNvbnN0IGRlZmluZSA9IChhcnIpID0+IHtcbiAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fVxuXG5jb25zdCB0b0Zpbml0ZU51bWJlciA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSA9ICt2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cblxuXG5cbi8qKlxuICogSWYgdGhlIHRoaW5nIGlzIGEgRm9ybURhdGEgb2JqZWN0LCByZXR1cm4gdHJ1ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHRoaW5nIC0gVGhlIHRoaW5nIHRvIGNoZWNrLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NwZWNDb21wbGlhbnRGb3JtKHRoaW5nKSB7XG4gIHJldHVybiAhISh0aGluZyAmJiBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgdGhpbmdbdG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW2l0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vQnVmZmVyIGNoZWNrXG4gICAgICBpZiAoaXNCdWZmZXIoc291cmNlKSkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICByZXR1cm4gdmlzaXQob2JqLCAwKTtcbn1cblxuY29uc3QgaXNBc3luY0ZuID0ga2luZE9mVGVzdCgnQXN5bmNGdW5jdGlvbicpO1xuXG5jb25zdCBpc1RoZW5hYmxlID0gKHRoaW5nKSA9PlxuICB0aGluZyAmJiAoaXNPYmplY3QodGhpbmcpIHx8IGlzRnVuY3Rpb24odGhpbmcpKSAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRoZW4pICYmIGlzRnVuY3Rpb24odGhpbmcuY2F0Y2gpO1xuXG4vLyBvcmlnaW5hbCBjb2RlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vRGlnaXRhbEJyYWluSlMvQXhpb3NQcm9taXNlL2Jsb2IvMTZkZWFiMTM3MTBlYzA5Nzc5OTIyMTMxZjNmYTU5NTQzMjBmODNhYi9saWIvdXRpbHMuanMjTDExLUwzNFxuXG5jb25zdCBfc2V0SW1tZWRpYXRlID0gKChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQsIHBvc3RNZXNzYWdlU3VwcG9ydGVkKSA9PiB7XG4gIGlmIChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gc2V0SW1tZWRpYXRlO1xuICB9XG5cbiAgcmV0dXJuIHBvc3RNZXNzYWdlU3VwcG9ydGVkID8gKCh0b2tlbiwgY2FsbGJhY2tzKSA9PiB7XG4gICAgX2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoe3NvdXJjZSwgZGF0YX0pID0+IHtcbiAgICAgIGlmIChzb3VyY2UgPT09IF9nbG9iYWwgJiYgZGF0YSA9PT0gdG9rZW4pIHtcbiAgICAgICAgY2FsbGJhY2tzLmxlbmd0aCAmJiBjYWxsYmFja3Muc2hpZnQoKSgpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIHJldHVybiAoY2IpID0+IHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICAgIF9nbG9iYWwucG9zdE1lc3NhZ2UodG9rZW4sIFwiKlwiKTtcbiAgICB9XG4gIH0pKGBheGlvc0Ake01hdGgucmFuZG9tKCl9YCwgW10pIDogKGNiKSA9PiBzZXRUaW1lb3V0KGNiKTtcbn0pKFxuICB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nLFxuICBpc0Z1bmN0aW9uKF9nbG9iYWwucG9zdE1lc3NhZ2UpXG4pO1xuXG5jb25zdCBhc2FwID0gdHlwZW9mIHF1ZXVlTWljcm90YXNrICE9PSAndW5kZWZpbmVkJyA/XG4gIHF1ZXVlTWljcm90YXNrLmJpbmQoX2dsb2JhbCkgOiAoIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5leHRUaWNrIHx8IF9zZXRJbW1lZGlhdGUpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKipcblxuXG5jb25zdCBpc0l0ZXJhYmxlID0gKHRoaW5nKSA9PiB0aGluZyAhPSBudWxsICYmIGlzRnVuY3Rpb24odGhpbmdbaXRlcmF0b3JdKTtcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc0VtcHR5T2JqZWN0LFxuICBpc1JlYWRhYmxlU3RyZWFtLFxuICBpc1JlcXVlc3QsXG4gIGlzUmVzcG9uc2UsXG4gIGlzSGVhZGVycyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGUsXG4gIHNldEltbWVkaWF0ZTogX3NldEltbWVkaWF0ZSxcbiAgYXNhcCxcbiAgaXNJdGVyYWJsZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWddIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIEF4aW9zRXJyb3IobWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBFcnJvci5jYWxsKHRoaXMpO1xuXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5uYW1lID0gJ0F4aW9zRXJyb3InO1xuICBjb2RlICYmICh0aGlzLmNvZGUgPSBjb2RlKTtcbiAgY29uZmlnICYmICh0aGlzLmNvbmZpZyA9IGNvbmZpZyk7XG4gIHJlcXVlc3QgJiYgKHRoaXMucmVxdWVzdCA9IHJlcXVlc3QpO1xuICBpZiAocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXMgPyByZXNwb25zZS5zdGF0dXMgOiBudWxsO1xuICB9XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHV0aWxzLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zRXJyb3IucHJvdG90eXBlO1xuY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcblxuW1xuICAnRVJSX0JBRF9PUFRJT05fVkFMVUUnLFxuICAnRVJSX0JBRF9PUFRJT04nLFxuICAnRUNPTk5BQk9SVEVEJyxcbiAgJ0VUSU1FRE9VVCcsXG4gICdFUlJfTkVUV09SSycsXG4gICdFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTJyxcbiAgJ0VSUl9ERVBSRUNBVEVEJyxcbiAgJ0VSUl9CQURfUkVTUE9OU0UnLFxuICAnRVJSX0JBRF9SRVFVRVNUJyxcbiAgJ0VSUl9DQU5DRUxFRCcsXG4gICdFUlJfTk9UX1NVUFBPUlQnLFxuICAnRVJSX0lOVkFMSURfVVJMJ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbl0uZm9yRWFjaChjb2RlID0+IHtcbiAgZGVzY3JpcHRvcnNbY29kZV0gPSB7dmFsdWU6IGNvZGV9O1xufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IChlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpID0+IHtcbiAgY29uc3QgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgY29uc3QgbXNnID0gZXJyb3IgJiYgZXJyb3IubWVzc2FnZSA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyb3InO1xuXG4gIC8vIFByZWZlciBleHBsaWNpdCBjb2RlOyBvdGhlcndpc2UgY29weSB0aGUgbG93LWxldmVsIGVycm9yJ3MgY29kZSAoZS5nLiBFQ09OTlJFRlVTRUQpXG4gIGNvbnN0IGVyckNvZGUgPSBjb2RlID09IG51bGwgJiYgZXJyb3IgPyBlcnJvci5jb2RlIDogY29kZTtcbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIG1zZywgZXJyQ29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgLy8gQ2hhaW4gdGhlIG9yaWdpbmFsIGVycm9yIG9uIHRoZSBzdGFuZGFyZCBmaWVsZDsgbm9uLWVudW1lcmFibGUgdG8gYXZvaWQgSlNPTiBub2lzZVxuICBpZiAoZXJyb3IgJiYgYXhpb3NFcnJvci5jYXVzZSA9PSBudWxsKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGF4aW9zRXJyb3IsICdjYXVzZScsIHsgdmFsdWU6IGVycm9yLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gIH1cblxuICBheGlvc0Vycm9yLm5hbWUgPSAoZXJyb3IgJiYgZXJyb3IubmFtZSkgfHwgJ0Vycm9yJztcblxuICBjdXN0b21Qcm9wcyAmJiBPYmplY3QuYXNzaWduKGF4aW9zRXJyb3IsIGN1c3RvbVByb3BzKTtcblxuICByZXR1cm4gYXhpb3NFcnJvcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zRXJyb3I7XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbi8vIHRlbXBvcmFyeSBob3RmaXggdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlcyB1bnRpbCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBpcyByZWZhY3RvcmVkXG5pbXBvcnQgUGxhdGZvcm1Gb3JtRGF0YSBmcm9tICcuLi9wbGF0Zm9ybS9ub2RlL2NsYXNzZXMvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzLmlzUGxhaW5PYmplY3QodGhpbmcpIHx8IHV0aWxzLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscy5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkoYXJyKSAmJiAhYXJyLnNvbWUoaXNWaXNpdGFibGUpO1xufVxuXG5jb25zdCBwcmVkaWNhdGVzID0gdXRpbHMudG9GbGF0T2JqZWN0KHV0aWxzLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChQbGF0Zm9ybUZvcm1EYXRhIHx8IEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscy5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIHV0aWxzLmlzU3BlY0NvbXBsaWFudEZvcm0oZm9ybURhdGEpO1xuXG4gIGlmICghdXRpbHMuaXNGdW5jdGlvbih2aXNpdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Zpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscy5pc0FycmF5KHZhbHVlKSAmJiBpc0ZsYXRBcnJheSh2YWx1ZSkpIHx8XG4gICAgICAgICgodXRpbHMuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSkgJiYgKGFyciA9IHV0aWxzLnRvQXJyYXkodmFsdWUpKVxuICAgICAgICApKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSByZW1vdmVCcmFja2V0cyhrZXkpO1xuXG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIGVhY2goZWwsIGluZGV4KSB7XG4gICAgICAgICAgISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGF0aC5qb2luKCcuJykpO1xuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gZWFjaChlbCwga2V5KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzLmlzU3RyaW5nKGtleSkgPyBrZXkudHJpbSgpIDoga2V5LCBwYXRoLCBleHBvc2VkSGVscGVyc1xuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICBidWlsZChlbCwgcGF0aCA/IHBhdGguY29uY2F0KGtleSkgOiBba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RhdGEgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIGJ1aWxkKG9iaik7XG5cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0Zvcm1EYXRhO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gez8ob2JqZWN0fEZ1bmN0aW9uKX0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBpZiAodXRpbHMuaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBzZXJpYWxpemU6IG9wdGlvbnNcbiAgICB9O1xuICB9IFxuXG4gIGNvbnN0IHNlcmlhbGl6ZUZuID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZTtcblxuICBsZXQgc2VyaWFsaXplZFBhcmFtcztcblxuICBpZiAoc2VyaWFsaXplRm4pIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gc2VyaWFsaXplRm4ocGFyYW1zLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gdXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iIDogbnVsbFxuIiwiaW1wb3J0IFVSTFNlYXJjaFBhcmFtcyBmcm9tICcuL2NsYXNzZXMvVVJMU2VhcmNoUGFyYW1zLmpzJ1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJy4vY2xhc3Nlcy9Gb3JtRGF0YS5qcydcbmltcG9ydCBCbG9iIGZyb20gJy4vY2xhc3Nlcy9CbG9iLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQnJvd3NlcjogdHJ1ZSxcbiAgY2xhc3Nlczoge1xuICAgIFVSTFNlYXJjaFBhcmFtcyxcbiAgICBGb3JtRGF0YSxcbiAgICBCbG9iXG4gIH0sXG4gIHByb3RvY29sczogWydodHRwJywgJ2h0dHBzJywgJ2ZpbGUnLCAnYmxvYicsICd1cmwnLCAnZGF0YSddXG59O1xuIiwiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gaGFzQnJvd3NlckVudiAmJlxuICAoIV9uYXZpZ2F0b3IgfHwgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCkgPCAwKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuY29uc3Qgb3JpZ2luID0gaGFzQnJvd3NlckVudiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52LFxuICBfbmF2aWdhdG9yIGFzIG5hdmlnYXRvcixcbiAgb3JpZ2luXG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi9ub2RlL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vY29tbW9uL3V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi51dGlscyxcbiAgLi4ucGxhdGZvcm1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRm9ybURhdGEoZGF0YSwgbmV3IHBsYXRmb3JtLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zKCksIHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIC4uLm9wdGlvbnNcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzLm1hdGNoQWxsKC9cXHcrfFxcWyhcXHcqKV0vZywgbmFtZSkubWFwKG1hdGNoID0+IHtcbiAgICByZXR1cm4gbWF0Y2hbMF0gPT09ICdbXScgPyAnJyA6IG1hdGNoWzFdIHx8IG1hdGNoWzBdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFycmF5IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjb252ZXJ0IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFuZCB2YWx1ZXMgYXMgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFycik7XG4gIGxldCBpO1xuICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgbGV0IGtleTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBvYmpba2V5XSA9IGFycltrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBGb3JtRGF0YSBvYmplY3QgYW5kIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGNvbnZlcnQgdG8gSlNPTi5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgYW55PiB8IG51bGx9IFRoZSBjb252ZXJ0ZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihmb3JtRGF0YSkge1xuICBmdW5jdGlvbiBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldCwgaW5kZXgpIHtcbiAgICBsZXQgbmFtZSA9IHBhdGhbaW5kZXgrK107XG5cbiAgICBpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gTnVtYmVyLmlzRmluaXRlKCtuYW1lKTtcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA+PSBwYXRoLmxlbmd0aDtcbiAgICBuYW1lID0gIW5hbWUgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMuaXNPYmplY3QodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXRbbmFtZV0sIGluZGV4KTtcblxuICAgIGlmIChyZXN1bHQgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMuaXNGdW5jdGlvbihmb3JtRGF0YS5lbnRyaWVzKSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZm9ybURhdGFUb0pTT047XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmICh1dGlscy5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSwgdGhpcy5wYXJzZVJldml2ZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIChtZXRob2QpID0+IHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLy8gUmF3QXhpb3NIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuY29uc3QgaWdub3JlRHVwbGljYXRlT2YgPSB1dGlscy50b09iamVjdFNldChbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXSk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCByYXdIZWFkZXJzID0+IHtcbiAgY29uc3QgcGFyc2VkID0ge307XG4gIGxldCBrZXk7XG4gIGxldCB2YWw7XG4gIGxldCBpO1xuXG4gIHJhd0hlYWRlcnMgJiYgcmF3SGVhZGVycy5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBpKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSBsaW5lLnN1YnN0cmluZyhpICsgMSkudHJpbSgpO1xuXG4gICAgaWYgKCFrZXkgfHwgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mW2tleV0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0pIHtcbiAgICAgICAgcGFyc2VkW2tleV0ucHVzaCh2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBbdmFsXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChoZWFkZXIpICYmIHV0aWxzLmlzSXRlcmFibGUoaGVhZGVyKSkge1xuICAgICAgbGV0IG9iaiA9IHt9LCBkZXN0LCBrZXk7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGhlYWRlcikge1xuICAgICAgICBpZiAoIXV0aWxzLmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdPYmplY3QgaXRlcmF0b3IgbXVzdCByZXR1cm4gYSBrZXktdmFsdWUgcGFpcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqW2tleSA9IGVudHJ5WzBdXSA9IChkZXN0ID0gb2JqW2tleV0pID9cbiAgICAgICAgICAodXRpbHMuaXNBcnJheShkZXN0KSA/IFsuLi5kZXN0LCBlbnRyeVsxXV0gOiBbZGVzdCwgZW50cnlbMV1dKSA6IGVudHJ5WzFdO1xuICAgICAgfVxuXG4gICAgICBzZXRIZWFkZXJzKG9iaiwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0U2V0Q29va2llKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcInNldC1jb29raWVcIikgfHwgW107XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsZWRFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9BeGlvc0Vycm9yLmpzJztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZVByb3RvY29sKHVybCkge1xuICBjb25zdCBtYXRjaCA9IC9eKFstK1xcd117MSwyNX0pKDo/XFwvXFwvfDopLy5leGVjKHVybCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDYWxjdWxhdGUgZGF0YSBtYXhSYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZXNDb3VudD0gMTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW21pbj0gMTAwMF1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3BlZWRvbWV0ZXIoc2FtcGxlc0NvdW50LCBtaW4pIHtcbiAgc2FtcGxlc0NvdW50ID0gc2FtcGxlc0NvdW50IHx8IDEwO1xuICBjb25zdCBieXRlcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGxldCBoZWFkID0gMDtcbiAgbGV0IHRhaWwgPSAwO1xuICBsZXQgZmlyc3RTYW1wbGVUUztcblxuICBtaW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1c2goY2h1bmtMZW5ndGgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3Qgc3RhcnRlZEF0ID0gdGltZXN0YW1wc1t0YWlsXTtcblxuICAgIGlmICghZmlyc3RTYW1wbGVUUykge1xuICAgICAgZmlyc3RTYW1wbGVUUyA9IG5vdztcbiAgICB9XG5cbiAgICBieXRlc1toZWFkXSA9IGNodW5rTGVuZ3RoO1xuICAgIHRpbWVzdGFtcHNbaGVhZF0gPSBub3c7XG5cbiAgICBsZXQgaSA9IHRhaWw7XG4gICAgbGV0IGJ5dGVzQ291bnQgPSAwO1xuXG4gICAgd2hpbGUgKGkgIT09IGhlYWQpIHtcbiAgICAgIGJ5dGVzQ291bnQgKz0gYnl0ZXNbaSsrXTtcbiAgICAgIGkgPSBpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGhlYWQgPSAoaGVhZCArIDEpICUgc2FtcGxlc0NvdW50O1xuXG4gICAgaWYgKGhlYWQgPT09IHRhaWwpIHtcbiAgICAgIHRhaWwgPSAodGFpbCArIDEpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGlmIChub3cgLSBmaXJzdFNhbXBsZVRTIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2VkID0gc3RhcnRlZEF0ICYmIG5vdyAtIHN0YXJ0ZWRBdDtcblxuICAgIHJldHVybiBwYXNzZWQgPyBNYXRoLnJvdW5kKGJ5dGVzQ291bnQgKiAxMDAwIC8gcGFzc2VkKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BlZWRvbWV0ZXI7XG4iLCIvKipcbiAqIFRocm90dGxlIGRlY29yYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBmcmVxXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGZyZXEpIHtcbiAgbGV0IHRpbWVzdGFtcCA9IDA7XG4gIGxldCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgdGltZXI7XG5cbiAgY29uc3QgaW52b2tlID0gKGFyZ3MsIG5vdyA9IERhdGUubm93KCkpID0+IHtcbiAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZm4oLi4uYXJncyk7XG4gIH1cblxuICBjb25zdCB0aHJvdHRsZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcGFzc2VkID0gbm93IC0gdGltZXN0YW1wO1xuICAgIGlmICggcGFzc2VkID49IHRocmVzaG9sZCkge1xuICAgICAgaW52b2tlKGFyZ3MsIG5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RBcmdzID0gYXJncztcbiAgICAgIGlmICghdGltZXIpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgICAgaW52b2tlKGxhc3RBcmdzKVxuICAgICAgICB9LCB0aHJlc2hvbGQgLSBwYXNzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4gbGFzdEFyZ3MgJiYgaW52b2tlKGxhc3RBcmdzKTtcblxuICByZXR1cm4gW3Rocm90dGxlZCwgZmx1c2hdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0aHJvdHRsZTtcbiIsImltcG9ydCBzcGVlZG9tZXRlciBmcm9tIFwiLi9zcGVlZG9tZXRlci5qc1wiO1xuaW1wb3J0IHRocm90dGxlIGZyb20gXCIuL3Rocm90dGxlLmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50UmVkdWNlciA9IChsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSwgZnJlcSA9IDMpID0+IHtcbiAgbGV0IGJ5dGVzTm90aWZpZWQgPSAwO1xuICBjb25zdCBfc3BlZWRvbWV0ZXIgPSBzcGVlZG9tZXRlcig1MCwgMjUwKTtcblxuICByZXR1cm4gdGhyb3R0bGUoZSA9PiB7XG4gICAgY29uc3QgbG9hZGVkID0gZS5sb2FkZWQ7XG4gICAgY29uc3QgdG90YWwgPSBlLmxlbmd0aENvbXB1dGFibGUgPyBlLnRvdGFsIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHByb2dyZXNzQnl0ZXMgPSBsb2FkZWQgLSBieXRlc05vdGlmaWVkO1xuICAgIGNvbnN0IHJhdGUgPSBfc3BlZWRvbWV0ZXIocHJvZ3Jlc3NCeXRlcyk7XG4gICAgY29uc3QgaW5SYW5nZSA9IGxvYWRlZCA8PSB0b3RhbDtcblxuICAgIGJ5dGVzTm90aWZpZWQgPSBsb2FkZWQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbG9hZGVkLFxuICAgICAgdG90YWwsXG4gICAgICBwcm9ncmVzczogdG90YWwgPyAobG9hZGVkIC8gdG90YWwpIDogdW5kZWZpbmVkLFxuICAgICAgYnl0ZXM6IHByb2dyZXNzQnl0ZXMsXG4gICAgICByYXRlOiByYXRlID8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGVzdGltYXRlZDogcmF0ZSAmJiB0b3RhbCAmJiBpblJhbmdlID8gKHRvdGFsIC0gbG9hZGVkKSAvIHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBldmVudDogZSxcbiAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRvdGFsICE9IG51bGwsXG4gICAgICBbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ106IHRydWVcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH0sIGZyZXEpO1xufVxuXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NFdmVudERlY29yYXRvciA9ICh0b3RhbCwgdGhyb3R0bGVkKSA9PiB7XG4gIGNvbnN0IGxlbmd0aENvbXB1dGFibGUgPSB0b3RhbCAhPSBudWxsO1xuXG4gIHJldHVybiBbKGxvYWRlZCkgPT4gdGhyb3R0bGVkWzBdKHtcbiAgICBsZW5ndGhDb21wdXRhYmxlLFxuICAgIHRvdGFsLFxuICAgIGxvYWRlZFxuICB9KSwgdGhyb3R0bGVkWzFdXTtcbn1cblxuZXhwb3J0IGNvbnN0IGFzeW5jRGVjb3JhdG9yID0gKGZuKSA9PiAoLi4uYXJncykgPT4gdXRpbHMuYXNhcCgoKSA9PiBmbiguLi5hcmdzKSk7XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgPyAoKG9yaWdpbiwgaXNNU0lFKSA9PiAodXJsKSA9PiB7XG4gIHVybCA9IG5ldyBVUkwodXJsLCBwbGF0Zm9ybS5vcmlnaW4pO1xuXG4gIHJldHVybiAoXG4gICAgb3JpZ2luLnByb3RvY29sID09PSB1cmwucHJvdG9jb2wgJiZcbiAgICBvcmlnaW4uaG9zdCA9PT0gdXJsLmhvc3QgJiZcbiAgICAoaXNNU0lFIHx8IG9yaWdpbi5wb3J0ID09PSB1cmwucG9ydClcbiAgKTtcbn0pKFxuICBuZXcgVVJMKHBsYXRmb3JtLm9yaWdpbiksXG4gIHBsYXRmb3JtLm5hdmlnYXRvciAmJiAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KHBsYXRmb3JtLm5hdmlnYXRvci51c2VyQWdlbnQpXG4pIDogKCkgPT4gdHJ1ZTtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUsIHNhbWVTaXRlKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgICBjb25zdCBjb29raWUgPSBbYCR7bmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWBdO1xuXG4gICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgY29va2llLnB1c2goYGV4cGlyZXM9JHtuZXcgRGF0ZShleHBpcmVzKS50b1VUQ1N0cmluZygpfWApO1xuICAgICAgfVxuICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgIGNvb2tpZS5wdXNoKGBwYXRoPSR7cGF0aH1gKTtcbiAgICAgIH1cbiAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgIGNvb2tpZS5wdXNoKGBkb21haW49JHtkb21haW59YCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgIH1cbiAgICAgIGlmICh1dGlscy5pc1N0cmluZyhzYW1lU2l0ZSkpIHtcbiAgICAgICAgY29va2llLnB1c2goYFNhbWVTaXRlPSR7c2FtZVNpdGV9YCk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyg/Ol58OyApJyArIG5hbWUgKyAnPShbXjtdKiknKSk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pIDogbnVsbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKG5hbWUpIHtcbiAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCwgJy8nKTtcbiAgICB9XG4gIH1cblxuICA6XG5cbiAgLy8gTm9uLXN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICB7XG4gICAgd3JpdGUoKSB7fSxcbiAgICByZWFkKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByZW1vdmUoKSB7fVxuICB9O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLz9cXC8kLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0Fic29sdXRlVVJMIGZyb20gJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyc7XG5pbXBvcnQgY29tYmluZVVSTHMgZnJvbSAnLi4vaGVscGVycy9jb21iaW5lVVJMcy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCwgYWxsb3dBYnNvbHV0ZVVybHMpIHtcbiAgbGV0IGlzUmVsYXRpdmVVcmwgPSAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpO1xuICBpZiAoYmFzZVVSTCAmJiAoaXNSZWxhdGl2ZVVybCB8fCBhbGxvd0Fic29sdXRlVXJscyA9PSBmYWxzZSkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9BeGlvc0hlYWRlcnMuanNcIjtcblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyA/IHsgLi4udGhpbmcgfSA6IHRoaW5nO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICBjb25zdCBjb25maWcgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRNZXJnZWRWYWx1ZSh0YXJnZXQsIHNvdXJjZSwgcHJvcCwgY2FzZWxlc3MpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlLmNhbGwoe2Nhc2VsZXNzfSwgdGFyZ2V0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKGEsIGIsIHByb3AsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIHByb3AsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSwgcHJvcCwgY2FzZWxlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoYSwgYiwgcHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWVyZ2VNYXAgPSB7XG4gICAgdXJsOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIG1ldGhvZDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBkYXRhOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGJhc2VVUkw6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBwYXJhbXNTZXJpYWxpemVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dE1lc3NhZ2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aENyZWRlbnRpYWxzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhYU1JGVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYWRhcHRlcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZVR5cGU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkNvb2tpZU5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkhlYWRlck5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25VcGxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgZGVjb21wcmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhDb250ZW50TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heEJvZHlMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYmVmb3JlUmVkaXJlY3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNwb3J0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwc0FnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGNhbmNlbFRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHNvY2tldFBhdGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VFbmNvZGluZzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB2YWxpZGF0ZVN0YXR1czogbWVyZ2VEaXJlY3RLZXlzLFxuICAgIGhlYWRlcnM6IChhLCBiLCBwcm9wKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLCBwcm9wLCB0cnVlKVxuICB9O1xuXG4gIHV0aWxzLmZvckVhY2goT2JqZWN0LmtleXMoey4uLmNvbmZpZzEsIC4uLmNvbmZpZzJ9KSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgaXNVUkxTYW1lT3JpZ2luIGZyb20gXCIuL2lzVVJMU2FtZU9yaWdpbi5qc1wiO1xuaW1wb3J0IGNvb2tpZXMgZnJvbSBcIi4vY29va2llcy5qc1wiO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSBcIi4uL2NvcmUvYnVpbGRGdWxsUGF0aC5qc1wiO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gXCIuLi9jb3JlL21lcmdlQ29uZmlnLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gXCIuL2J1aWxkVVJMLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChjb25maWcpID0+IHtcbiAgY29uc3QgbmV3Q29uZmlnID0gbWVyZ2VDb25maWcoe30sIGNvbmZpZyk7XG5cbiAgbGV0IHsgZGF0YSwgd2l0aFhTUkZUb2tlbiwgeHNyZkhlYWRlck5hbWUsIHhzcmZDb29raWVOYW1lLCBoZWFkZXJzLCBhdXRoIH0gPSBuZXdDb25maWc7XG5cbiAgbmV3Q29uZmlnLmhlYWRlcnMgPSBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oaGVhZGVycyk7XG5cbiAgbmV3Q29uZmlnLnVybCA9IGJ1aWxkVVJMKGJ1aWxkRnVsbFBhdGgobmV3Q29uZmlnLmJhc2VVUkwsIG5ld0NvbmZpZy51cmwsIG5ld0NvbmZpZy5hbGxvd0Fic29sdXRlVXJscyksIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChhdXRoKSB7XG4gICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArXG4gICAgICBidG9hKChhdXRoLnVzZXJuYW1lIHx8ICcnKSArICc6JyArIChhdXRoLnBhc3N3b3JkID8gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgucGFzc3dvcmQpKSA6ICcnKSlcbiAgICApO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkpIHtcbiAgICBpZiAocGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52IHx8IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudikge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSh1bmRlZmluZWQpOyAvLyBicm93c2VyIGhhbmRsZXMgaXRcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZGF0YS5nZXRIZWFkZXJzKSkge1xuICAgICAgLy8gTm9kZS5qcyBGb3JtRGF0YSAobGlrZSBmb3JtLWRhdGEgcGFja2FnZSlcbiAgICAgIGNvbnN0IGZvcm1IZWFkZXJzID0gZGF0YS5nZXRIZWFkZXJzKCk7XG4gICAgICAvLyBPbmx5IHNldCBzYWZlIGhlYWRlcnMgdG8gYXZvaWQgb3ZlcndyaXRpbmcgc2VjdXJpdHkgaGVhZGVyc1xuICAgICAgY29uc3QgYWxsb3dlZEhlYWRlcnMgPSBbJ2NvbnRlbnQtdHlwZScsICdjb250ZW50LWxlbmd0aCddO1xuICAgICAgT2JqZWN0LmVudHJpZXMoZm9ybUhlYWRlcnMpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICAgICAgaWYgKGFsbG93ZWRIZWFkZXJzLmluY2x1ZGVzKGtleS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgIGhlYWRlcnMuc2V0KGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9ICBcblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4obmV3Q29uZmlnKSk7XG5cbiAgICBpZiAod2l0aFhTUkZUb2tlbiB8fCAod2l0aFhTUkZUb2tlbiAhPT0gZmFsc2UgJiYgaXNVUkxTYW1lT3JpZ2luKG5ld0NvbmZpZy51cmwpKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICBjb25zdCB4c3JmVmFsdWUgPSB4c3JmSGVhZGVyTmFtZSAmJiB4c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoeHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KHhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdDb25maWc7XG59XG5cbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBzZXR0bGUgZnJvbSAnLi8uLi9jb3JlL3NldHRsZS5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgcGFyc2VQcm90b2NvbCBmcm9tICcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IHtwcm9ncmVzc0V2ZW50UmVkdWNlcn0gZnJvbSAnLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qcyc7XG5pbXBvcnQgcmVzb2x2ZUNvbmZpZyBmcm9tIFwiLi4vaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzXCI7XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCAmJiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgX2NvbmZpZyA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcbiAgICBsZXQgcmVxdWVzdERhdGEgPSBfY29uZmlnLmRhdGE7XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShfY29uZmlnLmhlYWRlcnMpLm5vcm1hbGl6ZSgpO1xuICAgIGxldCB7cmVzcG9uc2VUeXBlLCBvblVwbG9hZFByb2dyZXNzLCBvbkRvd25sb2FkUHJvZ3Jlc3N9ID0gX2NvbmZpZztcbiAgICBsZXQgb25DYW5jZWxlZDtcbiAgICBsZXQgdXBsb2FkVGhyb3R0bGVkLCBkb3dubG9hZFRocm90dGxlZDtcbiAgICBsZXQgZmx1c2hVcGxvYWQsIGZsdXNoRG93bmxvYWQ7XG5cbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgZmx1c2hVcGxvYWQgJiYgZmx1c2hVcGxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG4gICAgICBmbHVzaERvd25sb2FkICYmIGZsdXNoRG93bmxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcblxuICAgICAgX2NvbmZpZy5zaWduYWwgJiYgX2NvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKF9jb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIF9jb25maWcudXJsLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gX2NvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcihldmVudCkge1xuICAgICAgIC8vIEJyb3dzZXJzIGRlbGl2ZXIgYSBQcm9ncmVzc0V2ZW50IGluIFhIUiBvbmVycm9yXG4gICAgICAgLy8gKG1lc3NhZ2UgbWF5IGJlIGVtcHR5OyB3aGVuIHByZXNlbnQsIHN1cmZhY2UgaXQpXG4gICAgICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9lcnJvcl9ldmVudFxuICAgICAgIGNvbnN0IG1zZyA9IGV2ZW50ICYmIGV2ZW50Lm1lc3NhZ2UgPyBldmVudC5tZXNzYWdlIDogJ05ldHdvcmsgRXJyb3InO1xuICAgICAgIGNvbnN0IGVyciA9IG5ldyBBeGlvc0Vycm9yKG1zZywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgICAvLyBhdHRhY2ggdGhlIHVuZGVybHlpbmcgZXZlbnQgZm9yIGNvbnN1bWVycyB3aG8gd2FudCBkZXRhaWxzXG4gICAgICAgZXJyLmV2ZW50ID0gZXZlbnQgfHwgbnVsbDtcbiAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgbGV0IHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgX2NvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IF9jb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoX2NvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhX2NvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChyZXNwb25zZVR5cGUgJiYgcmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gX2NvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmIChvbkRvd25sb2FkUHJvZ3Jlc3MpIHtcbiAgICAgIChbZG93bmxvYWRUaHJvdHRsZWQsIGZsdXNoRG93bmxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZG93bmxvYWRUaHJvdHRsZWQpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKG9uVXBsb2FkUHJvZ3Jlc3MgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIChbdXBsb2FkVGhyb3R0bGVkLCBmbHVzaFVwbG9hZF0gPSBwcm9ncmVzc0V2ZW50UmVkdWNlcihvblVwbG9hZFByb2dyZXNzKSk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdXBsb2FkVGhyb3R0bGVkKTtcblxuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZsdXNoVXBsb2FkKTtcbiAgICB9XG5cbiAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbiB8fCBfY29uZmlnLnNpZ25hbCkge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIG9uQ2FuY2VsZWQgPSBjYW5jZWwgPT4ge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgY2FuY2VsLnR5cGUgPyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcsIHJlcXVlc3QpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IF9jb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKF9jb25maWcudXJsKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tIFwiLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgY29uc3Qge2xlbmd0aH0gPSAoc2lnbmFscyA9IHNpZ25hbHMgPyBzaWduYWxzLmZpbHRlcihCb29sZWFuKSA6IFtdKTtcblxuICBpZiAodGltZW91dCB8fCBsZW5ndGgpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGxldCBhYm9ydGVkO1xuXG4gICAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmICghYWJvcnRlZCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24gOiB0aGlzLnJlYXNvbjtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yID8gZXJyIDogbmV3IENhbmNlbGVkRXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aW1lciA9IHRpbWVvdXQgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBvbmFib3J0KG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yLkVUSU1FRE9VVCkpXG4gICAgfSwgdGltZW91dClcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgaWYgKHNpZ25hbHMpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICBzaWduYWxzLmZvckVhY2goc2lnbmFsID0+IHtcbiAgICAgICAgICBzaWduYWwudW5zdWJzY3JpYmUgPyBzaWduYWwudW5zdWJzY3JpYmUob25hYm9ydCkgOiBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsKSA9PiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgICBzaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB1dGlscy5hc2FwKHVuc3Vic2NyaWJlKTtcblxuICAgIHJldHVybiBzaWduYWw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZVNpZ25hbHM7XG4iLCJcbmV4cG9ydCBjb25zdCBzdHJlYW1DaHVuayA9IGZ1bmN0aW9uKiAoY2h1bmssIGNodW5rU2l6ZSkge1xuICBsZXQgbGVuID0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICBpZiAoIWNodW5rU2l6ZSB8fCBsZW4gPCBjaHVua1NpemUpIHtcbiAgICB5aWVsZCBjaHVuaztcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcG9zID0gMDtcbiAgbGV0IGVuZDtcblxuICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgZW5kID0gcG9zICsgY2h1bmtTaXplO1xuICAgIHlpZWxkIGNodW5rLnNsaWNlKHBvcywgZW5kKTtcbiAgICBwb3MgPSBlbmQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlYWRCeXRlcyA9IGFzeW5jIGZ1bmN0aW9uKiAoaXRlcmFibGUsIGNodW5rU2l6ZSkge1xuICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJlYWRTdHJlYW0oaXRlcmFibGUpKSB7XG4gICAgeWllbGQqIHN0cmVhbUNodW5rKGNodW5rLCBjaHVua1NpemUpO1xuICB9XG59XG5cbmNvbnN0IHJlYWRTdHJlYW0gPSBhc3luYyBmdW5jdGlvbiogKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgIHlpZWxkKiBzdHJlYW07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIGZvciAoOzspIHtcbiAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB5aWVsZCB2YWx1ZTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgcmVhZGVyLmNhbmNlbCgpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFja1N0cmVhbSA9IChzdHJlYW0sIGNodW5rU2l6ZSwgb25Qcm9ncmVzcywgb25GaW5pc2gpID0+IHtcbiAgY29uc3QgaXRlcmF0b3IgPSByZWFkQnl0ZXMoc3RyZWFtLCBjaHVua1NpemUpO1xuXG4gIGxldCBieXRlcyA9IDA7XG4gIGxldCBkb25lO1xuICBsZXQgX29uRmluaXNoID0gKGUpID0+IHtcbiAgICBpZiAoIWRvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgb25GaW5pc2ggJiYgb25GaW5pc2goZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuXG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICBfb25GaW5pc2goKTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbiA9IHZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgICAgbGV0IGxvYWRlZEJ5dGVzID0gYnl0ZXMgKz0gbGVuO1xuICAgICAgICAgIG9uUHJvZ3Jlc3MobG9hZGVkQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShuZXcgVWludDhBcnJheSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9vbkZpbmlzaChlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICBfb25GaW5pc2gocmVhc29uKTtcbiAgICAgIHJldHVybiBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBoaWdoV2F0ZXJNYXJrOiAyXG4gIH0pXG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5pbXBvcnQgY29tcG9zZVNpZ25hbHMgZnJvbSBcIi4uL2hlbHBlcnMvY29tcG9zZVNpZ25hbHMuanNcIjtcbmltcG9ydCB7dHJhY2tTdHJlYW19IGZyb20gXCIuLi9oZWxwZXJzL3RyYWNrU3RyZWFtLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IHtwcm9ncmVzc0V2ZW50UmVkdWNlciwgcHJvZ3Jlc3NFdmVudERlY29yYXRvciwgYXN5bmNEZWNvcmF0b3J9IGZyb20gXCIuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzXCI7XG5pbXBvcnQgcmVzb2x2ZUNvbmZpZyBmcm9tIFwiLi4vaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzXCI7XG5pbXBvcnQgc2V0dGxlIGZyb20gXCIuLi9jb3JlL3NldHRsZS5qc1wiO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHtpc0Z1bmN0aW9ufSA9IHV0aWxzO1xuXG5jb25zdCBnbG9iYWxGZXRjaEFQSSA9ICgoe1JlcXVlc3QsIFJlc3BvbnNlfSkgPT4gKHtcbiAgUmVxdWVzdCwgUmVzcG9uc2Vcbn0pKSh1dGlscy5nbG9iYWwpO1xuXG5jb25zdCB7XG4gIFJlYWRhYmxlU3RyZWFtLCBUZXh0RW5jb2RlclxufSA9IHV0aWxzLmdsb2JhbDtcblxuXG5jb25zdCB0ZXN0ID0gKGZuLCAuLi5hcmdzKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZm4oLi4uYXJncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5jb25zdCBmYWN0b3J5ID0gKGVudikgPT4ge1xuICBlbnYgPSB1dGlscy5tZXJnZS5jYWxsKHtcbiAgICBza2lwVW5kZWZpbmVkOiB0cnVlXG4gIH0sIGdsb2JhbEZldGNoQVBJLCBlbnYpO1xuXG4gIGNvbnN0IHtmZXRjaDogZW52RmV0Y2gsIFJlcXVlc3QsIFJlc3BvbnNlfSA9IGVudjtcbiAgY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IGVudkZldGNoID8gaXNGdW5jdGlvbihlbnZGZXRjaCkgOiB0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbic7XG4gIGNvbnN0IGlzUmVxdWVzdFN1cHBvcnRlZCA9IGlzRnVuY3Rpb24oUmVxdWVzdCk7XG4gIGNvbnN0IGlzUmVzcG9uc2VTdXBwb3J0ZWQgPSBpc0Z1bmN0aW9uKFJlc3BvbnNlKTtcblxuICBpZiAoIWlzRmV0Y2hTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiBpc0Z1bmN0aW9uKFJlYWRhYmxlU3RyZWFtKTtcblxuICBjb25zdCBlbmNvZGVUZXh0ID0gaXNGZXRjaFN1cHBvcnRlZCAmJiAodHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nID9cbiAgICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICAgIGFzeW5jIChzdHIpID0+IG5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBSZXF1ZXN0KHN0cikuYXJyYXlCdWZmZXIoKSlcbiAgKTtcblxuICBjb25zdCBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gPSBpc1JlcXVlc3RTdXBwb3J0ZWQgJiYgaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgICBsZXQgZHVwbGV4QWNjZXNzZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGhhc0NvbnRlbnRUeXBlID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZ2V0IGR1cGxleCgpIHtcbiAgICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJ2hhbGYnO1xuICAgICAgfSxcbiAgICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgICByZXR1cm4gZHVwbGV4QWNjZXNzZWQgJiYgIWhhc0NvbnRlbnRUeXBlO1xuICB9KTtcblxuICBjb25zdCBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtID0gaXNSZXNwb25zZVN1cHBvcnRlZCAmJiBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gICAgdGVzdCgoKSA9PiB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKG5ldyBSZXNwb25zZSgnJykuYm9keSkpO1xuXG4gIGNvbnN0IHJlc29sdmVycyA9IHtcbiAgICBzdHJlYW06IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKChyZXMpID0+IHJlcy5ib2R5KVxuICB9O1xuXG4gIGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKCgoKSA9PiB7XG4gICAgWyd0ZXh0JywgJ2FycmF5QnVmZmVyJywgJ2Jsb2InLCAnZm9ybURhdGEnLCAnc3RyZWFtJ10uZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IChyZXMsIGNvbmZpZykgPT4ge1xuICAgICAgICBsZXQgbWV0aG9kID0gcmVzICYmIHJlc1t0eXBlXTtcblxuICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihgUmVzcG9uc2UgdHlwZSAnJHt0eXBlfScgaXMgbm90IHN1cHBvcnRlZGAsIEF4aW9zRXJyb3IuRVJSX05PVF9TVVBQT1JULCBjb25maWcpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSkoKSk7XG5cbiAgY29uc3QgZ2V0Qm9keUxlbmd0aCA9IGFzeW5jIChib2R5KSA9PiB7XG4gICAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQmxvYihib2R5KSkge1xuICAgICAgcmV0dXJuIGJvZHkuc2l6ZTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgICAgY29uc3QgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoYXdhaXQgX3JlcXVlc3QuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkpIHtcbiAgICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzU3RyaW5nKGJvZHkpKSB7XG4gICAgICByZXR1cm4gKGF3YWl0IGVuY29kZVRleHQoYm9keSkpLmJ5dGVMZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVzb2x2ZUJvZHlMZW5ndGggPSBhc3luYyAoaGVhZGVycywgYm9keSkgPT4ge1xuICAgIGNvbnN0IGxlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICAgIHJldHVybiBsZW5ndGggPT0gbnVsbCA/IGdldEJvZHlMZW5ndGgoYm9keSkgOiBsZW5ndGg7XG4gIH1cblxuICByZXR1cm4gYXN5bmMgKGNvbmZpZykgPT4ge1xuICAgIGxldCB7XG4gICAgICB1cmwsXG4gICAgICBtZXRob2QsXG4gICAgICBkYXRhLFxuICAgICAgc2lnbmFsLFxuICAgICAgY2FuY2VsVG9rZW4sXG4gICAgICB0aW1lb3V0LFxuICAgICAgb25Eb3dubG9hZFByb2dyZXNzLFxuICAgICAgb25VcGxvYWRQcm9ncmVzcyxcbiAgICAgIHJlc3BvbnNlVHlwZSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHMgPSAnc2FtZS1vcmlnaW4nLFxuICAgICAgZmV0Y2hPcHRpb25zXG4gICAgfSA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcblxuICAgIGxldCBfZmV0Y2ggPSBlbnZGZXRjaCB8fCBmZXRjaDtcblxuICAgIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSA/IChyZXNwb25zZVR5cGUgKyAnJykudG9Mb3dlckNhc2UoKSA6ICd0ZXh0JztcblxuICAgIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gICAgbGV0IHJlcXVlc3QgPSBudWxsO1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBjb21wb3NlZFNpZ25hbCAmJiBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSAmJiAoKCkgPT4ge1xuICAgICAgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUoKTtcbiAgICB9KTtcblxuICAgIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoXG4gICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgICAgKHJlcXVlc3RDb250ZW50TGVuZ3RoID0gYXdhaXQgcmVzb2x2ZUJvZHlMZW5ndGgoaGVhZGVycywgZGF0YSkpICE9PSAwXG4gICAgICApIHtcbiAgICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBjb250ZW50VHlwZUhlYWRlcjtcblxuICAgICAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZShjb250ZW50VHlwZUhlYWRlcilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgICAgICByZXF1ZXN0Q29udGVudExlbmd0aCxcbiAgICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBkYXRhID0gdHJhY2tTdHJlYW0oX3JlcXVlc3QuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCBmbHVzaCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1dGlscy5pc1N0cmluZyh3aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdvbWl0JztcbiAgICAgIH1cblxuICAgICAgLy8gQ2xvdWRmbGFyZSBXb3JrZXJzIHRocm93cyB3aGVuIGNyZWRlbnRpYWxzIGFyZSBkZWZpbmVkXG4gICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvd29ya2VyZC9pc3N1ZXMvOTAyXG4gICAgICBjb25zdCBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID0gaXNSZXF1ZXN0U3VwcG9ydGVkICYmIFwiY3JlZGVudGlhbHNcIiBpbiBSZXF1ZXN0LnByb3RvdHlwZTtcblxuICAgICAgY29uc3QgcmVzb2x2ZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICAgIHNpZ25hbDogY29tcG9zZWRTaWduYWwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgIGR1cGxleDogXCJoYWxmXCIsXG4gICAgICAgIGNyZWRlbnRpYWxzOiBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID8gd2l0aENyZWRlbnRpYWxzIDogdW5kZWZpbmVkXG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0ID0gaXNSZXF1ZXN0U3VwcG9ydGVkICYmIG5ldyBSZXF1ZXN0KHVybCwgcmVzb2x2ZWRPcHRpb25zKTtcblxuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgKGlzUmVxdWVzdFN1cHBvcnRlZCA/IF9mZXRjaChyZXF1ZXN0LCBmZXRjaE9wdGlvbnMpIDogX2ZldGNoKHVybCwgcmVzb2x2ZWRPcHRpb25zKSk7XG5cbiAgICAgIGNvbnN0IGlzU3RyZWFtUmVzcG9uc2UgPSBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChyZXNwb25zZVR5cGUgPT09ICdzdHJlYW0nIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3Jlc3BvbnNlJyk7XG5cbiAgICAgIGlmIChzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChvbkRvd25sb2FkUHJvZ3Jlc3MgfHwgKGlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUpKSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge307XG5cbiAgICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgICBvcHRpb25zW3Byb3BdID0gcmVzcG9uc2VbcHJvcF07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgICBjb25zdCBbb25Qcm9ncmVzcywgZmx1c2hdID0gb25Eb3dubG9hZFByb2dyZXNzICYmIHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgICAgcmVzcG9uc2VDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICAgICkgfHwgW107XG5cbiAgICAgICAgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgICBmbHVzaCAmJiBmbHVzaCgpO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSB8fCAndGV4dCc7XG5cbiAgICAgIGxldCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNvbHZlcnNbdXRpbHMuZmluZEtleShyZXNvbHZlcnMsIHJlc3BvbnNlVHlwZSkgfHwgJ3RleHQnXShyZXNwb25zZSwgY29uZmlnKTtcblxuICAgICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwge1xuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICBoZWFkZXJzOiBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKSxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICByZXF1ZXN0XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgICAgaWYgKGVyciAmJiBlcnIubmFtZSA9PT0gJ1R5cGVFcnJvcicgJiYgL0xvYWQgZmFpbGVkfGZldGNoL2kudGVzdChlcnIubWVzc2FnZSkpIHtcbiAgICAgICAgdGhyb3cgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2F1c2U6IGVyci5jYXVzZSB8fCBlcnJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBzZWVkQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbmV4cG9ydCBjb25zdCBnZXRGZXRjaCA9IChjb25maWcpID0+IHtcbiAgbGV0IGVudiA9IChjb25maWcgJiYgY29uZmlnLmVudikgfHwge307XG4gIGNvbnN0IHtmZXRjaCwgUmVxdWVzdCwgUmVzcG9uc2V9ID0gZW52O1xuICBjb25zdCBzZWVkcyA9IFtcbiAgICBSZXF1ZXN0LCBSZXNwb25zZSwgZmV0Y2hcbiAgXTtcblxuICBsZXQgbGVuID0gc2VlZHMubGVuZ3RoLCBpID0gbGVuLFxuICAgIHNlZWQsIHRhcmdldCwgbWFwID0gc2VlZENhY2hlO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBzZWVkID0gc2VlZHNbaV07XG4gICAgdGFyZ2V0ID0gbWFwLmdldChzZWVkKTtcblxuICAgIHRhcmdldCA9PT0gdW5kZWZpbmVkICYmIG1hcC5zZXQoc2VlZCwgdGFyZ2V0ID0gKGkgPyBuZXcgTWFwKCkgOiBmYWN0b3J5KGVudikpKVxuXG4gICAgbWFwID0gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmNvbnN0IGFkYXB0ZXIgPSBnZXRGZXRjaCgpO1xuXG5leHBvcnQgZGVmYXVsdCBhZGFwdGVyO1xuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBodHRwQWRhcHRlciBmcm9tICcuL2h0dHAuanMnO1xuaW1wb3J0IHhockFkYXB0ZXIgZnJvbSAnLi94aHIuanMnO1xuaW1wb3J0ICogYXMgZmV0Y2hBZGFwdGVyIGZyb20gJy4vZmV0Y2guanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuXG4vKipcbiAqIEtub3duIGFkYXB0ZXJzIG1hcHBpbmcuXG4gKiBQcm92aWRlcyBlbnZpcm9ubWVudC1zcGVjaWZpYyBhZGFwdGVycyBmb3IgQXhpb3M6XG4gKiAtIGBodHRwYCBmb3IgTm9kZS5qc1xuICogLSBgeGhyYCBmb3IgYnJvd3NlcnNcbiAqIC0gYGZldGNoYCBmb3IgZmV0Y2ggQVBJLWJhc2VkIHJlcXVlc3RzXG4gKiBcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBGdW5jdGlvbnxPYmplY3Q+fVxuICovXG5jb25zdCBrbm93bkFkYXB0ZXJzID0ge1xuICBodHRwOiBodHRwQWRhcHRlcixcbiAgeGhyOiB4aHJBZGFwdGVyLFxuICBmZXRjaDoge1xuICAgIGdldDogZmV0Y2hBZGFwdGVyLmdldEZldGNoLFxuICB9XG59O1xuXG4vLyBBc3NpZ24gYWRhcHRlciBuYW1lcyBmb3IgZWFzaWVyIGRlYnVnZ2luZyBhbmQgaWRlbnRpZmljYXRpb25cbnV0aWxzLmZvckVhY2goa25vd25BZGFwdGVycywgKGZuLCB2YWx1ZSkgPT4ge1xuICBpZiAoZm4pIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHsgdmFsdWUgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywgeyB2YWx1ZSB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogUmVuZGVyIGEgcmVqZWN0aW9uIHJlYXNvbiBzdHJpbmcgZm9yIHVua25vd24gb3IgdW5zdXBwb3J0ZWQgYWRhcHRlcnNcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuY29uc3QgcmVuZGVyUmVhc29uID0gKHJlYXNvbikgPT4gYC0gJHtyZWFzb259YDtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgYWRhcHRlciBpcyByZXNvbHZlZCAoZnVuY3Rpb24sIG51bGwsIG9yIGZhbHNlKVxuICogXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufG51bGx8ZmFsc2V9IGFkYXB0ZXJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuLyoqXG4gKiBHZXQgdGhlIGZpcnN0IHN1aXRhYmxlIGFkYXB0ZXIgZnJvbSB0aGUgcHJvdmlkZWQgbGlzdC5cbiAqIFRyaWVzIGVhY2ggYWRhcHRlciBpbiBvcmRlciB1bnRpbCBhIHN1cHBvcnRlZCBvbmUgaXMgZm91bmQuXG4gKiBUaHJvd3MgYW4gQXhpb3NFcnJvciBpZiBubyBhZGFwdGVyIGlzIHN1aXRhYmxlLlxuICogXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xGdW5jdGlvbj58c3RyaW5nfEZ1bmN0aW9ufSBhZGFwdGVycyAtIEFkYXB0ZXIocykgYnkgbmFtZSBvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBBeGlvcyByZXF1ZXN0IGNvbmZpZ3VyYXRpb25cbiAqIEB0aHJvd3Mge0F4aW9zRXJyb3J9IElmIG5vIHN1aXRhYmxlIGFkYXB0ZXIgaXMgYXZhaWxhYmxlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFRoZSByZXNvbHZlZCBhZGFwdGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldEFkYXB0ZXIoYWRhcHRlcnMsIGNvbmZpZykge1xuICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gIGNvbnN0IHsgbGVuZ3RoIH0gPSBhZGFwdGVycztcbiAgbGV0IG5hbWVPckFkYXB0ZXI7XG4gIGxldCBhZGFwdGVyO1xuXG4gIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBuYW1lT3JBZGFwdGVyID0gYWRhcHRlcnNbaV07XG4gICAgbGV0IGlkO1xuXG4gICAgYWRhcHRlciA9IG5hbWVPckFkYXB0ZXI7XG5cbiAgICBpZiAoIWlzUmVzb2x2ZWRIYW5kbGUobmFtZU9yQWRhcHRlcikpIHtcbiAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgIGlmIChhZGFwdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFVua25vd24gYWRhcHRlciAnJHtpZH0nYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFkYXB0ZXIgJiYgKHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgKGFkYXB0ZXIgPSBhZGFwdGVyLmdldChjb25maWcpKSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJlamVjdGVkUmVhc29uc1tpZCB8fCAnIycgKyBpXSA9IGFkYXB0ZXI7XG4gIH1cblxuICBpZiAoIWFkYXB0ZXIpIHtcbiAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgLm1hcCgoW2lkLCBzdGF0ZV0pID0+IGBhZGFwdGVyICR7aWR9IGAgK1xuICAgICAgICAoc3RhdGUgPT09IGZhbHNlID8gJ2lzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50JyA6ICdpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZCcpXG4gICAgICApO1xuXG4gICAgbGV0IHMgPSBsZW5ndGggP1xuICAgICAgKHJlYXNvbnMubGVuZ3RoID4gMSA/ICdzaW5jZSA6XFxuJyArIHJlYXNvbnMubWFwKHJlbmRlclJlYXNvbikuam9pbignXFxuJykgOiAnICcgKyByZW5kZXJSZWFzb24ocmVhc29uc1swXSkpIDpcbiAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgIGBUaGVyZSBpcyBubyBzdWl0YWJsZSBhZGFwdGVyIHRvIGRpc3BhdGNoIHRoZSByZXF1ZXN0IGAgKyBzLFxuICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbi8qKlxuICogRXhwb3J0cyBBeGlvcyBhZGFwdGVycyBhbmQgdXRpbGl0eSB0byByZXNvbHZlIGFuIGFkYXB0ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogUmVzb2x2ZSBhbiBhZGFwdGVyIGZyb20gYSBsaXN0IG9mIGFkYXB0ZXIgbmFtZXMgb3IgZnVuY3Rpb25zLlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICBnZXRBZGFwdGVyLFxuXG4gIC8qKlxuICAgKiBFeHBvc2VzIGFsbCBrbm93biBhZGFwdGVyc1xuICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgRnVuY3Rpb258T2JqZWN0Pn1cbiAgICovXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHJhbnNmb3JtRGF0YSBmcm9tICcuL3RyYW5zZm9ybURhdGEuanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4uL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4uL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzXCI7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXIsIGNvbmZpZyk7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICByZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVhc29uLnJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIxLjEzLjJcIjsiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi4vZW52L2RhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHt9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuWydvYmplY3QnLCAnYm9vbGVhbicsICdudW1iZXInLCAnZnVuY3Rpb24nLCAnc3RyaW5nJywgJ3N5bWJvbCddLmZvckVhY2goKHR5cGUsIGkpID0+IHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuICh2YWx1ZSwgb3B0LCBvcHRzKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbnZhbGlkYXRvcnMuc3BlbGxpbmcgPSBmdW5jdGlvbiBzcGVsbGluZyhjb3JyZWN0U3BlbGxpbmcpIHtcbiAgcmV0dXJuICh2YWx1ZSwgb3B0KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oYCR7b3B0fSBpcyBsaWtlbHkgYSBtaXNzcGVsbGluZyBvZiAke2NvcnJlY3RTcGVsbGluZ31gKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlbWFcbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGFsbG93VW5rbm93blxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgY29uc3Qgb3B0ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdGlvbnMpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT04pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFzc2VydE9wdGlvbnMsXG4gIHZhbGlkYXRvcnNcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBidWlsZFVSTCBmcm9tICcuLi9oZWxwZXJzL2J1aWxkVVJMLmpzJztcbmltcG9ydCBJbnRlcmNlcHRvck1hbmFnZXIgZnJvbSAnLi9JbnRlcmNlcHRvck1hbmFnZXIuanMnO1xuaW1wb3J0IGRpc3BhdGNoUmVxdWVzdCBmcm9tICcuL2Rpc3BhdGNoUmVxdWVzdC5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tICcuL2J1aWxkRnVsbFBhdGguanMnO1xuaW1wb3J0IHZhbGlkYXRvciBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4vQXhpb3NIZWFkZXJzLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHZhbGlkYXRvci52YWxpZGF0b3JzO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5jbGFzcyBBeGlvcyB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnIHx8IHt9O1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gY29uZmlnT3JVcmwgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICAgKiBAcGFyYW0gez9PYmplY3R9IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gICAqL1xuICBhc3luYyByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbGV0IGR1bW15ID0ge307XG5cbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShkdW1teSkgOiAoZHVtbXkgPSBuZXcgRXJyb3IoKSk7XG5cbiAgICAgICAgLy8gc2xpY2Ugb2ZmIHRoZSBFcnJvcjogLi4uIGxpbmVcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBkdW1teS5zdGFjayA/IGR1bW15LnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sICcnKSA6ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghZXJyLnN0YWNrKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICAgIC8vIG1hdGNoIHdpdGhvdXQgdGhlIDIgdG9wIHN0YWNrIGxpbmVzXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFjayAmJiAhU3RyaW5nKGVyci5zdGFjaykuZW5kc1dpdGgoc3RhY2sucmVwbGFjZSgvXi4rXFxuLitcXG4vLCAnJykpKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgKz0gJ1xcbicgKyBzdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlnbm9yZSB0aGUgY2FzZSB3aGVyZSBcInN0YWNrXCIgaXMgYW4gdW4td3JpdGFibGUgcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPSBudWxsKSB7XG4gICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJhbXNTZXJpYWxpemVyKSkge1xuICAgICAgICBjb25maWcucGFyYW1zU2VyaWFsaXplciA9IHtcbiAgICAgICAgICBzZXJpYWxpemU6IHBhcmFtc1NlcmlhbGl6ZXJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgICBzZXJpYWxpemU6IHZhbGlkYXRvcnMuZnVuY3Rpb25cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5hbGxvd0Fic29sdXRlVXJsc1xuICAgIGlmIChjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0cy5hbGxvd0Fic29sdXRlVXJscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgPSB0aGlzLmRlZmF1bHRzLmFsbG93QWJzb2x1dGVVcmxzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKGNvbmZpZywge1xuICAgICAgYmFzZVVybDogdmFsaWRhdG9ycy5zcGVsbGluZygnYmFzZVVSTCcpLFxuICAgICAgd2l0aFhzcmZUb2tlbjogdmFsaWRhdG9ycy5zcGVsbGluZygnd2l0aFhTUkZUb2tlbicpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGxldCBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgaGVhZGVycyAmJiB1dGlscy5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0KC4uLnJlcXVlc3RJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGNoYWluLnB1c2goLi4ucmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGNvbnN0IG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3Q29uZmlnID0gb25GdWxmaWxsZWQobmV3Q29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG9uUmVqZWN0ZWQuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0LmNhbGwodGhpcywgbmV3Q29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpID0gMDtcbiAgICBsZW4gPSByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVyaShjb25maWcpIHtcbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCwgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzKTtcbiAgICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgfVxufVxuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9DYW5jZWxlZEVycm9yLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsVG9rZW59XG4gKi9cbmNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICB0b0Fib3J0U2lnbmFsKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICBjb25zdCBhYm9ydCA9IChlcnIpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoZXJyKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgY29udHJvbGxlci5zaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB0aGlzLnVuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIHJldHVybiBjb250cm9sbGVyLnNpZ25hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn1cbiIsImNvbnN0IEh0dHBTdGF0dXNDb2RlID0ge1xuICBDb250aW51ZTogMTAwLFxuICBTd2l0Y2hpbmdQcm90b2NvbHM6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBFYXJseUhpbnRzOiAxMDMsXG4gIE9rOiAyMDAsXG4gIENyZWF0ZWQ6IDIwMSxcbiAgQWNjZXB0ZWQ6IDIwMixcbiAgTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOiAyMDMsXG4gIE5vQ29udGVudDogMjA0LFxuICBSZXNldENvbnRlbnQ6IDIwNSxcbiAgUGFydGlhbENvbnRlbnQ6IDIwNixcbiAgTXVsdGlTdGF0dXM6IDIwNyxcbiAgQWxyZWFkeVJlcG9ydGVkOiAyMDgsXG4gIEltVXNlZDogMjI2LFxuICBNdWx0aXBsZUNob2ljZXM6IDMwMCxcbiAgTW92ZWRQZXJtYW5lbnRseTogMzAxLFxuICBGb3VuZDogMzAyLFxuICBTZWVPdGhlcjogMzAzLFxuICBOb3RNb2RpZmllZDogMzA0LFxuICBVc2VQcm94eTogMzA1LFxuICBVbnVzZWQ6IDMwNixcbiAgVGVtcG9yYXJ5UmVkaXJlY3Q6IDMwNyxcbiAgUGVybWFuZW50UmVkaXJlY3Q6IDMwOCxcbiAgQmFkUmVxdWVzdDogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgUGF5bWVudFJlcXVpcmVkOiA0MDIsXG4gIEZvcmJpZGRlbjogNDAzLFxuICBOb3RGb3VuZDogNDA0LFxuICBNZXRob2ROb3RBbGxvd2VkOiA0MDUsXG4gIE5vdEFjY2VwdGFibGU6IDQwNixcbiAgUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA0MDcsXG4gIFJlcXVlc3RUaW1lb3V0OiA0MDgsXG4gIENvbmZsaWN0OiA0MDksXG4gIEdvbmU6IDQxMCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IDQxMSxcbiAgUHJlY29uZGl0aW9uRmFpbGVkOiA0MTIsXG4gIFBheWxvYWRUb29MYXJnZTogNDEzLFxuICBVcmlUb29Mb25nOiA0MTQsXG4gIFVuc3VwcG9ydGVkTWVkaWFUeXBlOiA0MTUsXG4gIFJhbmdlTm90U2F0aXNmaWFibGU6IDQxNixcbiAgRXhwZWN0YXRpb25GYWlsZWQ6IDQxNyxcbiAgSW1BVGVhcG90OiA0MTgsXG4gIE1pc2RpcmVjdGVkUmVxdWVzdDogNDIxLFxuICBVbnByb2Nlc3NhYmxlRW50aXR5OiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBGYWlsZWREZXBlbmRlbmN5OiA0MjQsXG4gIFRvb0Vhcmx5OiA0MjUsXG4gIFVwZ3JhZGVSZXF1aXJlZDogNDI2LFxuICBQcmVjb25kaXRpb25SZXF1aXJlZDogNDI4LFxuICBUb29NYW55UmVxdWVzdHM6IDQyOSxcbiAgUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOiA0MzEsXG4gIFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOiA0NTEsXG4gIEludGVybmFsU2VydmVyRXJyb3I6IDUwMCxcbiAgTm90SW1wbGVtZW50ZWQ6IDUwMSxcbiAgQmFkR2F0ZXdheTogNTAyLFxuICBTZXJ2aWNlVW5hdmFpbGFibGU6IDUwMyxcbiAgR2F0ZXdheVRpbWVvdXQ6IDUwNCxcbiAgSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6IDUwNSxcbiAgVmFyaWFudEFsc29OZWdvdGlhdGVzOiA1MDYsXG4gIEluc3VmZmljaWVudFN0b3JhZ2U6IDUwNyxcbiAgTG9vcERldGVjdGVkOiA1MDgsXG4gIE5vdEV4dGVuZGVkOiA1MTAsXG4gIE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA1MTEsXG4gIFdlYlNlcnZlcklzRG93bjogNTIxLFxuICBDb25uZWN0aW9uVGltZWRPdXQ6IDUyMixcbiAgT3JpZ2luSXNVbnJlYWNoYWJsZTogNTIzLFxuICBUaW1lb3V0T2NjdXJyZWQ6IDUyNCxcbiAgU3NsSGFuZHNoYWtlRmFpbGVkOiA1MjUsXG4gIEludmFsaWRTc2xDZXJ0aWZpY2F0ZTogNTI2LFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSHR0cFN0YXR1c0NvZGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcbmltcG9ydCBBeGlvcyBmcm9tICcuL2NvcmUvQXhpb3MuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vY29yZS9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgZm9ybURhdGFUb0pTT04gZnJvbSAnLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IENhbmNlbFRva2VuIGZyb20gJy4vY2FuY2VsL0NhbmNlbFRva2VuLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQge1ZFUlNJT059IGZyb20gJy4vZW52L2RhdGEuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi9oZWxwZXJzL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHNwcmVhZCBmcm9tICcuL2hlbHBlcnMvc3ByZWFkLmpzJztcbmltcG9ydCBpc0F4aW9zRXJyb3IgZnJvbSAnLi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSAnLi9hZGFwdGVycy9hZGFwdGVycy5qcyc7XG5pbXBvcnQgSHR0cFN0YXR1c0NvZGUgZnJvbSAnLi9oZWxwZXJzL0h0dHBTdGF0dXNDb2RlLmpzJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm5zIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICBjb25zdCBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICBjb25zdCBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0LCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQsIG51bGwsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuICBpbnN0YW5jZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoZGVmYXVsdENvbmZpZywgaW5zdGFuY2VDb25maWcpKTtcbiAgfTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxuY29uc3QgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gQ2FuY2VsZWRFcnJvcjtcbmF4aW9zLkNhbmNlbFRva2VuID0gQ2FuY2VsVG9rZW47XG5heGlvcy5pc0NhbmNlbCA9IGlzQ2FuY2VsO1xuYXhpb3MuVkVSU0lPTiA9IFZFUlNJT047XG5heGlvcy50b0Zvcm1EYXRhID0gdG9Gb3JtRGF0YTtcblxuLy8gRXhwb3NlIEF4aW9zRXJyb3IgY2xhc3NcbmF4aW9zLkF4aW9zRXJyb3IgPSBBeGlvc0Vycm9yO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuYXhpb3Muc3ByZWFkID0gc3ByZWFkO1xuXG4vLyBFeHBvc2UgaXNBeGlvc0Vycm9yXG5heGlvcy5pc0F4aW9zRXJyb3IgPSBpc0F4aW9zRXJyb3I7XG5cbi8vIEV4cG9zZSBtZXJnZUNvbmZpZ1xuYXhpb3MubWVyZ2VDb25maWcgPSBtZXJnZUNvbmZpZztcblxuYXhpb3MuQXhpb3NIZWFkZXJzID0gQXhpb3NIZWFkZXJzO1xuXG5heGlvcy5mb3JtVG9KU09OID0gdGhpbmcgPT4gZm9ybURhdGFUb0pTT04odXRpbHMuaXNIVE1MRm9ybSh0aGluZykgPyBuZXcgRm9ybURhdGEodGhpbmcpIDogdGhpbmcpO1xuXG5heGlvcy5nZXRBZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcjtcblxuYXhpb3MuSHR0cFN0YXR1c0NvZGUgPSBIdHRwU3RhdHVzQ29kZTtcblxuYXhpb3MuZGVmYXVsdCA9IGF4aW9zO1xuXG4vLyB0aGlzIG1vZHVsZSBzaG91bGQgb25seSBoYXZlIGEgZGVmYXVsdCBleHBvcnRcbmV4cG9ydCBkZWZhdWx0IGF4aW9zXG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnLi9saWIvYXhpb3MuanMnO1xuXG4vLyBUaGlzIG1vZHVsZSBpcyBpbnRlbmRlZCB0byB1bndyYXAgQXhpb3MgZGVmYXVsdCBleHBvcnQgYXMgbmFtZWQuXG4vLyBLZWVwIHRvcC1sZXZlbCBleHBvcnQgc2FtZSB3aXRoIHN0YXRpYyBwcm9wZXJ0aWVzXG4vLyBzbyB0aGF0IGl0IGNhbiBrZWVwIHNhbWUgd2l0aCBlcyBtb2R1bGUgb3IgY2pzXG5jb25zdCB7XG4gIEF4aW9zLFxuICBBeGlvc0Vycm9yLFxuICBDYW5jZWxlZEVycm9yLFxuICBpc0NhbmNlbCxcbiAgQ2FuY2VsVG9rZW4sXG4gIFZFUlNJT04sXG4gIGFsbCxcbiAgQ2FuY2VsLFxuICBpc0F4aW9zRXJyb3IsXG4gIHNwcmVhZCxcbiAgdG9Gb3JtRGF0YSxcbiAgQXhpb3NIZWFkZXJzLFxuICBIdHRwU3RhdHVzQ29kZSxcbiAgZm9ybVRvSlNPTixcbiAgZ2V0QWRhcHRlcixcbiAgbWVyZ2VDb25maWdcbn0gPSBheGlvcztcblxuZXhwb3J0IHtcbiAgYXhpb3MgYXMgZGVmYXVsdCxcbiAgQXhpb3MsXG4gIEF4aW9zRXJyb3IsXG4gIENhbmNlbGVkRXJyb3IsXG4gIGlzQ2FuY2VsLFxuICBDYW5jZWxUb2tlbixcbiAgVkVSU0lPTixcbiAgYWxsLFxuICBDYW5jZWwsXG4gIGlzQXhpb3NFcnJvcixcbiAgc3ByZWFkLFxuICB0b0Zvcm1EYXRhLFxuICBBeGlvc0hlYWRlcnMsXG4gIEh0dHBTdGF0dXNDb2RlLFxuICBmb3JtVG9KU09OLFxuICBnZXRBZGFwdGVyLFxuICBtZXJnZUNvbmZpZ1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmV4cG9ydCBjb25zdCBkZXZlbG9wbWVudCA9IHtcbiAgY2xvdWRVUkw6IFwiaHR0cHM6Ly9sb2dpbi5zdGFnaW5nLnBvc2l0LmNsb3VkXCIsXG4gIGNvbm5lY3RDbG91ZFVSTDogXCJodHRwczovL2Rldi5jb25uZWN0LnBvc2l0LmNsb3VkXCIsXG59O1xuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0aW9uID0ge1xuICBjbG91ZFVSTDogXCJodHRwczovL2xvZ2luLnBvc2l0LmNsb3VkXCIsXG4gIGNvbm5lY3RDbG91ZFVSTDogXCJodHRwczovL2Nvbm5lY3QucG9zaXQuY2xvdWRcIixcbn07XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjUgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuZXhwb3J0IGNvbnN0IHN0YWdpbmcgPSB7XG4gIGNsb3VkVVJMOiBcImh0dHBzOi8vbG9naW4uc3RhZ2luZy5wb3NpdC5jbG91ZFwiLFxuICBjb25uZWN0Q2xvdWRVUkw6IFwiaHR0cHM6Ly9zdGFnaW5nLmNvbm5lY3QucG9zaXQuY2xvdWRcIixcbn07XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjUgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgZGV2ZWxvcG1lbnQgfSBmcm9tIFwiLi9kZXZlbG9wbWVudFwiO1xuaW1wb3J0IHsgcHJvZHVjdGlvbiB9IGZyb20gXCIuL3Byb2R1Y3Rpb25cIjtcbmltcG9ydCB7IHN0YWdpbmcgfSBmcm9tIFwiLi9zdGFnaW5nXCI7XG5cbmV4cG9ydCBlbnVtIGVudiB7XG4gIERFViA9IFwiZGV2ZWxvcG1lbnRcIixcbiAgU1RBR0lORyA9IFwic3RhZ2luZ1wiLFxuICBQUk9EID0gXCJwcm9kdWN0aW9uXCIsXG59XG5cbnR5cGUgQ29uZmlnID0ge1xuICBjbG91ZFVSTDogc3RyaW5nO1xuICBjb25uZWN0Q2xvdWRVUkw6IHN0cmluZztcbiAgZW52OiBlbnY7XG59O1xuXG5sZXQgY29uZmlnOiBDb25maWc7XG5cbmlmIChwcm9jZXNzLmVudi5DT05ORUNUX0NMT1VEX0VOViA9PT0gZW52LlNUQUdJTkcpIHtcbiAgY29uZmlnID0geyAuLi5zdGFnaW5nLCBlbnY6IGVudi5TVEFHSU5HIH07XG59IGVsc2UgaWYgKHByb2Nlc3MuZW52LkNPTk5FQ1RfQ0xPVURfRU5WID09PSBlbnYuREVWKSB7XG4gIGNvbmZpZyA9IHsgLi4uZGV2ZWxvcG1lbnQsIGVudjogZW52LkRFViB9O1xufSBlbHNlIHtcbiAgY29uZmlnID0geyAuLi5wcm9kdWN0aW9uLCBlbnY6IGVudi5QUk9EIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNSBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgUE9TSVRfRk9MREVSID0gXCIqKi8ucG9zaXRcIjtcbmV4cG9ydCBjb25zdCBQVUJMSVNIX0ZPTERFUiA9IFwiKiovLnBvc2l0L3B1Ymxpc2hcIjtcbmV4cG9ydCBjb25zdCBQVUJMSVNIX0RFUExPWU1FTlRTX0ZPTERFUiA9IFwiKiovLnBvc2l0L3B1Ymxpc2gvZGVwbG95bWVudHNcIjtcblxuZXhwb3J0IGNvbnN0IENPTkZJR1VSQVRJT05TX1BBVFRFUk4gPSBcIioqLy5wb3NpdC9wdWJsaXNoLyoudG9tbFwiO1xuZXhwb3J0IGNvbnN0IERFUExPWU1FTlRTX1BBVFRFUk4gPSBcIioqLy5wb3NpdC9wdWJsaXNoL2RlcGxveW1lbnRzLyoudG9tbFwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9QWVRIT05fUEFDS0FHRV9GSUxFID0gXCJyZXF1aXJlbWVudHMudHh0XCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SX1BBQ0tBR0VfRklMRSA9IFwicmVudi5sb2NrXCI7XG5cbi8vIHB1bGxlZCBmcm9tIC9pbnRlcm5hbC9zZXJ2aWNlcy9hcGkvZ2V0X2VudHJ5cG9pbnRzLmdvXG4vLyBzaG91bGQgYWxsIGJlIGxvd2VyY2FzZSFcbmV4cG9ydCBjb25zdCBFTlRSWVBPSU5UX0ZJTEVfRVhURU5TSU9OUyA9IFtcbiAgXCIuaHRtXCIsXG4gIFwiLmh0bWxcIixcbiAgXCIuaXB5bmJcIixcbiAgXCIucHlcIixcbiAgXCIucW1kXCIsXG4gIFwiLnJcIixcbiAgXCIucm1kXCIsXG4gIFwiLnltbFwiLFxuICBcIi55YW1sXCIsXG5dO1xuXG5leHBvcnQgZW51bSBCb29sZWFuQ29udGV4dFZhbHVlcyB7XG4gIFRydWUgPSBcInRydWVcIixcbiAgRmFsc2UgPSBcImZhbHNlXCIsXG59XG5cbmNvbnN0IGJhc2VDb21tYW5kcyA9IHtcbiAgSW5pdFByb2plY3Q6IFwicG9zaXQucHVibGlzaGVyLmluaXQtcHJvamVjdFwiLFxuICBTaG93T3V0cHV0Q2hhbm5lbDogXCJwb3NpdC5wdWJsaXNoZXIuc2hvd091dHB1dENoYW5uZWxcIixcbiAgU2hvd1B1Ymxpc2hpbmdMb2c6IFwicG9zaXQucHVibGlzaGVyLnNob3dQdWJsaXNoaW5nTG9nXCIsXG4gIERlcGxveVdpdGhFbnRyeXBvaW50OiBcInBvc2l0LnB1Ymxpc2hlci5kZXBsb3lXaXRoRW50cnlwb2ludFwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgYmFzZUNvbnRleHRzID0ge1xuICBBY3RpdmVGaWxlRW50cnlwb2ludDogXCJwb3NpdC5wdWJsaXNoLmFjdGl2ZUZpbGVFbnRyeXBvaW50XCIsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBsb2dzQ29tbWFuZHMgPSB7XG4gIFZpc2l0OiBcInBvc2l0LnB1Ymxpc2hlci5sb2dzLnZpc2l0XCIsXG4gIC8vIEFkZGVkIGF1dG9tYXRpY2FsbHkgYnkgVlNDb2RlIHdpdGggdmlldyByZWdpc3RyYXRpb25cbiAgRmlsZXZpZXc6IFwicG9zaXQucHVibGlzaGVyLmxvZ3MuZmlsZXZpZXdcIixcbiAgQ29weTogXCJwb3NpdC5wdWJsaXNoZXIubG9ncy5jb3B5XCIsXG4gIEZvY3VzOiBcInBvc2l0LnB1Ymxpc2hlci5sb2dzLmZvY3VzXCIsXG4gIFRvZ2dsZVZpc2liaWxpdHk6IFwicG9zaXQucHVibGlzaGVyLmxvZ3MudG9nZ2xlVmlzaWJpbGl0eVwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgY3JlZGVudGlhbHNDb250ZXh0cyA9IHtcbiAgS2V5Y2hhaW46IFwicG9zaXQucHVibGlzaGVyLmNyZWRlbnRpYWxzLnRyZWUuaXRlbS5rZXljaGFpblwiLFxuICBFbnZpcm9ubWVudFZhcnM6IFwicG9zaXQucHVibGlzaGVyLmNyZWRlbnRpYWxzLnRyZWUuaXRlbS5lbnZpcm9ubWVudFZhcnNcIixcbn07XG5cbmNvbnN0IGZpbGVzQ29tbWFuZHMgPSB7XG4gIFJlZnJlc2g6IFwicG9zaXQucHVibGlzaGVyLmZpbGVzLnJlZnJlc2hcIixcbiAgRXhjbHVkZTogXCJwb3NpdC5wdWJsaXNoZXIuZmlsZXMuZXhjbHVkZVwiLFxuICBJbmNsdWRlOiBcInBvc2l0LnB1Ymxpc2hlci5maWxlcy5pbmNsdWRlXCIsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBweXRob25QYWNrYWdlc0NvbW1hbmRzID0ge1xuICBFZGl0OiBcInBvc2l0LnB1Ymxpc2hlci5weXRob25QYWNrYWdlcy5lZGl0XCIsXG4gIFJlZnJlc2g6IFwicG9zaXQucHVibGlzaGVyLnB5dGhvblBhY2thZ2VzLnJlZnJlc2hcIixcbiAgU2NhbjogXCJwb3NpdC5wdWJsaXNoZXIucHl0aG9uUGFja2FnZXMuc2NhblwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgclBhY2thZ2VzQ29tbWFuZHMgPSB7XG4gIEVkaXQ6IFwicG9zaXQucHVibGlzaGVyLnJQYWNrYWdlcy5lZGl0XCIsXG4gIFJlZnJlc2g6IFwicG9zaXQucHVibGlzaGVyLnJQYWNrYWdlcy5yZWZyZXNoXCIsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBob21lVmlld0NvbW1hbmRzID0ge1xuICBSZWZyZXNoOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5yZWZyZXNoXCIsXG4gIFNob3dTZWxlY3RDb25maWdGb3JEZXBsb3ltZW50OlxuICAgIFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LnNob3dTZWxlY3RDb25maWdGb3JEZXBsb3ltZW50XCIsXG4gIEFzc29jaWF0ZURlcGxveW1lbnQ6IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LmFzc29jaWF0ZURlcGxveW1lbnRcIixcbiAgQ3JlYXRlQ29uZmlnRm9yRGVwbG95bWVudDpcbiAgICBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5jcmVhdGVDb25maWdGb3JEZXBsb3ltZW50XCIsXG4gIFNlbGVjdERlcGxveW1lbnQ6IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LnNlbGVjdERlcGxveW1lbnRcIixcbiAgTmV3RGVwbG95bWVudDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcubmV3RGVwbG95bWVudFwiLFxuICBOYXZpZ2F0ZVRvRGVwbG95bWVudFNlcnZlcjpcbiAgICBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5uYXZpZ2F0ZVRvRGVwbG95bWVudC5TZXJ2ZXJcIixcbiAgTmF2aWdhdGVUb0RlcGxveW1lbnRDb250ZW50OlxuICAgIFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3Lm5hdmlnYXRlVG9EZXBsb3ltZW50LkNvbnRlbnRcIixcbiAgU2hvd0NvbnRlbnRMb2dzOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5uYXZpZ2F0ZVRvRGVwbG95bWVudC5Db250ZW50TG9nXCIsXG4gIE9wZW5GZWVkYmFjazogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcub3BlbkZlZWRiYWNrXCIsXG4gIE9wZW5HZXR0aW5nU3RhcnRlZDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuZ2V0dGluZ1N0YXJ0ZWRcIixcbiAgQWRkQ3JlZGVudGlhbDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuYWRkQ3JlZGVudGlhbFwiLFxuICBEZWxldGVDcmVkZW50aWFsOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5kZWxldGVDcmVkZW50aWFsXCIsXG4gIFJlZnJlc2hDcmVkZW50aWFsczogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcucmVmcmVzaENyZWRlbnRpYWxzXCIsXG4gIEFkZEludGVncmF0aW9uUmVxdWVzdDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuYWRkSW50ZWdyYXRpb25SZXF1ZXN0XCIsXG4gIFJlbW92ZVNlY3JldDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcucmVtb3ZlU2VjcmV0XCIsXG4gIEVkaXRDdXJyZW50Q29uZmlndXJhdGlvbjogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuZWRpdC5Db25maWd1cmF0aW9uXCIsXG4gIENvcHlTeXN0ZW1JbmZvOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5jb3B5U3lzdGVtSW5mb1wiLFxuICAvLyBBZGRlZCBhdXRvbWF0aWNhbGx5IGJ5IFZTQ29kZSB3aXRoIHZpZXcgcmVnaXN0cmF0aW9uXG4gIEZvY3VzOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5mb2N1c1wiLFxufSBhcyBjb25zdDtcblxuY29uc3QgaG9tZVZpZXdDb250ZXh0cyA9IHtcbiAgSW5pdGlhbGl6ZWQ6IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LmluaXRpYWxpemVkXCIsXG4gIFVzZXJIYXNJbml0aWF0ZWREZXBsb3ltZW50OlxuICAgIFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LnVzZXJIYXNJbml0aWF0ZWREZXBsb3ltZW50T3BlcmF0aW9uXCIsXG59O1xuXG5leHBvcnQgY29uc3QgTG9jYWxTdGF0ZSA9IHtcbiAgTGFzdFNlbGVjdGlvblN0YXRlOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5sYXN0RGVwbG95bWVudFNlbGVjdGVkU3RhdGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBDb21tYW5kcyA9IHtcbiAgLi4uYmFzZUNvbW1hbmRzLFxuICBMb2dzOiBsb2dzQ29tbWFuZHMsXG4gIEZpbGVzOiBmaWxlc0NvbW1hbmRzLFxuICBQeXRob25QYWNrYWdlczogcHl0aG9uUGFja2FnZXNDb21tYW5kcyxcbiAgUlBhY2thZ2VzOiByUGFja2FnZXNDb21tYW5kcyxcbiAgSG9tZVZpZXc6IGhvbWVWaWV3Q29tbWFuZHMsXG59O1xuXG5leHBvcnQgY29uc3QgQ29udGV4dHMgPSB7XG4gIC4uLmJhc2VDb250ZXh0cyxcbiAgQ3JlZGVudGlhbHM6IGNyZWRlbnRpYWxzQ29udGV4dHMsXG4gIEhvbWVWaWV3OiBob21lVmlld0NvbnRleHRzLFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gVmlld3Mge1xuICBQcm9qZWN0ID0gXCJwb3NpdC5wdWJsaXNoZXIucHJvamVjdFwiLFxuICBIb21lVmlldyA9IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3XCIsXG4gIExvZ3MgPSBcInBvc2l0LnB1Ymxpc2hlci5sb2dzXCIsXG59XG5cbmV4cG9ydCBjb25zdCBEZWJvdW5jZURlbGF5c01TID0ge1xuICBmaWxlOiAxMDAwLFxuICByZWZyZXNoUlBhY2thZ2VzOiAxMDAwLFxuICByZWZyZXNoUHl0aG9uUGFja2FnZXM6IDEwMDAsXG59O1xuXG5leHBvcnQgY29uc3QgQ09OTkVDVF9DTE9VRF9FTlYgPSBjb25maWcuZW52O1xuZXhwb3J0IGNvbnN0IENPTk5FQ1RfQ0xPVURfU0lHTlVQX1VSTCA9IGAke2NvbmZpZy5jb25uZWN0Q2xvdWRVUkx9L2xvZ291dD9yZWRpcmVjdD0ke2NvbmZpZy5jbG91ZFVSTH0vcmVnaXN0ZXI/cmVkaXJlY3Q9YDtcbmV4cG9ydCBjb25zdCBDT05ORUNUX0NMT1VEX0FDQ09VTlRfVVJMID0gYCR7Y29uZmlnLmNvbm5lY3RDbG91ZFVSTH0vYWNjb3VudC9kb25lYDtcblxuZXhwb3J0IGNvbnN0IENPTk5FQ1RfQ0xPVURfRU5WX0hFQURFUiA9IHtcbiAgXCJDb25uZWN0LUNsb3VkLUVudmlyb25tZW50XCI6IENPTk5FQ1RfQ0xPVURfRU5WLFxufTtcbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBBZ2VudEVycm9yIH0gZnJvbSBcIi4vZXJyb3JcIjtcbmltcG9ydCB7IENvbm5lY3RDb25maWcgfSBmcm9tIFwiLi9jb25uZWN0XCI7XG5pbXBvcnQgeyBTY2hlbWFVUkwgfSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCB7IEludGVycHJldGVyRGVmYXVsdHMgfSBmcm9tIFwiLi9pbnRlcnByZXRlcnNcIjtcbmltcG9ydCB7IFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4vY29udGVudFJlY29yZHNcIjtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkxvY2F0aW9uID0ge1xuICBjb25maWd1cmF0aW9uTmFtZTogc3RyaW5nO1xuICBjb25maWd1cmF0aW9uUGF0aDogc3RyaW5nO1xuICBjb25maWd1cmF0aW9uUmVsUGF0aDogc3RyaW5nO1xuICBwcm9qZWN0RGlyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBDb25maWd1cmF0aW9uRXJyb3IgPSB7XG4gIGVycm9yOiBBZ2VudEVycm9yO1xufSAmIENvbmZpZ3VyYXRpb25Mb2NhdGlvbjtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbiA9IHtcbiAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbkRldGFpbHM7XG59ICYgQ29uZmlndXJhdGlvbkxvY2F0aW9uO1xuXG5leHBvcnQgdHlwZSBDb25maWd1cmF0aW9uSW5zcGVjdGlvblJlc3VsdCA9IHtcbiAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbkRldGFpbHM7XG4gIHByb2plY3REaXI6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBhcmVJbnNwZWN0aW9uUmVzdWx0c1NpbWlsYXJFbm91Z2ggPSAoXG4gIGluc3BlY3QxOiBDb25maWd1cmF0aW9uSW5zcGVjdGlvblJlc3VsdCxcbiAgaW5zcGVjdDI6IENvbmZpZ3VyYXRpb25JbnNwZWN0aW9uUmVzdWx0LFxuKSA9PiB7XG4gIC8vIE5vdCBjb21wYXJpbmcgQUxMIGF0dHJpYnV0ZXMsIGp1c3QgZW5vdWdoIHRvIG1haW50YWluIHVuaXF1ZW5lc3MgYW5kXG4gIC8vIGNvbmZpZGVuY2UgdGhhdCB0aGlzIGlzIGEgXCJzaW1pbGFyXCIgaW5zcGVjdGlvbiByZXN1bHRcbiAgcmV0dXJuIChcbiAgICBpbnNwZWN0MS5wcm9qZWN0RGlyID09PSBpbnNwZWN0Mi5wcm9qZWN0RGlyICYmXG4gICAgaW5zcGVjdDEuY29uZmlndXJhdGlvbi5lbnRyeXBvaW50ID09PSBpbnNwZWN0Mi5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnQgJiZcbiAgICBpbnNwZWN0MS5jb25maWd1cmF0aW9uLnR5cGUgPT09IGluc3BlY3QyLmNvbmZpZ3VyYXRpb24udHlwZVxuICApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZmlndXJhdGlvbkVycm9yKFxuICBjZmc6IENvbmZpZ3VyYXRpb24gfCBDb25maWd1cmF0aW9uRXJyb3IsXG4pOiBjZmcgaXMgQ29uZmlndXJhdGlvbkVycm9yIHtcbiAgcmV0dXJuIChjZmcgYXMgQ29uZmlndXJhdGlvbkVycm9yKS5lcnJvciAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZW51bSBDb250ZW50VHlwZSB7XG4gIEhUTUwgPSBcImh0bWxcIixcbiAgSlVQWVRFUl9OT1RFQk9PSyA9IFwianVweXRlci1ub3RlYm9va1wiLFxuICBKVVBZVEVSX1ZPSUxBID0gXCJqdXB5dGVyLXZvaWxhXCIsXG4gIFBZVEhPTl9CT0tFSCA9IFwicHl0aG9uLWJva2VoXCIsXG4gIFBZVEhPTl9EQVNIID0gXCJweXRob24tZGFzaFwiLFxuICBQWVRIT05fRkFTVEFQSSA9IFwicHl0aG9uLWZhc3RhcGlcIixcbiAgUFlUSE9OX0ZMQVNLID0gXCJweXRob24tZmxhc2tcIixcbiAgUFlUSE9OX1NISU5ZID0gXCJweXRob24tc2hpbnlcIixcbiAgUFlUSE9OX1NUUkVBTUxJVCA9IFwicHl0aG9uLXN0cmVhbWxpdFwiLFxuICBQWVRIT05fR1JBRElPID0gXCJweXRob24tZ3JhZGlvXCIsXG4gIFBZVEhPTl9QQU5FTCA9IFwicHl0aG9uLXBhbmVsXCIsXG4gIFFVQVJUT19TSElOWSA9IFwicXVhcnRvLXNoaW55XCIsXG4gIFFVQVJUTyA9IFwicXVhcnRvXCIsXG4gIFFVQVJUT19TVEFUSUMgPSBcInF1YXJ0by1zdGF0aWNcIixcbiAgUl9QTFVNQkVSID0gXCJyLXBsdW1iZXJcIixcbiAgUl9TSElOWSA9IFwici1zaGlueVwiLFxuICBSTURfU0hJTlkgPSBcInJtZC1zaGlueVwiLFxuICBSTUQgPSBcInJtZFwiLFxuICBVTktOT1dOID0gXCJ1bmtub3duXCIsXG59XG5cbmV4cG9ydCBjb25zdCBhbGxWYWxpZENvbnRlbnRUeXBlczogQ29udGVudFR5cGVbXSA9IFtcbiAgQ29udGVudFR5cGUuSFRNTCxcbiAgQ29udGVudFR5cGUuSlVQWVRFUl9OT1RFQk9PSyxcbiAgQ29udGVudFR5cGUuSlVQWVRFUl9WT0lMQSxcbiAgQ29udGVudFR5cGUuUFlUSE9OX0JPS0VILFxuICBDb250ZW50VHlwZS5QWVRIT05fREFTSCxcbiAgQ29udGVudFR5cGUuUFlUSE9OX0ZBU1RBUEksXG4gIENvbnRlbnRUeXBlLlBZVEhPTl9GTEFTSyxcbiAgQ29udGVudFR5cGUuUFlUSE9OX1NISU5ZLFxuICBDb250ZW50VHlwZS5QWVRIT05fU1RSRUFNTElULFxuICBDb250ZW50VHlwZS5QWVRIT05fR1JBRElPLFxuICBDb250ZW50VHlwZS5QWVRIT05fUEFORUwsXG4gIENvbnRlbnRUeXBlLlFVQVJUT19TSElOWSxcbiAgQ29udGVudFR5cGUuUVVBUlRPLFxuICBDb250ZW50VHlwZS5RVUFSVE9fU1RBVElDLFxuICBDb250ZW50VHlwZS5SX1BMVU1CRVIsXG4gIENvbnRlbnRUeXBlLlJfU0hJTlksXG4gIENvbnRlbnRUeXBlLlJNRF9TSElOWSxcbiAgQ29udGVudFR5cGUuUk1ELFxuXTtcblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlU3RyaW5ncyA9IHtcbiAgW0NvbnRlbnRUeXBlLkhUTUxdOiBcInNlcnZlIHByZS1yZW5kZXJlZCBIVE1MXCIsXG4gIFtDb250ZW50VHlwZS5KVVBZVEVSX05PVEVCT09LXTogXCJyZW5kZXIgd2l0aCBKdXB5dGVyIG5iY29udmVydFwiLFxuICBbQ29udGVudFR5cGUuSlVQWVRFUl9WT0lMQV06IFwicnVuIHdpdGggSnVweXRlciBWb2lsYVwiLFxuICBbQ29udGVudFR5cGUuUFlUSE9OX0JPS0VIXTogXCJydW4gd2l0aCBCb2tlaFwiLFxuICBbQ29udGVudFR5cGUuUFlUSE9OX0RBU0hdOiBcInJ1biB3aXRoIERhc2hcIixcbiAgW0NvbnRlbnRUeXBlLlBZVEhPTl9GQVNUQVBJXTogXCJydW4gd2l0aCBGYXN0QVBJXCIsXG4gIFtDb250ZW50VHlwZS5QWVRIT05fRkxBU0tdOiBcInJ1biB3aXRoIEZsYXNrXCIsXG4gIFtDb250ZW50VHlwZS5QWVRIT05fU0hJTlldOiBcInJ1biB3aXRoIFNoaW55IGZvciBQeXRob25cIixcbiAgW0NvbnRlbnRUeXBlLlBZVEhPTl9TVFJFQU1MSVRdOiBcInJ1biB3aXRoIFN0cmVhbWxpdFwiLFxuICBbQ29udGVudFR5cGUuUFlUSE9OX0dSQURJT106IFwicnVuIHdpdGggR3JhZGlvXCIsXG4gIFtDb250ZW50VHlwZS5QWVRIT05fUEFORUxdOiBcInJ1biB3aXRoIFBhbmVsXCIsXG4gIFtDb250ZW50VHlwZS5RVUFSVE9fU0hJTlldOiBcInJlbmRlciB3aXRoIFF1YXJ0byBhbmQgcnVuIGVtYmVkZGVkIFNoaW55IGFwcFwiLFxuICBbQ29udGVudFR5cGUuUVVBUlRPXTogXCJyZW5kZXIgd2l0aCBRdWFydG9cIixcbiAgW0NvbnRlbnRUeXBlLlFVQVJUT19TVEFUSUNdOiBcInJlbmRlciB3aXRoIFF1YXJ0b1wiLFxuICBbQ29udGVudFR5cGUuUl9QTFVNQkVSXTogXCJydW4gd2l0aCBQbHVtYmVyXCIsXG4gIFtDb250ZW50VHlwZS5SX1NISU5ZXTogXCJydW4gd2l0aCBTaGlueSBmb3IgUlwiLFxuICBbQ29udGVudFR5cGUuUk1EX1NISU5ZXTpcbiAgICBcInJlbmRlciB3aXRoIHJtYXJrZG93bi9rbml0ciBhbmQgcnVuIGVtYmVkZGVkIFNoaW55IGFwcFwiLFxuICBbQ29udGVudFR5cGUuUk1EXTogXCJyZW5kZXIgd2l0aCBybWFya2Rvd24va25pdHJcIixcbiAgW0NvbnRlbnRUeXBlLlVOS05PV05dOlxuICAgIFwidW5rbm93biBjb250ZW50IHR5cGU7IG1hbnVhbCBzZWxlY3Rpb24gbmVlZGVkIHRvIGRlcGxveVwiLFxufTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkRldGFpbHMgPSB7XG4gICRzY2hlbWE6IFNjaGVtYVVSTDtcbiAgYWx0ZXJuYXRpdmVzPzogQ29uZmlndXJhdGlvbkRldGFpbHNbXTtcbiAgcHJvZHVjdFR5cGU6IFByb2R1Y3RUeXBlO1xuICB0eXBlOiBDb250ZW50VHlwZTtcbiAgZW50cnlwb2ludD86IHN0cmluZztcbiAgc291cmNlPzogc3RyaW5nO1xuICB0aXRsZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHRodW1ibmFpbD86IHN0cmluZztcbiAgdGFncz86IHN0cmluZ1tdO1xuICBweXRob24/OiBQeXRob25Db25maWc7XG4gIHI/OiBSQ29uZmlnO1xuICBxdWFydG8/OiBRdWFydG9Db25maWc7XG4gIGVudmlyb25tZW50PzogRW52aXJvbm1lbnRDb25maWc7XG4gIHZhbGlkYXRlOiBib29sZWFuO1xuICBmaWxlcz86IHN0cmluZ1tdO1xuICBzZWNyZXRzPzogc3RyaW5nW107XG4gIGludGVncmF0aW9uUmVxdWVzdHM/OiBJbnRlZ3JhdGlvblJlcXVlc3RbXTtcbiAgc2NoZWR1bGVzPzogU2NoZWR1bGVDb25maWdbXTtcbiAgYWNjZXNzPzogQWNjZXNzQ29uZmlnO1xuICBjb25uZWN0PzogQ29ubmVjdENvbmZpZztcbn07XG5cbmV4cG9ydCB0eXBlIEludGVncmF0aW9uUmVxdWVzdCA9IHtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIGRpc3BsYXlEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZ3VpZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGF1dGhUeXBlPzogc3RyaW5nO1xuICB0eXBlPzogc3RyaW5nO1xuICBjb25maWc/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xufTtcblxuZXhwb3J0IHR5cGUgUHl0aG9uQ29uZmlnID0ge1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIHBhY2thZ2VGaWxlOiBzdHJpbmc7XG4gIHBhY2thZ2VNYW5hZ2VyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBSQ29uZmlnID0ge1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIHBhY2thZ2VGaWxlOiBzdHJpbmc7XG4gIHBhY2thZ2VNYW5hZ2VyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBRdWFydG9Db25maWcgPSB7XG4gIHZlcnNpb246IHN0cmluZztcbiAgZW5naW5lcz86IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IHR5cGUgRW52aXJvbm1lbnRDb25maWcgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG5leHBvcnQgdHlwZSBTY2hlZHVsZUNvbmZpZyA9IHtcbiAgc3RhcnQ6IHN0cmluZztcbiAgcmVjdXJyZW5jZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IGVudW0gQWNjZXNzVHlwZSB7XG4gIEFOT05ZTU9VUyA9IFwiYWxsXCIsXG4gIExPR0dFRF9JTiA9IFwibG9nZ2VkLWluXCIsXG4gIEFDTCA9IFwiYWNsXCIsXG59XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc0NvbmZpZyA9IHtcbiAgdHlwZTogQWNjZXNzVHlwZTtcbiAgdXNlcnM/OiBVc2VyW107XG4gIGdyb3Vwcz86IEdyb3VwW107XG59O1xuXG5leHBvcnQgdHlwZSBVc2VyID0ge1xuICBpZD86IHN0cmluZztcbiAgZ3VpZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgcGVybWlzc2lvbnM6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEdyb3VwID0ge1xuICBpZD86IHN0cmluZztcbiAgZ3VpZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgcGVybWlzc2lvbnM6IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVBbGxDb25maWdzV2l0aERlZmF1bHRzKFxuICBjb25maWdzOiAoQ29uZmlndXJhdGlvbiB8IENvbmZpZ3VyYXRpb25FcnJvcilbXSxcbiAgZGVmYXVsdHM6IEludGVycHJldGVyRGVmYXVsdHMsXG4pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY29uZmlnID0gY29uZmlnc1tpXTtcbiAgICBpZiAoY29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbmZpZ3NbaV0gPSBVcGRhdGVDb25maWdXaXRoRGVmYXVsdHMoY29uZmlnLCBkZWZhdWx0cyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWdzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVXBkYXRlQ29uZmlnV2l0aERlZmF1bHRzKFxuICBjb25maWc6IENvbmZpZ3VyYXRpb24gfCBDb25maWd1cmF0aW9uRXJyb3IsXG4gIGRlZmF1bHRzOiBJbnRlcnByZXRlckRlZmF1bHRzLFxuKSB7XG4gIGlmIChpc0NvbmZpZ3VyYXRpb25FcnJvcihjb25maWcpKSB7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIC8vIEZpbGwgaW4gZW1wdHkgZGVmaW5pdGlvbnMgd2l0aCB0aGUgY3VycmVudCBkZWZhdWx0c1xuICAvLyBidXQgb25seSBpZiB0aGUgc2VjdGlvbiBpcyBkZWZpbmVkICh3aGljaCBpbmRpY2F0ZXMgdGhlIGRlcGVuZGVuY3kpXG4gIGlmIChjb25maWcuY29uZmlndXJhdGlvbi5yICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWNvbmZpZy5jb25maWd1cmF0aW9uLnIudmVyc2lvbikge1xuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24uci52ZXJzaW9uID0gZGVmYXVsdHMuci52ZXJzaW9uO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5jb25maWd1cmF0aW9uLnIucGFja2FnZUZpbGUpIHtcbiAgICAgIGNvbmZpZy5jb25maWd1cmF0aW9uLnIucGFja2FnZUZpbGUgPSBkZWZhdWx0cy5yLnBhY2thZ2VGaWxlO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5jb25maWd1cmF0aW9uLnIucGFja2FnZU1hbmFnZXIpIHtcbiAgICAgIGNvbmZpZy5jb25maWd1cmF0aW9uLnIucGFja2FnZU1hbmFnZXIgPSBkZWZhdWx0cy5yLnBhY2thZ2VNYW5hZ2VyO1xuICAgIH1cbiAgfVxuICBpZiAoY29uZmlnLmNvbmZpZ3VyYXRpb24ucHl0aG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWNvbmZpZy5jb25maWd1cmF0aW9uLnB5dGhvbi52ZXJzaW9uKSB7XG4gICAgICBjb25maWcuY29uZmlndXJhdGlvbi5weXRob24udmVyc2lvbiA9IGRlZmF1bHRzLnB5dGhvbi52ZXJzaW9uO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5jb25maWd1cmF0aW9uLnB5dGhvbi5wYWNrYWdlRmlsZSkge1xuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24ucHl0aG9uLnBhY2thZ2VGaWxlID0gZGVmYXVsdHMucHl0aG9uLnBhY2thZ2VGaWxlO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5jb25maWd1cmF0aW9uLnB5dGhvbi5wYWNrYWdlTWFuYWdlcikge1xuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24ucHl0aG9uLnBhY2thZ2VNYW5hZ2VyID1cbiAgICAgICAgZGVmYXVsdHMucHl0aG9uLnBhY2thZ2VNYW5hZ2VyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZmlnO1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IEFnZW50RXJyb3IgfSBmcm9tIFwiLi9lcnJvclwiO1xuaW1wb3J0IHtcbiAgQ29uZmlndXJhdGlvbixcbiAgQ29uZmlndXJhdGlvbkxvY2F0aW9uLFxuICBDb250ZW50VHlwZSxcbn0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcbmltcG9ydCB7IFNjaGVtYVVSTCB9IGZyb20gXCIuL3NjaGVtYVwiO1xuXG5leHBvcnQgZW51bSBTZXJ2ZXJUeXBlIHtcbiAgQ09OTkVDVCA9IFwiY29ubmVjdFwiLFxuICBDT05ORUNUX0NMT1VEID0gXCJjb25uZWN0X2Nsb3VkXCIsXG4gIFNOT1dGTEFLRSA9IFwic25vd2ZsYWtlXCIsXG59XG5cbmV4cG9ydCBlbnVtIFByb2R1Y3RUeXBlIHtcbiAgQ09OTkVDVCA9IFwiY29ubmVjdFwiLFxuICBDT05ORUNUX0NMT1VEID0gXCJjb25uZWN0X2Nsb3VkXCIsXG59XG5cbmV4cG9ydCBlbnVtIFByb2R1Y3ROYW1lIHtcbiAgQ09OTkVDVCA9IFwiUG9zaXQgQ29ubmVjdFwiLFxuICBDT05ORUNUX0NMT1VEID0gXCJQb3NpdCBDb25uZWN0IENsb3VkXCIsXG59XG5cbmV4cG9ydCBlbnVtIFByb2R1Y3REZXNjcmlwdGlvbiB7XG4gIENPTk5FQ1QgPSBcIkRlcGxveSBkYXRhIGFwcGxpY2F0aW9ucywgZG9jdW1lbnRzLCBBUElzLCBhbmQgbW9yZSB0byB5b3VyIHNlcnZlci5cIixcbiAgQ09OTkVDVF9DTE9VRCA9IFwiRGVwbG95IGRhdGEgYXBwbGljYXRpb25zIGFuZCBkb2N1bWVudHMgb25saW5lLiBGcmVlIHBsYW4gYXZhaWxhYmxlLlwiLFxufVxuXG5leHBvcnQgZW51bSBDb250ZW50UmVjb3JkU3RhdGUge1xuICBORVcgPSBcIm5ld1wiLFxuICBERVBMT1lFRCA9IFwiZGVwbG95ZWRcIixcbiAgRVJST1IgPSBcImVycm9yXCIsXG59XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRSZWNvcmRMb2NhdGlvbiA9IHtcbiAgZGVwbG95bWVudE5hbWU6IHN0cmluZztcbiAgZGVwbG95bWVudFBhdGg6IHN0cmluZztcbiAgcHJvamVjdERpcjogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgQ29udGVudFJlY29yZEVycm9yID0ge1xuICBlcnJvcjogQWdlbnRFcnJvcjtcbiAgc3RhdGU6IENvbnRlbnRSZWNvcmRTdGF0ZS5FUlJPUjtcbn0gJiBDb250ZW50UmVjb3JkTG9jYXRpb247XG5cbnR5cGUgT3B0aW9uYWxQcmVEZXBsb3ltZW50RmllbGRzID0ge1xuICBpZD86IHN0cmluZztcbiAgYnVuZGxlVXJsPzogc3RyaW5nO1xuICBkYXNoYm9hcmRVcmw/OiBzdHJpbmc7XG4gIGRpcmVjdFVybD86IHN0cmluZztcbn07XG5cbnR5cGUgQ29ubmVjdENsb3VkID0ge1xuICBhY2NvdW50TmFtZTogc3RyaW5nO1xufTtcblxudHlwZSBDb250ZW50UmVjb3JkUmVjb3JkID0ge1xuICAkc2NoZW1hOiBTY2hlbWFVUkw7XG4gIHNlcnZlclR5cGU6IFNlcnZlclR5cGU7XG4gIHNlcnZlclVybDogc3RyaW5nO1xuICBzYXZlTmFtZTogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgZGlzbWlzc2VkQXQ6IHN0cmluZztcbiAgY29uZmlndXJhdGlvbk5hbWU6IHN0cmluZztcbiAgdHlwZTogQ29udGVudFR5cGU7XG4gIGRlcGxveW1lbnRFcnJvcjogQWdlbnRFcnJvciB8IG51bGw7XG4gIGNvbm5lY3RDbG91ZDogQ29ubmVjdENsb3VkIHwgbnVsbDtcbn0gJiBDb250ZW50UmVjb3JkTG9jYXRpb247XG5cbmV4cG9ydCB0eXBlIFByZUNvbnRlbnRSZWNvcmQgPSB7XG4gIHN0YXRlOiBDb250ZW50UmVjb3JkU3RhdGUuTkVXO1xufSAmIENvbnRlbnRSZWNvcmRSZWNvcmQgJlxuICBPcHRpb25hbFByZURlcGxveW1lbnRGaWVsZHM7XG5cbmV4cG9ydCB0eXBlIFByZUNvbnRlbnRSZWNvcmRXaXRoQ29uZmlnID0gUHJlQ29udGVudFJlY29yZCAmXG4gIENvbmZpZ3VyYXRpb25Mb2NhdGlvbjtcblxuZXhwb3J0IHR5cGUgQ29udGVudFJlY29yZCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgYnVuZGxlSWQ6IHN0cmluZztcbiAgYnVuZGxlVXJsOiBzdHJpbmc7XG4gIGRhc2hib2FyZFVybDogc3RyaW5nO1xuICBkaXJlY3RVcmw6IHN0cmluZztcbiAgbG9nc1VybDogc3RyaW5nO1xuICBmaWxlczogc3RyaW5nW107XG4gIGRlcGxveWVkQXQ6IHN0cmluZztcbiAgc3RhdGU6IENvbnRlbnRSZWNvcmRTdGF0ZS5ERVBMT1lFRDtcbn0gJiBDb250ZW50UmVjb3JkUmVjb3JkICZcbiAgQ29uZmlndXJhdGlvbjtcblxuZXhwb3J0IHR5cGUgQWxsQ29udGVudFJlY29yZFR5cGVzID1cbiAgfCBDb250ZW50UmVjb3JkXG4gIHwgUHJlQ29udGVudFJlY29yZFxuICB8IFByZUNvbnRlbnRSZWNvcmRXaXRoQ29uZmlnXG4gIHwgQ29udGVudFJlY29yZEVycm9yO1xuXG5leHBvcnQgdHlwZSBFbnZpcm9ubWVudCA9IEFycmF5PHN0cmluZz47XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1Y2Nlc3NmdWwoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGJvb2xlYW4gfCB1bmRlZmluZWQge1xuICBpZiAoZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaXNDb250ZW50UmVjb3JkRXJyb3IoZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIEJvb2xlYW4oIWQuZGVwbG95bWVudEVycm9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5zdWNjZXNzZnVsKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgcmVzdWx0ID0gaXNTdWNjZXNzZnVsKGQpO1xuICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiAhcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb250ZW50UmVjb3JkRXJyb3IoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZEVycm9yIHtcbiAgcmV0dXJuIEJvb2xlYW4oZCAmJiBkLnN0YXRlID09PSBDb250ZW50UmVjb3JkU3RhdGUuRVJST1IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmVDb250ZW50UmVjb3JkKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBkIGlzIFByZUNvbnRlbnRSZWNvcmQge1xuICByZXR1cm4gQm9vbGVhbihkICYmIGQuc3RhdGUgPT09IENvbnRlbnRSZWNvcmRTdGF0ZS5ORVcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcmVDb250ZW50UmVjb3JkV2l0aENvbmZpZyhcbiAgZDogQWxsQ29udGVudFJlY29yZFR5cGVzIHwgdW5kZWZpbmVkLFxuKTogZCBpcyBQcmVDb250ZW50UmVjb3JkV2l0aENvbmZpZyB7XG4gIHJldHVybiBCb29sZWFuKFxuICAgIGQgJiZcbiAgICBkLnN0YXRlID09PSBDb250ZW50UmVjb3JkU3RhdGUuTkVXICYmXG4gICAgKGQgYXMgUHJlQ29udGVudFJlY29yZFdpdGhDb25maWcpLmNvbmZpZ3VyYXRpb25OYW1lICE9PSB1bmRlZmluZWQsXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1Y2Nlc3NmdWxQcmVDb250ZW50UmVjb3JkKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBkIGlzIFByZUNvbnRlbnRSZWNvcmQge1xuICBpZiAoaXNQcmVDb250ZW50UmVjb3JkKGQpKSB7XG4gICAgY29uc3Qgc3VjY2VzcyA9IGlzU3VjY2Vzc2Z1bChkKTtcbiAgICBpZiAoc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbnN1Y2Nlc3NmdWxQcmVDb250ZW50UmVjb3JkKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBkIGlzIFByZUNvbnRlbnRSZWNvcmQge1xuICBpZiAoaXNQcmVDb250ZW50UmVjb3JkKGQpKSB7XG4gICAgY29uc3QgZmFpbHVyZSA9IGlzVW5zdWNjZXNzZnVsKGQpO1xuICAgIGlmIChmYWlsdXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWlsdXJlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZCB7XG4gIHJldHVybiBCb29sZWFuKGQgJiYgZC5zdGF0ZSA9PT0gQ29udGVudFJlY29yZFN0YXRlLkRFUExPWUVEKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VjY2Vzc2Z1bENvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZCB7XG4gIGlmIChpc0NvbnRlbnRSZWNvcmQoZCkpIHtcbiAgICBjb25zdCBzdWNjZXNzID0gaXNTdWNjZXNzZnVsKGQpO1xuICAgIGlmIChzdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Vuc3VjY2Vzc2Z1bENvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZCB7XG4gIGlmIChpc0NvbnRlbnRSZWNvcmQoZCkpIHtcbiAgICBjb25zdCBmYWlsdXJlID0gaXNVbnN1Y2Nlc3NmdWwoZCk7XG4gICAgaWYgKGZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhaWx1cmU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5leHBvcnQgZW51bSBDb250ZW50UmVjb3JkRmlsZVR5cGUge1xuICBSRUdVTEFSID0gXCJSRUdVTEFSXCIsXG4gIERJUkVDVE9SWSA9IFwiRElSXCIsXG59XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRSZWNvcmRGaWxlID0ge1xuICBpZDogc3RyaW5nO1xuICBmaWxlVHlwZTogQ29udGVudFJlY29yZEZpbGVUeXBlO1xuICBiYXNlOiBzdHJpbmc7XG4gIHJlYXNvbjogRmlsZU1hdGNoIHwgbnVsbDsgLy8gcGF0dGVybiB0aGF0IG1hdGNoZWQgYSBmaWxlLCBudWxsIGlmIG5vIG1hdGNoXG4gIGZpbGVzOiBDb250ZW50UmVjb3JkRmlsZVtdO1xuICBpc0RpcjogYm9vbGVhbjtcbiAgaXNGaWxlOiBib29sZWFuO1xuICBtb2RpZmllZERhdGV0aW1lOiBzdHJpbmc7XG4gIHJlbDogc3RyaW5nO1xuICByZWxEaXI6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICBmaWxlQ291bnQ6IG51bWJlcjtcbiAgYWJzOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZW51bSBGaWxlTWF0Y2hTb3VyY2Uge1xuICBGSUxFID0gXCJmaWxlXCIsXG4gIEJVSUxUX0lOID0gXCJidWlsdC1pblwiLFxuICBQRVJNSVNTSU9OU19FUlJPUiA9IFwicGVybWlzc2lvbnNcIixcbn1cblxuZXhwb3J0IHR5cGUgRmlsZU1hdGNoID0ge1xuICBzb3VyY2U6IEZpbGVNYXRjaFNvdXJjZTtcbiAgcGF0dGVybjogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICBmaWxlUGF0aDogc3RyaW5nO1xuICBleGNsdWRlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGVudW0gRmlsZUFjdGlvbiB7XG4gIElOQ0xVREUgPSBcImluY2x1ZGVcIixcbiAgRVhDTFVERSA9IFwiZXhjbHVkZVwiLFxufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmV4cG9ydCBlbnVtIEVycm9yTWVzc2FnZUFjdGlvbklkcyB7XG4gIEVkaXRDb25maWd1cmF0aW9uLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvck1lc3NhZ2VBY3Rpb25JZChcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgc2VhcmNoVmFsdWU6IGFueSxcbik6IHNlYXJjaFZhbHVlIGlzIEVycm9yTWVzc2FnZUFjdGlvbklkcyB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKEVycm9yTWVzc2FnZUFjdGlvbklkcykuaW5jbHVkZXMoc2VhcmNoVmFsdWUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uIHtcbiAgZGV0ZWN0aW9uU3RyOiBzdHJpbmc7XG4gIGFuY2hvclN0cj86IHN0cmluZztcbiAgYnV0dG9uU3RyPzogc3RyaW5nO1xuICBhY3Rpb25JZDogRXJyb3JNZXNzYWdlQWN0aW9uSWRzO1xufVxuXG5leHBvcnQgY29uc3QgRXJyb3JNZXNzYWdlU3BsaXRPcHRpb25zOiBFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbltdID0gW1xuICB7XG4gICAgZGV0ZWN0aW9uU3RyOiBcImVkaXRpbmcgeW91ciBjb25maWd1cmF0aW9uXCIsXG4gICAgYW5jaG9yU3RyOiBcImVkaXRpbmdcIixcbiAgICBidXR0b25TdHI6IFwiRWRpdCBDb25maWd1cmF0aW9uXCIsXG4gICAgYWN0aW9uSWQ6IEVycm9yTWVzc2FnZUFjdGlvbklkcy5FZGl0Q29uZmlndXJhdGlvbixcbiAgfSxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24oXG4gIGFjdGlvbklkOiBFcnJvck1lc3NhZ2VBY3Rpb25JZHMsXG4pOiBFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbiB8IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBmaW5kRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24oXG4gIGVycm9yTWVzc2FnZTogc3RyaW5nLFxuKTogRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24gfCB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gZmluZEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uKFxuICB0YXJnZXQ6IEVycm9yTWVzc2FnZUFjdGlvbklkcyB8IHN0cmluZyxcbik6IEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIEVycm9yTWVzc2FnZVNwbGl0T3B0aW9ucy5maW5kKChvcHRpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRhcmdldC5pbmNsdWRlcyhvcHRpb24uZGV0ZWN0aW9uU3RyKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3JNZXNzYWdlQWN0aW9uSWQodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIG9wdGlvbi5hY3Rpb25JZCA9PT0gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IEludGVncmF0aW9uUmVxdWVzdCB9IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IERlcGxveW1lbnRTZWxlY3RvciB9IGZyb20gXCIuLi9zaGFyZWRcIjtcblxuZXhwb3J0IGVudW0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIHtcbiAgLy8gU2VudCBmcm9tIHdlYnZpZXdWaWV3IHRvIGhvc3RcbiAgREVQTE9ZID0gXCJkZXBsb3lcIixcbiAgSU5JVElBTElaSU5HID0gXCJpbml0aWFsaXppbmdcIixcbiAgRURJVF9DT05GSUdVUkFUSU9OID0gXCJlZGl0Q29uZmlndXJhdGlvblwiLFxuICBTSE9XX1NFTEVDVF9DT05GSUdVUkFUSU9OID0gXCJzaG93U2VsZWN0Q29uZmlndXJhdGlvblwiLFxuICBOQVZJR0FURSA9IFwibmF2aWdhdGVcIixcbiAgU0FWRV9TRUxFQ1RJT05fU1RBVEUgPSBcInNhdmVTZWxlY3Rpb25TdGF0ZVwiLFxuICBWU0NPREVfT1BFTiA9IFwidnNDb2RlT3BlblwiLFxuICBJTkNMVURFX0ZJTEUgPSBcImluY2x1ZGVGaWxlXCIsXG4gIEVYQ0xVREVfRklMRSA9IFwiZXhjbHVkZUZpbGVcIixcbiAgUkVRVUVTVF9GSUxFU19MSVNUUyA9IFwicmVxdWVzdEZpbGVzTGlzdHNcIixcbiAgUkVRVUVTVF9DUkVERU5USUFMUyA9IFwicmVxdWVzdENyZWRlbnRpYWxzXCIsXG4gIFZTQ09ERV9PUEVOX1JFTEFUSVZFID0gXCJWU0NvZGVPcGVuUmVsYXRpdmVNc2dcIixcbiAgQUREX1NFQ1JFVCA9IFwiYWRkU2VjcmV0XCIsXG4gIEdFVF9JTlRFR1JBVElPTlMgPSBcImdldEludGVncmF0aW9uc1wiLFxuICBBRERfSU5URUdSQVRJT05fUkVRVUVTVCA9IFwiYWRkSW50ZWdyYXRpb25SZXF1ZXN0XCIsXG4gIERFTEVURV9JTlRFR1JBVElPTl9SRVFVRVNUID0gXCJkZWxldGVJbnRlZ3JhdGlvblJlcXVlc3RcIixcbiAgQ0xFQVJfQUxMX0lOVEVHUkFUSU9OX1JFUVVFU1RTID0gXCJjbGVhckFsbEludGVncmF0aW9uUmVxdWVzdHNcIixcbiAgUkVGUkVTSF9QWVRIT05fUEFDS0FHRVMgPSBcIlJlZnJlc2hQeXRob25QYWNrYWdlc01zZ1wiLFxuICBTQ0FOX1BZVEhPTl9QQUNLQUdFX1JFUVVJUkVNRU5UUyA9IFwiU2NhblB5dGhvblBhY2thZ2VSZXF1aXJlbWVudHNNc2dcIixcbiAgUkVGUkVTSF9SX1BBQ0tBR0VTID0gXCJSZWZyZXNoUlBhY2thZ2VzTXNnXCIsXG4gIFNDQU5fUl9QQUNLQUdFX1JFUVVJUkVNRU5UUyA9IFwiU2NhblJQYWNrYWdlUmVxdWlyZW1lbnRzTXNnXCIsXG4gIFNFTEVDVF9ERVBMT1lNRU5UID0gXCJzZWxlY3REZXBsb3ltZW50XCIsXG4gIE5FV19ERVBMT1lNRU5UID0gXCJuZXdEZXBsb3ltZW50XCIsXG4gIE5FV19DUkVERU5USUFMX0ZPUl9ERVBMT1lNRU5UID0gXCJuZXdDcmVkZW50aWFsRm9yRGVwbG95bWVudFwiLFxuICBORVdfQ1JFREVOVElBTCA9IFwibmV3Q3JlZGVudGlhbFwiLFxuICBERUxFVEVfQ1JFREVOVElBTCA9IFwiZGVsZXRlQ3JlZGVudGlhbFwiLFxuICBWSUVXX1BVQkxJU0hJTkdfTE9HID0gXCJ2aWV3UHVibGlzaGluZ0xvZ1wiLFxuICBTSE9XX0FTU09DSUFURV9HVUlEID0gXCJTaG93QXNzb2NpYXRlR1VJRFwiLFxuICBVUERBVEVfU0VMRUNUSU9OX0NSRURFTlRJQUxfU1RBVEUgPSBcIlVwZGF0ZVNlbGVjdGlvbkNyZWRlbnRpYWxTdGF0ZU1zZ1wiLFxuICBVUERBVEVfU0VMRUNUSU9OX0lTX1BSRV9DT05URU5UX1JFQ09SRCA9IFwiVXBkYXRlU2VsZWN0aW9uSXNQcmVDb250ZW50UmVjb3JkTXNnXCIsXG4gIENPUFlfU1lTVEVNX0lORk8gPSBcImNvcHlTeXN0ZW1JbmZvXCIsXG4gIFJFTkRFUl9DT05URU5UID0gXCJyZW5kZXJDb250ZW50XCIsXG59XG5cbmV4cG9ydCB0eXBlIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBUIGV4dGVuZHMgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLFxuICBVIGV4dGVuZHMgb2JqZWN0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuPiA9IFUgZXh0ZW5kcyB1bmRlZmluZWRcbiAgPyB7IGtpbmQ6IFQgfVxuICA6IHtcbiAgICAgIGtpbmQ6IFQ7XG4gICAgICBjb250ZW50OiBVO1xuICAgIH07XG5cbmV4cG9ydCB0eXBlIFdlYnZpZXdUb0hvc3RNZXNzYWdlID1cbiAgfCBEZXBsb3lNc2dcbiAgfCBJbml0aWFsaXppbmdNc2dcbiAgfCBFZGl0Q29uZmlndXJhdGlvbk1zZ1xuICB8IFNob3dTZWxlY3RDb25maWd1cmF0aW9uTXNnXG4gIHwgTmF2aWdhdGVNc2dcbiAgfCBTYXZlU2VsZWN0aW9uU3RhdGVkTXNnXG4gIHwgVlNDb2RlT3Blbk1zZ1xuICB8IEluY2x1ZGVGaWxlTXNnXG4gIHwgRXhjbHVkZUZpbGVNc2dcbiAgfCBSZXF1ZXN0RmlsZXNMaXN0c01zZ1xuICB8IFJlcXVlc3RDcmVkZW50aWFsc01zZ1xuICB8IEFkZFNlY3JldE1zZ1xuICB8IFJlZnJlc2hQeXRob25QYWNrYWdlc01zZ1xuICB8IFZTQ29kZU9wZW5SZWxhdGl2ZU1zZ1xuICB8IFNjYW5QeXRob25QYWNrYWdlUmVxdWlyZW1lbnRzTXNnXG4gIHwgUmVmcmVzaFJQYWNrYWdlc01zZ1xuICB8IFNjYW5SUGFja2FnZVJlcXVpcmVtZW50c01zZ1xuICB8IFNlbGVjdERlcGxveW1lbnRNc2dcbiAgfCBOZXdEZXBsb3ltZW50TXNnXG4gIHwgTmV3Q3JlZGVudGlhbEZvckRlcGxveW1lbnRNc2dcbiAgfCBOZXdDcmVkZW50aWFsTXNnXG4gIHwgRGVsZXRlQ3JlZGVudGlhbE1zZ1xuICB8IFZpZXdQdWJsaXNoaW5nTG9nXG4gIHwgU2hvd0Fzc29jaWF0ZUdVSURNc2dcbiAgfCBVcGRhdGVTZWxlY3Rpb25DcmVkZW50aWFsU3RhdGVNc2dcbiAgfCBVcGRhdGVTZWxlY3Rpb25Jc1ByZUNvbnRlbnRSZWNvcmRNc2dcbiAgfCBDb3B5U3lzdGVtSW5mb01zZ1xuICB8IEFkZEludGVncmF0aW9uUmVxdWVzdE1zZ1xuICB8IERlbGV0ZUludGVncmF0aW9uUmVxdWVzdE1zZ1xuICB8IENsZWFyQWxsSW50ZWdyYXRpb25SZXF1ZXN0c01zZ1xuICB8IFJlbmRlckNvbnRlbnRNc2c7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gaXNXZWJ2aWV3VG9Ib3N0TWVzc2FnZShtc2c6IGFueSk6IG1zZyBpcyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSB7XG4gIHJldHVybiAoXG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERVBMT1kgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkVESVRfQ09ORklHVVJBVElPTiB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuSU5JVElBTElaSU5HIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5OQVZJR0FURSB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19TRUxFQ1RfQ09ORklHVVJBVElPTiB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT05fU1RBVEUgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5JTkNMVURFX0ZJTEUgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkVYQ0xVREVfRklMRSB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVRVUVTVF9GSUxFU19MSVNUUyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVRVUVTVF9DUkVERU5USUFMUyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQUREX1NFQ1JFVCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9QWVRIT05fUEFDS0FHRVMgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQ0FOX1BZVEhPTl9QQUNLQUdFX1JFUVVJUkVNRU5UUyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9SX1BBQ0tBR0VTIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQ0FOX1JfUEFDS0FHRV9SRVFVSVJFTUVOVFMgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNFTEVDVF9ERVBMT1lNRU5UIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ORVdfREVQTE9ZTUVOVCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0NSRURFTlRJQUxfRk9SX0RFUExPWU1FTlQgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5FV19DUkVERU5USUFMIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfQ1JFREVOVElBTCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVklFV19QVUJMSVNISU5HX0xPRyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19BU1NPQ0lBVEVfR1VJRCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9DUkVERU5USUFMX1NUQVRFIHx8XG4gICAgbXNnLmtpbmQgPT09XG4gICAgICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9JU19QUkVfQ09OVEVOVF9SRUNPUkQgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkNPUFlfU1lTVEVNX0lORk8gfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkFERF9JTlRFR1JBVElPTl9SRVFVRVNUIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfSU5URUdSQVRJT05fUkVRVUVTVCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQ0xFQVJfQUxMX0lOVEVHUkFUSU9OX1JFUVVFU1RTIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5HRVRfSU5URUdSQVRJT05TIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRU5ERVJfQ09OVEVOVFxuICApO1xufVxuXG5leHBvcnQgdHlwZSBEZXBsb3lNc2cgPSBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkRFUExPWSxcbiAge1xuICAgIGRlcGxveW1lbnROYW1lOiBzdHJpbmc7XG4gICAgY3JlZGVudGlhbE5hbWU6IHN0cmluZztcbiAgICBjb25maWd1cmF0aW9uTmFtZTogc3RyaW5nO1xuICAgIHByb2plY3REaXI6IHN0cmluZztcbiAgICBzZWNyZXRzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6aW5nTXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLklOSVRJQUxJWklORz47XG5cbmV4cG9ydCB0eXBlIEVkaXRDb25maWd1cmF0aW9uU2VsZWN0aW9uID0ge1xuICAvLyBudW1iZXJzIGJlbG93IGFyZSBiYXNlLXplcm9cbiAgc3RhcnQ6IHtcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY2hhcmFjdGVyOiBudW1iZXI7XG4gIH07XG4gIGVuZD86IHtcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY2hhcmFjdGVyOiBudW1iZXI7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBFZGl0Q29uZmlndXJhdGlvbk1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuRURJVF9DT05GSUdVUkFUSU9OLFxuICB7XG4gICAgY29uZmlndXJhdGlvblBhdGg6IHN0cmluZztcbiAgICBzZWxlY3Rpb24/OiBFZGl0Q29uZmlndXJhdGlvblNlbGVjdGlvbjtcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgU2hvd1NlbGVjdENvbmZpZ3VyYXRpb25Nc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19TRUxFQ1RfQ09ORklHVVJBVElPTj47XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRlTXNnID0gQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5OQVZJR0FURSxcbiAge1xuICAgIHVyaVBhdGg6IHN0cmluZztcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgU2F2ZVNlbGVjdGlvblN0YXRlZE1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT05fU1RBVEUsXG4gIHtcbiAgICBzdGF0ZTogRGVwbG95bWVudFNlbGVjdG9yO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBWU0NvZGVPcGVuTXNnID0gQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5WU0NPREVfT1BFTixcbiAge1xuICAgIHVyaTogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBJbmNsdWRlRmlsZU1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuSU5DTFVERV9GSUxFLFxuICB7XG4gICAgcGF0aDogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBFeGNsdWRlRmlsZU1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuRVhDTFVERV9GSUxFLFxuICB7XG4gICAgcGF0aDogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBSZXF1ZXN0RmlsZXNMaXN0c01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRVFVRVNUX0ZJTEVTX0xJU1RTPjtcblxuZXhwb3J0IHR5cGUgUmVxdWVzdENyZWRlbnRpYWxzTXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlJFUVVFU1RfQ1JFREVOVElBTFM+O1xuXG5leHBvcnQgdHlwZSBBZGRTZWNyZXRNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQUREX1NFQ1JFVD47XG5cbmV4cG9ydCB0eXBlIEFkZEludGVncmF0aW9uUmVxdWVzdE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5BRERfSU5URUdSQVRJT05fUkVRVUVTVD47XG5cbmV4cG9ydCB0eXBlIERlbGV0ZUludGVncmF0aW9uUmVxdWVzdE1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuREVMRVRFX0lOVEVHUkFUSU9OX1JFUVVFU1QsXG4gIHtcbiAgICByZXF1ZXN0OiBJbnRlZ3JhdGlvblJlcXVlc3Q7XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIENsZWFyQWxsSW50ZWdyYXRpb25SZXF1ZXN0c01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5DTEVBUl9BTExfSU5URUdSQVRJT05fUkVRVUVTVFM+O1xuXG5leHBvcnQgdHlwZSBSZWZyZXNoUHl0aG9uUGFja2FnZXNNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9QWVRIT05fUEFDS0FHRVM+O1xuXG5leHBvcnQgdHlwZSBWU0NvZGVPcGVuUmVsYXRpdmVNc2cgPSBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFLFxuICB7XG4gICAgcmVsYXRpdmVQYXRoOiBzdHJpbmc7XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFNjYW5QeXRob25QYWNrYWdlUmVxdWlyZW1lbnRzTXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNDQU5fUFlUSE9OX1BBQ0tBR0VfUkVRVUlSRU1FTlRTPjtcblxuZXhwb3J0IHR5cGUgUmVmcmVzaFJQYWNrYWdlc01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRUZSRVNIX1JfUEFDS0FHRVM+O1xuXG5leHBvcnQgdHlwZSBTY2FuUlBhY2thZ2VSZXF1aXJlbWVudHNNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0NBTl9SX1BBQ0tBR0VfUkVRVUlSRU1FTlRTPjtcblxuZXhwb3J0IHR5cGUgU2VsZWN0RGVwbG95bWVudE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TRUxFQ1RfREVQTE9ZTUVOVD47XG5cbmV4cG9ydCB0eXBlIE5ld0RlcGxveW1lbnRNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0RFUExPWU1FTlQ+O1xuXG5leHBvcnQgdHlwZSBOZXdDcmVkZW50aWFsRm9yRGVwbG95bWVudE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ORVdfQ1JFREVOVElBTF9GT1JfREVQTE9ZTUVOVD47XG5cbmV4cG9ydCB0eXBlIE5ld0NyZWRlbnRpYWxNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0NSRURFTlRJQUw+O1xuXG5leHBvcnQgdHlwZSBEZWxldGVDcmVkZW50aWFsTXNnID0gQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfQ1JFREVOVElBTCxcbiAge1xuICAgIGNyZWRlbnRpYWxHVUlEOiBzdHJpbmc7XG4gICAgY3JlZGVudGlhbE5hbWU6IHN0cmluZztcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgVmlld1B1Ymxpc2hpbmdMb2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVklFV19QVUJMSVNISU5HX0xPRz47XG5cbmV4cG9ydCB0eXBlIFNob3dBc3NvY2lhdGVHVUlETXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNIT1dfQVNTT0NJQVRFX0dVSUQ+O1xuXG5leHBvcnQgdHlwZSBVcGRhdGVTZWxlY3Rpb25DcmVkZW50aWFsU3RhdGVNc2cgPSBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlVQREFURV9TRUxFQ1RJT05fQ1JFREVOVElBTF9TVEFURSxcbiAge1xuICAgIHN0YXRlOiBzdHJpbmc7XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZVNlbGVjdGlvbklzUHJlQ29udGVudFJlY29yZE1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9JU19QUkVfQ09OVEVOVF9SRUNPUkQsXG4gIHtcbiAgICBzdGF0ZTogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBDb3B5U3lzdGVtSW5mb01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5DT1BZX1NZU1RFTV9JTkZPPjtcblxuZXhwb3J0IHR5cGUgUmVuZGVyQ29udGVudE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRU5ERVJfQ09OVEVOVD47XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHtcbiAgQ29uZmlndXJhdGlvbixcbiAgQ29uZmlndXJhdGlvbkVycm9yLFxuICBDb250ZW50UmVjb3JkLFxuICBpc0NvbmZpZ3VyYXRpb25FcnJvcixcbiAgUHJlQ29udGVudFJlY29yZCxcbn0gZnJvbSBcIi4uL2FwaVwiO1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlVGl0bGUgPSAoXG4gIGNvbnRlbnRSZWNvcmQ6IENvbnRlbnRSZWNvcmQgfCBQcmVDb250ZW50UmVjb3JkLFxuICBjb25maWc/OiBDb25maWd1cmF0aW9uIHwgQ29uZmlndXJhdGlvbkVycm9yLFxuKToge1xuICB0aXRsZTogc3RyaW5nO1xuICBwcm9ibGVtOiBib29sZWFuO1xufSA9PiB7XG4gIGxldCB0aXRsZSA9XG4gICAgY29uZmlnICYmIGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZylcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IGNvbmZpZz8uY29uZmlndXJhdGlvbi50aXRsZTtcbiAgaWYgKHRpdGxlKSB7XG4gICAgbGV0IGNvbmZpZ0NvZGUgPSAoY29uZmlnPy5jb25maWd1cmF0aW9uTmFtZSB8fCBcIlwiKS5zcGxpdChcIi1cIikuYXQoLTEpO1xuICAgIGNvbmZpZ0NvZGUgPSBjb25maWdDb2RlID8gYCAoJHtjb25maWdDb2RlfSlgIDogXCJcIjtcbiAgICB0aXRsZSArPSBjb25maWdDb2RlO1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZSxcbiAgICAgIHByb2JsZW06IGZhbHNlLFxuICAgIH07XG4gIH1cbiAgLy8gTm8gdGl0bGUuLi4gZGV0ZXJtaW5lIHdoYXQgaW5mbyB3ZSBjYW4gcHJvdmlkZVxuICBpZiAoIWNvbnRlbnRSZWNvcmQuY29uZmlndXJhdGlvbk5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IGBVbmtub3duIFRpdGxlIER1ZSBUbyBNaXNzaW5nIENvbmZpZyBFbnRyeSBpbiAke2NvbnRlbnRSZWNvcmQuc2F2ZU5hbWV9YCxcbiAgICAgIHByb2JsZW06IHRydWUsXG4gICAgfTtcbiAgfVxuICBpZiAoIWNvbmZpZykge1xuICAgIC8vIGlmIHdlIGhhZCBhIGNvbnRlbnRSZWNvcmQgY29uZmlndXJhdGlvbiBuYW1lLCAgYnV0IGRvIG5vdCBoYXZlIGEgY29uZmlnIG9iamVjdCxcbiAgICAvLyB0aGVuIHRoZSBjb25maWcgZmlsZSBpcyBtaXNzaW5nLlxuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogYFVua25vd24gVGl0bGUgRHVlIHRvIE1pc3NpbmcgQ29uZmlnICR7Y29udGVudFJlY29yZC5jb25maWd1cmF0aW9uTmFtZX1gLFxuICAgICAgcHJvYmxlbTogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IGBVbmtub3duIFRpdGxlIOKAoiBFcnJvciBpbiAke2NvbmZpZy5jb25maWd1cmF0aW9uTmFtZX1gLFxuICAgICAgcHJvYmxlbTogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgbGV0IGNvbmZpZ05hbWUgPSBjb25maWcuY29uZmlndXJhdGlvbk5hbWU7XG4gIGlmICghY29uZmlnTmFtZSkge1xuICAgIC8vIHdlJ3JlIGd1YXJhbnRlZWQgdG8gaGF2ZSBhIHZhbHVlIGJlY2F1c2Ugb2YgdGhlIGNoZWNrIGFib3ZlXG4gICAgY29uZmlnTmFtZSA9IGNvbnRlbnRSZWNvcmQuY29uZmlndXJhdGlvbk5hbWU7XG4gIH1cbiAgaWYgKGNvbmZpZ05hbWUpIHtcbiAgICB0aXRsZSA9IGBObyBUaXRsZSAoaW4gJHtjb25maWdOYW1lfSlgO1xuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gYE5vIFRpdGxlIGF2YWlsYWJsZWA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBwcm9ibGVtOiB0cnVlLFxuICB9O1xufTtcbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQge1xuICBDb25maWd1cmF0aW9uLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIENvbmZpZ3VyYXRpb25JbnNwZWN0aW9uUmVzdWx0LFxuICBDb250ZW50VHlwZSxcbiAgaXNDb25maWd1cmF0aW9uRXJyb3IsXG59IGZyb20gXCIuLi9hcGlcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckluc3BlY3Rpb25SZXN1bHRzVG9UeXBlKFxuICBpbnNwZWN0aW9uUmVzdWx0czogQ29uZmlndXJhdGlvbkluc3BlY3Rpb25SZXN1bHRbXSxcbiAgdHlwZTogQ29udGVudFR5cGUgfCB1bmRlZmluZWQsXG4pOiBDb25maWd1cmF0aW9uSW5zcGVjdGlvblJlc3VsdFtdIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IENvbnRlbnRUeXBlLlVOS05PV04pIHtcbiAgICByZXR1cm4gaW5zcGVjdGlvblJlc3VsdHM7XG4gIH1cbiAgcmV0dXJuIGluc3BlY3Rpb25SZXN1bHRzLmZpbHRlcigoY2ZnKSA9PiBpc0luc3BlY3Rpb25SZXN1bHRPZlR5cGUoY2ZnLCB0eXBlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0luc3BlY3Rpb25SZXN1bHRPZlR5cGUoXG4gIGluc3BlY3Rpb25SZXN1bHQ6IENvbmZpZ3VyYXRpb25JbnNwZWN0aW9uUmVzdWx0LFxuICB0eXBlPzogQ29udGVudFR5cGUsXG4pOiBib29sZWFuIHtcbiAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaW5zcGVjdGlvblJlc3VsdC5jb25maWd1cmF0aW9uLnR5cGUgPT09IHR5cGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJDb25maWd1cmF0aW9uc1RvVmFsaWRBbmRUeXBlKFxuICBjb25maWdzOiAoQ29uZmlndXJhdGlvbiB8IENvbmZpZ3VyYXRpb25FcnJvcilbXSxcbiAgdHlwZTogQ29udGVudFR5cGUgfCB1bmRlZmluZWQsXG4pOiBDb25maWd1cmF0aW9uW10ge1xuICBsZXQgcmVzdWx0ID0gY29uZmlncy5maWx0ZXIoXG4gICAgKGNmZyk6IGNmZyBpcyBDb25maWd1cmF0aW9uID0+ICFpc0NvbmZpZ3VyYXRpb25FcnJvcihjZmcpLFxuICApO1xuICBpZiAodHlwZSAmJiB0eXBlICE9PSBDb250ZW50VHlwZS5VTktOT1dOKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoY2ZnKSA9PiBpc0NvbmZpZ3VyYXRpb25PZlR5cGUoY2ZnLCB0eXBlKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZmlndXJhdGlvbk9mVHlwZShcbiAgY29uZmlnOiBDb25maWd1cmF0aW9uLFxuICB0eXBlPzogQ29udGVudFR5cGUsXG4pOiBib29sZWFuIHtcbiAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZmlnLmNvbmZpZ3VyYXRpb24udHlwZSA9PT0gdHlwZTtcbn1cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBSUGFja2FnZSB9IGZyb20gXCIuLi8uLi9hcGkvdHlwZXMvcGFja2FnZXNcIjtcbmltcG9ydCB7XG4gIENyZWRlbnRpYWwsXG4gIENvbmZpZ3VyYXRpb24sXG4gIENvbnRlbnRSZWNvcmQsXG4gIENvbnRlbnRSZWNvcmRGaWxlLFxuICBQcmVDb250ZW50UmVjb3JkLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIEludGVncmF0aW9uUmVxdWVzdCxcbiAgU2VydmVyU2V0dGluZ3MsXG59IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IERlcGxveW1lbnRTZWxlY3RvciB9IGZyb20gXCIuLi9zaGFyZWRcIjtcblxuZXhwb3J0IGVudW0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlIHtcbiAgLy8gU2VudCBmcm9tIGhvc3QgdG8gd2Vidmlld1ZpZXdcbiAgSU5JVElBTElaSU5HX1JFUVVFU1RfQ09NUExFVEUgPSBcImluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZVwiLFxuICBSRUZSRVNIX0NPTlRFTlRSRUNPUkRfREFUQSA9IFwicmVmcmVzaENvbnRlbnRSZWNvcmREYXRhXCIsXG4gIFJFRlJFU0hfQ09ORklHX0RBVEEgPSBcInJlZnJlc2hDb25maWdEYXRhXCIsXG4gIFJFRlJFU0hfQ1JFREVOVElBTF9EQVRBID0gXCJyZWZyZXNoQ3JlZGVudGlhbERhdGFcIixcbiAgUFVCTElTSF9DQU5DRUwgPSBcInB1Ymxpc2hDYW5jZWxcIixcbiAgUFVCTElTSF9JTklUID0gXCJwdWJsaXNoSW5pdFwiLFxuICBQVUJMSVNIX1NUQVJUID0gXCJwdWJsaXNoU3RhcnRcIixcbiAgUFVCTElTSF9GSU5JU0hfU1VDQ0VTUyA9IFwicHVibGlzaEZpbmlzaFN1Y2Nlc3NcIixcbiAgUFVCTElTSF9GSU5JU0hfRkFJTFVSRSA9IFwicHVibGlzaEZpbmlzaEZhaWx1cmVcIixcbiAgQ09OVEVOVF9SRU5ERVJfU1VDQ0VTUyA9IFwiY29udGVudFJlbmRlclN1Y2Nlc3NcIixcbiAgQ09OVEVOVF9SRU5ERVJfRkFJTFVSRSA9IFwiY29udGVudFJlbmRlckZhaWx1cmVcIixcbiAgVVBEQVRFX0NPTlRFTlRSRUNPUkRfU0VMRUNUSU9OID0gXCJ1cGRhdGVDb250ZW50UmVjb3JkU2VsZWN0aW9uXCIsXG4gIFNBVkVfU0VMRUNUSU9OID0gXCJzYXZlU2VsZWN0aW9uXCIsXG4gIFJFRlJFU0hfRklMRVMgPSBcInJlZnJlc2hGaWxlc1wiLFxuICBVUERBVEVfUFlUSE9OX1BBQ0tBR0VTID0gXCJ1cGRhdGVQeXRob25QYWNrYWdlc1wiLFxuICBVUERBVEVfUl9QQUNLQUdFUyA9IFwidXBkYXRlUlBhY2thZ2VzXCIsXG4gIFNIT1dfRElTQUJMRV9PVkVSTEFZID0gXCJzaG93RGlzYWJsZU92ZXJsYXlcIixcbiAgSElERV9ESVNBQkxFX09WRVJMQVkgPSBcImhpZGVEaXNhYmxlT3ZlcmxheVwiLFxuICBTRVRfUEFUSF9TRVBBUkFUT1IgPSBcInNldFBhdGhTZXBhcmF0b3JcIixcbiAgVVBEQVRFX1NFUlZFUl9FTlZJUk9OTUVOVCA9IFwidXBkYXRlU2VydmVyRW52aXJvbm1lbnRcIixcbiAgUkVGUkVTSF9JTlRFR1JBVElPTl9SRVFVRVNUUyA9IFwicmVmcmVzaEludGVncmF0aW9uUmVxdWVzdHNcIixcbiAgUkVGUkVTSF9TRVJWRVJfU0VUVElOR1MgPSBcInJlZnJlc2hTZXJ2ZXJTZXR0aW5nc1wiLFxufVxuXG5leHBvcnQgdHlwZSBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxcbiAgVCBleHRlbmRzIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZSxcbiAgVSBleHRlbmRzIG9iamVjdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbj4gPSBVIGV4dGVuZHMgdW5kZWZpbmVkXG4gID8geyBraW5kOiBUIH1cbiAgOiB7XG4gICAgICBraW5kOiBUO1xuICAgICAgY29udGVudDogVTtcbiAgICB9O1xuXG5leHBvcnQgdHlwZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZSA9XG4gIHwgSW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlXG4gIHwgUmVmcmVzaENvbnRlbnRSZWNvcmREYXRhTXNnXG4gIHwgUmVmcmVzaENvbmZpZ0RhdGFNc2dcbiAgfCBSZWZyZXNoQ3JlZGVudGlhbERhdGFNc2dcbiAgfCBQdWJsaXNoQ2FuY2VsTXNnXG4gIHwgUHVibGlzaEluaXRNc2dcbiAgfCBQdWJsaXNoU3RhcnRNc2dcbiAgfCBQdWJsaXNoRmluaXNoU3VjY2Vzc01zZ1xuICB8IFB1Ymxpc2hGaW5pc2hGYWlsdXJlTXNnXG4gIHwgQ29udGVudFJlbmRlclN1Y2Nlc3NNc2dcbiAgfCBDb250ZW50UmVuZGVyRmFpbHVyZU1zZ1xuICB8IFVwZGF0ZUNvbnRlbnRSZWNvcmRTZWxlY3Rpb25Nc2dcbiAgfCBTYXZlU2VsZWN0aW9uTXNnXG4gIHwgUmVmcmVzaEZpbGVzTXNnXG4gIHwgVXBkYXRlUHl0aG9uUGFja2FnZXNcbiAgfCBVcGRhdGVSUGFja2FnZXNcbiAgfCBTaG93RGlzYWJsZU92ZXJsYXlNc2dcbiAgfCBIaWRlRGlzYWJsZU92ZXJsYXlNc2dcbiAgfCBTZXRQYXRoU2VwYXJhdG9yTXNnXG4gIHwgVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2dcbiAgfCBSZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZ1xuICB8IFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBpc0hvc3RUb1dlYnZpZXdNZXNzYWdlKG1zZzogYW55KTogbXNnIGlzIEhvc3RUb1dlYnZpZXdNZXNzYWdlIHtcbiAgcmV0dXJuIChcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLklOSVRJQUxJWklOR19SRVFVRVNUX0NPTVBMRVRFIHx8XG4gICAgbXNnLmtpbmQgPT09IEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NPTlRFTlRSRUNPUkRfREFUQSB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DT05GSUdfREFUQSB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DUkVERU5USUFMX0RBVEEgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfQ0FOQ0VMIHx8XG4gICAgbXNnLmtpbmQgPT09IEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0lOSVQgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfU1RBUlQgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfRklOSVNIX1NVQ0NFU1MgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfRklOSVNIX0ZBSUxVUkUgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLkNPTlRFTlRfUkVOREVSX1NVQ0NFU1MgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLkNPTlRFTlRfUkVOREVSX0ZBSUxVUkUgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9DT05URU5UUkVDT1JEX1NFTEVDVElPTiB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT04gfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlJFRlJFU0hfRklMRVMgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9QWVRIT05fUEFDS0FHRVMgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9SX1BBQ0tBR0VTIHx8XG4gICAgbXNnLmtpbmQgPT09IEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5TSE9XX0RJU0FCTEVfT1ZFUkxBWSB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuSElERV9ESVNBQkxFX09WRVJMQVkgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlNFVF9QQVRIX1NFUEFSQVRPUiB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuVVBEQVRFX1NFUlZFUl9FTlZJUk9OTUVOVCB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9JTlRFR1JBVElPTl9SRVFVRVNUUyB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9TRVJWRVJfU0VUVElOR1NcbiAgKTtcbn1cblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLklOSVRJQUxJWklOR19SRVFVRVNUX0NPTVBMRVRFPjtcblxuZXhwb3J0IHR5cGUgUmVmcmVzaENvbnRlbnRSZWNvcmREYXRhTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NPTlRFTlRSRUNPUkRfREFUQSxcbiAge1xuICAgIGNvbnRlbnRSZWNvcmRzOiAoQ29udGVudFJlY29yZCB8IFByZUNvbnRlbnRSZWNvcmQpW107XG4gICAgZGVwbG95bWVudFNlbGVjdGVkPzogRGVwbG95bWVudFNlbGVjdG9yIHwgbnVsbDtcbiAgfVxuPjtcbmV4cG9ydCB0eXBlIFJlZnJlc2hDb25maWdEYXRhTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NPTkZJR19EQVRBLFxuICB7XG4gICAgY29uZmlndXJhdGlvbnM6IENvbmZpZ3VyYXRpb25bXTtcbiAgICBjb25maWd1cmF0aW9uc0luRXJyb3I6IENvbmZpZ3VyYXRpb25FcnJvcltdO1xuICB9XG4+O1xuZXhwb3J0IHR5cGUgUmVmcmVzaENyZWRlbnRpYWxEYXRhTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NSRURFTlRJQUxfREFUQSxcbiAge1xuICAgIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFsW107XG4gIH1cbj47XG5leHBvcnQgdHlwZSBQdWJsaXNoQ2FuY2VsTXNnID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfQ0FOQ0VMPjtcbmV4cG9ydCB0eXBlIFB1Ymxpc2hJbml0TXNnID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfSU5JVD47XG5leHBvcnQgdHlwZSBQdWJsaXNoU3RhcnRNc2cgPVxuICBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUFVCTElTSF9TVEFSVD47XG5leHBvcnQgdHlwZSBQdWJsaXNoRmluaXNoU3VjY2Vzc01zZyA9XG4gIEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9TVUNDRVNTPjtcbmV4cG9ydCB0eXBlIFB1Ymxpc2hGaW5pc2hGYWlsdXJlTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9GQUlMVVJFLFxuICB7XG4gICAgZGF0YToge1xuICAgICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIH07XG4gIH1cbj47XG5leHBvcnQgdHlwZSBDb250ZW50UmVuZGVyU3VjY2Vzc01zZyA9XG4gIEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9TVUNDRVNTPjtcbmV4cG9ydCB0eXBlIENvbnRlbnRSZW5kZXJGYWlsdXJlTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9GQUlMVVJFLFxuICB7XG4gICAgZXJyb3I6IHN0cmluZztcbiAgfVxuPjtcbmV4cG9ydCB0eXBlIFVwZGF0ZUNvbnRlbnRSZWNvcmRTZWxlY3Rpb25Nc2cgPSBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxcbiAgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9DT05URU5UUkVDT1JEX1NFTEVDVElPTixcbiAge1xuICAgIHByZUNvbnRlbnRSZWNvcmQ6IFByZUNvbnRlbnRSZWNvcmQ7XG4gICAgc2F2ZVNlbGVjdGlvbj86IGJvb2xlYW47XG4gIH1cbj47XG5leHBvcnQgdHlwZSBTYXZlU2VsZWN0aW9uTXNnID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlNBVkVfU0VMRUNUSU9OPjtcblxuZXhwb3J0IHR5cGUgUmVmcmVzaEZpbGVzTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0ZJTEVTLFxuICB7XG4gICAgZmlsZXM6IENvbnRlbnRSZWNvcmRGaWxlO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBVcGRhdGVQeXRob25QYWNrYWdlcyA9IEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPFxuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuVVBEQVRFX1BZVEhPTl9QQUNLQUdFUyxcbiAge1xuICAgIHB5dGhvblByb2plY3Q6IGJvb2xlYW47XG4gICAgZmlsZT86IHN0cmluZztcbiAgICBtYW5hZ2VyPzogc3RyaW5nO1xuICAgIHBhY2thZ2VzPzogc3RyaW5nW107XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZVJQYWNrYWdlcyA9IEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPFxuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuVVBEQVRFX1JfUEFDS0FHRVMsXG4gIHtcbiAgICByUHJvamVjdDogYm9vbGVhbjtcbiAgICBmaWxlPzogc3RyaW5nO1xuICAgIG1hbmFnZXI/OiBzdHJpbmc7XG4gICAgclZlcnNpb24/OiBzdHJpbmc7XG4gICAgcGFja2FnZXM/OiBSUGFja2FnZVtdO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBTaG93RGlzYWJsZU92ZXJsYXlNc2cgPVxuICBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0hPV19ESVNBQkxFX09WRVJMQVk+O1xuXG5leHBvcnQgdHlwZSBIaWRlRGlzYWJsZU92ZXJsYXlNc2cgPVxuICBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuSElERV9ESVNBQkxFX09WRVJMQVk+O1xuXG5leHBvcnQgdHlwZSBTZXRQYXRoU2VwYXJhdG9yTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5TRVRfUEFUSF9TRVBBUkFUT1IsXG4gIHtcbiAgICBzZXBhcmF0b3I6IHN0cmluZztcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2cgPSBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxcbiAgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9TRVJWRVJfRU5WSVJPTk1FTlQsXG4gIHtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nW107XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFJlZnJlc2hJbnRlZ3JhdGlvblJlcXVlc3RzTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0lOVEVHUkFUSU9OX1JFUVVFU1RTLFxuICB7XG4gICAgaW50ZWdyYXRpb25SZXF1ZXN0czogSW50ZWdyYXRpb25SZXF1ZXN0W107XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyA9IEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPFxuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9TRVJWRVJfU0VUVElOR1MsXG4gIHtcbiAgICBzZXJ2ZXJTZXR0aW5nczogU2VydmVyU2V0dGluZ3M7XG4gIH1cbj47XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgSG9zdFRvV2Vidmlld01lc3NhZ2VDQiB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvY29uZHVpdFwiO1xuaW1wb3J0IHsgV2Vidmlld0FwaSB9IGZyb20gXCJ2c2NvZGUtd2Vidmlld1wiO1xuaW1wb3J0IHsgaXNIb3N0VG9XZWJ2aWV3TWVzc2FnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvaG9zdFRvV2Vidmlld01lc3NhZ2VzXCI7XG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbi8vIEEgSG9zdENvbmR1aXQgaXMgdXNlZCBieSBhIHdlYnZpZXcgdG8gY29ubmVjdCB0byBhIGhvc3Rcbi8vIGEgd2VidmlldyBzZW5kcyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVxuLy8gYW5kIHJlY2VpdmVzIEhvc3RUb1dlYnZpZXdNZXNzYWdlXG5cbmV4cG9ydCBjbGFzcyBIb3N0Q29uZHVpdCB7XG4gIHByaXZhdGUgZXh0ZXJuYWxNc2dDQjogSG9zdFRvV2Vidmlld01lc3NhZ2VDQiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdpbmRvdzogV2luZG93LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdnNDb2RlQXBpOiBXZWJ2aWV3QXBpPHVua25vd24+LFxuICApIHt9XG5cbiAgcHJpdmF0ZSByYXdNc2dDQiA9IChlOiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5leHRlcm5hbE1zZ0NCKSB7XG4gICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGUuZGF0YSk7XG4gICAgICBpZiAoaXNIb3N0VG9XZWJ2aWV3TWVzc2FnZShvYmopKSB7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxNc2dDQihvYmopO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgSG9zdENvbmR1aXQ6OnJhd01zZ0NCLCBOb25Db25kdWl0TWVzc2FnZSBSZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShlKX1gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHB1YmxpYyBvbk1zZyA9IChjYjogSG9zdFRvV2Vidmlld01lc3NhZ2VDQikgPT4ge1xuICAgIHRoaXMuZXh0ZXJuYWxNc2dDQiA9IGNiO1xuICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmF3TXNnQ0IpO1xuICB9O1xuXG4gIHB1YmxpYyBkZWFjdGl2YXRlKCkge1xuICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmF3TXNnQ0IpO1xuICB9XG5cbiAgcHVibGljIHNlbmRNc2cgPSAobXNnOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGUgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xuICAgIHRoaXMudnNDb2RlQXBpLnBvc3RNZXNzYWdlKGUpO1xuICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCBjb25maWcgZnJvbSBcIi4uLy4uL3NyYy9jb25maWdcIjtcbmltcG9ydCB7IGV4dHJhY3RHVUlEIH0gZnJvbSBcIi4vZ3VpZFwiO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0VVJMID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAvLyBjaGVjayBpZiB0aGUgVVJMIHN0YXJ0cyB3aXRoIGEgc2NoZW1lXG4gIGlmICgvXlthLXpBLVpdKzpcXC9cXC8vLnRlc3QoaW5wdXQpKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIHJldHVybiBgaHR0cHM6Ly8ke2lucHV0fWA7XG59O1xuXG4vLyBDdXJyZW50bHkganVzdCBhZGRzIGEgdHJhaWxpbmcgc2xhc2hcbmV4cG9ydCBjb25zdCBub3JtYWxpemVVUkwgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGxldCByZXN1bHQgPSBpbnB1dDtcbiAgaWYgKCFyZXN1bHQuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgcmVzdWx0ICs9IFwiL1wiO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5jb25zdCBpc01hdGNoaW5nVVJMID0gKGlucHV0OiBzdHJpbmcsIHJlZ2V4OiBSZWdFeHApID0+IHtcbiAgY29uc3QgZ3VpZCA9IGV4dHJhY3RHVUlEKGlucHV0KT8uYXQoMCk7XG4gIGNvbnN0IGd1aWRsZXNzSW5wdXQgPSBndWlkID8gKGlucHV0LnNwbGl0KGd1aWQpWzBdID8/IFwiXCIpIDogXCJcIjtcbiAgcmV0dXJuIHJlZ2V4LnRlc3QoZ3VpZGxlc3NJbnB1dCk7XG59O1xuXG4vLyBBbGwgdGhlIGZvbGxvd2luZyBpbnB1dHMgd2lsbCByZXR1cm4gXCJ0cnVlXCIgKHByb2R1Y3Rpb24gZW52aXJvbm1lbnQpOlxuLy8gICBcImh0dHBzOi8vY29ubmVjdC5wb3NpdC5jbG91ZC9teS1hY2NvdW50L2NvbnRlbnQvYWRmZmE1MDUtMDhjNy00NTBmLTg4ZDAtZjQyOTU3ZjU2ZWZmXCJcbi8vICAgXCJodHRwczovL2Nvbm5lY3QucG9zaXQuY2xvdWQvdXNlci1wcm9maWxlLTEyMy9jb250ZW50L2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiXG4vLyAgIFwiaHR0cHM6Ly9jb25uZWN0LnBvc2l0LmNsb3VkL3NsdWcxMjMvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIlxuLy8gQWxsIHRoZSBmb2xsb3dpbmcgaW5wdXRzIHdpbGwgcmV0dXJuIFwiZmFsc2VcIjpcbi8vICAgXCJodHRwczovL2Nvbm5lY3QucG9zaXQuY2xvdWQvc2x1Z193aXRoX3VuZGVyc2NvcmUvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIiAvLyB1bmRlcnNjb3Jlc1xuLy8gICBcImh0dHBzOi8vY29ubmVjdC5wb3NpdC5jbG91ZC9teSBhY2NvdW50L2NvbnRlbnQvYWRmZmE1MDUtMDhjNy00NTBmLTg4ZDAtZjQyOTU3ZjU2ZWZmXCIgLy8gc3BhY2Vcbi8vICAgXCJodHRwczovL2Nvbm5lY3QucG9zaXQuY2xvdWQvbXktYWNjb3VudC9mb2xkZXIvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIiAvLyBleHRyYSBwYXRoIHNlZ21lbnRcbmV4cG9ydCBjb25zdCBpc0Nvbm5lY3RDbG91ZENvbnRlbnRVUkwgPSAoaW5wdXQ6IHN0cmluZykgPT4ge1xuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgYF4ke2NvbmZpZy5jb25uZWN0Q2xvdWRVUkx9L1thLXpBLVowLTktXSsvY29udGVudC8kYCxcbiAgKTtcbiAgcmV0dXJuIGlzTWF0Y2hpbmdVUkwoaW5wdXQsIHJlZ2V4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29ubmVjdENsb3VkQWNjb3VudCA9IChpbnB1dDogc3RyaW5nKSA9PiB7XG4gIC8vIHNhbXBsZSBVUkw6IFwiaHR0cHM6Ly9jb25uZWN0LnBvc2l0LmNsb3VkL215LWFjY291bnQvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIlxuICBjb25zdCB1cmwgPSBuZXcgVVJMKGlucHV0KTtcblxuICAvLyB0aGUgcGF0aG5hbWUgaXMgdGhlIHBhcnQgb2YgdGhlIFVSTCBhZnRlciB0aGUgZG9tYWluLCBlLmcuLCBcIi9teS1hY2NvdW50L2NvbnRlbnQvYWRmZmE1MDUtMDhjNy00NTBmLTg4ZDAtZjQyOTU3ZjU2ZWZmXCJcbiAgY29uc3QgcGF0aFNlZ21lbnRzID0gdXJsLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcblxuICAvLyBmb3IgdGhlIGdpdmVuIFVSTCwgdGhlIGFycmF5IHdpbGwgYmUgW1wiXCIsIFwibXktYWNjb3VudFwiLCBcImNvbnRlbnRcIiwgXCJhZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIl1cbiAgLy8gdGhlIGFjY291bnQgcGFydCBpcyBhdCBpbmRleCAxIG9mIHRoZSBhcnJheVxuICByZXR1cm4gcGF0aFNlZ21lbnRzLmF0KDEpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvZXJyb3JUeXBlc1wiO1xuXG50eXBlIEFnZW50RXJyb3JCYXNlID0ge1xuICBjb2RlOiBFcnJvckNvZGU7XG4gIG1zZzogc3RyaW5nO1xuICBvcGVyYXRpb246IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0FnZW50RXJyb3IgPSAoZTogYW55KTogZSBpcyBBZ2VudEVycm9yID0+IHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGUpO1xuICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICBpZiAoXG4gICAgICBrZXlzLmluY2x1ZGVzKFwiY29kZVwiKSAmJlxuICAgICAga2V5cy5pbmNsdWRlcyhcIm1zZ1wiKSAmJlxuICAgICAga2V5cy5pbmNsdWRlcyhcIm9wZXJhdGlvblwiKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCB0eXBlIEFnZW50RXJyb3IgPVxuICB8IEFnZW50RXJyb3JCYXNlXG4gIHwgQWdlbnRFcnJvclR5cGVVbmtub3duXG4gIHwgQWdlbnRFcnJvckludmFsaWRUT01MXG4gIHwgQWdlbnRFcnJvckNvbnRlbnROb3RSdW5uaW5nO1xuXG5leHBvcnQgdHlwZSBBZ2VudEVycm9yVHlwZVVua25vd24gPSBBZ2VudEVycm9yQmFzZSAmIHtcbiAgZGF0YToge1xuICAgIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgaXNBZ2VudEVycm9yQmFzZSA9IChlOiBhbnkpOiBlIGlzIEFnZW50RXJyb3JCYXNlID0+IHtcbiAgaWYgKGlzQWdlbnRFcnJvcihlKSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhlKTtcbiAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgIGlmIChrZXlzLmluY2x1ZGVzKFwiZGF0YVwiKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gVGhpcyByZXByZXNlbnRzIHRoZSBBZ2VudCBFcnJvcnMgd2UgaGF2ZW4ndCBiZWVuIGFibGUgdG9cbi8vIG5hcnJvdyBkb3duIHRvIGEgc3BlY2lmaWMgdHlwZS5cbmV4cG9ydCBjb25zdCBpc0FnZW50RXJyb3JUeXBlVW5rbm93biA9IChlOiBhbnkpOiBlIGlzIEFnZW50RXJyb3JUeXBlVW5rbm93biA9PiB7XG4gIHJldHVybiAoXG4gICAgaXNBZ2VudEVycm9yQmFzZShlKSAmJlxuICAgICFpc0FnZW50RXJyb3JJbnZhbGlkVE9NTChlKSAmJlxuICAgICFpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nKGUpXG4gICk7XG59O1xuXG5leHBvcnQgdHlwZSBBZ2VudEVycm9ySW52YWxpZFRPTUwgPSBBZ2VudEVycm9yQmFzZSAmIHtcbiAgZGF0YToge1xuICAgIHByb2JsZW06IHN0cmluZztcbiAgICBmaWxlOiBzdHJpbmc7XG4gICAgbGluZTogbnVtYmVyO1xuICAgIGNvbHVtbjogbnVtYmVyO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQWdlbnRFcnJvckludmFsaWRUT01MID0gKGU6IGFueSk6IGUgaXMgQWdlbnRFcnJvckludmFsaWRUT01MID0+IHtcbiAgcmV0dXJuIChcbiAgICBpc0FnZW50RXJyb3JCYXNlKGUpICYmXG4gICAgKGUuY29kZSA9PT0gXCJpbnZhbGlkVE9NTFwiIHx8IGUuY29kZSA9PT0gXCJ1bmtub3duVE9NTEtleVwiKVxuICApO1xufTtcblxuZXhwb3J0IHR5cGUgQWdlbnRFcnJvckNvbnRlbnROb3RSdW5uaW5nID0gQWdlbnRFcnJvckJhc2U7XG5cbmV4cG9ydCBjb25zdCBpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nID0gKFxuICBlOiBhbnksXG4pOiBlIGlzIEFnZW50RXJyb3JDb250ZW50Tm90UnVubmluZyA9PiB7XG4gIHJldHVybiBpc0FnZW50RXJyb3JCYXNlKGUpICYmIGUuY29kZSA9PT0gXCJkZXBsb3llZENvbnRlbnROb3RSdW5uaW5nXCI7XG59O1xuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IFNlcnZlclR5cGUsIFByb2R1Y3RUeXBlLCBQcm9kdWN0TmFtZSB9IGZyb20gXCIuLi9hcGlcIjtcbmltcG9ydCB7IENvbm5lY3RDbG91ZEFjY291bnQgfSBmcm9tIFwiLi4vYXBpL3R5cGVzL2Nvbm5lY3RDbG91ZFwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTmV3Q3JlZGVudGlhbExhYmVsID0gXCJDcmVhdGUgYSBOZXcgQ3JlZGVudGlhbFwiO1xuXG5leHBvcnQgY29uc3QgaXNDb25uZWN0ID0gKHNlcnZlclR5cGU6IFNlcnZlclR5cGUpID0+IHtcbiAgcmV0dXJuIHNlcnZlclR5cGUgPT09IFNlcnZlclR5cGUuQ09OTkVDVDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Nvbm5lY3RDbG91ZCA9IChzZXJ2ZXJUeXBlOiBTZXJ2ZXJUeXBlKSA9PiB7XG4gIHJldHVybiBzZXJ2ZXJUeXBlID09PSBTZXJ2ZXJUeXBlLkNPTk5FQ1RfQ0xPVUQ7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTbm93Zmxha2UgPSAoc2VydmVyVHlwZTogU2VydmVyVHlwZSkgPT4ge1xuICByZXR1cm4gc2VydmVyVHlwZSA9PT0gU2VydmVyVHlwZS5TTk9XRkxBS0U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNDb25uZWN0UHJvZHVjdCA9IChwcm9kdWN0VHlwZTogUHJvZHVjdFR5cGUpID0+IHtcbiAgcmV0dXJuIHByb2R1Y3RUeXBlID09PSBQcm9kdWN0VHlwZS5DT05ORUNUO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29ubmVjdENsb3VkUHJvZHVjdCA9IChwcm9kdWN0VHlwZTogUHJvZHVjdFR5cGUpID0+IHtcbiAgcmV0dXJuIHByb2R1Y3RUeXBlID09PSBQcm9kdWN0VHlwZS5DT05ORUNUX0NMT1VEO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RUeXBlID0gKHNlcnZlclR5cGU6IFNlcnZlclR5cGUpOiBQcm9kdWN0VHlwZSA9PiB7XG4gIHN3aXRjaCAoc2VydmVyVHlwZSkge1xuICAgIGNhc2UgU2VydmVyVHlwZS5DT05ORUNUOlxuICAgICAgcmV0dXJuIFByb2R1Y3RUeXBlLkNPTk5FQ1Q7XG4gICAgY2FzZSBTZXJ2ZXJUeXBlLlNOT1dGTEFLRTpcbiAgICAgIHJldHVybiBQcm9kdWN0VHlwZS5DT05ORUNUO1xuICAgIGNhc2UgU2VydmVyVHlwZS5DT05ORUNUX0NMT1VEOlxuICAgICAgcmV0dXJuIFByb2R1Y3RUeXBlLkNPTk5FQ1RfQ0xPVUQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0TmFtZSA9IChwcm9kdWN0VHlwZTogUHJvZHVjdFR5cGUpID0+IHtcbiAgc3dpdGNoIChwcm9kdWN0VHlwZSkge1xuICAgIGNhc2UgUHJvZHVjdFR5cGUuQ09OTkVDVDpcbiAgICAgIHJldHVybiBQcm9kdWN0TmFtZS5DT05ORUNUO1xuICAgIGNhc2UgUHJvZHVjdFR5cGUuQ09OTkVDVF9DTE9VRDpcbiAgICAgIHJldHVybiBQcm9kdWN0TmFtZS5DT05ORUNUX0NMT1VEO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2VydmVyVHlwZSA9IChwcm9kdWN0TmFtZTogUHJvZHVjdE5hbWUpID0+IHtcbiAgc3dpdGNoIChwcm9kdWN0TmFtZSkge1xuICAgIGNhc2UgUHJvZHVjdE5hbWUuQ09OTkVDVDpcbiAgICAgIHJldHVybiBTZXJ2ZXJUeXBlLkNPTk5FQ1Q7XG4gICAgY2FzZSBQcm9kdWN0TmFtZS5DT05ORUNUX0NMT1VEOlxuICAgICAgcmV0dXJuIFNlcnZlclR5cGUuQ09OTkVDVF9DTE9VRDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFB1Ymxpc2hhYmxlQWNjb3VudHMgPSAoYWNjb3VudHM6IENvbm5lY3RDbG91ZEFjY291bnRbXSkgPT4ge1xuICByZXR1cm4gYWNjb3VudHMuZmlsdGVyKChhKSA9PiBhLnBlcm1pc3Npb25Ub1B1Ymxpc2gpO1xufTtcbiIsImltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHdhdGNoIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCIuLi8uLi9zcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBub3JtYWxpemVVUkwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL3VybFwiO1xuXG5pbXBvcnQge1xuICBDcmVkZW50aWFsLFxuICBDb250ZW50UmVjb3JkLFxuICBQcmVDb250ZW50UmVjb3JkLFxuICBDb25maWd1cmF0aW9uLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIGlzUHJlQ29udGVudFJlY29yZCxcbiAgU2VydmVyVHlwZSxcbiAgU2VydmVyU2V0dGluZ3MsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5pbXBvcnQge1xuICBJbnRlZ3JhdGlvblJlcXVlc3QsXG4gIGlzQ29uZmlndXJhdGlvbkVycm9yLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaS90eXBlcy9jb25maWd1cmF0aW9uc1wiO1xuaW1wb3J0IHsgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXNcIjtcbmltcG9ydCB7IFJQYWNrYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvcGFja2FnZXNcIjtcbmltcG9ydCB7IERlcGxveW1lbnRTZWxlY3RvciB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvc2hhcmVkXCI7XG5pbXBvcnQge1xuICBpc0FnZW50RXJyb3JJbnZhbGlkVE9NTCxcbiAgaXNBZ2VudEVycm9yVHlwZVVua25vd24sXG59IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2Vycm9yXCI7XG5pbXBvcnQge1xuICBnZXRQcm9kdWN0VHlwZSxcbiAgaXNDb25uZWN0Q2xvdWRQcm9kdWN0LFxuICBpc0Nvbm5lY3RQcm9kdWN0LFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL211bHRpU3RlcEhlbHBlcnNcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUhvbWVTdG9yZSA9IGRlZmluZVN0b3JlKFwiaG9tZVwiLCAoKSA9PiB7XG4gIGNvbnN0IHBsYXRmb3JtRmlsZVNlcGFyYXRvciA9IHJlZjxzdHJpbmc+KFwiL1wiKTtcbiAgY29uc3QgcHVibGlzaEluUHJvZ3Jlc3MgPSByZWYoZmFsc2UpO1xuICBjb25zdCBwdWJsaXNoSW5pdGlhdGVkID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgY29udGVudFJlbmRlckluUHJvZ3Jlc3MgPSByZWYoZmFsc2UpO1xuICBjb25zdCBjb250ZW50UmVuZGVyU3VjY2VzcyA9IHJlZjxib29sZWFuIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBjb25zdCBjb250ZW50UmVuZGVyRXJyb3IgPSByZWY8c3RyaW5nIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IGNvbnRlbnRSZWNvcmRzID0gcmVmPChDb250ZW50UmVjb3JkIHwgUHJlQ29udGVudFJlY29yZClbXT4oW10pO1xuICBjb25zdCBjb25maWd1cmF0aW9ucyA9IHJlZjxDb25maWd1cmF0aW9uW10+KFtdKTtcbiAgY29uc3QgY29uZmlndXJhdGlvbnNJbkVycm9yID0gcmVmPENvbmZpZ3VyYXRpb25FcnJvcltdPihbXSk7XG4gIGNvbnN0IGNyZWRlbnRpYWxzID0gcmVmPENyZWRlbnRpYWxbXT4oW10pO1xuICBjb25zdCBzb3J0ZWRDcmVkZW50aWFscyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gY3JlZGVudGlhbHMudmFsdWUuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG4gIH0pO1xuXG4gIGNvbnN0IHNlcnZlclNldHRpbmdzID0gcmVmPFNlcnZlclNldHRpbmdzIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IHNlcnZlclNlY3JldHMgPSByZWY8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IHNlY3JldHMgPSByZWYobmV3IE1hcDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4oKSk7XG5cbiAgY29uc3QgaW50ZWdyYXRpb25SZXF1ZXN0cyA9IHJlZjxJbnRlZ3JhdGlvblJlcXVlc3RbXT4oW10pO1xuXG4gIGNvbnN0IGVudmlyb25tZW50ID0gY29tcHV0ZWQoKCk6IE1hcDxzdHJpbmcsIHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgY29uc3QgY29uZmlnID0gc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlO1xuXG4gICAgaWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkIHx8IGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmNvbmZpZ3VyYXRpb24uZW52aXJvbm1lbnQgfHwge30pLmZvckVhY2goXG4gICAgICAoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICByZXN1bHQuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIGNvbnN0IGR1cGxpY2F0ZWRFbnZpcm9ubWVudFZhcmlhYmxlcyA9IGNvbXB1dGVkKCgpOiBzdHJpbmdbXSA9PiB7XG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgIHNlY3JldHMudmFsdWUuZm9yRWFjaCgoXywgbmFtZSkgPT4ge1xuICAgICAgaWYgKGVudmlyb25tZW50LnZhbHVlLmhhcyhuYW1lKSkge1xuICAgICAgICByZXN1bHQucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICBjb25zdCBzaG93RGlzYWJsZWRPdmVybGF5ID0gcmVmKGZhbHNlKTtcblxuICBjb25zdCBzZWxlY3RlZENvbnRlbnRSZWNvcmQgPSByZWY8Q29udGVudFJlY29yZCB8IFByZUNvbnRlbnRSZWNvcmQ+KCk7XG5cbiAgLy8gQWx3YXlzIHVzZSB0aGUgY29udGVudCByZWNvcmQgYXMgdGhlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlXG4gIC8vIGNvbmZpZ3VyYXRpb24uIENhbiBiZSB1bmRlZmluZWQgaWYgYSBDb25maWd1cmF0aW9uIGlzIG5vdCBzcGVjaWZpZWQgb3JcbiAgLy8gZm91bmQuXG4gIGNvbnN0IHNlbGVjdGVkQ29uZmlndXJhdGlvbiA9IGNvbXB1dGVkKFxuICAgICgpOiBDb25maWd1cmF0aW9uIHwgQ29uZmlndXJhdGlvbkVycm9yIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgIGlmICghc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGNvbmZpZ3VyYXRpb25OYW1lLCBwcm9qZWN0RGlyIH0gPSBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU7XG4gICAgICBsZXQgcmVzdWx0O1xuICAgICAgcmVzdWx0ID0gY29uZmlndXJhdGlvbnMudmFsdWUuZmluZChcbiAgICAgICAgKGNmZykgPT5cbiAgICAgICAgICBjZmcuY29uZmlndXJhdGlvbk5hbWUgPT09IGNvbmZpZ3VyYXRpb25OYW1lICYmXG4gICAgICAgICAgY2ZnLnByb2plY3REaXIgPT09IHByb2plY3REaXIsXG4gICAgICApO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gY29uZmlndXJhdGlvbnNJbkVycm9yLnZhbHVlLmZpbmQoXG4gICAgICAgICAgKGNmZykgPT5cbiAgICAgICAgICAgIGNmZy5jb25maWd1cmF0aW9uTmFtZSA9PT0gY29uZmlndXJhdGlvbk5hbWUgJiZcbiAgICAgICAgICAgIGNmZy5wcm9qZWN0RGlyID09PSBwcm9qZWN0RGlyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICApO1xuXG4gIHdhdGNoKFxuICAgIFtzZWxlY3RlZENvbnRlbnRSZWNvcmQsIHNlbGVjdGVkQ29uZmlndXJhdGlvbl0sXG4gICAgKFtjb250ZW50UmVjb3JkLCBjb25maWddLCBbcHJldkNvbnRlbnRSZWNvcmRdKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPigpO1xuXG4gICAgICBpZiAoY29uZmlnID09PSB1bmRlZmluZWQgfHwgaXNDb25maWd1cmF0aW9uRXJyb3IoY29uZmlnKSkge1xuICAgICAgICBzZWNyZXRzLnZhbHVlID0gcmVzdWx0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzU2FtZUNvbnRlbnRSZWNvcmQgPSBCb29sZWFuKFxuICAgICAgICBjb250ZW50UmVjb3JkPy5zYXZlTmFtZSA9PT0gcHJldkNvbnRlbnRSZWNvcmQ/LnNhdmVOYW1lLFxuICAgICAgKTtcblxuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24uc2VjcmV0cz8uZm9yRWFjaCgoc2VjcmV0KSA9PiB7XG4gICAgICAgIGlmIChpc1NhbWVDb250ZW50UmVjb3JkICYmIHNlY3JldHMudmFsdWU/LmhhcyhzZWNyZXQpKSB7XG4gICAgICAgICAgcmVzdWx0LnNldChzZWNyZXQsIHNlY3JldHMudmFsdWUuZ2V0KHNlY3JldCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5zZXQoc2VjcmV0LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VjcmV0cy52YWx1ZSA9IHJlc3VsdDtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH0sXG4gICk7XG5cbiAgLy8gQWx3YXlzIHVzZSB0aGUgY29udGVudCByZWNvcmQgYXMgdGhlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlXG4gIC8vIGNyZWRlbnRpYWwuIENhbiBiZSB1bmRlZmluZWQgaWYgYSBDcmVkZW50aWFsIGlzIG5vdCBzcGVjaWZpZWQgb3IgZm91bmQuXG4gIGNvbnN0IHNlcnZlckNyZWRlbnRpYWwgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIGNyZWRlbnRpYWxzLnZhbHVlLmZpbmQoKGNmZykgPT4ge1xuICAgICAgLy8gZGVmYXVsdCB0byBDT05ORUNUIHdoZW4gdGhlIHNlcnZlciB0eXBlIGlzIG1pc3NpbmcgKGkuZS4gY291bGQgYmUgYW4gb2xkIGNvbm5lY3QgZGVwbG95bWVudClcbiAgICAgIGNvbnN0IHNlcnZlclR5cGUgPVxuICAgICAgICBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU/LnNlcnZlclR5cGUgfHwgU2VydmVyVHlwZS5DT05ORUNUO1xuICAgICAgY29uc3QgcHJvZHVjdFR5cGUgPSBnZXRQcm9kdWN0VHlwZShzZXJ2ZXJUeXBlKTtcbiAgICAgIGlmIChpc0Nvbm5lY3RDbG91ZFByb2R1Y3QocHJvZHVjdFR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxBY2NvdW50TmFtZSA9IGNmZy5hY2NvdW50TmFtZTtcbiAgICAgICAgY29uc3QgcmVjb3JkQWNjb3VudE5hbWUgPVxuICAgICAgICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZT8uY29ubmVjdENsb3VkPy5hY2NvdW50TmFtZTtcbiAgICAgICAgaWYgKCFyZWNvcmRBY2NvdW50TmFtZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlZGVudGlhbEFjY291bnROYW1lID09PSByZWNvcmRBY2NvdW50TmFtZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNDb25uZWN0UHJvZHVjdChwcm9kdWN0VHlwZSkpIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbFVybCA9IGNmZy51cmwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcmVjb3JkVXJsID0gc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlPy5zZXJ2ZXJVcmwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCFyZWNvcmRVcmwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVVSTChjcmVkZW50aWFsVXJsKSA9PT0gbm9ybWFsaXplVVJMKHJlY29yZFVybCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgbGFzdENvbnRlbnRSZWNvcmRSZXN1bHQgPSByZWY8c3RyaW5nPigpO1xuICBjb25zdCBsYXN0Q29udGVudFJlY29yZE1zZyA9IHJlZjxzdHJpbmc+KCk7XG5cbiAgY29uc3QgcHl0aG9uUHJvamVjdCA9IHJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IHB5dGhvblBhY2thZ2VzID0gcmVmPHN0cmluZ1tdPigpO1xuICBjb25zdCBweXRob25QYWNrYWdlRmlsZSA9IHJlZjxzdHJpbmc+KCk7XG4gIGNvbnN0IHB5dGhvblBhY2thZ2VNYW5hZ2VyID0gcmVmPHN0cmluZz4oKTtcblxuICBjb25zdCByUHJvamVjdCA9IHJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IHJQYWNrYWdlcyA9IHJlZjxSUGFja2FnZVtdPigpO1xuICBjb25zdCByUGFja2FnZUZpbGUgPSByZWY8c3RyaW5nPigpO1xuICBjb25zdCByUGFja2FnZU1hbmFnZXIgPSByZWY8c3RyaW5nPigpO1xuICBjb25zdCByVmVyc2lvbiA9IHJlZjxzdHJpbmc+KCk7XG5cbiAgY29uc3QgaW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlID0gcmVmPGJvb2xlYW4+KGZhbHNlKTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZCB0byBvbmUgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICogSWYgdGhlIG5hbWVkIGNvbnRlbnRSZWNvcmQgaXMgbm90IGZvdW5kLCB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZCBpcyBzZXQgdG8gdW5kZWZpbmVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgbmV3IGNvbnRlbnRSZWNvcmQgdG8gc2VsZWN0XG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHNlbGVjdGVkIGNvbnRlbnRSZWNvcmQgd2FzIHRoZSBzYW1lLCBmYWxzZSBpZiBub3RcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3IoXG4gICAgc2VsZWN0b3I/OiBEZXBsb3ltZW50U2VsZWN0b3IsXG4gICkge1xuICAgIGNvbnN0IHByZXZpb3VzU2VsZWN0ZWRDb250ZW50UmVjb3JkID0gc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlO1xuICAgIGNvbnN0IHByZXZpb3VzU2VsZWN0ZWRDb25maWcgPSBzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWU7XG5cbiAgICBjb25zdCBjb250ZW50UmVjb3JkID0gY29udGVudFJlY29yZHMudmFsdWUuZmluZChcbiAgICAgIChkKSA9PiBkLmRlcGxveW1lbnRQYXRoID09PSBzZWxlY3Rvcj8uZGVwbG95bWVudFBhdGgsXG4gICAgKTtcblxuICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSA9IGNvbnRlbnRSZWNvcmQ7XG5cbiAgICByZXR1cm4gKFxuICAgICAgcHJldmlvdXNTZWxlY3RlZENvbnRlbnRSZWNvcmQgPT09IHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSAmJlxuICAgICAgcHJldmlvdXNTZWxlY3RlZENvbmZpZyA9PT0gc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5T2JqZWN0KFxuICAgIGNvbnRlbnRSZWNvcmQ6IENvbnRlbnRSZWNvcmQgfCBQcmVDb250ZW50UmVjb3JkLFxuICApIHtcbiAgICBjb250ZW50UmVjb3Jkcy52YWx1ZS5wdXNoKGNvbnRlbnRSZWNvcmQpO1xuICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSA9IGNvbnRlbnRSZWNvcmQ7XG4gIH1cblxuICB3YXRjaChbc2VydmVyQ3JlZGVudGlhbF0sICgpID0+IHVwZGF0ZVNlbGVjdGlvbkNyZWRlbnRpYWxTdGF0dXMoKSk7XG5cbiAgY29uc3QgdXBkYXRlU2VsZWN0aW9uQ3JlZGVudGlhbFN0YXR1cyA9ICgpID0+IHtcbiAgICBjb25zdCBob3N0Q29uZHVpdCA9IHVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuICAgIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlVQREFURV9TRUxFQ1RJT05fQ1JFREVOVElBTF9TVEFURSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgc3RhdGU6IHNlcnZlckNyZWRlbnRpYWwudmFsdWUgIT09IHVuZGVmaW5lZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICB3YXRjaChbc2VsZWN0ZWRDb250ZW50UmVjb3JkXSwgKCkgPT5cbiAgICB1cGRhdGVTZWxlY3Rpb25Jc1ByZUNvbnRlbnRSZWNvcmRTdGF0ZSgpLFxuICApO1xuXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGlvbklzUHJlQ29udGVudFJlY29yZFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG4gICAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9JU19QUkVfQ09OVEVOVF9SRUNPUkQsXG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIHN0YXRlOiBpc1ByZUNvbnRlbnRSZWNvcmQoc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlKVxuICAgICAgICAgID8gXCJ0cnVlXCJcbiAgICAgICAgICA6IFwiZmFsc2VcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgd2F0Y2goW3NlbGVjdGVkQ29uZmlndXJhdGlvbl0sICgpID0+IHVwZGF0ZVBhcmVudFZpZXdTZWxlY3Rpb25TdGF0ZSgpKTtcblxuICBjb25zdCB1cGRhdGVQYXJlbnRWaWV3U2VsZWN0aW9uU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgaG9zdENvbmR1aXQgPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcbiAgICAvLyBza2lwIHNhdmluZyB0aGUgc2VsZWN0aW9uIGlmIHdlIGhhdmUgbm90IHlldFxuICAgIC8vIHNlbGVjdGVkIGEgY29udGVudCByZWNvcmQuIFRoaXMgaXMgcHJvYmFibHkgYW4gaW5pdFxuICAgIC8vIHNlcXVlbmNlLlxuICAgIGlmIChzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBkZXBsb3ltZW50TmFtZTogc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlLnNhdmVOYW1lLFxuICAgICAgICBwcm9qZWN0RGlyOiBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUucHJvamVjdERpcixcbiAgICAgICAgY29uZmlndXJhdGlvbk5hbWU6IHNlbGVjdGVkQ29uZmlndXJhdGlvbi52YWx1ZT8uY29uZmlndXJhdGlvbk5hbWUsXG4gICAgICAgIGRlcGxveW1lbnRQYXRoOiBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUuZGVwbG95bWVudFBhdGgsXG4gICAgICB9O1xuICAgICAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQVZFX1NFTEVDVElPTl9TVEFURSxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHN0YXRlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZVB5dGhvblBhY2thZ2VzID0gKFxuICAgIGlzcHl0aG9uUHJvamVjdDogYm9vbGVhbixcbiAgICBwYWNrYWdlcz86IHN0cmluZ1tdLFxuICAgIGZpbGU/OiBzdHJpbmcsXG4gICAgbWFuYWdlcj86IHN0cmluZyxcbiAgKSA9PiB7XG4gICAgcHl0aG9uUHJvamVjdC52YWx1ZSA9IGlzcHl0aG9uUHJvamVjdDtcbiAgICBweXRob25QYWNrYWdlcy52YWx1ZSA9IHBhY2thZ2VzO1xuICAgIHB5dGhvblBhY2thZ2VGaWxlLnZhbHVlID0gZmlsZTtcbiAgICBweXRob25QYWNrYWdlTWFuYWdlci52YWx1ZSA9IG1hbmFnZXI7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUlBhY2thZ2VzID0gKFxuICAgIGlzUlByb2plY3Q6IGJvb2xlYW4sXG4gICAgcGFja2FnZXM/OiBSUGFja2FnZVtdLFxuICAgIGZpbGU/OiBzdHJpbmcsXG4gICAgbWFuYWdlcj86IHN0cmluZyxcbiAgICB2ZXJzaW9uPzogc3RyaW5nLFxuICApID0+IHtcbiAgICByUHJvamVjdC52YWx1ZSA9IGlzUlByb2plY3Q7XG4gICAgclBhY2thZ2VzLnZhbHVlID0gcGFja2FnZXM7XG4gICAgclBhY2thZ2VGaWxlLnZhbHVlID0gZmlsZTtcbiAgICByUGFja2FnZU1hbmFnZXIudmFsdWUgPSBtYW5hZ2VyO1xuICAgIHJWZXJzaW9uLnZhbHVlID0gdmVyc2lvbjtcbiAgfTtcblxuICBjb25zdCBjbGVhclNlY3JldFZhbHVlcyA9ICgpID0+IHtcbiAgICBjb25zdCBjbGVhcmVkID0gbmV3IE1hcCgpO1xuXG4gICAgc2VjcmV0cy52YWx1ZS5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGNsZWFyZWQuc2V0KGtleSwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIHNlY3JldHMudmFsdWUgPSBjbGVhcmVkO1xuICB9O1xuXG4gIGNvbnN0IHNlY3JldHNXaXRoVmFsdWVDb3VudCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShzZWNyZXRzLnZhbHVlLnZhbHVlcygpKS5maWx0ZXIoKHYpID0+IHYgIT09IHVuZGVmaW5lZClcbiAgICAgIC5sZW5ndGg7XG4gIH0pO1xuXG4gIGNvbnN0IHB5dGhvbiA9IHtcbiAgICBhY3RpdmU6IHtcbiAgICAgIGlzRW1wdHlSZXF1aXJlbWVudHM6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBweXRob25Qcm9qZWN0LnZhbHVlICYmXG4gICAgICAgICAgcHl0aG9uUGFja2FnZUZpbGUudmFsdWUgJiZcbiAgICAgICAgICBweXRob25QYWNrYWdlcy52YWx1ZSAmJlxuICAgICAgICAgIHB5dGhvblBhY2thZ2VzLnZhbHVlLmxlbmd0aCA9PT0gMFxuICAgICAgICApO1xuICAgICAgfSksXG4gICAgICBpc01pc3NpbmdSZXF1aXJlbWVudHM6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHB5dGhvblByb2plY3QudmFsdWUgJiYgIXB5dGhvblBhY2thZ2VGaWxlLnZhbHVlO1xuICAgICAgfSksXG4gICAgICBpc0FsZXJ0QWN0aXZlOiBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcHl0aG9uLmFjdGl2ZS5pc0VtcHR5UmVxdWlyZW1lbnRzLnZhbHVlIHx8XG4gICAgICAgICAgcHl0aG9uLmFjdGl2ZS5pc01pc3NpbmdSZXF1aXJlbWVudHMudmFsdWVcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuICAgICAgaXNJblByb2plY3Q6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHB5dGhvblByb2plY3QudmFsdWU7XG4gICAgICB9KSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IHIgPSB7XG4gICAgYWN0aXZlOiB7XG4gICAgICBpc01pc3NpbmdQYWNrYWdlRmlsZTogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gclByb2plY3QudmFsdWUgJiYgIXJQYWNrYWdlRmlsZS52YWx1ZTtcbiAgICAgIH0pLFxuXG4gICAgICBpc0VtcHR5UmVxdWlyZW1lbnRzOiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgIHJQcm9qZWN0LnZhbHVlICYmXG4gICAgICAgICAgclBhY2thZ2VGaWxlLnZhbHVlICYmXG4gICAgICAgICAgclBhY2thZ2VzLnZhbHVlICYmXG4gICAgICAgICAgclBhY2thZ2VzLnZhbHVlLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuXG4gICAgICBpc0luUHJvamVjdDogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gclByb2plY3QudmFsdWU7XG4gICAgICB9KSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNyZWRlbnRpYWwgPSB7XG4gICAgaXNBdmFpbGFibGU6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBCb29sZWFuKHNvcnRlZENyZWRlbnRpYWxzLnZhbHVlLmxlbmd0aCk7XG4gICAgfSksXG5cbiAgICBhY3RpdmU6IHtcbiAgICAgIGlzTWlzc2luZzogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLmFjdGl2ZS5pc0NyZWRlbnRpYWxNaXNzaW5nLnZhbHVlO1xuICAgICAgfSksXG5cbiAgICAgIGlzQWxlcnRBY3RpdmU6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWwuYWN0aXZlLmlzTWlzc2luZy52YWx1ZTtcbiAgICAgIH0pLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgaXNDb25uZWN0Q2xvdWQgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qgc2VydmVyVHlwZSA9XG4gICAgICBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU/LnNlcnZlclR5cGUgfHwgU2VydmVyVHlwZS5DT05ORUNUO1xuICAgIGNvbnN0IHByb2R1Y3RUeXBlID0gZ2V0UHJvZHVjdFR5cGUoc2VydmVyVHlwZSk7XG4gICAgcmV0dXJuIGlzQ29ubmVjdENsb3VkUHJvZHVjdChwcm9kdWN0VHlwZSk7XG4gIH0pO1xuXG4gIGNvbnN0IGFueUFjdGl2ZUFsZXJ0cyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgIWNvbmZpZy5hY3RpdmUuaXNBbGVydEFjdGl2ZS52YWx1ZSAmJlxuICAgICAgKGNyZWRlbnRpYWwuYWN0aXZlLmlzQWxlcnRBY3RpdmUudmFsdWUgfHxcbiAgICAgICAgcHl0aG9uLmFjdGl2ZS5pc0FsZXJ0QWN0aXZlLnZhbHVlKVxuICAgICk7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBhY3RpdmU6IHtcbiAgICAgIGlzRW50cnlNaXNzaW5nOiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSAmJlxuICAgICAgICAgICFzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUuY29uZmlndXJhdGlvbk5hbWUsXG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgaXNNaXNzaW5nOiBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSAmJlxuICAgICAgICAgICFzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUgJiZcbiAgICAgICAgICAhY29uZmlnLmFjdGl2ZS5pc0luRXJyb3JMaXN0KFxuICAgICAgICAgICAgc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlPy5jb25maWd1cmF0aW9uTmFtZSxcbiAgICAgICAgICApICYmXG4gICAgICAgICAgIWNvbmZpZy5hY3RpdmUuaXNFbnRyeU1pc3NpbmcudmFsdWUsXG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgaXNUT01MRXJyb3I6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgICAgc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlICYmXG4gICAgICAgICAgaXNDb25maWd1cmF0aW9uRXJyb3Ioc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlKSAmJlxuICAgICAgICAgIGlzQWdlbnRFcnJvckludmFsaWRUT01MKHNlbGVjdGVkQ29uZmlndXJhdGlvbi52YWx1ZS5lcnJvciksXG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgaXNVbmtub3duVHlwZTogY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgICBzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUgJiZcbiAgICAgICAgICAhaXNDb25maWd1cmF0aW9uRXJyb3Ioc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlKSAmJlxuICAgICAgICAgIHNlbGVjdGVkQ29uZmlndXJhdGlvbi52YWx1ZS5jb25maWd1cmF0aW9uLnR5cGUgPT09IFwidW5rbm93blwiLFxuICAgICAgICApO1xuICAgICAgfSksXG5cbiAgICAgIGlzVW5rbm93bkVycm9yOiBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgIHNlbGVjdGVkQ29uZmlndXJhdGlvbi52YWx1ZSAmJlxuICAgICAgICAgIGlzQ29uZmlndXJhdGlvbkVycm9yKHNlbGVjdGVkQ29uZmlndXJhdGlvbi52YWx1ZSkgJiZcbiAgICAgICAgICBpc0FnZW50RXJyb3JUeXBlVW5rbm93bihzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUuZXJyb3IpLFxuICAgICAgICApO1xuICAgICAgfSksXG5cbiAgICAgIGlzSW5FcnJvckxpc3Q6IChjb25maWdOYW1lPzogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGlmICghY29uZmlnTmFtZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgICBjb25maWd1cmF0aW9uc0luRXJyb3IudmFsdWUuZmluZChcbiAgICAgICAgICAgIChjb25maWcpID0+XG4gICAgICAgICAgICAgIGNvbmZpZy5jb25maWd1cmF0aW9uTmFtZSA9PT1cbiAgICAgICAgICAgICAgc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlPy5jb25maWd1cmF0aW9uTmFtZSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgaXNDcmVkZW50aWFsTWlzc2luZzogY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUgJiYgIXNlcnZlckNyZWRlbnRpYWwudmFsdWUpO1xuICAgICAgfSksXG5cbiAgICAgIGlzQWxlcnRBY3RpdmU6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25maWcuYWN0aXZlLmlzRW50cnlNaXNzaW5nLnZhbHVlIHx8XG4gICAgICAgICAgY29uZmlnLmFjdGl2ZS5pc01pc3NpbmcudmFsdWUgfHxcbiAgICAgICAgICBjb25maWcuYWN0aXZlLmlzVE9NTEVycm9yLnZhbHVlIHx8XG4gICAgICAgICAgY29uZmlnLmFjdGl2ZS5pc1Vua25vd25FcnJvci52YWx1ZSB8fFxuICAgICAgICAgIGNvbmZpZy5hY3RpdmUuaXNDcmVkZW50aWFsTWlzc2luZy52YWx1ZVxuICAgICAgICApO1xuICAgICAgfSksXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHBsYXRmb3JtRmlsZVNlcGFyYXRvcixcbiAgICBzaG93RGlzYWJsZWRPdmVybGF5LFxuICAgIHB1Ymxpc2hJblByb2dyZXNzLFxuICAgIHB1Ymxpc2hJbml0aWF0ZWQsXG4gICAgY29udGVudFJlbmRlckluUHJvZ3Jlc3MsXG4gICAgY29udGVudFJlbmRlclN1Y2Nlc3MsXG4gICAgY29udGVudFJlbmRlckVycm9yLFxuICAgIGNvbnRlbnRSZWNvcmRzLFxuICAgIGNvbmZpZ3VyYXRpb25zLFxuICAgIGNvbmZpZ3VyYXRpb25zSW5FcnJvcixcbiAgICBjcmVkZW50aWFscyxcbiAgICBzb3J0ZWRDcmVkZW50aWFscyxcbiAgICBzZXJ2ZXJTZXR0aW5ncyxcbiAgICBzZXJ2ZXJTZWNyZXRzLFxuICAgIHNlY3JldHMsXG4gICAgaW50ZWdyYXRpb25SZXF1ZXN0cyxcbiAgICBlbnZpcm9ubWVudCxcbiAgICBkdXBsaWNhdGVkRW52aXJvbm1lbnRWYXJpYWJsZXMsXG4gICAgc2VsZWN0ZWRDb250ZW50UmVjb3JkLFxuICAgIHNlbGVjdGVkQ29uZmlndXJhdGlvbixcbiAgICBzZXJ2ZXJDcmVkZW50aWFsLFxuICAgIGlzQ29ubmVjdENsb3VkLFxuICAgIGluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZSxcbiAgICBsYXN0Q29udGVudFJlY29yZFJlc3VsdCxcbiAgICBsYXN0Q29udGVudFJlY29yZE1zZyxcbiAgICBweXRob25Qcm9qZWN0LFxuICAgIHB5dGhvblBhY2thZ2VzLFxuICAgIHB5dGhvblBhY2thZ2VGaWxlLFxuICAgIHB5dGhvblBhY2thZ2VNYW5hZ2VyLFxuICAgIHJQcm9qZWN0LFxuICAgIHJQYWNrYWdlcyxcbiAgICByUGFja2FnZUZpbGUsXG4gICAgYW55QWN0aXZlQWxlcnRzLFxuICAgIHVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3IsXG4gICAgdXBkYXRlU2VsZWN0ZWRDb250ZW50UmVjb3JkQnlPYmplY3QsXG4gICAgdXBkYXRlUGFyZW50Vmlld1NlbGVjdGlvblN0YXRlLFxuICAgIHVwZGF0ZVB5dGhvblBhY2thZ2VzLFxuICAgIHVwZGF0ZVJQYWNrYWdlcyxcbiAgICBjbGVhclNlY3JldFZhbHVlcyxcbiAgICBzZWNyZXRzV2l0aFZhbHVlQ291bnQsXG4gICAgcHl0aG9uLFxuICAgIHIsXG4gICAgY29uZmlnLFxuICAgIGNyZWRlbnRpYWwsXG4gIH07XG59KTtcbiIsImltcG9ydCB7IENvbnRlbnRSZWNvcmRGaWxlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9hcGlcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkZpbGVCZUluY2x1ZGVkKGZpbGU6IENvbnRlbnRSZWNvcmRGaWxlKTogYm9vbGVhbiB7XG4gIHJldHVybiBCb29sZWFuKGZpbGUucmVhc29uPy5leGNsdWRlICYmIGZpbGUucmVhc29uPy5zb3VyY2UgIT09IFwiYnVpbHQtaW5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5GaWxlQmVFeGNsdWRlZChmaWxlOiBDb250ZW50UmVjb3JkRmlsZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gQm9vbGVhbighZmlsZS5yZWFzb24/LmV4Y2x1ZGUpO1xufVxuXG5leHBvcnQgdHlwZSBGbGF0RmlsZSA9IE9taXQ8Q29udGVudFJlY29yZEZpbGUsIFwiZmlsZXNcIj4gJiB7XG4gIGluZGVudDogbnVtYmVyO1xuICBwYXJlbnQ/OiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIEZsYXR0ZW5zIGEgQ29udGVudFJlY29yZEZpbGVbXSBpbnRvIGEgRmxhdEZpbGVbXSBhcnJheVxuICpcbiAqIEBwYXJhbSBmaWxlcyBUaGUgQ29udGVudFJlY29yZEZpbGVbXSB0byBmbGF0dGVuXG4gKiBAcGFyYW0gZXhwYW5kZWREaXJzIFRoZSBTZXQgb2YgZXhwYW5kZWQgZGlyZWN0b3JpZXNcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHB1c2ggdGhlIGZsYXR0ZW5lZCBmaWxlcyB0b1xuICogQHBhcmFtIGluZGVudCBUaGUgY3VycmVudCBpbmRlbnQgbGV2ZWxcbiAqIEBwYXJhbSBwYXJlbnRGaWxlIFRoZSBwYXJlbnQgZmlsZSBvZiB0aGUgZGlyZWN0b3J5IGJlaW5nIGZsYXR0ZW5lZFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5GaWxlcyhcbiAgZmlsZXM6IENvbnRlbnRSZWNvcmRGaWxlW10sXG4gIGV4cGFuZGVkRGlyczogU2V0PHN0cmluZz4sXG4gIGFyciA9IG5ldyBBcnJheTxGbGF0RmlsZT4oKSxcbiAgaW5kZW50ID0gMCxcbiAgcGFyZW50RmlsZT86IHN0cmluZyxcbik6IEZsYXRGaWxlW10ge1xuICBmaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgY29uc3QgeyBmaWxlcywgLi4ucmVzdCB9ID0gZmlsZTtcbiAgICBjb25zdCBmbGF0RmlsZSA9IHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICBpbmRlbnQ6IGluZGVudCxcbiAgICAgIHBhcmVudDogcGFyZW50RmlsZSxcbiAgICB9O1xuICAgIGFyci5wdXNoKGZsYXRGaWxlKTtcbiAgICBpZiAoZmlsZS5maWxlcy5sZW5ndGggPiAwICYmIGV4cGFuZGVkRGlycy5oYXMoZmlsZS5pZCkpIHtcbiAgICAgIGZsYXR0ZW5GaWxlcyhmaWxlLmZpbGVzLCBleHBhbmRlZERpcnMsIGFyciwgaW5kZW50ICsgMSwgZmlsZS5pZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYXJyO1xufVxuIiwiaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IGNvbXB1dGVkLCByZWYgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBmbGF0dGVuRmlsZXMgfSBmcm9tIFwic3JjL3V0aWxzL2ZpbGVzXCI7XG5cbmltcG9ydCB7IENvbnRlbnRSZWNvcmRGaWxlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZmlsZXNcIjtcbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VGaWxlU3RvcmUgPSBkZWZpbmVTdG9yZShcImZpbGVcIiwgKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGNvbnN0IHsgc2VuZE1zZyB9ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5cbiAgY29uc3QgZmlsZXMgPSByZWY8Q29udGVudFJlY29yZEZpbGU+KCk7XG5cbiAgY29uc3QgZXhwYW5kZWREaXJzID0gcmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuXG4gIGNvbnN0IGZsYXRGaWxlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgZmxhdHRlbkZpbGVzKGZpbGVzLnZhbHVlPy5maWxlcyB8fCBbXSwgZXhwYW5kZWREaXJzLnZhbHVlKSxcbiAgKTtcblxuICBjb25zdCBsYXN0RGVwbG95ZWRGaWxlcyA9IGNvbXB1dGVkKCgpOiBTZXQ8c3RyaW5nPiA9PiB7XG4gICAgaWYgKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5zdGF0ZSAhPT0gXCJuZXdcIikge1xuICAgICAgcmV0dXJuIG5ldyBTZXQoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LmZpbGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVmcmVzaEZpbGVzKCkge1xuICAgIHNlbmRNc2coeyBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVRVUVTVF9GSUxFU19MSVNUUyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluY2x1ZGVGaWxlKHsgaWQgfTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJpZFwiPikge1xuICAgIHNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLklOQ0xVREVfRklMRSxcbiAgICAgIGNvbnRlbnQ6IHsgcGF0aDogaWQgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4Y2x1ZGVGaWxlKHsgaWQgfTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJpZFwiPikge1xuICAgIHNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkVYQ0xVREVfRklMRSxcbiAgICAgIGNvbnRlbnQ6IHsgcGF0aDogaWQgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5GaWxlKHsgaWQgfTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJpZFwiPikge1xuICAgIHNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFLFxuICAgICAgY29udGVudDogeyByZWxhdGl2ZVBhdGg6IGlkIH0sXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBhbmREaXIoeyBpZCB9OiBQaWNrPENvbnRlbnRSZWNvcmRGaWxlLCBcImlkXCI+KSB7XG4gICAgZXhwYW5kZWREaXJzLnZhbHVlLmFkZChpZCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb2xsYXBzZURpcih7IGlkIH06IFBpY2s8Q29udGVudFJlY29yZEZpbGUsIFwiaWRcIj4pIHtcbiAgICBleHBhbmRlZERpcnMudmFsdWUuZGVsZXRlKGlkKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmlsZXMsXG4gICAgZXhwYW5kZWREaXJzLFxuICAgIGxhc3REZXBsb3llZEZpbGVzLFxuICAgIGZsYXRGaWxlcyxcbiAgICByZWZyZXNoRmlsZXMsXG4gICAgaW5jbHVkZUZpbGUsXG4gICAgZXhjbHVkZUZpbGUsXG4gICAgb3BlbkZpbGUsXG4gICAgZXhwYW5kRGlyLFxuICAgIGNvbGxhcHNlRGlyLFxuICB9O1xufSk7XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgV2Vidmlld0FwaSB9IGZyb20gXCJ2c2NvZGUtd2Vidmlld1wiO1xuXG5sZXQgYXBpSW5zdGFuY2U6IFdlYnZpZXdBcGk8dW5rbm93bj4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCB2c2NvZGVBUEkgPSAoKTogV2Vidmlld0FwaTx1bmtub3duPiA9PiB7XG4gIGlmICghYXBpSW5zdGFuY2UpIHtcbiAgICBhcGlJbnN0YW5jZSA9IGFjcXVpcmVWc0NvZGVBcGkoKTtcbiAgfVxuICByZXR1cm4gYXBpSW5zdGFuY2U7XG59O1xuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IG9uTW91bnRlZCwgb25Vbm1vdW50ZWQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBIb3N0Q29uZHVpdCB9IGZyb20gXCIuL3V0aWxzL2hvc3RDb25kdWl0XCI7XG5pbXBvcnQge1xuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZSxcbiAgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLFxuICBQdWJsaXNoRmluaXNoRmFpbHVyZU1zZyxcbiAgQ29udGVudFJlbmRlckZhaWx1cmVNc2csXG4gIFJlZnJlc2hDb25maWdEYXRhTXNnLFxuICBSZWZyZXNoQ3JlZGVudGlhbERhdGFNc2csXG4gIFJlZnJlc2hDb250ZW50UmVjb3JkRGF0YU1zZyxcbiAgVXBkYXRlQ29udGVudFJlY29yZFNlbGVjdGlvbk1zZyxcbiAgVXBkYXRlUHl0aG9uUGFja2FnZXMsXG4gIFVwZGF0ZVJQYWNrYWdlcyxcbiAgUmVmcmVzaEZpbGVzTXNnLFxuICBTZXRQYXRoU2VwYXJhdG9yTXNnLFxuICBVcGRhdGVTZXJ2ZXJFbnZpcm9ubWVudE1zZyxcbiAgUmVmcmVzaEludGVncmF0aW9uUmVxdWVzdHNNc2csXG4gIFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyxcbn0gZnJvbSBcIi4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy9ob3N0VG9XZWJ2aWV3TWVzc2FnZXNcIjtcbmltcG9ydCB7XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlLFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUsXG59IGZyb20gXCIuLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5pbXBvcnQgeyB1c2VGaWxlU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9maWxlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB2c2NvZGVBUEkgfSBmcm9tIFwic3JjL3ZzY29kZVwiO1xuXG5sZXQgaG9zdENvbmR1aXQ6IEhvc3RDb25kdWl0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG5jb25zdCB2c0NvZGVBcGkgPSB2c2NvZGVBUEkoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUhvc3RDb25kdWl0U2VydmljZSgpIHtcbiAgaWYgKCFob3N0Q29uZHVpdCkge1xuICAgIGhvc3RDb25kdWl0ID0gbmV3IEhvc3RDb25kdWl0KHdpbmRvdywgdnNDb2RlQXBpKTtcbiAgICBvbk1vdW50ZWQoKCkgPT4gaG9zdENvbmR1aXQgJiYgaG9zdENvbmR1aXQub25Nc2cob25NZXNzYWdlRnJvbUhvc3QpKTtcbiAgICBvblVubW91bnRlZCgoKSA9PiBob3N0Q29uZHVpdCAmJiBob3N0Q29uZHVpdC5kZWFjdGl2YXRlKCkpO1xuICAgIHVzZUhvbWVTdG9yZSgpLmluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZSA9IGZhbHNlO1xuICAgIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLklOSVRJQUxJWklORyxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHNlbmRNc2cgPSAobXNnOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSkgPT4ge1xuICAgIGlmICghaG9zdENvbmR1aXQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBIb3N0Q29uZGl1dFNlcnZpY2U6OnNlbmRNc2cgYXR0ZW1wdGVkIGFoZWFkIG9mIGNhbGwgdG8gdXNlSG9zdENvbmR1aXRTZXJ2aWNlLiBNZXNzYWdlIERyb3BwZWQ6ICR7SlNPTi5zdHJpbmdpZnkobXNnKX1gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5kZWJ1ZyhgSG9zdENvbmR1aXRTZXJ2aWNlIC0gU2VuZGluZyBNc2c6ICR7SlNPTi5zdHJpbmdpZnkobXNnKX1gKTtcbiAgICByZXR1cm4gaG9zdENvbmR1aXQuc2VuZE1zZyhtc2cpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2VuZE1zZyxcbiAgfTtcbn1cblxuY29uc3Qgb25NZXNzYWdlRnJvbUhvc3QgPSAobXNnOiBIb3N0VG9XZWJ2aWV3TWVzc2FnZSk6IHZvaWQgPT4ge1xuICBjb25zb2xlLmRlYnVnKGBIb3N0Q29uZHVpdFNlcnZpY2UgLSBSZWNlaXZpbmcgTXNnOiAke0pTT04uc3RyaW5naWZ5KG1zZyl9YCk7XG4gIHN3aXRjaCAobXNnLmtpbmQpIHtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5JTklUSUFMSVpJTkdfUkVRVUVTVF9DT01QTEVURTpcbiAgICAgIHJldHVybiBvbkluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZU1zZygpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlJFRlJFU0hfQ09OVEVOVFJFQ09SRF9EQVRBOlxuICAgICAgcmV0dXJuIG9uUmVmcmVzaENvbnRlbnRSZWNvcmREYXRhTXNnKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DT05GSUdfREFUQTpcbiAgICAgIHJldHVybiBvblJlZnJlc2hDb25maWdEYXRhTXNnKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DUkVERU5USUFMX0RBVEE6XG4gICAgICByZXR1cm4gb25SZWZyZXNoQ3JlZGVudGlhbERhdGFNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0NBTkNFTDpcbiAgICAgIHJldHVybiBvblB1Ymxpc2hDYW5jZWxNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0lOSVQ6XG4gICAgICByZXR1cm4gb25QdWJsaXNoSW5pdE1zZygpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfU1RBUlQ6XG4gICAgICByZXR1cm4gb25QdWJsaXNoU3RhcnRNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9TVUNDRVNTOlxuICAgICAgcmV0dXJuIG9uUHVibGlzaEZpbmlzaFN1Y2Nlc3NNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9GQUlMVVJFOlxuICAgICAgcmV0dXJuIG9uUHVibGlzaEZpbmlzaEZhaWx1cmVNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9TVUNDRVNTOlxuICAgICAgcmV0dXJuIG9uQ29udGVudFJlbmRlclN1Y2Nlc3NNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9GQUlMVVJFOlxuICAgICAgcmV0dXJuIG9uQ29udGVudFJlbmRlckZhaWx1cmVNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5VUERBVEVfQ09OVEVOVFJFQ09SRF9TRUxFQ1RJT046XG4gICAgICByZXR1cm4gb25VcGRhdGVDb250ZW50UmVjb3JkU2VsZWN0aW9uTXNnKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT046XG4gICAgICByZXR1cm4gb25TYXZlU2VsZWN0aW9uTXNnKCk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9GSUxFUzpcbiAgICAgIHJldHVybiBvblJlZnJlc2hGaWxlc01zZyhtc2cpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9QWVRIT05fUEFDS0FHRVM6XG4gICAgICByZXR1cm4gb25VcGRhdGVQeXRob25QYWNrYWdlcyhtc2cpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9SX1BBQ0tBR0VTOlxuICAgICAgcmV0dXJuIG9uVXBkYXRlUlBhY2thZ2VzKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0hPV19ESVNBQkxFX09WRVJMQVk6XG4gICAgICByZXR1cm4gb25TaG93RGlzYWJsZU92ZXJsYXlNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5ISURFX0RJU0FCTEVfT1ZFUkxBWTpcbiAgICAgIHJldHVybiBvbkhpZGVEaXNhYmxlT3ZlcmxheU1zZygpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlNFVF9QQVRIX1NFUEFSQVRPUjpcbiAgICAgIHJldHVybiBvblNldFBhdGhTZXBhcmF0b3JNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5VUERBVEVfU0VSVkVSX0VOVklST05NRU5UOlxuICAgICAgcmV0dXJuIG9uVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0lOVEVHUkFUSU9OX1JFUVVFU1RTOlxuICAgICAgcmV0dXJuIG9uUmVmcmVzaEludGVncmF0aW9uUmVxdWVzdHNNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX1NFUlZFUl9TRVRUSU5HUzpcbiAgICAgIHJldHVybiBvblJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyhtc2cpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLndhcm4oYHVuZXhwZWN0ZWQgY29tbWFuZDogJHtKU09OLnN0cmluZ2lmeShtc2cpfWApO1xuICB9XG59O1xuXG5jb25zdCBvblNldFBhdGhTZXBhcmF0b3JNc2cgPSAobXNnOiBTZXRQYXRoU2VwYXJhdG9yTXNnKSA9PiB7XG4gIHVzZUhvbWVTdG9yZSgpLnBsYXRmb3JtRmlsZVNlcGFyYXRvciA9IG1zZy5jb250ZW50LnNlcGFyYXRvcjtcbn07XG5cbmNvbnN0IG9uSW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlTXNnID0gKCkgPT4ge1xuICB1c2VIb21lU3RvcmUoKS5pbml0aWFsaXppbmdSZXF1ZXN0Q29tcGxldGUgPSB0cnVlO1xufTtcblxuY29uc3Qgb25TaG93RGlzYWJsZU92ZXJsYXlNc2cgPSAoKSA9PiB7XG4gIHVzZUhvbWVTdG9yZSgpLnNob3dEaXNhYmxlZE92ZXJsYXkgPSB0cnVlO1xufTtcblxuY29uc3Qgb25IaWRlRGlzYWJsZU92ZXJsYXlNc2cgPSAoKSA9PiB7XG4gIHVzZUhvbWVTdG9yZSgpLnNob3dEaXNhYmxlZE92ZXJsYXkgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogV2hlbiBnZXR0aW5nIG5ldyBjb250ZW50UmVjb3JkcyBzZXQgdGhlIG5ldyBuYW1lIGlmIGdpdmVuIG9uZSxcbiAqIHVuc2V0IHRoZSBjb250ZW50UmVjb3JkIGlmIHRvbGQgdG8gZG8gc28gd2l0aCBudWxsLFxuICogb3Iga2VlcCB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZCB3aXRoIHVwZGF0ZWQgZGF0YS5cbiAqL1xuY29uc3Qgb25SZWZyZXNoQ29udGVudFJlY29yZERhdGFNc2cgPSAobXNnOiBSZWZyZXNoQ29udGVudFJlY29yZERhdGFNc2cpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLmNvbnRlbnRSZWNvcmRzID0gbXNnLmNvbnRlbnQuY29udGVudFJlY29yZHM7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSBtc2cuY29udGVudC5kZXBsb3ltZW50U2VsZWN0ZWQ7XG4gIGlmIChzZWxlY3RvciA9PT0gbnVsbCkge1xuICAgIGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIHRoZSBzZWxlY3RvciBpcyB1bmRlZmluZWQgZG9uJ3QgY2hhbmdlIHRoZSBzZWxlY3Rpb24sIGJ1dCB1cGRhdGVcbiAgLy8gdGhlIGRhdGFcbiAgaWYgKHNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpIHtcbiAgICAgIGhvbWUudXBkYXRlU2VsZWN0ZWRDb250ZW50UmVjb3JkQnlTZWxlY3Rvcih7XG4gICAgICAgIGRlcGxveW1lbnRQYXRoOiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5kZXBsb3ltZW50UGF0aCxcbiAgICAgICAgZGVwbG95bWVudE5hbWU6IGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkLmRlcGxveW1lbnROYW1lLFxuICAgICAgICBwcm9qZWN0RGlyOiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5wcm9qZWN0RGlyLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBhIHNlbGVjdG9yLCBzbyB1cGRhdGUgdGhlIHNlbGVjdGlvblxuICBob21lLnVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufTtcblxuLyoqXG4gKiBXaGVuIGdldHRpbmcgbmV3IGNvbmZpZ3VyYXRpb25zIHNldCB0aGUgbmV3IG5hbWUgaWYgZ2l2ZW4gb25lLFxuICogdW5zZXQgdGhlIGNvbmZpZ3VyYXRpb24gaWYgdG9sZCB0byBkbyBzbyB3aXRoIG51bGwsXG4gKiBrZWVwIHRoZSBzZWxlY3RlZCBjb25maWd1cmF0aW9uIHdpdGggdXBkYXRlZCBkYXRhLFxuICogb3Igc2V0IHRoZSBzZWxlY3RlZCBjb25maWd1cmF0aW9uIHRvIHRoZSBvbmUgZnJvbSB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZC5cbiAqL1xuY29uc3Qgb25SZWZyZXNoQ29uZmlnRGF0YU1zZyA9IChtc2c6IFJlZnJlc2hDb25maWdEYXRhTXNnKSA9PiB7XG4gIGNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbiAgaG9tZS5jb25maWd1cmF0aW9ucyA9IG1zZy5jb250ZW50LmNvbmZpZ3VyYXRpb25zO1xuICBob21lLmNvbmZpZ3VyYXRpb25zSW5FcnJvciA9IG1zZy5jb250ZW50LmNvbmZpZ3VyYXRpb25zSW5FcnJvcjtcbn07XG5cbi8qKlxuICogV2hlbiBnZXR0aW5nIG5ldyBjcmVkZW50aWFscyBzZXQgdGhlIG5ldyBuYW1lIGlmIGdpdmVuIG9uZSxcbiAqIHVuc2V0IHRoZSBjcmVkZW50aWFsIGlmIHRvbGQgdG8gZG8gc28gd2l0aCBudWxsLFxuICogb3Iga2VlcCB0aGUgc2VsZWN0ZWQgY3JlZGVudGlhbCB3aXRoIHVwZGF0ZWQgZGF0YS5cbiAqL1xuY29uc3Qgb25SZWZyZXNoQ3JlZGVudGlhbERhdGFNc2cgPSAobXNnOiBSZWZyZXNoQ3JlZGVudGlhbERhdGFNc2cpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLmNyZWRlbnRpYWxzID0gbXNnLmNvbnRlbnQuY3JlZGVudGlhbHM7XG59O1xuY29uc3Qgb25QdWJsaXNoQ2FuY2VsTXNnID0gKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgaG9tZS5wdWJsaXNoSW5pdGlhdGVkID0gZmFsc2U7XG59O1xuY29uc3Qgb25QdWJsaXNoSW5pdE1zZyA9ICgpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLnB1Ymxpc2hJbml0aWF0ZWQgPSBmYWxzZTtcbn07XG5jb25zdCBvblB1Ymxpc2hTdGFydE1zZyA9ICgpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLnB1Ymxpc2hJblByb2dyZXNzID0gdHJ1ZTtcbn07XG5jb25zdCBvblB1Ymxpc2hGaW5pc2hTdWNjZXNzTXNnID0gKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuY2xlYXJTZWNyZXRWYWx1ZXMoKTtcbiAgaG9tZS5wdWJsaXNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICBob21lLmxhc3RDb250ZW50UmVjb3JkUmVzdWx0ID0gYExhc3QgRGVwbG95bWVudCB3YXMgU3VjY2Vzc2Z1bGA7XG4gIGhvbWUubGFzdENvbnRlbnRSZWNvcmRNc2cgPSBcIlwiO1xufTtcbmNvbnN0IG9uUHVibGlzaEZpbmlzaEZhaWx1cmVNc2cgPSAobXNnOiBQdWJsaXNoRmluaXNoRmFpbHVyZU1zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgaG9tZS5sYXN0Q29udGVudFJlY29yZFJlc3VsdCA9IGBMYXN0IERlcGxveW1lbnQgRmFpbGVkYDtcbiAgaG9tZS5sYXN0Q29udGVudFJlY29yZE1zZyA9IG1zZy5jb250ZW50LmRhdGEubWVzc2FnZTtcbn07XG5jb25zdCBvbkNvbnRlbnRSZW5kZXJTdWNjZXNzTXNnID0gKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuY29udGVudFJlbmRlckVycm9yID0gdW5kZWZpbmVkO1xuICBob21lLmNvbnRlbnRSZW5kZXJTdWNjZXNzID0gdHJ1ZTtcbiAgaG9tZS5jb250ZW50UmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xufTtcbmNvbnN0IG9uQ29udGVudFJlbmRlckZhaWx1cmVNc2cgPSAobXNnOiBDb250ZW50UmVuZGVyRmFpbHVyZU1zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuY29udGVudFJlbmRlckVycm9yID0gbXNnLmNvbnRlbnQuZXJyb3I7XG4gIGhvbWUuY29udGVudFJlbmRlclN1Y2Nlc3MgPSBmYWxzZTtcbiAgaG9tZS5jb250ZW50UmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xufTtcbmNvbnN0IG9uVXBkYXRlQ29udGVudFJlY29yZFNlbGVjdGlvbk1zZyA9IChcbiAgbXNnOiBVcGRhdGVDb250ZW50UmVjb3JkU2VsZWN0aW9uTXNnLFxuKSA9PiB7XG4gIGNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbiAgaG9tZS51cGRhdGVTZWxlY3RlZENvbnRlbnRSZWNvcmRCeU9iamVjdChtc2cuY29udGVudC5wcmVDb250ZW50UmVjb3JkKTtcbiAgaWYgKG1zZy5jb250ZW50LnNhdmVTZWxlY3Rpb24pIHtcbiAgICBob21lLnVwZGF0ZVBhcmVudFZpZXdTZWxlY3Rpb25TdGF0ZSgpO1xuICB9XG59O1xuXG5jb25zdCBvblNhdmVTZWxlY3Rpb25Nc2cgPSAoKSA9PiB7XG4gIGNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbiAgaG9tZS51cGRhdGVQYXJlbnRWaWV3U2VsZWN0aW9uU3RhdGUoKTtcbn07XG5cbmNvbnN0IG9uUmVmcmVzaEZpbGVzTXNnID0gKG1zZzogUmVmcmVzaEZpbGVzTXNnKSA9PiB7XG4gIGNvbnN0IGZpbGVTdG9yZSA9IHVzZUZpbGVTdG9yZSgpO1xuXG4gIC8vIElmIHRoZSByb290IGZpbGUgaGFzIGNoYW5nZWQsIHJlc2V0IHRoZSBleHBhbmRlZCBkaXJlY3Rvcmllc1xuICBpZiAobXNnLmNvbnRlbnQuZmlsZXMuYWJzICE9PSBmaWxlU3RvcmUuZmlsZXM/LmFicykge1xuICAgIGZpbGVTdG9yZS5leHBhbmRlZERpcnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBmaWxlU3RvcmUuZmlsZXMgPSBtc2cuY29udGVudC5maWxlcztcbn07XG5cbmNvbnN0IG9uVXBkYXRlUHl0aG9uUGFja2FnZXMgPSAobXNnOiBVcGRhdGVQeXRob25QYWNrYWdlcykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUudXBkYXRlUHl0aG9uUGFja2FnZXMoXG4gICAgbXNnLmNvbnRlbnQucHl0aG9uUHJvamVjdCxcbiAgICBtc2cuY29udGVudC5wYWNrYWdlcyxcbiAgICBtc2cuY29udGVudC5maWxlLFxuICAgIG1zZy5jb250ZW50Lm1hbmFnZXIsXG4gICk7XG59O1xuXG5jb25zdCBvblVwZGF0ZVJQYWNrYWdlcyA9IChtc2c6IFVwZGF0ZVJQYWNrYWdlcykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUudXBkYXRlUlBhY2thZ2VzKFxuICAgIG1zZy5jb250ZW50LnJQcm9qZWN0LFxuICAgIG1zZy5jb250ZW50LnBhY2thZ2VzLFxuICAgIG1zZy5jb250ZW50LmZpbGUsXG4gICAgbXNnLmNvbnRlbnQubWFuYWdlcixcbiAgICBtc2cuY29udGVudC5yVmVyc2lvbixcbiAgKTtcbn07XG5cbmNvbnN0IG9uVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2cgPSAobXNnOiBVcGRhdGVTZXJ2ZXJFbnZpcm9ubWVudE1zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuc2VydmVyU2VjcmV0cyA9IG5ldyBTZXQobXNnLmNvbnRlbnQuZW52aXJvbm1lbnQpO1xufTtcblxuY29uc3Qgb25SZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZyA9IChcbiAgbXNnOiBSZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZyxcbikgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuaW50ZWdyYXRpb25SZXF1ZXN0cyA9IG1zZy5jb250ZW50LmludGVncmF0aW9uUmVxdWVzdHM7XG59O1xuXG5jb25zdCBvblJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyA9IChtc2c6IFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuc2VydmVyU2V0dGluZ3MgPSBtc2cuY29udGVudC5zZXJ2ZXJTZXR0aW5ncztcbn07XG4iLCI8IS0tIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLiAtLT5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1vcHRpb25cIj5cbiAgICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1yb3dcIj5cbiAgICAgIDxkaXYgdi1pZj1cImNvZGljb25cIiBjbGFzcz1cInF1aWNrLXBpY2staWNvbiBjb2RpY29uXCIgOmNsYXNzPVwiY29kaWNvblwiIC8+XG4gICAgICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1sYWJlbC1jb250YWluZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJxdWljay1waWNrLWxhYmVsXCI+e3sgbGFiZWwgfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIHYtaWY9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwicXVpY2stcGljay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIHt7IGRlc2NyaXB0aW9uIH19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgdi1mb3I9XCJkZXRhaWwgaW4gZGV0YWlsc1wiIGNsYXNzPVwicXVpY2stcGljay1yb3dcIj5cbiAgICAgIDxkaXYgdi1pZj1cImlzSWNvbkRldGFpbChkZXRhaWwpXCIgY2xhc3M9XCJxdWljay1waWNrLWRldGFpbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1pY29uIGNvZGljb25cIiA6Y2xhc3M9XCJkZXRhaWwuaWNvblwiIC8+XG4gICAgICAgIDxzcGFuPnt7IGRldGFpbC50ZXh0IH19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiB2LWVsc2UgY2xhc3M9XCJxdWljay1waWNrLWRldGFpbFwiPnt7IGRldGFpbCB9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuZXhwb3J0IHR5cGUgSWNvbkRldGFpbCA9IHsgaWNvbjogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfTtcblxuY29uc3QgaXNJY29uRGV0YWlsID0gKGRldGFpbDogc3RyaW5nIHwgSWNvbkRldGFpbCk6IGRldGFpbCBpcyBJY29uRGV0YWlsID0+XG4gIHR5cGVvZiBkZXRhaWwgPT09IFwib2JqZWN0XCIgJiYgXCJpY29uXCIgaW4gZGV0YWlsICYmIFwidGV4dFwiIGluIGRldGFpbDtcblxuZGVmaW5lUHJvcHM8e1xuICBsYWJlbDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZGV0YWlsczogQXJyYXk8c3RyaW5nIHwgSWNvbkRldGFpbD47XG4gIGNvZGljb24/OiBzdHJpbmc7XG59PigpO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5xdWljay1waWNrLW9wdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXg6IDE7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuXG4gIC5xdWljay1waWNrLXJvdyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgJjpub3QoOm9ubHktY2hpbGQpIHtcbiAgICAgIC5xdWljay1waWNrLWxhYmVsLWNvbnRhaW5lciB7XG4gICAgICAgIC5xdWljay1waWNrLWxhYmVsIHtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICY6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgICAucXVpY2stcGljay1kZXRhaWwge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnF1aWNrLXBpY2staWNvbiB7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XG4gICAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gICAgfVxuXG4gICAgLnF1aWNrLXBpY2stbGFiZWwtY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAxO1xuICAgICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuXG4gICAgICAucXVpY2stcGljay1sYWJlbCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgZmxleDogMiAxO1xuICAgICAgICBtYXgtd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgfVxuXG4gICAgICAucXVpY2stcGljay1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwLjVlbTtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBmbGV4OiAxIDE7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5xdWljay1waWNrLWRldGFpbCB7XG4gICAgICBsaW5lLWhlaWdodDogbm9ybWFsO1xuICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgd2hpdGUtc3BhY2U6IHByZTtcblxuICAgICAgLnF1aWNrLXBpY2staWNvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tdnNjb2RlLWZvbnQtc2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwibW9uYWNvLWFjdGlvbi1iYXJcIj5cbiAgICA8dWxcbiAgICAgIGNsYXNzPVwiYWN0aW9ucy1jb250YWluZXJcIlxuICAgICAgcm9sZT1cInRvb2xiYXJcIlxuICAgICAgOmFyaWEtbGFiZWw9XCJgJHt0aXRsZX0gYWN0aW9uc2BcIlxuICAgID5cbiAgICAgIDxsaVxuICAgICAgICB2LWZvcj1cImFjdGlvbiBpbiBhY3Rpb25zXCJcbiAgICAgICAgY2xhc3M9XCJhY3Rpb24taXRlbSBtZW51LWVudHJ5XCJcbiAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICA+XG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3M9XCJhY3Rpb24tbGFiZWwgY29kaWNvblwiXG4gICAgICAgICAgOmNsYXNzPVwiYWN0aW9uLmNvZGljb25cIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIDp0aXRsZT1cImFjdGlvbi5sYWJlbFwiXG4gICAgICAgICAgOmFyaWEtbGFiZWw9XCJhY3Rpb24ubGFiZWxcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgQGNsaWNrLnN0b3A9XCJhY3Rpb24uZm5cIlxuICAgICAgICAgIEBrZXlkb3duLmVudGVyPVwiYWN0aW9uLmZuXCJcbiAgICAgICAgPjwvYT5cbiAgICAgIDwvbGk+XG5cbiAgICAgIDxsaVxuICAgICAgICB2LWlmPVwiY29udGV4dE1lbnVcIlxuICAgICAgICByZWY9XCJjb250ZXh0TWVudUJ1dHRvblwiXG4gICAgICAgIDpkYXRhLXZzY29kZS1jb250ZXh0PVwidnNjb2RlQ29udGV4dFwiXG4gICAgICAgIGNsYXNzPVwiYWN0aW9uLWl0ZW0gbWVudS1lbnRyeVwiXG4gICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgPlxuICAgICAgICA8YVxuICAgICAgICAgIGNsYXNzPVwiYWN0aW9uLWxhYmVsIGNvZGljb24gY29kaWNvbi1lbGxpcHNpc1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgOnRpdGxlPVwiYE1vcmUgJHt0aXRsZX0gYWN0aW9uc2BcIlxuICAgICAgICAgIDphcmlhLWxhYmVsPVwiYE1vcmUgJHt0aXRsZX0gYWN0aW9uc2BcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgQGNsaWNrLnN0b3AucHJldmVudD1cIm9wZW5Db250ZXh0TWVudVwiXG4gICAgICAgICAgQGtleWRvd24uZW50ZXI9XCJvcGVuQ29udGV4dE1lbnVcIlxuICAgICAgICA+XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiB9IGZyb20gXCJ2dWVcIjtcblxuZXhwb3J0IHR5cGUgQWN0aW9uQnV0dG9uID0ge1xuICBsYWJlbDogc3RyaW5nO1xuICBjb2RpY29uOiBzdHJpbmc7XG4gIGZuOiAoKSA9PiB2b2lkO1xufTtcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczx7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGFjdGlvbnM/OiBBY3Rpb25CdXR0b25bXTtcbiAgY29udGV4dE1lbnU/OiBzdHJpbmc7XG59PigpO1xuXG5jb25zdCBjb250ZXh0TWVudUJ1dHRvbiA9IHJlZjxIVE1MQW5jaG9yRWxlbWVudCB8IG51bGw+KG51bGwpO1xuXG5jb25zdCBvcGVuQ29udGV4dE1lbnUgPSAoZTogRXZlbnQpID0+IHtcbiAgaWYgKGUgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQpIHtcbiAgICBlLnRhcmdldD8uZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBNb3VzZUV2ZW50KFwiY29udGV4dG1lbnVcIiwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjbGllbnRYOiBlLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6IGUuY2xpZW50WSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQpIHtcbiAgICBlLnRhcmdldD8uZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBNb3VzZUV2ZW50KFwiY29udGV4dG1lbnVcIiwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjbGllbnRYOiBjb250ZXh0TWVudUJ1dHRvbi52YWx1ZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxcbiAgICAgICAgY2xpZW50WTogY29udGV4dE1lbnVCdXR0b24udmFsdWU/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cbn07XG5cbmNvbnN0IHZzY29kZUNvbnRleHQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmICghcHJvcHMuY29udGV4dE1lbnUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICB3ZWJ2aWV3U2VjdGlvbjogcHJvcHMuY29udGV4dE1lbnUsXG4gICAgcHJldmVudERlZmF1bHRDb250ZXh0TWVudUl0ZW1zOiB0cnVlLFxuICB9KTtcbn0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5tb25hY28tYWN0aW9uLWJhciB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGhlaWdodDogMTAwJTtcblxuICAuYWN0aW9ucy1jb250YWluZXIge1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZzogMDtcbiAgICB3aWR0aDogMTAwJTtcblxuICAgIC5hY3Rpb24taXRlbSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICAgLmFjdGlvbi1sYWJlbCB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgcGFkZGluZzogMnB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtaWNvbi1mb3JlZ3JvdW5kKTtcblxuICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIG91dGxpbmUtY29sb3I6IHZhcigtLXZzY29kZS1mb2N1c0JvcmRlcik7XG4gICAgICAgICAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gICAgICAgICAgb3V0bGluZS1zdHlsZTogc29saWQ7XG4gICAgICAgICAgb3V0bGluZS13aWR0aDogMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLXRvb2xiYXItaG92ZXJCYWNrZ3JvdW5kKTtcbiAgICAgICAgICBvdXRsaW5lOiAxcHggZGFzaGVkIHZhcigtLXZzY29kZS10b29sYmFyLWhvdmVyT3V0bGluZSk7XG4gICAgICAgICAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDx2c2NvZGUtYnV0dG9uXG4gICAgOmRhdGEtYXV0b21hdGlvbj1cImBkZXBsb3ktYnV0dG9uYFwiXG4gICAgOmRpc2FibGVkPVwiZGlzYWJsZURlcGxveVwiXG4gICAgQGNsaWNrPVwiZGVwbG95XCJcbiAgPlxuICAgIERlcGxveSBZb3VyIFByb2plY3RcbiAgPC92c2NvZGUtYnV0dG9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuXG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuXG5jb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG5jb25zdCBob3N0Q29uZHVpdCA9IHVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuXG5jb25zdCBoYXZlUmVzb3VyY2VzID0gY29tcHV0ZWQoXG4gICgpID0+XG4gICAgQm9vbGVhbihob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCkgJiZcbiAgICBCb29sZWFuKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uKSAmJlxuICAgIEJvb2xlYW4oaG9tZS5zZXJ2ZXJDcmVkZW50aWFsKSxcbik7XG5cbmNvbnN0IGRpc2FibGVEZXBsb3kgPSBjb21wdXRlZChcbiAgKCkgPT5cbiAgICAhaGF2ZVJlc291cmNlcy52YWx1ZSB8fFxuICAgIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgfHxcbiAgICBob21lLnB1Ymxpc2hJbml0aWF0ZWQgfHxcbiAgICBob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzLFxuKTtcblxuY29uc3QgZGVwbG95ID0gKCkgPT4ge1xuICBpZiAoXG4gICAgIWhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkIHx8XG4gICAgIWhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIHx8XG4gICAgIWhvbWUuc2VydmVyQ3JlZGVudGlhbFxuICApIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJEZXBsb3lCdXR0b246OmRlcGxveSB0cnlpbmcgdG8gc2VuZCBtZXNzYWdlIHdpdGggdW5kZWZpbmVkIHZhbHVlcy4gQWN0aW9uIGlnbm9yZWQuXCIsXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzdG9wIHRoZSB1c2VyIGZyb20gZG91YmxlIGNsaWNraW5nIHRoZSBkZXBsb3kgYnV0dG9uIGJ5IG1pc3Rha2VcbiAgaG9tZS5wdWJsaXNoSW5pdGlhdGVkID0gdHJ1ZTtcblxuICAvLyBJZiB0aGVyZSBpcyBhbnkgcmVuZGVyIHByb2Nlc3MgZmxhZ3MsIGNsZWFyIHRoYXQgdXBcbiAgaG9tZS5jb250ZW50UmVuZGVyU3VjY2VzcyA9IHVuZGVmaW5lZDtcbiAgaG9tZS5jb250ZW50UmVuZGVyRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgLy8gT25seSBzZW5kIHVwIHNlY3JldHMgdGhhdCBoYXZlIHZhbHVlc1xuICBjb25zdCBzZWNyZXRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGhvbWUuc2VjcmV0cy5mb3JFYWNoKCh2YWx1ZSwgbmFtZSkgPT4ge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgc2VjcmV0c1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkRFUExPWSxcbiAgICBjb250ZW50OiB7XG4gICAgICBkZXBsb3ltZW50TmFtZTogaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQuc2F2ZU5hbWUsXG4gICAgICBjb25maWd1cmF0aW9uTmFtZTogaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbk5hbWUsXG4gICAgICBjcmVkZW50aWFsTmFtZTogaG9tZS5zZXJ2ZXJDcmVkZW50aWFsLm5hbWUsXG4gICAgICBwcm9qZWN0RGlyOiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5wcm9qZWN0RGlyLFxuICAgICAgc2VjcmV0czogc2VjcmV0cyxcbiAgICB9LFxuICB9KTtcbn07XG48L3NjcmlwdD5cbiIsIjx0ZW1wbGF0ZT5cbiAgPHZzY29kZS1idXR0b25cbiAgICA6ZGF0YS1hdXRvbWF0aW9uPVwiYHJlbmRlci1idXR0b25gXCJcbiAgICA6ZGlzYWJsZWQ9XCJob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzXCJcbiAgICBAY2xpY2s9XCJyZW5kZXJcIlxuICA+XG4gICAgUmVuZGVyIFlvdXIgUHJvamVjdFxuICA8L3ZzY29kZS1idXR0b24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuaW1wb3J0IHsgdXNlSG9zdENvbmR1aXRTZXJ2aWNlIH0gZnJvbSBcInNyYy9Ib3N0Q29uZHVpdFNlcnZpY2VcIjtcbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbmNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5jb25zdCByZW5kZXIgPSAoKSA9PiB7XG4gIGhvbWUuY29udGVudFJlbmRlckVycm9yID0gdW5kZWZpbmVkO1xuICBob21lLmNvbnRlbnRSZW5kZXJTdWNjZXNzID0gdW5kZWZpbmVkO1xuICBob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzID0gdHJ1ZTtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7IGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRU5ERVJfQ09OVEVOVCB9KTtcbn07XG48L3NjcmlwdD5cbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBpc1ByZUNvbnRlbnRSZWNvcmQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaVwiO1xuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuXG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8e1xuICB2aWV3TG9nOiBbXTtcbn0+KCk7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcblxuY29uc3QgcHJvY2Vzc1Byb2dyZXNzTGFiZWwgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChob21lLnB1Ymxpc2hJblByb2dyZXNzKSB7XG4gICAgcmV0dXJuIFwiRGVwbG95bWVudCBpbiBQcm9ncmVzcy4uLlwiO1xuICB9XG4gIGlmIChob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzKSB7XG4gICAgcmV0dXJuIFwiUmVuZGVyaW5nIENvbnRlbnQuLi5cIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn0pO1xuXG5jb25zdCByZW5kZXJJblByb2dyZXNzTXNnID0gY29tcHV0ZWQoKCkgPT4ge1xuICAvLyBXZSBjdXJyZW50bHkgb25seSByZW5kZXIgY29udGVudCB3aXRoIFF1YXJ0b1xuICAvLyBidXQgaWYgd2UgZ2V0IHRvIGEgcG9pbnQgb2YgcmVuZGVyaW5nIHdpdGggUm1kIG9yIGJ5IG90aGVyIG1lYW5zXG4gIC8vIEhlcmUgaXMgYSBnb29kIHBsYWNlIHRvIGlkZW50aWZ5IHRoZSBcInNvdXJjZVwiIGFuZCB1c2UgYW4gYXBwcm9wcmlhdGUgbGFiZWxcbiAgcmV0dXJuIFwiUXVhcnRvIGlzIHJ1bm5pbmcgdG8gZ2VuZXJhdGUgeW91ciBjb250ZW50XCI7XG59KTtcblxuY29uc3QgY29udGV4dE1lbnVWU0NvZGVDb250ZXh0ID0gY29tcHV0ZWQoKCk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBob21lLnB1Ymxpc2hJblByb2dyZXNzIHx8XG4gICAgaXNQcmVDb250ZW50UmVjb3JkKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkKVxuICAgID8gXCJob21ldmlldy1hY3RpdmUtY29udGVudFJlY29yZC1tb3JlLW1lbnVcIlxuICAgIDogXCJob21ldmlldy1sYXN0LWNvbnRlbnRSZWNvcmQtbW9yZS1tZW51XCI7XG59KTtcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJwcm9jZXNzLWluLXByb2dyZXNzXCI+XG4gICAgPHZzY29kZS1wcm9ncmVzcy1yaW5nIGNsYXNzPVwicHJvY2Vzcy1pbi1wcm9ncmVzc19fcmluZ1wiIC8+XG4gICAgPGRpdiBjbGFzcz1cImZsZXgtZ3Jvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cInByb2Nlc3MtaW4tcHJvZ3Jlc3NfX3RpdGxlLWJsb2NrXCI+XG4gICAgICAgIDxoNFxuICAgICAgICAgIGNsYXNzPVwicHJvY2Vzcy1pbi1wcm9ncmVzc19fdGl0bGVcIlxuICAgICAgICAgIGRhdGEtYXV0b21hdGlvbj1cImRlcGxveW1lbnQtcHJvZ3Jlc3NcIlxuICAgICAgICA+XG4gICAgICAgICAge3sgcHJvY2Vzc1Byb2dyZXNzTGFiZWwgfX1cbiAgICAgICAgPC9oND5cbiAgICAgICAgPEFjdGlvblRvb2xiYXJcbiAgICAgICAgICB2LWlmPVwiaG9tZS5wdWJsaXNoSW5Qcm9ncmVzc1wiXG4gICAgICAgICAgdGl0bGU9XCJMb2dzXCJcbiAgICAgICAgICA6YWN0aW9ucz1cIltdXCJcbiAgICAgICAgICA6Y29udGV4dC1tZW51PVwiY29udGV4dE1lbnVWU0NvZGVDb250ZXh0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAgdi1pZj1cImhvbWUucHVibGlzaEluUHJvZ3Jlc3NcIiBjbGFzcz1cInByb2Nlc3MtaW4tcHJvZ3Jlc3NfX2xvZy1hbmNob3JcIj5cbiAgICAgICAgPGEgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwiZW1pdCgndmlld0xvZycpXCI+XG4gICAgICAgICAgVmlldyBQdWJsaXNoaW5nIExvZ1xuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgICA8cFxuICAgICAgICB2LWlmPVwiaG9tZS5jb250ZW50UmVuZGVySW5Qcm9ncmVzc1wiXG4gICAgICAgIGNsYXNzPVwicHJvY2Vzcy1pbi1wcm9ncmVzc19fcmVuZGVyLW1zZ1wiXG4gICAgICA+XG4gICAgICAgIHt7IHJlbmRlckluUHJvZ3Jlc3NNc2cgfX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ucHJvY2Vzcy1pbi1wcm9ncmVzcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG5cbiAgJl9fcmluZyB7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIG1hcmdpbi10b3A6IDEuMzNlbTtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIH1cblxuICAmX190aXRsZS1ibG9jayB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICB9XG5cbiAgJl9fdGl0bGUge1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMS4zM2VtO1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgfVxuXG4gICZfX2xvZy1hbmNob3IsXG4gICZfX3JlbmRlci1tc2cge1xuICAgIG1hcmdpbi10b3A6IDA7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgfVxufVxuPC9zdHlsZT5cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG4vLyBkZXBlbmRpbmcgb24gaW5jbHVkZVRpbWUgcGFyYW0sIHByb2R1Y2VzOlxuLy8gaW5jbHVkZVRpbWUgPSBmYWxzZTogXCJEZWMgMjAsIDIwMjNcIlxuLy8gaW5jbHVkZVRpbWUgPSB0cnVlOiBcIkRlYyAyMCwgMjAyMyBhdCAxMjozOSBQTVwiXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZVN0cmluZyhcbiAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICB7IGluY2x1ZGVUaW1lIH0gPSB7IGluY2x1ZGVUaW1lOiB0cnVlIH0sXG4pIHtcbiAgY29uc3QgZGF0ZVJlc3VsdCA9IG5ldyBEYXRlKGAke2RhdGVTdHJpbmd9YCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xuICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgbW9udGg6IFwic2hvcnRcIixcbiAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgfSk7XG4gIGlmICghaW5jbHVkZVRpbWUpIHtcbiAgICByZXR1cm4gZGF0ZVJlc3VsdDtcbiAgfVxuICBjb25zdCB0aW1lUmVzdWx0ID0gZm9ybWF0VGltZVN0cmluZyhkYXRlU3RyaW5nKTtcbiAgcmV0dXJuIGAke2RhdGVSZXN1bHR9IGF0ICR7dGltZVJlc3VsdH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZVN0cmluZyhcbiAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICB7IGluY2x1ZGVTZWNvbmRzIH0gPSB7IGluY2x1ZGVTZWNvbmRzOiBmYWxzZSB9LFxuKSB7XG4gIGNvbnN0IG9wdGlvbnM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zID0ge1xuICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gIH07XG4gIGlmIChpbmNsdWRlU2Vjb25kcykge1xuICAgIG9wdGlvbnMuc2Vjb25kID0gXCIyLWRpZ2l0XCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKGAke2RhdGVTdHJpbmd9YCkudG9Mb2NhbGVUaW1lU3RyaW5nKFwiZW4tVVNcIiwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnlEYXRlU3RyaW5nKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XG4gIHJldHVybiBEYXRlLnBhcnNlKGEpID4gRGF0ZS5wYXJzZShiKSA/IC0xIDogMTtcbn1cbiIsIjx0ZW1wbGF0ZT5cbiAgPHNwYW4gdi1pZj1cImFjdGl2ZU9wdGlvblwiIDpjbGFzcz1cIiRhdHRycy5jbGFzc1wiPlxuICAgIHt7IG1lc3NhZ2VQYXJ0c1swXSB9fVxuICAgIDxhIGNsYXNzPVwid2Vidmlldy1saW5rXCIgcm9sZT1cImJ1dHRvblwiIEBjbGljaz1cIm9uQ2xpY2soKVwiPlxuICAgICAge3sgYWN0aXZlT3B0aW9uPy5hbmNob3JTdHIgfX1cbiAgICA8L2E+XG4gICAge3sgbWVzc2FnZVBhcnRzWzFdIH19XG4gIDwvc3Bhbj5cbiAgPHNwYW4gdi1lbHNlIDpjbGFzcz1cIiRhdHRycy5jbGFzc1wiPlxuICAgIHt7IG1lc3NhZ2UgfX1cbiAgPC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHtcbiAgRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24sXG4gIGZpbmRFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9lcnJvckVuaGFuY2VyXCI7XG5cbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czx7XG4gIC8vIDxldmVudE5hbWU+OiA8ZXhwZWN0ZWQgYXJndW1lbnRzPlxuICBjbGljazogW3NwbGl0T3B0aW9uSWQ6IG51bWJlcl07IC8vIG5hbWVkIHR1cGxlIHN5bnRheFxufT4oKTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzcGxpdE9wdGlvbnM6IEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uW107XG59XG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5cbmNvbnN0IGFjdGl2ZU9wdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIGZpbmRFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbihwcm9wcy5tZXNzYWdlKTtcbn0pO1xuXG5jb25zdCBtZXNzYWdlUGFydHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChhY3RpdmVPcHRpb24udmFsdWUgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVPcHRpb24udmFsdWUuYW5jaG9yU3RyKSB7XG4gICAgY29uc3QgcGFydHMgPSBwcm9wcy5tZXNzYWdlLnNwbGl0KGFjdGl2ZU9wdGlvbi52YWx1ZS5hbmNob3JTdHIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBwYXJ0cztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtcIlwiLCBcIlwiXTtcbn0pO1xuXG5jb25zdCBvbkNsaWNrID0gKCkgPT4ge1xuICBpZiAoYWN0aXZlT3B0aW9uLnZhbHVlKSB7XG4gICAgZW1pdChcImNsaWNrXCIsIGFjdGl2ZU9wdGlvbi52YWx1ZS5hY3Rpb25JZCk7XG4gIH1cbn07XG48L3NjcmlwdD5cbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBpc1ByZUNvbnRlbnRSZWNvcmQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaVwiO1xuaW1wb3J0IHsgaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2Vycm9yXCI7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yRW5oYW5jZXJcIjtcbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVTdHJpbmcgfSBmcm9tIFwic3JjL3V0aWxzL2RhdGVcIjtcbmltcG9ydCBUZXh0U3RyaW5nV2l0aEFuY2hvciBmcm9tIFwiLi9UZXh0U3RyaW5nV2l0aEFuY2hvci52dWVcIjtcblxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcbiAgYXNzb2NpYXRlRGVwbG95bWVudDogW107XG4gIHZpZXdDb250ZW50OiBbXTtcbiAgZXJyb3JMaW5rQ2xpY2s6IFtzcGxpdE9wdGlvbklkOiBudW1iZXJdO1xufT4oKTtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuXG5jb25zdCBpc0Rpc21pc3NlZENvbnRlbnRSZWNvcmQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBCb29sZWFuKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5kaXNtaXNzZWRBdCk7XG59KTtcblxuY29uc3QgaXNQcmVDb250ZW50UmVjb3JkV2l0aElEID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGlzUHJlQ29udGVudFJlY29yZChob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCkgJiZcbiAgICBCb29sZWFuKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkLmlkKVxuICApO1xufSk7XG5cbmNvbnN0IGlzUHJlQ29udGVudFJlY29yZFdpdGhvdXRJRCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICBpc1ByZUNvbnRlbnRSZWNvcmQoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpICYmXG4gICAgIWlzUHJlQ29udGVudFJlY29yZFdpdGhJRC52YWx1ZVxuICApO1xufSk7XG5cbmNvbnN0IHNob3dDb250ZW50QnV0dG9uID0gY29tcHV0ZWQoKCkgPT4ge1xuICBjb25zdCByZWNvcmQgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZDtcbiAgaWYgKCFyZWNvcmQgfHwgY29udGVudFJlbmRlclByb2Nlc3NlZC52YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gKFxuICAgIHJlY29yZD8uZGFzaGJvYXJkVXJsIHx8ICghaXNQcmVDb250ZW50UmVjb3JkKHJlY29yZCkgJiYgcmVjb3JkLmxvZ3NVcmwpXG4gICk7XG59KTtcblxuY29uc3QgaXNEZXBsb3llZENvbnRlbnRPbkVycm9yID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBkZXBsb3ltZW50RXJyb3IgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uZGVwbG95bWVudEVycm9yO1xuICByZXR1cm4gQm9vbGVhbihcbiAgICBkZXBsb3ltZW50RXJyb3IgJiYgaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyhkZXBsb3ltZW50RXJyb3IpLFxuICApO1xufSk7XG5cbmNvbnN0IGRlcGxveWVkQ29udGVudEJ1dHRvbkxhYmVsID0gY29tcHV0ZWQoKCk6IHN0cmluZyA9PiB7XG4gIGlmIChpc0RlcGxveWVkQ29udGVudE9uRXJyb3IudmFsdWUpIHtcbiAgICByZXR1cm4gXCJWaWV3IERlcGxveW1lbnQgTG9nc1wiO1xuICB9XG4gIHJldHVybiBcIlZpZXcgQ29udGVudFwiO1xufSk7XG5cbmNvbnN0IGxhc3RTdGF0dXNEZXNjcmlwdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgaWYgKGhvbWUuY29udGVudFJlbmRlckVycm9yKSB7XG4gICAgcmV0dXJuIFwiQ29udGVudCBSZW5kZXIgRmFpbGVkXCI7XG4gIH1cbiAgaWYgKGhvbWUuY29udGVudFJlbmRlclN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gXCJDb250ZW50IFJlbmRlciBGaW5pc2hlZFwiO1xuICB9XG4gIGlmICghaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc0Rpc21pc3NlZENvbnRlbnRSZWNvcmQudmFsdWUpIHtcbiAgICByZXR1cm4gXCJMYXN0IERlcGxveW1lbnQgRGlzbWlzc2VkXCI7XG4gIH1cbiAgaWYgKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkLmRlcGxveW1lbnRFcnJvcikge1xuICAgIHJldHVybiBcIkxhc3QgRGVwbG95bWVudCBGYWlsZWRcIjtcbiAgfVxuICBpZiAoaXNQcmVDb250ZW50UmVjb3JkKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkKSkge1xuICAgIHJldHVybiBpc1ByZUNvbnRlbnRSZWNvcmRXaXRoSUQudmFsdWVcbiAgICAgID8gXCJOb3QgWWV0IFVwZGF0ZWRcIlxuICAgICAgOiBcIk5vdCBZZXQgRGVwbG95ZWRcIjtcbiAgfVxuICByZXR1cm4gXCJMYXN0IERlcGxveW1lbnQgU3VjY2Vzc2Z1bFwiO1xufSk7XG5cbmNvbnN0IHN1Y2Nlc3NmdWxSZW5kZXJNc2cgPSBjb21wdXRlZCgoKSA9PiB7XG4gIC8vIFdlIGN1cnJlbnRseSBvbmx5IHJlbmRlciBjb250ZW50IHdpdGggUXVhcnRvXG4gIC8vIGJ1dCBpZiB3ZSBnZXQgdG8gYSBwb2ludCBvZiByZW5kZXJpbmcgd2l0aCBSbWQgb3IgYnkgb3RoZXIgbWVhbnNcbiAgLy8gSGVyZSBpcyBhIGdvb2QgcGxhY2UgdG8gaWRlbnRpZnkgdGhlIFwic291cmNlXCIgYW5kIHVzZSBhbiBhcHByb3ByaWF0ZSBsYWJlbFxuICByZXR1cm4gXCJTdWNjZXNzZnVsbHkgcmVuZGVyZWQgd2l0aCBRdWFydG9cIjtcbn0pO1xuXG5jb25zdCBjb250ZW50UmVuZGVyUHJvY2Vzc2VkID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGhvbWUuY29udGVudFJlbmRlclN1Y2Nlc3MgIT09IHVuZGVmaW5lZCB8fFxuICAgIGhvbWUuY29udGVudFJlbmRlckVycm9yICE9PSB1bmRlZmluZWRcbiAgKTtcbn0pO1xuXG5jb25zdCBjb250ZXh0TWVudVZTQ29kZUNvbnRleHQgPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgfHxcbiAgICBpc1ByZUNvbnRlbnRSZWNvcmQoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpXG4gICAgPyBcImhvbWV2aWV3LWFjdGl2ZS1jb250ZW50UmVjb3JkLW1vcmUtbWVudVwiXG4gICAgOiBcImhvbWV2aWV3LWxhc3QtY29udGVudFJlY29yZC1tb3JlLW1lbnVcIjtcbn0pO1xuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImxhc3QtYWN0aW9uLXN1bW1hcnlcIiBkYXRhLWF1dG9tYXRpb249XCJkZXBsb3ktc3RhdHVzXCI+XG4gICAgPGg0IGNsYXNzPVwibGFzdC1hY3Rpb24tc3VtbWFyeV9fdGl0bGVcIj5cbiAgICAgIHt7IGxhc3RTdGF0dXNEZXNjcmlwdGlvbiB9fVxuICAgIDwvaDQ+XG4gICAgPEFjdGlvblRvb2xiYXJcbiAgICAgIHYtaWY9XCIhY29udGVudFJlbmRlclByb2Nlc3NlZFwiXG4gICAgICB0aXRsZT1cIkxvZ3NcIlxuICAgICAgOmFjdGlvbnM9XCJbXVwiXG4gICAgICA6Y29udGV4dC1tZW51PVwiY29udGV4dE1lbnVWU0NvZGVDb250ZXh0XCJcbiAgICAvPlxuICA8L2Rpdj5cbiAgPHRlbXBsYXRlIHYtaWY9XCJob21lLmNvbnRlbnRSZW5kZXJTdWNjZXNzXCI+XG4gICAgPGRpdj5cbiAgICAgIHt7IHN1Y2Nlc3NmdWxSZW5kZXJNc2cgfX1cbiAgICA8L2Rpdj5cbiAgPC90ZW1wbGF0ZT5cbiAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImhvbWUuY29udGVudFJlbmRlckVycm9yXCI+XG4gICAgPGRpdiBjbGFzcz1cImxhc3QtYWN0aW9uLXN1bW1hcnlfX2Vycm9yXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQtYm9yZGVyIGJvcmRlci13YXJuaW5nIHRleHQtd2FybmluZ1wiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImNvZGljb24gY29kaWNvbi1hbGVydFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIHt7IGhvbWUuY29udGVudFJlbmRlckVycm9yIH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC90ZW1wbGF0ZT5cbiAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkICYmIGlzRGlzbWlzc2VkQ29udGVudFJlY29yZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJkYXRlLXRpbWVcIj5cbiAgICAgIHt7IGZvcm1hdERhdGVTdHJpbmcoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQuZGlzbWlzc2VkQXQpIH19XG4gICAgPC9kaXY+XG4gIDwvdGVtcGxhdGU+XG4gIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgPGRpdiB2LWlmPVwiaXNQcmVDb250ZW50UmVjb3JkV2l0aG91dElEXCI+XG4gICAgICBJcyB0aGlzIGFscmVhZHkgZGVwbG95ZWQgdG8gYSBzZXJ2ZXI/IFlvdSBjYW5cbiAgICAgIDxhIGNsYXNzPVwid2Vidmlldy1saW5rXCIgcm9sZT1cImJ1dHRvblwiIEBjbGljaz1cImVtaXQoJ2Fzc29jaWF0ZURlcGxveW1lbnQnKVwiXG4gICAgICAgID51cGRhdGUgdGhhdCBwcmV2aW91cyBkZXBsb3ltZW50PC9hXG4gICAgICA+LlxuICAgIDwvZGl2PlxuICAgIDxkaXYgdi1pZj1cImlzUHJlQ29udGVudFJlY29yZFdpdGhJRFwiPlxuICAgICAgPGEgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwiZW1pdCgndmlld0NvbnRlbnQnKVwiXG4gICAgICAgID5UaGlzIGRlcGxveW1lbnQ8L2FcbiAgICAgID5cbiAgICAgIHdpbGwgYmUgdXBkYXRlZCB3aGVuIGRlcGxveWVkLlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIHYtaWY9XCJcbiAgICAgICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQgJiZcbiAgICAgICAgIWlzUHJlQ29udGVudFJlY29yZChob21lLnNlbGVjdGVkQ29udGVudFJlY29yZClcbiAgICAgIFwiXG4gICAgICBjbGFzcz1cImRhdGUtdGltZVwiXG4gICAgPlxuICAgICAge3sgZm9ybWF0RGF0ZVN0cmluZyhob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5kZXBsb3llZEF0KSB9fVxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIHYtaWY9XCJob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uZGVwbG95bWVudEVycm9yXCJcbiAgICAgIGNsYXNzPVwibGFzdC1hY3Rpb24tc3VtbWFyeV9fZXJyb3JcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJhbGVydC1ib3JkZXIgYm9yZGVyLXdhcm5pbmcgdGV4dC13YXJuaW5nXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY29kaWNvbiBjb2RpY29uLWFsZXJ0XCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFRleHRTdHJpbmdXaXRoQW5jaG9yXG4gICAgICAgIDptZXNzYWdlPVwiaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LmRlcGxveW1lbnRFcnJvcj8ubXNnXCJcbiAgICAgICAgOnNwbGl0T3B0aW9ucz1cIkVycm9yTWVzc2FnZVNwbGl0T3B0aW9uc1wiXG4gICAgICAgIGNsYXNzPVwibGFzdC1hY3Rpb24tc3VtbWFyeV9fZXJyb3ItYW5jaG9yIHRleHQtZGVzY3JpcHRpb25cIlxuICAgICAgICBAY2xpY2s9XCJlbWl0KCdlcnJvckxpbmtDbGljaycsICRldmVudClcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgPC90ZW1wbGF0ZT5cbiAgPGRpdiB2LWlmPVwic2hvd0NvbnRlbnRCdXR0b25cIiBjbGFzcz1cInZpZXctY29udGVudC1idXR0b25cIj5cbiAgICA8dnNjb2RlLWJ1dHRvblxuICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICBjbGFzcz1cInctZnVsbFwiXG4gICAgICBAY2xpY2s9XCJlbWl0KCd2aWV3Q29udGVudCcpXCJcbiAgICA+XG4gICAgICB7eyBkZXBsb3llZENvbnRlbnRCdXR0b25MYWJlbCB9fVxuICAgIDwvdnNjb2RlLWJ1dHRvbj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ubGFzdC1hY3Rpb24tc3VtbWFyeSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuXG4gICZfX3RpdGxlIHtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDEuMzNlbTtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIH1cblxuICAmX19lcnJvciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuXG4gICAgLmFsZXJ0LWJvcmRlciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGJvcmRlci1yaWdodC13aWR0aDogMXB4O1xuICAgICAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcbiAgICAgIG1hcmdpbi1yaWdodDogN3B4O1xuICAgIH1cblxuICAgICYtYW5jaG9yIHtcbiAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICB9XG4gIH1cbn1cblxuLmRhdGUtdGltZSB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi52aWV3LWNvbnRlbnQtYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cbjwvc3R5bGU+XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgQXhpb3NFcnJvciwgQXhpb3NSZXNwb25zZSwgaXNBeGlvc0Vycm9yIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCB0eXBlIEVycm9yQ29kZSA9XG4gIHwgXCJ1bmtub3duXCJcbiAgfCBcInJlc291cmNlTm90Rm91bmRcIlxuICB8IFwiaW52YWxpZFRPTUxcIlxuICB8IFwidW5rbm93blRPTUxLZXlcIlxuICB8IFwiaW52YWxpZENvbmZpZ0ZpbGVcIlxuICB8IFwiZXJyb3JDZXJ0aWZpY2F0ZVZlcmlmaWNhdGlvblwiXG4gIHwgXCJkZXBsb3lGYWlsZWRcIlxuICB8IFwicmVudlBhY2thZ2VWZXJzaW9uTWlzbWF0Y2hcIlxuICB8IFwicmVudlBhY2thZ2VTb3VyY2VNaXNzaW5nXCJcbiAgfCBcInJlbnZsb2NrUGFja2FnZXNSZWFkaW5nRXJyb3JcIlxuICB8IFwicmVudlBhY2thZ2VOb3RJbnN0YWxsZWRFcnJvclwiXG4gIHwgXCJyZW52QWN0aW9uUmVxdWlyZWRFcnJvclwiXG4gIHwgXCJyZXF1aXJlbWVudHNGaWxlUmVhZGluZ0Vycm9yXCJcbiAgfCBcImRlcGxveWVkQ29udGVudE5vdFJ1bm5pbmdcIlxuICB8IFwidG9tbFZhbGlkYXRpb25FcnJvclwiXG4gIHwgXCJ0b21sVW5rbm93bkVycm9yXCJcbiAgfCBcInB5dGhvbkV4ZWNOb3RGb3VuZFwiXG4gIHwgXCJjcmVkZW50aWFsc0Nhbm5vdEJhY2t1cEZpbGVcIlxuICB8IFwiY3JlZGVudGlhbHNDb3JydXB0ZWRcIlxuICB8IFwiZGV2aWNlQXV0aEFjY2Vzc0RlbmllZFwiXG4gIHwgXCJkZXZpY2VBdXRoRXhwaXJlZFRva2VuXCI7XG5cbmV4cG9ydCB0eXBlIGF4aW9zRXJyb3JXaXRoSnNvbjxUID0geyBjb2RlOiBFcnJvckNvZGU7IGRldGFpbHM6IHVua25vd24gfT4gPVxuICBBeGlvc0Vycm9yICYge1xuICAgIHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+O1xuICB9O1xuXG5leHBvcnQgY29uc3QgaXNBeGlvc0Vycm9yV2l0aEpzb24gPSAoXG4gIGVycjogdW5rbm93bixcbik6IGVyciBpcyBheGlvc0Vycm9yV2l0aEpzb24gPT4ge1xuICBpZiAoaXNBeGlvc0Vycm9yKGVycikpIHtcbiAgICByZXR1cm4gZXJyLnJlc3BvbnNlPy5kYXRhICYmIGVyci5yZXNwb25zZS5kYXRhLmNvZGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgaXNPZkVycm9yVHlwZSA9IChlcnI6IGF4aW9zRXJyb3JXaXRoSnNvbiwgY29kZTogRXJyb3JDb2RlKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBlcnIucmVzcG9uc2UuZGF0YS5jb2RlID09PSBjb2RlO1xufTtcblxudHlwZSBNa0Vycm9yRGF0YVR5cGU8VCBleHRlbmRzIEVycm9yQ29kZSwgRCA9IFJlY29yZDxQcm9wZXJ0eUtleSwgbmV2ZXI+PiA9IHtcbiAgY29kZTogVDtcbiAgZGV0YWlsczogRDtcbn07XG5cbmNvbnN0IG1rRXJyb3JUeXBlR3VhcmQgPSA8VD4oY29kZTogRXJyb3JDb2RlKSA9PiB7XG4gIHJldHVybiAoZXJyOiB1bmtub3duKTogZXJyIGlzIGF4aW9zRXJyb3JXaXRoSnNvbjxUPiA9PiB7XG4gICAgcmV0dXJuIGlzQXhpb3NFcnJvcldpdGhKc29uKGVycikgJiYgaXNPZkVycm9yVHlwZShlcnIsIGNvZGUpO1xuICB9O1xufTtcblxuLy8gVW5rbm93biBFcnJvcnNcbmV4cG9ydCB0eXBlIEVyclVua25vd24gPSBNa0Vycm9yRGF0YVR5cGU8XG4gIFwidW5rbm93blwiLFxuICB7XG4gICAgZXJyb3I6IHN0cmluZztcbiAgICBkYXRhOiBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+O1xuICB9XG4+O1xuZXhwb3J0IGNvbnN0IGlzRXJyVW5rbm93biA9IG1rRXJyb3JUeXBlR3VhcmQ8RXJyVW5rbm93bj4oXCJ1bmtub3duXCIpO1xuZXhwb3J0IGNvbnN0IGVyclVua25vd25NZXNzYWdlID0gKGVycjogYXhpb3NFcnJvcldpdGhKc29uPEVyclVua25vd24+KSA9PiB7XG4gIGNvbnN0IHsgZXJyb3IsIGRhdGEgfSA9IGVyci5yZXNwb25zZS5kYXRhLmRldGFpbHM7XG4gIGxldCBtc2cgPSBgVW5rbm93biBwdWJsaXNoZXIgYWdlbnQgZXJyb3I6ICR7ZXJyb3J9YDtcbiAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgbXNnICs9IGAsICR7a2V5fT0ke2RhdGFba2V5XX1gO1xuICB9KTtcbiAgcmV0dXJuIG1zZztcbn07XG5cbi8vIFJlc291cmNlIG5vdCBmb3VuZFxuZXhwb3J0IHR5cGUgRXJyUmVzb3VyY2VOb3RGb3VuZCA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJyZXNvdXJjZU5vdEZvdW5kXCIsXG4gIHsgcmVzb3VyY2U6IHN0cmluZyB9XG4+O1xuZXhwb3J0IGNvbnN0IGlzRXJyUmVzb3VyY2VOb3RGb3VuZCA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyUmVzb3VyY2VOb3RGb3VuZD4oXCJyZXNvdXJjZU5vdEZvdW5kXCIpO1xuXG4vLyBJbnZhbGlkIFRPTUwgZmlsZShzKVxuZXhwb3J0IHR5cGUgRXJyVE9NTFZhbGlkYXRpb25FcnJvciA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJ0b21sVmFsaWRhdGlvbkVycm9yXCIsXG4gIHtcbiAgICBmaWxlbmFtZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBrZXk6IHN0cmluZztcbiAgICBwcm9ibGVtOiBzdHJpbmc7XG4gICAgc2NoZW1hUmVmZXJlbmNlOiBzdHJpbmc7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJUT01MVmFsaWRhdGlvbkVycm9yID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJUT01MVmFsaWRhdGlvbkVycm9yPihcInRvbWxWYWxpZGF0aW9uRXJyb3JcIik7XG5leHBvcnQgY29uc3QgZXJyVE9NTFZhbGlkYXRpb25FcnJvck1lc3NhZ2UgPSAoXG4gIGVycjogYXhpb3NFcnJvcldpdGhKc29uPEVyclRPTUxWYWxpZGF0aW9uRXJyb3I+LFxuKSA9PiB7XG4gIHJldHVybiBgVGhlIENvbmZpZ3VyYXRpb24gaGFzIGEgc2NoZW1hIGVycm9yOiAke2Vyci5yZXNwb25zZS5kYXRhLmRldGFpbHMubWVzc2FnZX1gO1xufTtcblxuLy8gSW52YWxpZCBUT01MIGZpbGUocylcbmV4cG9ydCB0eXBlIEVyckludmFsaWRUT01MRmlsZSA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJpbnZhbGlkVE9NTFwiLFxuICB7XG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY29sdW1uOiBudW1iZXI7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJJbnZhbGlkVE9NTEZpbGUgPVxuICBta0Vycm9yVHlwZUd1YXJkPEVyckludmFsaWRUT01MRmlsZT4oXCJpbnZhbGlkVE9NTFwiKTtcbmV4cG9ydCBjb25zdCBlcnJJbnZhbGlkVE9NTE1lc3NhZ2UgPSAoXG4gIGVycjogYXhpb3NFcnJvcldpdGhKc29uPEVyckludmFsaWRUT01MRmlsZT4sXG4pID0+IHtcbiAgcmV0dXJuIGBUaGUgQ29uZmlndXJhdGlvbiBoYXMgYSBzY2hlbWEgZXJyb3Igb24gbGluZSAke2Vyci5yZXNwb25zZS5kYXRhLmRldGFpbHMubGluZX1gO1xufTtcblxuLy8gVW5rbm93biBrZXkgd2l0aGluIGEgVE9NTCBmaWxlXG5leHBvcnQgdHlwZSBFcnJVbmtub3duVE9NTEtleSA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJ1bmtub3duVE9NTEtleVwiLFxuICB7XG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY29sdW1uOiBudW1iZXI7XG4gICAga2V5OiBzdHJpbmc7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJVbmtub3duVE9NTEtleSA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyVW5rbm93blRPTUxLZXk+KFwidW5rbm93blRPTUxLZXlcIik7XG5leHBvcnQgY29uc3QgZXJyVW5rbm93blRPTUxLZXlNZXNzYWdlID0gKFxuICBlcnI6IGF4aW9zRXJyb3JXaXRoSnNvbjxFcnJVbmtub3duVE9NTEtleT4sXG4pID0+IHtcbiAgcmV0dXJuIGBUaGUgQ29uZmlndXJhdGlvbiBoYXMgYSBzY2hlbWEgZXJyb3Igb24gbGluZSAke2Vyci5yZXNwb25zZS5kYXRhLmRldGFpbHMubGluZX1gO1xufTtcblxuLy8gVW5rbm93biBlcnJvciB3aXRoaW4gYSBUT01MIGZpbGVcbmV4cG9ydCB0eXBlIEVyclRvbWxVbmtub3duRXJyb3IgPSBNa0Vycm9yRGF0YVR5cGU8XG4gIFwidG9tbFVua25vd25FcnJvclwiLFxuICB7XG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICBwcm9ibGVtOiBzdHJpbmc7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJUb21sVW5rbm93bkVycm9yID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJUb21sVW5rbm93bkVycm9yPihcInRvbWxVbmtub3duRXJyb3JcIik7XG5leHBvcnQgY29uc3QgZXJyVG9tbFVua25vd25FcnJvck1lc3NhZ2UgPSAoXG4gIF86IGF4aW9zRXJyb3JXaXRoSnNvbjxFcnJUb21sVW5rbm93bkVycm9yPixcbikgPT4ge1xuICByZXR1cm4gYFRoZSBDb25maWd1cmF0aW9uIGhhcyBhIHNjaGVtYSBlcnJvcmA7XG59O1xuXG4vLyBQeXRob24gZXhlY3V0YWJsZSBub3QgZm91bmRcbmV4cG9ydCB0eXBlIEVyclB5dGhvbkV4ZWNOb3RGb3VuZEVycm9yID0gTWtFcnJvckRhdGFUeXBlPFwicHl0aG9uRXhlY05vdEZvdW5kXCI+O1xuZXhwb3J0IGNvbnN0IGlzRXJyUHl0aG9uRXhlY05vdEZvdW5kRXJyb3IgPVxuICBta0Vycm9yVHlwZUd1YXJkPEVyclB5dGhvbkV4ZWNOb3RGb3VuZEVycm9yPihcInB5dGhvbkV4ZWNOb3RGb3VuZFwiKTtcbmV4cG9ydCBjb25zdCBlcnJQeXRob25FeGVjTm90Rm91bmRFcnJvck1lc3NhZ2UgPSAoXG4gIF86IGF4aW9zRXJyb3JXaXRoSnNvbjxFcnJQeXRob25FeGVjTm90Rm91bmRFcnJvcj4sXG4pID0+IHtcbiAgcmV0dXJuIFwiQ291bGQgbm90IGZpbmQgYSBQeXRob24gZXhlY3V0YWJsZS5cIjtcbn07XG5cbi8vIEludmFsaWQgY29uZmlndXJhdGlvbiBmaWxlKHMpXG5leHBvcnQgdHlwZSBFcnJJbnZhbGlkQ29uZmlnRmlsZXMgPSBNa0Vycm9yRGF0YVR5cGU8XG4gIFwiaW52YWxpZENvbmZpZ0ZpbGVcIixcbiAgeyBmaWxlbmFtZTogc3RyaW5nIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJJbnZhbGlkQ29uZmlnRmlsZSA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJySW52YWxpZENvbmZpZ0ZpbGVzPihcImludmFsaWRDb25maWdGaWxlXCIpO1xuXG4vLyBJbnZhbGlkIGNvbmZpZ3VyYXRpb24gZmlsZShzKVxuZXhwb3J0IHR5cGUgRXJyQ3JlZGVudGlhbHNDb3JydXB0ZWQgPSBNa0Vycm9yRGF0YVR5cGU8XCJjcmVkZW50aWFsc0NvcnJ1cHRlZFwiPjtcbmV4cG9ydCBjb25zdCBpc0VyckNyZWRlbnRpYWxzQ29ycnVwdGVkID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJDcmVkZW50aWFsc0NvcnJ1cHRlZD4oXCJjcmVkZW50aWFsc0NvcnJ1cHRlZFwiKTtcbmV4cG9ydCBjb25zdCBlcnJDcmVkZW50aWFsc0NvcnJ1cHRlZE1lc3NhZ2UgPSAoYmFja3VwRmlsZTogc3RyaW5nKSA9PiB7XG4gIGxldCBtc2cgPVxuICAgIFwiVW5yZWNvZ25pemFibGUgY3JlZGVudGlhbHMgZm9yIFBvc2l0IFB1Ymxpc2hlciB3ZXJlIGZvdW5kIGFuZCByZW1vdmVkLiBDcmVkZW50aWFscyBtYXkgbmVlZCB0byBiZSByZWNyZWF0ZWQuXCI7XG4gIGlmIChiYWNrdXBGaWxlKSB7XG4gICAgbXNnICs9IGAgUHJldmlvdXMgY3JlZGVudGlhbHMgZGF0YSBiYWNrZWQgdXAgYXQgJHtiYWNrdXBGaWxlfWA7XG4gIH1cbiAgcmV0dXJuIG1zZztcbn07XG5cbi8vIFVuYWJsZSB0byBiYWNrdXAgY3JlZGVudGlhbHMgZmlsZVxuZXhwb3J0IHR5cGUgRXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlID0gTWtFcnJvckRhdGFUeXBlPFxuICBcImNyZWRlbnRpYWxzQ2Fubm90QmFja3VwRmlsZVwiLFxuICB7IGZpbGVuYW1lOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9XG4+O1xuZXhwb3J0IGNvbnN0IGlzRXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJDYW5ub3RCYWNrdXBDcmVkZW50aWFsc0ZpbGU+KFxuICAgIFwiY3JlZGVudGlhbHNDYW5ub3RCYWNrdXBGaWxlXCIsXG4gICk7XG5leHBvcnQgY29uc3QgZXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlTWVzc2FnZSA9IChcbiAgZXJyOiBheGlvc0Vycm9yV2l0aEpzb248RXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlPixcbikgPT4ge1xuICByZXR1cm4gYFVucmVjb2duaXphYmxlIGNyZWRlbnRpYWxzIGZvciBQb3NpdCBQdWJsaXNoZXIgd2VyZSBmb3VuZC4gJHtlcnIucmVzcG9uc2UuZGF0YS5kZXRhaWxzLm1lc3NhZ2V9YDtcbn07XG5cbi8vIERldmljZSBhdXRoIGFjY2VzcyBkZW5pZWQgZXJyb3JcbmV4cG9ydCB0eXBlIEVyckRldmljZUF1dGhBY2Nlc3NEZW5pZWQgPVxuICBNa0Vycm9yRGF0YVR5cGU8XCJkZXZpY2VBdXRoQWNjZXNzRGVuaWVkXCI+O1xuZXhwb3J0IGNvbnN0IGlzRXJyRGV2aWNlQXV0aEFjY2Vzc0RlbmllZCA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyRGV2aWNlQXV0aEFjY2Vzc0RlbmllZD4oXCJkZXZpY2VBdXRoQWNjZXNzRGVuaWVkXCIpO1xuZXhwb3J0IGNvbnN0IGVyckRldmljZUF1dGhBY2Nlc3NEZW5pZWRNZXNzYWdlID1cbiAgXCJUaGUgYXV0aG9yaXphdGlvbiByZXF1ZXN0IHdhcyBkZW5pZWQuXCI7XG5cbi8vIERldmljZSBhdXRoIGV4cGlyZWQgdG9rZW4gZXJyb3JcbmV4cG9ydCB0eXBlIEVyckRldmljZUF1dGhFeHBpcmVkVG9rZW4gPVxuICBNa0Vycm9yRGF0YVR5cGU8XCJkZXZpY2VBdXRoRXhwaXJlZFRva2VuXCI+O1xuZXhwb3J0IGNvbnN0IGlzRGV2aWNlQXV0aEV4cGlyZWRUb2tlbiA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyRGV2aWNlQXV0aEV4cGlyZWRUb2tlbj4oXCJkZXZpY2VBdXRoRXhwaXJlZFRva2VuXCIpO1xuZXhwb3J0IGNvbnN0IGVyckRldmljZUF1dGhFeHBpcmVkVG9rZW5NZXNzYWdlID1cbiAgXCJZb3VyIGF1dGhvcml6YXRpb24gc2Vzc2lvbiBoYXMgZXhwaXJlZC5cIjtcblxuLy8gVHJpZXMgdG8gbWF0Y2ggYW4gQXhpb3MgZXJyb3IgdGhhdCBjb21lcyB3aXRoIGFuIGlkZW50aWZpYWJsZSBKc29uIHN0cnVjdHVyZWQgZGF0YVxuLy8gZGVmYXVsdGluZyB0byBiZSBFcnJVbmtub3duIG1lc3NhZ2Ugd2hlblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBZ2VudEpzb25FcnJvck1zZyhlcnI6IGF4aW9zRXJyb3JXaXRoSnNvbikge1xuICBpZiAoaXNFcnJVbmtub3duVE9NTEtleShlcnIpKSB7XG4gICAgcmV0dXJuIGVyclVua25vd25UT01MS2V5TWVzc2FnZShlcnIpO1xuICB9XG5cbiAgaWYgKGlzRXJySW52YWxpZFRPTUxGaWxlKGVycikpIHtcbiAgICByZXR1cm4gZXJySW52YWxpZFRPTUxNZXNzYWdlKGVycik7XG4gIH1cblxuICBpZiAoaXNFcnJUT01MVmFsaWRhdGlvbkVycm9yKGVycikpIHtcbiAgICByZXR1cm4gZXJyVE9NTFZhbGlkYXRpb25FcnJvck1lc3NhZ2UoZXJyKTtcbiAgfVxuXG4gIGlmIChpc0VyclRvbWxVbmtub3duRXJyb3IoZXJyKSkge1xuICAgIHJldHVybiBlcnJUb21sVW5rbm93bkVycm9yTWVzc2FnZShlcnIpO1xuICB9XG5cbiAgaWYgKGlzRXJyUHl0aG9uRXhlY05vdEZvdW5kRXJyb3IoZXJyKSkge1xuICAgIHJldHVybiBlcnJQeXRob25FeGVjTm90Rm91bmRFcnJvck1lc3NhZ2UoZXJyKTtcbiAgfVxuXG4gIGlmIChpc0VyckRldmljZUF1dGhBY2Nlc3NEZW5pZWQoZXJyKSkge1xuICAgIHJldHVybiBlcnJEZXZpY2VBdXRoQWNjZXNzRGVuaWVkTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChpc0RldmljZUF1dGhFeHBpcmVkVG9rZW4oZXJyKSkge1xuICAgIHJldHVybiBlcnJEZXZpY2VBdXRoRXhwaXJlZFRva2VuTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiBlcnJVbmtub3duTWVzc2FnZShlcnIgYXMgYXhpb3NFcnJvcldpdGhKc29uPEVyclVua25vd24+KTtcbn1cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBpc0F4aW9zRXJyb3JXaXRoSnNvbiwgcmVzb2x2ZUFnZW50SnNvbkVycm9yTXNnIH0gZnJvbSBcIi4vZXJyb3JUeXBlc1wiO1xuaW1wb3J0IHsgaXNBZ2VudEVycm9yIH0gZnJvbSBcIi4uL2FwaS90eXBlcy9lcnJvclwiO1xuXG5leHBvcnQgdHlwZSBFcnJvck1lc3NhZ2UgPSBzdHJpbmdbXTtcbmV4cG9ydCB0eXBlIEVycm9yTWVzc2FnZXMgPSBFcnJvck1lc3NhZ2VbXTtcblxuZXhwb3J0IGNvbnN0IGdldFN0YXR1c0Zyb21FcnJvciA9IChlcnJvcjogdW5rbm93bik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGVycm9yLnJlc3BvbnNlPy5zdGF0dXM7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0dXNTdHJpbmdGcm9tRXJyb3JSZXNwb25zZSA9IChcbiAgZXJyb3I6IHVua25vd24sXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvci5yZXNwb25zZT8uc3RhdHVzVGV4dDtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvZGVTdHJpbmdGcm9tRXJyb3IgPSAoZXJyb3I6IHVua25vd24pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvci5jb2RlO1xuICB9XG4gIGlmIChpc0FnZW50RXJyb3IoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGVycm9yLmNvZGU7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRNZXNzYWdlRnJvbUVycm9yID0gKGVycm9yOiB1bmtub3duKTogc3RyaW5nID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoaXNBeGlvc0Vycm9yV2l0aEpzb24oZXJyb3IpKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUFnZW50SnNvbkVycm9yTXNnKGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikpIHtcbiAgICAgIHJldHVybiBlcnJvci5yZXNwb25zZT8uZGF0YSB8fCBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBpZiAoaXNBZ2VudEVycm9yKGVycm9yKSkge1xuICAgICAgcmV0dXJuIGVycm9yLm1zZztcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gZXJyb3JzIHN1cHByZXNzZWRcbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBUElVUkxGcm9tRXJyb3IgPSAoZXJyb3I6IHVua25vd24pID0+IHtcbiAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikgJiYgZXJyb3IuY29uZmlnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VVUkw6IGVycm9yLmNvbmZpZy5iYXNlVVJMLFxuICAgICAgbWV0aG9kOiBlcnJvci5jb25maWcubWV0aG9kLFxuICAgICAgdXJsOiBlcnJvci5jb25maWcudXJsLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8vIFRoaXMgbWV0aG9kIGJ1aWxkcyBhIGRpYWdub3N0aWMgbWVzc2FnZSB3aGljaCBpcyBvdXRwdXQgdG8gdGhlXG4vLyBWU0NvZGUgY29uc29sZSAob3V0cHV0L3dpbmRvdykgdG8gaGVscCBkaWFnbm9zZSwgYnV0IHRoZW4gcmV0dXJucyB0aGVcbi8vIGJhc2UgZXJyb3Igc3RyaW5nIGZyb20gdGhlIGVycm9yLlxuZXhwb3J0IGNvbnN0IGdldFN1bW1hcnlTdHJpbmdGcm9tRXJyb3IgPSAobG9jYXRpb246IHN0cmluZywgZXJyb3I6IHVua25vd24pID0+IHtcbiAgbGV0IGxvZ01zZyA9IGBQb3NpdCBQdWJsaXNoZXI6IEFuIGVycm9yIGhhcyBvY2N1cnJlZCBhdCAke2xvY2F0aW9ufWA7XG4gIGxldCBtc2cgPSBnZXRNZXNzYWdlRnJvbUVycm9yKGVycm9yKTtcbiAgaWYgKG1zZyA9PT0gXCJcIikge1xuICAgIG1zZyA9IFwiVW5rbm93biBFcnJvclwiO1xuICAgIGxvZ01zZyArPSBgOiAke21zZ30sICR7SlNPTi5zdHJpbmdpZnkoZXJyb3IpfWA7XG4gIH0gZWxzZSB7XG4gICAgbG9nTXNnICs9IGA6ICR7bXNnfWA7XG4gIH1cbiAgaWYgKGlzQWdlbnRFcnJvcihlcnJvcikpIHtcbiAgICBpZiAoZXJyb3IuY29kZSkge1xuICAgICAgbG9nTXNnICs9IGAsIENvZGU9JHtlcnJvci5jb2RlfWA7XG4gICAgfVxuICAgIGlmIChlcnJvci5vcGVyYXRpb24pIHtcbiAgICAgIGxvZ01zZyArPSBgLCBPcGVyYXRpb249JHtlcnJvci5vcGVyYXRpb259YDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWlzQXhpb3NFcnJvcldpdGhKc29uKGVycm9yKSkge1xuICAgIGNvbnN0IHN1bW1hcnkgPSBnZXRTdW1tYXJ5RnJvbUVycm9yKGVycm9yKTtcbiAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgaWYgKHN1bW1hcnkuc3RhdHVzKSB7XG4gICAgICAgIGxvZ01zZyArPSBgLCBTdGF0dXM9JHtzdW1tYXJ5LnN0YXR1c31gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkuc3RhdHVzVGV4dCkge1xuICAgICAgICBsb2dNc2cgKz0gYCwgU3RhdHVzVGV4dD0ke3N1bW1hcnkuc3RhdHVzVGV4dH1gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkuY29kZSkge1xuICAgICAgICBsb2dNc2cgKz0gYCwgQ29kZT0ke3N1bW1hcnkuY29kZX1gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkubXNnKSB7XG4gICAgICAgIGxvZ01zZyArPSBgLCBNc2c9JHtzdW1tYXJ5Lm1zZ31gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkuYmFzZVVSTCB8fCBzdW1tYXJ5Lm1ldGhvZCB8fCBzdW1tYXJ5LnVybCkge1xuICAgICAgICBsb2dNc2cgKz0gYCwgVVJMPSR7c3VtbWFyeS5iYXNlVVJMfS8ke3N1bW1hcnkubWV0aG9kfS8ke3N1bW1hcnkudXJsfWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ01zZyArPSBgLCBFcnJvcj0ke2Vycm9yfWA7XG4gICAgfVxuICB9XG4gIGNvbnNvbGUuZXJyb3IobG9nTXNnKTtcbiAgcmV0dXJuIG1zZztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdW1tYXJ5RnJvbUVycm9yID0gKGVycm9yOiB1bmtub3duKSA9PiB7XG4gIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1c0Zyb21FcnJvcihlcnJvcik7XG4gIGNvbnN0IHN0YXR1c1RleHQgPSBnZXRTdGF0dXNTdHJpbmdGcm9tRXJyb3JSZXNwb25zZShlcnJvcik7XG4gIGNvbnN0IGNvZGUgPSBnZXRDb2RlU3RyaW5nRnJvbUVycm9yKGVycm9yKTtcbiAgY29uc3QgbXNnID0gZ2V0TWVzc2FnZUZyb21FcnJvcihlcnJvcik7XG4gIGNvbnN0IHVybCA9IGdldEFQSVVSTEZyb21FcnJvcihlcnJvcik7XG5cbiAgaWYgKHN0YXR1cyB8fCBzdGF0dXNUZXh0IHx8IGNvZGUgfHwgbXNnIHx8IHVybCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0LFxuICAgICAgY29kZSxcbiAgICAgIG1zZyxcbiAgICAgIC4uLnVybCxcbiAgICB9O1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tGb3JSZXNwb25zZVdpdGhTdGF0dXMgPSAoXG4gIGVycm9yOiB1bmtub3duLFxuICBzdGF0dXNWYWx1ZTogbnVtYmVyLFxuKSA9PiB7XG4gIGNvbnN0IGVycm9yU3RhdHVzID0gZ2V0U3RhdHVzRnJvbUVycm9yKGVycm9yKTtcbiAgcmV0dXJuIGVycm9yU3RhdHVzID09PSBzdGF0dXNWYWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzY3J1YkVycm9yRGF0YSA9IChkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAoIWRhdGEpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIC8vIHJlbW92ZSB3aGF0IHdlIGRvbid0IHdhbnQgdG8gZGlzcGxheVxuICAvLyBpbiB0aGlzIHVua25vd24gbGlzdCBvZiBhdHRyaWJ1dGVzXG4gIGNvbnN0IHsgZmlsZSwgbWV0aG9kLCBzdGF0dXMsIHVybCwgLi4ucmVtYWluaW5nRGF0YSB9ID0gZGF0YTtcblxuICBpZiAoT2JqZWN0LmtleXMocmVtYWluaW5nRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiByZW1haW5pbmdEYXRhO1xufTtcbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48dGVtcGxhdGU+XG4gIDxkaXZcbiAgICB2LWlmPVwiaG9tZS5pbml0aWFsaXppbmdSZXF1ZXN0Q29tcGxldGVcIlxuICAgIGRhdGEtYXV0b21hdGlvbj1cInB1Ymxpc2hlci1kZXBsb3ltZW50LXNlY3Rpb25cIlxuICA+XG4gICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1zaWRlYmFyLXNlY3Rpb24taGVhZGVyXCI+REVQTE9ZTUVOVDwvc3Bhbj5cblxuICAgICAgPEFjdGlvblRvb2xiYXJcbiAgICAgICAgdGl0bGU9XCJEZXBsb3ltZW50XCJcbiAgICAgICAgOmFjdGlvbnM9XCJ0b29sYmFyQWN0aW9uc1wiXG4gICAgICAgIDpjb250ZXh0LW1lbnU9XCJcbiAgICAgICAgICBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCA/IGNvbnRleHRNZW51Q29udGV4dCA6IHVuZGVmaW5lZFxuICAgICAgICBcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIDx0ZW1wbGF0ZSB2LWlmPVwiaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJkZXBsb3ltZW50LWNvbnRyb2xcIiB2LW9uPVwieyBjbGljazogb25TZWxlY3REZXBsb3ltZW50IH1cIj5cbiAgICAgICAgPFF1aWNrUGlja0l0ZW1cbiAgICAgICAgICA6bGFiZWw9XCJkZXBsb3ltZW50VGl0bGVcIlxuICAgICAgICAgIDpkZXRhaWxzPVwiZGVwbG95bWVudERldGFpbHNcIlxuICAgICAgICAgIDp0aXRsZT1cInRvb2xUaXBUZXh0XCJcbiAgICAgICAgICBkYXRhLWF1dG9tYXRpb249XCJlbnRyeXBvaW50LWxhYmVsXCJcbiAgICAgICAgLz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwic2VsZWN0LWluZGljYXRvciBjb2RpY29uIGNvZGljb24tY2hldnJvbi1yaWdodFwiXG4gICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8dGVtcGxhdGUgdi1pZj1cImhvbWUuZHVwbGljYXRlZEVudmlyb25tZW50VmFyaWFibGVzLmxlbmd0aFwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8dGVtcGxhdGUgdi1pZj1cImhvbWUuZHVwbGljYXRlZEVudmlyb25tZW50VmFyaWFibGVzLmxlbmd0aCA9PT0gMVwiPlxuICAgICAgICAgICAgQSB2YXJpYWJsZSB3YXMgc2V0IGFzIGJvdGggYSBzZWNyZXQgYW5kIGVudmlyb25tZW50IHZhcmlhYmxlLiBJdFxuICAgICAgICAgICAgbXVzdCBvbmx5IGJlIHNldCBhcyBvbmUgb3IgdGhlIG90aGVyLlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJob21lLmR1cGxpY2F0ZWRFbnZpcm9ubWVudFZhcmlhYmxlcy5sZW5ndGggPiAxXCI+XG4gICAgICAgICAgICBWYXJpYWJsZXMgd2VyZSBzZXQgYXMgYm90aCBzZWNyZXRzIGFuZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFRoZXlcbiAgICAgICAgICAgIG11c3Qgb25seSBiZSBzZXQgYXMgb25lIG9yIHRoZSBvdGhlci5cbiAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIEBjbGljaz1cIlxuICAgICAgICAgICAgICBvbkVkaXRDb25maWd1cmF0aW9uKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIS5jb25maWd1cmF0aW9uUGF0aClcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+RWRpdCB0aGUgQ29uZmlndXJhdGlvbjwvYVxuICAgICAgICAgID4uXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+e3sgaG9tZS5kdXBsaWNhdGVkRW52aXJvbm1lbnRWYXJpYWJsZXMuam9pbihcIiwgXCIpIH19PC9wPlxuICAgICAgICA8cD48L3A+XG4gICAgICA8L3RlbXBsYXRlPlxuXG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzRW50cnlNaXNzaW5nXCI+XG4gICAgICAgIE5vIENvbmZpZyBFbnRyeSBpbiBEZXBsb3ltZW50IHJlY29yZCAtXG4gICAgICAgIHt7IGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5zYXZlTmFtZSB9fS5cbiAgICAgICAgPGEgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwic2VsZWN0Q29uZmlndXJhdGlvblwiPnt7XG4gICAgICAgICAgcHJvbXB0Rm9yQ29uZmlnU2VsZWN0aW9uXG4gICAgICAgIH19PC9hXG4gICAgICAgID4uXG4gICAgICA8L3A+XG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzTWlzc2luZ1wiIGRhdGEtYXV0b21hdGlvbj1cIm1pc3NpbmctY29uZmlnXCI+XG4gICAgICAgIFRoZSBsYXN0IENvbmZpZ3VyYXRpb24gdXNlZCBmb3IgdGhpcyBEZXBsb3ltZW50IHdhcyBub3QgZm91bmQuXG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIEBjbGljaz1cInNlbGVjdENvbmZpZ3VyYXRpb25cIlxuICAgICAgICAgIGRhdGEtYXV0b21hdGlvbj1cImNvbmZpZy1idXR0b25cIlxuICAgICAgICAgID57eyBwcm9tcHRGb3JDb25maWdTZWxlY3Rpb24gfX08L2FcbiAgICAgICAgPi5cbiAgICAgIDwvcD5cbiAgICAgIDxwIHYtaWY9XCJob21lLmNvbmZpZy5hY3RpdmUuaXNUT01MRXJyb3JcIiBkYXRhLWF1dG9tYXRpb249XCJlZGl0LWNvbmZpZ1wiPlxuICAgICAgICBUaGUgc2VsZWN0ZWQgQ29uZmlndXJhdGlvbiBoYXMgYSBzY2hlbWEgZXJyb3JcbiAgICAgICAge3sgZ2V0QWN0aXZlQ29uZmlnVE9NTEVycm9yRGV0YWlscyB9fS5cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgQGNsaWNrPVwib25FZGl0Q29uZmlndXJhdGlvbldpdGhUT01MRXJyb3IoKVwiXG4gICAgICAgICAgZGF0YS1hdXRvbWF0aW9uPVwiZWRpdC1jb25maWctYnV0dG9uXCJcbiAgICAgICAgICA+RWRpdCB0aGUgQ29uZmlndXJhdGlvbjwvYVxuICAgICAgICA+LlxuICAgICAgPC9wPlxuXG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzVW5rbm93blR5cGVcIj5cbiAgICAgICAgUGxlYXNlIHNldCB0aGUgZnJhbWV3b3JrIHlvdSBhcmUgdXNpbmcsIGZvciBleGFtcGxlXG4gICAgICAgIDxjb2RlPnR5cGUgPSAncHl0aG9uLXNoaW55JzwvY29kZT4uXG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIEBjbGljaz1cIlxuICAgICAgICAgICAgb25FZGl0Q29uZmlndXJhdGlvbihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiEuY29uZmlndXJhdGlvblBhdGgpXG4gICAgICAgICAgXCJcbiAgICAgICAgICA+RWRpdCB0aGUgQ29uZmlndXJhdGlvbjwvYVxuICAgICAgICA+LlxuICAgICAgPC9wPlxuXG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzVW5rbm93bkVycm9yXCI+XG4gICAgICAgIFRoZSBzZWxlY3RlZCBDb25maWd1cmF0aW9uIGhhcyBhbiBlcnJvcjoge3sgZ2V0Q29uZmlnRXJyb3IgfX1cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgQGNsaWNrPVwiXG4gICAgICAgICAgICBvbkVkaXRDb25maWd1cmF0aW9uKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIS5jb25maWd1cmF0aW9uUGF0aClcbiAgICAgICAgICBcIlxuICAgICAgICAgID5FZGl0IHRoZSBDb25maWd1cmF0aW9uPC9hXG4gICAgICAgID4uXG4gICAgICA8L3A+XG5cbiAgICAgIDxwXG4gICAgICAgIHYtaWY9XCJob21lLmNvbmZpZy5hY3RpdmUuaXNDcmVkZW50aWFsTWlzc2luZ1wiXG4gICAgICAgIGRhdGEtYXV0b21hdGlvbj1cIm1pc3NpbmctY3JlZHNcIlxuICAgICAgPlxuICAgICAgICB7eyBtaXNzaW5nQ3JlZGVudGlhbE1lc3NhZ2UgfX1cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgQGNsaWNrPVwibmV3Q3JlZGVudGlhbFwiXG4gICAgICAgICAgZGF0YS1hdXRvbWF0aW9uPVwiY3JlZHMtYnV0dG9uXCJcbiAgICAgICAgICA+Q3JlYXRlIGEgbmV3IENyZWRlbnRpYWw8L2FcbiAgICAgICAgPi5cbiAgICAgIDwvcD5cblxuICAgICAgPFJlbmRlckJ1dHRvbiB2LWlmPVwiaXNSZW5kZXJhYmxlQ29udGVudFwiIGNsYXNzPVwidy1mdWxsIHJlbmRlci1idG5cIiAvPlxuXG4gICAgICA8RGVwbG95QnV0dG9uIGNsYXNzPVwidy1mdWxsXCIgLz5cbiAgICA8L3RlbXBsYXRlPlxuICAgIDxkaXYgdi1lbHNlIGNsYXNzPVwiZGVwbG95bWVudC1jb250cm9sXCIgdi1vbj1cInsgY2xpY2s6IG9uU2VsZWN0RGVwbG95bWVudCB9XCI+XG4gICAgICA8UXVpY2tQaWNrSXRlbVxuICAgICAgICBsYWJlbD1cIlNlbGVjdC4uLlwiXG4gICAgICAgIDpkZXRhaWxzPVwiWycobmV3IG9yIGV4aXN0aW5nKSddXCJcbiAgICAgICAgZGF0YS1hdXRvbWF0aW9uPVwic2VsZWN0LWRlcGxveW1lbnRcIlxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJzZWxlY3QtaW5kaWNhdG9yIGNvZGljb24gY29kaWNvbi1jaGV2cm9uLWRvd25cIlxuICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgICA8dGVtcGxhdGVcbiAgICAgIHYtaWY9XCJob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCAmJiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5zZXJ2ZXJUeXBlXCJcbiAgICA+XG4gICAgICA8dnNjb2RlLWRpdmlkZXIgY2xhc3M9XCJob21lLXZpZXctZGl2aWRlclwiIC8+XG5cbiAgICAgIDxQcm9jZXNzUHJvZ3Jlc3NcbiAgICAgICAgdi1pZj1cInNob3dQcm9ncmVzc1N0YXR1c1wiXG4gICAgICAgIEB2aWV3LWxvZz1cIm9uVmlld1B1Ymxpc2hpbmdMb2dcIlxuICAgICAgLz5cblxuICAgICAgPFByb2Nlc3NTdW1tYXJ5XG4gICAgICAgIHYtZWxzZVxuICAgICAgICBAYXNzb2NpYXRlLWRlcGxveW1lbnQ9XCJvbkFzc29jaWF0ZURlcGxveW1lbnRcIlxuICAgICAgICBAdmlldy1jb250ZW50PVwidmlld0NvbnRlbnRcIlxuICAgICAgICBAZXJyb3ItbGluay1jbGljaz1cIm9uRXJyb3JNZXNzYWdlQW5jaG9yQ2xpY2tcIlxuICAgICAgLz5cbiAgICA8L3RlbXBsYXRlPlxuICA8L2Rpdj5cbiAgPGRpdiB2LWVsc2U+XG4gICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWRlc2NcIj5cbiAgICAgICAgPGRpdj5TY2FubmluZyBkaXJlY3Rvcmllcy4uLjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHtcbiAgQ29uZmlndXJhdGlvbixcbiAgaXNQcmVDb250ZW50UmVjb3JkLFxuICBpc0NvbmZpZ3VyYXRpb25FcnJvcixcbiAgU2VydmVyVHlwZSxcbiAgUHJvZHVjdE5hbWUsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5pbXBvcnQge1xuICBFcnJvck1lc3NhZ2VBY3Rpb25JZHMsXG4gIEVycm9yTWVzc2FnZVNwbGl0T3B0aW9ucyxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9lcnJvckVuaGFuY2VyXCI7XG5pbXBvcnQge1xuICBFZGl0Q29uZmlndXJhdGlvblNlbGVjdGlvbixcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuaW1wb3J0IHsgY2FsY3VsYXRlVGl0bGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL3RpdGxlc1wiO1xuaW1wb3J0IHsgZmlsdGVyQ29uZmlndXJhdGlvbnNUb1ZhbGlkQW5kVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdXRpbHMvZmlsdGVyc1wiO1xuXG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuXG5pbXBvcnQgUXVpY2tQaWNrSXRlbSwgeyBJY29uRGV0YWlsIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL1F1aWNrUGlja0l0ZW0udnVlXCI7XG5pbXBvcnQgQWN0aW9uVG9vbGJhciBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcbmltcG9ydCBEZXBsb3lCdXR0b24gZnJvbSBcInNyYy9jb21wb25lbnRzL0RlcGxveUJ1dHRvbi52dWVcIjtcbmltcG9ydCBSZW5kZXJCdXR0b24gZnJvbSBcInNyYy9jb21wb25lbnRzL1JlbmRlckJ1dHRvbi52dWVcIjtcbmltcG9ydCBQcm9jZXNzUHJvZ3Jlc3MgZnJvbSBcInNyYy9jb21wb25lbnRzL1Byb2Nlc3NQcm9ncmVzcy52dWVcIjtcbmltcG9ydCBQcm9jZXNzU3VtbWFyeSBmcm9tIFwic3JjL2NvbXBvbmVudHMvUHJvY2Vzc1N1bW1hcnkudnVlXCI7XG5cbmltcG9ydCB7XG4gIEFnZW50RXJyb3IsXG4gIGlzQWdlbnRFcnJvckludmFsaWRUT01MLFxuICBpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaS90eXBlcy9lcnJvclwiO1xuaW1wb3J0IHtcbiAgZ2V0UHJvZHVjdFR5cGUsXG4gIGlzQ29ubmVjdENsb3VkUHJvZHVjdCxcbiAgaXNDb25uZWN0UHJvZHVjdCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9tdWx0aVN0ZXBIZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRTdW1tYXJ5U3RyaW5nRnJvbUVycm9yIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9lcnJvcnNcIjtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuY29uc3QgaG9zdENvbmR1aXQgPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcblxuY29uc3QgZ2V0Q29uZmlnRXJyb3IgPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgaWYgKCFob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IGVycm9yID0gaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pXG4gICAgPyBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbi5lcnJvclxuICAgIDogbnVsbDtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiBnZXRTdW1tYXJ5U3RyaW5nRnJvbUVycm9yKFwiRXZlbkVhc2llckRlcGxveVwiLCBlcnJvcik7XG59KTtcblxuY29uc3QgdG9vbGJhckFjdGlvbnMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICByZXN1bHQucHVzaCh7XG4gICAgbGFiZWw6IFwiQWRkIERlcGxveW1lbnRcIixcbiAgICBjb2RpY29uOiBcImNvZGljb24tYWRkXCIsXG4gICAgZm46IG9uQWRkRGVwbG95bWVudCxcbiAgfSk7XG5cbiAgaWYgKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgbGFiZWw6IFwiRWRpdCBDb25maWd1cmF0aW9uXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tZWRpdFwiLFxuICAgICAgZm46ICgpID0+XG4gICAgICAgIG9uRWRpdENvbmZpZ3VyYXRpb24oaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24hLmNvbmZpZ3VyYXRpb25QYXRoKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmNvbnN0IG9uU2VsZWN0RGVwbG95bWVudCA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNFTEVDVF9ERVBMT1lNRU5ULFxuICB9KTtcbn07XG5cbmNvbnN0IG9uQWRkRGVwbG95bWVudCA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5FV19ERVBMT1lNRU5ULFxuICB9KTtcbn07XG5cbmNvbnN0IG9uRWRpdENvbmZpZ3VyYXRpb24gPSAoXG4gIGZ1bGxQYXRoOiBzdHJpbmcsXG4gIHNlbGVjdGlvbj86IEVkaXRDb25maWd1cmF0aW9uU2VsZWN0aW9uLFxuKSA9PiB7XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5FRElUX0NPTkZJR1VSQVRJT04sXG4gICAgY29udGVudDoge1xuICAgICAgY29uZmlndXJhdGlvblBhdGg6IGZ1bGxQYXRoLFxuICAgICAgc2VsZWN0aW9uLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3Qgb25WaWV3UHVibGlzaGluZ0xvZyA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZJRVdfUFVCTElTSElOR19MT0csXG4gIH0pO1xufTtcblxuY29uc3QgZmlsdGVyZWRDb25maWdzID0gY29tcHV0ZWQoKCk6IENvbmZpZ3VyYXRpb25bXSA9PiB7XG4gIHJldHVybiBmaWx0ZXJDb25maWd1cmF0aW9uc1RvVmFsaWRBbmRUeXBlKFxuICAgIGhvbWUuY29uZmlndXJhdGlvbnMsXG4gICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnR5cGUsXG4gICk7XG59KTtcblxuY29uc3QgY29udGV4dE1lbnVDb250ZXh0ID0gY29tcHV0ZWQoKCk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBmaWx0ZXJlZENvbmZpZ3MudmFsdWUubGVuZ3RoID4gMFxuICAgID8gXCJldmVuLWVhc2llci1kZXBsb3ktbW9yZS1tZW51LW1hdGNoaW5nLWNvbmZpZ3NcIlxuICAgIDogXCJldmVuLWVhc2llci1kZXBsb3ktbW9yZS1tZW51LW5vLW1hdGNoaW5nLWNvbmZpZ3NcIjtcbn0pO1xuXG5jb25zdCBwcm9tcHRGb3JDb25maWdTZWxlY3Rpb24gPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGZpbHRlcmVkQ29uZmlncy52YWx1ZS5sZW5ndGggPiAwXG4gICAgPyBcIlNlbGVjdCBhIENvbmZpZ3VyYXRpb25cIlxuICAgIDogXCJDcmVhdGUgYSBDb25maWd1cmF0aW9uXCI7XG59KTtcblxuY29uc3QgZGVwbG95bWVudFRpdGxlID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAoIWhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkKSB7XG4gICAgLy8gbm8gdGl0bGUgaWYgdGhlcmUgaXMgbm8gc2VsZWN0ZWQgY29udGVudFJlY29yZFxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlVGl0bGUoXG4gICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQsXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24sXG4gICk7XG4gIHJldHVybiByZXN1bHQudGl0bGU7XG59KTtcblxuY29uc3QgZGVwbG95bWVudERldGFpbHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IGRldGFpbHM6IEljb25EZXRhaWxbXSA9IFtdO1xuICBkZXRhaWxzLnB1c2goeyBpY29uOiBcImNvZGljb24tc2VydmVyXCIsIHRleHQ6IGNyZWRlbnRpYWxTdWJUaXRsZS52YWx1ZSB9KTtcbiAgaWYgKGVudHJ5cG9pbnRTdWJUaXRsZS52YWx1ZSkge1xuICAgIGRldGFpbHMucHVzaCh7IGljb246IFwiY29kaWNvbi1maWxlXCIsIHRleHQ6IGVudHJ5cG9pbnRTdWJUaXRsZS52YWx1ZSB9KTtcbiAgfVxuICByZXR1cm4gZGV0YWlscztcbn0pO1xuXG5jb25zdCBjcmVkZW50aWFsU3ViVGl0bGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChob21lLnNlcnZlckNyZWRlbnRpYWw/Lm5hbWUpIHtcbiAgICByZXR1cm4gYCR7aG9tZS5zZXJ2ZXJDcmVkZW50aWFsLm5hbWV9YDtcbiAgfVxuICBjb25zdCBzZXJ2ZXJUeXBlID1cbiAgICBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uc2VydmVyVHlwZSB8fCBTZXJ2ZXJUeXBlLkNPTk5FQ1Q7XG4gIGNvbnN0IHByb2R1Y3RUeXBlID0gZ2V0UHJvZHVjdFR5cGUoc2VydmVyVHlwZSk7XG4gIGlmIChpc0Nvbm5lY3RDbG91ZFByb2R1Y3QocHJvZHVjdFR5cGUpKSB7XG4gICAgcmV0dXJuIGBNaXNzaW5nIENyZWRlbnRpYWwgZm9yICR7UHJvZHVjdE5hbWUuQ09OTkVDVF9DTE9VRH1gO1xuICB9IGVsc2UgaWYgKGlzQ29ubmVjdFByb2R1Y3QocHJvZHVjdFR5cGUpKSB7XG4gICAgcmV0dXJuIGBNaXNzaW5nIENyZWRlbnRpYWwgZm9yICR7aG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnNlcnZlclVybH1gO1xuICB9XG4gIHJldHVybiBcIk1pc3NpbmcgQ3JlZGVudGlhbFwiO1xufSk7XG5cbmNvbnN0IG1pc3NpbmdDcmVkZW50aWFsTWVzc2FnZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgY29uc3Qgc2VydmVyVHlwZSA9XG4gICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnNlcnZlclR5cGUgfHwgU2VydmVyVHlwZS5DT05ORUNUO1xuICBjb25zdCBwcm9kdWN0VHlwZSA9IGdldFByb2R1Y3RUeXBlKHNlcnZlclR5cGUpO1xuICBpZiAoaXNDb25uZWN0Q2xvdWRQcm9kdWN0KHByb2R1Y3RUeXBlKSkge1xuICAgIHJldHVybiBcIk5vIGNyZWRlbnRpYWwgd2FzIGZvdW5kIGZvciB0aGUgZGVwbG95bWVudCdzIGFjY291bnQuXCI7XG4gIH0gZWxzZSBpZiAoaXNDb25uZWN0UHJvZHVjdChwcm9kdWN0VHlwZSkpIHtcbiAgICByZXR1cm4gXCJObyBjcmVkZW50aWFsIHdhcyBmb3VuZCBmb3IgdGhlIGRlcGxveW1lbnQncyBzZXJ2ZXIuXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59KTtcblxuY29uc3QgZW50cnlwb2ludFN1YlRpdGxlID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAoXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICAhaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pXG4gICkge1xuICAgIGNvbnN0IGNvbnRlbnRSZWNvcmQgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZDtcbiAgICBjb25zdCBjb25maWcgPSBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbjtcbiAgICBpZiAoY29udGVudFJlY29yZCkge1xuICAgICAgbGV0IHN1YlRpdGxlID0gXCJcIjtcbiAgICAgIGlmIChjb250ZW50UmVjb3JkLnByb2plY3REaXIgIT09IFwiLlwiKSB7XG4gICAgICAgIHN1YlRpdGxlID0gYCR7Y29udGVudFJlY29yZC5wcm9qZWN0RGlyfSR7aG9tZS5wbGF0Zm9ybUZpbGVTZXBhcmF0b3J9YDtcbiAgICAgIH1cbiAgICAgIGlmICghaG9tZS5jb25maWcuYWN0aXZlLmlzVW5rbm93bkVycm9yKSB7XG4gICAgICAgIHN1YlRpdGxlICs9IGNvbmZpZy5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3ViVGl0bGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlByb2plY3REaXIgYW5kIEVudHJ5cG9pbnQgbm90IGRldGVybWluZWRcIjtcbn0pO1xuXG5jb25zdCBzZWxlY3RDb25maWd1cmF0aW9uID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19TRUxFQ1RfQ09ORklHVVJBVElPTixcbiAgfSk7XG59O1xuXG5jb25zdCBzaG93UHJvZ3Jlc3NTdGF0dXMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBob21lLnB1Ymxpc2hJblByb2dyZXNzIHx8IGhvbWUuY29udGVudFJlbmRlckluUHJvZ3Jlc3M7XG59KTtcblxuY29uc3QgaXNSZW5kZXJhYmxlQ29udGVudCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICAhaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pICYmXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbi5zb3VyY2UsXG4gICk7XG59KTtcblxuY29uc3QgdG9vbFRpcFRleHQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGxldCBlbnRyeXBvaW50ID0gXCJ1bmtub3duXCI7XG4gIGlmIChcbiAgICBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiAmJlxuICAgICFpc0NvbmZpZ3VyYXRpb25FcnJvcihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbikgJiZcbiAgICBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbi5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnRcbiAgKSB7XG4gICAgZW50cnlwb2ludCA9IGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uLmNvbmZpZ3VyYXRpb24uZW50cnlwb2ludDtcbiAgfVxuICByZXR1cm4gYERlcGxveW1lbnQgRGV0YWlsc1xuLSBEZXBsb3ltZW50IFJlY29yZDogJHtob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uc2F2ZU5hbWUgfHwgXCI8dW5kZWZpbmVkPlwifVxuLSBDb25maWd1cmF0aW9uIEZpbGU6ICR7aG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24/LmNvbmZpZ3VyYXRpb25OYW1lIHx8IFwiPHVuZGVmaW5lZD5cIn1cbi0gQ3JlZGVudGlhbCBJbiBVc2U6ICR7aG9tZS5zZXJ2ZXJDcmVkZW50aWFsPy5uYW1lIHx8IFwiPHVuZGVmaW5lZD5cIn1cbi0gUHJvamVjdCBEaXI6ICR7aG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnByb2plY3REaXIgfHwgXCI8dW5kZWZpbmVkPlwifVxuLSBFbnRyeXBvaW50OiAke2VudHJ5cG9pbnR9XG4tIFNlcnZlciBVUkw6ICR7aG9tZS5zZXJ2ZXJDcmVkZW50aWFsPy51cmwgfHwgXCI8dW5kZWZpbmVkPlwifWA7XG59KTtcblxuY29uc3QgZ2V0QWN0aXZlQ29uZmlnRXJyb3IgPSBjb21wdXRlZCgoKTogQWdlbnRFcnJvciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChcbiAgICBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiAmJlxuICAgIGlzQ29uZmlndXJhdGlvbkVycm9yKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uKSAmJlxuICAgIGlzQWdlbnRFcnJvckludmFsaWRUT01MKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uLmVycm9yKVxuICApIHtcbiAgICByZXR1cm4gaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24uZXJyb3I7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn0pO1xuXG5jb25zdCBnZXRBY3RpdmVDb25maWdUT01MRXJyb3JEZXRhaWxzID0gY29tcHV0ZWQoKCkgPT4ge1xuICBjb25zdCBhZ2VudEVycm9yID0gZ2V0QWN0aXZlQ29uZmlnRXJyb3IudmFsdWU7XG4gIGlmIChhZ2VudEVycm9yICYmIGlzQWdlbnRFcnJvckludmFsaWRUT01MKGFnZW50RXJyb3IpKSB7XG4gICAgcmV0dXJuIGBvbiBsaW5lICR7YWdlbnRFcnJvci5kYXRhLmxpbmV9YDtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn0pO1xuXG5jb25zdCBpc0RlcGxveWVkQ29udGVudE9uRXJyb3IgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGRlcGxveW1lbnRFcnJvciA9IGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5kZXBsb3ltZW50RXJyb3I7XG4gIHJldHVybiBCb29sZWFuKFxuICAgIGRlcGxveW1lbnRFcnJvciAmJiBpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nKGRlcGxveW1lbnRFcnJvciksXG4gICk7XG59KTtcblxuY29uc3Qgb25FZGl0Q29uZmlndXJhdGlvbldpdGhUT01MRXJyb3IgPSAoKSA9PiB7XG4gIGNvbnN0IGFnZW50RXJyb3IgPSBnZXRBY3RpdmVDb25maWdFcnJvci52YWx1ZTtcbiAgaWYgKGFnZW50RXJyb3IgJiYgaXNBZ2VudEVycm9ySW52YWxpZFRPTUwoYWdlbnRFcnJvcikpIHtcbiAgICBvbkVkaXRDb25maWd1cmF0aW9uKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIS5jb25maWd1cmF0aW9uUGF0aCwge1xuICAgICAgc3RhcnQ6IHtcbiAgICAgICAgbGluZTogYWdlbnRFcnJvci5kYXRhLmxpbmUgLSAxLFxuICAgICAgICBjaGFyYWN0ZXI6IGFnZW50RXJyb3IuZGF0YS5jb2x1bW4gLSAxLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuICBjb25zb2xlLmVycm9yKFxuICAgIFwiRXZlbkVhc2llckRlcGxveTo6b25FZGl0Q29uZmlndXJhdGlvbldpdGhUT01MRXJyb3IsIGVycm9yIGlzIG5vdCBleHBlY3RlZCB0eXBlLiBJZ25vcmluZy5cIixcbiAgKTtcbiAgcmV0dXJuO1xufTtcblxuY29uc3Qgb25FcnJvck1lc3NhZ2VBbmNob3JDbGljayA9IChzcGxpdE9wdGlvbklkOiBudW1iZXIpID0+IHtcbiAgY29uc3Qgb3B0aW9uID0gRXJyb3JNZXNzYWdlU3BsaXRPcHRpb25zLmZpbmQoXG4gICAgKG9wdGlvbikgPT4gb3B0aW9uLmFjdGlvbklkID09PSBzcGxpdE9wdGlvbklkLFxuICApO1xuICBpZiAoIW9wdGlvbikge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIkV2ZW5FYXNpZXJEZXBsb3k6Om9uRXJyb3JNZXNzYWdlQW5jaG9yQ2xpY2ssIGV2ZW50IGRvZXMgbm90IG1hdGNoIG9wdGlvbnMuIElnbm9yaW5nLlwiLFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChvcHRpb24uYWN0aW9uSWQgPT09IEVycm9yTWVzc2FnZUFjdGlvbklkcy5FZGl0Q29uZmlndXJhdGlvbikge1xuICAgIG9uRWRpdENvbmZpZ3VyYXRpb24oaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24hLmNvbmZpZ3VyYXRpb25QYXRoKTtcbiAgICByZXR1cm47XG4gIH1cbn07XG5cbmNvbnN0IG5hdmlnYXRlVG9VcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5BVklHQVRFLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIHVyaVBhdGg6IHVybCxcbiAgICB9LFxuICB9KTtcbn07XG5cbmNvbnN0IG5ld0NyZWRlbnRpYWwgPSAoKSA9PiB7XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ORVdfQ1JFREVOVElBTF9GT1JfREVQTE9ZTUVOVCxcbiAgfSk7XG59O1xuXG5jb25zdCBvbkFzc29jaWF0ZURlcGxveW1lbnQgPSAoKSA9PiB7XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TSE9XX0FTU09DSUFURV9HVUlELFxuICB9KTtcbn07XG5cbmNvbnN0IHZpZXdDb250ZW50ID0gKCkgPT4ge1xuICBjb25zdCByZWNvcmQgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZDtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzRGVwbG95ZWRDb250ZW50T25FcnJvci52YWx1ZSAmJiAhaXNQcmVDb250ZW50UmVjb3JkKHJlY29yZCkpIHtcbiAgICBuYXZpZ2F0ZVRvVXJsKHJlY29yZC5sb2dzVXJsKTtcbiAgfSBlbHNlIGlmIChyZWNvcmQuZGFzaGJvYXJkVXJsKSB7XG4gICAgbmF2aWdhdGVUb1VybChyZWNvcmQuZGFzaGJvYXJkVXJsKTtcbiAgfVxufTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ubGFiZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZGVwbG95bWVudC1jb250cm9sIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbjogMC41cmVtIDA7XG4gIHBhZGRpbmc6IDJweCA2cHggNnB4IDhweDtcbiAgYmFja2dyb3VuZDogdmFyKC0tZHJvcGRvd24tYmFja2dyb3VuZCk7XG4gIGJvcmRlcjogY2FsYyh2YXIoLS1ib3JkZXItd2lkdGgpICogMXB4KSBzb2xpZCB2YXIoLS1kcm9wZG93bi1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLWNvcm5lci1yYWRpdXMtcm91bmQpICogMXB4KTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgb3V0bGluZTogbm9uZTtcblxuICAmW29wZW5dLFxuICAmOmFjdGl2ZTpub3QoW2Rpc2FibGVkXSkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZm9jdXMtYm9yZGVyKTtcbiAgfVxuXG4gICZbZGlzYWJsZWRdIHtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgIG9wYWNpdHk6IHZhcigtLWRpc2FibGVkLW9wYWNpdHkpO1xuICB9XG5cbiAgLnNlbGVjdC1pbmRpY2F0b3Ige1xuICAgIGZsZXg6IG5vbmU7XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogMWVtO1xuICB9XG59XG5cbjpkZWVwKC5hY3Rpb24taXRlbSkge1xuICBtYXJnaW4tcmlnaHQ6IDRweDtcbn1cblxuLnJlbmRlci1idG4ge1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG59XG5cbi5hZGQtZGVwbG95bWVudC1idG4ge1xuICBtYXJnaW46IDAuNXJlbSAwIDFyZW07XG59XG5cbi5ob21lLXZpZXctZGl2aWRlciB7XG4gIG1hcmdpbi10b3A6IDEuMzNlbTtcbn1cblxuLnByb2dyZXNzLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5wcm9ncmVzcy1kZXNjIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiY291bnQtYmFkZ2VcIj57eyBjb3VudCB9fTwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmRlZmluZVByb3BzPHtcbiAgY291bnQ6IG51bWJlcjtcbn0+KCk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLmNvdW50LWJhZGdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLWJhZGdlLWJhY2tncm91bmQpO1xuICBjb2xvcjogdmFyKC0tdnNjb2RlLWJhZGdlLWZvcmVncm91bmQpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS12c2NvZGUtYmFkZ2UtZm9yZWdyb3VuZCk7XG5cbiAgYm9yZGVyLXJhZGl1czogMTFweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXNpemU6IDExcHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGxpbmUtaGVpZ2h0OiAxMXB4O1xuICBtaW4taGVpZ2h0OiAxOHB4O1xuICBtaW4td2lkdGg6IDE4cHg7XG4gIHBhZGRpbmc6IDNweCA2cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJwYW5lXCIgOmNsYXNzPVwieyBleHBhbmRlZDogZXhwYW5kZWQgfVwiPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwicGFuZS1oZWFkZXJcIlxuICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgIDpjbGFzcz1cInsgZXhwYW5kZWQ6IGV4cGFuZGVkIH1cIlxuICAgICAgQGtleWRvd24uZW50ZXIuc2VsZj1cInRvZ2dsZUV4cGFuZGVkXCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZS1oZWFkZXItdGl0bGUtY29udGFpbmVyXCIgQGNsaWNrPVwidG9nZ2xlRXhwYW5kZWRcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwidHdpc3R5LWNvbnRhaW5lciBjb2RpY29uXCJcbiAgICAgICAgICA6Y2xhc3M9XCJleHBhbmRlZCA/ICdjb2RpY29uLWNoZXZyb24tZG93bicgOiAnY29kaWNvbi1jaGV2cm9uLXJpZ2h0J1wiXG4gICAgICAgIC8+XG4gICAgICAgIDxoMyBjbGFzcz1cInRpdGxlXCI+e3sgdGl0bGUgfX08L2gzPlxuICAgICAgICA8c3BhbiB2LWlmPVwiJHNsb3RzLmRlc2NyaXB0aW9uXCIgY2xhc3M9XCJkZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxzbG90IG5hbWU9XCJkZXNjcmlwdGlvblwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gdi1lbHNlLWlmPVwiZGVzY3JpcHRpb25cIiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAge3sgZGVzY3JpcHRpb24gfX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgdi1pZj1cImNvZGljb24gJiYgIWV4cGFuZGVkXCJcbiAgICAgICAgICBjbGFzcz1cInRyZWUtc2VjdGlvbi1pY29uIGNvZGljb25cIlxuICAgICAgICAgIDpjbGFzcz1cImNvZGljb25cIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHYtaWY9XCJhY3Rpb25zXCIgY2xhc3M9XCJhY3Rpb25zXCI+XG4gICAgICAgIDxBY3Rpb25Ub29sYmFyIDp0aXRsZT1cInRpdGxlXCIgOmFjdGlvbnM9XCJhY3Rpb25zXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiB2LWlmPVwiY291bnRcIiBjbGFzcz1cImNvdW50XCI+XG4gICAgICAgIDxDb3VudEJhZGdlIDpjb3VudD1cImNvdW50XCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgdi1zaG93PVwiZXhwYW5kZWRcIiBjbGFzcz1cInBhbmUtYm9keVwiPlxuICAgICAgPHNsb3QgLz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IEFjdGlvblRvb2xiYXIsIHsgQWN0aW9uQnV0dG9uIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL0FjdGlvblRvb2xiYXIudnVlXCI7XG5pbXBvcnQgQ291bnRCYWRnZSBmcm9tIFwic3JjL2NvbXBvbmVudHMvQ291bnRCYWRnZS52dWVcIjtcblxuY29uc3QgZXhwYW5kZWQgPSBkZWZpbmVNb2RlbChcImV4cGFuZGVkXCIsIHsgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiBmYWxzZSB9KTtcblxuZGVmaW5lUHJvcHM8e1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgY29kaWNvbj86IHN0cmluZztcbiAgYWN0aW9ucz86IEFjdGlvbkJ1dHRvbltdO1xuICBjb3VudD86IG51bWJlcjtcbn0+KCk7XG5cbmNvbnN0IHRvZ2dsZUV4cGFuZGVkID0gKCkgPT4ge1xuICBleHBhbmRlZC52YWx1ZSA9ICFleHBhbmRlZC52YWx1ZTtcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnBhbmUge1xuICAuYWN0aW9ucyB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgfVxuXG4gIC50cmVlLXNlY3Rpb24taWNvbiB7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIG1hcmdpbi1yaWdodDogNHB4O1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICB9XG5cbiAgJi5leHBhbmRlZDpob3ZlciAuYWN0aW9ucyxcbiAgJi5leHBhbmRlZDpmb2N1cy13aXRoaW4gLmFjdGlvbnMge1xuICAgIGRpc3BsYXk6IGluaXRpYWw7XG4gIH1cblxuICAmLmV4cGFuZGVkOmhvdmVyXG4gICAgOmRlZXAoLnRyZWUtaXRlbSAudHJlZS1pdGVtLWNvbnRhaW5lcjpub3QoOmhvdmVyKSAuaW5kZW50IC5pbmRlbnQtZ3VpZGUpLFxuICAmLmV4cGFuZGVkOmZvY3VzLXdpdGhpblxuICAgIDpkZWVwKC50cmVlLWl0ZW0gLnRyZWUtaXRlbS1jb250YWluZXI6bm90KDpob3ZlcikgLmluZGVudCAuaW5kZW50LWd1aWRlKSB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS12c2NvZGUtdHJlZS1pbmFjdGl2ZUluZGVudEd1aWRlc1N0cm9rZSk7XG4gIH1cbn1cblxuLnBhbmUtaGVhZGVyIHtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGNvbG9yOiB2YXIoLS12c2NvZGUtc2lkZUJhclNlY3Rpb25IZWFkZXItZm9yZWdyb3VuZCk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1zaWRlQmFyU2VjdGlvbkhlYWRlci1iYWNrZ3JvdW5kKTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLXZzY29kZS1zaWRlQmFyU2VjdGlvbkhlYWRlci1ib3JkZXIpO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBmb250LXNpemU6IDExcHg7XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGhlaWdodDogMjJweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgJjpmb2N1cyB7XG4gICAgb3BhY2l0eTogMTtcbiAgICBvdXRsaW5lLWNvbG9yOiB2YXIoLS12c2NvZGUtZm9jdXNCb3JkZXIpO1xuICAgIG91dGxpbmUtb2Zmc2V0OiAtMXB4O1xuICAgIG91dGxpbmUtc3R5bGU6IHNvbGlkO1xuICAgIG91dGxpbmUtd2lkdGg6IDFweDtcbiAgfVxuXG4gIC5wYW5lLWhlYWRlci10aXRsZS1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWluLXdpZHRoOiAwO1xuICAgIGZsZXg6IDE7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgIC50d2lzdHktY29udGFpbmVyIHtcbiAgICAgIG1hcmdpbjogMCAycHg7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICBjb2xvcjogdmFyKC0tdnNjb2RlLWljb24tZm9yZWdyb3VuZCk7XG4gICAgfVxuXG4gICAgLnRpdGxlIHtcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgIG1pbi13aWR0aDogM2NoO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAtd2Via2l0LW1hcmdpbi1iZWZvcmU6IDA7XG4gICAgICAtd2Via2l0LW1hcmdpbi1hZnRlcjogMDtcbiAgICB9XG5cbiAgICAuZGVzY3JpcHRpb24ge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBjb2xvcjogdmFyKC0tdnNjb2RlLXNpZGVCYXJTZWN0aW9uSGVhZGVyLWZvcmVncm91bmQpO1xuICAgICAgZmxleC1zaHJpbms6IDEwMDAwMDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB9XG4gIH1cblxuICAmIDpkZWVwKC5hY3Rpb24taXRlbSkge1xuICAgIG1hcmdpbi1yaWdodDogNHB4O1xuICB9XG5cbiAgLmNvdW50IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi1sZWZ0OiAycHg7XG4gICAgcGFkZGluZy1yaWdodDogMTJweDtcbiAgfVxufVxuXG4ucGFuZS1ib2R5IHtcbiAgZmxleDogMTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJ2c2NvZGUtY2hlY2tib3hcIiA6Y2xhc3M9XCJ7IGRpc2FibGVkOiBkaXNhYmxlZCB9XCI+XG4gICAgPGxhYmVsPlxuICAgICAgPGlucHV0XG4gICAgICAgIDpjaGVja2VkPVwiY2hlY2tlZFwiXG4gICAgICAgIDpkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgQGNoYW5nZT1cImhhbmRsZUNoYW5nZVwiXG4gICAgICAvPlxuICAgICAgPHNwYW4gY2xhc3M9XCJpY29uXCI+XG4gICAgICAgIDxpIGNsYXNzPVwiY29kaWNvbiBjb2RpY29uLWNoZWNrIGljb24tY2hlY2tlZFwiPjwvaT5cbiAgICAgICAgPGkgY2xhc3M9XCJjb2RpY29uIGNvZGljb24tY2hyb21lLW1pbmltaXplIGljb24taW5kZXRlcm1pbmF0ZVwiPjwvaT5cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwidGV4dFwiPjxzbG90IC8+PC9zcGFuPlxuICAgIDwvbGFiZWw+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmRlZmluZVByb3BzPHtcbiAgY2hlY2tlZDogYm9vbGVhbjtcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBkaXNhYmxlT3BhY2l0eT86IGJvb2xlYW47XG59PigpO1xuXG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8e1xuICBjaGFuZ2VkOiBbY2hlY2tlZDogYm9vbGVhbl07XG59PigpO1xuXG5jb25zdCBoYW5kbGVDaGFuZ2UgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gIGNvbnN0IGNoZWNrZWQgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQ7XG4gIGVtaXQoXCJjaGFuZ2VkXCIsIGNoZWNrZWQpO1xufTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4udnNjb2RlLWNoZWNrYm94IHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGZsZXg6IDE7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgLS1jaGVja2JveC1vcGFjaXR5OiB2LWJpbmQoJ2Rpc2FibGVPcGFjaXR5ID8gMSA6IFwidmFyKC0tZGlzYWJsZWQtb3BhY2l0eSlcIicpO1xuXG4gICYuZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IHZhcigtLWNoZWNrYm94LW9wYWNpdHkpO1xuICB9XG5cbiAgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdIHtcbiAgICBjbGlwOiByZWN0KDAgMCAwIDApO1xuICAgIGNsaXAtcGF0aDogaW5zZXQoNTAlKTtcbiAgICBoZWlnaHQ6IDFweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIHdpZHRoOiAxcHg7XG4gIH1cblxuICAuaWNvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLXNldHRpbmdzLWNoZWNrYm94QmFja2dyb3VuZCk7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxNnB4O1xuICAgIGJvcmRlcjogY2FsYyh2YXIoLS1ib3JkZXItd2lkdGgpICogMXB4KSBzb2xpZCB2YXIoLS1jaGVja2JveC1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0tY2hlY2tib3gtY29ybmVyLXJhZGl1cykgKiAxcHgpO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgY29sb3I6IHZhcigtLXZzY29kZS1zZXR0aW5ncy1jaGVja2JveEZvcmVncm91bmQpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBoZWlnaHQ6IGNhbGModmFyKC0tZGVzaWduLXVuaXQpICogNHB4ICsgMnB4KTtcbiAgICB3aWR0aDogY2FsYyh2YXIoLS1kZXNpZ24tdW5pdCkgKiA0cHggKyAycHgpO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICB9XG5cbiAgLmljb24tY2hlY2tlZCxcbiAgLmljb24taW5kZXRlcm1pbmF0ZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICBoZWlnaHQ6IDE2cHg7XG4gICAgbGVmdDogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxNnB4O1xuICB9XG5cbiAgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQgfiAuaWNvbiAuaWNvbi1jaGVja2VkIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4gIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTppbmRldGVybWluYXRlIH4gLmljb24gLmljb24taW5kZXRlcm1pbmF0ZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06aW52YWxpZCB+IC5pY29uLFxuICBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0uaW52YWxpZCB+IC5pY29uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtaW5wdXRWYWxpZGF0aW9uLWVycm9yQmFja2dyb3VuZCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS12c2NvZGUtaW5wdXRWYWxpZGF0aW9uLWVycm9yQm9yZGVyLCAjYmUxMTAwKTtcbiAgfVxuXG4gIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpmb2N1cyB+IC5pY29uIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXZzY29kZS1mb2N1c0JvcmRlcik7XG4gIH1cblxuICBsYWJlbCB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuICAmLmRpc2FibGVkIGxhYmVsIHtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLnRleHQge1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBvcGFjaXR5OiAwLjk7XG4gICAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IGNhbGModmFyKC0tZGVzaWduLXVuaXQpICogMnB4ICsgMnB4KTtcbiAgfVxufVxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdlxuICAgIGNsYXNzPVwidHJlZS1pdGVtXCJcbiAgICA6Y2xhc3M9XCJ7XG4gICAgICAnYWxpZ24taWNvbi13aXRoLXR3aXN0eSc6IGFsaWduSWNvbldpdGhUd2lzdHksXG4gICAgICBjb2xsYXBzaWJsZTogaXNFeHBhbmRhYmxlLFxuICAgICAgJ3RleHQtbGlzdC1lbXBoYXNpemVkJzogbGlzdFN0eWxlID09PSAnZW1waGFzaXplZCcsXG4gICAgICAndGV4dC1mb3JlZ3JvdW5kJzogbGlzdFN0eWxlID09PSAnZGVmYXVsdCcsXG4gICAgICAndGV4dC1saXN0LWRlZW1waGFzaXplZCc6IGxpc3RTdHlsZSA9PT0gJ2RlZW1waGFzaXplZCcsXG4gICAgfVwiXG4gID5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cInRyZWUtaXRlbS1jb250YWluZXJcIlxuICAgICAgOmNsYXNzPVwidmlydHVhbGl6ZWQgPyAnY2xhc3MtaG92ZXInIDogdW5kZWZpbmVkXCJcbiAgICAgIDp0aXRsZT1cInRvb2x0aXBcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbmRlbnRcIj5cbiAgICAgICAgPGRpdiB2LWZvcj1cIl8gaW4gaW5kZW50TGV2ZWwgLSAxXCIgY2xhc3M9XCJpbmRlbnQtZ3VpZGVcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInR3aXN0eS1jb250YWluZXIgdGV4dC1pY29uXCJcbiAgICAgICAgOmNsYXNzPVwiW1xuICAgICAgICAgIHsgY29kaWNvbjogaXNFeHBhbmRhYmxlIH0sXG4gICAgICAgICAgZXhwYW5kYWJsZSB8fCAkc2xvdHMuZGVmYXVsdFxuICAgICAgICAgICAgPyBleHBhbmRlZFxuICAgICAgICAgICAgICA/ICdjb2RpY29uLWNoZXZyb24tZG93bidcbiAgICAgICAgICAgICAgOiAnY29kaWNvbi1jaGV2cm9uLXJpZ2h0J1xuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIF1cIlxuICAgICAgICB2LW9uPVwie1xuICAgICAgICAgIGNsaWNrOiBpc0V4cGFuZGFibGUgPyB0b2dnbGVFeHBhbmRlZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgfVwiXG4gICAgICAvPlxuICAgICAgPENvZGVDaGVja2JveFxuICAgICAgICA6Y2hlY2tlZD1cImNoZWNrZWRcIlxuICAgICAgICA6ZGlzYWJsZWQ9XCJkaXNhYmxlZFwiXG4gICAgICAgIDpkaXNhYmxlLW9wYWNpdHk9XCJkaXNhYmxlT3BhY2l0eVwiXG4gICAgICAgIGNsYXNzPVwidHJlZS1pdGVtLWNoZWNrYm94XCJcbiAgICAgICAgQGNoYW5nZWQ9XCJjaGVja2VkID8gJGVtaXQoJ3VuY2hlY2snKSA6ICRlbWl0KCdjaGVjaycpXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cmVlLWl0ZW0tdGl0bGVcIj57eyB0aXRsZSB9fTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gdi1pZj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJ0cmVlLWl0ZW0tZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICB7eyBkZXNjcmlwdGlvbiB9fVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L0NvZGVDaGVja2JveD5cbiAgICAgIDxkaXYgdi1pZj1cImFjdGlvbnNcIiBjbGFzcz1cImFjdGlvbnNcIj5cbiAgICAgICAgPEFjdGlvblRvb2xiYXIgOnRpdGxlPVwidGl0bGVcIiA6YWN0aW9ucz1cImFjdGlvbnNcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHYtaWY9XCIkc2xvdHMucG9zdERlY29yXCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJwb3N0RGVjb3JcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IHYtc2hvdz1cImlzRXhwYW5kYWJsZSAmJiBleHBhbmRlZFwiIGNsYXNzPVwidHJlZS1pdGVtLWNoaWxkcmVuXCI+XG4gICAgICA8c2xvdCA6aW5kZW50LWxldmVsPVwiaW5kZW50TGV2ZWwgKyAxXCIgLz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCBBY3Rpb25Ub29sYmFyLCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9BY3Rpb25Ub29sYmFyLnZ1ZVwiO1xuaW1wb3J0IENvZGVDaGVja2JveCBmcm9tIFwic3JjL2NvbXBvbmVudHMvQ29kZUNoZWNrYm94LnZ1ZVwiO1xuXG5leHBvcnQgdHlwZSBUcmVlSXRlbVN0eWxlID0gXCJlbXBoYXNpemVkXCIgfCBcImRlZmF1bHRcIiB8IFwiZGVlbXBoYXNpemVkXCI7XG5cbmNvbnN0IGV4cGFuZGVkID0gZGVmaW5lTW9kZWwoXCJleHBhbmRlZFwiLCB7IHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogZmFsc2UgfSk7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgbGlzdFN0eWxlPzogVHJlZUl0ZW1TdHlsZTtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHRvb2x0aXA/OiBzdHJpbmc7XG4gIGFsaWduSWNvbldpdGhUd2lzdHk/OiBib29sZWFuO1xuICBhY3Rpb25zPzogQWN0aW9uQnV0dG9uW107XG4gIGluZGVudExldmVsPzogbnVtYmVyO1xuICBleHBhbmRhYmxlPzogYm9vbGVhbjtcbiAgdmlydHVhbGl6ZWQ/OiBib29sZWFuO1xuICBkaXNhYmxlT3BhY2l0eT86IGJvb2xlYW47XG59XG5cbmNvbnN0IHByb3BzID0gd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPFByb3BzPigpLCB7XG4gIGxpc3RTdHlsZTogXCJkZWZhdWx0XCIsXG4gIGluZGVudExldmVsOiAxLFxuICBleHBhbmRhYmxlOiBmYWxzZSxcbiAgdmlydHVhbGl6ZWQ6IGZhbHNlLFxuICBkaXNhYmxlT3BhY2l0eTogZmFsc2UsXG59KTtcblxuY29uc3Qgc2xvdHMgPSBkZWZpbmVTbG90czx7XG4gIGRlZmF1bHQ/KHByb3BzOiB7IGluZGVudExldmVsOiBudW1iZXIgfSk6IGFueTtcbiAgcG9zdERlY29yPygpOiBhbnk7XG59PigpO1xuXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzKFtcImNoZWNrXCIsIFwidW5jaGVja1wiLCBcImV4cGFuZFwiLCBcImNvbGxhcHNlXCJdKTtcblxuY29uc3QgdG9nZ2xlRXhwYW5kZWQgPSAoKSA9PiB7XG4gIGV4cGFuZGVkLnZhbHVlID0gIWV4cGFuZGVkLnZhbHVlO1xuICBlbWl0cyhleHBhbmRlZC52YWx1ZSA/IFwiZXhwYW5kXCIgOiBcImNvbGxhcHNlXCIpO1xufTtcblxuY29uc3QgaXNFeHBhbmRhYmxlID0gY29tcHV0ZWQoKCk6IEJvb2xlYW4gPT4ge1xuICByZXR1cm4gQm9vbGVhbihzbG90cy5kZWZhdWx0IHx8IHByb3BzLmV4cGFuZGFibGUpO1xufSk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnRyZWUtaXRlbSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAmLmFsaWduLWljb24td2l0aC10d2lzdHk6bm90KC5jb2xsYXBzaWJsZSkgLnR3aXN0eS1jb250YWluZXIge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIH1cblxuICAudHJlZS1pdGVtLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcGFkZGluZy1sZWZ0OiBjYWxjKHYtYmluZChpbmRlbnRMZXZlbCkgKiA4cHgpO1xuICAgIHBhZGRpbmctcmlnaHQ6IDEycHg7XG4gICAgdG91Y2gtYWN0aW9uOiBub25lO1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuXG4gICAgLmluZGVudCB7XG4gICAgICB3aWR0aDogY2FsYyh2LWJpbmQoaW5kZW50TGV2ZWwpICogOHB4KTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDE2cHg7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcblxuICAgICAgLmluZGVudC1ndWlkZSB7XG4gICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjFzIGxpbmVhcjtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnR3aXN0eS1jb250YWluZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gICAgICB3aWR0aDogMjJweDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB9XG5cbiAgICAudHJlZS1pdGVtLWNoZWNrYm94IHtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBtaW4td2lkdGg6IDA7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICBtYXJnaW46IDA7XG5cbiAgICAgICY6OnBhcnQoY29udHJvbCkge1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIH1cblxuICAgICAgJjo6cGFydChsYWJlbCkge1xuICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICBtYXJnaW4taW5saW5lLWVuZDogMDtcbiAgICAgIH1cblxuICAgICAgLnRyZWUtaXRlbS10aXRsZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZTtcbiAgICAgIH1cblxuICAgICAgLnRyZWUtaXRlbS1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwLjVlbTtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5hY3Rpb25zIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICBtYXgtd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgZmxleC1ncm93OiAxMDA7XG4gICAgfVxuXG4gICAgLmhvdmVyICYuY2xhc3MtaG92ZXIsXG4gICAgJjpub3QoLmNsYXNzLWhvdmVyKTpob3ZlciB7XG4gICAgICBjb2xvcjogdmFyKC0tdnNjb2RlLWxpc3QtaG92ZXJGb3JlZ3JvdW5kLCB2YXIoLS12c2NvZGUtZm9yZWdyb3VuZCkpO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLWxpc3QtaG92ZXJCYWNrZ3JvdW5kKTtcblxuICAgICAgLmluZGVudCAuaW5kZW50LWd1aWRlIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS12c2NvZGUtdHJlZS1pbmFjdGl2ZUluZGVudEd1aWRlc1N0cm9rZSk7XG4gICAgICB9XG5cbiAgICAgIC50cmVlLWl0ZW0tdGl0bGUge1xuICAgICAgICBjb2xvcjogdmFyKC0tdnNjb2RlLWxpc3QtaG92ZXJGb3JlZ3JvdW5kLCB2YXIoLS12c2NvZGUtZm9yZWdyb3VuZCkpO1xuICAgICAgfVxuXG4gICAgICAudHJlZS1pdGVtLWRlc2NyaXB0aW9uIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyRm9yZWdyb3VuZCwgdmFyKC0tdnNjb2RlLWZvcmVncm91bmQpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuaG92ZXIgJi5jbGFzcy1ob3ZlciAuYWN0aW9ucyxcbiAgICAmOm5vdCguY2xhc3MtaG92ZXIpOmhvdmVyIC5hY3Rpb25zLFxuICAgICY6Zm9jdXMtd2l0aGluIC5hY3Rpb25zIHtcbiAgICAgIGRpc3BsYXk6IGluaXRpYWw7XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IHtcbiAgQ29udGVudFJlY29yZEZpbGUsXG4gIEZpbGVNYXRjaFNvdXJjZSxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZmlsZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGluY2x1ZGVkRmlsZVRvb2x0aXAoXG4gIGZpbGU6IFBpY2s8Q29udGVudFJlY29yZEZpbGUsIFwicmVsXCIgfCBcInJlYXNvblwiPixcbiAge1xuICAgIGlzRW50cnlwb2ludCA9IGZhbHNlLFxuICAgIGlzUGFja2FnZUZpbGUgPSBmYWxzZSxcbiAgfTogeyBpc0VudHJ5cG9pbnQ/OiBib29sZWFuOyBpc1BhY2thZ2VGaWxlPzogYm9vbGVhbiB9ID0ge30sXG4pIHtcbiAgbGV0IHRvb2x0aXAgPSBgJHtmaWxlLnJlbH0gd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgbmV4dCBkZXBsb3ltZW50LmA7XG4gIGlmIChmaWxlLnJlYXNvbikge1xuICAgIHRvb2x0aXAgKz0gYFxcblRoZSBjb25maWd1cmF0aW9uIGZpbGUgJHtmaWxlLnJlYXNvbj8uZmlsZU5hbWV9IGlzIGluY2x1ZGluZyBpdCB3aXRoIHRoZSBwYXR0ZXJuICcke2ZpbGUucmVhc29uPy5wYXR0ZXJufSdgO1xuICB9XG4gIGlmIChpc0VudHJ5cG9pbnQpIHtcbiAgICB0b29sdGlwICs9IGBcXG4ke2ZpbGUucmVsfSBpcyB0aGUgZW50cnlwb2ludC4gRW50cnlwb2ludHMgbXVzdCBiZSBpbmNsdWRlZCBpbiB0aGUgY29uZmlndXJhdGlvbiAnZmlsZXMnIGxpc3QuYDtcbiAgfVxuICBpZiAoaXNQYWNrYWdlRmlsZSkge1xuICAgIHRvb2x0aXAgKz0gYFxcbiR7ZmlsZS5yZWx9IGlzIGEgcGFja2FnZSBmaWxlLiBQYWNrYWdlIGZpbGVzIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24gJ2ZpbGVzJyBsaXN0LmA7XG4gIH1cbiAgcmV0dXJuIHRvb2x0aXA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlZEZpbGVUb29sdGlwKFxuICBmaWxlOiBQaWNrPENvbnRlbnRSZWNvcmRGaWxlLCBcInJlbFwiIHwgXCJyZWFzb25cIj4sXG4pIHtcbiAgbGV0IHRvb2x0aXAgPSBgJHtmaWxlLnJlbH0gd2lsbCBiZSBleGNsdWRlZCBpbiB0aGUgbmV4dCBkZXBsb3ltZW50LmA7XG4gIGlmIChmaWxlLnJlYXNvbikge1xuICAgIGlmIChmaWxlLnJlYXNvbi5zb3VyY2UgPT09IEZpbGVNYXRjaFNvdXJjZS5CVUlMVF9JTikge1xuICAgICAgdG9vbHRpcCArPSBgXFxuVGhpcyBpcyBhIGJ1aWx0LWluIGV4Y2x1c2lvbiBmb3IgdGhlIHBhdHRlcm46ICcke2ZpbGUucmVhc29uLnBhdHRlcm59JyBhbmQgY2Fubm90IGJlIG92ZXJyaWRkZW4uYDtcbiAgICB9IGVsc2UgaWYgKGZpbGUucmVhc29uLnNvdXJjZSA9PT0gRmlsZU1hdGNoU291cmNlLlBFUk1JU1NJT05TX0VSUk9SKSB7XG4gICAgICB0b29sdGlwICs9IFwiXFxuWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhpcyBkaXJlY3RvcnkuXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvb2x0aXAgKz0gYFxcblRoZSBjb25maWd1cmF0aW9uIGZpbGUgJHtmaWxlLnJlYXNvbj8uZmlsZU5hbWV9IGlzIGV4Y2x1ZGluZyBpdCB3aXRoIHRoZSBwYXR0ZXJuICcke2ZpbGUucmVhc29uPy5wYXR0ZXJufSdgO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0b29sdGlwICs9IGBcXG5JdCBkaWQgbm90IG1hdGNoIGFueSBwYXR0ZXJuIGluIHRoZSBjb25maWd1cmF0aW9uICdmaWxlcycgbGlzdC5gO1xuICB9XG4gIHJldHVybiB0b29sdGlwO1xufVxuIiwiPHRlbXBsYXRlPlxuICA8VHJlZUl0ZW1DaGVja2JveFxuICAgIDp0aXRsZT1cImZpbGUuYmFzZVwiXG4gICAgOmNoZWNrZWQ9XCJpc0luY2x1ZGVkXCJcbiAgICA6ZGlzYWJsZWQ9XCJpc0Rpc2FibGVkXCJcbiAgICA6bGlzdC1zdHlsZT1cImxpc3RTdHlsZVwiXG4gICAgOmRpc2FibGUtb3BhY2l0eT1cImlzRW50cnlwb2ludCB8fCBpc1BhY2thZ2VGaWxlXCJcbiAgICA6aW5kZW50LWxldmVsPVwiZmlsZS5pbmRlbnQgKyAxXCJcbiAgICA6ZXhwYW5kYWJsZT1cImZpbGUuaXNEaXJcIlxuICAgIDp0b29sdGlwPVwidG9vbHRpcFwiXG4gICAgOmFjdGlvbnM9XCJhY3Rpb25zXCJcbiAgICA6dmlydHVhbGl6ZWQ9XCJ0cnVlXCJcbiAgICBAY2hlY2s9XCJmaWxlU3RvcmUuaW5jbHVkZUZpbGUoZmlsZSlcIlxuICAgIEB1bmNoZWNrPVwiZmlsZVN0b3JlLmV4Y2x1ZGVGaWxlKGZpbGUpXCJcbiAgICBAZXhwYW5kPVwiZmlsZVN0b3JlLmV4cGFuZERpcihmaWxlKVwiXG4gICAgQGNvbGxhcHNlPVwiZmlsZVN0b3JlLmNvbGxhcHNlRGlyKGZpbGUpXCJcbiAgPlxuICAgIDx0ZW1wbGF0ZSAjcG9zdERlY29yPlxuICAgICAgPFBvc3REZWNvclxuICAgICAgICB2LWlmPVwiaXNCZWluZ0FkZGVkXCJcbiAgICAgICAgY2xhc3M9XCJ0ZXh0LWdpdC1hZGRlZFwiXG4gICAgICAgIDpkYXRhLWF1dG9tYXRpb249XCJgJHtmaWxlLmlkfS1kZWNvcmF0b3JgXCJcbiAgICAgID5cbiAgICAgICAgQVxuICAgICAgPC9Qb3N0RGVjb3I+XG4gICAgICA8UG9zdERlY29yIHYtaWY9XCJpc0JlaW5nUmVtb3ZlZFwiIGNsYXNzPVwidGV4dC1naXQtZGVsZXRlZFwiPlI8L1Bvc3REZWNvcj5cbiAgICA8L3RlbXBsYXRlPlxuICA8L1RyZWVJdGVtQ2hlY2tib3g+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCBUcmVlSXRlbUNoZWNrYm94IGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVJdGVtQ2hlY2tib3gudnVlXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IHVzZUZpbGVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2ZpbGVcIjtcbmltcG9ydCB7IEZsYXRGaWxlIH0gZnJvbSBcInNyYy91dGlscy9maWxlc1wiO1xuaW1wb3J0IHtcbiAgZXhjbHVkZWRGaWxlVG9vbHRpcCxcbiAgaW5jbHVkZWRGaWxlVG9vbHRpcCxcbn0gZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL3Byb2plY3RGaWxlcy90b29sdGlwc1wiO1xuaW1wb3J0IHsgaXNDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2FwaVwiO1xuXG4vKipcbiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgZm9yIGxpc3QgdmlydHVhbGl6YXRpb24uIEl0IG11c3QgYmUgcmVhY3RpdmUgdG8gdGhlXG4gKiBpdGVtIHByb3AgYmVpbmcgdXBkYXRlZCB3aXRob3V0IGJlaW5nIHJlLWNyZWF0ZWQuXG4gKiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Ba3J5dW0vdnVlLXZpcnR1YWwtc2Nyb2xsZXIvYmxvYi9tYXN0ZXIvcGFja2FnZXMvdnVlLXZpcnR1YWwtc2Nyb2xsZXIvUkVBRE1FLm1kI2ltcG9ydGFudC1ub3Rlc1xuICovXG5pbnRlcmZhY2UgUHJvcHMge1xuICBmaWxlOiBGbGF0RmlsZTtcbn1cblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuY29uc3QgZmlsZVN0b3JlID0gdXNlRmlsZVN0b3JlKCk7XG5cbmNvbnN0IGlzRGlzYWJsZWQgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHNvdXJjZSA9IHByb3BzLmZpbGUucmVhc29uPy5zb3VyY2U7XG4gIHJldHVybiAoXG4gICAgKGlzRW50cnlwb2ludC52YWx1ZSAmJiBpc0luY2x1ZGVkLnZhbHVlKSB8fFxuICAgIChpc1BhY2thZ2VGaWxlLnZhbHVlICYmIGlzSW5jbHVkZWQudmFsdWUpIHx8XG4gICAgc291cmNlID09PSBcImJ1aWx0LWluXCIgfHxcbiAgICBzb3VyY2UgPT09IFwicGVybWlzc2lvbnNcIlxuICApO1xufSk7XG5cbmNvbnN0IGlzSW5jbHVkZWQgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBCb29sZWFuKHByb3BzLmZpbGUucmVhc29uPy5leGNsdWRlID09PSBmYWxzZSk7XG59KTtcblxuY29uc3QgaW5MYXN0RGVwbG95ZWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBmaWxlU3RvcmUubGFzdERlcGxveWVkRmlsZXMuaGFzKHByb3BzLmZpbGUuaWQpO1xufSk7XG5cbmNvbnN0IGlzQmVpbmdBZGRlZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIHByb3BzLmZpbGUuaXNGaWxlICYmIGlzSW5jbHVkZWQudmFsdWUgJiYgIWluTGFzdERlcGxveWVkLnZhbHVlO1xufSk7XG5cbmNvbnN0IGlzQmVpbmdSZW1vdmVkID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gcHJvcHMuZmlsZS5pc0ZpbGUgJiYgIWlzSW5jbHVkZWQudmFsdWUgJiYgaW5MYXN0RGVwbG95ZWQudmFsdWU7XG59KTtcblxuY29uc3QgaXNFbnRyeXBvaW50ID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBjb25maWcgPSBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbjtcbiAgaWYgKGNvbmZpZyAhPSB1bmRlZmluZWQgJiYgIWlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICByZXR1cm4gcHJvcHMuZmlsZS5pZCA9PT0gY29uZmlnLmNvbmZpZ3VyYXRpb24uZW50cnlwb2ludDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcblxuY29uc3QgaXNQYWNrYWdlRmlsZSA9IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGlzUHl0aG9uUGFja2FnZUZpbGUudmFsdWUgfHwgaXNSUGFja2FnZUZpbGUudmFsdWU7XG59KTtcblxuY29uc3QgaXNQeXRob25QYWNrYWdlRmlsZSA9IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgY29uc3QgY29uZmlnID0gaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb247XG4gIGlmIChjb25maWcgIT0gdW5kZWZpbmVkICYmICFpc0NvbmZpZ3VyYXRpb25FcnJvcihjb25maWcpKSB7XG4gICAgcmV0dXJuIHByb3BzLmZpbGUuaWQgPT09IGNvbmZpZy5jb25maWd1cmF0aW9uLnB5dGhvbj8ucGFja2FnZUZpbGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbmNvbnN0IGlzUlBhY2thZ2VGaWxlID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBjb25maWcgPSBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbjtcbiAgaWYgKGNvbmZpZyAhPSB1bmRlZmluZWQgJiYgIWlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICByZXR1cm4gcHJvcHMuZmlsZS5pZCA9PT0gY29uZmlnLmNvbmZpZ3VyYXRpb24ucj8ucGFja2FnZUZpbGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbmNvbnN0IGxpc3RTdHlsZSA9IGNvbXB1dGVkKCgpOiBcImVtcGhhc2l6ZWRcIiB8IFwiZGVmYXVsdFwiIHwgXCJkZWVtcGhhc2l6ZWRcIiA9PiB7XG4gIHJldHVybiBpc0VudHJ5cG9pbnQudmFsdWVcbiAgICA/IFwiZW1waGFzaXplZFwiXG4gICAgOiBpc0luY2x1ZGVkLnZhbHVlXG4gICAgICA/IFwiZGVmYXVsdFwiXG4gICAgICA6IFwiZGVlbXBoYXNpemVkXCI7XG59KTtcblxuY29uc3QgdG9vbHRpcCA9IGNvbXB1dGVkKCgpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gaXNJbmNsdWRlZC52YWx1ZVxuICAgID8gaW5jbHVkZWRGaWxlVG9vbHRpcChwcm9wcy5maWxlLCB7XG4gICAgICAgIGlzRW50cnlwb2ludDogaXNFbnRyeXBvaW50LnZhbHVlLFxuICAgICAgICBpc1BhY2thZ2VGaWxlOiBpc1BhY2thZ2VGaWxlLnZhbHVlLFxuICAgICAgfSlcbiAgICA6IGV4Y2x1ZGVkRmlsZVRvb2x0aXAocHJvcHMuZmlsZSk7XG59KTtcblxuY29uc3QgYWN0aW9ucyA9IGNvbXB1dGVkKCgpOiBBY3Rpb25CdXR0b25bXSA9PiB7XG4gIGxldCBhY3Rpb25zOiBBY3Rpb25CdXR0b25bXSA9IFtdO1xuXG4gIGlmIChwcm9wcy5maWxlLmlzRmlsZSkge1xuICAgIGFjdGlvbnMucHVzaCh7XG4gICAgICBsYWJlbDogXCJPcGVuIGZpbGVcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1saW5rLWV4dGVybmFsXCIsXG4gICAgICBmbjogKCkgPT4ge1xuICAgICAgICBmaWxlU3RvcmUub3BlbkZpbGUocHJvcHMuZmlsZSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFjdGlvbnM7XG59KTtcbjwvc2NyaXB0PlxuIiwiPHRlbXBsYXRlPlxuICA8VHJlZVNlY3Rpb25cbiAgICBkYXRhLWF1dG9tYXRpb249XCJwcm9qZWN0LWZpbGVzXCJcbiAgICB0aXRsZT1cIlByb2plY3QgRmlsZXNcIlxuICAgIDphY3Rpb25zPVwiW1xuICAgICAge1xuICAgICAgICBsYWJlbDogJ1JlZnJlc2ggUHJvamVjdCBGaWxlcycsXG4gICAgICAgIGNvZGljb246ICdjb2RpY29uLXJlZnJlc2gnLFxuICAgICAgICBmbjogKCkgPT4gZmlsZVN0b3JlLnJlZnJlc2hGaWxlcyxcbiAgICAgIH0sXG4gICAgXVwiXG4gID5cbiAgICA8dGVtcGxhdGUgdi1pZj1cImZpbGVTdG9yZS5mbGF0RmlsZXMubGVuZ3RoXCI+XG4gICAgICA8UmVjeWNsZVNjcm9sbGVyXG4gICAgICAgIGNsYXNzPVwic2Nyb2xsZXJcIlxuICAgICAgICA6aXRlbXM9XCJmaWxlU3RvcmUuZmxhdEZpbGVzXCJcbiAgICAgICAgOml0ZW0tc2l6ZT1cIjIyXCJcbiAgICAgICAgdi1zbG90PVwieyBpdGVtIH1cIlxuICAgICAgPlxuICAgICAgICA8UHJvamVjdEZpbGUgOmZpbGU9XCJpdGVtXCIgLz5cbiAgICAgIDwvUmVjeWNsZVNjcm9sbGVyPlxuICAgIDwvdGVtcGxhdGU+XG4gICAgPHAgdi1lbHNlPk5vIGZpbGVzIGZvdW5kPC9wPlxuICA8L1RyZWVTZWN0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCBUcmVlU2VjdGlvbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlU2VjdGlvbi52dWVcIjtcbmltcG9ydCB7IHVzZUZpbGVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2ZpbGVcIjtcbmltcG9ydCBQcm9qZWN0RmlsZSBmcm9tIFwic3JjL2NvbXBvbmVudHMvdmlld3MvcHJvamVjdEZpbGVzL1Byb2plY3RGaWxlLnZ1ZVwiO1xuXG5jb25zdCBmaWxlU3RvcmUgPSB1c2VGaWxlU3RvcmUoKTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4uc2Nyb2xsZXIge1xuICBtYXgtaGVpZ2h0OiA1MDBweDtcbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJ3ZWxjb21lLXZpZXdcIj5cbiAgICA8c2xvdCAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+PC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiPlxuLndlbGNvbWUtdmlldyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGNvbG9yOiB2YXIoLS12c2NvZGUtZm9yZWdyb3VuZCk7XG4gIGxpbmUtaGVpZ2h0OiAxLjRlbTtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgcGFkZGluZzogMCAyMHB4IDFlbTtcblxuICAqIHtcbiAgICBtYXJnaW4tYmxvY2stZW5kOiAwO1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMWVtO1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDA7XG4gIH1cblxuICB2c2NvZGUtYnV0dG9uIHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXZcbiAgICBjbGFzcz1cInRyZWUtaXRlbVwiXG4gICAgOmNsYXNzPVwie1xuICAgICAgJ2FsaWduLWljb24td2l0aC10d2lzdHknOiBhbGlnbkljb25XaXRoVHdpc3R5LFxuICAgICAgY29sbGFwc2libGU6IGlzRXhwYW5kYWJsZSxcbiAgICAgICd0ZXh0LWxpc3QtZW1waGFzaXplZCc6IGxpc3RTdHlsZSA9PT0gJ2VtcGhhc2l6ZWQnLFxuICAgICAgJ3RleHQtZm9yZWdyb3VuZCc6IGxpc3RTdHlsZSA9PT0gJ2RlZmF1bHQnLFxuICAgICAgJ3RleHQtbGlzdC1kZWVtcGhhc2l6ZWQnOiBsaXN0U3R5bGUgPT09ICdkZWVtcGhhc2l6ZWQnLFxuICAgIH1cIlxuICA+XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJ0cmVlLWl0ZW0tY29udGFpbmVyXCJcbiAgICAgIDpjbGFzcz1cInZpcnR1YWxpemVkID8gJ2NsYXNzLWhvdmVyJyA6IHVuZGVmaW5lZFwiXG4gICAgICA6dGl0bGU9XCJ0b29sdGlwXCJcbiAgICAgIHYtb249XCJ7XG4gICAgICAgIGNsaWNrOiBpc0V4cGFuZGFibGUgPyB0b2dnbGVFeHBhbmRlZCA6IHVuZGVmaW5lZCxcbiAgICAgIH1cIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbmRlbnRcIj5cbiAgICAgICAgPGRpdiB2LWZvcj1cIl8gaW4gaW5kZW50TGV2ZWwgLSAxXCIgY2xhc3M9XCJpbmRlbnQtZ3VpZGVcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInR3aXN0eS1jb250YWluZXIgdGV4dC1pY29uXCJcbiAgICAgICAgOmNsYXNzPVwiW1xuICAgICAgICAgIHsgY29kaWNvbjogaXNFeHBhbmRhYmxlIH0sXG4gICAgICAgICAgZXhwYW5kYWJsZSB8fCAkc2xvdHMuZGVmYXVsdFxuICAgICAgICAgICAgPyBleHBhbmRlZFxuICAgICAgICAgICAgICA/ICdjb2RpY29uLWNoZXZyb24tZG93bidcbiAgICAgICAgICAgICAgOiAnY29kaWNvbi1jaGV2cm9uLXJpZ2h0J1xuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIF1cIlxuICAgICAgLz5cbiAgICAgIDxpXG4gICAgICAgIHYtaWY9XCJjb2RpY29uXCJcbiAgICAgICAgY2xhc3M9XCJ0cmVlLWl0ZW0taWNvbiB0ZXh0LWljb24gY29kaWNvblwiXG4gICAgICAgIDpjbGFzcz1cImNvZGljb25cIlxuICAgICAgLz5cbiAgICAgIDxpIHYtaWY9XCJwb3NpdEljb25cIiBjbGFzcz1cInRyZWUtaXRlbS1pY29uIHRleHQtaWNvblwiIDpjbGFzcz1cInBvc2l0SWNvblwiIC8+XG4gICAgICA8ZGl2IGNsYXNzPVwidHJlZS1pdGVtLWxhYmVsLWNvbnRhaW5lclwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInRyZWUtaXRlbS10aXRsZVwiIGRhdGEtYXV0b21hdGlvbj1cInJlcVwiPnt7IHRpdGxlIH19PC9zcGFuPlxuICAgICAgICA8c3BhbiB2LWlmPVwiJHNsb3RzLmRlc2NyaXB0aW9uXCIgY2xhc3M9XCJ0cmVlLWl0ZW0tZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICA8c2xvdCBuYW1lPVwiZGVzY3JpcHRpb25cIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIHYtZWxzZS1pZj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJ0cmVlLWl0ZW0tZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICB7eyBkZXNjcmlwdGlvbiB9fVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgdi1pZj1cImFjdGlvbnNcIiBjbGFzcz1cImFjdGlvbnNcIj5cbiAgICAgICAgPEFjdGlvblRvb2xiYXIgOnRpdGxlPVwidGl0bGVcIiA6YWN0aW9ucz1cImFjdGlvbnNcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHYtaWY9XCIkc2xvdHMucG9zdERlY29yXCI+XG4gICAgICAgIDxzbG90IG5hbWU9XCJwb3N0RGVjb3JcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IHYtc2hvdz1cImlzRXhwYW5kYWJsZSAmJiBleHBhbmRlZFwiIGNsYXNzPVwidHJlZS1pdGVtLWNoaWxkcmVuXCI+XG4gICAgICA8c2xvdCA6aW5kZW50LWxldmVsPVwiaW5kZW50TGV2ZWwgKyAxXCIgLz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCBBY3Rpb25Ub29sYmFyLCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9BY3Rpb25Ub29sYmFyLnZ1ZVwiO1xuXG5leHBvcnQgdHlwZSBUcmVlSXRlbVN0eWxlID0gXCJlbXBoYXNpemVkXCIgfCBcImRlZmF1bHRcIiB8IFwiZGVlbXBoYXNpemVkXCI7XG5cbmNvbnN0IGV4cGFuZGVkID0gZGVmaW5lTW9kZWwoXCJleHBhbmRlZFwiLCB7IHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogZmFsc2UgfSk7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGxpc3RTdHlsZT86IFRyZWVJdGVtU3R5bGU7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICB0b29sdGlwPzogc3RyaW5nO1xuICBhbGlnbkljb25XaXRoVHdpc3R5PzogYm9vbGVhbjtcbiAgY29kaWNvbj86IHN0cmluZztcbiAgcG9zaXRJY29uPzogc3RyaW5nO1xuICBhY3Rpb25zPzogQWN0aW9uQnV0dG9uW107XG4gIGluZGVudExldmVsPzogbnVtYmVyO1xuICBleHBhbmRhYmxlPzogYm9vbGVhbjtcbiAgdmlydHVhbGl6ZWQ/OiBib29sZWFuO1xufVxuXG5jb25zdCBwcm9wcyA9IHdpdGhEZWZhdWx0cyhkZWZpbmVQcm9wczxQcm9wcz4oKSwge1xuICBsaXN0U3R5bGU6IFwiZGVmYXVsdFwiLFxuICBpbmRlbnRMZXZlbDogMSxcbiAgZXhwYW5kYWJsZTogZmFsc2UsXG4gIHZpcnR1YWxpemVkOiBmYWxzZSxcbn0pO1xuXG5jb25zdCBzbG90cyA9IGRlZmluZVNsb3RzPHtcbiAgZGVmYXVsdD8ocHJvcHM6IHsgaW5kZW50TGV2ZWw6IG51bWJlciB9KTogYW55O1xuICBkZXNjcmlwdGlvbj8oKTogYW55O1xuICBwb3N0RGVjb3I/KCk6IGFueTtcbn0+KCk7XG5cbmNvbnN0IGVtaXRzID0gZGVmaW5lRW1pdHMoW1wiZXhwYW5kXCIsIFwiY29sbGFwc2VcIl0pO1xuXG5jb25zdCB0b2dnbGVFeHBhbmRlZCA9ICgpID0+IHtcbiAgZXhwYW5kZWQudmFsdWUgPSAhZXhwYW5kZWQudmFsdWU7XG4gIGVtaXRzKGV4cGFuZGVkLnZhbHVlID8gXCJleHBhbmRcIiA6IFwiY29sbGFwc2VcIik7XG59O1xuXG5jb25zdCBpc0V4cGFuZGFibGUgPSBjb21wdXRlZCgoKTogQm9vbGVhbiA9PiB7XG4gIHJldHVybiBCb29sZWFuKHNsb3RzLmRlZmF1bHQgfHwgcHJvcHMuZXhwYW5kYWJsZSk7XG59KTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4udHJlZS1pdGVtIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICYuYWxpZ24taWNvbi13aXRoLXR3aXN0eTpub3QoLmNvbGxhcHNpYmxlKSAudHdpc3R5LWNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmctcmlnaHQ6IDAgIWltcG9ydGFudDtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgfVxuXG4gIC50cmVlLWl0ZW0tY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwYWRkaW5nLWxlZnQ6IGNhbGModi1iaW5kKGluZGVudExldmVsKSAqIDhweCk7XG4gICAgcGFkZGluZy1yaWdodDogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdG91Y2gtYWN0aW9uOiBub25lO1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuXG4gICAgLmluZGVudCB7XG4gICAgICB3aWR0aDogY2FsYyh2LWJpbmQoaW5kZW50TGV2ZWwpICogOHB4KTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDE2cHg7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcblxuICAgICAgLmluZGVudC1ndWlkZSB7XG4gICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjFzIGxpbmVhcjtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnR3aXN0eS1jb250YWluZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gICAgICB3aWR0aDogMjJweDtcbiAgICB9XG5cbiAgICAudHJlZS1pdGVtLWljb24ge1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IDA7XG4gICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgICAgYmFja2dyb3VuZC1zaXplOiAxNnB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGhlaWdodDogMjJweDtcbiAgICAgIHdpZHRoOiAyMnB4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gICAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICB9XG5cbiAgICAudHJlZS1pdGVtLWxhYmVsLWNvbnRhaW5lciB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcblxuICAgICAgLnRyZWUtaXRlbS10aXRsZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZTtcbiAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIH1cblxuICAgICAgLnRyZWUtaXRlbS1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBtYXJnaW4tbGVmdDogMC41ZW07XG4gICAgICAgIGZsZXgtc2hyaW5rOiAxMDAwMDA7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBwcmU7XG4gICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG5cbiAgICAgICAgJjpub3QoOmhhcyhpbnB1dCkpIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAuYWN0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgbWF4LXdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgIGZsZXgtZ3JvdzogMTAwO1xuICAgIH1cblxuICAgIC5ob3ZlciAmLmNsYXNzLWhvdmVyLFxuICAgICY6bm90KC5jbGFzcy1ob3Zlcik6aG92ZXIge1xuICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyRm9yZWdyb3VuZCwgdmFyKC0tdnNjb2RlLWZvcmVncm91bmQpKTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyQmFja2dyb3VuZCk7XG5cbiAgICAgIC5pbmRlbnQgLmluZGVudC1ndWlkZSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdnNjb2RlLXRyZWUtaW5hY3RpdmVJbmRlbnRHdWlkZXNTdHJva2UpO1xuICAgICAgfVxuXG4gICAgICAudHJlZS1pdGVtLXRpdGxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyRm9yZWdyb3VuZCwgdmFyKC0tdnNjb2RlLWZvcmVncm91bmQpKTtcbiAgICAgIH1cblxuICAgICAgLnRyZWUtaXRlbS1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtbGlzdC1ob3ZlckZvcmVncm91bmQsIHZhcigtLXZzY29kZS1mb3JlZ3JvdW5kKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmhvdmVyICYuY2xhc3MtaG92ZXIgLmFjdGlvbnMsXG4gICAgJjpub3QoLmNsYXNzLWhvdmVyKTpob3ZlciAuYWN0aW9ucyxcbiAgICAmOmZvY3VzLXdpdGhpbiAuYWN0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBpbml0aWFsO1xuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPGlucHV0XG4gICAgdi1tb2RlbD1cIm1vZGVsXCJcbiAgICByZWY9XCJpbnB1dFwiXG4gICAgY2xhc3M9XCJzaWRlYmFyLWlucHV0XCJcbiAgICA6YXJpYS1sYWJlbD1cImFyaWFMYWJlbFwiXG4gICAgQGtleWRvd24ucHJldmVudC5lbnRlcj1cIiRlbWl0KCdzdWJtaXQnKVwiXG4gICAgQGtleWRvd24uZXNjYXBlPVwiJGVtaXQoJ2NhbmNlbCcpXCJcbiAgLz5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyBjb21wdXRlZCwgcmVmIH0gZnJvbSBcInZ1ZVwiO1xuY29uc3QgbW9kZWwgPSBkZWZpbmVNb2RlbCgpO1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgbGFiZWw6IHN0cmluZztcbn0+KCk7XG5cbmRlZmluZUVtaXRzKFtcInN1Ym1pdFwiLCBcImNhbmNlbFwiXSk7XG5cbmNvbnN0IGlucHV0ID0gcmVmPEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPihudWxsKTtcblxuY29uc3QgYXJpYUxhYmVsID0gY29tcHV0ZWQoXG4gICgpID0+IGAke3Byb3BzLmxhYmVsfS4gUHJlc3MgRW50ZXIgdG8gY29uZmlybSBvciBFc2NhcGUgdG8gY2FuY2VsLmAsXG4pO1xuXG5jb25zdCBzZWxlY3QgPSAoKSA9PiB7XG4gIGlucHV0LnZhbHVlPy5zZWxlY3QoKTtcbn07XG5cbmRlZmluZUV4cG9zZSh7IHNlbGVjdCB9KTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4uc2lkZWJhci1pbnB1dCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1pbnB1dC1iYWNrZ3JvdW5kKTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tdnNjb2RlLWlucHV0LWJvcmRlciwgdHJhbnNwYXJlbnQpO1xuICBjb2xvcjogdmFyKC0tdnNjb2RlLWlucHV0LWZvcmVncm91bmQpO1xuICBsaW5lLWhlaWdodDogMjBweDtcbiAgcGFkZGluZzogMDtcbiAgb3V0bGluZS1jb2xvcjogdmFyKC0tdnNjb2RlLWZvY3VzQm9yZGVyKTtcbiAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gIG91dGxpbmUtc3R5bGU6IHNvbGlkO1xuICBvdXRsaW5lLXdpZHRoOiAxcHg7XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8VHJlZUl0ZW1cbiAgICA6dGl0bGU9XCJuYW1lXCJcbiAgICA6YWN0aW9ucz1cImFjdGlvbnNcIlxuICAgIDpjb2RpY29uPVwiXG4gICAgICBuZWVkc1ZhbHVlXG4gICAgICAgID8gJ2NvZGljb24td2FybmluZydcbiAgICAgICAgOiBzZWNyZXRWYWx1ZVxuICAgICAgICAgID8gJ2NvZGljb24tY2xvdWQtdXBsb2FkJ1xuICAgICAgICAgIDogJ2NvZGljb24tY2hlY2snXG4gICAgXCJcbiAgICA6bGlzdC1zdHlsZT1cIlxuICAgICAgbmVlZHNWYWx1ZSB8fCBzZWNyZXRWYWx1ZSB8fCBpc0VkaXRpbmcgPyAnZGVmYXVsdCcgOiAnZGVlbXBoYXNpemVkJ1xuICAgIFwiXG4gICAgOnRvb2x0aXA9XCJ0b29sdGlwXCJcbiAgICBhbGlnbi1pY29uLXdpdGgtdHdpc3R5XG4gICAgOmRhdGEtdnNjb2RlLWNvbnRleHQ9XCJ2c2NvZGVDb250ZXh0XCJcbiAgPlxuICAgIDx0ZW1wbGF0ZSAjZGVzY3JpcHRpb24+XG4gICAgICA8U2lkZWJhcklucHV0XG4gICAgICAgIHYtaWY9XCJpc0VkaXRpbmdcIlxuICAgICAgICByZWY9XCJpbnB1dFwiXG4gICAgICAgIHYtbW9kZWw9XCJpbnB1dFZhbHVlXCJcbiAgICAgICAgY2xhc3M9XCJ3LWZ1bGxcIlxuICAgICAgICBsYWJlbD1cIlR5cGUgc2VjcmV0IHZhbHVlXCJcbiAgICAgICAgQHN1Ym1pdD1cInVwZGF0ZVNlY3JldFwiXG4gICAgICAgIEBjYW5jZWw9XCJpc0VkaXRpbmcgPSBmYWxzZVwiXG4gICAgICAvPlxuICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cIiFuZWVkc1ZhbHVlXCI+4oCi4oCi4oCi4oCi4oCi4oCiPC90ZW1wbGF0ZT5cbiAgICA8L3RlbXBsYXRlPlxuICA8L1RyZWVJdGVtPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIG5leHRUaWNrIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgVHJlZUl0ZW0gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW0udnVlXCI7XG5pbXBvcnQgU2lkZWJhcklucHV0IGZyb20gXCJzcmMvY29tcG9uZW50cy9TaWRlYmFySW5wdXQudnVlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbmFtZTogc3RyaW5nO1xufVxuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFByb3BzPigpO1xuXG5jb25zdCBpbnB1dCA9IHJlZjxJbnN0YW5jZVR5cGU8dHlwZW9mIFNpZGViYXJJbnB1dD4gfCBudWxsPihudWxsKTtcbmNvbnN0IGlzRWRpdGluZyA9IHJlZihmYWxzZSk7XG5jb25zdCBpbnB1dFZhbHVlID0gcmVmPHN0cmluZz4oKTtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuXG5jb25zdCBzZWNyZXRWYWx1ZSA9IGNvbXB1dGVkKCgpID0+IGhvbWUuc2VjcmV0cy5nZXQocHJvcHMubmFtZSkpO1xuXG5jb25zdCBvblNlcnZlciA9IGNvbXB1dGVkKCgpID0+IGhvbWUuc2VydmVyU2VjcmV0cy5oYXMocHJvcHMubmFtZSkpO1xuXG5jb25zdCBuZWVkc1ZhbHVlID0gY29tcHV0ZWQoKCkgPT4gIXNlY3JldFZhbHVlLnZhbHVlICYmICFvblNlcnZlci52YWx1ZSk7XG5cbmNvbnN0IGlucHV0U2VjcmV0ID0gKCkgPT4ge1xuICAvLyBVcGRhdGUgaW5wdXRWYWx1ZSBpbiBjYXNlIHRoZSBzZWNyZXQgdmFsdWUgaGFzIGNoYW5nZWQgb3IgYmVlbiBjbGVhcmVkXG4gIGlucHV0VmFsdWUudmFsdWUgPSBzZWNyZXRWYWx1ZS52YWx1ZTtcbiAgaXNFZGl0aW5nLnZhbHVlID0gdHJ1ZTtcbiAgLy8gV2FpdCBmb3IgbmV4dCB0aWNrIHRvIGVuc3VyZSB0aGUgaW5wdXQgaXMgcmVuZGVyZWRcbiAgbmV4dFRpY2soKCkgPT4gaW5wdXQudmFsdWU/LnNlbGVjdCgpKTtcbn07XG5cbmNvbnN0IHVwZGF0ZVNlY3JldCA9ICgpID0+IHtcbiAgaG9tZS5zZWNyZXRzLnNldChwcm9wcy5uYW1lLCBpbnB1dFZhbHVlLnZhbHVlKTtcbiAgaXNFZGl0aW5nLnZhbHVlID0gZmFsc2U7XG59O1xuXG5jb25zdCB0b29sdGlwID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAob25TZXJ2ZXIudmFsdWUpIHtcbiAgICBpZiAoc2VjcmV0VmFsdWUudmFsdWUpIHtcbiAgICAgIHJldHVybiBcIk9uIHRoZSBuZXh0IGRlcGxveSB0aGUgc2VjcmV0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJUaGUgdmFsdWUgaXMgc2V0IG9uIHRoZSBzZXJ2ZXIuIFNldCBhIG5ldyB2YWx1ZSB0byBvdmVyd3JpdGUgaXQgb24gdGhlIG5leHQgZGVwbG95LlwiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc2VjcmV0VmFsdWUudmFsdWUpIHtcbiAgICAgIHJldHVybiBcIk9uIHRoZSBuZXh0IGRlcGxveSB0aGUgc2VjcmV0IHdpbGwgYmUgc2V0LlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJUaGUgc2VjcmV0IHdpbGwgbm90IGJlIGNyZWF0ZWQgb24gdGhlIG5leHQgZGVwbG95IHdpdGhvdXQgYSB2YWx1ZS4gU2V0IGEgdmFsdWUgdG8gc2V0IGl0LlwiO1xuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGFjdGlvbnMgPSBjb21wdXRlZDxBY3Rpb25CdXR0b25bXT4oKCkgPT4ge1xuICAvLyBTaG93IG5vIGFjdGlvbnMgd2hpbGUgdGhlIHZhbHVlIGlzIGJlaW5nIGVkaXRlZFxuICBpZiAoaXNFZGl0aW5nLnZhbHVlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gW1xuICAgIHtcbiAgICAgIGxhYmVsOiBcIkVkaXQgVmFsdWVcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1zeW1ib2wtc3RyaW5nXCIsXG4gICAgICBmbjogaW5wdXRTZWNyZXQsXG4gICAgfSxcbiAgXTtcblxuICBpZiAoc2VjcmV0VmFsdWUudmFsdWUpIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBsYWJlbDogXCJDbGVhciBWYWx1ZVwiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLXJlbW92ZVwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgaG9tZS5zZWNyZXRzLnNldChwcm9wcy5uYW1lLCB1bmRlZmluZWQpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuY29uc3QgdnNjb2RlQ29udGV4dCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgIHdlYnZpZXdTZWN0aW9uOiBcInNlY3JldHMtdHJlZS1pdGVtXCIsXG4gICAgcHJldmVudERlZmF1bHRDb250ZXh0TWVudUl0ZW1zOiB0cnVlLFxuICB9KTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCI8dGVtcGxhdGU+XG4gIDxUcmVlU2VjdGlvblxuICAgIHRpdGxlPVwiU2VjcmV0c1wiXG4gICAgOmFjdGlvbnM9XCJzZWN0aW9uQWN0aW9uc1wiXG4gICAgOmNvdW50PVwiaG9tZS5zZWNyZXRzV2l0aFZhbHVlQ291bnRcIlxuICA+XG4gICAgPHRlbXBsYXRlIHYtaWY9XCJob21lLnNlY3JldHMuc2l6ZVwiPlxuICAgICAgPFNlY3JldCB2LWZvcj1cIltuYW1lXSBpbiBob21lLnNlY3JldHNcIiA6bmFtZT1cIm5hbWVcIiA6a2V5PVwibmFtZVwiIC8+XG4gICAgPC90ZW1wbGF0ZT5cbiAgICA8V2VsY29tZVZpZXcgdi1lbHNlPlxuICAgICAgPHA+Tm8gc2VjcmV0cyBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGNvbmZpZ3VyYXRpb24uPC9wPlxuICAgIDwvV2VsY29tZVZpZXc+XG4gIDwvVHJlZVNlY3Rpb24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9BY3Rpb25Ub29sYmFyLnZ1ZVwiO1xuaW1wb3J0IFRyZWVTZWN0aW9uIGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVTZWN0aW9uLnZ1ZVwiO1xuaW1wb3J0IFdlbGNvbWVWaWV3IGZyb20gXCJzcmMvY29tcG9uZW50cy9XZWxjb21lVmlldy52dWVcIjtcbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCBTZWNyZXQgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL3NlY3JldHMvU2VjcmV0LnZ1ZVwiO1xuaW1wb3J0IHsgdXNlSG9zdENvbmR1aXRTZXJ2aWNlIH0gZnJvbSBcInNyYy9Ib3N0Q29uZHVpdFNlcnZpY2VcIjtcblxuaW1wb3J0IHsgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXNcIjtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuY29uc3QgeyBzZW5kTXNnIH0gPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcblxuY29uc3Qgc2VjdGlvbkFjdGlvbnMgPSBjb21wdXRlZDxBY3Rpb25CdXR0b25bXT4oKCkgPT4ge1xuICBjb25zdCByZXN1bHQ6IEFjdGlvbkJ1dHRvbltdID0gW1xuICAgIHtcbiAgICAgIGxhYmVsOiBcIkFkZCBTZWNyZXRcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1hZGRcIixcbiAgICAgIGZuOiAoKSA9PiB7XG4gICAgICAgIHNlbmRNc2coe1xuICAgICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5BRERfU0VDUkVULFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcblxuICBpZiAoaG9tZS5zZWNyZXRzV2l0aFZhbHVlQ291bnQgPiAwKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgbGFiZWw6IFwiQ2xlYXIgVmFsdWVzIGZvciBhbGwgU2VjcmV0c1wiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLWNsZWFyLWFsbFwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgaG9tZS5zZWNyZXRzLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgICAgIGhvbWUuc2VjcmV0cy5zZXQoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufSk7XG48L3NjcmlwdD5cbiIsIjx0ZW1wbGF0ZT5cbiAgPFRyZWVTZWN0aW9uXG4gICAgdGl0bGU9XCJJbnRlZ3JhdGlvbiBSZXF1ZXN0c1wiXG4gICAgZGF0YS1hdXRvbWF0aW9uPVwicHVibGlzaGVyLWludGVncmF0aW9uUmVxdWVzdHMtc2VjdGlvblwiXG4gICAgOmFjdGlvbnM9XCJzZWN0aW9uQWN0aW9uc1wiXG4gID5cbiAgICA8V2VsY29tZVZpZXdcbiAgICAgIHYtaWY9XCJob21lLnNlcnZlclNldHRpbmdzICE9PSB1bmRlZmluZWQgJiYgIWlzT0F1dGhJbnRlZ3JhdGlvbnNTdXBwb3J0ZWRcIlxuICAgID5cbiAgICAgIDxwPlxuICAgICAgICBPQXV0aCBJbnRlZ3JhdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCB5b3VyIGN1cnJlbnQgc2VydmVyXG4gICAgICAgIGNvbmZpZ3VyYXRpb24gb3IgbGljZW5zZS4gUGxlYXNlIGNvbnRhY3QgeW91ciBzZXJ2ZXIgYWRtaW5pc3RyYXRvciBmb3JcbiAgICAgICAgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgIDwvcD5cbiAgICA8L1dlbGNvbWVWaWV3PlxuICAgIDxXZWxjb21lVmlldyB2LWVsc2UtaWY9XCIhaG9tZS5pbnRlZ3JhdGlvblJlcXVlc3RzLmxlbmd0aFwiPlxuICAgICAgPHA+Tm8gaW50ZWdyYXRpb24gcmVxdWVzdHMgaGF2ZSBiZWVuIGFkZGVkIHlldC48L3A+XG4gICAgPC9XZWxjb21lVmlldz5cbiAgICA8VHJlZUl0ZW1cbiAgICAgIHYtZWxzZVxuICAgICAgdi1mb3I9XCJpbnRlZ3JhdGlvblJlcXVlc3QgaW4gaG9tZS5pbnRlZ3JhdGlvblJlcXVlc3RzXCJcbiAgICAgIDp0aXRsZT1cImludGVncmF0aW9uUmVxdWVzdC5kaXNwbGF5TmFtZSA/PyAnJ1wiXG4gICAgICA6ZGVzY3JpcHRpb249XCJpbnRlZ3JhdGlvblJlcXVlc3QuZGlzcGxheURlc2NyaXB0aW9uID8/ICcnXCJcbiAgICAgIDpkYXRhLWF1dG9tYXRpb249XCJgaW50ZWdyYXRpb24tcmVxdWVzdC0ke2ludGVncmF0aW9uUmVxdWVzdC5uYW1lIHx8ICcnfS1saXN0YFwiXG4gICAgICBjb2RpY29uPVwicG9zaXQtcHVibGlzaGVyLWljb25zLXBvc2l0LWxvZ29cIlxuICAgICAgOmFjdGlvbnM9XCJnZXRJbnRlZ3JhdGlvblJlcXVlc3RBY3Rpb25zKGludGVncmF0aW9uUmVxdWVzdClcIlxuICAgICAgYWxpZ24taWNvbi13aXRoLXR3aXN0eVxuICAgIC8+XG4gIDwvVHJlZVNlY3Rpb24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCBUcmVlU2VjdGlvbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlU2VjdGlvbi52dWVcIjtcbmltcG9ydCBUcmVlSXRlbSBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlSXRlbS52dWVcIjtcbmltcG9ydCBXZWxjb21lVmlldyBmcm9tIFwic3JjL2NvbXBvbmVudHMvV2VsY29tZVZpZXcudnVlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuXG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuaW1wb3J0IHsgSW50ZWdyYXRpb25SZXF1ZXN0IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NyYy9hcGlcIjtcblxuY29uc3QgeyBzZW5kTXNnIH0gPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcblxuY29uc3QgaXNPQXV0aEludGVncmF0aW9uc1N1cHBvcnRlZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgY29uc3QgdmFsaWRMaWNlbnNlID1cbiAgICBob21lLnNlcnZlclNldHRpbmdzPy5saWNlbnNlPy5bXCJvYXV0aC1pbnRlZ3JhdGlvbnNcIl0gPz8gZmFsc2U7XG4gIGNvbnN0IG9hdXRoSW50ZWdyYXRpb25zRW5hYmxlZCA9XG4gICAgaG9tZS5zZXJ2ZXJTZXR0aW5ncz8ub2F1dGhfaW50ZWdyYXRpb25zX2VuYWJsZWQgPz8gZmFsc2U7XG4gIHJldHVybiB2YWxpZExpY2Vuc2UgJiYgb2F1dGhJbnRlZ3JhdGlvbnNFbmFibGVkO1xufSk7XG5cbmNvbnN0IHNlY3Rpb25BY3Rpb25zID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAoIWlzT0F1dGhJbnRlZ3JhdGlvbnNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gW1xuICAgIHtcbiAgICAgIGxhYmVsOiBcIkFkZCBJbnRlZ3JhdGlvbiBSZXF1ZXN0XCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tYWRkXCIsXG4gICAgICBmbjogKCkgPT4ge1xuICAgICAgICBzZW5kTXNnKHtcbiAgICAgICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQUREX0lOVEVHUkFUSU9OX1JFUVVFU1QsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICBdO1xuXG4gIGlmIChob21lLmludGVncmF0aW9uUmVxdWVzdHMubGVuZ3RoID4gMCkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIGxhYmVsOiBcIkNsZWFyIGFsbCBJbnRlZ3JhdGlvbiBSZXF1ZXN0c1wiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLWNsZWFyLWFsbFwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgc2VuZE1zZyh7XG4gICAgICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkNMRUFSX0FMTF9JTlRFR1JBVElPTl9SRVFVRVNUUyxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuY29uc3QgZ2V0SW50ZWdyYXRpb25SZXF1ZXN0QWN0aW9ucyA9IChcbiAgaW50ZWdyYXRpb25SZXF1ZXN0OiBJbnRlZ3JhdGlvblJlcXVlc3QsXG4pID0+IFtcbiAge1xuICAgIGxhYmVsOiBcIkRlbGV0ZSBJbnRlZ3JhdGlvbiBSZXF1ZXN0XCIsXG4gICAgY29kaWNvbjogXCJjb2RpY29uLXRyYXNoXCIsXG4gICAgZm46ICgpID0+XG4gICAgICBzZW5kTXNnKHtcbiAgICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkRFTEVURV9JTlRFR1JBVElPTl9SRVFVRVNULFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgcmVxdWVzdDogaW50ZWdyYXRpb25SZXF1ZXN0LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gIH0sXG5dO1xuPC9zY3JpcHQ+XG4iLCI8dGVtcGxhdGU+XG4gIDxUcmVlU2VjdGlvblxuICAgIHRpdGxlPVwiUHl0aG9uIFBhY2thZ2VzXCJcbiAgICBkYXRhLWF1dG9tYXRpb249XCJweXRob24tcGFja2FnZXNcIlxuICAgIDphY3Rpb25zPVwicHl0aG9uUGFja2FnZUFjdGlvbnNcIlxuICAgIDpjb2RpY29uPVwiaG9tZS5weXRob24uYWN0aXZlLmlzQWxlcnRBY3RpdmUgPyBgY29kaWNvbi1hbGVydGAgOiBgYFwiXG4gID5cbiAgICA8V2VsY29tZVZpZXcgdi1pZj1cInNob3dXZWxjb21lVmlld1wiPlxuICAgICAgPHRlbXBsYXRlIHYtaWY9XCJob21lLnB5dGhvbi5hY3RpdmUuaXNNaXNzaW5nUmVxdWlyZW1lbnRzXCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIFRvIGRlcGxveSBQeXRob24gY29udGVudCwgeW91IG5lZWQgYSBwYWNrYWdlIGZpbGUgbGlzdGluZyBhbnkgcGFja2FnZVxuICAgICAgICAgIGRlcGVuZGVuY2llcywgYnV0IHRoZSBmaWxlIGRvZXMgbm90IGV4aXN0LiBDbGljayBTY2FuIHRvIGNyZWF0ZSBvbmVcbiAgICAgICAgICBiYXNlZCBvbiB0aGUgZmlsZXMgaW4geW91ciBwcm9qZWN0IGFuZCB5b3VyIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHZzY29kZS1idXR0b24gQGNsaWNrPVwib25TY2FuRm9yUGFja2FnZVJlcXVpcmVtZW50cygpXCI+XG4gICAgICAgICAgU2NhblxuICAgICAgICA8L3ZzY29kZS1idXR0b24+XG4gICAgICA8L3RlbXBsYXRlPlxuICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cIiFob21lLnB5dGhvbi5hY3RpdmUuaXNJblByb2plY3RcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgVGhpcyBwcm9qZWN0IGlzIG5vdCBjb25maWd1cmVkIHRvIHVzZSBQeXRob24uIFRvIGNvbmZpZ3VyZSBQeXRob24sIGFkZFxuICAgICAgICAgIGEgW3B5dGhvbl0gc2VjdGlvbiB0byB5b3VyIGNvbmZpZ3VyYXRpb24gZmlsZS5cbiAgICAgICAgPC9wPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCJob21lLnB5dGhvbi5hY3RpdmUuaXNFbXB0eVJlcXVpcmVtZW50c1wiPlxuICAgICAgICA8cD5cbiAgICAgICAgICBUaGlzIHByb2plY3QgY3VycmVudGx5IGhhcyBubyBQeXRob24gcGFja2FnZSByZXF1aXJlbWVudHMuIElmIHRoaXMgaXNcbiAgICAgICAgICBub3QgYWNjdXJhdGUsIGNsaWNrIFNjYW4gdG8gdXBkYXRlIGJhc2VkIG9uIHRoZSBmaWxlcyBpbiB5b3VyIHByb2plY3RcbiAgICAgICAgICBhbmQgY29uZmlndXJhdGlvbi5cbiAgICAgICAgPC9wPlxuICAgICAgICA8dnNjb2RlLWJ1dHRvbiBAY2xpY2s9XCJvblNjYW5Gb3JQYWNrYWdlUmVxdWlyZW1lbnRzKClcIj5cbiAgICAgICAgICBTY2FuXG4gICAgICAgIDwvdnNjb2RlLWJ1dHRvbj5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9XZWxjb21lVmlldz5cbiAgICA8dGVtcGxhdGUgdi1lbHNlPlxuICAgICAgPFRyZWVJdGVtXG4gICAgICAgIHYtZm9yPVwicGtnIGluIGhvbWUucHl0aG9uUGFja2FnZXNcIlxuICAgICAgICA6a2V5PVwicGtnXCJcbiAgICAgICAgOnRpdGxlPVwicGtnXCJcbiAgICAgICAgY29kaWNvbj1cImNvZGljb24tcGFja2FnZVwiXG4gICAgICAgIGFsaWduLWljb24td2l0aC10d2lzdHlcbiAgICAgIC8+XG4gICAgPC90ZW1wbGF0ZT5cbiAgPC9UcmVlU2VjdGlvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgVHJlZUl0ZW0gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW0udnVlXCI7XG5pbXBvcnQgVHJlZVNlY3Rpb24gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlXCI7XG5pbXBvcnQgV2VsY29tZVZpZXcgZnJvbSBcInNyYy9jb21wb25lbnRzL1dlbGNvbWVWaWV3LnZ1ZVwiO1xuXG5pbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gXCJ2dWVcIjtcblxuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuaW1wb3J0IHsgdXNlSG9zdENvbmR1aXRTZXJ2aWNlIH0gZnJvbSBcInNyYy9Ib3N0Q29uZHVpdFNlcnZpY2VcIjtcbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tIFwiLi4vQWN0aW9uVG9vbGJhci52dWVcIjtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuY29uc3QgaG9zdENvbmR1aXQgPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcblxuY29uc3Qgb25SZWZyZXNoID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9QWVRIT05fUEFDS0FHRVMsXG4gIH0pO1xufTtcblxuY29uc3Qgb25TY2FuRm9yUGFja2FnZVJlcXVpcmVtZW50cyA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNDQU5fUFlUSE9OX1BBQ0tBR0VfUkVRVUlSRU1FTlRTLFxuICB9KTtcbn07XG5cbmNvbnN0IG9uRWRpdFJlcXVpcmVtZW50c0ZpbGUgPSAoKSA9PiB7XG4gIGlmICghaG9tZS5weXRob25QYWNrYWdlRmlsZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVlNDT0RFX09QRU5fUkVMQVRJVkUsXG4gICAgY29udGVudDoge1xuICAgICAgcmVsYXRpdmVQYXRoOiBob21lLnB5dGhvblBhY2thZ2VGaWxlLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3QgcHl0aG9uUGFja2FnZUFjdGlvbnMgPSBjb21wdXRlZCgoKTogQWN0aW9uQnV0dG9uW10gPT4ge1xuICBjb25zdCByZXN1bHQ6IEFjdGlvbkJ1dHRvbltdID0gW107XG4gIC8vIGlmIHdlIGhhdmUgbm8gcmVxdWlyZW1lbnRzIGZpbGUsIHNvIHdlIGNhbid0IGVkaXQgb3Igc2NhblxuICBpZiAoQm9vbGVhbihob21lLnB5dGhvblBhY2thZ2VGaWxlKSkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIGxhYmVsOiBcIkVkaXQgUGFja2FnZSBSZXF1aXJlbWVudHMgRmlsZVwiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLWVkaXRcIixcbiAgICAgIGZuOiBvbkVkaXRSZXF1aXJlbWVudHNGaWxlLFxuICAgIH0pO1xuICB9XG4gIHJlc3VsdC5wdXNoKHtcbiAgICBsYWJlbDogXCJSZWZyZXNoIFBhY2thZ2VzXCIsXG4gICAgY29kaWNvbjogXCJjb2RpY29uLXJlZnJlc2hcIixcbiAgICBmbjogb25SZWZyZXNoLFxuICB9KTtcbiAgaWYgKEJvb2xlYW4oaG9tZS5weXRob25QYWNrYWdlRmlsZSkpIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBsYWJlbDogXCJTY2FuIEZvciBQYWNrYWdlIFJlcXVpcmVtZW50c1wiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLWV5ZVwiLFxuICAgICAgZm46IG9uU2NhbkZvclBhY2thZ2VSZXF1aXJlbWVudHMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG5jb25zdCBzaG93V2VsY29tZVZpZXcgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgIWhvbWUucHl0aG9uLmFjdGl2ZS5pc0luUHJvamVjdCB8fFxuICAgIGhvbWUucHl0aG9uLmFjdGl2ZS5pc0VtcHR5UmVxdWlyZW1lbnRzIHx8XG4gICAgaG9tZS5weXRob24uYWN0aXZlLmlzTWlzc2luZ1JlcXVpcmVtZW50c1xuICApO1xufSk7XG48L3NjcmlwdD5cbiIsIjx0ZW1wbGF0ZT5cbiAgPFRyZWVTZWN0aW9uXG4gICAgdGl0bGU9XCJSIFBhY2thZ2VzXCJcbiAgICBkYXRhLWF1dG9tYXRpb249XCJyLXBhY2thZ2VzXCJcbiAgICA6YWN0aW9ucz1cInJQYWNrYWdlQWN0aW9uc1wiXG4gID5cbiAgICA8V2VsY29tZVZpZXcgdi1pZj1cInNob3dXZWxjb21lVmlld1wiPlxuICAgICAgPHRlbXBsYXRlIHYtaWY9XCJtaXNzaW5nT3JJbnZhbGlkUGFja2FnZUZpbGVcIj5cbiAgICAgICAgPHA+RGVwZW5kZW5jaWVzIHdpbGwgYmUgZGV0ZWN0ZWQgYXV0b21hdGljYWxseS48L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIEFsdGVybmF0aXZlbHksIHNldCB1cCByZW52IHRvIHVzZSBhbiBpc29sYXRlZCBsaWJyYXJ5IGFuZCBjcmVhdGUgYVxuICAgICAgICAgIGxvY2tmaWxlLlxuICAgICAgICAgIDxhIGNsYXNzPVwid2Vidmlldy1saW5rXCIgcm9sZT1cImJ1dHRvblwiIEBjbGljaz1cIm9uVmlld1JlbnZEb2NcIlxuICAgICAgICAgICAgPlNlZSB0aGUgcmVudiBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGRldGFpbHMuPC9hXG4gICAgICAgICAgPlxuICAgICAgICA8L3A+XG4gICAgICAgIDx2c2NvZGUtYnV0dG9uXG4gICAgICAgICAgQGNsaWNrPVwib25TZXR1cFJlbnYoKVwiXG4gICAgICAgICAgOmRpc2FibGVkPVwiaXNTZXR0aW5nVXBSZW52XCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiU2V0IFVwIHJlbnZcIlxuICAgICAgICA+XG4gICAgICAgICAgU2V0IFVwIHJlbnZcbiAgICAgICAgPC92c2NvZGUtYnV0dG9uPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiIWhvbWUuci5hY3RpdmUuaXNJblByb2plY3RcIj5cbiAgICAgICAgPHAgZGF0YS1hdXRvbWF0aW9uPVwici1ub3QtY29uZmlndXJlZFwiPlxuICAgICAgICAgIFRoaXMgcHJvamVjdCBpcyBub3QgY29uZmlndXJlZCB0byB1c2UgUi4gVG8gY29uZmlndXJlIFIsIGFkZCBhbiBbcl1cbiAgICAgICAgICBzZWN0aW9uIHRvIHlvdXIgY29uZmlndXJhdGlvbiBmaWxlLlxuICAgICAgICA8L3A+XG4gICAgICA8L3RlbXBsYXRlPlxuICAgIDwvV2VsY29tZVZpZXc+XG4gICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgIDxUcmVlSXRlbVxuICAgICAgICB2LWZvcj1cInBrZyBpbiBob21lLnJQYWNrYWdlc1wiXG4gICAgICAgIDprZXk9XCJwa2cucGFja2FnZVwiXG4gICAgICAgIDp0aXRsZT1cInBrZy5wYWNrYWdlXCJcbiAgICAgICAgOmRlc2NyaXB0aW9uPVwicGtnLnZlcnNpb25cIlxuICAgICAgICA6dG9vbHRpcD1cInBrZy5zb3VyY2UgKyAnOiAnICsgcGtnLnJlcG9zaXRvcnlcIlxuICAgICAgICBjb2RpY29uPVwiY29kaWNvbi1wYWNrYWdlXCJcbiAgICAgICAgYWxpZ24taWNvbi13aXRoLXR3aXN0eVxuICAgICAgLz5cbiAgICA8L3RlbXBsYXRlPlxuICA8L1RyZWVTZWN0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCBUcmVlSXRlbSBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlSXRlbS52dWVcIjtcbmltcG9ydCBUcmVlU2VjdGlvbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlU2VjdGlvbi52dWVcIjtcbmltcG9ydCBXZWxjb21lVmlldyBmcm9tIFwic3JjL2NvbXBvbmVudHMvV2VsY29tZVZpZXcudnVlXCI7XG5cbmltcG9ydCB7IGNvbXB1dGVkLCByZWYgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSBcIi4uL0FjdGlvblRvb2xiYXIudnVlXCI7XG5pbXBvcnQgeyBpc0NvbmZpZ3VyYXRpb25FcnJvciB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcblxuY29uc3QgaG9zdENvbmR1aXQgPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcblxuY29uc3QgaXNTZXR0aW5nVXBSZW52ID0gcmVmKGZhbHNlKTtcblxuY29uc3Qgb25SZWZyZXNoID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9SX1BBQ0tBR0VTLFxuICB9KTtcbn07XG5cbmNvbnN0IG9uU2V0dXBSZW52ID0gKCkgPT4ge1xuICBpc1NldHRpbmdVcFJlbnYudmFsdWUgPSB0cnVlO1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0NBTl9SX1BBQ0tBR0VfUkVRVUlSRU1FTlRTLFxuICB9KTtcbn07XG5cbmNvbnN0IG9uRWRpdFJlcXVpcmVtZW50c0ZpbGUgPSAoKSA9PiB7XG4gIGlmICghaG9tZS5yUGFja2FnZUZpbGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIHJlbGF0aXZlUGF0aDogaG9tZS5yUGFja2FnZUZpbGUsXG4gICAgfSxcbiAgfSk7XG59O1xuXG5jb25zdCBvblZpZXdSZW52RG9jID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkFWSUdBVEUsXG4gICAgY29udGVudDoge1xuICAgICAgdXJpUGF0aDogXCJodHRwczovL3JzdHVkaW8uZ2l0aHViLmlvL3JlbnYvYXJ0aWNsZXMvcmVudi5odG1sXCIsXG4gICAgfSxcbiAgfSk7XG59O1xuXG5jb25zdCByUGFja2FnZUFjdGlvbnMgPSBjb21wdXRlZCgoKTogQWN0aW9uQnV0dG9uW10gPT4ge1xuICBjb25zdCByZXN1bHQ6IEFjdGlvbkJ1dHRvbltdID0gW107XG4gIC8vIGlmIHdlIGhhdmUgbm8gcmVxdWlyZW1lbnRzIGZpbGUsIHNvIHdlIGNhbid0IGVkaXQgb3Igc2NhblxuICBpZiAoQm9vbGVhbihob21lLnJQYWNrYWdlRmlsZSkpIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBsYWJlbDogXCJFZGl0IFBhY2thZ2UgUmVxdWlyZW1lbnRzIEZpbGVcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1lZGl0XCIsXG4gICAgICBmbjogb25FZGl0UmVxdWlyZW1lbnRzRmlsZSxcbiAgICB9KTtcbiAgfVxuICByZXN1bHQucHVzaCh7XG4gICAgbGFiZWw6IFwiUmVmcmVzaCBQYWNrYWdlc1wiLFxuICAgIGNvZGljb246IFwiY29kaWNvbi1yZWZyZXNoXCIsXG4gICAgZm46IG9uUmVmcmVzaCxcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuY29uc3Qgc2hvd1dlbGNvbWVWaWV3ID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgICFob21lLnIuYWN0aXZlLmlzSW5Qcm9qZWN0IHx8XG4gICAgaG9tZS5yLmFjdGl2ZS5pc0VtcHR5UmVxdWlyZW1lbnRzIHx8XG4gICAgaG9tZS5yLmFjdGl2ZS5pc01pc3NpbmdQYWNrYWdlRmlsZVxuICApO1xufSk7XG5cbmNvbnN0IHJQYWNrYWdlRmlsZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgaWYgKFxuICAgIGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uICYmXG4gICAgIWlzQ29uZmlndXJhdGlvbkVycm9yKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uKVxuICApIHtcbiAgICByZXR1cm4gKFxuICAgICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbi5yPy5wYWNrYWdlRmlsZSB8fCBcInJlbnYubG9ja1wiXG4gICAgKTtcbiAgfVxufSk7XG5cbmNvbnN0IG1pc3NpbmdPckludmFsaWRQYWNrYWdlRmlsZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICBob21lLnIuYWN0aXZlLmlzTWlzc2luZ1BhY2thZ2VGaWxlIHx8IGhvbWUuci5hY3RpdmUuaXNFbXB0eVJlcXVpcmVtZW50c1xuICApO1xufSk7XG48L3NjcmlwdD5cbiIsIjx0ZW1wbGF0ZT5cbiAgPFRyZWVTZWN0aW9uXG4gICAgdGl0bGU9XCJDcmVkZW50aWFsc1wiXG4gICAgZGF0YS1hdXRvbWF0aW9uPVwicHVibGlzaGVyLWNyZWRlbnRpYWxzLXNlY3Rpb25cIlxuICAgIDphY3Rpb25zPVwic2VjdGlvbkFjdGlvbnNcIlxuICAgIDpjb2RpY29uPVwiaG9tZS5jcmVkZW50aWFsLmFjdGl2ZS5pc0FsZXJ0QWN0aXZlID8gYGNvZGljb24tYWxlcnRgIDogYGBcIlxuICA+XG4gICAgPFdlbGNvbWVWaWV3IHYtaWY9XCIhaG9tZS5jcmVkZW50aWFsLmlzQXZhaWxhYmxlXCI+XG4gICAgICA8cD5ObyBjcmVkZW50aWFscyBoYXZlIGJlZW4gYWRkZWQgeWV0LjwvcD5cbiAgICA8L1dlbGNvbWVWaWV3PlxuICAgIDxUcmVlSXRlbVxuICAgICAgdi1lbHNlXG4gICAgICB2LWZvcj1cImNyZWRlbnRpYWwgaW4gaG9tZS5zb3J0ZWRDcmVkZW50aWFsc1wiXG4gICAgICA6dGl0bGU9XCJjcmVkZW50aWFsLm5hbWVcIlxuICAgICAgOmRlc2NyaXB0aW9uPVwiZ2V0RGVzY3JpcHRpb24oY3JlZGVudGlhbClcIlxuICAgICAgOmRhdGEtYXV0b21hdGlvbj1cImAke2NyZWRlbnRpYWwubmFtZX0tbGlzdGBcIlxuICAgICAgY29kaWNvbj1cInBvc2l0LXB1Ymxpc2hlci1pY29ucy1wb3NpdC1sb2dvXCJcbiAgICAgIDphY3Rpb25zPVwiW1xuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6ICdEZWxldGUgQ3JlZGVudGlhbCcsXG4gICAgICAgICAgY29kaWNvbjogJ2NvZGljb24tdHJhc2gnLFxuICAgICAgICAgIGZuOiAoKSA9PlxuICAgICAgICAgICAgc2VuZE1zZyh7XG4gICAgICAgICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfQ1JFREVOVElBTCxcbiAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxHVUlEOiBjcmVkZW50aWFsLmd1aWQsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbE5hbWU6IGNyZWRlbnRpYWwubmFtZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXVwiXG4gICAgICBhbGlnbi1pY29uLXdpdGgtdHdpc3R5XG4gICAgLz5cbiAgPC9UcmVlU2VjdGlvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gXCJ2dWVcIjtcblxuaW1wb3J0IFRyZWVTZWN0aW9uIGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVTZWN0aW9uLnZ1ZVwiO1xuaW1wb3J0IFRyZWVJdGVtIGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVJdGVtLnZ1ZVwiO1xuaW1wb3J0IFdlbGNvbWVWaWV3IGZyb20gXCJzcmMvY29tcG9uZW50cy9XZWxjb21lVmlldy52dWVcIjtcbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5cbmltcG9ydCB7IENyZWRlbnRpYWwsIFByb2R1Y3ROYW1lIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NyYy9hcGlcIjtcbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5pbXBvcnQgeyBpc0Nvbm5lY3RDbG91ZCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvdXRpbHMvbXVsdGlTdGVwSGVscGVyc1wiO1xuXG5jb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG5cbmNvbnN0IHsgc2VuZE1zZyB9ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5cbmNvbnN0IHNlY3Rpb25BY3Rpb25zID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGxhYmVsOiBcIk5ldyBDcmVkZW50aWFsXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tYWRkXCIsXG4gICAgICBmbjogKCkgPT4ge1xuICAgICAgICBzZW5kTXNnKHtcbiAgICAgICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0NSRURFTlRJQUwsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiBcIlJlZnJlc2ggQ3JlZGVudGlhbHNcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1yZWZyZXNoXCIsXG4gICAgICBmbjogKCkgPT4ge1xuICAgICAgICBzZW5kTXNnKHsga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlJFUVVFU1RfQ1JFREVOVElBTFMgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gIF07XG59KTtcblxuY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoY3JlZGVudGlhbDogQ3JlZGVudGlhbCkgPT4ge1xuICByZXR1cm4gaXNDb25uZWN0Q2xvdWQoY3JlZGVudGlhbC5zZXJ2ZXJUeXBlKVxuICAgID8gUHJvZHVjdE5hbWUuQ09OTkVDVF9DTE9VRFxuICAgIDogY3JlZGVudGlhbC51cmw7XG59O1xuPC9zY3JpcHQ+XG4iLCI8dGVtcGxhdGU+XG4gIDxUcmVlU2VjdGlvblxuICAgIHRpdGxlPVwiSGVscCBhbmQgRmVlZGJhY2tcIlxuICAgIGRhdGEtYXV0b21hdGlvbj1cInB1Ymxpc2hlci1oZWxwLXNlY3Rpb25cIlxuICA+XG4gICAgPFRyZWVJdGVtXG4gICAgICB0aXRsZT1cIkdldCBTdGFydGVkIHdpdGggUG9zaXQgUHVibGlzaGVyXCJcbiAgICAgIHRvb2x0aXA9XCJPcGVuIEdldHRpbmcgU3RhcnRlZCBEb2N1bWVudGF0aW9uXCJcbiAgICAgIGFsaWduLWljb24td2l0aC10d2lzdHlcbiAgICAgIEBjbGljaz1cIlxuICAgICAgICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICAgICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkFWSUdBVEUsXG4gICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgdXJpUGF0aDpcbiAgICAgICAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS9wb3NpdC1kZXYvcHVibGlzaGVyL2Jsb2IvbWFpbi9kb2NzL2luZGV4Lm1kJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgXCJcbiAgICAvPlxuICAgIDxUcmVlSXRlbVxuICAgICAgdGl0bGU9XCJQcm92aWRlIEZlZWRiYWNrXCJcbiAgICAgIHRvb2x0aXA9XCJPcGVuIEdpdEh1YiBEaXNjdXNzaW9uc1wiXG4gICAgICBhbGlnbi1pY29uLXdpdGgtdHdpc3R5XG4gICAgICBAY2xpY2s9XCJcbiAgICAgICAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAgICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5BVklHQVRFLFxuICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIHVyaVBhdGg6ICdodHRwczovL2dpdGh1Yi5jb20vcG9zaXQtZGV2L3B1Ymxpc2hlci9kaXNjdXNzaW9ucycsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgIFwiXG4gICAgLz5cbiAgICA8VHJlZUl0ZW1cbiAgICAgIHRpdGxlPVwiQ29weSBTeXN0ZW0gSW5mb1wiXG4gICAgICB0b29sdGlwPVwiQ29weSBzeXN0ZW0gaW5mb3JtYXRpb24gdG8gY2xpcGJvYXJkIGluY2x1ZGluZyBleHRlbnNpb24gdmVyc2lvbiBhbmQgSURFIGRldGFpbHNcIlxuICAgICAgYWxpZ24taWNvbi13aXRoLXR3aXN0eVxuICAgICAgQGNsaWNrPVwiXG4gICAgICAgIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5DT1BZX1NZU1RFTV9JTkZPLFxuICAgICAgICB9KVxuICAgICAgXCJcbiAgICAvPlxuICA8L1RyZWVTZWN0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCBUcmVlU2VjdGlvbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlU2VjdGlvbi52dWVcIjtcbmltcG9ydCBUcmVlSXRlbSBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlSXRlbS52dWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5cbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbmNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG48L3NjcmlwdD5cbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48dGVtcGxhdGU+XG4gIDxtYWluPlxuICAgIDxPdmVybGF5YWJsZVZpZXcgOmFjdGl2YXRlT3ZlcmxheT1cImhvbWUuc2hvd0Rpc2FibGVkT3ZlcmxheVwiPlxuICAgICAgPEV2ZW5FYXNpZXJEZXBsb3kgY2xhc3M9XCJlYXN5LWRlcGxveS1jb250YWluZXJcIiAvPlxuICAgICAgPHRlbXBsYXRlXG4gICAgICAgIHYtaWY9XCJcbiAgICAgICAgICBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiAmJlxuICAgICAgICAgICFpc0NvbmZpZ3VyYXRpb25FcnJvcihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbilcbiAgICAgICAgXCJcbiAgICAgID5cbiAgICAgICAgPFByb2plY3RGaWxlcyB2LW1vZGVsOmV4cGFuZGVkPVwicHJvamVjdEZpbGVzRXhwYW5kZWRcIiAvPlxuICAgICAgICA8U2VjcmV0cyAvPlxuICAgICAgICA8SW50ZWdyYXRpb25SZXF1ZXN0cyB2LWlmPVwiIWhvbWUuaXNDb25uZWN0Q2xvdWRcIiAvPlxuICAgICAgICA8UHl0aG9uUGFja2FnZXMgLz5cbiAgICAgICAgPFJQYWNrYWdlcyAvPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDxDcmVkZW50aWFscyAvPlxuICAgICAgPEhlbHBBbmRGZWVkYmFjayAvPlxuICAgIDwvT3ZlcmxheWFibGVWaWV3PlxuICA8L21haW4+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgcmVmIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgT3ZlcmxheWFibGVWaWV3IGZyb20gXCJzcmMvY29tcG9uZW50cy9PdmVybGF5YWJsZVZpZXcudnVlXCI7XG5pbXBvcnQgRXZlbkVhc2llckRlcGxveSBmcm9tIFwic3JjL2NvbXBvbmVudHMvRXZlbkVhc2llckRlcGxveS52dWVcIjtcbmltcG9ydCBQcm9qZWN0RmlsZXMgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL3Byb2plY3RGaWxlcy9Qcm9qZWN0RmlsZXMudnVlXCI7XG5pbXBvcnQgU2VjcmV0cyBmcm9tIFwic3JjL2NvbXBvbmVudHMvdmlld3Mvc2VjcmV0cy9TZWNyZXRzLnZ1ZVwiO1xuaW1wb3J0IEludGVncmF0aW9uUmVxdWVzdHMgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL0ludGVncmF0aW9uUmVxdWVzdHMudnVlXCI7XG5pbXBvcnQgUHl0aG9uUGFja2FnZXMgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL1B5dGhvblBhY2thZ2VzLnZ1ZVwiO1xuaW1wb3J0IFJQYWNrYWdlcyBmcm9tIFwic3JjL2NvbXBvbmVudHMvdmlld3MvUlBhY2thZ2VzLnZ1ZVwiO1xuaW1wb3J0IENyZWRlbnRpYWxzIGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9DcmVkZW50aWFscy52dWVcIjtcbmltcG9ydCBIZWxwQW5kRmVlZGJhY2sgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL0hlbHBBbmRGZWVkYmFjay52dWVcIjtcblxuaW1wb3J0IHsgdXNlSG9zdENvbmR1aXRTZXJ2aWNlIH0gZnJvbSBcInNyYy9Ib3N0Q29uZHVpdFNlcnZpY2VcIjtcbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCIuL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyBpc0NvbmZpZ3VyYXRpb25FcnJvciB9IGZyb20gXCIuLi8uLi8uLi9zcmMvYXBpXCI7XG5cbnVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuXG5jb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG5cbmNvbnN0IHByb2plY3RGaWxlc0V4cGFuZGVkID0gcmVmKHRydWUpO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5lYXN5LWRlcGxveS1jb250YWluZXIge1xuICBwYWRkaW5nOiAwIDIwcHg7XG4gIG1hcmdpbi1ibG9jay1lbmQ6IDFyZW07XG59XG48L3N0eWxlPlxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IGNyZWF0ZUFwcCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IFJlY3ljbGVTY3JvbGxlciB9IGZyb20gXCJ2dWUtdmlydHVhbC1zY3JvbGxlclwiO1xuaW1wb3J0IHsgY3JlYXRlUGluaWEgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7XG4gIHByb3ZpZGVWU0NvZGVEZXNpZ25TeXN0ZW0sXG4gIHZzQ29kZUJ1dHRvbixcbiAgdnNDb2RlRHJvcGRvd24sXG4gIHZzQ29kZU9wdGlvbixcbiAgdnNDb2RlUHJvZ3Jlc3NSaW5nLFxuICB2c0NvZGVEaXZpZGVyLFxufSBmcm9tIFwiQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXRcIjtcblxuaW1wb3J0IEFwcCBmcm9tIFwic3JjL0FwcC52dWVcIjtcblxuaW1wb3J0IFwidnVlLXZpcnR1YWwtc2Nyb2xsZXIvZGlzdC92dWUtdmlydHVhbC1zY3JvbGxlci5jc3NcIjtcblxuaW1wb3J0IFwic3JjL3N0eWxlLmNzc1wiO1xuXG4vLyBJbiBvcmRlciB0byB1c2UgdGhlIFdlYnZpZXcgVUkgVG9vbGtpdCB3ZWIgY29tcG9uZW50cyB0aGV5XG4vLyBtdXN0IGJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYnJvd3NlciAoaS5lLiB3ZWJ2aWV3KSB1c2luZyB0aGVcbi8vIHN5bnRheCBiZWxvdy5cbnByb3ZpZGVWU0NvZGVEZXNpZ25TeXN0ZW0oKS5yZWdpc3RlcihcbiAgdnNDb2RlQnV0dG9uKCksXG4gIHZzQ29kZURyb3Bkb3duKCksXG4gIHZzQ29kZU9wdGlvbigpLFxuICB2c0NvZGVQcm9ncmVzc1JpbmcoKSxcbiAgdnNDb2RlRGl2aWRlcigpLFxuKTtcblxuY29uc3QgcGluaWEgPSBjcmVhdGVQaW5pYSgpO1xuXG5jb25zdCBhcHAgPSBjcmVhdGVBcHAoQXBwKTtcbmFwcC51c2UocGluaWEpO1xuYXBwLmNvbXBvbmVudChcIlJlY3ljbGVTY3JvbGxlclwiLCBSZWN5Y2xlU2Nyb2xsZXIpO1xuXG5hcHAubW91bnQoXCIjYXBwXCIpO1xuIl0sIm5hbWVzIjpbIm1ha2VNYXAiLCJzdHIiLCJtYXAiLCJrZXkiLCJ2YWwiLCJFTVBUWV9PQkoiLCJFTVBUWV9BUlIiLCJOT09QIiwiTk8iLCJpc09uIiwiaXNNb2RlbExpc3RlbmVyIiwiZXh0ZW5kIiwicmVtb3ZlIiwiYXJyIiwiZWwiLCJpIiwiaGFzT3duUHJvcGVydHkiLCJoYXNPd24iLCJpc0FycmF5IiwiaXNNYXAiLCJ0b1R5cGVTdHJpbmciLCJpc1NldCIsImlzRnVuY3Rpb24iLCJpc1N0cmluZyIsImlzU3ltYm9sIiwiaXNPYmplY3QiLCJpc1Byb21pc2UiLCJvYmplY3RUb1N0cmluZyIsInZhbHVlIiwidG9SYXdUeXBlIiwiaXNQbGFpbk9iamVjdCIsImlzSW50ZWdlcktleSIsImlzUmVzZXJ2ZWRQcm9wIiwiY2FjaGVTdHJpbmdGdW5jdGlvbiIsImZuIiwiY2FjaGUiLCJjYW1lbGl6ZVJFIiwiY2FtZWxpemUiLCJjIiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjYXBpdGFsaXplIiwidG9IYW5kbGVyS2V5IiwiaGFzQ2hhbmdlZCIsIm9sZFZhbHVlIiwiaW52b2tlQXJyYXlGbnMiLCJmbnMiLCJhcmciLCJkZWYiLCJvYmoiLCJ3cml0YWJsZSIsImxvb3NlVG9OdW1iZXIiLCJuIiwiX2dsb2JhbFRoaXMiLCJnZXRHbG9iYWxUaGlzIiwibm9ybWFsaXplU3R5bGUiLCJyZXMiLCJpdGVtIiwibm9ybWFsaXplZCIsInBhcnNlU3RyaW5nU3R5bGUiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwidG1wIiwibm9ybWFsaXplQ2xhc3MiLCJuYW1lIiwic3BlY2lhbEJvb2xlYW5BdHRycyIsImlzU3BlY2lhbEJvb2xlYW5BdHRyIiwiaW5jbHVkZUJvb2xlYW5BdHRyIiwiaXNSZWYiLCJ0b0Rpc3BsYXlTdHJpbmciLCJyZXBsYWNlciIsIl9rZXkiLCJlbnRyaWVzIiwidmFsMiIsInN0cmluZ2lmeVN5bWJvbCIsInYiLCJfYSIsIm5vcm1hbGl6ZUNzc1ZhclZhbHVlIiwiYWN0aXZlRWZmZWN0U2NvcGUiLCJFZmZlY3RTY29wZSIsImRldGFjaGVkIiwibCIsImN1cnJlbnRFZmZlY3RTY29wZSIsImZyb21QYXJlbnQiLCJsYXN0IiwiZWZmZWN0U2NvcGUiLCJnZXRDdXJyZW50U2NvcGUiLCJvblNjb3BlRGlzcG9zZSIsImZhaWxTaWxlbnRseSIsImFjdGl2ZVN1YiIsInBhdXNlZFF1ZXVlRWZmZWN0cyIsIlJlYWN0aXZlRWZmZWN0IiwiYmF0Y2giLCJjbGVhbnVwRWZmZWN0IiwicHJlcGFyZURlcHMiLCJwcmV2RWZmZWN0IiwicHJldlNob3VsZFRyYWNrIiwic2hvdWxkVHJhY2siLCJjbGVhbnVwRGVwcyIsImxpbmsiLCJyZW1vdmVTdWIiLCJpc0RpcnR5IiwiYmF0Y2hEZXB0aCIsImJhdGNoZWRTdWIiLCJiYXRjaGVkQ29tcHV0ZWQiLCJzdWIiLCJpc0NvbXB1dGVkIiwic3RhcnRCYXRjaCIsImVuZEJhdGNoIiwiZSIsIm5leHQiLCJlcnJvciIsImVyciIsImhlYWQiLCJ0YWlsIiwicHJldiIsInJlbW92ZURlcCIsInJlZnJlc2hDb21wdXRlZCIsImNvbXB1dGVkIiwiZ2xvYmFsVmVyc2lvbiIsImRlcCIsInByZXZTdWIiLCJzb2Z0IiwibmV4dFN1YiIsInByZXZEZXAiLCJuZXh0RGVwIiwidHJhY2tTdGFjayIsInBhdXNlVHJhY2tpbmciLCJyZXNldFRyYWNraW5nIiwiY2xlYW51cCIsIkxpbmsiLCJEZXAiLCJkZWJ1Z0luZm8iLCJhZGRTdWIiLCJjdXJyZW50VGFpbCIsInRhcmdldE1hcCIsIklURVJBVEVfS0VZIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsIkFSUkFZX0lURVJBVEVfS0VZIiwidHJhY2siLCJ0YXJnZXQiLCJ0eXBlIiwiZGVwc01hcCIsInRyaWdnZXIiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsInJ1biIsInRhcmdldElzQXJyYXkiLCJpc0FycmF5SW5kZXgiLCJuZXdMZW5ndGgiLCJrZXkyIiwiZ2V0RGVwRnJvbVJlYWN0aXZlIiwib2JqZWN0IiwiZGVwTWFwIiwicmVhY3RpdmVSZWFkQXJyYXkiLCJhcnJheSIsInJhdyIsInRvUmF3IiwiaXNTaGFsbG93IiwidG9SZWFjdGl2ZSIsInNoYWxsb3dSZWFkQXJyYXkiLCJ0b1dyYXBwZWQiLCJpc1JlYWRvbmx5IiwiaXNSZWFjdGl2ZSIsInRvUmVhZG9ubHkiLCJhcnJheUluc3RydW1lbnRhdGlvbnMiLCJpdGVyYXRvciIsImFyZ3MiLCJ4IiwidGhpc0FyZyIsImFwcGx5Iiwic2VhcmNoUHJveHkiLCJzZXBhcmF0b3IiLCJub1RyYWNraW5nIiwicmVkdWNlIiwiY29tcGFyZXIiLCJzZWxmIiwibWV0aG9kIiwid3JhcFZhbHVlIiwiaXRlciIsInJlc3VsdCIsImFycmF5UHJvdG8iLCJ3cmFwcGVkUmV0Rm4iLCJuZWVkc1dyYXAiLCJtZXRob2RGbiIsInJlc3VsdDIiLCJ3cmFwcGVkRm4iLCJpbmRleCIsImFjYyIsImlzUHJveHkiLCJpc05vblRyYWNrYWJsZUtleXMiLCJidWlsdEluU3ltYm9scyIsIkJhc2VSZWFjdGl2ZUhhbmRsZXIiLCJfaXNSZWFkb25seSIsIl9pc1NoYWxsb3ciLCJyZWNlaXZlciIsImlzUmVhZG9ubHkyIiwiaXNTaGFsbG93MiIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJyZWFkb25seSIsInJlYWN0aXZlIiwiTXV0YWJsZVJlYWN0aXZlSGFuZGxlciIsImlzQXJyYXlXaXRoSW50ZWdlcktleSIsImlzT2xkVmFsdWVSZWFkb25seSIsImhhZEtleSIsIlJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyIiwibXV0YWJsZUhhbmRsZXJzIiwicmVhZG9ubHlIYW5kbGVycyIsInNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzIiwidG9TaGFsbG93IiwiZ2V0UHJvdG8iLCJjcmVhdGVJdGVyYWJsZU1ldGhvZCIsInJhd1RhcmdldCIsInRhcmdldElzTWFwIiwiaXNQYWlyIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsIndyYXAiLCJkb25lIiwiY3JlYXRlUmVhZG9ubHlNZXRob2QiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvdyIsImluc3RydW1lbnRhdGlvbnMiLCJyYXdLZXkiLCJoYXMiLCJjYWxsYmFjayIsIm9ic2VydmVkIiwiZ2V0IiwiaGFkSXRlbXMiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIiLCJtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwidGFyZ2V0VHlwZU1hcCIsInJhd1R5cGUiLCJnZXRUYXJnZXRUeXBlIiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmUiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsInRhcmdldFR5cGUiLCJleGlzdGluZ1Byb3h5IiwicHJveHkiLCJtYXJrUmF3IiwiciIsInJlZiIsImNyZWF0ZVJlZiIsInJhd1ZhbHVlIiwiUmVmSW1wbCIsInVzZURpcmVjdFZhbHVlIiwidW5yZWYiLCJyZWYyIiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwicHJveHlSZWZzIiwib2JqZWN0V2l0aFJlZnMiLCJDdXN0b21SZWZJbXBsIiwiZmFjdG9yeSIsInNldCIsIm5ld1ZhbCIsImN1c3RvbVJlZiIsInRvUmVmcyIsInByb3BlcnR5VG9SZWYiLCJPYmplY3RSZWZJbXBsIiwiX29iamVjdCIsIl9kZWZhdWx0VmFsdWUiLCJuZXN0ZWRSZWYiLCJzb3VyY2UiLCJkZWZhdWx0VmFsdWUiLCJDb21wdXRlZFJlZkltcGwiLCJzZXR0ZXIiLCJpc1NTUiIsImdldHRlck9yT3B0aW9ucyIsImRlYnVnT3B0aW9ucyIsImdldHRlciIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsImNsZWFudXBNYXAiLCJhY3RpdmVXYXRjaGVyIiwib25XYXRjaGVyQ2xlYW51cCIsImNsZWFudXBGbiIsIm93bmVyIiwiY2xlYW51cHMiLCJ3YXRjaCIsImNiIiwib3B0aW9ucyIsImltbWVkaWF0ZSIsImRlZXAiLCJvbmNlIiwic2NoZWR1bGVyIiwiYXVnbWVudEpvYiIsImNhbGwiLCJyZWFjdGl2ZUdldHRlciIsInNvdXJjZTIiLCJ0cmF2ZXJzZSIsImVmZmVjdCIsImJvdW5kQ2xlYW51cCIsImZvcmNlVHJpZ2dlciIsImlzTXVsdGlTb3VyY2UiLCJzIiwiY3VycmVudEVmZmVjdCIsImJhc2VHZXR0ZXIiLCJkZXB0aCIsInNjb3BlIiwid2F0Y2hIYW5kbGUiLCJfY2IiLCJqb2IiLCJpbW1lZGlhdGVGaXJzdFJ1biIsImN1cnJlbnRXYXRjaGVyIiwiY2xlYW51cDIiLCJzZWVuIiwiY2FsbFdpdGhFcnJvckhhbmRsaW5nIiwiaW5zdGFuY2UiLCJoYW5kbGVFcnJvciIsImNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nIiwidmFsdWVzIiwidGhyb3dJbkRldiIsImNvbnRleHRWTm9kZSIsImVycm9ySGFuZGxlciIsInRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24iLCJjdXIiLCJleHBvc2VkSW5zdGFuY2UiLCJlcnJvckluZm8iLCJlcnJvckNhcHR1cmVkSG9va3MiLCJsb2dFcnJvciIsInRocm93SW5Qcm9kIiwicXVldWUiLCJmbHVzaEluZGV4IiwicGVuZGluZ1Bvc3RGbHVzaENicyIsImFjdGl2ZVBvc3RGbHVzaENicyIsInBvc3RGbHVzaEluZGV4IiwicmVzb2x2ZWRQcm9taXNlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIm5leHRUaWNrIiwicCIsImZpbmRJbnNlcnRpb25JbmRleCIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJtaWRkbGVKb2IiLCJtaWRkbGVKb2JJZCIsImdldElkIiwicXVldWVKb2IiLCJqb2JJZCIsImxhc3RKb2IiLCJxdWV1ZUZsdXNoIiwiZmx1c2hKb2JzIiwicXVldWVQb3N0Rmx1c2hDYiIsImZsdXNoUHJlRmx1c2hDYnMiLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJhIiwiYiIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsImN1cnJlbnRTY29wZUlkIiwic2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwicHVzaFNjb3BlSWQiLCJwb3BTY29wZUlkIiwid2l0aFNjb3BlSWQiLCJfaWQiLCJ3aXRoQ3R4IiwiY3R4IiwiaXNOb25TY29wZWRTbG90IiwicmVuZGVyRm5XaXRoQ29udGV4dCIsInNldEJsb2NrVHJhY2tpbmciLCJwcmV2SW5zdGFuY2UiLCJ3aXRoRGlyZWN0aXZlcyIsInZub2RlIiwiZGlyZWN0aXZlcyIsImdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlIiwiYmluZGluZ3MiLCJkaXIiLCJtb2RpZmllcnMiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwicHJldlZOb2RlIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwiaG9vayIsIlRlbGVwb3J0RW5kS2V5IiwiaXNUZWxlcG9ydCIsImxlYXZlQ2JLZXkiLCJzZXRUcmFuc2l0aW9uSG9va3MiLCJob29rcyIsImRlZmluZUNvbXBvbmVudCIsImV4dHJhT3B0aW9ucyIsIm1hcmtBc3luY0JvdW5kYXJ5IiwicGVuZGluZ1NldFJlZk1hcCIsInNldFJlZiIsInJhd1JlZiIsIm9sZFJhd1JlZiIsInBhcmVudFN1c3BlbnNlIiwiaXNVbm1vdW50IiwiaXNBc3luY1dyYXBwZXIiLCJyZWZWYWx1ZSIsIm9sZFJlZiIsInJlZnMiLCJzZXR1cFN0YXRlIiwicmF3U2V0dXBTdGF0ZSIsImNhblNldFNldHVwUmVmIiwiaW52YWxpZGF0ZVBlbmRpbmdTZXRSZWYiLCJvbGRSYXdSZWZBdG9tIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwiZG9TZXQiLCJleGlzdGluZyIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsInBlbmRpbmdTZXRSZWYiLCJpc0tlZXBBbGl2ZSIsIm9uQWN0aXZhdGVkIiwicmVnaXN0ZXJLZWVwQWxpdmVIb29rIiwib25EZWFjdGl2YXRlZCIsImN1cnJlbnRJbnN0YW5jZSIsIndyYXBwZWRIb29rIiwiY3VycmVudCIsImluamVjdEhvb2siLCJpbmplY3RUb0tlZXBBbGl2ZVJvb3QiLCJrZWVwQWxpdmVSb290IiwiaW5qZWN0ZWQiLCJvblVubW91bnRlZCIsInByZXBlbmQiLCJyZXNldCIsInNldEN1cnJlbnRJbnN0YW5jZSIsImNyZWF0ZUhvb2siLCJsaWZlY3ljbGUiLCJpc0luU1NSQ29tcG9uZW50U2V0dXAiLCJvbkJlZm9yZU1vdW50Iiwib25Nb3VudGVkIiwib25CZWZvcmVVcGRhdGUiLCJvblVwZGF0ZWQiLCJvbkJlZm9yZVVubW91bnQiLCJvblNlcnZlclByZWZldGNoIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJDT01QT05FTlRTIiwiRElSRUNUSVZFUyIsInJlc29sdmVDb21wb25lbnQiLCJtYXliZVNlbGZSZWZlcmVuY2UiLCJyZXNvbHZlQXNzZXQiLCJOVUxMX0RZTkFNSUNfQ09NUE9ORU5UIiwicmVzb2x2ZUR5bmFtaWNDb21wb25lbnQiLCJjb21wb25lbnQiLCJyZXNvbHZlRGlyZWN0aXZlIiwid2Fybk1pc3NpbmciLCJDb21wb25lbnQiLCJzZWxmTmFtZSIsImdldENvbXBvbmVudE5hbWUiLCJyZXNvbHZlIiwicmVnaXN0cnkiLCJyZW5kZXJMaXN0IiwicmVuZGVySXRlbSIsImNhY2hlZCIsInNvdXJjZUlzQXJyYXkiLCJzb3VyY2VJc1JlYWN0aXZlQXJyYXkiLCJpc1JlYWRvbmx5U291cmNlIiwia2V5cyIsInJlbmRlclNsb3QiLCJzbG90cyIsInByb3BzIiwiZmFsbGJhY2siLCJub1Nsb3R0ZWQiLCJoYXNQcm9wcyIsIm9wZW5CbG9jayIsImNyZWF0ZUJsb2NrIiwiRnJhZ21lbnQiLCJjcmVhdGVWTm9kZSIsInNsb3QiLCJ2YWxpZFNsb3RDb250ZW50IiwiZW5zdXJlVmFsaWRWTm9kZSIsInNsb3RLZXkiLCJyZW5kZXJlZCIsInZub2RlcyIsImNoaWxkIiwiaXNWTm9kZSIsIkNvbW1lbnQiLCJ0b0hhbmRsZXJzIiwicHJlc2VydmVDYXNlSWZOZWNlc3NhcnkiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJwdWJsaWNQcm9wZXJ0aWVzTWFwIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCJpbnN0YW5jZVdhdGNoIiwiaGFzU2V0dXBCaW5kaW5nIiwic3RhdGUiLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJkYXRhIiwiYWNjZXNzQ2FjaGUiLCJhcHBDb250ZXh0Iiwic2hvdWxkQ2FjaGVBY2Nlc3MiLCJwdWJsaWNHZXR0ZXIiLCJjc3NNb2R1bGUiLCJnbG9iYWxQcm9wZXJ0aWVzIiwiY3NzTW9kdWxlcyIsImRlc2NyaXB0b3IiLCJ1c2VTbG90cyIsImdldENvbnRleHQiLCJjYWxsZWRGdW5jdGlvbk5hbWUiLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJjcmVhdGVTZXR1cENvbnRleHQiLCJub3JtYWxpemVQcm9wc09yRW1pdHMiLCJtZXJnZU1vZGVscyIsImFwcGx5T3B0aW9ucyIsInB1YmxpY1RoaXMiLCJjYWxsSG9vayIsImRhdGFPcHRpb25zIiwiY29tcHV0ZWRPcHRpb25zIiwibWV0aG9kcyIsIndhdGNoT3B0aW9ucyIsInByb3ZpZGVPcHRpb25zIiwiaW5qZWN0T3B0aW9ucyIsImNyZWF0ZWQiLCJiZWZvcmVNb3VudCIsIm1vdW50ZWQiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiYWN0aXZhdGVkIiwiZGVhY3RpdmF0ZWQiLCJiZWZvcmVEZXN0cm95IiwiYmVmb3JlVW5tb3VudCIsImRlc3Ryb3llZCIsInVubW91bnRlZCIsInJlbmRlciIsInJlbmRlclRyYWNrZWQiLCJyZW5kZXJUcmlnZ2VyZWQiLCJlcnJvckNhcHR1cmVkIiwic2VydmVyUHJlZmV0Y2giLCJleHBvc2UiLCJpbmhlcml0QXR0cnMiLCJjb21wb25lbnRzIiwiZmlsdGVycyIsInJlc29sdmVJbmplY3Rpb25zIiwibWV0aG9kSGFuZGxlciIsIm9wdCIsImNyZWF0ZVdhdGNoZXIiLCJwcm92aWRlcyIsInByb3ZpZGUiLCJyZWdpc3RlckxpZmVjeWNsZUhvb2siLCJyZWdpc3RlciIsIl9ob29rIiwiZXhwb3NlZCIsImNoZWNrRHVwbGljYXRlUHJvcGVydGllcyIsIm5vcm1hbGl6ZUluamVjdCIsImluamVjdCIsImgiLCJjcmVhdGVQYXRoR2V0dGVyIiwiaGFuZGxlciIsImJhc2UiLCJtaXhpbnMiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInJlc29sdmVkIiwibSIsIm1lcmdlT3B0aW9ucyIsInRvIiwiZnJvbSIsInN0cmF0cyIsImFzTWl4aW4iLCJzdHJhdCIsImludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMiLCJtZXJnZURhdGFGbiIsIm1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyIsIm1lcmdlT2JqZWN0T3B0aW9ucyIsIm1lcmdlQXNBcnJheSIsIm1lcmdlV2F0Y2hPcHRpb25zIiwibWVyZ2VJbmplY3QiLCJtZXJnZWQiLCJjcmVhdGVBcHBDb250ZXh0IiwidWlkJDEiLCJjcmVhdGVBcHBBUEkiLCJoeWRyYXRlIiwicm9vdENvbXBvbmVudCIsInJvb3RQcm9wcyIsImNvbnRleHQiLCJpbnN0YWxsZWRQbHVnaW5zIiwicGx1Z2luQ2xlYW51cEZucyIsImlzTW91bnRlZCIsImFwcCIsInZlcnNpb24iLCJwbHVnaW4iLCJtaXhpbiIsImRpcmVjdGl2ZSIsInJvb3RDb250YWluZXIiLCJpc0h5ZHJhdGUiLCJuYW1lc3BhY2UiLCJsYXN0QXBwIiwiY3VycmVudEFwcCIsInBhcmVudFByb3ZpZGVzIiwidHJlYXREZWZhdWx0QXNGYWN0b3J5IiwiaGFzSW5qZWN0aW9uQ29udGV4dCIsInNzckNvbnRleHRLZXkiLCJ1c2VTU1JDb250ZXh0Iiwid2F0Y2hTeW5jRWZmZWN0IiwiZG9XYXRjaCIsImZsdXNoIiwiYmFzZVdhdGNoT3B0aW9ucyIsInJ1bnNJbW1lZGlhdGVseSIsInNzckNsZWFudXAiLCJ3YXRjaFN0b3BIYW5kbGUiLCJpc1ByZSIsImlzRmlyc3RSdW4iLCJ3YXRjaCQxIiwicGF0aCIsInNlZ21lbnRzIiwidXNlTW9kZWwiLCJjYW1lbGl6ZWROYW1lIiwiaHlwaGVuYXRlZE5hbWUiLCJnZXRNb2RlbE1vZGlmaWVycyIsImxvY2FsVmFsdWUiLCJwcmV2U2V0VmFsdWUiLCJwcmV2RW1pdHRlZFZhbHVlIiwicHJvcFZhbHVlIiwiZW1pdHRlZFZhbHVlIiwicmF3UHJvcHMiLCJpMiIsIm1vZGVsTmFtZSIsImVtaXQiLCJldmVudCIsInJhd0FyZ3MiLCJoYW5kbGVyTmFtZSIsIm9uY2VIYW5kbGVyIiwibWl4aW5FbWl0c0NhY2hlIiwibm9ybWFsaXplRW1pdHNPcHRpb25zIiwiY29tcCIsImhhc0V4dGVuZHMiLCJleHRlbmRFbWl0cyIsInJhdzIiLCJub3JtYWxpemVkRnJvbUV4dGVuZCIsImlzRW1pdExpc3RlbmVyIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsIndpdGhQcm94eSIsInByb3BzT3B0aW9ucyIsImF0dHJzIiwicmVuZGVyQ2FjaGUiLCJmYWxsdGhyb3VnaEF0dHJzIiwicHJveHlUb1VzZSIsInRoaXNQcm94eSIsIm5vcm1hbGl6ZVZOb2RlIiwicmVuZGVyMiIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJyb290Iiwic2hhcGVGbGFnIiwiZmlsdGVyTW9kZWxMaXN0ZW5lcnMiLCJjbG9uZVZOb2RlIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwibmV4dFZOb2RlIiwib3B0aW1pemVkIiwicHJldlByb3BzIiwicHJldkNoaWxkcmVuIiwibmV4dFByb3BzIiwibmV4dENoaWxkcmVuIiwicGF0Y2hGbGFnIiwiZW1pdHMiLCJoYXNQcm9wc0NoYW5nZWQiLCJkeW5hbWljUHJvcHMiLCJlbWl0c09wdGlvbnMiLCJuZXh0S2V5cyIsInVwZGF0ZUhPQ0hvc3RFbCIsInBhcmVudCIsImludGVybmFsT2JqZWN0UHJvdG8iLCJjcmVhdGVJbnRlcm5hbE9iamVjdCIsImlzSW50ZXJuYWxPYmplY3QiLCJpbml0UHJvcHMiLCJpc1N0YXRlZnVsIiwic2V0RnVsbFByb3BzIiwidXBkYXRlUHJvcHMiLCJyYXdQcmV2UHJvcHMiLCJyYXdDdXJyZW50UHJvcHMiLCJoYXNBdHRyc0NoYW5nZWQiLCJwcm9wc1RvVXBkYXRlIiwiY2FtZWxpemVkS2V5IiwicmVzb2x2ZVByb3BWYWx1ZSIsImtlYmFiS2V5IiwibmVlZENhc3RLZXlzIiwicmF3Q2FzdFZhbHVlcyIsImNhbWVsS2V5IiwiY2FzdFZhbHVlcyIsImlzQWJzZW50IiwiaGFzRGVmYXVsdCIsInByb3BzRGVmYXVsdHMiLCJtaXhpblByb3BzQ2FjaGUiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJleHRlbmRQcm9wcyIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwicHJvcCIsInByb3BUeXBlIiwic2hvdWxkQ2FzdCIsInNob3VsZENhc3RUcnVlIiwidHlwZU5hbWUiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwibm9ybWFsaXplVk5vZGVTbG90cyIsImNoaWxkcmVuIiwiYXNzaWduU2xvdHMiLCJpbml0U2xvdHMiLCJ1cGRhdGVTbG90cyIsIm5lZWREZWxldGlvbkNoZWNrIiwiZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0IiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJjcmVhdGVSZW5kZXJlciIsImJhc2VDcmVhdGVSZW5kZXJlciIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsImhvc3RJbnNlcnQiLCJob3N0UmVtb3ZlIiwiaG9zdFBhdGNoUHJvcCIsImhvc3RDcmVhdGVFbGVtZW50IiwiaG9zdENyZWF0ZVRleHQiLCJob3N0Q3JlYXRlQ29tbWVudCIsImhvc3RTZXRUZXh0IiwiaG9zdFNldEVsZW1lbnRUZXh0IiwiaG9zdFBhcmVudE5vZGUiLCJob3N0TmV4dFNpYmxpbmciLCJob3N0U2V0U2NvcGVJZCIsImhvc3RJbnNlcnRTdGF0aWNDb250ZW50IiwicGF0Y2giLCJuMSIsIm4yIiwiY29udGFpbmVyIiwiYW5jaG9yIiwicGFyZW50Q29tcG9uZW50Iiwic2xvdFNjb3BlSWRzIiwiaXNTYW1lVk5vZGVUeXBlIiwiZ2V0TmV4dEhvc3ROb2RlIiwidW5tb3VudCIsIlRleHQiLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NDb21tZW50Tm9kZSIsIlN0YXRpYyIsIm1vdW50U3RhdGljTm9kZSIsInByb2Nlc3NGcmFnbWVudCIsInByb2Nlc3NFbGVtZW50IiwicHJvY2Vzc0NvbXBvbmVudCIsImludGVybmFscyIsIm1vdmVTdGF0aWNOb2RlIiwibmV4dFNpYmxpbmciLCJyZW1vdmVTdGF0aWNOb2RlIiwibW91bnRFbGVtZW50IiwiY3VzdG9tRWxlbWVudCIsInBhdGNoRWxlbWVudCIsInZub2RlSG9vayIsInRyYW5zaXRpb24iLCJkaXJzIiwibW91bnRDaGlsZHJlbiIsInJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSIsInNldFNjb3BlSWQiLCJpbnZva2VWTm9kZUhvb2siLCJuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyIsIm5lZWRUcmFuc2l0aW9uIiwic2NvcGVJZCIsInN1YlRyZWUiLCJpc1N1c3BlbnNlIiwicGFyZW50Vk5vZGUiLCJjbG9uZUlmTW91bnRlZCIsImR5bmFtaWNDaGlsZHJlbiIsIm9sZFByb3BzIiwibmV3UHJvcHMiLCJ0b2dnbGVSZWN1cnNlIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwicGF0Y2hDaGlsZHJlbiIsInBhdGNoUHJvcHMiLCJvbGRDaGlsZHJlbiIsIm5ld0NoaWxkcmVuIiwiZmFsbGJhY2tDb250YWluZXIiLCJvbGRWTm9kZSIsIm5ld1ZOb2RlIiwiZnJhZ21lbnRTdGFydEFuY2hvciIsImZyYWdtZW50RW5kQW5jaG9yIiwiZnJhZ21lbnRTbG90U2NvcGVJZHMiLCJ0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuIiwibW91bnRDb21wb25lbnQiLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwQ29tcG9uZW50Iiwic2V0dXBSZW5kZXJFZmZlY3QiLCJwbGFjZWhvbGRlciIsInVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciIsImNvbXBvbmVudFVwZGF0ZUZuIiwiYnUiLCJ1Iiwibm9uSHlkcmF0ZWRBc3luY1Jvb3QiLCJsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdCIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYm0iLCJpc0FzeW5jV3JhcHBlclZOb2RlIiwic2NvcGVkSW5pdGlhbFZOb2RlIiwidXBkYXRlIiwiYzEiLCJwcmV2U2hhcGVGbGFnIiwiYzIiLCJwYXRjaEtleWVkQ2hpbGRyZW4iLCJwYXRjaFVua2V5ZWRDaGlsZHJlbiIsInVubW91bnRDaGlsZHJlbiIsIm9sZExlbmd0aCIsImNvbW1vbkxlbmd0aCIsIm5leHRDaGlsZCIsInBhcmVudEFuY2hvciIsImwyIiwiZTEiLCJlMiIsIm5leHRQb3MiLCJzMSIsInMyIiwia2V5VG9OZXdJbmRleE1hcCIsImoiLCJwYXRjaGVkIiwidG9CZVBhdGNoZWQiLCJtb3ZlZCIsIm1heE5ld0luZGV4U29GYXIiLCJuZXdJbmRleFRvT2xkSW5kZXhNYXAiLCJwcmV2Q2hpbGQiLCJuZXdJbmRleCIsImluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlIiwiZ2V0U2VxdWVuY2UiLCJuZXh0SW5kZXgiLCJhbmNob3JWTm9kZSIsIm1vdmUiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJyZW1vdmUyIiwicGVyZm9ybUxlYXZlIiwiZG9SZW1vdmUiLCJjYWNoZUluZGV4Iiwic2hvdWxkSW52b2tlRGlycyIsInNob3VsZEludm9rZVZub2RlSG9vayIsInVubW91bnRDb21wb25lbnQiLCJyZW1vdmVGcmFnbWVudCIsInBlcmZvcm1SZW1vdmUiLCJidW0iLCJ1bSIsImludmFsaWRhdGVNb3VudCIsInRlbGVwb3J0RW5kIiwiaXNGbHVzaGluZyIsImN1cnJlbnROYW1lc3BhY2UiLCJhbGxvd2VkIiwiY2gxIiwiY2gyIiwibGVuIiwiYXJySSIsInN1YkNvbXBvbmVudCIsInN1c3BlbnNlIiwiY3VycmVudEJsb2NrIiwiZGlzYWJsZVRyYWNraW5nIiwiY2xvc2VCbG9jayIsImlzQmxvY2tUcmVlRW5hYmxlZCIsImluVk9uY2UiLCJzZXR1cEJsb2NrIiwiY3JlYXRlRWxlbWVudEJsb2NrIiwiY3JlYXRlQmFzZVZOb2RlIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJfY3JlYXRlVk5vZGUiLCJjbG9uZWQiLCJpc0NsYXNzQ29tcG9uZW50IiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwia2xhc3MiLCJzdHlsZSIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsImNsb25lVHJhbnNpdGlvbiIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wcyIsImNyZWF0ZVRleHRWTm9kZSIsInRleHQiLCJmbGFnIiwiY3JlYXRlQ29tbWVudFZOb2RlIiwiYXNCbG9jayIsInNsb3RGbGFnIiwidG9NZXJnZSIsImluY29taW5nIiwiZW1wdHlBcHBDb250ZXh0IiwidWlkIiwiaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UiLCJzZXRJblNTUlNldHVwU3RhdGUiLCJnIiwicmVnaXN0ZXJHbG9iYWxTZXR0ZXIiLCJzZXR0ZXJzIiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJzZXR1cFJlc3VsdCIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJzZXR1cCIsInNldHVwQ29udGV4dCIsImlzQXN5bmNTZXR1cCIsInJlc29sdmVkUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJmaW5pc2hDb21wb25lbnRTZXR1cCIsInNraXBPcHRpb25zIiwiYXR0cnNQcm94eUhhbmRsZXJzIiwiaW5jbHVkZUluZmVycmVkIiwiY29tcHV0ZWQkMSIsInBvbGljeSIsInR0IiwidW5zYWZlVG9UcnVzdGVkSFRNTCIsInN2Z05TIiwibWF0aG1sTlMiLCJkb2MiLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsIm5vZGVPcHMiLCJ0YWciLCJpcyIsIm5vZGUiLCJzZWxlY3RvciIsImNvbnRlbnQiLCJiZWZvcmUiLCJ0ZW1wbGF0ZSIsIndyYXBwZXIiLCJ2dGNLZXkiLCJwYXRjaENsYXNzIiwiaXNTVkciLCJ0cmFuc2l0aW9uQ2xhc3NlcyIsInZTaG93T3JpZ2luYWxEaXNwbGF5IiwidlNob3dIaWRkZW4iLCJ2U2hvdyIsInNldERpc3BsYXkiLCJDU1NfVkFSX1RFWFQiLCJ1c2VDc3NWYXJzIiwidXBkYXRlVGVsZXBvcnRzIiwidmFycyIsInNldFZhcnNPbk5vZGUiLCJzZXRWYXJzIiwic2V0VmFyc09uVk5vZGUiLCJvYiIsImRpc3BsYXlSRSIsInBhdGNoU3R5bGUiLCJpc0Nzc1N0cmluZyIsImhhc0NvbnRyb2xsZWREaXNwbGF5IiwicHJldlN0eWxlIiwic2V0U3R5bGUiLCJjc3NWYXJUZXh0IiwiaW1wb3J0YW50UkUiLCJwcmVmaXhlZCIsImF1dG9QcmVmaXgiLCJwcmVmaXhlcyIsInByZWZpeENhY2hlIiwicmF3TmFtZSIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJpc0Jvb2xlYW4iLCJwYXRjaERPTVByb3AiLCJhdHRyTmFtZSIsIm5lZWRSZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInZlaUtleSIsInBhdGNoRXZlbnQiLCJwcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJpbnZva2VycyIsImV4aXN0aW5nSW52b2tlciIsInBhcnNlTmFtZSIsImludm9rZXIiLCJjcmVhdGVJbnZva2VyIiwib3B0aW9uc01vZGlmaWVyUkUiLCJjYWNoZWROb3ciLCJnZXROb3ciLCJpbml0aWFsVmFsdWUiLCJwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9yaWdpbmFsU3RvcCIsImlzTmF0aXZlT24iLCJwYXRjaFByb3AiLCJzaG91bGRTZXRBc1Byb3AiLCJjYW1lbGl6ZSQxIiwiZ2V0TW9kZWxBc3NpZ25lciIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25FbmQiLCJhc3NpZ25LZXkiLCJjYXN0VmFsdWUiLCJ0cmltIiwibnVtYmVyIiwidk1vZGVsVGV4dCIsImxhenkiLCJjYXN0VG9OdW1iZXIiLCJlbFZhbHVlIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJ3aXRoTW9kaWZpZXJzIiwiY2FjaGVLZXkiLCJndWFyZCIsImtleU5hbWVzIiwid2l0aEtleXMiLCJldmVudEtleSIsImsiLCJyZW5kZXJlck9wdGlvbnMiLCJyZW5kZXJlciIsImVuc3VyZVJlbmRlcmVyIiwiY3JlYXRlQXBwIiwibW91bnQiLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwicmVzb2x2ZVJvb3ROYW1lc3BhY2UiLCJnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbiIsInVhIiwibXNpZSIsInRyaWRlbnQiLCJydiIsImVkZ2UiLCJpc0lFIiwiaW5pdENvbXBhdCIsInNjcmlwdCIsIl93aXRoSWQiLCJfaG9pc3RlZF8xIiwiX2N0eCIsIl9jYWNoZSIsIiRwcm9wcyIsIiRzZXR1cCIsIiRkYXRhIiwiJG9wdGlvbnMiLCJfdHlwZW9mIiwiX2NsYXNzQ2FsbENoZWNrIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl90b0NvbnN1bWFibGVBcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJfYXJyYXlMaWtlVG9BcnJheSIsIm8iLCJtaW5MZW4iLCJhcnIyIiwicHJvY2Vzc09wdGlvbnMiLCJ0aHJvdHRsZSIsImRlbGF5IiwidGltZW91dCIsImxhc3RTdGF0ZSIsImN1cnJlbnRBcmdzIiwidGhyb3R0bGVkIiwiX2xlbiIsImxlYWRpbmciLCJkZWVwRXF1YWwiLCJ2YWwxIiwiVmlzaWJpbGl0eVN0YXRlIiwiX3RoaXMiLCJlbnRyeSIsIl9yZWYiLCJfbGVhZGluZyIsImludGVyc2VjdGluZ0VudHJ5IiwiX3JlZjIiLCJfcmVmMyIsIk9ic2VydmVWaXNpYmlsaXR5IiwiY29uZmlnIiwicmVnZXgiLCJwYXJlbnRzIiwicHMiLCJvdmVyZmxvdyIsInNjcm9sbCIsImdldFNjcm9sbFBhcmVudCIsInNpbXBsZUFycmF5Iiwic3VwcG9ydHNQYXNzaXZlIiwib3B0cyIsInNjcmlwdCQyIiwiUmVzaXplT2JzZXJ2ZXIkMSIsInNpemVzIiwiaXRlbXMiLCJmaWVsZCIsIm1pbkl0ZW1TaXplIiwiY29tcHV0ZWRNaW5TaXplIiwiYWNjdW11bGF0b3IiLCJrZXlGaWVsZCIsImxhc3RQb3NpdGlvbiIsInBvb2wiLCJuciIsInZpZXciLCJmYWtlIiwidW51c2VkVmlld3MiLCJ1bnVzZWRQb29sIiwicmVxdWVzdFVwZGF0ZSIsImNvbnRpbnVvdXMiLCJpc1Zpc2libGUiLCJjaGVja0l0ZW0iLCJjaGVja1Bvc2l0aW9uRGlmZiIsIml0ZW1TaXplIiwiZ3JpZEl0ZW1zIiwiaXRlbVNlY29uZGFyeVNpemUiLCJ0eXBlRmllbGQiLCJjb3VudCIsInZpZXdzIiwiaXRlbUluZGV4QnlLZXkiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJ0b3RhbFNpemUiLCJ2aXNpYmxlU3RhcnRJbmRleCIsInZpc2libGVFbmRJbmRleCIsInBvc2l0aW9uRGlmZiIsImJ1ZmZlciIsImJlZm9yZVNpemUiLCJhZnRlclNpemUiLCJvbGRJIiwicmVtYWluZXIiLCJ1bnVzZWRJbmRleCIsIm5ld2x5VXNlZFZpZXciLCJkaXJlY3Rpb24iLCJpc1ZlcnRpY2FsIiwic2Nyb2xsU3RhdGUiLCJib3VuZHMiLCJib3VuZHNTaXplIiwic2l6ZSIsInBvc2l0aW9uIiwidmlld3BvcnQiLCJzY3JvbGxEaXJlY3Rpb24iLCJzY3JvbGxEaXN0YW5jZSIsInZpZXdwb3J0RWwiLCJzY3JvbGxUb3AiLCJzY3JvbGxlclBvc2l0aW9uIiwidmlld0EiLCJ2aWV3QiIsIl9ob2lzdGVkXzIiLCJyZW5kZXIkMSIsIl9jb21wb25lbnRfUmVzaXplT2JzZXJ2ZXIiLCJfZGlyZWN0aXZlX29ic2VydmVfdmlzaWJpbGl0eSIsImFjdGl2ZVBpbmlhIiwic2V0QWN0aXZlUGluaWEiLCJwaW5pYSIsInBpbmlhU3ltYm9sIiwiTXV0YXRpb25UeXBlIiwiY3JlYXRlUGluaWEiLCJfcCIsInRvQmVJbnN0YWxsZWQiLCJub29wIiwiYWRkU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9ucyIsIm9uQ2xlYW51cCIsInJlbW92ZVN1YnNjcmlwdGlvbiIsInRyaWdnZXJTdWJzY3JpcHRpb25zIiwiZmFsbGJhY2tSdW5XaXRoQ29udGV4dCIsIkFDVElPTl9NQVJLRVIiLCJBQ1RJT05fTkFNRSIsIm1lcmdlUmVhY3RpdmVPYmplY3RzIiwicGF0Y2hUb0FwcGx5Iiwic3ViUGF0Y2giLCJ0YXJnZXRWYWx1ZSIsInNraXBIeWRyYXRlU3ltYm9sIiwic2hvdWxkSHlkcmF0ZSIsImFzc2lnbiIsImNyZWF0ZU9wdGlvbnNTdG9yZSIsImhvdCIsImFjdGlvbnMiLCJnZXR0ZXJzIiwiaW5pdGlhbFN0YXRlIiwic3RvcmUiLCJsb2NhbFN0YXRlIiwiY29tcHV0ZWRHZXR0ZXJzIiwiY3JlYXRlU2V0dXBTdG9yZSIsIiRpZCIsImlzT3B0aW9uc1N0b3JlIiwib3B0aW9uc0ZvclBsdWdpbiIsIiRzdWJzY3JpYmVPcHRpb25zIiwiaXNMaXN0ZW5pbmciLCJpc1N5bmNMaXN0ZW5pbmciLCJhY3Rpb25TdWJzY3JpcHRpb25zIiwiZGVidWdnZXJFdmVudHMiLCJhY3RpdmVMaXN0ZW5lciIsIiRwYXRjaCIsInBhcnRpYWxTdGF0ZU9yTXV0YXRvciIsInN1YnNjcmlwdGlvbk11dGF0aW9uIiwibXlMaXN0ZW5lcklkIiwiJHJlc2V0IiwibmV3U3RhdGUiLCIkc3RhdGUiLCIkZGlzcG9zZSIsImFjdGlvbiIsIndyYXBwZWRBY3Rpb24iLCJhZnRlckNhbGxiYWNrU2V0Iiwib25FcnJvckNhbGxiYWNrU2V0IiwiYWZ0ZXIiLCJvbkVycm9yIiwicGFydGlhbFN0b3JlIiwic3RvcFdhdGNoZXIiLCJzZXR1cFN0b3JlIiwiYWN0aW9uVmFsdWUiLCJleHRlbmRlciIsImRlZmluZVN0b3JlIiwic2V0dXBPcHRpb25zIiwiaXNTZXR1cFN0b3JlIiwidXNlU3RvcmUiLCJoYXNDb250ZXh0IiwiJGdsb2JhbCIsInByb3BDb25maWciLCJGQVNUIiwic3RvcmFnZSIsImluaXRpYWxpemUiLCJmb3VuZCIsImVtcHR5QXJyYXkiLCJjcmVhdGVNZXRhZGF0YUxvY2F0b3IiLCJtZXRhZGF0YUxvb2t1cCIsIm1ldGFkYXRhIiwiY3VycmVudFRhcmdldCIsInVwZGF0ZVF1ZXVlIiwidGFza3MiLCJwZW5kaW5nRXJyb3JzIiwidGhyb3dGaXJzdEVycm9yIiwidHJ5UnVuVGFzayIsInRhc2siLCJwcm9jZXNzIiwic2NhbiIsImVucXVldWUiLCJjYWxsYWJsZSIsImZhc3RIVE1MUG9saWN5IiwiaHRtbCIsImh0bWxQb2xpY3kiLCJtYXJrZXIiLCJfaW50ZXJwb2xhdGlvblN0YXJ0IiwiX2ludGVycG9sYXRpb25FbmQiLCJET00iLCJhdHRyaWJ1dGVOYW1lIiwiZWxlbWVudCIsImZyYWdtZW50IiwiU3Vic2NyaWJlclNldCIsImluaXRpYWxTdWJzY3JpYmVyIiwic3Vic2NyaWJlciIsInNwaWxsb3ZlciIsInN1YjEiLCJzdWIyIiwiaWkiLCJQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyIiwicHJvcGVydHlOYW1lIiwic3Vic2NyaWJlcnMiLCJwcm9wZXJ0eVRvV2F0Y2giLCJwcm9wZXJ0eVRvVW53YXRjaCIsIk9ic2VydmFibGUiLCJ2b2xhdGlsZVJlZ2V4Iiwibm90aWZpZXJMb29rdXAiLCJxdWV1ZVVwZGF0ZSIsIndhdGNoZXIiLCJjcmVhdGVBcnJheU9ic2VydmVyIiwiZ2V0Tm90aWZpZXIiLCJnZXRBY2Nlc3NvcnMiLCJEZWZhdWx0T2JzZXJ2YWJsZUFjY2Vzc29yIiwiQmluZGluZ09ic2VydmVySW1wbGVtZW50YXRpb24iLCJpc1ZvbGF0aWxlQmluZGluZyIsInByZXZpb3VzV2F0Y2hlciIsInByb3BlcnR5U291cmNlIiwibm90aWZpZXIiLCJuYW1lT3JBY2Nlc3NvciIsIm9ic2VydmFibGUiLCJ2b2xhdGlsZSIsImNvbnRleHRFdmVudCIsIkV4ZWN1dGlvbkNvbnRleHQiLCJkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCIsIkhUTUxEaXJlY3RpdmUiLCJUYXJnZXRlZEhUTUxEaXJlY3RpdmUiLCJBdHRhY2hlZEJlaGF2aW9ySFRNTERpcmVjdGl2ZSIsImJlaGF2aW9yIiwibm9ybWFsQmluZCIsInRyaWdnZXJCaW5kIiwibm9ybWFsVW5iaW5kIiwiY29udGVudFVuYmluZCIsInRyaWdnZXJVbmJpbmQiLCJ1cGRhdGVBdHRyaWJ1dGVUYXJnZXQiLCJ1cGRhdGVCb29sZWFuQXR0cmlidXRlVGFyZ2V0IiwidXBkYXRlQ29udGVudFRhcmdldCIsInVwZGF0ZVByb3BlcnR5VGFyZ2V0IiwidXBkYXRlQ2xhc3NUYXJnZXQiLCJjbGFzc1ZlcnNpb25zIiwibmFtZXMiLCJjdXJyZW50TmFtZSIsIkhUTUxCaW5kaW5nRGlyZWN0aXZlIiwiQmluZGluZ0JlaGF2aW9yIiwiaXNCaW5kaW5nVm9sYXRpbGUiLCJiaW5kIiwidW5iaW5kIiwidXBkYXRlVGFyZ2V0IiwidGFyZ2V0TmFtZSIsInNoYXJlZENvbnRleHQiLCJDb21waWxhdGlvbkNvbnRleHQiLCJzaGFyZWFibGUiLCJjcmVhdGVBZ2dyZWdhdGVCaW5kaW5nIiwicGFydHMiLCJwYXJ0Q291bnQiLCJmaW5hbFBhcnRzIiwib3V0cHV0IiwiaW50ZXJwb2xhdGlvbkVuZExlbmd0aCIsInBhcnNlQ29udGVudCIsInZhbHVlUGFydHMiLCJiaW5kaW5nUGFydHMiLCJsaXRlcmFsIiwiZGlyZWN0aXZlSW5kZXgiLCJjb21waWxlQXR0cmlidXRlcyIsImluY2x1ZGVCYXNpY1ZhbHVlcyIsImF0dHJpYnV0ZXMiLCJhdHRyIiwiYXR0clZhbHVlIiwicGFyc2VSZXN1bHQiLCJjb21waWxlQ29udGVudCIsIndhbGtlciIsImxhc3ROb2RlIiwiY3VycmVudFBhcnQiLCJjdXJyZW50Tm9kZSIsImNvbXBpbGVUZW1wbGF0ZSIsImhvc3RCZWhhdmlvckZhY3RvcmllcyIsInRhcmdldE9mZnNldCIsInZpZXdCZWhhdmlvckZhY3RvcmllcyIsInJhbmdlIiwiSFRNTFZpZXciLCJiZWhhdmlvcnMiLCJwYXJlbnROb2RlIiwib2xkU291cmNlIiwiamoiLCJWaWV3VGVtcGxhdGUiLCJob3N0QmluZGluZ1RhcmdldCIsImZlYyIsInZpZXdGYWN0b3JpZXMiLCJiZWhhdmlvckluZGV4IiwidGFyZ2V0SW5kZXgiLCJmYWN0b3J5SW5kZXgiLCJob3N0RmFjdG9yaWVzIiwiaG9zdCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJzdHJpbmdzIiwiY3VycmVudFN0cmluZyIsIm1hdGNoIiwiRWxlbWVudFN0eWxlcyIsInN0eWxlU2hlZXRDYWNoZSIsInN0eWxlcyIsIkFkb3B0ZWRTdHlsZVNoZWV0c1N0eWxlcyIsIlN0eWxlRWxlbWVudFN0eWxlcyIsInJlZHVjZVN0eWxlcyIsImN1cnIiLCJyZWR1Y2VCZWhhdmlvcnMiLCJwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2wiLCJzZXBhcmF0ZVNoZWV0c1RvUHJlcGVuZCIsInNoZWV0cyIsImFwcGVuZCIsImFkZEFkb3B0ZWRTdHlsZVNoZWV0cyIsInJlbW92ZUFkb3B0ZWRTdHlsZVNoZWV0cyIsInNoZWV0Iiwic3R5bGVDbGFzc0lkIiwiZ2V0TmV4dFN0eWxlQ2xhc3MiLCJzdHlsZVNoZWV0cyIsInN0eWxlQ2xhc3MiLCJBdHRyaWJ1dGVDb25maWd1cmF0aW9uIiwiYm9vbGVhbkNvbnZlcnRlciIsIm51bGxhYmxlTnVtYmVyQ29udmVydGVyIiwiQXR0cmlidXRlRGVmaW5pdGlvbiIsIk93bmVyIiwiYXR0cmlidXRlIiwibW9kZSIsImNvbnZlcnRlciIsImd1YXJkcyIsImxhdGVzdFZhbHVlIiwiYXR0cmlidXRlTGlzdHMiLCJsaXN0IiwiY29uZmlnT3JUYXJnZXQiLCJkZWNvcmF0b3IiLCIkdGFyZ2V0IiwiJHByb3AiLCJkZWZhdWx0U2hhZG93T3B0aW9ucyIsImRlZmF1bHRFbGVtZW50T3B0aW9ucyIsImZhc3RSZWdpc3RyeSIsInR5cGVUb0RlZmluaXRpb24iLCJkZWZpbml0aW9uIiwiRkFTVEVsZW1lbnREZWZpbml0aW9uIiwibmFtZU9yQ29uZmlnIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwicHJvcGVydHlMb29rdXAiLCJhdHRyaWJ1dGVMb29rdXAiLCJwcm90byIsInNoYWRvd1Jvb3RzIiwiZGVmYXVsdEV2ZW50T3B0aW9ucyIsImdldFNoYWRvd1Jvb3QiLCJDb250cm9sbGVyIiwic2hhZG93T3B0aW9ucyIsInNoYWRvd1Jvb3QiLCJhY2Nlc3NvcnMiLCJib3VuZE9ic2VydmFibGVzIiwic291cmNlQmVoYXZpb3JzIiwidGFyZ2V0QmVoYXZpb3JzIiwibGVuZ3RoIiwiYmVoYXZpb3JzVG9CaW5kIiwiZm9yY2UiLCJiZWhhdmlvcnNUb1VuYmluZCIsImF0dHJEZWYiLCJkZXRhaWwiLCJwcm9wZXJ0eU5hbWVzIiwiY29udHJvbGxlciIsImNyZWF0ZUZBU1RFbGVtZW50IiwiQmFzZVR5cGUiLCJGQVNURWxlbWVudCIsIm5hbWVPckRlZiIsIkNTU0RpcmVjdGl2ZSIsImNvbGxlY3RTdHlsZXMiLCJjc3NTdHJpbmciLCJjc3MiLCJlbGVtZW50U3R5bGVzIiwiUmVmQmVoYXZpb3IiLCJub1RlbXBsYXRlIiwibm9ybWFsaXplQmluZGluZyIsIndoZW4iLCJ0ZW1wbGF0ZU9yVGVtcGxhdGVCaW5kaW5nIiwiZWxzZVRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmciLCJkYXRhQmluZGluZyIsInRlbXBsYXRlQmluZGluZyIsImVsc2VCaW5kaW5nIiwiTm9kZU9ic2VydmF0aW9uQmVoYXZpb3IiLCJub2RlcyIsIlNsb3R0ZWRCZWhhdmlvciIsInNsb3R0ZWQiLCJwcm9wZXJ0eU9yT3B0aW9ucyIsIlN0YXJ0RW5kIiwiZW5kU2xvdFRlbXBsYXRlIiwic3RhcnRTbG90VGVtcGxhdGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImRlc2MiLCJkIiwibWV0YWRhdGFCeVRhcmdldCIsIlJlc29sdmVyQnVpbGRlciIsImNhY2hlQ2FsbGJhY2tSZXN1bHQiLCJkZXN0aW5hdGlvbktleSIsInN0cmF0ZWd5IiwiUmVzb2x2ZXJJbXBsIiwiY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzIiwiY2xvbmUiLCJEZWZhdWx0UmVzb2x2ZXIiLCJDb250YWluZXJDb25maWd1cmF0aW9uIiwiZGVwZW5kZW5jeUxvb2t1cCIsImdldFBhcmFtVHlwZXMiLCJUeXBlIiwicm9vdERPTUNvbnRhaW5lciIsIkRJIiwiQ29udGFpbmVySW1wbCIsIm93bmVkIiwiRElMb2NhdGVQYXJlbnRFdmVudFR5cGUiLCJhbm5vdGF0aW9uUGFyYW10eXBlcyIsImRlcGVuZGVuY2llcyIsImRlc2lnblBhcmFtdHlwZXMiLCJQcm90byIsImF1QW5ub3RhdGlvblBhcmFtdHlwZSIsInJlc3BlY3RDb25uZWN0aW9uIiwiZGlQcm9wZXJ0eUtleSIsImhhbmRsZUNoYW5nZSIsIm5hbWVDb25maWdPckNhbGxiYWNrIiwiY29uZmlndXJvciIsImNvbmZpZ3VyZSIsImZyaWVuZGx5TmFtZSIsImRlZmF1bHRGcmllbmRseU5hbWUiLCJJbnRlcmZhY2UiLCJwcm9wZXJ0eSIsIlJlZ2lzdHJhdGlvbiIsImRlZmF1bHRTaW5nbGV0b25PcHRpb25zIiwiQ29udGFpbmVyIiwicmVxdWVzdG9yIiwiX2IiLCJfYyIsImNvbnRhaW5lckdldEtleSIsInRyYW5zZm9ybUluc3RhbmNlIiwiaW5zdCIsInRyYW5zZm9ybSIsIkZhY3RvcnlJbXBsIiwiZHluYW1pY0RlcGVuZGVuY2llcyIsInRyYW5zZm9ybWVyIiwiY29udGFpbmVyUmVzb2x2ZXIiLCJpc1JlZ2lzdHJ5IiwiaXNTZWxmUmVnaXN0cnkiLCJpc1JlZ2lzdGVySW5SZXF1ZXN0ZXIiLCJpc0NsYXNzIiwiSW5zdHJpbnNpY1R5cGVOYW1lcyIsImZhY3RvcmllcyIsInBhcmFtcyIsInJlc29sdmVyIiwidmFsaWRhdGVLZXkiLCJyZXNvbHZlcnMiLCJhdXRvUmVnaXN0ZXIiLCJzZWFyY2hBbmNlc3RvcnMiLCJyZXNvbHV0aW9ucyIsImJ1aWxkQWxsUmVzcG9uc2UiLCJpc05hdGl2ZUZ1bmN0aW9uIiwia2V5QXNWYWx1ZSIsInJlZ2lzdHJhdGlvblJlc29sdmVyIiwibmV3UmVzb2x2ZXIiLCJmdW4iLCJ0Iiwib3JpZ2luYWxLZXkiLCJhbGlhc0tleSIsInJlc3VsdHMiLCJsb29rdXAiLCJpc05hdGl2ZSIsInNvdXJjZVRleHQiLCJpc051bWVyaWNMb29rdXAiLCJjaCIsInByZXNlbnRhdGlvbktleUZyb21UYWciLCJ0YWdOYW1lIiwicHJlc2VudGF0aW9uUmVnaXN0cnkiLCJDb21wb25lbnRQcmVzZW50YXRpb24iLCJwcmVzZW50YXRpb24iLCJEZWZhdWx0Q29tcG9uZW50UHJlc2VudGF0aW9uIiwiRm91bmRhdGlvbkVsZW1lbnQiLCJlbGVtZW50RGVmaW5pdGlvbiIsIm92ZXJyaWRlRGVmaW5pdGlvbiIsIkZvdW5kYXRpb25FbGVtZW50UmVnaXN0cnkiLCJyZXNvbHZlT3B0aW9uIiwib3B0aW9uIiwiYXBwbHlNaXhpbnMiLCJkZXJpdmVkQ3RvciIsImJhc2VDdG9ycyIsImRlcml2ZWRBdHRyaWJ1dGVzIiwiYmFzZUN0b3IiLCJPcmllbnRhdGlvbiIsImZpbmRMYXN0SW5kZXgiLCJwcmVkaWNhdGUiLCJjYW5Vc2VET00iLCJpc0hUTUxFbGVtZW50IiwiZ2V0Tm9uY2UiLCJfY2FuVXNlRm9jdXNWaXNpYmxlIiwiY2FuVXNlRm9jdXNWaXNpYmxlIiwic3R5bGVFbGVtZW50Iiwic3R5bGVOb25jZSIsIktleUNvZGVzIiwia2V5QXJyb3dEb3duIiwia2V5QXJyb3dVcCIsImtleUVudGVyIiwia2V5RXNjYXBlIiwia2V5SG9tZSIsImtleUVuZCIsImtleVNwYWNlIiwia2V5VGFiIiwiaW5SYW5nZSIsIm1pbiIsIm1heCIsInVuaXF1ZUlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMiLCJidXR0b25UZW1wbGF0ZSIsInByb3h5U2xvdE5hbWUiLCJFbGVtZW50SW50ZXJuYWxzS2V5Iiwic3VwcG9ydHNFbGVtZW50SW50ZXJuYWxzIiwiSW50ZXJuYWxzTWFwIiwiRm9ybUFzc29jaWF0ZWQiLCJCYXNlQ3RvciIsIkMiLCJwYXJlbnRMYWJlbHMiLCJmb3JMYWJlbHMiLCJsYWJlbHMiLCJwcmV2aW91cyIsImZsYWdzIiwibWVzc2FnZSIsImRpc2FibGVkIiwiZGVmYXVsdEJ1dHRvbiIsIl9CdXR0b24iLCJGb3JtQXNzb2NpYXRlZEJ1dHRvbiIsImF0dGFjaGVkIiwiZWxlbWVudHMiLCJzcGFuIiwiQnV0dG9uIiwiRGVsZWdhdGVzQVJJQUJ1dHRvbiIsImlzTGlzdGJveE9wdGlvbiIsIkxpc3Rib3hPcHRpb24iLCJkZWZhdWx0U2VsZWN0ZWQiLCJzZWxlY3RlZCIsIkRlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uIiwiTGlzdGJveCIsImNhcHR1cmVkIiwib3B0aW9uVG9Gb2N1cyIsInBhdHRlcm4iLCJyZSIsInBvdGVudGlhbERpcmVjdGlvbiIsIm5leHRTZWxlY3RhYmxlT3B0aW9uIiwidGhpc09wdGlvbiIsInNlbGVjdGFibGVJbmRleCIsIm5ld05leHQiLCJmaWx0ZXJlZE5leHQiLCJzZXRTaXplIiwidHlwZWFoZWFkTWF0Y2hlcyIsInNlbGVjdGVkSW5kZXgiLCJEZWxlZ2F0ZXNBUklBTGlzdGJveCIsIlNlbGVjdFBvc2l0aW9uIiwiY29tcG9zZWRQYXJlbnQiLCJyb290Tm9kZSIsImNvbXBvc2VkQ29udGFpbnMiLCJyZWZlcmVuY2UiLCJ0ZXN0IiwiZGVmYXVsdEVsZW1lbnQiLCJpc0Zhc3RFbGVtZW50IiwiUXVldWVkU3R5bGVTaGVldFRhcmdldCIsIkNvbnN0cnVjdGFibGVTdHlsZVNoZWV0VGFyZ2V0IiwiRG9jdW1lbnRTdHlsZVNoZWV0VGFyZ2V0IiwiSGVhZFN0eWxlRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQiLCJTdHlsZUVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0IiwiRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQiLCJSb290U3R5bGVTaGVldFRhcmdldCIsIlByb3BlcnR5VGFyZ2V0TWFuYWdlciIsInJvb3RzIiwicHJvcGVydHlUYXJnZXRDYWNoZSIsInByb3BlcnR5VGFyZ2V0Q3RvciIsIkRlc2lnblRva2VuSW1wbCIsImNvbmZpZ3VyYXRpb24iLCJ0b2tlbiIsIkRlc2lnblRva2VuTm9kZSIsInN1YnNjcmliZXJTZXQiLCJyZWNvcmQiLCJDdXN0b21Qcm9wZXJ0eVJlZmxlY3RvciIsIkRlc2lnblRva2VuQmluZGluZ09ic2VydmVyIiwiU3RvcmUiLCJub2RlQ2FjaGUiLCJjaGlsZFRvUGFyZW50IiwicmVmbGVjdGluZyIsInBhcmVudFZhbHVlIiwic291cmNlVmFsdWUiLCJ1cHN0cmVhbSIsInJlUGFyZW50IiwiY2hpbGRJbmRleCIsImRlbGV0ZWQiLCJvYnNlcnZlciIsImNyZWF0ZSIsIkRlc2lnblRva2VuIiwiRWxlbWVudERpc2FtYmlndWF0aW9uIiwiZWxlbWVudFR5cGVzQnlUYWciLCJlbGVtZW50VGFnc0J5VHlwZSIsInJvb3REZXNpZ25TeXN0ZW0iLCJkZXNpZ25TeXN0ZW1LZXkiLCJEZWZhdWx0RGVzaWduU3lzdGVtIiwiRGVzaWduU3lzdGVtIiwic3lzdGVtIiwiZXh0cmFjdFRyeURlZmluZUVsZW1lbnRQYXJhbXMiLCJlbGVtZW50RGVmaW5pdGlvblR5cGUiLCJlbGVtZW50RGVmaW5pdGlvbkNhbGxiYWNrIiwicmVnaXN0cmF0aW9ucyIsImVsZW1lbnREZWZpbml0aW9uRW50cmllcyIsImRpc2FtYmlndWF0ZSIsInNoYWRvd1Jvb3RNb2RlIiwiZXh0cmFjdGVkUGFyYW1zIiwiYmFzZUNsYXNzIiwiZWxlbWVudE5hbWUiLCJ0eXBlRm91bmRCeU5hbWUiLCJuZWVkc0RlZmluZSIsIkVsZW1lbnREZWZpbml0aW9uRW50cnkiLCJ3aWxsRGVmaW5lIiwiZGl2aWRlclRlbXBsYXRlIiwiRGl2aWRlclJvbGUiLCJEaXZpZGVyIiwibGlzdGJveE9wdGlvblRlbXBsYXRlIiwiTGlzdGJveEVsZW1lbnQiLCJhY3RpdmVJdGVtIiwicHJlc2VydmVDaGVja2VkIiwic2hpZnRLZXkiLCJlbmFibGVkQ2hlY2tlZE9wdGlvbnMiLCJhY3RpdmVJbmRleCIsInByb2dyZXNzU2VnbWVudHMiLCJwcm9ncmVzc1JpbmdUZW1wbGF0ZSIsIkJhc2VQcm9ncmVzcyIsIl9TZWxlY3QiLCJGb3JtQXNzb2NpYXRlZFNlbGVjdCIsIlNlbGVjdCIsIl9kIiwiX2UiLCJfZiIsIl9nIiwicHJldlNlbGVjdGVkVmFsdWUiLCJuZXh0U2VsZWN0ZWRWYWx1ZSIsInNob3VsZEVtaXQiLCJjdXJyZW50Qm94IiwiYXZhaWxhYmxlQm90dG9tIiwiZm9jdXNUYXJnZXQiLCJwcm94eU9wdGlvbiIsIkRlbGVnYXRlc0FSSUFTZWxlY3QiLCJzZWxlY3RUZW1wbGF0ZSIsImRpc2FibGVkQ3Vyc29yIiwiaGlkZGVuIiwiZGlzcGxheSIsImRpc3BsYXlWYWx1ZSIsImZvY3VzVmlzaWJsZSIsInByb3ZpZGVWU0NvZGVEZXNpZ25TeXN0ZW0iLCJpbml0VGhlbWVDaGFuZ2VMaXN0ZW5lciIsInRva2VuTWFwcGluZ3MiLCJhcHBseUN1cnJlbnRUaGVtZSIsImJvZHkiLCJ0aGVtZUtpbmQiLCJ2c2NvZGVUb2tlbk5hbWUiLCJ0b29sa2l0VG9rZW4iLCJpc1RoZW1lTGlzdGVuZXJJbml0aWFsaXplZCIsInZzY29kZVRoZW1lVmFyIiwiZGVzaWduVG9rZW4iLCJiYWNrZ3JvdW5kIiwiYm9yZGVyV2lkdGgiLCJjb250cmFzdEFjdGl2ZUJvcmRlciIsImNvcm5lclJhZGl1cyIsImNvcm5lclJhZGl1c1JvdW5kIiwiZGVzaWduVW5pdCIsImRpc2FibGVkT3BhY2l0eSIsImZvY3VzQm9yZGVyIiwiZm9udEZhbWlseSIsImZvcmVncm91bmQiLCJpbnB1dEhlaWdodCIsImlucHV0TWluV2lkdGgiLCJ0eXBlUmFtcEJhc2VGb250U2l6ZSIsInR5cGVSYW1wQmFzZUxpbmVIZWlnaHQiLCJ0eXBlUmFtcE1pbnVzMUZvbnRTaXplIiwidHlwZVJhbXBNaW51czFMaW5lSGVpZ2h0Iiwic2Nyb2xsYmFyV2lkdGgiLCJzY3JvbGxiYXJIZWlnaHQiLCJzY3JvbGxiYXJTbGlkZXJCYWNrZ3JvdW5kIiwic2Nyb2xsYmFyU2xpZGVySG92ZXJCYWNrZ3JvdW5kIiwic2Nyb2xsYmFyU2xpZGVyQWN0aXZlQmFja2dyb3VuZCIsImJhZGdlQmFja2dyb3VuZCIsImJhZGdlRm9yZWdyb3VuZCIsImJ1dHRvbkJvcmRlciIsImJ1dHRvbkljb25CYWNrZ3JvdW5kIiwiYnV0dG9uSWNvbkNvcm5lclJhZGl1cyIsImJ1dHRvbkljb25Gb2N1c0JvcmRlck9mZnNldCIsImJ1dHRvbkljb25Ib3ZlckJhY2tncm91bmQiLCJidXR0b25JY29uUGFkZGluZyIsImJ1dHRvblByaW1hcnlCYWNrZ3JvdW5kIiwiYnV0dG9uUHJpbWFyeUZvcmVncm91bmQiLCJidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kIiwiYnV0dG9uU2Vjb25kYXJ5QmFja2dyb3VuZCIsImJ1dHRvblNlY29uZGFyeUZvcmVncm91bmQiLCJidXR0b25TZWNvbmRhcnlIb3ZlckJhY2tncm91bmQiLCJidXR0b25QYWRkaW5nSG9yaXpvbnRhbCIsImJ1dHRvblBhZGRpbmdWZXJ0aWNhbCIsImNoZWNrYm94QmFja2dyb3VuZCIsImNoZWNrYm94Qm9yZGVyIiwiY2hlY2tib3hDb3JuZXJSYWRpdXMiLCJsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZCIsImxpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kIiwibGlzdEhvdmVyQmFja2dyb3VuZCIsImRpdmlkZXJCYWNrZ3JvdW5kIiwiZHJvcGRvd25CYWNrZ3JvdW5kIiwiZHJvcGRvd25Cb3JkZXIiLCJkcm9wZG93bkxpc3RNYXhIZWlnaHQiLCJpbnB1dEJhY2tncm91bmQiLCJpbnB1dEZvcmVncm91bmQiLCJsaW5rQWN0aXZlRm9yZWdyb3VuZCIsImxpbmtGb3JlZ3JvdW5kIiwicHJvZ3Jlc3NCYWNrZ3JvdW5kIiwicGFuZWxUYWJBY3RpdmVCb3JkZXIiLCJwYW5lbFRhYkFjdGl2ZUZvcmVncm91bmQiLCJwYW5lbFRhYkZvcmVncm91bmQiLCJ0YWdDb3JuZXJSYWRpdXMiLCJCYXNlQnV0dG9uU3R5bGVzIiwiUHJpbWFyeUJ1dHRvblN0eWxlcyIsIlNlY29uZGFyeUJ1dHRvblN0eWxlcyIsIkljb25CdXR0b25TdHlsZXMiLCJidXR0b25TdHlsZXMiLCJGb3VuZGF0aW9uQnV0dG9uIiwiYXBwZWFyYW5jZVZhbHVlIiwib2xkVmFsIiwidnNDb2RlQnV0dG9uIiwiZGl2aWRlclN0eWxlcyIsIkZvdW5kYXRpb25EaXZpZGVyIiwidnNDb2RlRGl2aWRlciIsImRyb3Bkb3duU3R5bGVzIiwiRHJvcGRvd24iLCJGb3VuZGF0aW9uU2VsZWN0IiwidnNDb2RlRHJvcGRvd24iLCJvcHRpb25TdHlsZXMiLCJGb3VuZGF0aW9uTGlzdGJveE9wdGlvbiIsInZzQ29kZU9wdGlvbiIsIk9wdGlvbiIsInByb2dyZXNzUmluZ1N0eWxlcyIsIlByb2dyZXNzUmluZyIsInZzQ29kZVByb2dyZXNzUmluZyIsIl9vcGVuQmxvY2siLCJfY3JlYXRlRWxlbWVudEJsb2NrIiwiX19wcm9wcyIsIl9yZW5kZXJTbG90IiwidG9TdHJpbmciLCJnZXRQcm90b3R5cGVPZiIsInRvU3RyaW5nVGFnIiwia2luZE9mIiwidGhpbmciLCJraW5kT2ZUZXN0IiwidHlwZU9mVGVzdCIsImlzVW5kZWZpbmVkIiwiaXNCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJpc051bWJlciIsInByb3RvdHlwZSIsImlzRW1wdHlPYmplY3QiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0ZpbGVMaXN0IiwiaXNTdHJlYW0iLCJpc0Zvcm1EYXRhIiwia2luZCIsImlzVVJMU2VhcmNoUGFyYW1zIiwiaXNSZWFkYWJsZVN0cmVhbSIsImlzUmVxdWVzdCIsImlzUmVzcG9uc2UiLCJpc0hlYWRlcnMiLCJmb3JFYWNoIiwiYWxsT3duS2V5cyIsImZpbmRLZXkiLCJfZ2xvYmFsIiwiaXNDb250ZXh0RGVmaW5lZCIsIm1lcmdlIiwiY2FzZWxlc3MiLCJza2lwVW5kZWZpbmVkIiwiYXNzaWduVmFsdWUiLCJ0YXJnZXRLZXkiLCJzdHJpcEJPTSIsImluaGVyaXRzIiwiY29uc3RydWN0b3IiLCJzdXBlckNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvcnMiLCJ0b0ZsYXRPYmplY3QiLCJzb3VyY2VPYmoiLCJkZXN0T2JqIiwiZmlsdGVyIiwicHJvcEZpbHRlciIsImVuZHNXaXRoIiwic2VhcmNoU3RyaW5nIiwibGFzdEluZGV4IiwidG9BcnJheSIsImlzVHlwZWRBcnJheSIsIlR5cGVkQXJyYXkiLCJmb3JFYWNoRW50cnkiLCJfaXRlcmF0b3IiLCJwYWlyIiwibWF0Y2hBbGwiLCJyZWdFeHAiLCJtYXRjaGVzIiwiaXNIVE1MRm9ybSIsInRvQ2FtZWxDYXNlIiwicDEiLCJwMiIsImlzUmVnRXhwIiwicmVkdWNlRGVzY3JpcHRvcnMiLCJyZWR1Y2VyIiwicmVkdWNlZERlc2NyaXB0b3JzIiwiZnJlZXplTWV0aG9kcyIsInRvT2JqZWN0U2V0IiwiYXJyYXlPclN0cmluZyIsImRlbGltaXRlciIsImRlZmluZSIsInRvRmluaXRlTnVtYmVyIiwiaXNTcGVjQ29tcGxpYW50Rm9ybSIsInRvSlNPTk9iamVjdCIsInN0YWNrIiwidmlzaXQiLCJyZWR1Y2VkVmFsdWUiLCJpc0FzeW5jRm4iLCJpc1RoZW5hYmxlIiwiX3NldEltbWVkaWF0ZSIsInNldEltbWVkaWF0ZVN1cHBvcnRlZCIsInBvc3RNZXNzYWdlU3VwcG9ydGVkIiwiY2FsbGJhY2tzIiwiYXNhcCIsImlzSXRlcmFibGUiLCJ1dGlscyQxIiwiQXhpb3NFcnJvciIsImNvZGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJ1dGlscyIsImN1c3RvbVByb3BzIiwiYXhpb3NFcnJvciIsIm1zZyIsImVyckNvZGUiLCJodHRwQWRhcHRlciIsImlzVmlzaXRhYmxlIiwicmVtb3ZlQnJhY2tldHMiLCJyZW5kZXJLZXkiLCJkb3RzIiwiaXNGbGF0QXJyYXkiLCJwcmVkaWNhdGVzIiwidG9Gb3JtRGF0YSIsImZvcm1EYXRhIiwibWV0YVRva2VucyIsInZpc2l0b3IiLCJkZWZhdWx0VmlzaXRvciIsImluZGV4ZXMiLCJ1c2VCbG9iIiwiY29udmVydFZhbHVlIiwiZXhwb3NlZEhlbHBlcnMiLCJidWlsZCIsImVuY29kZSIsImNoYXJNYXAiLCJBeGlvc1VSTFNlYXJjaFBhcmFtcyIsImVuY29kZXIiLCJfZW5jb2RlIiwiYnVpbGRVUkwiLCJ1cmwiLCJzZXJpYWxpemVGbiIsInNlcmlhbGl6ZWRQYXJhbXMiLCJoYXNobWFya0luZGV4IiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJ0cmFuc2l0aW9uYWxEZWZhdWx0cyIsIlVSTFNlYXJjaFBhcmFtcyQxIiwiRm9ybURhdGEkMSIsIkJsb2IkMSIsInBsYXRmb3JtJDEiLCJVUkxTZWFyY2hQYXJhbXMiLCJGb3JtRGF0YSIsIkJsb2IiLCJoYXNCcm93c2VyRW52IiwiX25hdmlnYXRvciIsImhhc1N0YW5kYXJkQnJvd3NlckVudiIsImhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiIsIm9yaWdpbiIsInBsYXRmb3JtIiwidG9VUkxFbmNvZGVkRm9ybSIsImhlbHBlcnMiLCJwYXJzZVByb3BQYXRoIiwiYXJyYXlUb09iamVjdCIsImZvcm1EYXRhVG9KU09OIiwiYnVpbGRQYXRoIiwiaXNOdW1lcmljS2V5IiwiaXNMYXN0Iiwic3RyaW5naWZ5U2FmZWx5IiwicGFyc2VyIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29udGVudFR5cGUiLCJoYXNKU09OQ29udGVudFR5cGUiLCJpc09iamVjdFBheWxvYWQiLCJfRm9ybURhdGEiLCJ0cmFuc2l0aW9uYWwiLCJmb3JjZWRKU09OUGFyc2luZyIsIkpTT05SZXF1ZXN0ZWQiLCJzdHJpY3RKU09OUGFyc2luZyIsInN0YXR1cyIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VIZWFkZXJzIiwicmF3SGVhZGVycyIsInBhcnNlZCIsImxpbmUiLCIkaW50ZXJuYWxzIiwibm9ybWFsaXplSGVhZGVyIiwiaGVhZGVyIiwibm9ybWFsaXplVmFsdWUiLCJwYXJzZVRva2VucyIsInRva2VucyIsInRva2Vuc1JFIiwiaXNWYWxpZEhlYWRlck5hbWUiLCJtYXRjaEhlYWRlclZhbHVlIiwiaXNIZWFkZXJOYW1lRmlsdGVyIiwiZm9ybWF0SGVhZGVyIiwidyIsImNoYXIiLCJidWlsZEFjY2Vzc29ycyIsImFjY2Vzc29yTmFtZSIsIm1ldGhvZE5hbWUiLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJBeGlvc0hlYWRlcnMkMSIsInZhbHVlT3JSZXdyaXRlIiwicmV3cml0ZSIsInNldEhlYWRlciIsIl92YWx1ZSIsIl9oZWFkZXIiLCJfcmV3cml0ZSIsImxIZWFkZXIiLCJzZXRIZWFkZXJzIiwiZGVzdCIsIm1hdGNoZXIiLCJkZWxldGVIZWFkZXIiLCJmb3JtYXQiLCJ0YXJnZXRzIiwiYXNTdHJpbmdzIiwiZmlyc3QiLCJkZWZpbmVBY2Nlc3NvciIsIkF4aW9zSGVhZGVycyIsIm1hcHBlZCIsImhlYWRlclZhbHVlIiwidHJhbnNmb3JtRGF0YSIsImlzQ2FuY2VsIiwiQ2FuY2VsZWRFcnJvciIsInNldHRsZSIsInJlamVjdCIsInZhbGlkYXRlU3RhdHVzIiwicGFyc2VQcm90b2NvbCIsInNwZWVkb21ldGVyIiwic2FtcGxlc0NvdW50IiwiYnl0ZXMiLCJ0aW1lc3RhbXBzIiwiZmlyc3RTYW1wbGVUUyIsImNodW5rTGVuZ3RoIiwibm93Iiwic3RhcnRlZEF0IiwiYnl0ZXNDb3VudCIsInBhc3NlZCIsImZyZXEiLCJ0aW1lc3RhbXAiLCJ0aHJlc2hvbGQiLCJsYXN0QXJncyIsInRpbWVyIiwiaW52b2tlIiwicHJvZ3Jlc3NFdmVudFJlZHVjZXIiLCJsaXN0ZW5lciIsImlzRG93bmxvYWRTdHJlYW0iLCJieXRlc05vdGlmaWVkIiwiX3NwZWVkb21ldGVyIiwibG9hZGVkIiwidG90YWwiLCJwcm9ncmVzc0J5dGVzIiwicmF0ZSIsInByb2dyZXNzRXZlbnREZWNvcmF0b3IiLCJsZW5ndGhDb21wdXRhYmxlIiwiYXN5bmNEZWNvcmF0b3IiLCJpc1VSTFNhbWVPcmlnaW4iLCJpc01TSUUiLCJjb29raWVzIiwiZXhwaXJlcyIsImRvbWFpbiIsInNlY3VyZSIsInNhbWVTaXRlIiwiY29va2llIiwiaXNBYnNvbHV0ZVVSTCIsImNvbWJpbmVVUkxzIiwiYmFzZVVSTCIsInJlbGF0aXZlVVJMIiwiYnVpbGRGdWxsUGF0aCIsInJlcXVlc3RlZFVSTCIsImFsbG93QWJzb2x1dGVVcmxzIiwiaXNSZWxhdGl2ZVVybCIsImhlYWRlcnNUb09iamVjdCIsIm1lcmdlQ29uZmlnIiwiY29uZmlnMSIsImNvbmZpZzIiLCJnZXRNZXJnZWRWYWx1ZSIsIm1lcmdlRGVlcFByb3BlcnRpZXMiLCJ2YWx1ZUZyb21Db25maWcyIiwiZGVmYXVsdFRvQ29uZmlnMiIsIm1lcmdlRGlyZWN0S2V5cyIsIm1lcmdlTWFwIiwiY29uZmlnVmFsdWUiLCJyZXNvbHZlQ29uZmlnIiwibmV3Q29uZmlnIiwid2l0aFhTUkZUb2tlbiIsInhzcmZIZWFkZXJOYW1lIiwieHNyZkNvb2tpZU5hbWUiLCJhdXRoIiwiZm9ybUhlYWRlcnMiLCJhbGxvd2VkSGVhZGVycyIsInhzcmZWYWx1ZSIsImlzWEhSQWRhcHRlclN1cHBvcnRlZCIsInhockFkYXB0ZXIiLCJfY29uZmlnIiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsInJlc3BvbnNlVHlwZSIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJvbkNhbmNlbGVkIiwidXBsb2FkVGhyb3R0bGVkIiwiZG93bmxvYWRUaHJvdHRsZWQiLCJmbHVzaFVwbG9hZCIsImZsdXNoRG93bmxvYWQiLCJvbmxvYWRlbmQiLCJyZXNwb25zZUhlYWRlcnMiLCJ0aW1lb3V0RXJyb3JNZXNzYWdlIiwiY2FuY2VsIiwicHJvdG9jb2wiLCJjb21wb3NlU2lnbmFscyIsInNpZ25hbHMiLCJhYm9ydGVkIiwib25hYm9ydCIsInJlYXNvbiIsInVuc3Vic2NyaWJlIiwic2lnbmFsIiwic3RyZWFtQ2h1bmsiLCJjaHVuayIsImNodW5rU2l6ZSIsInBvcyIsInJlYWRCeXRlcyIsIml0ZXJhYmxlIiwicmVhZFN0cmVhbSIsInN0cmVhbSIsInJlYWRlciIsInRyYWNrU3RyZWFtIiwib25Qcm9ncmVzcyIsIm9uRmluaXNoIiwiX29uRmluaXNoIiwibG9hZGVkQnl0ZXMiLCJERUZBVUxUX0NIVU5LX1NJWkUiLCJnbG9iYWxGZXRjaEFQSSIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIlJlYWRhYmxlU3RyZWFtIiwiVGV4dEVuY29kZXIiLCJlbnYiLCJlbnZGZXRjaCIsImlzRmV0Y2hTdXBwb3J0ZWQiLCJpc1JlcXVlc3RTdXBwb3J0ZWQiLCJpc1Jlc3BvbnNlU3VwcG9ydGVkIiwiaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCIsImVuY29kZVRleHQiLCJzdXBwb3J0c1JlcXVlc3RTdHJlYW0iLCJkdXBsZXhBY2Nlc3NlZCIsImhhc0NvbnRlbnRUeXBlIiwic3VwcG9ydHNSZXNwb25zZVN0cmVhbSIsImdldEJvZHlMZW5ndGgiLCJyZXNvbHZlQm9keUxlbmd0aCIsImNhbmNlbFRva2VuIiwid2l0aENyZWRlbnRpYWxzIiwiZmV0Y2hPcHRpb25zIiwiX2ZldGNoIiwiY29tcG9zZWRTaWduYWwiLCJyZXF1ZXN0Q29udGVudExlbmd0aCIsIl9yZXF1ZXN0IiwiY29udGVudFR5cGVIZWFkZXIiLCJpc0NyZWRlbnRpYWxzU3VwcG9ydGVkIiwicmVzb2x2ZWRPcHRpb25zIiwiaXNTdHJlYW1SZXNwb25zZSIsInJlc3BvbnNlQ29udGVudExlbmd0aCIsInJlc3BvbnNlRGF0YSIsInNlZWRDYWNoZSIsImdldEZldGNoIiwiZmV0Y2giLCJzZWVkcyIsInNlZWQiLCJrbm93bkFkYXB0ZXJzIiwiZmV0Y2hBZGFwdGVyLmdldEZldGNoIiwicmVuZGVyUmVhc29uIiwiaXNSZXNvbHZlZEhhbmRsZSIsImFkYXB0ZXIiLCJnZXRBZGFwdGVyIiwiYWRhcHRlcnMiLCJuYW1lT3JBZGFwdGVyIiwicmVqZWN0ZWRSZWFzb25zIiwicmVhc29ucyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJkaXNwYXRjaFJlcXVlc3QiLCJWRVJTSU9OIiwidmFsaWRhdG9ycyIsImRlcHJlY2F0ZWRXYXJuaW5ncyIsInZhbGlkYXRvciIsImZvcm1hdE1lc3NhZ2UiLCJjb3JyZWN0U3BlbGxpbmciLCJhc3NlcnRPcHRpb25zIiwic2NoZW1hIiwiYWxsb3dVbmtub3duIiwiQXhpb3MkMSIsImluc3RhbmNlQ29uZmlnIiwiY29uZmlnT3JVcmwiLCJkdW1teSIsInBhcmFtc1NlcmlhbGl6ZXIiLCJjb250ZXh0SGVhZGVycyIsInJlcXVlc3RJbnRlcmNlcHRvckNoYWluIiwic3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4iLCJwcm9taXNlIiwiY2hhaW4iLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJmdWxsUGF0aCIsIkF4aW9zIiwiZ2VuZXJhdGVIVFRQTWV0aG9kIiwiaXNGb3JtIiwiQ2FuY2VsVG9rZW4kMSIsIkNhbmNlbFRva2VuIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsIm9uZnVsZmlsbGVkIiwiX3Jlc29sdmUiLCJhYm9ydCIsInNwcmVhZCIsImlzQXhpb3NFcnJvciIsInBheWxvYWQiLCJIdHRwU3RhdHVzQ29kZSIsImNyZWF0ZUluc3RhbmNlIiwiZGVmYXVsdENvbmZpZyIsImF4aW9zIiwicHJvbWlzZXMiLCJhbGwiLCJDYW5jZWwiLCJmb3JtVG9KU09OIiwiZGV2ZWxvcG1lbnQiLCJwcm9kdWN0aW9uIiwic3RhZ2luZyIsImRlZmluZV9wcm9jZXNzX2Vudl9kZWZhdWx0IiwiY29uZmlnJDEiLCJpc0NvbmZpZ3VyYXRpb25FcnJvciIsImNmZyIsIkNvbnRlbnRUeXBlIiwiU2VydmVyVHlwZSIsIlByb2R1Y3RUeXBlIiwiUHJvZHVjdE5hbWUiLCJpc1ByZUNvbnRlbnRSZWNvcmQiLCJGaWxlTWF0Y2hTb3VyY2UiLCJFcnJvck1lc3NhZ2VBY3Rpb25JZHMiLCJpc0Vycm9yTWVzc2FnZUFjdGlvbklkIiwic2VhcmNoVmFsdWUiLCJFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbnMiLCJmaW5kRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24iLCJXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUiLCJjYWxjdWxhdGVUaXRsZSIsImNvbnRlbnRSZWNvcmQiLCJ0aXRsZSIsImNvbmZpZ0NvZGUiLCJjb25maWdOYW1lIiwiZmlsdGVyQ29uZmlndXJhdGlvbnNUb1ZhbGlkQW5kVHlwZSIsImNvbmZpZ3MiLCJpc0NvbmZpZ3VyYXRpb25PZlR5cGUiLCJIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUiLCJpc0hvc3RUb1dlYnZpZXdNZXNzYWdlIiwiSG9zdENvbmR1aXQiLCJ3aW5kb3ciLCJ2c0NvZGVBcGkiLCJub3JtYWxpemVVUkwiLCJpbnB1dCIsImlzQWdlbnRFcnJvciIsImlzQWdlbnRFcnJvckJhc2UiLCJpc0FnZW50RXJyb3JUeXBlVW5rbm93biIsImlzQWdlbnRFcnJvckludmFsaWRUT01MIiwiaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyIsImlzQ29ubmVjdENsb3VkIiwic2VydmVyVHlwZSIsImlzQ29ubmVjdFByb2R1Y3QiLCJwcm9kdWN0VHlwZSIsImlzQ29ubmVjdENsb3VkUHJvZHVjdCIsImdldFByb2R1Y3RUeXBlIiwidXNlSG9tZVN0b3JlIiwicGxhdGZvcm1GaWxlU2VwYXJhdG9yIiwicHVibGlzaEluUHJvZ3Jlc3MiLCJwdWJsaXNoSW5pdGlhdGVkIiwiY29udGVudFJlbmRlckluUHJvZ3Jlc3MiLCJjb250ZW50UmVuZGVyU3VjY2VzcyIsImNvbnRlbnRSZW5kZXJFcnJvciIsImNvbnRlbnRSZWNvcmRzIiwiY29uZmlndXJhdGlvbnMiLCJjb25maWd1cmF0aW9uc0luRXJyb3IiLCJjcmVkZW50aWFscyIsInNvcnRlZENyZWRlbnRpYWxzIiwic2VydmVyU2V0dGluZ3MiLCJzZXJ2ZXJTZWNyZXRzIiwic2VjcmV0cyIsImludGVncmF0aW9uUmVxdWVzdHMiLCJlbnZpcm9ubWVudCIsInNlbGVjdGVkQ29uZmlndXJhdGlvbiIsImR1cGxpY2F0ZWRFbnZpcm9ubWVudFZhcmlhYmxlcyIsIl8iLCJzaG93RGlzYWJsZWRPdmVybGF5Iiwic2VsZWN0ZWRDb250ZW50UmVjb3JkIiwiY29uZmlndXJhdGlvbk5hbWUiLCJwcm9qZWN0RGlyIiwicHJldkNvbnRlbnRSZWNvcmQiLCJpc1NhbWVDb250ZW50UmVjb3JkIiwic2VjcmV0Iiwic2VydmVyQ3JlZGVudGlhbCIsImNyZWRlbnRpYWxBY2NvdW50TmFtZSIsInJlY29yZEFjY291bnROYW1lIiwiY3JlZGVudGlhbFVybCIsInJlY29yZFVybCIsImxhc3RDb250ZW50UmVjb3JkUmVzdWx0IiwibGFzdENvbnRlbnRSZWNvcmRNc2ciLCJweXRob25Qcm9qZWN0IiwicHl0aG9uUGFja2FnZXMiLCJweXRob25QYWNrYWdlRmlsZSIsInB5dGhvblBhY2thZ2VNYW5hZ2VyIiwiclByb2plY3QiLCJyUGFja2FnZXMiLCJyUGFja2FnZUZpbGUiLCJyUGFja2FnZU1hbmFnZXIiLCJyVmVyc2lvbiIsImluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZSIsInVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3IiLCJwcmV2aW91c1NlbGVjdGVkQ29udGVudFJlY29yZCIsInByZXZpb3VzU2VsZWN0ZWRDb25maWciLCJ1cGRhdGVTZWxlY3RlZENvbnRlbnRSZWNvcmRCeU9iamVjdCIsInVwZGF0ZVNlbGVjdGlvbkNyZWRlbnRpYWxTdGF0dXMiLCJ1c2VIb3N0Q29uZHVpdFNlcnZpY2UiLCJ1cGRhdGVTZWxlY3Rpb25Jc1ByZUNvbnRlbnRSZWNvcmRTdGF0ZSIsInVwZGF0ZVBhcmVudFZpZXdTZWxlY3Rpb25TdGF0ZSIsImhvc3RDb25kdWl0IiwidXBkYXRlUHl0aG9uUGFja2FnZXMiLCJpc3B5dGhvblByb2plY3QiLCJwYWNrYWdlcyIsImZpbGUiLCJtYW5hZ2VyIiwidXBkYXRlUlBhY2thZ2VzIiwiaXNSUHJvamVjdCIsImNsZWFyU2VjcmV0VmFsdWVzIiwiY2xlYXJlZCIsInNlY3JldHNXaXRoVmFsdWVDb3VudCIsInB5dGhvbiIsImNyZWRlbnRpYWwiLCJhbnlBY3RpdmVBbGVydHMiLCJmbGF0dGVuRmlsZXMiLCJmaWxlcyIsImV4cGFuZGVkRGlycyIsImluZGVudCIsInBhcmVudEZpbGUiLCJyZXN0IiwiZmxhdEZpbGUiLCJ1c2VGaWxlU3RvcmUiLCJob21lIiwic2VuZE1zZyIsImZsYXRGaWxlcyIsImxhc3REZXBsb3llZEZpbGVzIiwicmVmcmVzaEZpbGVzIiwiaW5jbHVkZUZpbGUiLCJleGNsdWRlRmlsZSIsIm9wZW5GaWxlIiwiZXhwYW5kRGlyIiwiY29sbGFwc2VEaXIiLCJhcGlJbnN0YW5jZSIsInZzY29kZUFQSSIsIm9uTWVzc2FnZUZyb21Ib3N0Iiwib25Jbml0aWFsaXppbmdSZXF1ZXN0Q29tcGxldGVNc2ciLCJvblJlZnJlc2hDb250ZW50UmVjb3JkRGF0YU1zZyIsIm9uUmVmcmVzaENvbmZpZ0RhdGFNc2ciLCJvblJlZnJlc2hDcmVkZW50aWFsRGF0YU1zZyIsIm9uUHVibGlzaENhbmNlbE1zZyIsIm9uUHVibGlzaEluaXRNc2ciLCJvblB1Ymxpc2hTdGFydE1zZyIsIm9uUHVibGlzaEZpbmlzaFN1Y2Nlc3NNc2ciLCJvblB1Ymxpc2hGaW5pc2hGYWlsdXJlTXNnIiwib25Db250ZW50UmVuZGVyU3VjY2Vzc01zZyIsIm9uQ29udGVudFJlbmRlckZhaWx1cmVNc2ciLCJvblVwZGF0ZUNvbnRlbnRSZWNvcmRTZWxlY3Rpb25Nc2ciLCJvblNhdmVTZWxlY3Rpb25Nc2ciLCJvblJlZnJlc2hGaWxlc01zZyIsIm9uVXBkYXRlUHl0aG9uUGFja2FnZXMiLCJvblVwZGF0ZVJQYWNrYWdlcyIsIm9uU2hvd0Rpc2FibGVPdmVybGF5TXNnIiwib25IaWRlRGlzYWJsZU92ZXJsYXlNc2ciLCJvblNldFBhdGhTZXBhcmF0b3JNc2ciLCJvblVwZGF0ZVNlcnZlckVudmlyb25tZW50TXNnIiwib25SZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZyIsIm9uUmVmcmVzaFNlcnZlclNldHRpbmdzTXNnIiwiZmlsZVN0b3JlIiwiaXNJY29uRGV0YWlsIiwiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsIl9ub3JtYWxpemVDbGFzcyIsIl9ob2lzdGVkXzMiLCJfaG9pc3RlZF80IiwiX3RvRGlzcGxheVN0cmluZyIsIl9ob2lzdGVkXzUiLCJfRnJhZ21lbnQiLCJfcmVuZGVyTGlzdCIsIl9ob2lzdGVkXzYiLCJfaG9pc3RlZF83IiwiX2hvaXN0ZWRfOCIsImNvbnRleHRNZW51QnV0dG9uIiwib3BlbkNvbnRleHRNZW51IiwidnNjb2RlQ29udGV4dCIsIl93aXRoTW9kaWZpZXJzIiwiX3dpdGhLZXlzIiwiaGF2ZVJlc291cmNlcyIsImRpc2FibGVEZXBsb3kiLCJkZXBsb3kiLCJfdW5yZWYiLCJfX2VtaXQiLCJwcm9jZXNzUHJvZ3Jlc3NMYWJlbCIsInJlbmRlckluUHJvZ3Jlc3NNc2ciLCJjb250ZXh0TWVudVZTQ29kZUNvbnRleHQiLCJfY3JlYXRlQmxvY2siLCJfY29tcG9uZW50X0FjdGlvblRvb2xiYXIiLCJmb3JtYXREYXRlU3RyaW5nIiwiZGF0ZVN0cmluZyIsImluY2x1ZGVUaW1lIiwiZGF0ZVJlc3VsdCIsInRpbWVSZXN1bHQiLCJmb3JtYXRUaW1lU3RyaW5nIiwiaW5jbHVkZVNlY29uZHMiLCJhY3RpdmVPcHRpb24iLCJtZXNzYWdlUGFydHMiLCJvbkNsaWNrIiwiJGF0dHJzIiwiX2NyZWF0ZVRleHRWTm9kZSIsImlzRGlzbWlzc2VkQ29udGVudFJlY29yZCIsImlzUHJlQ29udGVudFJlY29yZFdpdGhJRCIsImlzUHJlQ29udGVudFJlY29yZFdpdGhvdXRJRCIsInNob3dDb250ZW50QnV0dG9uIiwiY29udGVudFJlbmRlclByb2Nlc3NlZCIsImlzRGVwbG95ZWRDb250ZW50T25FcnJvciIsImRlcGxveW1lbnRFcnJvciIsImRlcGxveWVkQ29udGVudEJ1dHRvbkxhYmVsIiwibGFzdFN0YXR1c0Rlc2NyaXB0aW9uIiwic3VjY2Vzc2Z1bFJlbmRlck1zZyIsIl9ob2lzdGVkXzkiLCJUZXh0U3RyaW5nV2l0aEFuY2hvciIsIiRldmVudCIsIl9ob2lzdGVkXzEwIiwiaXNBeGlvc0Vycm9yV2l0aEpzb24iLCJpc09mRXJyb3JUeXBlIiwibWtFcnJvclR5cGVHdWFyZCIsImVyclVua25vd25NZXNzYWdlIiwiaXNFcnJUT01MVmFsaWRhdGlvbkVycm9yIiwiZXJyVE9NTFZhbGlkYXRpb25FcnJvck1lc3NhZ2UiLCJpc0VyckludmFsaWRUT01MRmlsZSIsImVyckludmFsaWRUT01MTWVzc2FnZSIsImlzRXJyVW5rbm93blRPTUxLZXkiLCJlcnJVbmtub3duVE9NTEtleU1lc3NhZ2UiLCJpc0VyclRvbWxVbmtub3duRXJyb3IiLCJlcnJUb21sVW5rbm93bkVycm9yTWVzc2FnZSIsImlzRXJyUHl0aG9uRXhlY05vdEZvdW5kRXJyb3IiLCJlcnJQeXRob25FeGVjTm90Rm91bmRFcnJvck1lc3NhZ2UiLCJpc0VyckRldmljZUF1dGhBY2Nlc3NEZW5pZWQiLCJlcnJEZXZpY2VBdXRoQWNjZXNzRGVuaWVkTWVzc2FnZSIsImlzRGV2aWNlQXV0aEV4cGlyZWRUb2tlbiIsImVyckRldmljZUF1dGhFeHBpcmVkVG9rZW5NZXNzYWdlIiwicmVzb2x2ZUFnZW50SnNvbkVycm9yTXNnIiwiZ2V0U3RhdHVzRnJvbUVycm9yIiwiZ2V0U3RhdHVzU3RyaW5nRnJvbUVycm9yUmVzcG9uc2UiLCJnZXRDb2RlU3RyaW5nRnJvbUVycm9yIiwiZ2V0TWVzc2FnZUZyb21FcnJvciIsImdldEFQSVVSTEZyb21FcnJvciIsImdldFN1bW1hcnlTdHJpbmdGcm9tRXJyb3IiLCJsb2NhdGlvbiIsImxvZ01zZyIsInN1bW1hcnkiLCJnZXRTdW1tYXJ5RnJvbUVycm9yIiwic3RhdHVzVGV4dCIsImdldENvbmZpZ0Vycm9yIiwidG9vbGJhckFjdGlvbnMiLCJvbkFkZERlcGxveW1lbnQiLCJvbkVkaXRDb25maWd1cmF0aW9uIiwib25TZWxlY3REZXBsb3ltZW50Iiwic2VsZWN0aW9uIiwib25WaWV3UHVibGlzaGluZ0xvZyIsImZpbHRlcmVkQ29uZmlncyIsImNvbnRleHRNZW51Q29udGV4dCIsInByb21wdEZvckNvbmZpZ1NlbGVjdGlvbiIsImRlcGxveW1lbnRUaXRsZSIsImRlcGxveW1lbnREZXRhaWxzIiwiZGV0YWlscyIsImNyZWRlbnRpYWxTdWJUaXRsZSIsImVudHJ5cG9pbnRTdWJUaXRsZSIsIm1pc3NpbmdDcmVkZW50aWFsTWVzc2FnZSIsInN1YlRpdGxlIiwic2VsZWN0Q29uZmlndXJhdGlvbiIsInNob3dQcm9ncmVzc1N0YXR1cyIsImlzUmVuZGVyYWJsZUNvbnRlbnQiLCJ0b29sVGlwVGV4dCIsImVudHJ5cG9pbnQiLCJnZXRBY3RpdmVDb25maWdFcnJvciIsImdldEFjdGl2ZUNvbmZpZ1RPTUxFcnJvckRldGFpbHMiLCJhZ2VudEVycm9yIiwib25FZGl0Q29uZmlndXJhdGlvbldpdGhUT01MRXJyb3IiLCJvbkVycm9yTWVzc2FnZUFuY2hvckNsaWNrIiwic3BsaXRPcHRpb25JZCIsIm5hdmlnYXRlVG9VcmwiLCJuZXdDcmVkZW50aWFsIiwib25Bc3NvY2lhdGVEZXBsb3ltZW50Iiwidmlld0NvbnRlbnQiLCJBY3Rpb25Ub29sYmFyIiwiX21lcmdlUHJvcHMiLCJfdG9IYW5kbGVycyIsIlF1aWNrUGlja0l0ZW0iLCJSZW5kZXJCdXR0b24iLCJEZXBsb3lCdXR0b24iLCJQcm9jZXNzUHJvZ3Jlc3MiLCJQcm9jZXNzU3VtbWFyeSIsImV4cGFuZGVkIiwiX3VzZU1vZGVsIiwidG9nZ2xlRXhwYW5kZWQiLCIkc2xvdHMiLCJDb3VudEJhZGdlIiwiX3dpdGhEaXJlY3RpdmVzIiwiY2hlY2tlZCIsIl91c2VTbG90cyIsImlzRXhwYW5kYWJsZSIsIkNvZGVDaGVja2JveCIsIiRlbWl0IiwiX3ZTaG93IiwiaW5jbHVkZWRGaWxlVG9vbHRpcCIsImlzRW50cnlwb2ludCIsImlzUGFja2FnZUZpbGUiLCJ0b29sdGlwIiwiZXhjbHVkZWRGaWxlVG9vbHRpcCIsImlzRGlzYWJsZWQiLCJpc0luY2x1ZGVkIiwiaW5MYXN0RGVwbG95ZWQiLCJpc0JlaW5nQWRkZWQiLCJpc0JlaW5nUmVtb3ZlZCIsImlzUHl0aG9uUGFja2FnZUZpbGUiLCJpc1JQYWNrYWdlRmlsZSIsImxpc3RTdHlsZSIsIlRyZWVJdGVtQ2hlY2tib3giLCJfY29tcG9uZW50X1Bvc3REZWNvciIsIlRyZWVTZWN0aW9uIiwiX2NvbXBvbmVudF9SZWN5Y2xlU2Nyb2xsZXIiLCJfd2l0aEN0eCIsIlByb2plY3RGaWxlIiwibW9kZWwiLCJhcmlhTGFiZWwiLCJfX2V4cG9zZSIsImlzRWRpdGluZyIsImlucHV0VmFsdWUiLCJzZWNyZXRWYWx1ZSIsIm9uU2VydmVyIiwibmVlZHNWYWx1ZSIsImlucHV0U2VjcmV0IiwidXBkYXRlU2VjcmV0IiwiVHJlZUl0ZW0iLCJTaWRlYmFySW5wdXQiLCJzZWN0aW9uQWN0aW9ucyIsIlNlY3JldCIsIldlbGNvbWVWaWV3IiwiaXNPQXV0aEludGVncmF0aW9uc1N1cHBvcnRlZCIsInZhbGlkTGljZW5zZSIsIm9hdXRoSW50ZWdyYXRpb25zRW5hYmxlZCIsImdldEludGVncmF0aW9uUmVxdWVzdEFjdGlvbnMiLCJpbnRlZ3JhdGlvblJlcXVlc3QiLCJvblJlZnJlc2giLCJvblNjYW5Gb3JQYWNrYWdlUmVxdWlyZW1lbnRzIiwib25FZGl0UmVxdWlyZW1lbnRzRmlsZSIsInB5dGhvblBhY2thZ2VBY3Rpb25zIiwic2hvd1dlbGNvbWVWaWV3IiwicGtnIiwiaXNTZXR0aW5nVXBSZW52Iiwib25TZXR1cFJlbnYiLCJvblZpZXdSZW52RG9jIiwiclBhY2thZ2VBY3Rpb25zIiwibWlzc2luZ09ySW52YWxpZFBhY2thZ2VGaWxlIiwiZ2V0RGVzY3JpcHRpb24iLCJwcm9qZWN0RmlsZXNFeHBhbmRlZCIsIk92ZXJsYXlhYmxlVmlldyIsIkV2ZW5FYXNpZXJEZXBsb3kiLCJQcm9qZWN0RmlsZXMiLCJTZWNyZXRzIiwiSW50ZWdyYXRpb25SZXF1ZXN0cyIsIlB5dGhvblBhY2thZ2VzIiwiUlBhY2thZ2VzIiwiQ3JlZGVudGlhbHMiLCJIZWxwQW5kRmVlZGJhY2siLCJBcHAiLCJSZWN5Y2xlU2Nyb2xsZXIiXSwibWFwcGluZ3MiOiJzc0JBTUEsU0FBU0EsR0FBUUMsRUFBSyxDQUNwQixNQUFNQyxFQUFzQixPQUFPLE9BQU8sSUFBSSxFQUM5QyxVQUFXQyxLQUFPRixFQUFJLE1BQU0sR0FBRyxFQUFHQyxFQUFJQyxDQUFHLEVBQUksRUFDN0MsT0FBUUMsR0FBUUEsS0FBT0YsQ0FDekIsQ0FFQSxNQUFNRyxHQUE0RSxDQUFBLEVBQzVFQyxH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LEdBQUEsQ0FoQkEsZ0JBQWlCdkssRUFBQXhELENBQUEsRUFBSyxtQkFBQSxjQUN0QyxJQUFrRCxDQUFsRDM1QyxHQUFrRDJuRCxHQUFBLENBQWhDLE1BQU0sd0JBQXVCLEVBRTVCeEssRUFBQXhELENBQUEsRUFBSyx3QkFBb0N3RCxFQUFBMUssRUFBQSxFQUFxQjBLLEVBQUF4RCxDQUFBLEVBQUsscUJBQXFCLE9BRDNHbGhCLEVBV1c2akIsR0FBQSxDQUFBLElBQUEsR0FBQSxDQUxUdDhDLEdBQXdENG5ELEdBQUEsQ0FBbEMsU0FBVUgsRUFBQSx5Q0FBQUEsRUFBb0IsTUFBQXZJLEVBQUEsdUJBQ3BEbC9DLEdBQVc2bkQsRUFBQSxFQUNpQjFLLEVBQUF4RCxDQUFBLEVBQUssNkJBQWpDNkQsR0FBbURzSyxHQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsR0FDbkQ5bkQsR0FBa0IrbkQsRUFBQSxFQUNsQi9uRCxHQUFhZ29ELEVBQUEsQ0FBQSxnQkFFZmhvRCxHQUFlaW9ELEVBQUEsRUFDZmpvRCxHQUFtQmtvRCxFQUFBLENBQUEsaUZDSXpCcDFCLEdBQUEsRUFBNEIsU0FDMUIyRSxHQUFBLEVBQ0FPLEdBQUEsRUFDQUcsR0FBQSxFQUNBSSxHQUFBLEVBQ0FYLEdBQUEsQ0FDRixFQUVBLE1BQU1wbkIsR0FBUUcsR0FBQSxFQUVSNWlCLEdBQU11YSxHQUFVNi9DLEVBQUcsRUFDekJwNkQsR0FBSSxJQUFJeWlCLEVBQUssRUFDYnppQixHQUFJLFVBQVUsa0JBQW1CcTZELEVBQWUsRUFFaERyNkQsR0FBSSxNQUFNLE1BQU0iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzNdfQ==
