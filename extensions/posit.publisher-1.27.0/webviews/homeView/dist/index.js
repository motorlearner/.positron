var xd=Object.defineProperty;var Cd=(e,t,n)=>t in e?xd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Zn=(e,t,n)=>Cd(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function po(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ge={},Dn=[],vt=()=>{},Za=()=>!1,Pi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),go=e=>e.startsWith("onUpdate:"),He=Object.assign,mo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_d=Object.prototype.hasOwnProperty,ve=(e,t)=>_d.call(e,t),X=Array.isArray,Ln=e=>Ni(e)==="[object Map]",Ka=e=>Ni(e)==="[object Set]",ne=e=>typeof e=="function",Le=e=>typeof e=="string",Gt=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",ec=e=>(Ae(e)||ne(e))&&ne(e.then)&&ne(e.catch),tc=Object.prototype.toString,Ni=e=>tc.call(e),Rd=e=>Ni(e).slice(8,-1),nc=e=>Ni(e)==="[object Object]",bo=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cs=po(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Di=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},kd=/-\w/g,ft=Di(e=>e.replace(kd,t=>t.slice(1).toUpperCase())),Od=/\B([A-Z])/g,Yt=Di(e=>e.replace(Od,"-$1").toLowerCase()),Li=Di(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ks=Di(e=>e?`on${Li(e)}`:""),st=(e,t)=>!Object.is(e,t),ei=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},sc=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},vo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let xl;const Fi=()=>xl||(xl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mi(e){if(X(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Le(s)?$d(s):Mi(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(Le(e)||Ae(e))return e}const Ad=/;(?![^(]*\))/g,Id=/:([^]+)/,Td=/\/\*[^]*?\*\//g;function $d(e){const t={};return e.replace(Td,"").split(Ad).forEach(n=>{if(n){const s=n.split(Id);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ne(e){let t="";if(Le(e))t=e;else if(X(e))for(let n=0;n<e.length;n++){const s=Ne(e[n]);s&&(t+=s+" ")}else if(Ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Pd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nd=po(Pd);function ic(e){return!!e||e===""}const rc=e=>!!(e&&e.__v_isRef===!0),me=e=>Le(e)?e:e==null?"":X(e)||Ae(e)&&(e.toString===tc||!ne(e.toString))?rc(e)?me(e.value):JSON.stringify(e,oc,2):String(e),oc=(e,t)=>rc(t)?oc(e,t.value):Ln(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[dr(s,r)+" =>"]=i,n),{})}:Ka(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>dr(n))}:Gt(t)?dr(t):Ae(t)&&!X(t)&&!nc(t)?String(t):t,dr=(e,t="")=>{var n;return Gt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};function Dd(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}/**
* @vue/reactivity v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class lc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!t&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ze;try{return ze=this,t()}finally{ze=n}}}on(){++this._on===1&&(this.prevScope=ze,ze=this)}off(){this._on>0&&--this._on===0&&(ze=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ac(e){return new lc(e)}function cc(){return ze}function Ld(e,t=!1){ze&&ze.cleanups.push(e)}let Ce;const fr=new WeakSet;class uc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fr.has(this)&&(fr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cl(this),hc(this);const t=Ce,n=yt;Ce=this,yt=!0;try{return this.fn()}finally{pc(this),Ce=t,yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wo(t);this.deps=this.depsTail=void 0,Cl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ur(this)&&this.run()}get dirty(){return Ur(this)}}let dc=0,us,ds;function fc(e,t=!1){if(e.flags|=8,t){e.next=ds,ds=e;return}e.next=us,us=e}function yo(){dc++}function So(){if(--dc>0)return;if(ds){let t=ds;for(ds=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;us;){let t=us;for(us=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function hc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function pc(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),wo(s),Fd(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Ur(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function gc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Es)||(e.globalVersion=Es,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ur(e))))return;e.flags|=2;const t=e.dep,n=Ce,s=yt;Ce=e,yt=!0;try{hc(e);const i=e.fn(e._value);(t.version===0||st(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Ce=n,yt=s,pc(e),e.flags&=-3}}function wo(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)wo(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Fd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let yt=!0;const mc=[];function zt(){mc.push(yt),yt=!1}function qt(){const e=mc.pop();yt=e===void 0?!0:e}function Cl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ce;Ce=void 0;try{t()}finally{Ce=n}}}let Es=0;class Md{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ce||!yt||Ce===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ce)n=this.activeLink=new Md(Ce,this),Ce.deps?(n.prevDep=Ce.depsTail,Ce.depsTail.nextDep=n,Ce.depsTail=n):Ce.deps=Ce.depsTail=n,bc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ce.depsTail,n.nextDep=void 0,Ce.depsTail.nextDep=n,Ce.depsTail=n,Ce.deps===n&&(Ce.deps=s)}return n}trigger(t){this.version++,Es++,this.notify(t)}notify(t){yo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{So()}}}function bc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)bc(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const pi=new WeakMap,vn=Symbol(""),jr=Symbol(""),xs=Symbol("");function qe(e,t,n){if(yt&&Ce){let s=pi.get(e);s||pi.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Bi),i.map=s,i.key=n),i.track()}}function Mt(e,t,n,s,i,r){const o=pi.get(e);if(!o){Es++;return}const l=a=>{a&&a.trigger()};if(yo(),t==="clear")o.forEach(l);else{const a=X(e),c=a&&bo(n);if(a&&n==="length"){const u=Number(s);o.forEach((f,g)=>{(g==="length"||g===xs||!Gt(g)&&g>=u)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(xs)),t){case"add":a?c&&l(o.get("length")):(l(o.get(vn)),Ln(e)&&l(o.get(jr)));break;case"delete":a||(l(o.get(vn)),Ln(e)&&l(o.get(jr)));break;case"set":Ln(e)&&l(o.get(vn));break}}So()}function Bd(e,t){const n=pi.get(e);return n&&n.get(t)}function An(e){const t=pe(e);return t===e?t:(qe(t,"iterate",xs),pt(e)?t:t.map(Ue))}function Vi(e){return qe(e=pe(e),"iterate",xs),e}const Vd={__proto__:null,[Symbol.iterator](){return hr(this,Symbol.iterator,Ue)},concat(...e){return An(this).concat(...e.map(t=>X(t)?An(t):t))},entries(){return hr(this,"entries",e=>(e[1]=Ue(e[1]),e))},every(e,t){return Nt(this,"every",e,t,void 0,arguments)},filter(e,t){return Nt(this,"filter",e,t,n=>n.map(Ue),arguments)},find(e,t){return Nt(this,"find",e,t,Ue,arguments)},findIndex(e,t){return Nt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Nt(this,"findLast",e,t,Ue,arguments)},findLastIndex(e,t){return Nt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Nt(this,"forEach",e,t,void 0,arguments)},includes(...e){return pr(this,"includes",e)},indexOf(...e){return pr(this,"indexOf",e)},join(e){return An(this).join(e)},lastIndexOf(...e){return pr(this,"lastIndexOf",e)},map(e,t){return Nt(this,"map",e,t,void 0,arguments)},pop(){return Kn(this,"pop")},push(...e){return Kn(this,"push",e)},reduce(e,...t){return _l(this,"reduce",e,t)},reduceRight(e,...t){return _l(this,"reduceRight",e,t)},shift(){return Kn(this,"shift")},some(e,t){return Nt(this,"some",e,t,void 0,arguments)},splice(...e){return Kn(this,"splice",e)},toReversed(){return An(this).toReversed()},toSorted(e){return An(this).toSorted(e)},toSpliced(...e){return An(this).toSpliced(...e)},unshift(...e){return Kn(this,"unshift",e)},values(){return hr(this,"values",Ue)}};function hr(e,t,n){const s=Vi(e),i=s[t]();return s!==e&&!pt(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const Ud=Array.prototype;function Nt(e,t,n,s,i,r){const o=Vi(e),l=o!==e&&!pt(e),a=o[t];if(a!==Ud[t]){const f=a.apply(e,r);return l?Ue(f):f}let c=n;o!==e&&(l?c=function(f,g){return n.call(this,Ue(f),g,e)}:n.length>2&&(c=function(f,g){return n.call(this,f,g,e)}));const u=a.call(o,c,s);return l&&i?i(u):u}function _l(e,t,n,s){const i=Vi(e);let r=n;return i!==e&&(pt(e)?n.length>3&&(r=function(o,l,a){return n.call(this,o,l,a,e)}):r=function(o,l,a){return n.call(this,o,Ue(l),a,e)}),i[t](r,...s)}function pr(e,t,n){const s=pe(e);qe(s,"iterate",xs);const i=s[t](...n);return(i===-1||i===!1)&&Co(n[0])?(n[0]=pe(n[0]),s[t](...n)):i}function Kn(e,t,n=[]){zt(),yo();const s=pe(e)[t].apply(e,n);return So(),qt(),s}const jd=po("__proto__,__v_isRef,__isVue"),vc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Gt));function Hd(e){Gt(e)||(e=String(e));const t=pe(this);return qe(t,"has",e),t.hasOwnProperty(e)}class yc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Kd:xc:r?Ec:wc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=X(t);if(!i){let a;if(o&&(a=Vd[n]))return a;if(n==="hasOwnProperty")return Hd}const l=Reflect.get(t,n,De(t)?t:s);if((Gt(n)?vc.has(n):jd(n))||(i||qe(t,"get",n),r))return l;if(De(l)){const a=o&&bo(n)?l:l.value;return i&&Ae(a)?zr(a):a}return Ae(l)?i?zr(l):Ui(l):l}}class Sc extends yc{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];if(!this._isShallow){const a=ln(r);if(!pt(s)&&!ln(s)&&(r=pe(r),s=pe(s)),!X(t)&&De(r)&&!De(s))return a||(r.value=s),!0}const o=X(t)&&bo(n)?Number(n)<t.length:ve(t,n),l=Reflect.set(t,n,s,De(t)?t:i);return t===pe(i)&&(o?st(s,r)&&Mt(t,"set",n,s):Mt(t,"add",n,s)),l}deleteProperty(t,n){const s=ve(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Mt(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Gt(n)||!vc.has(n))&&qe(t,"has",n),s}ownKeys(t){return qe(t,"iterate",X(t)?"length":vn),Reflect.ownKeys(t)}}class zd extends yc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qd=new Sc,Wd=new zd,Gd=new Sc(!0);const Hr=e=>e,zs=e=>Reflect.getPrototypeOf(e);function Yd(e,t,n){return function(...s){const i=this.__v_raw,r=pe(i),o=Ln(r),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,c=i[e](...s),u=n?Hr:t?gi:Ue;return!t&&qe(r,"iterate",a?jr:vn),{next(){const{value:f,done:g}=c.next();return g?{value:f,done:g}:{value:l?[u(f[0]),u(f[1])]:u(f),done:g}},[Symbol.iterator](){return this}}}}function qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Jd(e,t){const n={get(i){const r=this.__v_raw,o=pe(r),l=pe(i);e||(st(i,l)&&qe(o,"get",i),qe(o,"get",l));const{has:a}=zs(o),c=t?Hr:e?gi:Ue;if(a.call(o,i))return c(r.get(i));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&qe(pe(i),"iterate",vn),i.size},has(i){const r=this.__v_raw,o=pe(r),l=pe(i);return e||(st(i,l)&&qe(o,"has",i),qe(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,a=pe(l),c=t?Hr:e?gi:Ue;return!e&&qe(a,"iterate",vn),l.forEach((u,f)=>i.call(r,c(u),c(f),o))}};return He(n,e?{add:qs("add"),set:qs("set"),delete:qs("delete"),clear:qs("clear")}:{add(i){!t&&!pt(i)&&!ln(i)&&(i=pe(i));const r=pe(this);return zs(r).has.call(r,i)||(r.add(i),Mt(r,"add",i,i)),this},set(i,r){!t&&!pt(r)&&!ln(r)&&(r=pe(r));const o=pe(this),{has:l,get:a}=zs(o);let c=l.call(o,i);c||(i=pe(i),c=l.call(o,i));const u=a.call(o,i);return o.set(i,r),c?st(r,u)&&Mt(o,"set",i,r):Mt(o,"add",i,r),this},delete(i){const r=pe(this),{has:o,get:l}=zs(r);let a=o.call(r,i);a||(i=pe(i),a=o.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return a&&Mt(r,"delete",i,void 0),c},clear(){const i=pe(this),r=i.size!==0,o=i.clear();return r&&Mt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Yd(i,e,t)}),n}function Eo(e,t){const n=Jd(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(ve(n,i)&&i in s?n:s,i,r)}const Qd={get:Eo(!1,!1)},Xd={get:Eo(!1,!0)},Zd={get:Eo(!0,!1)};const wc=new WeakMap,Ec=new WeakMap,xc=new WeakMap,Kd=new WeakMap;function ef(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tf(e){return e.__v_skip||!Object.isExtensible(e)?0:ef(Rd(e))}function Ui(e){return ln(e)?e:xo(e,!1,qd,Qd,wc)}function Cc(e){return xo(e,!1,Gd,Xd,Ec)}function zr(e){return xo(e,!0,Wd,Zd,xc)}function xo(e,t,n,s,i){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=tf(e);if(r===0)return e;const o=i.get(e);if(o)return o;const l=new Proxy(e,r===2?s:n);return i.set(e,l),l}function rn(e){return ln(e)?rn(e.__v_raw):!!(e&&e.__v_isReactive)}function ln(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function Co(e){return e?!!e.__v_raw:!1}function pe(e){const t=e&&e.__v_raw;return t?pe(t):e}function ji(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&sc(e,"__v_skip",!0),e}const Ue=e=>Ae(e)?Ui(e):e,gi=e=>Ae(e)?zr(e):e;function De(e){return e?e.__v_isRef===!0:!1}function re(e){return nf(e,!1)}function nf(e,t){return De(e)?e:new sf(e,t)}class sf{constructor(t,n){this.dep=new Bi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:pe(t),this._value=n?t:Ue(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||pt(t)||ln(t);t=s?t:pe(t),st(t,n)&&(this._rawValue=t,this._value=s?t:Ue(t),this.dep.trigger())}}function F(e){return De(e)?e.value:e}const rf={get:(e,t,n)=>t==="__v_raw"?e:F(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return De(i)&&!De(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function _c(e){return rn(e)?e:new Proxy(e,rf)}class of{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Bi,{get:s,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function lf(e){return new of(e)}function af(e){const t=X(e)?new Array(e.length):{};for(const n in e)t[n]=uf(e,n);return t}class cf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Bd(pe(this._object),this._key)}}function uf(e,t,n){const s=e[t];return De(s)?s:new cf(e,t,n)}class df{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Bi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Es-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ce!==this)return fc(this,!0),!0}get value(){const t=this.dep.track();return gc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ff(e,t,n=!1){let s,i;return ne(e)?s=e:(s=e.get,i=e.set),new df(s,i,n)}const Ws={},mi=new WeakMap;let mn;function hf(e,t=!1,n=mn){if(n){let s=mi.get(n);s||mi.set(n,s=[]),s.push(e)}}function pf(e,t,n=ge){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:a}=n,c=C=>i?C:pt(C)||i===!1||i===0?Bt(C,1):Bt(C);let u,f,g,y,p=!1,b=!1;if(De(e)?(f=()=>e.value,p=pt(e)):rn(e)?(f=()=>c(e),p=!0):X(e)?(b=!0,p=e.some(C=>rn(C)||pt(C)),f=()=>e.map(C=>{if(De(C))return C.value;if(rn(C))return c(C);if(ne(C))return a?a(C,2):C()})):ne(e)?t?f=a?()=>a(e,2):e:f=()=>{if(g){zt();try{g()}finally{qt()}}const C=mn;mn=u;try{return a?a(e,3,[y]):e(y)}finally{mn=C}}:f=vt,t&&i){const C=f,W=i===!0?1/0:i;f=()=>Bt(C(),W)}const S=cc(),O=()=>{u.stop(),S&&S.active&&mo(S.effects,u)};if(r&&t){const C=t;t=(...W)=>{C(...W),O()}}let A=b?new Array(e.length).fill(Ws):Ws;const P=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const W=u.run();if(i||p||(b?W.some((ke,K)=>st(ke,A[K])):st(W,A))){g&&g();const ke=mn;mn=u;try{const K=[W,A===Ws?void 0:b&&A[0]===Ws?[]:A,y];A=W,a?a(t,3,K):t(...K)}finally{mn=ke}}}else u.run()};return l&&l(P),u=new uc(f),u.scheduler=o?()=>o(P,!1):P,y=C=>hf(C,!1,u),g=u.onStop=()=>{const C=mi.get(u);if(C){if(a)a(C,4);else for(const W of C)W();mi.delete(u)}},t?s?P(!0):A=u.run():o?o(P.bind(null,!0),!0):u.run(),O.pause=u.pause.bind(u),O.resume=u.resume.bind(u),O.stop=O,O}function Bt(e,t=1/0,n){if(t<=0||!Ae(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,De(e))Bt(e.value,t,n);else if(X(e))for(let s=0;s<e.length;s++)Bt(e[s],t,n);else if(Ka(e)||Ln(e))e.forEach(s=>{Bt(s,t,n)});else if(nc(e)){for(const s in e)Bt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Bt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $s(e,t,n,s){try{return s?e(...s):e()}catch(i){Hi(i,t,n)}}function $t(e,t,n,s){if(ne(e)){const i=$s(e,t,n,s);return i&&ec(i)&&i.catch(r=>{Hi(r,t,n)}),i}if(X(e)){const i=[];for(let r=0;r<e.length;r++)i.push($t(e[r],t,n,s));return i}}function Hi(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ge;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,a,c)===!1)return}l=l.parent}if(r){zt(),$s(r,null,10,[e,a,c]),qt();return}}gf(e,n,i,s,o)}function gf(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const Qe=[];let It=-1;const Fn=[];let nn=null,Tn=0;const Rc=Promise.resolve();let bi=null;function Ps(e){const t=bi||Rc;return e?t.then(this?e.bind(this):e):t}function mf(e){let t=It+1,n=Qe.length;for(;t<n;){const s=t+n>>>1,i=Qe[s],r=Cs(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function _o(e){if(!(e.flags&1)){const t=Cs(e),n=Qe[Qe.length-1];!n||!(e.flags&2)&&t>=Cs(n)?Qe.push(e):Qe.splice(mf(t),0,e),e.flags|=1,kc()}}function kc(){bi||(bi=Rc.then(Ic))}function Oc(e){X(e)?Fn.push(...e):nn&&e.id===-1?nn.splice(Tn+1,0,e):e.flags&1||(Fn.push(e),e.flags|=1),kc()}function Rl(e,t,n=It+1){for(;n<Qe.length;n++){const s=Qe[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Qe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ac(e){if(Fn.length){const t=[...new Set(Fn)].sort((n,s)=>Cs(n)-Cs(s));if(Fn.length=0,nn){nn.push(...t);return}for(nn=t,Tn=0;Tn<nn.length;Tn++){const n=nn[Tn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}nn=null,Tn=0}}const Cs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ic(e){try{for(It=0;It<Qe.length;It++){const t=Qe[It];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),$s(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;It<Qe.length;It++){const t=Qe[It];t&&(t.flags&=-2)}It=-1,Qe.length=0,Ac(),bi=null,(Qe.length||Fn.length)&&Ic()}}let je=null,zi=null;function vi(e){const t=je;return je=e,zi=e&&e.type.__scopeId||null,t}function bf(e){zi=e}function vf(){zi=null}const yf=e=>Oe;function Oe(e,t=je,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Fl(-1);const r=vi(t);let o;try{o=e(...i)}finally{vi(r),s._d&&Fl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ns(e,t){if(je===null)return e;const n=Qi(je),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,l,a=ge]=t[i];r&&(ne(r)&&(r={mounted:r,updated:r}),r.deep&&Bt(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return e}function hn(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(zt(),$t(a,n,8,[e.el,l,e,t]),qt())}}const Sf=Symbol("_vte"),wf=e=>e.__isTeleport,Ef=Symbol("_leaveCb");function Ro(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ro(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Re(e,t){return ne(e)?He({name:e.name},t,{setup:e}):e}function Tc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const yi=new WeakMap;function fs(e,t,n,s,i=!1){if(X(e)){e.forEach((p,b)=>fs(p,t&&(X(t)?t[b]:t),n,s,i));return}if(Mn(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&fs(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Qi(s.component):s.el,o=i?null:r,{i:l,r:a}=e,c=t&&t.r,u=l.refs===ge?l.refs={}:l.refs,f=l.setupState,g=pe(f),y=f===ge?Za:p=>ve(g,p);if(c!=null&&c!==a){if(kl(t),Le(c))u[c]=null,y(c)&&(f[c]=null);else if(De(c)){c.value=null;const p=t;p.k&&(u[p.k]=null)}}if(ne(a))$s(a,l,12,[o,u]);else{const p=Le(a),b=De(a);if(p||b){const S=()=>{if(e.f){const O=p?y(a)?f[a]:u[a]:a.value;if(i)X(O)&&mo(O,r);else if(X(O))O.includes(r)||O.push(r);else if(p)u[a]=[r],y(a)&&(f[a]=u[a]);else{const A=[r];a.value=A,e.k&&(u[e.k]=A)}}else p?(u[a]=o,y(a)&&(f[a]=o)):b&&(a.value=o,e.k&&(u[e.k]=o))};if(o){const O=()=>{S(),yi.delete(e)};O.id=-1,yi.set(e,O),ut(O,n)}else kl(e),S()}}}function kl(e){const t=yi.get(e);t&&(t.flags|=8,yi.delete(e))}Fi().requestIdleCallback;Fi().cancelIdleCallback;const Mn=e=>!!e.type.__asyncLoader,$c=e=>e.type.__isKeepAlive;function xf(e,t){Pc(e,"a",t)}function Cf(e,t){Pc(e,"da",t)}function Pc(e,t,n=We){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(qi(t,s,n),n){let i=n.parent;for(;i&&i.parent;)$c(i.parent.vnode)&&_f(s,t,n,i),i=i.parent}}function _f(e,t,n,s){const i=qi(t,e,s,!0);Wi(()=>{mo(s[t],i)},n)}function qi(e,t,n=We,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{zt();const l=Fs(n),a=$t(t,n,e,o);return l(),qt(),a});return s?i.unshift(r):i.push(r),r}}const Jt=e=>(t,n=We)=>{(!ks||e==="sp")&&qi(e,(...s)=>t(...s),n)},Rf=Jt("bm"),ko=Jt("m"),Nc=Jt("bu"),kf=Jt("u"),Of=Jt("bum"),Wi=Jt("um"),Af=Jt("sp"),If=Jt("rtg"),Tf=Jt("rtc");function $f(e,t=We){qi("ec",e,t)}const Oo="components",Pf="directives";function Ds(e,t){return Ao(Oo,e,!0,t)||e}const Dc=Symbol.for("v-ndc");function Ol(e){return Le(e)?Ao(Oo,e,!1)||e:e||Dc}function Nf(e){return Ao(Pf,e)}function Ao(e,t,n=!0,s=!1){const i=je||We;if(i){const r=i.type;if(e===Oo){const l=Eh(r,!1);if(l&&(l===t||l===ft(t)||l===Li(ft(t))))return r}const o=Al(i[e]||r[e],t)||Al(i.appContext[e],t);return!o&&s?r:o}}function Al(e,t){return e&&(e[t]||e[ft(t)]||e[Li(ft(t))])}function Pt(e,t,n,s){let i;const r=n,o=X(e);if(o||Le(e)){const l=o&&rn(e);let a=!1,c=!1;l&&(a=!pt(e),c=ln(e),e=Vi(e)),i=new Array(e.length);for(let u=0,f=e.length;u<f;u++)i[u]=t(a?c?gi(Ue(e[u])):Ue(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,r)}else if(Ae(e))if(e[Symbol.iterator])i=Array.from(e,(l,a)=>t(l,a,void 0,r));else{const l=Object.keys(e);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=t(e[u],u,a,r)}}else i=[];return i}function it(e,t,n={},s,i){if(je.ce||je.parent&&Mn(je.parent)&&je.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),w(),ce(de,null,[he("slot",n,s)],c?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),w();const o=r&&Lc(r(n)),l=n.key||o&&o.key,a=ce(de,{key:(l&&!Gt(l)?l:`_${t}`)+(!o&&s?"_fb":"")},o||[],o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Lc(e){return e.some(t=>Po(t)?!(t.type===Wt||t.type===de&&!Lc(t.children)):!0)?e:null}function _s(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:Ks(s)]=e[s];return n}const qr=e=>e?su(e)?Qi(e):qr(e.parent):null,hs=He(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qr(e.parent),$root:e=>qr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bc(e),$forceUpdate:e=>e.f||(e.f=()=>{_o(e.update)}),$nextTick:e=>e.n||(e.n=Ps.bind(e.proxy)),$watch:e=>rh.bind(e)}),gr=(e,t)=>e!==ge&&!e.__isScriptSetup&&ve(e,t),Df={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(gr(s,t))return o[t]=1,s[t];if(i!==ge&&ve(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&ve(c,t))return o[t]=3,r[t];if(n!==ge&&ve(n,t))return o[t]=4,n[t];Wr&&(o[t]=0)}}const u=hs[t];let f,g;if(u)return t==="$attrs"&&qe(e.attrs,"get",""),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ge&&ve(n,t))return o[t]=4,n[t];if(g=a.config.globalProperties,ve(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return gr(i,t)?(i[t]=n,!0):s!==ge&&ve(s,t)?(s[t]=n,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r,type:o}},l){let a,c;return!!(n[l]||e!==ge&&l[0]!=="$"&&ve(e,l)||gr(t,l)||(a=r[0])&&ve(a,l)||ve(s,l)||ve(hs,l)||ve(i.config.globalProperties,l)||(c=o.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ve(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fc(){return Lf().slots}function Lf(e){const t=Ls();return t.setupContext||(t.setupContext=ru(t))}function Si(e){return X(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function wn(e,t){return!e||!t?e||t:X(e)&&X(t)?e.concat(t):He({},Si(e),Si(t))}let Wr=!0;function Ff(e){const t=Bc(e),n=e.proxy,s=e.ctx;Wr=!1,t.beforeCreate&&Il(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:g,beforeUpdate:y,updated:p,activated:b,deactivated:S,beforeDestroy:O,beforeUnmount:A,destroyed:P,unmounted:C,render:W,renderTracked:ke,renderTriggered:K,errorCaptured:z,serverPrefetch:J,expose:H,inheritAttrs:le,components:ie,directives:oe,filters:M}=t;if(c&&Mf(c,s,null),o)for(const q in o){const te=o[q];ne(te)&&(s[q]=te.bind(n))}if(i){const q=i.call(n,n);Ae(q)&&(e.data=Ui(q))}if(Wr=!0,r)for(const q in r){const te=r[q],Ye=ne(te)?te.bind(n,n):ne(te.get)?te.get.bind(n,n):vt,Zt=!ne(te)&&ne(te.set)?te.set.bind(n):vt,Fe=k({get:Ye,set:Zt});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:Me=>Fe.value=Me})}if(l)for(const q in l)Mc(l[q],s,n,q);if(a){const q=ne(a)?a.call(n):a;Reflect.ownKeys(q).forEach(te=>{zf(te,q[te])})}u&&Il(u,e,"c");function j(q,te){X(te)?te.forEach(Ye=>q(Ye.bind(n))):te&&q(te.bind(n))}if(j(Rf,f),j(ko,g),j(Nc,y),j(kf,p),j(xf,b),j(Cf,S),j($f,z),j(Tf,ke),j(If,K),j(Of,A),j(Wi,C),j(Af,J),X(H))if(H.length){const q=e.exposed||(e.exposed={});H.forEach(te=>{Object.defineProperty(q,te,{get:()=>n[te],set:Ye=>n[te]=Ye,enumerable:!0})})}else e.exposed||(e.exposed={});W&&e.render===vt&&(e.render=W),le!=null&&(e.inheritAttrs=le),ie&&(e.components=ie),oe&&(e.directives=oe),J&&Tc(e)}function Mf(e,t,n=vt){X(e)&&(e=Gr(e));for(const s in e){const i=e[s];let r;Ae(i)?"default"in i?r=ps(i.from||s,i.default,!0):r=ps(i.from||s):r=ps(i),De(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Il(e,t,n){$t(X(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mc(e,t,n,s){let i=s.includes(".")?Xc(n,s):()=>n[s];if(Le(e)){const r=t[e];ne(r)&&Vt(i,r)}else if(ne(e))Vt(i,e.bind(n));else if(Ae(e))if(X(e))e.forEach(r=>Mc(r,t,n,s));else{const r=ne(e.handler)?e.handler.bind(n):t[e.handler];ne(r)&&Vt(i,r,e)}}function Bc(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(t);let a;return l?a=l:!i.length&&!n&&!s?a=t:(a={},i.length&&i.forEach(c=>wi(a,c,o,!0)),wi(a,t,o)),Ae(t)&&r.set(t,a),a}function wi(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&wi(e,r,n,!0),i&&i.forEach(o=>wi(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const l=Bf[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Bf={data:Tl,props:$l,emits:$l,methods:as,computed:as,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:as,directives:as,watch:Uf,provide:Tl,inject:Vf};function Tl(e,t){return t?e?function(){return He(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function Vf(e,t){return as(Gr(e),Gr(t))}function Gr(e){if(X(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function as(e,t){return e?He(Object.create(null),e,t):t}function $l(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:He(Object.create(null),Si(e),Si(t??{})):t}function Uf(e,t){if(!e)return t;if(!t)return e;const n=He(Object.create(null),e);for(const s in t)n[s]=Je(e[s],t[s]);return n}function Vc(){return{app:null,config:{isNativeTag:Za,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jf=0;function Hf(e,t){return function(s,i=null){ne(s)||(s=He({},s)),i!=null&&!Ae(i)&&(i=null);const r=Vc(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:jf++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Ch,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&ne(u.install)?(o.add(u),u.install(c,...f)):ne(u)&&(o.add(u),u(c,...f))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,f){return f?(r.components[u]=f,c):r.components[u]},directive(u,f){return f?(r.directives[u]=f,c):r.directives[u]},mount(u,f,g){if(!a){const y=c._ceVNode||he(s,i);return y.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(y,u,g),a=!0,c._container=u,u.__vue_app__=c,Qi(y.component)}},onUnmount(u){l.push(u)},unmount(){a&&($t(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return r.provides[u]=f,c},runWithContext(u){const f=yn;yn=c;try{return u()}finally{yn=f}}};return c}}let yn=null;function zf(e,t){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[e]=t}}function ps(e,t,n=!1){const s=Ls();if(s||yn){let i=yn?yn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ne(t)?t.call(s&&s.proxy):t}}function qf(){return!!(Ls()||yn)}const Uc={},jc=()=>Object.create(Uc),Hc=e=>Object.getPrototypeOf(e)===Uc;function Wf(e,t,n,s=!1){const i={},r=jc();e.propsDefaults=Object.create(null),zc(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:Cc(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function Gf(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,l=pe(i),[a]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let g=u[f];if(Yi(e.emitsOptions,g))continue;const y=t[g];if(a)if(ve(r,g))y!==r[g]&&(r[g]=y,c=!0);else{const p=ft(g);i[p]=Yr(a,l,p,y,e,!1)}else y!==r[g]&&(r[g]=y,c=!0)}}}else{zc(e,t,i,r)&&(c=!0);let u;for(const f in l)(!t||!ve(t,f)&&((u=Yt(f))===f||!ve(t,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=Yr(a,l,f,void 0,e,!0)):delete i[f]);if(r!==l)for(const f in r)(!t||!ve(t,f))&&(delete r[f],c=!0)}c&&Mt(e.attrs,"set","")}function zc(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(cs(a))continue;const c=t[a];let u;i&&ve(i,u=ft(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:Yi(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=pe(n),c=l||ge;for(let u=0;u<r.length;u++){const f=r[u];n[f]=Yr(i,a,f,c[f],e,!ve(c,f))}}return o}function Yr(e,t,n,s,i,r){const o=e[n];if(o!=null){const l=ve(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&ne(a)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Fs(i);s=c[n]=a.call(null,t),u()}}else s=a;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Yt(n))&&(s=!0))}return s}const Yf=new WeakMap;function qc(e,t,n=!1){const s=n?Yf:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},l=[];let a=!1;if(!ne(e)){const u=f=>{a=!0;const[g,y]=qc(f,t,!0);He(o,g),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!a)return Ae(e)&&s.set(e,Dn),Dn;if(X(r))for(let u=0;u<r.length;u++){const f=ft(r[u]);Pl(f)&&(o[f]=ge)}else if(r)for(const u in r){const f=ft(u);if(Pl(f)){const g=r[u],y=o[f]=X(g)||ne(g)?{type:g}:He({},g),p=y.type;let b=!1,S=!0;if(X(p))for(let O=0;O<p.length;++O){const A=p[O],P=ne(A)&&A.name;if(P==="Boolean"){b=!0;break}else P==="String"&&(S=!1)}else b=ne(p)&&p.name==="Boolean";y[0]=b,y[1]=S,(b||ve(y,"default"))&&l.push(f)}}const c=[o,l];return Ae(e)&&s.set(e,c),c}function Pl(e){return e[0]!=="$"&&!cs(e)}const Io=e=>e==="_"||e==="_ctx"||e==="$stable",To=e=>X(e)?e.map(Tt):[Tt(e)],Jf=(e,t,n)=>{if(t._n)return t;const s=Oe((...i)=>To(t(...i)),n);return s._c=!1,s},Wc=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Io(i))continue;const r=e[i];if(ne(r))t[i]=Jf(i,r,s);else if(r!=null){const o=To(r);t[i]=()=>o}}},Gc=(e,t)=>{const n=To(t);e.slots.default=()=>n},Yc=(e,t,n)=>{for(const s in t)(n||!Io(s))&&(e[s]=t[s])},Qf=(e,t,n)=>{const s=e.slots=jc();if(e.vnode.shapeFlag&32){const i=t._;i?(Yc(s,t,n),n&&sc(s,"_",i,!0)):Wc(t,s)}else t&&Gc(e,t)},Xf=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=ge;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:Yc(i,t,n):(r=!t.$stable,Wc(t,i)),o=t}else t&&(Gc(e,t),o={default:1});if(r)for(const l in i)!Io(l)&&o[l]==null&&delete i[l]},ut=fh;function Zf(e){return Kf(e)}function Kf(e,t){const n=Fi();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:g,setScopeId:y=vt,insertStaticContent:p}=e,b=(d,h,m,E=null,x=null,_=null,N=void 0,$=null,I=!!h.dynamicChildren)=>{if(d===h)return;d&&!es(d,h)&&(E=On(d),Me(d,x,_,!0),d=null),h.patchFlag===-2&&(I=!1,h.dynamicChildren=null);const{type:R,ref:Y,shapeFlag:V}=h;switch(R){case Ji:S(d,h,m,E);break;case Wt:O(d,h,m,E);break;case ti:d==null&&A(h,m,E,N);break;case de:ie(d,h,m,E,x,_,N,$,I);break;default:V&1?W(d,h,m,E,x,_,N,$,I):V&6?oe(d,h,m,E,x,_,N,$,I):(V&64||V&128)&&R.process(d,h,m,E,x,_,N,$,I,fn)}Y!=null&&x?fs(Y,d&&d.ref,_,h||d,!h):Y==null&&d&&d.ref!=null&&fs(d.ref,null,_,d,!0)},S=(d,h,m,E)=>{if(d==null)s(h.el=l(h.children),m,E);else{const x=h.el=d.el;h.children!==d.children&&c(x,h.children)}},O=(d,h,m,E)=>{d==null?s(h.el=a(h.children||""),m,E):h.el=d.el},A=(d,h,m,E)=>{[d.el,d.anchor]=p(d.children,h,m,E,d.el,d.anchor)},P=({el:d,anchor:h},m,E)=>{let x;for(;d&&d!==h;)x=g(d),s(d,m,E),d=x;s(h,m,E)},C=({el:d,anchor:h})=>{let m;for(;d&&d!==h;)m=g(d),i(d),d=m;i(h)},W=(d,h,m,E,x,_,N,$,I)=>{if(h.type==="svg"?N="svg":h.type==="math"&&(N="mathml"),d==null)ke(h,m,E,x,_,N,$,I);else{const R=d.el&&d.el._isVueCE?d.el:null;try{R&&R._beginPatch(),J(d,h,x,_,N,$,I)}finally{R&&R._endPatch()}}},ke=(d,h,m,E,x,_,N,$)=>{let I,R;const{props:Y,shapeFlag:V,transition:G,dirs:ee}=d;if(I=d.el=o(d.type,_,Y&&Y.is,Y),V&8?u(I,d.children):V&16&&z(d.children,I,null,E,x,mr(d,_),N,$),ee&&hn(d,null,E,"created"),K(I,d,d.scopeId,N,E),Y){for(const Ee in Y)Ee!=="value"&&!cs(Ee)&&r(I,Ee,null,Y[Ee],_,E);"value"in Y&&r(I,"value",null,Y.value,_),(R=Y.onVnodeBeforeMount)&&Ot(R,E,d)}ee&&hn(d,null,E,"beforeMount");const fe=eh(x,G);fe&&G.beforeEnter(I),s(I,h,m),((R=Y&&Y.onVnodeMounted)||fe||ee)&&ut(()=>{R&&Ot(R,E,d),fe&&G.enter(I),ee&&hn(d,null,E,"mounted")},x)},K=(d,h,m,E,x)=>{if(m&&y(d,m),E)for(let _=0;_<E.length;_++)y(d,E[_]);if(x){let _=x.subTree;if(h===_||eu(_.type)&&(_.ssContent===h||_.ssFallback===h)){const N=x.vnode;K(d,N,N.scopeId,N.slotScopeIds,x.parent)}}},z=(d,h,m,E,x,_,N,$,I=0)=>{for(let R=I;R<d.length;R++){const Y=d[R]=$?sn(d[R]):Tt(d[R]);b(null,Y,h,m,E,x,_,N,$)}},J=(d,h,m,E,x,_,N)=>{const $=h.el=d.el;let{patchFlag:I,dynamicChildren:R,dirs:Y}=h;I|=d.patchFlag&16;const V=d.props||ge,G=h.props||ge;let ee;if(m&&pn(m,!1),(ee=G.onVnodeBeforeUpdate)&&Ot(ee,m,h,d),Y&&hn(h,d,m,"beforeUpdate"),m&&pn(m,!0),(V.innerHTML&&G.innerHTML==null||V.textContent&&G.textContent==null)&&u($,""),R?H(d.dynamicChildren,R,$,m,E,mr(h,x),_):N||te(d,h,$,null,m,E,mr(h,x),_,!1),I>0){if(I&16)le($,V,G,m,x);else if(I&2&&V.class!==G.class&&r($,"class",null,G.class,x),I&4&&r($,"style",V.style,G.style,x),I&8){const fe=h.dynamicProps;for(let Ee=0;Ee<fe.length;Ee++){const Se=fe[Ee],tt=V[Se],nt=G[Se];(nt!==tt||Se==="value")&&r($,Se,tt,nt,x,m)}}I&1&&d.children!==h.children&&u($,h.children)}else!N&&R==null&&le($,V,G,m,x);((ee=G.onVnodeUpdated)||Y)&&ut(()=>{ee&&Ot(ee,m,h,d),Y&&hn(h,d,m,"updated")},E)},H=(d,h,m,E,x,_,N)=>{for(let $=0;$<h.length;$++){const I=d[$],R=h[$],Y=I.el&&(I.type===de||!es(I,R)||I.shapeFlag&198)?f(I.el):m;b(I,R,Y,null,E,x,_,N,!0)}},le=(d,h,m,E,x)=>{if(h!==m){if(h!==ge)for(const _ in h)!cs(_)&&!(_ in m)&&r(d,_,h[_],null,x,E);for(const _ in m){if(cs(_))continue;const N=m[_],$=h[_];N!==$&&_!=="value"&&r(d,_,$,N,x,E)}"value"in m&&r(d,"value",h.value,m.value,x)}},ie=(d,h,m,E,x,_,N,$,I)=>{const R=h.el=d?d.el:l(""),Y=h.anchor=d?d.anchor:l("");let{patchFlag:V,dynamicChildren:G,slotScopeIds:ee}=h;ee&&($=$?$.concat(ee):ee),d==null?(s(R,m,E),s(Y,m,E),z(h.children||[],m,Y,x,_,N,$,I)):V>0&&V&64&&G&&d.dynamicChildren?(H(d.dynamicChildren,G,m,x,_,N,$),(h.key!=null||x&&h===x.subTree)&&Jc(d,h,!0)):te(d,h,m,Y,x,_,N,$,I)},oe=(d,h,m,E,x,_,N,$,I)=>{h.slotScopeIds=$,d==null?h.shapeFlag&512?x.ctx.activate(h,m,E,N,I):M(h,m,E,x,_,N,I):L(d,h,I)},M=(d,h,m,E,x,_,N)=>{const $=d.component=vh(d,E,x);if($c(d)&&($.ctx.renderer=fn),yh($,!1,N),$.asyncDep){if(x&&x.registerDep($,j,N),!d.el){const I=$.subTree=he(Wt);O(null,I,h,m),d.placeholder=I.el}}else j($,d,h,m,x,_,N)},L=(d,h,m)=>{const E=h.component=d.component;if(uh(d,h,m))if(E.asyncDep&&!E.asyncResolved){q(E,h,m);return}else E.next=h,E.update();else h.el=d.el,E.vnode=h},j=(d,h,m,E,x,_,N)=>{const $=()=>{if(d.isMounted){let{next:V,bu:G,u:ee,parent:fe,vnode:Ee}=d;{const Rt=Qc(d);if(Rt){V&&(V.el=Ee.el,q(d,V,N)),Rt.asyncDep.then(()=>{d.isUnmounted||$()});return}}let Se=V,tt;pn(d,!1),V?(V.el=Ee.el,q(d,V,N)):V=Ee,G&&ei(G),(tt=V.props&&V.props.onVnodeBeforeUpdate)&&Ot(tt,fe,V,Ee),pn(d,!0);const nt=Dl(d),_t=d.subTree;d.subTree=nt,b(_t,nt,f(_t.el),On(_t),d,x,_),V.el=nt.el,Se===null&&dh(d,nt.el),ee&&ut(ee,x),(tt=V.props&&V.props.onVnodeUpdated)&&ut(()=>Ot(tt,fe,V,Ee),x)}else{let V;const{el:G,props:ee}=h,{bm:fe,m:Ee,parent:Se,root:tt,type:nt}=d,_t=Mn(h);pn(d,!1),fe&&ei(fe),!_t&&(V=ee&&ee.onVnodeBeforeMount)&&Ot(V,Se,h),pn(d,!0);{tt.ce&&tt.ce._def.shadowRoot!==!1&&tt.ce._injectChildStyle(nt);const Rt=d.subTree=Dl(d);b(null,Rt,m,E,d,x,_),h.el=Rt.el}if(Ee&&ut(Ee,x),!_t&&(V=ee&&ee.onVnodeMounted)){const Rt=h;ut(()=>Ot(V,Se,Rt),x)}(h.shapeFlag&256||Se&&Mn(Se.vnode)&&Se.vnode.shapeFlag&256)&&d.a&&ut(d.a,x),d.isMounted=!0,h=m=E=null}};d.scope.on();const I=d.effect=new uc($);d.scope.off();const R=d.update=I.run.bind(I),Y=d.job=I.runIfDirty.bind(I);Y.i=d,Y.id=d.uid,I.scheduler=()=>_o(Y),pn(d,!0),R()},q=(d,h,m)=>{h.component=d;const E=d.vnode.props;d.vnode=h,d.next=null,Gf(d,h.props,E,m),Xf(d,h.children,m),zt(),Rl(d),qt()},te=(d,h,m,E,x,_,N,$,I=!1)=>{const R=d&&d.children,Y=d?d.shapeFlag:0,V=h.children,{patchFlag:G,shapeFlag:ee}=h;if(G>0){if(G&128){Zt(R,V,m,E,x,_,N,$,I);return}else if(G&256){Ye(R,V,m,E,x,_,N,$,I);return}}ee&8?(Y&16&&Ct(R,x,_),V!==R&&u(m,V)):Y&16?ee&16?Zt(R,V,m,E,x,_,N,$,I):Ct(R,x,_,!0):(Y&8&&u(m,""),ee&16&&z(V,m,E,x,_,N,$,I))},Ye=(d,h,m,E,x,_,N,$,I)=>{d=d||Dn,h=h||Dn;const R=d.length,Y=h.length,V=Math.min(R,Y);let G;for(G=0;G<V;G++){const ee=h[G]=I?sn(h[G]):Tt(h[G]);b(d[G],ee,m,null,x,_,N,$,I)}R>Y?Ct(d,x,_,!0,!1,V):z(h,m,E,x,_,N,$,I,V)},Zt=(d,h,m,E,x,_,N,$,I)=>{let R=0;const Y=h.length;let V=d.length-1,G=Y-1;for(;R<=V&&R<=G;){const ee=d[R],fe=h[R]=I?sn(h[R]):Tt(h[R]);if(es(ee,fe))b(ee,fe,m,null,x,_,N,$,I);else break;R++}for(;R<=V&&R<=G;){const ee=d[V],fe=h[G]=I?sn(h[G]):Tt(h[G]);if(es(ee,fe))b(ee,fe,m,null,x,_,N,$,I);else break;V--,G--}if(R>V){if(R<=G){const ee=G+1,fe=ee<Y?h[ee].el:E;for(;R<=G;)b(null,h[R]=I?sn(h[R]):Tt(h[R]),m,fe,x,_,N,$,I),R++}}else if(R>G)for(;R<=V;)Me(d[R],x,_,!0),R++;else{const ee=R,fe=R,Ee=new Map;for(R=fe;R<=G;R++){const ct=h[R]=I?sn(h[R]):Tt(h[R]);ct.key!=null&&Ee.set(ct.key,R)}let Se,tt=0;const nt=G-fe+1;let _t=!1,Rt=0;const Xn=new Array(nt);for(R=0;R<nt;R++)Xn[R]=0;for(R=ee;R<=V;R++){const ct=d[R];if(tt>=nt){Me(ct,x,_,!0);continue}let kt;if(ct.key!=null)kt=Ee.get(ct.key);else for(Se=fe;Se<=G;Se++)if(Xn[Se-fe]===0&&es(ct,h[Se])){kt=Se;break}kt===void 0?Me(ct,x,_,!0):(Xn[kt-fe]=R+1,kt>=Rt?Rt=kt:_t=!0,b(ct,h[kt],m,null,x,_,N,$,I),tt++)}const Sl=_t?th(Xn):Dn;for(Se=Sl.length-1,R=nt-1;R>=0;R--){const ct=fe+R,kt=h[ct],wl=h[ct+1],El=ct+1<Y?wl.el||wl.placeholder:E;Xn[R]===0?b(null,kt,m,El,x,_,N,$,I):_t&&(Se<0||R!==Sl[Se]?Fe(kt,m,El,2):Se--)}}},Fe=(d,h,m,E,x=null)=>{const{el:_,type:N,transition:$,children:I,shapeFlag:R}=d;if(R&6){Fe(d.component.subTree,h,m,E);return}if(R&128){d.suspense.move(h,m,E);return}if(R&64){N.move(d,h,m,fn);return}if(N===de){s(_,h,m);for(let V=0;V<I.length;V++)Fe(I[V],h,m,E);s(d.anchor,h,m);return}if(N===ti){P(d,h,m);return}if(E!==2&&R&1&&$)if(E===0)$.beforeEnter(_),s(_,h,m),ut(()=>$.enter(_),x);else{const{leave:V,delayLeave:G,afterLeave:ee}=$,fe=()=>{d.ctx.isUnmounted?i(_):s(_,h,m)},Ee=()=>{_._isLeaving&&_[Ef](!0),V(_,()=>{fe(),ee&&ee()})};G?G(_,fe,Ee):Ee()}else s(_,h,m)},Me=(d,h,m,E=!1,x=!1)=>{const{type:_,props:N,ref:$,children:I,dynamicChildren:R,shapeFlag:Y,patchFlag:V,dirs:G,cacheIndex:ee}=d;if(V===-2&&(x=!1),$!=null&&(zt(),fs($,null,m,d,!0),qt()),ee!=null&&(h.renderCache[ee]=void 0),Y&256){h.ctx.deactivate(d);return}const fe=Y&1&&G,Ee=!Mn(d);let Se;if(Ee&&(Se=N&&N.onVnodeBeforeUnmount)&&Ot(Se,h,d),Y&6)kn(d.component,m,E);else{if(Y&128){d.suspense.unmount(m,E);return}fe&&hn(d,null,h,"beforeUnmount"),Y&64?d.type.remove(d,h,m,fn,E):R&&!R.hasOnce&&(_!==de||V>0&&V&64)?Ct(R,h,m,!1,!0):(_===de&&V&384||!x&&Y&16)&&Ct(I,h,m),E&&Kt(d)}(Ee&&(Se=N&&N.onVnodeUnmounted)||fe)&&ut(()=>{Se&&Ot(Se,h,d),fe&&hn(d,null,h,"unmounted")},m)},Kt=d=>{const{type:h,el:m,anchor:E,transition:x}=d;if(h===de){en(m,E);return}if(h===ti){C(d);return}const _=()=>{i(m),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(d.shapeFlag&1&&x&&!x.persisted){const{leave:N,delayLeave:$}=x,I=()=>N(m,_);$?$(d.el,_,I):I()}else _()},en=(d,h)=>{let m;for(;d!==h;)m=g(d),i(d),d=m;i(h)},kn=(d,h,m)=>{const{bum:E,scope:x,job:_,subTree:N,um:$,m:I,a:R}=d;Nl(I),Nl(R),E&&ei(E),x.stop(),_&&(_.flags|=8,Me(N,d,h,m)),$&&ut($,h),ut(()=>{d.isUnmounted=!0},h)},Ct=(d,h,m,E=!1,x=!1,_=0)=>{for(let N=_;N<d.length;N++)Me(d[N],h,m,E,x)},On=d=>{if(d.shapeFlag&6)return On(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const h=g(d.anchor||d.el),m=h&&h[Sf];return m?g(m):h};let dn=!1;const Hs=(d,h,m)=>{d==null?h._vnode&&Me(h._vnode,null,null,!0):b(h._vnode||null,d,h,null,null,null,m),h._vnode=d,dn||(dn=!0,Rl(),Ac(),dn=!1)},fn={p:b,um:Me,m:Fe,r:Kt,mt:M,mc:z,pc:te,pbc:H,n:On,o:e};return{render:Hs,hydrate:void 0,createApp:Hf(Hs)}}function mr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function pn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function eh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jc(e,t,n=!1){const s=e.children,i=t.children;if(X(s)&&X(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=sn(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Jc(o,l)),l.type===Ji&&l.patchFlag!==-1&&(l.el=o.el),l.type===Wt&&!l.el&&(l.el=o.el)}}function th(e){const t=e.slice(),n=[0];let s,i,r,o,l;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,e[n[l]]<c?r=l+1:o=l;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Qc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qc(t)}function Nl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const nh=Symbol.for("v-scx"),sh=()=>ps(nh);function ih(e,t){return $o(e,null,{flush:"sync"})}function Vt(e,t,n){return $o(e,t,n)}function $o(e,t,n=ge){const{immediate:s,deep:i,flush:r,once:o}=n,l=He({},n),a=t&&s||!t&&r!=="post";let c;if(ks){if(r==="sync"){const y=sh();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!a){const y=()=>{};return y.stop=vt,y.resume=vt,y.pause=vt,y}}const u=We;l.call=(y,p,b)=>$t(y,u,p,b);let f=!1;r==="post"?l.scheduler=y=>{ut(y,u&&u.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(y,p)=>{p?y():_o(y)}),l.augmentJob=y=>{t&&(y.flags|=4),f&&(y.flags|=2,u&&(y.id=u.uid,y.i=u))};const g=pf(e,t,l);return ks&&(c?c.push(g):a&&g()),g}function rh(e,t,n){const s=this.proxy,i=Le(e)?e.includes(".")?Xc(s,e):()=>s[e]:e.bind(s,s);let r;ne(t)?r=t:(r=t.handler,n=t);const o=Fs(this),l=$o(i,r.bind(s),n);return o(),l}function Xc(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Gi(e,t,n=ge){const s=Ls(),i=ft(t),r=Yt(t),o=Zc(e,i),l=lf((a,c)=>{let u,f=ge,g;return ih(()=>{const y=e[i];st(u,y)&&(u=y,c())}),{get(){return a(),n.get?n.get(u):u},set(y){const p=n.set?n.set(y):y;if(!st(p,u)&&!(f!==ge&&st(y,f)))return;const b=s.vnode.props;b&&(t in b||i in b||r in b)&&(`onUpdate:${t}`in b||`onUpdate:${i}`in b||`onUpdate:${r}`in b)||(u=y,c()),s.emit(`update:${t}`,p),st(y,p)&&st(y,f)&&!st(p,g)&&c(),f=y,g=p}}});return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?o||ge:l,done:!1}:{done:!0}}}},l}const Zc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ft(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function oh(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ge;let i=n;const r=t.startsWith("update:"),o=r&&Zc(s,t.slice(7));o&&(o.trim&&(i=n.map(u=>Le(u)?u.trim():u)),o.number&&(i=n.map(vo)));let l,a=s[l=Ks(t)]||s[l=Ks(ft(t))];!a&&r&&(a=s[l=Ks(Yt(t))]),a&&$t(a,e,6,i);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,$t(c,e,6,i)}}const lh=new WeakMap;function Kc(e,t,n=!1){const s=n?lh:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},l=!1;if(!ne(e)){const a=c=>{const u=Kc(c,t,!0);u&&(l=!0,He(o,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(Ae(e)&&s.set(e,null),null):(X(r)?r.forEach(a=>o[a]=null):He(o,r),Ae(e)&&s.set(e,o),o)}function Yi(e,t){return!e||!Pi(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Yt(t))||ve(e,t))}function Dl(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:f,data:g,setupState:y,ctx:p,inheritAttrs:b}=e,S=vi(e);let O,A;try{if(n.shapeFlag&4){const C=i||s,W=C;O=Tt(c.call(W,C,u,f,y,g,p)),A=l}else{const C=t;O=Tt(C.length>1?C(f,{attrs:l,slots:o,emit:a}):C(f,null)),A=t.props?l:ah(l)}}catch(C){gs.length=0,Hi(C,e,1),O=he(Wt)}let P=O;if(A&&b!==!1){const C=Object.keys(A),{shapeFlag:W}=P;C.length&&W&7&&(r&&C.some(go)&&(A=ch(A,r)),P=Hn(P,A,!1,!0))}return n.dirs&&(P=Hn(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&Ro(P,n.transition),O=P,vi(S),O}const ah=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pi(n))&&((t||(t={}))[n]=e[n]);return t},ch=(e,t)=>{const n={};for(const s in e)(!go(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function uh(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:l,patchFlag:a}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Ll(s,o,c):!!o;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const g=u[f];if(o[g]!==s[g]&&!Yi(c,g))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Ll(s,o,c):!0:!!o;return!1}function Ll(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!Yi(n,r))return!0}return!1}function dh({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const eu=e=>e.__isSuspense;function fh(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):Oc(e)}const de=Symbol.for("v-fgt"),Ji=Symbol.for("v-txt"),Wt=Symbol.for("v-cmt"),ti=Symbol.for("v-stc"),gs=[];let dt=null;function w(e=!1){gs.push(dt=e?null:[])}function hh(){gs.pop(),dt=gs[gs.length-1]||null}let Rs=1;function Fl(e,t=!1){Rs+=e,e<0&&dt&&t&&(dt.hasOnce=!0)}function tu(e){return e.dynamicChildren=Rs>0?dt||Dn:null,hh(),Rs>0&&dt&&dt.push(e),e}function T(e,t,n,s,i,r){return tu(D(e,t,n,s,i,r,!0))}function ce(e,t,n,s,i){return tu(he(e,t,n,s,i,!0))}function Po(e){return e?e.__v_isVNode===!0:!1}function es(e,t){return e.type===t.type&&e.key===t.key}const nu=({key:e})=>e??null,ni=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||De(e)||ne(e)?{i:je,r:e,k:t,f:!!n}:e:null);function D(e,t=null,n=null,s=0,i=null,r=e===de?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nu(t),ref:t&&ni(t),scopeId:zi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:je};return l?(No(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=Le(n)?8:16),Rs>0&&!o&&dt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&dt.push(a),a}const he=ph;function ph(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===Dc)&&(e=Wt),Po(e)){const l=Hn(e,t,!0);return n&&No(l,n),Rs>0&&!r&&dt&&(l.shapeFlag&6?dt[dt.indexOf(e)]=l:dt.push(l)),l.patchFlag=-2,l}if(xh(e)&&(e=e.__vccOpts),t){t=gh(t);let{class:l,style:a}=t;l&&!Le(l)&&(t.class=Ne(l)),Ae(a)&&(Co(a)&&!X(a)&&(a=He({},a)),t.style=Mi(a))}const o=Le(e)?1:eu(e)?128:wf(e)?64:Ae(e)?4:ne(e)?2:0;return D(e,t,n,s,i,o,r,!0)}function gh(e){return e?Co(e)||Hc(e)?He({},e):e:null}function Hn(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:a}=e,c=t?zn(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&nu(c),ref:t&&t.ref?n&&r?X(r)?r.concat(ni(t)):[r,ni(t)]:ni(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hn(e.ssContent),ssFallback:e.ssFallback&&Hn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&Ro(u,a.clone(u)),u}function xe(e=" ",t=0){return he(Ji,null,e,t)}function Z(e="",t=!1){return t?(w(),ce(Wt,null,e)):he(Wt,null,e)}function Tt(e){return e==null||typeof e=="boolean"?he(Wt):X(e)?he(de,null,e.slice()):Po(e)?sn(e):he(Ji,null,String(e))}function sn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hn(e)}function No(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(X(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),No(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Hc(t)?t._ctx=je:i===3&&je&&(je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:je},n=32):(t=String(t),s&64?(n=16,t=[xe(t)]):n=8);e.children=t,e.shapeFlag|=n}function zn(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Ne([t.class,s.class]));else if(i==="style")t.style=Mi([t.style,s.style]);else if(Pi(i)){const r=t[i],o=s[i];o&&r!==o&&!(X(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Ot(e,t,n,s=null){$t(e,t,7,[n,s])}const mh=Vc();let bh=0;function vh(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||mh,r={uid:bh++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qc(s,i),emitsOptions:Kc(s,i),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:s.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=oh.bind(null,r),e.ce&&e.ce(r),r}let We=null;const Ls=()=>We||je;let Ei,Jr;{const e=Fi(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Ei=t("__VUE_INSTANCE_SETTERS__",n=>We=n),Jr=t("__VUE_SSR_SETTERS__",n=>ks=n)}const Fs=e=>{const t=We;return Ei(e),e.scope.on(),()=>{e.scope.off(),Ei(t)}},Ml=()=>{We&&We.scope.off(),Ei(null)};function su(e){return e.vnode.shapeFlag&4}let ks=!1;function yh(e,t=!1,n=!1){t&&Jr(t);const{props:s,children:i}=e.vnode,r=su(e);Wf(e,s,r,t),Qf(e,i,n||t);const o=r?Sh(e,t):void 0;return t&&Jr(!1),o}function Sh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Df);const{setup:s}=n;if(s){zt();const i=e.setupContext=s.length>1?ru(e):null,r=Fs(e),o=$s(s,e,0,[e.props,i]),l=ec(o);if(qt(),r(),(l||e.sp)&&!Mn(e)&&Tc(e),l){if(o.then(Ml,Ml),t)return o.then(a=>{Bl(e,a)}).catch(a=>{Hi(a,e,0)});e.asyncDep=o}else Bl(e,o)}else iu(e)}function Bl(e,t,n){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=_c(t)),iu(e)}function iu(e,t,n){const s=e.type;e.render||(e.render=s.render||vt);{const i=Fs(e);zt();try{Ff(e)}finally{qt(),i()}}}const wh={get(e,t){return qe(e,"get",""),e[t]}};function ru(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,wh),slots:e.slots,emit:e.emit,expose:t}}function Qi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_c(ji(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hs)return hs[n](e)},has(t,n){return n in t||n in hs}})):e.proxy}function Eh(e,t=!0){return ne(e)?e.displayName||e.name:e.name||t&&e.__name}function xh(e){return ne(e)&&"__vccOpts"in e}const k=(e,t)=>ff(e,t,ks),Ch="3.5.24";/**
* @vue/runtime-dom v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qr;const Vl=typeof window<"u"&&window.trustedTypes;if(Vl)try{Qr=Vl.createPolicy("vue",{createHTML:e=>e})}catch{}const ou=Qr?e=>Qr.createHTML(e):e=>e,_h="http://www.w3.org/2000/svg",Rh="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,Ul=Lt&&Lt.createElement("template"),kh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Lt.createElementNS(_h,e):t==="mathml"?Lt.createElementNS(Rh,e):n?Lt.createElement(e,{is:n}):Lt.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Ul.innerHTML=ou(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Ul.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Oh=Symbol("_vtc");function Ah(e,t,n){const s=e[Oh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xi=Symbol("_vod"),lu=Symbol("_vsh"),Do={name:"show",beforeMount(e,{value:t},{transition:n}){e[xi]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ts(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),ts(e,!0),s.enter(e)):s.leave(e,()=>{ts(e,!1)}):ts(e,t))},beforeUnmount(e,{value:t}){ts(e,t)}};function ts(e,t){e.style.display=t?e[xi]:"none",e[lu]=!t}const au=Symbol("");function Lo(e){const t=Ls();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>Ci(r,i))},s=()=>{const i=e(t.proxy);t.ce?Ci(t.ce,i):Xr(t.subTree,i),n(i)};Nc(()=>{Oc(s)}),ko(()=>{Vt(s,vt,{flush:"post"});const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),Wi(()=>i.disconnect())})}function Xr(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Xr(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Ci(e.el,t);else if(e.type===de)e.children.forEach(n=>Xr(n,t));else if(e.type===ti){let{el:n,anchor:s}=e;for(;n&&(Ci(n,t),n!==s);)n=n.nextSibling}}function Ci(e,t){if(e.nodeType===1){const n=e.style;let s="";for(const i in t){const r=Dd(t[i]);n.setProperty(`--${i}`,r),s+=`--${i}: ${r};`}n[au]=s}}const Ih=/(?:^|;)\s*display\s*:/;function Th(e,t,n){const s=e.style,i=Le(n);let r=!1;if(n&&!i){if(t)if(Le(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&si(s,l,"")}else for(const o in t)n[o]==null&&si(s,o,"");for(const o in n)o==="display"&&(r=!0),si(s,o,n[o])}else if(i){if(t!==n){const o=s[au];o&&(n+=";"+o),s.cssText=n,r=Ih.test(n)}}else t&&e.removeAttribute("style");xi in e&&(e[xi]=r?s.display:"",e[lu]&&(s.display="none"))}const jl=/\s*!important$/;function si(e,t,n){if(X(n))n.forEach(s=>si(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=$h(e,t);jl.test(n)?e.setProperty(Yt(s),n.replace(jl,""),"important"):e[s]=n}}const Hl=["Webkit","Moz","ms"],br={};function $h(e,t){const n=br[t];if(n)return n;let s=ft(t);if(s!=="filter"&&s in e)return br[t]=s;s=Li(s);for(let i=0;i<Hl.length;i++){const r=Hl[i]+s;if(r in e)return br[t]=r}return t}const zl="http://www.w3.org/1999/xlink";function ql(e,t,n,s,i,r=Nd(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zl,t.slice(6,t.length)):e.setAttributeNS(zl,t,n):n==null||r&&!ic(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Gt(n)?String(n):n)}function Wl(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ou(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ic(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function $n(e,t,n,s){e.addEventListener(t,n,s)}function Ph(e,t,n,s){e.removeEventListener(t,n,s)}const Gl=Symbol("_vei");function Nh(e,t,n,s,i=null){const r=e[Gl]||(e[Gl]={}),o=r[t];if(s&&o)o.value=s;else{const[l,a]=Dh(t);if(s){const c=r[t]=Mh(s,i);$n(e,l,c,a)}else o&&(Ph(e,l,o,a),r[t]=void 0)}}const Yl=/(?:Once|Passive|Capture)$/;function Dh(e){let t;if(Yl.test(e)){t={};let s;for(;s=e.match(Yl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let vr=0;const Lh=Promise.resolve(),Fh=()=>vr||(Lh.then(()=>vr=0),vr=Date.now());function Mh(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;$t(Bh(s,n.value),t,5,[s])};return n.value=e,n.attached=Fh(),n}function Bh(e,t){if(X(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Jl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Vh=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?Ah(e,s,o):t==="style"?Th(e,n,s):Pi(t)?go(t)||Nh(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Uh(e,t,s,o))?(Wl(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ql(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Le(s))?Wl(e,ft(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ql(e,t,s,o))};function Uh(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Jl(t)&&ne(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Jl(t)&&Le(n)?!1:t in e}const Ql=e=>{const t=e.props["onUpdate:modelValue"]||!1;return X(t)?n=>ei(t,n):t};function jh(e){e.target.composing=!0}function Xl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const yr=Symbol("_assign");function Zl(e,t,n){return t&&(e=e.trim()),n&&(e=vo(e)),e}const Hh={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[yr]=Ql(i);const r=s||i.props&&i.props.type==="number";$n(e,t?"change":"input",o=>{o.target.composing||e[yr](Zl(e.value,n,r))}),(n||r)&&$n(e,"change",()=>{e.value=Zl(e.value,n,r)}),t||($n(e,"compositionstart",jh),$n(e,"compositionend",Xl),$n(e,"change",Xl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[yr]=Ql(o),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?vo(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===a)||(e.value=a))}},zh=["ctrl","shift","alt","meta"],qh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zh.some(n=>e[`${n}Key`]&&!t.includes(n))},_i=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((i,...r)=>{for(let o=0;o<t.length;o++){const l=qh[t[o]];if(l&&l(i,t))return}return e(i,...r)}))},Wh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Os=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=(i=>{if(!("key"in i))return;const r=Yt(i.key);if(t.some(o=>o===r||Wh[o]===r))return e(i)}))},Gh=He({patchProp:Vh},kh);let Kl;function Yh(){return Kl||(Kl=Zf(Gh))}const Jh=((...e)=>{const t=Yh().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Xh(s);if(!i)return;const r=t._component;!ne(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Qh(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function Qh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xh(e){return Le(e)?document.querySelector(e):e}function Zh(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let ii;function Zr(){Zr.init||(Zr.init=!0,ii=Zh()!==-1)}var Xi={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Zr(),Ps(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",ii&&this.$el.appendChild(e),e.data="about:blank",ii||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!ii&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Kh=yf();bf("data-v-b329ee4c");const ep={class:"resize-observer",tabindex:"-1"};vf();const tp=Kh((e,t,n,s,i,r)=>(w(),ce("div",ep)));Xi.render=tp;Xi.__scopeId="data-v-b329ee4c";Xi.__file="src/components/ResizeObserver.vue";function ri(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ri=function(t){return typeof t}:ri=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function ip(e,t,n){return t&&sp(e.prototype,t),e}function ea(e){return rp(e)||op(e)||lp(e)||ap()}function rp(e){if(Array.isArray(e))return Kr(e)}function op(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lp(e,t){if(e){if(typeof e=="string")return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kr(e,t)}}function Kr(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function ap(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cp(e){var t;return typeof e=="function"?t={callback:e}:t=e,t}function up(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,r,o=function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];if(r=u,!(s&&a===i)){var g=n.leading;typeof g=="function"&&(g=g(a,i)),(!s||a!==i)&&g&&e.apply(void 0,[a].concat(ea(r))),i=a,clearTimeout(s),s=setTimeout(function(){e.apply(void 0,[a].concat(ea(r))),s=0},t)}};return o._clear=function(){clearTimeout(s),s=null},o}function cu(e,t){if(e===t)return!0;if(ri(e)==="object"){for(var n in e)if(!cu(e[n],t[n]))return!1;return!0}return!1}var dp=(function(){function e(t,n,s){np(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,s)}return ip(e,[{key:"createObserver",value:function(n,s){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=cp(n),this.callback=function(l,a){i.options.callback(l,a),l&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var r=this.options.throttleOptions||{},o=r.leading;this.callback=up(this.callback,this.options.throttle,{leading:function(a){return o==="both"||o==="visible"&&a||o==="hidden"&&!a}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(l){var a=l[0];if(l.length>1){var c=l.find(function(f){return f.isIntersecting});c&&(a=c)}if(i.callback){var u=a.isIntersecting&&a.intersectionRatio>=i.threshold;if(u===i.oldResult)return;i.oldResult=u,i.callback(u,a)}},this.options.intersection),Ps(function(){i.observer&&i.observer.observe(i.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),e})();function uu(e,t,n){var s=t.value;if(s)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new dp(e,s,n);e._vue_visibilityState=i}}function fp(e,t,n){var s=t.value,i=t.oldValue;if(!cu(s,i)){var r=e._vue_visibilityState;if(!s){du(e);return}r?r.createObserver(s,n):uu(e,{value:s},n)}}function du(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var hp={beforeMount:uu,updated:fp,unmounted:du},pp={itemsLimit:1e3},gp=/(auto|scroll)/;function fu(e,t){return e.parentNode===null?t:fu(e.parentNode,t.concat([e]))}var Sr=function(t,n){return getComputedStyle(t,null).getPropertyValue(n)},mp=function(t){return Sr(t,"overflow")+Sr(t,"overflow-y")+Sr(t,"overflow-x")},bp=function(t){return gp.test(mp(t))};function ta(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=fu(e.parentNode,[]),n=0;n<t.length;n+=1)if(bp(t[n]))return t[n];return document.scrollingElement||document.documentElement}}function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}var vp={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function yp(){return this.items.length&&eo(this.items[0])!=="object"}var to=!1;if(typeof window<"u"){to=!1;try{var Sp=Object.defineProperty({},"passive",{get:function(){to=!0}});window.addEventListener("test",null,Sp)}catch{}}let wp=0;var Fo={name:"RecycleScroller",components:{ResizeObserver:Xi},directives:{ObserveVisibility:hp},props:{...vp,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,s=this.minItemSize;let i=1e4,r=0,o;for(let l=0,a=t.length;l<a;l++)o=t[l][n]||s,o<i&&(i=o),r+=o,e[l]={accumulator:r,size:o};return this.$_computedMinItemSize=i,e}return[]},simpleArray:yp,itemIndexByKey(){const{keyField:e,items:t}=this,n={};for(let s=0,i=t.length;s<i;s++)n[t[s][e]]=s;return n}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;typeof e=="number"&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,n,s,i){const r=ji({id:wp++,index:t,used:!0,key:s,type:i}),o=Cc({item:n,position:0,nr:r});return e.push(o),o},unuseView(e,t=!1){const n=this.$_unusedViews,s=e.nr.type;let i=n.get(s);i||(i=[],n.set(s,i)),i.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:n}=this.updateVisibleItems(!1,!0);n||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const n=this.itemSize,s=this.gridItems||1,i=this.itemSecondarySize||n,r=this.$_computedMinItemSize,o=this.typeField,l=this.simpleArray?null:this.keyField,a=this.items,c=a.length,u=this.sizes,f=this.$_views,g=this.$_unusedViews,y=this.pool,p=this.itemIndexByKey;let b,S,O,A,P;if(!c)b=S=A=P=O=0;else if(this.$_prerender)b=A=0,S=P=Math.min(this.prerender,a.length),O=null;else{const H=this.getScroll();if(t){let oe=H.start-this.$_lastUpdateScrollPosition;if(oe<0&&(oe=-oe),n===null&&oe<r||oe<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=H.start;const le=this.buffer;H.start-=le,H.end+=le;let ie=0;if(this.$refs.before&&(ie=this.$refs.before.scrollHeight,H.start-=ie),this.$refs.after){const oe=this.$refs.after.scrollHeight;H.end+=oe}if(n===null){let oe,M=0,L=c-1,j=~~(c/2),q;do q=j,oe=u[j].accumulator,oe<H.start?M=j:j<c-1&&u[j+1].accumulator>H.start&&(L=j),j=~~((M+L)/2);while(j!==q);for(j<0&&(j=0),b=j,O=u[c-1].accumulator,S=j;S<c&&u[S].accumulator<H.end;S++);for(S===-1?S=a.length-1:(S++,S>c&&(S=c)),A=b;A<c&&ie+u[A].accumulator<H.start;A++);for(P=A;P<c&&ie+u[P].accumulator<H.end;P++);}else{b=~~(H.start/n*s);const oe=b%s;b-=oe,S=Math.ceil(H.end/n*s),A=Math.max(0,Math.floor((H.start-ie)/n*s)),P=Math.floor((H.end-ie)/n*s),b<0&&(b=0),S>c&&(S=c),A<0&&(A=0),P>c&&(P=c),O=Math.ceil(c/s)*n}}S-b>pp.itemsLimit&&this.itemsLimitError(),this.totalSize=O;let C;const W=b<=this.$_endIndex&&S>=this.$_startIndex;if(W)for(let H=0,le=y.length;H<le;H++)C=y[H],C.nr.used&&(e&&(C.nr.index=p[C.item[l]]),(C.nr.index==null||C.nr.index<b||C.nr.index>=S)&&this.unuseView(C));const ke=W?null:new Map;let K,z,J;for(let H=b;H<S;H++){K=a[H];const le=l?K[l]:K;if(le==null)throw new Error(`Key is ${le} on item (keyField is '${l}')`);if(C=f.get(le),!n&&!u[H].size){C&&this.unuseView(C);continue}z=K[o];let ie=g.get(z),oe=!1;if(!C)W?ie&&ie.length?C=ie.pop():C=this.addView(y,H,K,le,z):(J=ke.get(z)||0,(!ie||J>=ie.length)&&(C=this.addView(y,H,K,le,z),this.unuseView(C,!0),ie=g.get(z)),C=ie[J],ke.set(z,J+1)),f.delete(C.nr.key),C.nr.used=!0,C.nr.index=H,C.nr.key=le,C.nr.type=z,f.set(le,C),oe=!0;else if(!C.nr.used&&(C.nr.used=!0,oe=!0,ie)){const M=ie.indexOf(C);M!==-1&&ie.splice(M,1)}C.item=K,oe&&(H===a.length-1&&this.$emit("scroll-end"),H===0&&this.$emit("scroll-start")),n===null?(C.position=u[H-1].accumulator,C.offset=0):(C.position=Math.floor(H/s)*n,C.offset=H%s*i)}return this.$_startIndex=b,this.$_endIndex=S,this.emitUpdate&&this.$emit("update",b,S,A,P),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:W}},getListenerTarget(){let e=ta(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){const{$el:e,direction:t}=this,n=t==="vertical";let s;if(this.pageMode){const i=e.getBoundingClientRect(),r=n?i.height:i.width;let o=-(n?i.top:i.left),l=n?window.innerHeight:window.innerWidth;o<0&&(l+=o,o=0),o+l>r&&(l=r-o),s={start:o,end:o+l}}else n?s={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:s={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,to?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;const n=this.gridItems||1;this.itemSize===null?t=e>0?this.sizes[e-1].accumulator:0:t=Math.floor(e/n)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let n,s,i;if(this.pageMode){const r=ta(this.$el),o=r.tagName==="HTML"?0:r[t.scroll],l=r.getBoundingClientRect(),c=this.$el.getBoundingClientRect()[t.start]-l[t.start];n=r,s=t.scroll,i=e+o+c}else n=this.$el,s=t.scroll,i=e;n[s]=i},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};const Ep={key:0,ref:"before",class:"vue-recycle-scroller__slot"},xp={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Cp(e,t,n,s,i,r){const o=Ds("ResizeObserver"),l=Nf("observe-visibility");return Ns((w(),T("div",{class:Ne(["vue-recycle-scroller",{ready:i.ready,"page-mode":n.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...a)=>r.handleScroll&&r.handleScroll(...a))},[e.$slots.before?(w(),T("div",Ep,[it(e.$slots,"before")],512)):Z("v-if",!0),(w(),ce(Ol(n.listTag),{ref:"wrapper",style:Mi({[e.direction==="vertical"?"minHeight":"minWidth"]:i.totalSize+"px"}),class:Ne(["vue-recycle-scroller__item-wrapper",n.listClass])},{default:Oe(()=>[(w(!0),T(de,null,Pt(i.pool,a=>(w(),ce(Ol(n.itemTag),zn({key:a.nr.id,style:i.ready?{transform:`translate${e.direction==="vertical"?"Y":"X"}(${a.position}px) translate${e.direction==="vertical"?"X":"Y"}(${a.offset}px)`,width:n.gridItems?`${e.direction==="vertical"&&n.itemSecondarySize||n.itemSize}px`:void 0,height:n.gridItems?`${e.direction==="horizontal"&&n.itemSecondarySize||n.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[n.itemClass,{hover:!n.skipHover&&i.hoverKey===a.nr.key}]]},_s(n.skipHover?{}:{mouseenter:()=>{i.hoverKey=a.nr.key},mouseleave:()=>{i.hoverKey=null}})),{default:Oe(()=>[it(e.$slots,"default",{item:a.item,index:a.nr.index,active:a.nr.used})]),_:2},1040,["style","class"]))),128)),it(e.$slots,"empty")]),_:3},8,["style","class"])),e.$slots.after?(w(),T("div",xp,[it(e.$slots,"after")],512)):Z("v-if",!0),he(o,{onNotify:r.handleResize},null,8,["onNotify"])],34)),[[l,r.handleVisibilityChange]])}Fo.render=Cp;Fo.__file="src/components/RecycleScroller.vue";/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let hu;const Zi=e=>hu=e,pu=Symbol();function no(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ms;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ms||(ms={}));function _p(){const e=ac(!0),t=e.run(()=>re({}));let n=[],s=[];const i=ji({install(r){Zi(i),i._a=r,r.provide(pu,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const gu=()=>{};function na(e,t,n,s=gu){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&cc()&&Ld(i),i}function In(e,...t){e.slice().forEach(n=>{n(...t)})}const Rp=e=>e(),sa=Symbol(),wr=Symbol();function so(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];no(i)&&no(s)&&e.hasOwnProperty(n)&&!De(s)&&!rn(s)?e[n]=so(i,s):e[n]=s}return e}const kp=Symbol();function Op(e){return!no(e)||!e.hasOwnProperty(kp)}const{assign:tn}=Object;function Ap(e){return!!(De(e)&&e.effect)}function Ip(e,t,n,s){const{state:i,actions:r,getters:o}=t,l=n.state.value[e];let a;function c(){l||(n.state.value[e]=i?i():{});const u=af(n.state.value[e]);return tn(u,r,Object.keys(o||{}).reduce((f,g)=>(f[g]=ji(k(()=>{Zi(n);const y=n._s.get(e);return o[g].call(y,y)})),f),{}))}return a=mu(e,c,t,n,s,!0),a}function mu(e,t,n={},s,i,r){let o;const l=tn({actions:{}},n),a={deep:!0};let c,u,f=[],g=[],y;const p=s.state.value[e];!r&&!p&&(s.state.value[e]={}),re({});let b;function S(z){let J;c=u=!1,typeof z=="function"?(z(s.state.value[e]),J={type:ms.patchFunction,storeId:e,events:y}):(so(s.state.value[e],z),J={type:ms.patchObject,payload:z,storeId:e,events:y});const H=b=Symbol();Ps().then(()=>{b===H&&(c=!0)}),u=!0,In(f,J,s.state.value[e])}const O=r?function(){const{state:J}=n,H=J?J():{};this.$patch(le=>{tn(le,H)})}:gu;function A(){o.stop(),f=[],g=[],s._s.delete(e)}const P=(z,J="")=>{if(sa in z)return z[wr]=J,z;const H=function(){Zi(s);const le=Array.from(arguments),ie=[],oe=[];function M(q){ie.push(q)}function L(q){oe.push(q)}In(g,{args:le,name:H[wr],store:W,after:M,onError:L});let j;try{j=z.apply(this&&this.$id===e?this:W,le)}catch(q){throw In(oe,q),q}return j instanceof Promise?j.then(q=>(In(ie,q),q)).catch(q=>(In(oe,q),Promise.reject(q))):(In(ie,j),j)};return H[sa]=!0,H[wr]=J,H},C={_p:s,$id:e,$onAction:na.bind(null,g),$patch:S,$reset:O,$subscribe(z,J={}){const H=na(f,z,J.detached,()=>le()),le=o.run(()=>Vt(()=>s.state.value[e],ie=>{(J.flush==="sync"?u:c)&&z({storeId:e,type:ms.direct,events:y},ie)},tn({},a,J)));return H},$dispose:A},W=Ui(C);s._s.set(e,W);const K=(s._a&&s._a.runWithContext||Rp)(()=>s._e.run(()=>(o=ac()).run(()=>t({action:P}))));for(const z in K){const J=K[z];if(De(J)&&!Ap(J)||rn(J))r||(p&&Op(J)&&(De(J)?J.value=p[z]:so(J,p[z])),s.state.value[e][z]=J);else if(typeof J=="function"){const H=P(J,z);K[z]=H,l.actions[z]=J}}return tn(W,K),tn(pe(W),K),Object.defineProperty(W,"$state",{get:()=>s.state.value[e],set:z=>{S(J=>{tn(J,z)})}}),s._p.forEach(z=>{tn(W,o.run(()=>z({store:W,app:s._a,pinia:s,options:l})))}),p&&r&&n.hydrate&&n.hydrate(W.$state,p),c=!0,u=!0,W}/*! #__NO_SIDE_EFFECTS__ */function bu(e,t,n){let s,i;const r=typeof t=="function";typeof e=="string"?(s=e,i=r?n:t):(i=e,s=e.id);function o(l,a){const c=qf();return l=l||(c?ps(pu,null):null),l&&Zi(l),l=hu,l._s.has(s)||(r?mu(s,t,i,l):Ip(s,i,l)),l._s.get(s)}return o.$id=s,o}const an=(function(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof self<"u")return self;if(typeof window<"u")return window;try{return new Function("return this")()}catch{return{}}})();an.trustedTypes===void 0&&(an.trustedTypes={createPolicy:(e,t)=>t});const vu={configurable:!1,enumerable:!1,writable:!1};an.FAST===void 0&&Reflect.defineProperty(an,"FAST",Object.assign({value:Object.create(null)},vu));const As=an.FAST;if(As.getById===void 0){const e=Object.create(null);Reflect.defineProperty(As,"getById",Object.assign({value(t,n){let s=e[t];return s===void 0&&(s=n?e[t]=n():null),s}},vu))}const bs=Object.freeze([]);function yu(){const e=new WeakMap;return function(t){let n=e.get(t);if(n===void 0){let s=Reflect.getPrototypeOf(t);for(;n===void 0&&s!==null;)n=e.get(s),s=Reflect.getPrototypeOf(s);n=n===void 0?[]:n.slice(0),e.set(t,n)}return n}}const Er=an.FAST.getById(1,()=>{const e=[],t=[];function n(){if(t.length)throw t.shift()}function s(o){try{o.call()}catch(l){t.push(l),setTimeout(n,0)}}function i(){let l=0;for(;l<e.length;)if(s(e[l]),l++,l>1024){for(let a=0,c=e.length-l;a<c;a++)e[a]=e[a+l];e.length-=l,l=0}e.length=0}function r(o){e.length<1&&an.requestAnimationFrame(i),e.push(o)}return Object.freeze({enqueue:r,process:i})}),Su=an.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let xr=Su;const vs=`fast-${Math.random().toString(36).substring(2,8)}`,wu=`${vs}{`,Mo=`}${vs}`,ye=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(xr!==Su)throw new Error("The HTML policy can only be set once.");xr=e},createHTML(e){return xr.createHTML(e)},isMarker(e){return e&&e.nodeType===8&&e.data.startsWith(vs)},extractDirectiveIndexFromMarker(e){return parseInt(e.data.replace(`${vs}:`,""))},createInterpolationPlaceholder(e){return`${wu}${e}${Mo}`},createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder(e){return`<!--${vs}:${e}-->`},queueUpdate:Er.enqueue,processUpdates:Er.process,nextUpdate(){return new Promise(Er.enqueue)},setAttribute(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)},setBooleanAttribute(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;t!==null;t=e.firstChild)e.removeChild(t)},createTemplateWalker(e){return document.createTreeWalker(e,133,null,!1)}});class io{constructor(t,n){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=n}has(t){return this.spillover===void 0?this.sub1===t||this.sub2===t:this.spillover.indexOf(t)!==-1}subscribe(t){const n=this.spillover;if(n===void 0){if(this.has(t))return;if(this.sub1===void 0){this.sub1=t;return}if(this.sub2===void 0){this.sub2=t;return}this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else n.indexOf(t)===-1&&n.push(t)}unsubscribe(t){const n=this.spillover;if(n===void 0)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}notify(t){const n=this.spillover,s=this.source;if(n===void 0){const i=this.sub1,r=this.sub2;i!==void 0&&i.handleChange(s,t),r!==void 0&&r.handleChange(s,t)}else for(let i=0,r=n.length;i<r;++i)n[i].handleChange(s,t)}}class Eu{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var n;const s=this.subscribers[t];s!==void 0&&s.notify(t),(n=this.sourceSubscribers)===null||n===void 0||n.notify(t)}subscribe(t,n){var s;if(n){let i=this.subscribers[n];i===void 0&&(this.subscribers[n]=i=new io(this.source)),i.subscribe(t)}else this.sourceSubscribers=(s=this.sourceSubscribers)!==null&&s!==void 0?s:new io(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,n){var s;if(n){const i=this.subscribers[n];i!==void 0&&i.unsubscribe(t)}else(s=this.sourceSubscribers)===null||s===void 0||s.unsubscribe(t)}}const be=As.getById(2,()=>{const e=/(:|&&|\|\||if)/,t=new WeakMap,n=ye.queueUpdate;let s,i=c=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function r(c){let u=c.$fastController||t.get(c);return u===void 0&&(Array.isArray(c)?u=i(c):t.set(c,u=new Eu(c))),u}const o=yu();class l{constructor(u){this.name=u,this.field=`_${u}`,this.callback=`${u}Changed`}getValue(u){return s!==void 0&&s.watch(u,this.name),u[this.field]}setValue(u,f){const g=this.field,y=u[g];if(y!==f){u[g]=f;const p=u[this.callback];typeof p=="function"&&p.call(u,y,f),r(u).notify(this.name)}}}class a extends io{constructor(u,f,g=!1){super(u,f),this.binding=u,this.isVolatileBinding=g,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(u,f){this.needsRefresh&&this.last!==null&&this.disconnect();const g=s;s=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const y=this.binding(u,f);return s=g,y}disconnect(){if(this.last!==null){let u=this.first;for(;u!==void 0;)u.notifier.unsubscribe(this,u.propertyName),u=u.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(u,f){const g=this.last,y=r(u),p=g===null?this.first:{};if(p.propertySource=u,p.propertyName=f,p.notifier=y,y.subscribe(this,f),g!==null){if(!this.needsRefresh){let b;s=void 0,b=g.propertySource[g.propertyName],s=this,u===b&&(this.needsRefresh=!0)}g.next=p}this.last=p}handleChange(){this.needsQueue&&(this.needsQueue=!1,n(this))}call(){this.last!==null&&(this.needsQueue=!0,this.notify(this))}records(){let u=this.first;return{next:()=>{const f=u;return f===void 0?{value:void 0,done:!0}:(u=u.next,{value:f,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(c){i=c},getNotifier:r,track(c,u){s!==void 0&&s.watch(c,u)},trackVolatile(){s!==void 0&&(s.needsRefresh=!0)},notify(c,u){r(c).notify(u)},defineProperty(c,u){typeof u=="string"&&(u=new l(u)),o(c).push(u),Reflect.defineProperty(c,u.name,{enumerable:!0,get:function(){return u.getValue(this)},set:function(f){u.setValue(this,f)}})},getAccessors:o,binding(c,u,f=this.isVolatileBinding(c)){return new a(c,u,f)},isVolatileBinding(c){return e.test(c.toString())}})});function we(e,t){be.defineProperty(e,t)}function Tp(e,t,n){return Object.assign({},n,{get:function(){return be.trackVolatile(),n.get.apply(this)}})}const ia=As.getById(3,()=>{let e=null;return{get(){return e},set(t){e=t}}});class Is{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return ia.get()}get isEven(){return this.index%2===0}get isOdd(){return this.index%2!==0}get isFirst(){return this.index===0}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){ia.set(t)}}be.defineProperty(Is.prototype,"index");be.defineProperty(Is.prototype,"length");const ys=Object.seal(new Is);class Bo{constructor(){this.targetIndex=0}}class xu extends Bo{constructor(){super(...arguments),this.createPlaceholder=ye.createInterpolationPlaceholder}}class Cu extends Bo{constructor(t,n,s){super(),this.name=t,this.behavior=n,this.options=s}createPlaceholder(t){return ye.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function $p(e,t){this.source=e,this.context=t,this.bindingObserver===null&&(this.bindingObserver=be.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function Pp(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function Np(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Dp(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;e!==void 0&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function Lp(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Fp(e){ye.setAttribute(this.target,this.targetName,e)}function Mp(e){ye.setBooleanAttribute(this.target,this.targetName,e)}function Bp(e){if(e==null&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;t===void 0?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;t!==void 0&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function Vp(e){this.target[this.targetName]=e}function Up(e){const t=this.classVersions||Object.create(null),n=this.target;let s=this.version||0;if(e!=null&&e.length){const i=e.split(/\s+/);for(let r=0,o=i.length;r<o;++r){const l=i[r];l!==""&&(t[l]=s,n.classList.add(l))}}if(this.classVersions=t,this.version=s+1,s!==0){s-=1;for(const i in t)t[i]===s&&n.classList.remove(i)}}class Vo extends xu{constructor(t){super(),this.binding=t,this.bind=$p,this.unbind=Np,this.updateTarget=Fp,this.isBindingVolatile=be.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,t!==void 0)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Vp,this.cleanedTargetName==="innerHTML"){const n=this.binding;this.binding=(s,i)=>ye.createHTML(n(s,i))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=Mp;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=Pp,this.unbind=Lp;break;default:this.cleanedTargetName=t,t==="class"&&(this.updateTarget=Up);break}}targetAtContent(){this.updateTarget=Bp,this.unbind=Dp}createBehavior(t){return new jp(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class jp{constructor(t,n,s,i,r,o,l){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=n,this.isBindingVolatile=s,this.bind=i,this.unbind=r,this.updateTarget=o,this.targetName=l}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){Is.setEvent(t);const n=this.binding(this.source,this.context);Is.setEvent(null),n!==!0&&t.preventDefault()}}let Cr=null;class Uo{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){Cr=this}static borrow(t){const n=Cr||new Uo;return n.directives=t,n.reset(),Cr=null,n}}function Hp(e){if(e.length===1)return e[0];let t;const n=e.length,s=e.map(o=>typeof o=="string"?()=>o:(t=o.targetName||t,o.binding)),i=(o,l)=>{let a="";for(let c=0;c<n;++c)a+=s[c](o,l);return a},r=new Vo(i);return r.targetName=t,r}const zp=Mo.length;function _u(e,t){const n=t.split(wu);if(n.length===1)return null;const s=[];for(let i=0,r=n.length;i<r;++i){const o=n[i],l=o.indexOf(Mo);let a;if(l===-1)a=o;else{const c=parseInt(o.substring(0,l));s.push(e.directives[c]),a=o.substring(l+zp)}a!==""&&s.push(a)}return s}function ra(e,t,n=!1){const s=t.attributes;for(let i=0,r=s.length;i<r;++i){const o=s[i],l=o.value,a=_u(e,l);let c=null;a===null?n&&(c=new Vo(()=>l),c.targetName=o.name):c=Hp(a),c!==null&&(t.removeAttributeNode(o),i--,r--,e.addFactory(c))}}function qp(e,t,n){const s=_u(e,t.textContent);if(s!==null){let i=t;for(let r=0,o=s.length;r<o;++r){const l=s[r],a=r===0?t:i.parentNode.insertBefore(document.createTextNode(""),i.nextSibling);typeof l=="string"?a.textContent=l:(a.textContent=" ",e.captureContentBinding(l)),i=a,e.targetIndex++,a!==t&&n.nextNode()}e.targetIndex--}}function Wp(e,t){const n=e.content;document.adoptNode(n);const s=Uo.borrow(t);ra(s,e,!0);const i=s.behaviorFactories;s.reset();const r=ye.createTemplateWalker(n);let o;for(;o=r.nextNode();)switch(s.targetIndex++,o.nodeType){case 1:ra(s,o);break;case 3:qp(s,o,r);break;case 8:ye.isMarker(o)&&s.addFactory(t[ye.extractDirectiveIndexFromMarker(o)])}let l=0;(ye.isMarker(n.firstChild)||n.childNodes.length===1&&t.length)&&(n.insertBefore(document.createComment(""),n.firstChild),l=-1);const a=s.behaviorFactories;return s.release(),{fragment:n,viewBehaviorFactories:a,hostBehaviorFactories:i,targetOffset:l}}const _r=document.createRange();class Gp{constructor(t,n){this.fragment=t,this.behaviors=n,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const n=this.lastChild;if(t.previousSibling===n)return;const s=t.parentNode;let i=this.firstChild,r;for(;i!==n;)r=i.nextSibling,s.insertBefore(i,t),i=r;s.insertBefore(n,t)}}remove(){const t=this.fragment,n=this.lastChild;let s=this.firstChild,i;for(;s!==n;)i=s.nextSibling,t.appendChild(s),s=i;t.appendChild(n)}dispose(){const t=this.firstChild.parentNode,n=this.lastChild;let s=this.firstChild,i;for(;s!==n;)i=s.nextSibling,t.removeChild(s),s=i;t.removeChild(n);const r=this.behaviors,o=this.source;for(let l=0,a=r.length;l<a;++l)r[l].unbind(o)}bind(t,n){const s=this.behaviors;if(this.source!==t)if(this.source!==null){const i=this.source;this.source=t,this.context=n;for(let r=0,o=s.length;r<o;++r){const l=s[r];l.unbind(i),l.bind(t,n)}}else{this.source=t,this.context=n;for(let i=0,r=s.length;i<r;++i)s[i].bind(t,n)}}unbind(){if(this.source===null)return;const t=this.behaviors,n=this.source;for(let s=0,i=t.length;s<i;++s)t[s].unbind(n);this.source=null}static disposeContiguousBatch(t){if(t.length!==0){_r.setStartBefore(t[0].firstChild),_r.setEndAfter(t[t.length-1].lastChild),_r.deleteContents();for(let n=0,s=t.length;n<s;++n){const i=t[n],r=i.behaviors,o=i.source;for(let l=0,a=r.length;l<a;++l)r[l].unbind(o)}}}}class oa{constructor(t,n){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=n}create(t){if(this.fragment===null){let c;const u=this.html;if(typeof u=="string"){c=document.createElement("template"),c.innerHTML=ye.createHTML(u);const g=c.content.firstElementChild;g!==null&&g.tagName==="TEMPLATE"&&(c=g)}else c=u;const f=Wp(c,this.directives);this.fragment=f.fragment,this.viewBehaviorFactories=f.viewBehaviorFactories,this.hostBehaviorFactories=f.hostBehaviorFactories,this.targetOffset=f.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const n=this.fragment.cloneNode(!0),s=this.viewBehaviorFactories,i=new Array(this.behaviorCount),r=ye.createTemplateWalker(n);let o=0,l=this.targetOffset,a=r.nextNode();for(let c=s.length;o<c;++o){const u=s[o],f=u.targetIndex;for(;a!==null;)if(l===f){i[o]=u.createBehavior(a);break}else a=r.nextNode(),l++}if(this.hasHostBehaviors){const c=this.hostBehaviorFactories;for(let u=0,f=c.length;u<f;++u,++o)i[o]=c[u].createBehavior(t)}return new Gp(n,i)}render(t,n,s){typeof n=="string"&&(n=document.getElementById(n)),s===void 0&&(s=n);const i=this.create(s);return i.bind(t,ys),i.appendTo(n),i}}const Yp=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function gt(e,...t){const n=[];let s="";for(let i=0,r=e.length-1;i<r;++i){const o=e[i];let l=t[i];if(s+=o,l instanceof oa){const a=l;l=()=>a}if(typeof l=="function"&&(l=new Vo(l)),l instanceof xu){const a=Yp.exec(o);a!==null&&(l.targetName=a[2])}l instanceof Bo?(s+=l.createPlaceholder(n.length),n.push(l)):s+=l}return s+=e[e.length-1],new oa(s,n)}class rt{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=this.behaviors===null?t:this.behaviors.concat(t),this}}rt.create=(()=>{if(ye.supportsAdoptedStyleSheets){const e=new Map;return t=>new Jp(t,e)}return e=>new Zp(e)})();function jo(e){return e.map(t=>t instanceof rt?jo(t.styles):[t]).reduce((t,n)=>t.concat(n),[])}function Ru(e){return e.map(t=>t instanceof rt?t.behaviors:null).reduce((t,n)=>n===null?t:(t===null&&(t=[]),t.concat(n)),null)}const ku=Symbol("prependToAdoptedStyleSheets");function Ou(e){const t=[],n=[];return e.forEach(s=>(s[ku]?t:n).push(s)),{prepend:t,append:n}}let Au=(e,t)=>{const{prepend:n,append:s}=Ou(t);e.adoptedStyleSheets=[...n,...e.adoptedStyleSheets,...s]},Iu=(e,t)=>{e.adoptedStyleSheets=e.adoptedStyleSheets.filter(n=>t.indexOf(n)===-1)};if(ye.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),Au=(e,t)=>{const{prepend:n,append:s}=Ou(t);e.adoptedStyleSheets.splice(0,0,...n),e.adoptedStyleSheets.push(...s)},Iu=(e,t)=>{for(const n of t){const s=e.adoptedStyleSheets.indexOf(n);s!==-1&&e.adoptedStyleSheets.splice(s,1)}}}catch{}class Jp extends rt{constructor(t,n){super(),this.styles=t,this.styleSheetCache=n,this._styleSheets=void 0,this.behaviors=Ru(t)}get styleSheets(){if(this._styleSheets===void 0){const t=this.styles,n=this.styleSheetCache;this._styleSheets=jo(t).map(s=>{if(s instanceof CSSStyleSheet)return s;let i=n.get(s);return i===void 0&&(i=new CSSStyleSheet,i.replaceSync(s),n.set(s,i)),i})}return this._styleSheets}addStylesTo(t){Au(t,this.styleSheets),super.addStylesTo(t)}removeStylesFrom(t){Iu(t,this.styleSheets),super.removeStylesFrom(t)}}let Qp=0;function Xp(){return`fast-style-class-${++Qp}`}class Zp extends rt{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=Ru(t),this.styleSheets=jo(t),this.styleClass=Xp()}addStylesTo(t){const n=this.styleSheets,s=this.styleClass;t=this.normalizeTarget(t);for(let i=0;i<n.length;i++){const r=document.createElement("style");r.innerHTML=n[i],r.className=s,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){t=this.normalizeTarget(t);const n=t.querySelectorAll(`.${this.styleClass}`);for(let s=0,i=n.length;s<i;++s)t.removeChild(n[s]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const Ri=Object.freeze({locate:yu()}),Kp={toView(e){return e?"true":"false"},fromView(e){return!(e==null||e==="false"||e===!1||e===0)}},Ki={toView(e){if(e==null)return null;const t=e*1;return isNaN(t)?null:t.toString()},fromView(e){if(e==null)return null;const t=e*1;return isNaN(t)?null:t}};class ki{constructor(t,n,s=n.toLowerCase(),i="reflect",r){this.guards=new Set,this.Owner=t,this.name=n,this.attribute=s,this.mode=i,this.converter=r,this.fieldName=`_${n}`,this.callbackName=`${n}Changed`,this.hasCallback=this.callbackName in t.prototype,i==="boolean"&&r===void 0&&(this.converter=Kp)}setValue(t,n){const s=t[this.fieldName],i=this.converter;i!==void 0&&(n=i.fromView(n)),s!==n&&(t[this.fieldName]=n,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](s,n),t.$fastController.notify(this.name))}getValue(t){return be.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,n){this.guards.has(t)||(this.guards.add(t),this.setValue(t,n),this.guards.delete(t))}tryReflectToAttribute(t){const n=this.mode,s=this.guards;s.has(t)||n==="fromView"||ye.queueUpdate(()=>{s.add(t);const i=t[this.fieldName];switch(n){case"reflect":const r=this.converter;ye.setAttribute(t,this.attribute,r!==void 0?r.toView(i):i);break;case"boolean":ye.setBooleanAttribute(t,this.attribute,i);break}s.delete(t)})}static collect(t,...n){const s=[];n.push(Ri.locate(t));for(let i=0,r=n.length;i<r;++i){const o=n[i];if(o!==void 0)for(let l=0,a=o.length;l<a;++l){const c=o[l];typeof c=="string"?s.push(new ki(t,c)):s.push(new ki(t,c.property,c.attribute,c.mode,c.converter))}}return s}}function Q(e,t){let n;function s(i,r){arguments.length>1&&(n.property=r),Ri.locate(i.constructor).push(n)}if(arguments.length>1){n={},s(e,t);return}return n=e===void 0?{}:e,s}const la={mode:"open"},aa={},ro=As.getById(4,()=>{const e=new Map;return Object.freeze({register(t){return e.has(t.type)?!1:(e.set(t.type,t),!0)},getByType(t){return e.get(t)}})});class er{constructor(t,n=t.definition){typeof n=="string"&&(n={name:n}),this.type=t,this.name=n.name,this.template=n.template;const s=ki.collect(t,n.attributes),i=new Array(s.length),r={},o={};for(let l=0,a=s.length;l<a;++l){const c=s[l];i[l]=c.attribute,r[c.name]=c,o[c.attribute]=c}this.attributes=s,this.observedAttributes=i,this.propertyLookup=r,this.attributeLookup=o,this.shadowOptions=n.shadowOptions===void 0?la:n.shadowOptions===null?void 0:Object.assign(Object.assign({},la),n.shadowOptions),this.elementOptions=n.elementOptions===void 0?aa:Object.assign(Object.assign({},aa),n.elementOptions),this.styles=n.styles===void 0?void 0:Array.isArray(n.styles)?rt.create(n.styles):n.styles instanceof rt?n.styles:rt.create([n.styles])}get isDefined(){return!!ro.getByType(this.type)}define(t=customElements){const n=this.type;if(ro.register(this)){const s=this.attributes,i=n.prototype;for(let r=0,o=s.length;r<o;++r)be.defineProperty(i,s[r]);Reflect.defineProperty(n,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,n,this.elementOptions),this}}er.forType=ro.getByType;const Tu=new WeakMap,eg={bubbles:!0,composed:!0,cancelable:!0};function Rr(e){return e.shadowRoot||Tu.get(e)||null}class Ho extends Eu{constructor(t,n){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=n;const s=n.shadowOptions;if(s!==void 0){const r=t.attachShadow(s);s.mode==="closed"&&Tu.set(t,r)}const i=be.getAccessors(t);if(i.length>0){const r=this.boundObservables=Object.create(null);for(let o=0,l=i.length;o<l;++o){const a=i[o].name,c=t[a];c!==void 0&&(delete t[a],r[a]=c)}}}get isConnected(){return be.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,be.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(this._styles!==null&&this.removeStyles(this._styles),this._styles=t,!this.needsInitialization&&t!==null&&this.addStyles(t))}addStyles(t){const n=Rr(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)n.append(t);else if(!t.isAttachedTo(n)){const s=t.behaviors;t.addStylesTo(n),s!==null&&this.addBehaviors(s)}}removeStyles(t){const n=Rr(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)n.removeChild(t);else if(t.isAttachedTo(n)){const s=t.behaviors;t.removeStylesFrom(n),s!==null&&this.removeBehaviors(s)}}addBehaviors(t){const n=this.behaviors||(this.behaviors=new Map),s=t.length,i=[];for(let r=0;r<s;++r){const o=t[r];n.has(o)?n.set(o,n.get(o)+1):(n.set(o,1),i.push(o))}if(this._isConnected){const r=this.element;for(let o=0;o<i.length;++o)i[o].bind(r,ys)}}removeBehaviors(t,n=!1){const s=this.behaviors;if(s===null)return;const i=t.length,r=[];for(let o=0;o<i;++o){const l=t[o];if(s.has(l)){const a=s.get(l)-1;a===0||n?s.delete(l)&&r.push(l):s.set(l,a)}}if(this._isConnected){const o=this.element;for(let l=0;l<r.length;++l)r[l].unbind(o)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():this.view!==null&&this.view.bind(t,ys);const n=this.behaviors;if(n!==null)for(const[s]of n)s.bind(t,ys);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;t!==null&&t.unbind();const n=this.behaviors;if(n!==null){const s=this.element;for(const[i]of n)i.unbind(s)}}onAttributeChangedCallback(t,n,s){const i=this.definition.attributeLookup[t];i!==void 0&&i.onAttributeChangedCallback(this.element,s)}emit(t,n,s){return this._isConnected?this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:n},eg),s))):!1}finishInitialization(){const t=this.element,n=this.boundObservables;if(n!==null){const i=Object.keys(n);for(let r=0,o=i.length;r<o;++r){const l=i[r];t[l]=n[l]}this.boundObservables=null}const s=this.definition;this._template===null&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():s.template&&(this._template=s.template||null)),this._template!==null&&this.renderTemplate(this._template),this._styles===null&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():s.styles&&(this._styles=s.styles||null)),this._styles!==null&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const n=this.element,s=Rr(n)||n;this.view!==null?(this.view.dispose(),this.view=null):this.needsInitialization||ye.removeChildNodes(s),t&&(this.view=t.render(n,s,n))}static forCustomElement(t){const n=t.$fastController;if(n!==void 0)return n;const s=er.forType(t.constructor);if(s===void 0)throw new Error("Missing FASTElement definition.");return t.$fastController=new Ho(t,s)}}function ca(e){return class extends e{constructor(){super(),Ho.forCustomElement(this)}$emit(t,n,s){return this.$fastController.emit(t,n,s)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,n,s){this.$fastController.onAttributeChangedCallback(t,n,s)}}}const tr=Object.assign(ca(HTMLElement),{from(e){return ca(e)},define(e,t){return new er(e,t).define().type}});class $u{createCSS(){return""}createBehavior(){}}function tg(e,t){const n=[];let s="";const i=[];for(let r=0,o=e.length-1;r<o;++r){s+=e[r];let l=t[r];if(l instanceof $u){const a=l.createBehavior();l=l.createCSS(),a&&i.push(a)}l instanceof rt||l instanceof CSSStyleSheet?(s.trim()!==""&&(n.push(s),s=""),n.push(l)):s+=l}return s+=e[e.length-1],s.trim()!==""&&n.push(s),{styles:n,behaviors:i}}function Qt(e,...t){const{styles:n,behaviors:s}=tg(e,t),i=rt.create(n);return s.length&&i.withBehaviors(...s),i}class ng{constructor(t,n){this.target=t,this.propertyName=n}bind(t){t[this.propertyName]=this.target}unbind(){}}function St(e){return new Cu("fast-ref",ng,e)}const Pu=e=>typeof e=="function",sg=()=>null;function ua(e){return e===void 0?sg:Pu(e)?e:()=>e}function Nu(e,t,n){const s=Pu(e)?e:()=>e,i=ua(t),r=ua(n);return(o,l)=>s(o,l)?i(o,l):r(o,l)}class ig{constructor(t,n){this.target=t,this.options=n,this.source=null}bind(t){const n=this.options.property;this.shouldUpdate=be.getAccessors(t).some(s=>s.name===n),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(bs),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return this.options.filter!==void 0&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}class rg extends ig{constructor(t,n){super(t,n)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function zo(e){return typeof e=="string"&&(e={property:e}),new Cu("fast-slotted",rg,e)}class qo{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const Wo=(e,t)=>gt`
    <span
        part="end"
        ${St("endContainer")}
        class=${n=>t.end?"end":void 0}
    >
        <slot name="end" ${St("end")} @slotchange="${n=>n.handleEndContentChange()}">
            ${t.end||""}
        </slot>
    </span>
`,Go=(e,t)=>gt`
    <span
        part="start"
        ${St("startContainer")}
        class="${n=>t.start?"start":void 0}"
    >
        <slot
            name="start"
            ${St("start")}
            @slotchange="${n=>n.handleStartContentChange()}"
        >
            ${t.start||""}
        </slot>
    </span>
`;gt`
    <span part="end" ${St("endContainer")}>
        <slot
            name="end"
            ${St("end")}
            @slotchange="${e=>e.handleEndContentChange()}"
        ></slot>
    </span>
`;gt`
    <span part="start" ${St("startContainer")}>
        <slot
            name="start"
            ${St("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        ></slot>
    </span>
`;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function B(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}const kr=new Map;"metadata"in Reflect||(Reflect.metadata=function(e,t){return function(n){Reflect.defineMetadata(e,t,n)}},Reflect.defineMetadata=function(e,t,n){let s=kr.get(n);s===void 0&&kr.set(n,s=new Map),s.set(e,t)},Reflect.getOwnMetadata=function(e,t){const n=kr.get(t);if(n!==void 0)return n.get(e)});class og{constructor(t,n){this.container=t,this.key=n}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,Lu(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,n){const{container:s,key:i}=this;return this.container=this.key=void 0,s.registerResolver(i,new ht(i,t,n))}}function ns(e){const t=e.slice(),n=Object.keys(e),s=n.length;let i;for(let r=0;r<s;++r)i=n[r],Fu(i)||(t[i]=e[i]);return t}const lg=Object.freeze({none(e){throw Error(`${e.toString()} not registered, did you forget to add @singleton()?`)},singleton(e){return new ht(e,1,e)},transient(e){return new ht(e,2,e)}}),Or=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:lg.singleton})}),da=new Map;function fa(e){return t=>Reflect.getOwnMetadata(e,t)}let ha=null;const Te=Object.freeze({createContainer(e){return new Ss(null,Object.assign({},Or.default,e))},findResponsibleContainer(e){const t=e.$$container$$;return t&&t.responsibleForOwnerRequests?t:Te.findParentContainer(e)},findParentContainer(e){const t=new CustomEvent(Du,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return e.dispatchEvent(t),t.detail.container||Te.getOrCreateDOMContainer()},getOrCreateDOMContainer(e,t){return e?e.$$container$$||new Ss(e,Object.assign({},Or.default,t,{parentLocator:Te.findParentContainer})):ha||(ha=new Ss(null,Object.assign({},Or.default,t,{parentLocator:()=>null})))},getDesignParamtypes:fa("design:paramtypes"),getAnnotationParamtypes:fa("di:paramtypes"),getOrCreateAnnotationParamTypes(e){let t=this.getAnnotationParamtypes(e);return t===void 0&&Reflect.defineMetadata("di:paramtypes",t=[],e),t},getDependencies(e){let t=da.get(e);if(t===void 0){const n=e.inject;if(n===void 0){const s=Te.getDesignParamtypes(e),i=Te.getAnnotationParamtypes(e);if(s===void 0)if(i===void 0){const r=Object.getPrototypeOf(e);typeof r=="function"&&r!==Function.prototype?t=ns(Te.getDependencies(r)):t=[]}else t=ns(i);else if(i===void 0)t=ns(s);else{t=ns(s);let r=i.length,o;for(let c=0;c<r;++c)o=i[c],o!==void 0&&(t[c]=o);const l=Object.keys(i);r=l.length;let a;for(let c=0;c<r;++c)a=l[c],Fu(a)||(t[a]=i[a])}}else t=ns(n);da.set(e,t)}return t},defineProperty(e,t,n,s=!1){const i=`$di_${t}`;Reflect.defineProperty(e,t,{get:function(){let r=this[i];if(r===void 0&&(r=(this instanceof HTMLElement?Te.findResponsibleContainer(this):Te.getOrCreateDOMContainer()).get(n),this[i]=r,s&&this instanceof tr)){const l=this.$fastController,a=()=>{const u=Te.findResponsibleContainer(this).get(n),f=this[i];u!==f&&(this[i]=r,l.notify(t))};l.subscribe({handleChange:a},"isConnected")}return r}})},createInterface(e,t){const n=typeof e=="function"?e:t,s=typeof e=="string"?e:e&&"friendlyName"in e&&e.friendlyName||ba,i=typeof e=="string"?!1:e&&"respectConnection"in e&&e.respectConnection||!1,r=function(o,l,a){if(o==null||new.target!==void 0)throw new Error(`No registration for interface: '${r.friendlyName}'`);if(l)Te.defineProperty(o,l,r,i);else{const c=Te.getOrCreateAnnotationParamTypes(o);c[a]=r}};return r.$isInterface=!0,r.friendlyName=s??"(anonymous)",n!=null&&(r.register=function(o,l){return n(new og(o,l??r))}),r.toString=function(){return`InterfaceSymbol<${r.friendlyName}>`},r},inject(...e){return function(t,n,s){if(typeof s=="number"){const i=Te.getOrCreateAnnotationParamTypes(t),r=e[0];r!==void 0&&(i[s]=r)}else if(n)Te.defineProperty(t,n,e[0]);else{const i=s?Te.getOrCreateAnnotationParamTypes(s.value):Te.getOrCreateAnnotationParamTypes(t);let r;for(let o=0;o<e.length;++o)r=e[o],r!==void 0&&(i[o]=r)}}},transient(e){return e.register=function(n){return Ts.transient(e,e).register(n)},e.registerInRequestor=!1,e},singleton(e,t=cg){return e.register=function(s){return Ts.singleton(e,e).register(s)},e.registerInRequestor=t.scoped,e}}),ag=Te.createInterface("Container");Te.inject;const cg={scoped:!1};class ht{constructor(t,n,s){this.key=t,this.strategy=n,this.state=s,this.resolving=!1}get $isResolver(){return!0}register(t){return t.registerResolver(this.key,this)}resolve(t,n){switch(this.strategy){case 0:return this.state;case 1:{if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(n),this.strategy=0,this.resolving=!1,this.state}case 2:{const s=t.getFactory(this.state);if(s===null)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return s.construct(n)}case 3:return this.state(t,n,this);case 4:return this.state[0].resolve(t,n);case 5:return n.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var n,s,i;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return(i=(s=(n=t.getResolver(this.state))===null||n===void 0?void 0:n.getFactory)===null||s===void 0?void 0:s.call(n,t))!==null&&i!==void 0?i:null;default:return null}}}function pa(e){return this.get(e)}function ug(e,t){return t(e)}class dg{constructor(t,n){this.Type=t,this.dependencies=n,this.transformers=null}construct(t,n){let s;return n===void 0?s=new this.Type(...this.dependencies.map(pa,t)):s=new this.Type(...this.dependencies.map(pa,t),...n),this.transformers==null?s:this.transformers.reduce(ug,s)}registerTransformer(t){(this.transformers||(this.transformers=[])).push(t)}}const fg={$isResolver:!0,resolve(e,t){return t}};function oi(e){return typeof e.register=="function"}function hg(e){return oi(e)&&typeof e.registerInRequestor=="boolean"}function ga(e){return hg(e)&&e.registerInRequestor}function pg(e){return e.prototype!==void 0}const gg=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),Du="__DI_LOCATE_PARENT__",Ar=new Map;class Ss{constructor(t,n){this.owner=t,this.config=n,this._parent=void 0,this.registerDepth=0,this.context=null,t!==null&&(t.$$container$$=this),this.resolvers=new Map,this.resolvers.set(ag,fg),t instanceof Node&&t.addEventListener(Du,s=>{s.composedPath()[0]!==this.owner&&(s.detail.container=this,s.stopImmediatePropagation())})}get parent(){return this._parent===void 0&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return this.parent===null?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(t,...n){return this.context=t,this.register(...n),this.context=null,this}register(...t){if(++this.registerDepth===100)throw new Error("Unable to autoregister dependency");let n,s,i,r,o;const l=this.context;for(let a=0,c=t.length;a<c;++a)if(n=t[a],!!va(n))if(oi(n))n.register(this,l);else if(pg(n))Ts.singleton(n,n).register(this);else for(s=Object.keys(n),r=0,o=s.length;r<o;++r)i=n[s[r]],va(i)&&(oi(i)?i.register(this,l):this.register(i));return--this.registerDepth,this}registerResolver(t,n){Gs(t);const s=this.resolvers,i=s.get(t);return i==null?s.set(t,n):i instanceof ht&&i.strategy===4?i.state.push(n):s.set(t,new ht(t,4,[i,n])),n}registerTransformer(t,n){const s=this.getResolver(t);if(s==null)return!1;if(s.getFactory){const i=s.getFactory(this);return i==null?!1:(i.registerTransformer(n),!0)}return!1}getResolver(t,n=!0){if(Gs(t),t.resolve!==void 0)return t;let s=this,i;for(;s!=null;)if(i=s.resolvers.get(t),i==null){if(s.parent==null){const r=ga(t)?this:s;return n?this.jitRegister(t,r):null}s=s.parent}else return i;return null}has(t,n=!1){return this.resolvers.has(t)?!0:n&&this.parent!=null?this.parent.has(t,!0):!1}get(t){if(Gs(t),t.$isResolver)return t.resolve(this,this);let n=this,s;for(;n!=null;)if(s=n.resolvers.get(t),s==null){if(n.parent==null){const i=ga(t)?this:n;return s=this.jitRegister(t,i),s.resolve(n,this)}n=n.parent}else return s.resolve(n,this);throw new Error(`Unable to resolve key: ${String(t)}`)}getAll(t,n=!1){Gs(t);const s=this;let i=s,r;if(n){let o=bs;for(;i!=null;)r=i.resolvers.get(t),r!=null&&(o=o.concat(ma(r,i,s))),i=i.parent;return o}else for(;i!=null;)if(r=i.resolvers.get(t),r==null){if(i=i.parent,i==null)return bs}else return ma(r,i,s);return bs}getFactory(t){let n=Ar.get(t);if(n===void 0){if(mg(t))throw new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);Ar.set(t,n=new dg(t,Te.getDependencies(t)))}return n}registerFactory(t,n){Ar.set(t,n)}createChild(t){return new Ss(null,Object.assign({},this.config,t,{parentLocator:()=>this}))}jitRegister(t,n){if(typeof t!="function")throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this dependency?`);if(gg.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`);if(oi(t)){const s=t.register(n);if(!(s instanceof Object)||s.resolve==null){const i=n.resolvers.get(t);if(i!=null)return i;throw new Error("A valid resolver was not returned from the static register method")}return s}else{if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`);{const s=this.config.defaultResolver(t,n);return n.resolvers.set(t,s),s}}}}const Ir=new WeakMap;function Lu(e){return function(t,n,s){if(Ir.has(s))return Ir.get(s);const i=e(t,n,s);return Ir.set(s,i),i}}const Ts=Object.freeze({instance(e,t){return new ht(e,0,t)},singleton(e,t){return new ht(e,1,t)},transient(e,t){return new ht(e,2,t)},callback(e,t){return new ht(e,3,t)},cachedCallback(e,t){return new ht(e,3,Lu(t))},aliasTo(e,t){return new ht(t,5,e)}});function Gs(e){if(e==null)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function ma(e,t,n){if(e instanceof ht&&e.strategy===4){const s=e.state;let i=s.length;const r=new Array(i);for(;i--;)r[i]=s[i].resolve(t,n);return r}return[e.resolve(t,n)]}const ba="(anonymous)";function va(e){return typeof e=="object"&&e!==null||typeof e=="function"}const mg=(function(){const e=new WeakMap;let t=!1,n="",s=0;return function(i){return t=e.get(i),t===void 0&&(n=i.toString(),s=n.length,t=s>=29&&s<=100&&n.charCodeAt(s-1)===125&&n.charCodeAt(s-2)<=32&&n.charCodeAt(s-3)===93&&n.charCodeAt(s-4)===101&&n.charCodeAt(s-5)===100&&n.charCodeAt(s-6)===111&&n.charCodeAt(s-7)===99&&n.charCodeAt(s-8)===32&&n.charCodeAt(s-9)===101&&n.charCodeAt(s-10)===118&&n.charCodeAt(s-11)===105&&n.charCodeAt(s-12)===116&&n.charCodeAt(s-13)===97&&n.charCodeAt(s-14)===110&&n.charCodeAt(s-15)===88,e.set(i,t)),t}})(),Ys={};function Fu(e){switch(typeof e){case"number":return e>=0&&(e|0)===e;case"string":{const t=Ys[e];if(t!==void 0)return t;const n=e.length;if(n===0)return Ys[e]=!1;let s=0;for(let i=0;i<n;++i)if(s=e.charCodeAt(i),i===0&&s===48&&n>1||s<48||s>57)return Ys[e]=!1;return Ys[e]=!0}default:return!1}}function ya(e){return`${e.toLowerCase()}:presentation`}const Js=new Map,Mu=Object.freeze({define(e,t,n){const s=ya(e);Js.get(s)===void 0?Js.set(s,t):Js.set(s,!1),n.register(Ts.instance(s,t))},forTag(e,t){const n=ya(e),s=Js.get(n);return s===!1?Te.findResponsibleContainer(t).get(n):s||null}});class bg{constructor(t,n){this.template=t||null,this.styles=n===void 0?null:Array.isArray(n)?rt.create(n):n instanceof rt?n:rt.create([n])}applyTo(t){const n=t.$fastController;n.template===null&&(n.template=this.template),n.styles===null&&(n.styles=this.styles)}}class wt extends tr{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return this._presentation===void 0&&(this._presentation=Mu.forTag(this.tagName,this)),this._presentation}templateChanged(){this.template!==void 0&&(this.$fastController.template=this.template)}stylesChanged(){this.styles!==void 0&&(this.$fastController.styles=this.styles)}connectedCallback(){this.$presentation!==null&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(t){return(n={})=>new vg(this===wt?class extends wt{}:this,t,n)}}B([we],wt.prototype,"template",void 0);B([we],wt.prototype,"styles",void 0);function ss(e,t,n){return typeof e=="function"?e(t,n):e}class vg{constructor(t,n,s){this.type=t,this.elementDefinition=n,this.overrideDefinition=s,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(t,n){const s=this.definition,i=this.overrideDefinition,o=`${s.prefix||n.elementPrefix}-${s.baseName}`;n.tryDefineElement({name:o,type:this.type,baseClass:this.elementDefinition.baseClass,callback:l=>{const a=new bg(ss(s.template,l,s),ss(s.styles,l,s));l.definePresentation(a);let c=ss(s.shadowOptions,l,s);l.shadowRootMode&&(c?i.shadowOptions||(c.mode=l.shadowRootMode):c!==null&&(c={mode:l.shadowRootMode})),l.defineElement({elementOptions:ss(s.elementOptions,l,s),shadowOptions:c,attributes:ss(s.attributes,l,s)})}})}}function cn(e,...t){const n=Ri.locate(e);t.forEach(s=>{Object.getOwnPropertyNames(s.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(s.prototype,r))}),Ri.locate(s).forEach(r=>n.push(r))})}const yg={horizontal:"horizontal"};function Sg(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function wg(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Eg(...e){return e.every(t=>t instanceof HTMLElement)}function xg(){const e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}let gn;function Cg(){if(typeof gn=="boolean")return gn;if(!wg())return gn=!1,gn;const e=document.createElement("style"),t=xg();t!==null&&e.setAttribute("nonce",t),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),gn=!0}catch{gn=!1}finally{document.head.removeChild(e)}return gn}var Sa;(function(e){e[e.alt=18]="alt",e[e.arrowDown=40]="arrowDown",e[e.arrowLeft=37]="arrowLeft",e[e.arrowRight=39]="arrowRight",e[e.arrowUp=38]="arrowUp",e[e.back=8]="back",e[e.backSlash=220]="backSlash",e[e.break=19]="break",e[e.capsLock=20]="capsLock",e[e.closeBracket=221]="closeBracket",e[e.colon=186]="colon",e[e.colon2=59]="colon2",e[e.comma=188]="comma",e[e.ctrl=17]="ctrl",e[e.delete=46]="delete",e[e.end=35]="end",e[e.enter=13]="enter",e[e.equals=187]="equals",e[e.equals2=61]="equals2",e[e.equals3=107]="equals3",e[e.escape=27]="escape",e[e.forwardSlash=191]="forwardSlash",e[e.function1=112]="function1",e[e.function10=121]="function10",e[e.function11=122]="function11",e[e.function12=123]="function12",e[e.function2=113]="function2",e[e.function3=114]="function3",e[e.function4=115]="function4",e[e.function5=116]="function5",e[e.function6=117]="function6",e[e.function7=118]="function7",e[e.function8=119]="function8",e[e.function9=120]="function9",e[e.home=36]="home",e[e.insert=45]="insert",e[e.menu=93]="menu",e[e.minus=189]="minus",e[e.minus2=109]="minus2",e[e.numLock=144]="numLock",e[e.numPad0=96]="numPad0",e[e.numPad1=97]="numPad1",e[e.numPad2=98]="numPad2",e[e.numPad3=99]="numPad3",e[e.numPad4=100]="numPad4",e[e.numPad5=101]="numPad5",e[e.numPad6=102]="numPad6",e[e.numPad7=103]="numPad7",e[e.numPad8=104]="numPad8",e[e.numPad9=105]="numPad9",e[e.numPadDivide=111]="numPadDivide",e[e.numPadDot=110]="numPadDot",e[e.numPadMinus=109]="numPadMinus",e[e.numPadMultiply=106]="numPadMultiply",e[e.numPadPlus=107]="numPadPlus",e[e.openBracket=219]="openBracket",e[e.pageDown=34]="pageDown",e[e.pageUp=33]="pageUp",e[e.period=190]="period",e[e.print=44]="print",e[e.quote=222]="quote",e[e.scrollLock=145]="scrollLock",e[e.shift=16]="shift",e[e.space=32]="space",e[e.tab=9]="tab",e[e.tilde=192]="tilde",e[e.windowsLeft=91]="windowsLeft",e[e.windowsOpera=219]="windowsOpera",e[e.windowsRight=92]="windowsRight"})(Sa||(Sa={}));const Yo="ArrowDown";const Jo="ArrowUp",Qo="Enter",Xo="Escape",Zo="Home",Ko="End";const el=" ",tl="Tab";function Qs(e,t,n=0){return[t,n]=[t,n].sort((s,i)=>s-i),t<=e&&e<n}let _g=0;function Bu(e=""){return`${e}${_g++}`}class $e{}B([Q({attribute:"aria-atomic"})],$e.prototype,"ariaAtomic",void 0);B([Q({attribute:"aria-busy"})],$e.prototype,"ariaBusy",void 0);B([Q({attribute:"aria-controls"})],$e.prototype,"ariaControls",void 0);B([Q({attribute:"aria-current"})],$e.prototype,"ariaCurrent",void 0);B([Q({attribute:"aria-describedby"})],$e.prototype,"ariaDescribedby",void 0);B([Q({attribute:"aria-details"})],$e.prototype,"ariaDetails",void 0);B([Q({attribute:"aria-disabled"})],$e.prototype,"ariaDisabled",void 0);B([Q({attribute:"aria-errormessage"})],$e.prototype,"ariaErrormessage",void 0);B([Q({attribute:"aria-flowto"})],$e.prototype,"ariaFlowto",void 0);B([Q({attribute:"aria-haspopup"})],$e.prototype,"ariaHaspopup",void 0);B([Q({attribute:"aria-hidden"})],$e.prototype,"ariaHidden",void 0);B([Q({attribute:"aria-invalid"})],$e.prototype,"ariaInvalid",void 0);B([Q({attribute:"aria-keyshortcuts"})],$e.prototype,"ariaKeyshortcuts",void 0);B([Q({attribute:"aria-label"})],$e.prototype,"ariaLabel",void 0);B([Q({attribute:"aria-labelledby"})],$e.prototype,"ariaLabelledby",void 0);B([Q({attribute:"aria-live"})],$e.prototype,"ariaLive",void 0);B([Q({attribute:"aria-owns"})],$e.prototype,"ariaOwns",void 0);B([Q({attribute:"aria-relevant"})],$e.prototype,"ariaRelevant",void 0);B([Q({attribute:"aria-roledescription"})],$e.prototype,"ariaRoledescription",void 0);const Rg=(e,t)=>gt`
    <button
        class="control"
        part="control"
        ?autofocus="${n=>n.autofocus}"
        ?disabled="${n=>n.disabled}"
        form="${n=>n.formId}"
        formaction="${n=>n.formaction}"
        formenctype="${n=>n.formenctype}"
        formmethod="${n=>n.formmethod}"
        formnovalidate="${n=>n.formnovalidate}"
        formtarget="${n=>n.formtarget}"
        name="${n=>n.name}"
        type="${n=>n.type}"
        value="${n=>n.value}"
        aria-atomic="${n=>n.ariaAtomic}"
        aria-busy="${n=>n.ariaBusy}"
        aria-controls="${n=>n.ariaControls}"
        aria-current="${n=>n.ariaCurrent}"
        aria-describedby="${n=>n.ariaDescribedby}"
        aria-details="${n=>n.ariaDetails}"
        aria-disabled="${n=>n.ariaDisabled}"
        aria-errormessage="${n=>n.ariaErrormessage}"
        aria-expanded="${n=>n.ariaExpanded}"
        aria-flowto="${n=>n.ariaFlowto}"
        aria-haspopup="${n=>n.ariaHaspopup}"
        aria-hidden="${n=>n.ariaHidden}"
        aria-invalid="${n=>n.ariaInvalid}"
        aria-keyshortcuts="${n=>n.ariaKeyshortcuts}"
        aria-label="${n=>n.ariaLabel}"
        aria-labelledby="${n=>n.ariaLabelledby}"
        aria-live="${n=>n.ariaLive}"
        aria-owns="${n=>n.ariaOwns}"
        aria-pressed="${n=>n.ariaPressed}"
        aria-relevant="${n=>n.ariaRelevant}"
        aria-roledescription="${n=>n.ariaRoledescription}"
        ${St("control")}
    >
        ${Go(e,t)}
        <span class="content" part="content">
            <slot ${zo("defaultSlottedContent")}></slot>
        </span>
        ${Wo(e,t)}
    </button>
`,wa="form-associated-proxy",Ea="ElementInternals",xa=Ea in window&&"setFormValue"in window[Ea].prototype,Ca=new WeakMap;function Vu(e){const t=class extends e{constructor(...n){super(...n),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return xa}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const n=this.proxy.labels,s=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=n?s.concat(Array.from(n)):s;return Object.freeze(i)}else return bs}valueChanged(n,s){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(n,s){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(n,s){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),ye.queueUpdate(()=>this.classList.toggle("disabled",this.disabled))}nameChanged(n,s){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(n,s){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),ye.queueUpdate(()=>this.classList.toggle("required",this.required)),this.validate()}get elementInternals(){if(!xa)return null;let n=Ca.get(this);return n||(n=this.attachInternals(),Ca.set(this,n)),n}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach(n=>this.proxy.removeEventListener(n,this.stopPropagation)),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(n,s,i){this.elementInternals?this.elementInternals.setValidity(n,s,i):typeof s=="string"&&this.proxy.setCustomValidity(s)}formDisabledCallback(n){this.disabled=n}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var n;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach(s=>this.proxy.addEventListener(s,this.stopPropagation)),this.proxy.disabled=this.disabled,this.proxy.required=this.required,typeof this.name=="string"&&(this.proxy.name=this.name),typeof this.value=="string"&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",wa),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",wa)),(n=this.shadowRoot)===null||n===void 0||n.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var n;this.removeChild(this.proxy),(n=this.shadowRoot)===null||n===void 0||n.removeChild(this.proxySlot)}validate(n){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,n)}setFormValue(n,s){this.elementInternals&&this.elementInternals.setFormValue(n,s||n)}_keypressHandler(n){switch(n.key){case Qo:if(this.form instanceof HTMLFormElement){const s=this.form.querySelector("[type=submit]");s==null||s.click()}break}}stopPropagation(n){n.stopPropagation()}};return Q({mode:"boolean"})(t.prototype,"disabled"),Q({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),Q({attribute:"current-value"})(t.prototype,"currentValue"),Q(t.prototype,"name"),Q({mode:"boolean"})(t.prototype,"required"),we(t.prototype,"value"),t}class kg extends wt{}class Og extends Vu(kg){constructor(){super(...arguments),this.proxy=document.createElement("input")}}let Et=class extends Og{constructor(){super(...arguments),this.handleClick=t=>{var n;this.disabled&&((n=this.defaultSlottedContent)===null||n===void 0?void 0:n.length)<=1&&t.stopPropagation()},this.handleSubmission=()=>{if(!this.form)return;const t=this.proxy.isConnected;t||this.attachProxy(),typeof this.form.requestSubmit=="function"?this.form.requestSubmit(this.proxy):this.proxy.click(),t||this.detachProxy()},this.handleFormReset=()=>{var t;(t=this.form)===null||t===void 0||t.reset()},this.handleUnsupportedDelegatesFocus=()=>{var t;window.ShadowRoot&&!window.ShadowRoot.prototype.hasOwnProperty("delegatesFocus")&&(!((t=this.$fastController.definition.shadowOptions)===null||t===void 0)&&t.delegatesFocus)&&(this.focus=()=>{this.control.focus()})}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(t,n){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),n==="submit"&&this.addEventListener("click",this.handleSubmission),t==="submit"&&this.removeEventListener("click",this.handleSubmission),n==="reset"&&this.addEventListener("click",this.handleFormReset),t==="reset"&&this.removeEventListener("click",this.handleFormReset)}validate(){super.validate(this.control)}connectedCallback(){var t;super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.handleUnsupportedDelegatesFocus();const n=Array.from((t=this.control)===null||t===void 0?void 0:t.children);n&&n.forEach(s=>{s.addEventListener("click",this.handleClick)})}disconnectedCallback(){var t;super.disconnectedCallback();const n=Array.from((t=this.control)===null||t===void 0?void 0:t.children);n&&n.forEach(s=>{s.removeEventListener("click",this.handleClick)})}};B([Q({mode:"boolean"})],Et.prototype,"autofocus",void 0);B([Q({attribute:"form"})],Et.prototype,"formId",void 0);B([Q],Et.prototype,"formaction",void 0);B([Q],Et.prototype,"formenctype",void 0);B([Q],Et.prototype,"formmethod",void 0);B([Q({mode:"boolean"})],Et.prototype,"formnovalidate",void 0);B([Q],Et.prototype,"formtarget",void 0);B([Q],Et.prototype,"type",void 0);B([we],Et.prototype,"defaultSlottedContent",void 0);class nr{}B([Q({attribute:"aria-expanded"})],nr.prototype,"ariaExpanded",void 0);B([Q({attribute:"aria-pressed"})],nr.prototype,"ariaPressed",void 0);cn(nr,$e);cn(Et,qo,nr);function Uu(e){return Eg(e)&&(e.getAttribute("role")==="option"||e instanceof HTMLOptionElement)}class Xt extends wt{constructor(t,n,s,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,t&&(this.textContent=t),n&&(this.initialValue=n),s&&(this.defaultSelected=s),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}checkedChanged(t,n){if(typeof n=="boolean"){this.ariaChecked=n?"true":"false";return}this.ariaChecked=null}contentChanged(t,n){this.proxy instanceof HTMLOptionElement&&(this.proxy.textContent=this.textContent),this.$emit("contentchange",null,{bubbles:!0})}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,n){this.ariaDisabled=this.disabled?"true":"false",this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.ariaSelected=this.selected?"true":"false",this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected)}initialValueChanged(t,n){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){var t;return(t=this.value)!==null&&t!==void 0?t:this.text}get text(){var t,n;return(n=(t=this.textContent)===null||t===void 0?void 0:t.replace(/\s+/g," ").trim())!==null&&n!==void 0?n:""}set value(t){const n=`${t??""}`;this._value=n,this.dirtyValue=!0,this.proxy instanceof HTMLOptionElement&&(this.proxy.value=n),be.notify(this,"value")}get value(){var t;return be.track(this,"value"),(t=this._value)!==null&&t!==void 0?t:this.text}get form(){return this.proxy?this.proxy.form:null}}B([we],Xt.prototype,"checked",void 0);B([we],Xt.prototype,"content",void 0);B([we],Xt.prototype,"defaultSelected",void 0);B([Q({mode:"boolean"})],Xt.prototype,"disabled",void 0);B([Q({attribute:"selected",mode:"boolean"})],Xt.prototype,"selectedAttribute",void 0);B([we],Xt.prototype,"selected",void 0);B([Q({attribute:"value",mode:"fromView"})],Xt.prototype,"initialValue",void 0);class Gn{}B([we],Gn.prototype,"ariaChecked",void 0);B([we],Gn.prototype,"ariaPosInSet",void 0);B([we],Gn.prototype,"ariaSelected",void 0);B([we],Gn.prototype,"ariaSetSize",void 0);cn(Gn,$e);cn(Xt,qo,Gn);class Ze extends wt{constructor(){super(...arguments),this._options=[],this.selectedIndex=-1,this.selectedOptions=[],this.shouldSkipFocus=!1,this.typeaheadBuffer="",this.typeaheadExpired=!0,this.typeaheadTimeout=-1}get firstSelectedOption(){var t;return(t=this.selectedOptions[0])!==null&&t!==void 0?t:null}get hasSelectableOptions(){return this.options.length>0&&!this.options.every(t=>t.disabled)}get length(){var t,n;return(n=(t=this.options)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}get options(){return be.track(this,"options"),this._options}set options(t){this._options=t,be.notify(this,"options")}get typeAheadExpired(){return this.typeaheadExpired}set typeAheadExpired(t){this.typeaheadExpired=t}clickHandler(t){const n=t.target.closest("option,[role=option]");if(n&&!n.disabled)return this.selectedIndex=this.options.indexOf(n),!0}focusAndScrollOptionIntoView(t=this.firstSelectedOption){this.contains(document.activeElement)&&t!==null&&(t.focus(),requestAnimationFrame(()=>{t.scrollIntoView({block:"nearest"})}))}focusinHandler(t){!this.shouldSkipFocus&&t.target===t.currentTarget&&(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}getTypeaheadMatches(){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`^${t}`,"gi");return this.options.filter(s=>s.text.trim().match(n))}getSelectableIndex(t=this.selectedIndex,n){const s=t>n?-1:t<n?1:0,i=t+s;let r=null;switch(s){case-1:{r=this.options.reduceRight((o,l,a)=>!o&&!l.disabled&&a<i?l:o,r);break}case 1:{r=this.options.reduce((o,l,a)=>!o&&!l.disabled&&a>i?l:o,r);break}}return this.options.indexOf(r)}handleChange(t,n){switch(n){case"selected":{Ze.slottedOptionFilter(t)&&(this.selectedIndex=this.options.indexOf(t)),this.setSelectedOptions();break}}}handleTypeAhead(t){this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout(()=>this.typeaheadExpired=!0,Ze.TYPE_AHEAD_TIMEOUT_MS),!(t.length>1)&&(this.typeaheadBuffer=`${this.typeaheadExpired?"":this.typeaheadBuffer}${t}`)}keydownHandler(t){if(this.disabled)return!0;this.shouldSkipFocus=!1;const n=t.key;switch(n){case Zo:{t.shiftKey||(t.preventDefault(),this.selectFirstOption());break}case Yo:{t.shiftKey||(t.preventDefault(),this.selectNextOption());break}case Jo:{t.shiftKey||(t.preventDefault(),this.selectPreviousOption());break}case Ko:{t.preventDefault(),this.selectLastOption();break}case tl:return this.focusAndScrollOptionIntoView(),!0;case Qo:case Xo:return!0;case el:if(this.typeaheadExpired)return!0;default:return n.length===1&&this.handleTypeAhead(`${n}`),!0}}mousedownHandler(t){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}multipleChanged(t,n){this.ariaMultiSelectable=n?"true":null}selectedIndexChanged(t,n){var s;if(!this.hasSelectableOptions){this.selectedIndex=-1;return}if(!((s=this.options[this.selectedIndex])===null||s===void 0)&&s.disabled&&typeof t=="number"){const i=this.getSelectableIndex(t,n),r=i>-1?i:t;this.selectedIndex=r,n===r&&this.selectedIndexChanged(n,r);return}this.setSelectedOptions()}selectedOptionsChanged(t,n){var s;const i=n.filter(Ze.slottedOptionFilter);(s=this.options)===null||s===void 0||s.forEach(r=>{const o=be.getNotifier(r);o.unsubscribe(this,"selected"),r.selected=i.includes(r),o.subscribe(this,"selected")})}selectFirstOption(){var t,n;this.disabled||(this.selectedIndex=(n=(t=this.options)===null||t===void 0?void 0:t.findIndex(s=>!s.disabled))!==null&&n!==void 0?n:-1)}selectLastOption(){this.disabled||(this.selectedIndex=Sg(this.options,t=>!t.disabled))}selectNextOption(){!this.disabled&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){var t,n;this.selectedIndex=(n=(t=this.options)===null||t===void 0?void 0:t.findIndex(s=>s.defaultSelected))!==null&&n!==void 0?n:-1}setSelectedOptions(){var t,n,s;!((t=this.options)===null||t===void 0)&&t.length&&(this.selectedOptions=[this.options[this.selectedIndex]],this.ariaActiveDescendant=(s=(n=this.firstSelectedOption)===null||n===void 0?void 0:n.id)!==null&&s!==void 0?s:"",this.focusAndScrollOptionIntoView())}slottedOptionsChanged(t,n){this.options=n.reduce((i,r)=>(Uu(r)&&i.push(r),i),[]);const s=`${this.options.length}`;this.options.forEach((i,r)=>{i.id||(i.id=Bu("option-")),i.ariaPosInSet=`${r+1}`,i.ariaSetSize=s}),this.$fastController.isConnected&&(this.setSelectedOptions(),this.setDefaultSelectedOption())}typeaheadBufferChanged(t,n){if(this.$fastController.isConnected){const s=this.getTypeaheadMatches();if(s.length){const i=this.options.indexOf(s[0]);i>-1&&(this.selectedIndex=i)}this.typeaheadExpired=!1}}}Ze.slottedOptionFilter=e=>Uu(e)&&!e.hidden;Ze.TYPE_AHEAD_TIMEOUT_MS=1e3;B([Q({mode:"boolean"})],Ze.prototype,"disabled",void 0);B([we],Ze.prototype,"selectedIndex",void 0);B([we],Ze.prototype,"selectedOptions",void 0);B([we],Ze.prototype,"slottedOptions",void 0);B([we],Ze.prototype,"typeaheadBuffer",void 0);class Cn{}B([we],Cn.prototype,"ariaActiveDescendant",void 0);B([we],Cn.prototype,"ariaDisabled",void 0);B([we],Cn.prototype,"ariaExpanded",void 0);B([we],Cn.prototype,"ariaMultiSelectable",void 0);cn(Cn,$e);cn(Ze,Cn);const Tr={above:"above",below:"below"};function oo(e){const t=e.parentElement;if(t)return t;{const n=e.getRootNode();if(n.host instanceof HTMLElement)return n.host}return null}function Ag(e,t){let n=t;for(;n!==null;){if(n===e)return!0;n=oo(n)}return!1}const Ut=document.createElement("div");function Ig(e){return e instanceof tr}class nl{setProperty(t,n){ye.queueUpdate(()=>this.target.setProperty(t,n))}removeProperty(t){ye.queueUpdate(()=>this.target.removeProperty(t))}}class Tg extends nl{constructor(t){super();const n=new CSSStyleSheet;n[ku]=!0,this.target=n.cssRules[n.insertRule(":host{}")].style,t.$fastController.addStyles(rt.create([n]))}}class $g extends nl{constructor(){super();const t=new CSSStyleSheet;this.target=t.cssRules[t.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}}class Pg extends nl{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:t}=this.style;if(t){const n=t.insertRule(":root{}",t.cssRules.length);this.target=t.cssRules[n].style}}}class ju{constructor(t){this.store=new Map,this.target=null;const n=t.$fastController;this.style=document.createElement("style"),n.addStyles(this.style),be.getNotifier(n).subscribe(this,"isConnected"),this.handleChange(n,"isConnected")}targetChanged(){if(this.target!==null)for(const[t,n]of this.store.entries())this.target.setProperty(t,n)}setProperty(t,n){this.store.set(t,n),ye.queueUpdate(()=>{this.target!==null&&this.target.setProperty(t,n)})}removeProperty(t){this.store.delete(t),ye.queueUpdate(()=>{this.target!==null&&this.target.removeProperty(t)})}handleChange(t,n){const{sheet:s}=this.style;if(s){const i=s.insertRule(":host{}",s.cssRules.length);this.target=s.cssRules[i].style}else this.target=null}}B([we],ju.prototype,"target",void 0);class Ng{constructor(t){this.target=t.style}setProperty(t,n){ye.queueUpdate(()=>this.target.setProperty(t,n))}removeProperty(t){ye.queueUpdate(()=>this.target.removeProperty(t))}}class Be{setProperty(t,n){Be.properties[t]=n;for(const s of Be.roots.values())Nn.getOrCreate(Be.normalizeRoot(s)).setProperty(t,n)}removeProperty(t){delete Be.properties[t];for(const n of Be.roots.values())Nn.getOrCreate(Be.normalizeRoot(n)).removeProperty(t)}static registerRoot(t){const{roots:n}=Be;if(!n.has(t)){n.add(t);const s=Nn.getOrCreate(this.normalizeRoot(t));for(const i in Be.properties)s.setProperty(i,Be.properties[i])}}static unregisterRoot(t){const{roots:n}=Be;if(n.has(t)){n.delete(t);const s=Nn.getOrCreate(Be.normalizeRoot(t));for(const i in Be.properties)s.removeProperty(i)}}static normalizeRoot(t){return t===Ut?document:t}}Be.roots=new Set;Be.properties={};const $r=new WeakMap,Dg=ye.supportsAdoptedStyleSheets?Tg:ju,Nn=Object.freeze({getOrCreate(e){if($r.has(e))return $r.get(e);let t;return e===Ut?t=new Be:e instanceof Document?t=ye.supportsAdoptedStyleSheets?new $g:new Pg:Ig(e)?t=new Dg(e):t=new Ng(e),$r.set(e,t),t}});class Xe extends $u{constructor(t){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=t.name,t.cssCustomPropertyName!==null&&(this.cssCustomProperty=`--${t.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=Xe.uniqueId(),Xe.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(t){return new Xe({name:typeof t=="string"?t:t.name,cssCustomPropertyName:typeof t=="string"?t:t.cssCustomPropertyName===void 0?t.name:t.cssCustomPropertyName})}static isCSSDesignToken(t){return typeof t.cssCustomProperty=="string"}static isDerivedDesignTokenValue(t){return typeof t=="function"}static getTokenById(t){return Xe.tokensById.get(t)}getOrCreateSubscriberSet(t=this){return this.subscribers.get(t)||this.subscribers.set(t,new Set)&&this.subscribers.get(t)}createCSS(){return this.cssVar||""}getValueFor(t){const n=Pe.getOrCreate(t).get(this);if(n!==void 0)return n;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${t} or an ancestor of ${t}.`)}setValueFor(t,n){return this._appliedTo.add(t),n instanceof Xe&&(n=this.alias(n)),Pe.getOrCreate(t).set(this,n),this}deleteValueFor(t){return this._appliedTo.delete(t),Pe.existsFor(t)&&Pe.getOrCreate(t).delete(this),this}withDefault(t){return this.setValueFor(Ut,t),this}subscribe(t,n){const s=this.getOrCreateSubscriberSet(n);n&&!Pe.existsFor(n)&&Pe.getOrCreate(n),s.has(t)||s.add(t)}unsubscribe(t,n){const s=this.subscribers.get(n||this);s&&s.has(t)&&s.delete(t)}notify(t){const n=Object.freeze({token:this,target:t});this.subscribers.has(this)&&this.subscribers.get(this).forEach(s=>s.handleChange(n)),this.subscribers.has(t)&&this.subscribers.get(t).forEach(s=>s.handleChange(n))}alias(t){return(n=>t.getValueFor(n))}}Xe.uniqueId=(()=>{let e=0;return()=>(e++,e.toString(16))})();Xe.tokensById=new Map;class Lg{startReflection(t,n){t.subscribe(this,n),this.handleChange({token:t,target:n})}stopReflection(t,n){t.unsubscribe(this,n),this.remove(t,n)}handleChange(t){const{token:n,target:s}=t;this.add(n,s)}add(t,n){Nn.getOrCreate(n).setProperty(t.cssCustomProperty,this.resolveCSSValue(Pe.getOrCreate(n).get(t)))}remove(t,n){Nn.getOrCreate(n).removeProperty(t.cssCustomProperty)}resolveCSSValue(t){return t&&typeof t.createCSS=="function"?t.createCSS():t}}class Fg{constructor(t,n,s){this.source=t,this.token=n,this.node=s,this.dependencies=new Set,this.observer=be.binding(t,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){try{this.node.store.set(this.token,this.observer.observe(this.node.target,ys))}catch(t){console.error(t)}}}class Mg{constructor(){this.values=new Map}set(t,n){this.values.get(t)!==n&&(this.values.set(t,n),be.getNotifier(this).notify(t.id))}get(t){return be.track(this,t.id),this.values.get(t)}delete(t){this.values.delete(t),be.getNotifier(this).notify(t.id)}all(){return this.values.entries()}}const is=new WeakMap,rs=new WeakMap;class Pe{constructor(t){this.target=t,this.store=new Mg,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(n,s)=>{const i=Xe.getTokenById(s);i&&(i.notify(this.target),this.updateCSSTokenReflection(n,i))}},is.set(t,this),be.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),t instanceof tr?t.$fastController.addBehaviors([this]):t.isConnected&&this.bind()}static getOrCreate(t){return is.get(t)||new Pe(t)}static existsFor(t){return is.has(t)}static findParent(t){if(Ut!==t.target){let n=oo(t.target);for(;n!==null;){if(is.has(n))return is.get(n);n=oo(n)}return Pe.getOrCreate(Ut)}return null}static findClosestAssignedNode(t,n){let s=n;do{if(s.has(t))return s;s=s.parent?s.parent:s.target!==Ut?Pe.getOrCreate(Ut):null}while(s!==null);return null}get parent(){return rs.get(this)||null}updateCSSTokenReflection(t,n){if(Xe.isCSSDesignToken(n)){const s=this.parent,i=this.isReflecting(n);if(s){const r=s.get(n),o=t.get(n);r!==o&&!i?this.reflectToCSS(n):r===o&&i&&this.stopReflectToCSS(n)}else i||this.reflectToCSS(n)}}has(t){return this.assignedValues.has(t)}get(t){const n=this.store.get(t);if(n!==void 0)return n;const s=this.getRaw(t);if(s!==void 0)return this.hydrate(t,s),this.get(t)}getRaw(t){var n;return this.assignedValues.has(t)?this.assignedValues.get(t):(n=Pe.findClosestAssignedNode(t,this))===null||n===void 0?void 0:n.getRaw(t)}set(t,n){Xe.isDerivedDesignTokenValue(this.assignedValues.get(t))&&this.tearDownBindingObserver(t),this.assignedValues.set(t,n),Xe.isDerivedDesignTokenValue(n)?this.setupBindingObserver(t,n):this.store.set(t,n)}delete(t){this.assignedValues.delete(t),this.tearDownBindingObserver(t);const n=this.getRaw(t);n?this.hydrate(t,n):this.store.delete(t)}bind(){const t=Pe.findParent(this);t&&t.appendChild(this);for(const n of this.assignedValues.keys())n.notify(this.target)}unbind(){this.parent&&rs.get(this).removeChild(this);for(const t of this.bindingObservers.keys())this.tearDownBindingObserver(t)}appendChild(t){t.parent&&rs.get(t).removeChild(t);const n=this.children.filter(s=>t.contains(s));rs.set(t,this),this.children.push(t),n.forEach(s=>t.appendChild(s)),be.getNotifier(this.store).subscribe(t);for(const[s,i]of this.store.all())t.hydrate(s,this.bindingObservers.has(s)?this.getRaw(s):i),t.updateCSSTokenReflection(t.store,s)}removeChild(t){const n=this.children.indexOf(t);if(n!==-1&&this.children.splice(n,1),be.getNotifier(this.store).unsubscribe(t),t.parent!==this)return!1;const s=rs.delete(t);for(const[i]of this.store.all())t.hydrate(i,t.getRaw(i)),t.updateCSSTokenReflection(t.store,i);return s}contains(t){return Ag(this.target,t.target)}reflectToCSS(t){this.isReflecting(t)||(this.reflecting.add(t),Pe.cssCustomPropertyReflector.startReflection(t,this.target))}stopReflectToCSS(t){this.isReflecting(t)&&(this.reflecting.delete(t),Pe.cssCustomPropertyReflector.stopReflection(t,this.target))}isReflecting(t){return this.reflecting.has(t)}handleChange(t,n){const s=Xe.getTokenById(n);s&&(this.hydrate(s,this.getRaw(s)),this.updateCSSTokenReflection(this.store,s))}hydrate(t,n){if(!this.has(t)){const s=this.bindingObservers.get(t);Xe.isDerivedDesignTokenValue(n)?s?s.source!==n&&(this.tearDownBindingObserver(t),this.setupBindingObserver(t,n)):this.setupBindingObserver(t,n):(s&&this.tearDownBindingObserver(t),this.store.set(t,n))}}setupBindingObserver(t,n){const s=new Fg(n,t,this);return this.bindingObservers.set(t,s),s}tearDownBindingObserver(t){return this.bindingObservers.has(t)?(this.bindingObservers.get(t).disconnect(),this.bindingObservers.delete(t),!0):!1}}Pe.cssCustomPropertyReflector=new Lg;B([we],Pe.prototype,"children",void 0);function Bg(e){return Xe.from(e)}const Hu=Object.freeze({create:Bg,notifyConnection(e){return!e.isConnected||!Pe.existsFor(e)?!1:(Pe.getOrCreate(e).bind(),!0)},notifyDisconnection(e){return e.isConnected||!Pe.existsFor(e)?!1:(Pe.getOrCreate(e).unbind(),!0)},registerRoot(e=Ut){Be.registerRoot(e)},unregisterRoot(e=Ut){Be.unregisterRoot(e)}}),Pr=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),Nr=new Map,li=new Map;let Bn=null;const os=Te.createInterface(e=>e.cachedCallback(t=>(Bn===null&&(Bn=new qu(null,t)),Bn))),zu=Object.freeze({tagFor(e){return li.get(e)},responsibleFor(e){const t=e.$$designSystem$$;return t||Te.findResponsibleContainer(e).get(os)},getOrCreate(e){if(!e)return Bn===null&&(Bn=Te.getOrCreateDOMContainer().get(os)),Bn;const t=e.$$designSystem$$;if(t)return t;const n=Te.getOrCreateDOMContainer(e);if(n.has(os,!1))return n.get(os);{const s=new qu(e,n);return n.register(Ts.instance(os,s)),s}}});function Vg(e,t,n){return typeof e=="string"?{name:e,type:t,callback:n}:e}class qu{constructor(t,n){this.owner=t,this.container=n,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>Pr.definitionCallbackOnly,t!==null&&(t.$$designSystem$$=this)}withPrefix(t){return this.prefix=t,this}withShadowRootMode(t){return this.shadowRootMode=t,this}withElementDisambiguation(t){return this.disambiguate=t,this}withDesignTokenRoot(t){return this.designTokenRoot=t,this}register(...t){const n=this.container,s=[],i=this.disambiguate,r=this.shadowRootMode,o={elementPrefix:this.prefix,tryDefineElement(l,a,c){const u=Vg(l,a,c),{name:f,callback:g,baseClass:y}=u;let{type:p}=u,b=f,S=Nr.get(b),O=!0;for(;S;){const A=i(b,p,S);switch(A){case Pr.ignoreDuplicate:return;case Pr.definitionCallbackOnly:O=!1,S=void 0;break;default:b=A,S=Nr.get(b);break}}O&&((li.has(p)||p===wt)&&(p=class extends p{}),Nr.set(b,p),li.set(p,b),y&&li.set(y,b)),s.push(new Ug(n,b,p,r,g,O))}};this.designTokensInitialized||(this.designTokensInitialized=!0,this.designTokenRoot!==null&&Hu.registerRoot(this.designTokenRoot)),n.registerWithContext(o,...t);for(const l of s)l.callback(l),l.willDefine&&l.definition!==null&&l.definition.define();return this}}class Ug{constructor(t,n,s,i,r,o){this.container=t,this.name=n,this.type=s,this.shadowRootMode=i,this.callback=r,this.willDefine=o,this.definition=null}definePresentation(t){Mu.define(this.name,t,this.container)}defineElement(t){this.definition=new er(this.type,Object.assign(Object.assign({},t),{name:this.name}))}tagFor(t){return zu.tagFor(t)}}const jg=(e,t)=>gt`
    <template role="${n=>n.role}" aria-orientation="${n=>n.orientation}"></template>
`,Hg={separator:"separator"};let sl=class extends wt{constructor(){super(...arguments),this.role=Hg.separator,this.orientation=yg.horizontal}};B([Q],sl.prototype,"role",void 0);B([Q],sl.prototype,"orientation",void 0);const zg=(e,t)=>gt`
    <template
        aria-checked="${n=>n.ariaChecked}"
        aria-disabled="${n=>n.ariaDisabled}"
        aria-posinset="${n=>n.ariaPosInSet}"
        aria-selected="${n=>n.ariaSelected}"
        aria-setsize="${n=>n.ariaSetSize}"
        class="${n=>[n.checked&&"checked",n.selected&&"selected",n.disabled&&"disabled"].filter(Boolean).join(" ")}"
        role="option"
    >
        ${Go(e,t)}
        <span class="content" part="content">
            <slot ${zo("content")}></slot>
        </span>
        ${Wo(e,t)}
    </template>
`;class sr extends Ze{constructor(){super(...arguments),this.activeIndex=-1,this.rangeStartIndex=-1}get activeOption(){return this.options[this.activeIndex]}get checkedOptions(){var t;return(t=this.options)===null||t===void 0?void 0:t.filter(n=>n.checked)}get firstSelectedOptionIndex(){return this.options.indexOf(this.firstSelectedOption)}activeIndexChanged(t,n){var s,i;this.ariaActiveDescendant=(i=(s=this.options[n])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:"",this.focusAndScrollOptionIntoView()}checkActiveIndex(){if(!this.multiple)return;const t=this.activeOption;t&&(t.checked=!0)}checkFirstOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex+1),this.options.forEach((n,s)=>{n.checked=Qs(s,this.rangeStartIndex)})):this.uncheckAllOptions(),this.activeIndex=0,this.checkActiveIndex()}checkLastOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.options.forEach((n,s)=>{n.checked=Qs(s,this.rangeStartIndex,this.options.length)})):this.uncheckAllOptions(),this.activeIndex=this.options.length-1,this.checkActiveIndex()}connectedCallback(){super.connectedCallback(),this.addEventListener("focusout",this.focusoutHandler)}disconnectedCallback(){this.removeEventListener("focusout",this.focusoutHandler),super.disconnectedCallback()}checkNextOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.options.forEach((n,s)=>{n.checked=Qs(s,this.rangeStartIndex,this.activeIndex+1)})):this.uncheckAllOptions(),this.activeIndex+=this.activeIndex<this.options.length-1?1:0,this.checkActiveIndex()}checkPreviousOption(t=!1){t?(this.rangeStartIndex===-1&&(this.rangeStartIndex=this.activeIndex),this.checkedOptions.length===1&&(this.rangeStartIndex+=1),this.options.forEach((n,s)=>{n.checked=Qs(s,this.activeIndex,this.rangeStartIndex)})):this.uncheckAllOptions(),this.activeIndex-=this.activeIndex>0?1:0,this.checkActiveIndex()}clickHandler(t){var n;if(!this.multiple)return super.clickHandler(t);const s=(n=t.target)===null||n===void 0?void 0:n.closest("[role=option]");if(!(!s||s.disabled))return this.uncheckAllOptions(),this.activeIndex=this.options.indexOf(s),this.checkActiveIndex(),this.toggleSelectedForAllCheckedOptions(),!0}focusAndScrollOptionIntoView(){super.focusAndScrollOptionIntoView(this.activeOption)}focusinHandler(t){if(!this.multiple)return super.focusinHandler(t);!this.shouldSkipFocus&&t.target===t.currentTarget&&(this.uncheckAllOptions(),this.activeIndex===-1&&(this.activeIndex=this.firstSelectedOptionIndex!==-1?this.firstSelectedOptionIndex:0),this.checkActiveIndex(),this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}focusoutHandler(t){this.multiple&&this.uncheckAllOptions()}keydownHandler(t){if(!this.multiple)return super.keydownHandler(t);if(this.disabled)return!0;const{key:n,shiftKey:s}=t;switch(this.shouldSkipFocus=!1,n){case Zo:{this.checkFirstOption(s);return}case Yo:{this.checkNextOption(s);return}case Jo:{this.checkPreviousOption(s);return}case Ko:{this.checkLastOption(s);return}case tl:return this.focusAndScrollOptionIntoView(),!0;case Xo:return this.uncheckAllOptions(),this.checkActiveIndex(),!0;case el:if(t.preventDefault(),this.typeAheadExpired){this.toggleSelectedForAllCheckedOptions();return}default:return n.length===1&&this.handleTypeAhead(`${n}`),!0}}mousedownHandler(t){if(t.offsetX>=0&&t.offsetX<=this.scrollWidth)return super.mousedownHandler(t)}multipleChanged(t,n){var s;this.ariaMultiSelectable=n?"true":null,(s=this.options)===null||s===void 0||s.forEach(i=>{i.checked=n?!1:void 0}),this.setSelectedOptions()}setSelectedOptions(){if(!this.multiple){super.setSelectedOptions();return}this.$fastController.isConnected&&this.options&&(this.selectedOptions=this.options.filter(t=>t.selected),this.focusAndScrollOptionIntoView())}sizeChanged(t,n){var s;const i=Math.max(0,parseInt((s=n==null?void 0:n.toFixed())!==null&&s!==void 0?s:"",10));i!==n&&ye.queueUpdate(()=>{this.size=i})}toggleSelectedForAllCheckedOptions(){const t=this.checkedOptions.filter(s=>!s.disabled),n=!t.every(s=>s.selected);t.forEach(s=>s.selected=n),this.selectedIndex=this.options.indexOf(t[t.length-1]),this.setSelectedOptions()}typeaheadBufferChanged(t,n){if(!this.multiple){super.typeaheadBufferChanged(t,n);return}if(this.$fastController.isConnected){const s=this.getTypeaheadMatches(),i=this.options.indexOf(s[0]);i>-1&&(this.activeIndex=i,this.uncheckAllOptions(),this.checkActiveIndex()),this.typeAheadExpired=!1}}uncheckAllOptions(t=!1){this.options.forEach(n=>n.checked=this.multiple?!1:void 0),t||(this.rangeStartIndex=-1)}}B([we],sr.prototype,"activeIndex",void 0);B([Q({mode:"boolean"})],sr.prototype,"multiple",void 0);B([Q({converter:Ki})],sr.prototype,"size",void 0);const _a=44,qg=(e,t)=>gt`
    <template
        role="progressbar"
        aria-valuenow="${n=>n.value}"
        aria-valuemin="${n=>n.min}"
        aria-valuemax="${n=>n.max}"
        class="${n=>n.paused?"paused":""}"
    >
        ${Nu(n=>typeof n.value=="number",gt`
                <svg
                    class="progress"
                    part="progress"
                    viewBox="0 0 16 16"
                    slot="determinate"
                >
                    <circle
                        class="background"
                        part="background"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                    <circle
                        class="determinate"
                        part="determinate"
                        style="stroke-dasharray: ${n=>_a*n.percentComplete/100}px ${_a}px"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                </svg>
            `,gt`
                <slot name="indeterminate" slot="indeterminate">
                    ${t.indeterminateIndicator||""}
                </slot>
            `)}
    </template>
`;class Yn extends wt{constructor(){super(...arguments),this.percentComplete=0}valueChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}minChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}maxChanged(){this.$fastController.isConnected&&this.updatePercentComplete()}connectedCallback(){super.connectedCallback(),this.updatePercentComplete()}updatePercentComplete(){const t=typeof this.min=="number"?this.min:0,n=typeof this.max=="number"?this.max:100,s=typeof this.value=="number"?this.value:0,i=n-t;this.percentComplete=i===0?0:Math.fround((s-t)/i*100)}}B([Q({converter:Ki})],Yn.prototype,"value",void 0);B([Q({converter:Ki})],Yn.prototype,"min",void 0);B([Q({converter:Ki})],Yn.prototype,"max",void 0);B([Q({mode:"boolean"})],Yn.prototype,"paused",void 0);B([we],Yn.prototype,"percentComplete",void 0);class Wg extends sr{}class Gg extends Vu(Wg){constructor(){super(...arguments),this.proxy=document.createElement("select")}}class un extends Gg{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.listboxId=Bu("listbox-"),this.maxHeight=0}openChanged(t,n){if(this.collapsible){if(this.open){this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex,ye.queueUpdate(()=>this.focus());return}this.ariaControls="",this.ariaExpanded="false"}}get collapsible(){return!(this.multiple||typeof this.size=="number")}get value(){return be.track(this,"value"),this._value}set value(t){var n,s,i,r,o,l,a;const c=`${this._value}`;if(!((n=this._options)===null||n===void 0)&&n.length){const u=this._options.findIndex(y=>y.value===t),f=(i=(s=this._options[this.selectedIndex])===null||s===void 0?void 0:s.value)!==null&&i!==void 0?i:null,g=(o=(r=this._options[u])===null||r===void 0?void 0:r.value)!==null&&o!==void 0?o:null;(u===-1||f!==g)&&(t="",this.selectedIndex=u),t=(a=(l=this.firstSelectedOption)===null||l===void 0?void 0:l.value)!==null&&a!==void 0?a:t}c!==t&&(this._value=t,super.valueChanged(c,t),be.notify(this,"value"),this.updateDisplayValue())}updateValue(t){var n,s;this.$fastController.isConnected&&(this.value=(s=(n=this.firstSelectedOption)===null||n===void 0?void 0:n.value)!==null&&s!==void 0?s:""),t&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}selectedIndexChanged(t,n){super.selectedIndexChanged(t,n),this.updateValue()}positionChanged(t,n){this.positionAttribute=n,this.setPositioning()}setPositioning(){const t=this.getBoundingClientRect(),s=window.innerHeight-t.bottom;this.position=this.forcedPosition?this.positionAttribute:t.top>s?Tr.above:Tr.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===Tr.above?~~t.top:~~s}get displayValue(){var t,n;return be.track(this,"displayValue"),(n=(t=this.firstSelectedOption)===null||t===void 0?void 0:t.text)!==null&&n!==void 0?n:""}disabledChanged(t,n){super.disabledChanged&&super.disabledChanged(t,n),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),this.selectedIndex===-1&&(this.selectedIndex=0)}clickHandler(t){if(!this.disabled){if(this.open){const n=t.target.closest("option,[role=option]");if(n&&n.disabled)return}return super.clickHandler(t),this.open=this.collapsible&&!this.open,!this.open&&this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0),!0}}focusoutHandler(t){var n;if(super.focusoutHandler(t),!this.open)return!0;const s=t.relatedTarget;if(this.isSameNode(s)){this.focus();return}!((n=this.options)===null||n===void 0)&&n.includes(s)||(this.open=!1,this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0))}handleChange(t,n){super.handleChange(t,n),n==="value"&&this.updateValue()}slottedOptionsChanged(t,n){this.options.forEach(s=>{be.getNotifier(s).unsubscribe(this,"value")}),super.slottedOptionsChanged(t,n),this.options.forEach(s=>{be.getNotifier(s).subscribe(this,"value")}),this.setProxyOptions(),this.updateValue()}mousedownHandler(t){var n;return t.offsetX>=0&&t.offsetX<=((n=this.listbox)===null||n===void 0?void 0:n.scrollWidth)?super.mousedownHandler(t):this.collapsible}multipleChanged(t,n){super.multipleChanged(t,n),this.proxy&&(this.proxy.multiple=n)}selectedOptionsChanged(t,n){var s;super.selectedOptionsChanged(t,n),(s=this.options)===null||s===void 0||s.forEach((i,r)=>{var o;const l=(o=this.proxy)===null||o===void 0?void 0:o.options.item(r);l&&(l.selected=i.selected)})}setDefaultSelectedOption(){var t;const n=(t=this.options)!==null&&t!==void 0?t:Array.from(this.children).filter(Ze.slottedOptionFilter),s=n==null?void 0:n.findIndex(i=>i.hasAttribute("selected")||i.selected||i.value===this.value);if(s!==-1){this.selectedIndex=s;return}this.selectedIndex=0}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach(t=>{const n=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null);n&&this.proxy.options.add(n)}))}keydownHandler(t){super.keydownHandler(t);const n=t.key||t.key.charCodeAt(0);switch(n){case el:{t.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open);break}case Zo:case Ko:{t.preventDefault();break}case Qo:{t.preventDefault(),this.open=!this.open;break}case Xo:{this.collapsible&&this.open&&(t.preventDefault(),this.open=!1);break}case tl:return this.collapsible&&this.open&&(t.preventDefault(),this.open=!1),!0}return!this.open&&this.indexWhenOpened!==this.selectedIndex&&(this.updateValue(!0),this.indexWhenOpened=this.selectedIndex),!(n===Yo||n===Jo)}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.addEventListener("contentchange",this.updateDisplayValue)}disconnectedCallback(){this.removeEventListener("contentchange",this.updateDisplayValue),super.disconnectedCallback()}sizeChanged(t,n){super.sizeChanged(t,n),this.proxy&&(this.proxy.size=n)}updateDisplayValue(){this.collapsible&&be.notify(this,"displayValue")}}B([Q({attribute:"open",mode:"boolean"})],un.prototype,"open",void 0);B([Tp],un.prototype,"collapsible",null);B([we],un.prototype,"control",void 0);B([Q({attribute:"position"})],un.prototype,"positionAttribute",void 0);B([we],un.prototype,"position",void 0);B([we],un.prototype,"maxHeight",void 0);class il{}B([we],il.prototype,"ariaControls",void 0);cn(il,Cn);cn(un,qo,il);const Yg=(e,t)=>gt`
    <template
        class="${n=>[n.collapsible&&"collapsible",n.collapsible&&n.open&&"open",n.disabled&&"disabled",n.collapsible&&n.position].filter(Boolean).join(" ")}"
        aria-activedescendant="${n=>n.ariaActiveDescendant}"
        aria-controls="${n=>n.ariaControls}"
        aria-disabled="${n=>n.ariaDisabled}"
        aria-expanded="${n=>n.ariaExpanded}"
        aria-haspopup="${n=>n.collapsible?"listbox":null}"
        aria-multiselectable="${n=>n.ariaMultiSelectable}"
        ?open="${n=>n.open}"
        role="combobox"
        tabindex="${n=>n.disabled?null:"0"}"
        @click="${(n,s)=>n.clickHandler(s.event)}"
        @focusin="${(n,s)=>n.focusinHandler(s.event)}"
        @focusout="${(n,s)=>n.focusoutHandler(s.event)}"
        @keydown="${(n,s)=>n.keydownHandler(s.event)}"
        @mousedown="${(n,s)=>n.mousedownHandler(s.event)}"
    >
        ${Nu(n=>n.collapsible,gt`
                <div
                    class="control"
                    part="control"
                    ?disabled="${n=>n.disabled}"
                    ${St("control")}
                >
                    ${Go(e,t)}
                    <slot name="button-container">
                        <div class="selected-value" part="selected-value">
                            <slot name="selected-value">${n=>n.displayValue}</slot>
                        </div>
                        <div aria-hidden="true" class="indicator" part="indicator">
                            <slot name="indicator">
                                ${t.indicator||""}
                            </slot>
                        </div>
                    </slot>
                    ${Wo(e,t)}
                </div>
            `)}
        <div
            class="listbox"
            id="${n=>n.listboxId}"
            part="listbox"
            role="listbox"
            ?disabled="${n=>n.disabled}"
            ?hidden="${n=>n.collapsible?!n.open:!1}"
            ${St("listbox")}
        >
            <slot
                ${zo({filter:Ze.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,Oi="not-allowed",Jg=":host([hidden]){display:none}";function Ms(e){return`${Jg}:host{display:${e}}`}const En=Cg()?"focus-visible":"focus";function Qg(e){return zu.getOrCreate(e).withPrefix("vscode")}function Xg(e){window.addEventListener("load",()=>{new MutationObserver(()=>{Ra(e)}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),Ra(e)})}function Ra(e){const t=getComputedStyle(document.body),n=document.querySelector("body");if(n){const s=n.getAttribute("data-vscode-theme-kind");for(const[i,r]of e){let o=t.getPropertyValue(i).toString();if(s==="vscode-high-contrast")o.length===0&&r.name.includes("background")&&(o="transparent"),r.name==="button-icon-hover-background"&&(o="transparent");else if(s==="vscode-high-contrast-light"){if(o.length===0&&r.name.includes("background"))switch(r.name){case"button-primary-hover-background":o="#0F4A85";break;case"button-secondary-hover-background":o="transparent";break;case"button-icon-hover-background":o="transparent";break}}else r.name==="contrast-active-border"&&(o="transparent");r.setValueFor(n,o)}}}const ka=new Map;let Oa=!1;function U(e,t){const n=Hu.create(e);if(t){if(t.includes("--fake-vscode-token")){const s="id"+Math.random().toString(16).slice(2);t=`${t}-${s}`}ka.set(t,n)}return Oa||(Xg(ka),Oa=!0),n}const Rw=U("background","--vscode-editor-background").withDefault("#1e1e1e"),Ke=U("border-width").withDefault(1),Zg=U("contrast-active-border","--vscode-contrastActiveBorder").withDefault("#f38518");U("contrast-border","--vscode-contrastBorder").withDefault("#6fc3df");const Kg=U("corner-radius").withDefault(0),ai=U("corner-radius-round").withDefault(2),bt=U("design-unit").withDefault(4),rl=U("disabled-opacity").withDefault(.4),jt=U("focus-border","--vscode-focusBorder").withDefault("#007fd4"),Wu=U("font-family","--vscode-font-family").withDefault("-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol");U("font-weight","--vscode-font-weight").withDefault("400");const Vn=U("foreground","--vscode-foreground").withDefault("#cccccc"),Dr=U("input-height").withDefault("26"),em=U("input-min-width").withDefault("100px"),ol=U("type-ramp-base-font-size","--vscode-font-size").withDefault("13px"),ll=U("type-ramp-base-line-height").withDefault("normal"),kw=U("type-ramp-minus1-font-size").withDefault("11px"),Ow=U("type-ramp-minus1-line-height").withDefault("16px");U("type-ramp-minus2-font-size").withDefault("9px");U("type-ramp-minus2-line-height").withDefault("16px");U("type-ramp-plus1-font-size").withDefault("16px");U("type-ramp-plus1-line-height").withDefault("24px");const Aw=U("scrollbarWidth").withDefault("10px"),Iw=U("scrollbarHeight").withDefault("10px"),Tw=U("scrollbar-slider-background","--vscode-scrollbarSlider-background").withDefault("#79797966"),$w=U("scrollbar-slider-hover-background","--vscode-scrollbarSlider-hoverBackground").withDefault("#646464b3"),Pw=U("scrollbar-slider-active-background","--vscode-scrollbarSlider-activeBackground").withDefault("#bfbfbf66"),Nw=U("badge-background","--vscode-badge-background").withDefault("#4d4d4d"),Dw=U("badge-foreground","--vscode-badge-foreground").withDefault("#ffffff"),tm=U("button-border","--vscode-button-border").withDefault("transparent"),Aa=U("button-icon-background").withDefault("transparent"),nm=U("button-icon-corner-radius").withDefault("5px"),sm=U("button-icon-outline-offset").withDefault(0),Ia=U("button-icon-hover-background","--fake-vscode-token").withDefault("rgba(90, 93, 94, 0.31)"),im=U("button-icon-padding").withDefault("3px"),Un=U("button-primary-background","--vscode-button-background").withDefault("#0e639c"),Gu=U("button-primary-foreground","--vscode-button-foreground").withDefault("#ffffff"),Yu=U("button-primary-hover-background","--vscode-button-hoverBackground").withDefault("#1177bb"),Lr=U("button-secondary-background","--vscode-button-secondaryBackground").withDefault("#3a3d41"),rm=U("button-secondary-foreground","--vscode-button-secondaryForeground").withDefault("#ffffff"),om=U("button-secondary-hover-background","--vscode-button-secondaryHoverBackground").withDefault("#45494e"),lm=U("button-padding-horizontal").withDefault("11px"),am=U("button-padding-vertical").withDefault("4px"),Lw=U("checkbox-background","--vscode-checkbox-background").withDefault("#3c3c3c"),Fw=U("checkbox-border","--vscode-checkbox-border").withDefault("#3c3c3c"),Mw=U("checkbox-corner-radius").withDefault(3);U("checkbox-foreground","--vscode-checkbox-foreground").withDefault("#f0f0f0");const Pn=U("list-active-selection-background","--vscode-list-activeSelectionBackground").withDefault("#094771"),ci=U("list-active-selection-foreground","--vscode-list-activeSelectionForeground").withDefault("#ffffff"),Bw=U("list-hover-background","--vscode-list-hoverBackground").withDefault("#2a2d2e"),cm=U("divider-background","--vscode-settings-dropdownListBorder").withDefault("#454545"),Xs=U("dropdown-background","--vscode-dropdown-background").withDefault("#3c3c3c"),Ta=U("dropdown-border","--vscode-dropdown-border").withDefault("#3c3c3c");U("dropdown-foreground","--vscode-dropdown-foreground").withDefault("#f0f0f0");const um=U("dropdown-list-max-height").withDefault("200px"),Vw=U("input-background","--vscode-input-background").withDefault("#3c3c3c"),Uw=U("input-foreground","--vscode-input-foreground").withDefault("#cccccc");U("input-placeholder-foreground","--vscode-input-placeholderForeground").withDefault("#cccccc");const jw=U("link-active-foreground","--vscode-textLink-activeForeground").withDefault("#3794ff"),Hw=U("link-foreground","--vscode-textLink-foreground").withDefault("#3794ff"),dm=U("progress-background","--vscode-progressBar-background").withDefault("#0e70c0"),zw=U("panel-tab-active-border","--vscode-panelTitle-activeBorder").withDefault("#e7e7e7"),qw=U("panel-tab-active-foreground","--vscode-panelTitle-activeForeground").withDefault("#e7e7e7"),Ww=U("panel-tab-foreground","--vscode-panelTitle-inactiveForeground").withDefault("#e7e7e799");U("panel-view-background","--vscode-panel-background").withDefault("#1e1e1e");U("panel-view-border","--vscode-panel-border").withDefault("#80808059");const Gw=U("tag-corner-radius").withDefault("2px");function fm(e,t,n,s){var i=arguments.length,r=i<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}const hm=Qt`
	${Ms("inline-flex")} :host {
		outline: none;
		font-family: ${Wu};
		font-size: ${ol};
		line-height: ${ll};
		color: ${Gu};
		background: ${Un};
		border-radius: calc(${ai} * 1px);
		fill: currentColor;
		cursor: pointer;
	}
	.control {
		background: transparent;
		height: inherit;
		flex-grow: 1;
		box-sizing: border-box;
		display: inline-flex;
		justify-content: center;
		align-items: center;
		padding: ${am} ${lm};
		white-space: wrap;
		outline: none;
		text-decoration: none;
		border: calc(${Ke} * 1px) solid ${tm};
		color: inherit;
		border-radius: inherit;
		fill: inherit;
		cursor: inherit;
		font-family: inherit;
	}
	:host(:hover) {
		background: ${Yu};
	}
	:host(:active) {
		background: ${Un};
	}
	.control:${En} {
		outline: calc(${Ke} * 1px) solid ${jt};
		outline-offset: calc(${Ke} * 2px);
	}
	.control::-moz-focus-inner {
		border: 0;
	}
	:host([disabled]) {
		opacity: ${rl};
		background: ${Un};
		cursor: ${Oi};
	}
	.content {
		display: flex;
	}
	.start {
		display: flex;
	}
	::slotted(svg),
	::slotted(span) {
		width: calc(${bt} * 4px);
		height: calc(${bt} * 4px);
	}
	.start {
		margin-inline-end: 8px;
	}
`,pm=Qt`
	:host([appearance='primary']) {
		background: ${Un};
		color: ${Gu};
	}
	:host([appearance='primary']:hover) {
		background: ${Yu};
	}
	:host([appearance='primary']:active) .control:active {
		background: ${Un};
	}
	:host([appearance='primary']) .control:${En} {
		outline: calc(${Ke} * 1px) solid ${jt};
		outline-offset: calc(${Ke} * 2px);
	}
	:host([appearance='primary'][disabled]) {
		background: ${Un};
	}
`,gm=Qt`
	:host([appearance='secondary']) {
		background: ${Lr};
		color: ${rm};
	}
	:host([appearance='secondary']:hover) {
		background: ${om};
	}
	:host([appearance='secondary']:active) .control:active {
		background: ${Lr};
	}
	:host([appearance='secondary']) .control:${En} {
		outline: calc(${Ke} * 1px) solid ${jt};
		outline-offset: calc(${Ke} * 2px);
	}
	:host([appearance='secondary'][disabled]) {
		background: ${Lr};
	}
`,mm=Qt`
	:host([appearance='icon']) {
		background: ${Aa};
		border-radius: ${nm};
		color: ${Vn};
	}
	:host([appearance='icon']:hover) {
		background: ${Ia};
		outline: 1px dotted ${Zg};
		outline-offset: -1px;
	}
	:host([appearance='icon']) .control {
		padding: ${im};
		border: none;
	}
	:host([appearance='icon']:active) .control:active {
		background: ${Ia};
	}
	:host([appearance='icon']) .control:${En} {
		outline: calc(${Ke} * 1px) solid ${jt};
		outline-offset: ${sm};
	}
	:host([appearance='icon'][disabled]) {
		background: ${Aa};
	}
`,bm=(e,t)=>Qt`
	${hm}
	${pm}
	${gm}
	${mm}
`;class Ju extends Et{connectedCallback(){if(super.connectedCallback(),!this.appearance){const t=this.getAttribute("appearance");this.appearance=t}}attributeChangedCallback(t,n,s){t==="appearance"&&s==="icon"&&(this.getAttribute("aria-label")||(this.ariaLabel="Icon Button")),t==="aria-label"&&(this.ariaLabel=s),t==="disabled"&&(this.disabled=s!==null)}}fm([Q],Ju.prototype,"appearance",void 0);const vm=Ju.compose({baseName:"button",template:Rg,styles:bm,shadowOptions:{delegatesFocus:!0}}),ym=(e,t)=>Qt`
	${Ms("block")} :host {
		border: none;
		border-top: calc(${Ke} * 1px) solid ${cm};
		box-sizing: content-box;
		height: 0;
		margin: calc(${bt} * 1px) 0;
		width: 100%;
	}
`;class Sm extends sl{}const wm=Sm.compose({baseName:"divider",template:jg,styles:ym}),Em=(e,t)=>Qt`
	${Ms("inline-flex")} :host {
		background: ${Xs};
		border-radius: calc(${ai} * 1px);
		box-sizing: border-box;
		color: ${Vn};
		contain: contents;
		font-family: ${Wu};
		height: calc(${Dr} * 1px);
		position: relative;
		user-select: none;
		min-width: ${em};
		outline: none;
		vertical-align: top;
	}
	.control {
		align-items: center;
		box-sizing: border-box;
		border: calc(${Ke} * 1px) solid ${Ta};
		border-radius: calc(${ai} * 1px);
		cursor: pointer;
		display: flex;
		font-family: inherit;
		font-size: ${ol};
		line-height: ${ll};
		min-height: 100%;
		padding: 2px 6px 2px 8px;
		width: 100%;
	}
	.listbox {
		background: ${Xs};
		border: calc(${Ke} * 1px) solid ${jt};
		border-radius: calc(${ai} * 1px);
		box-sizing: border-box;
		display: inline-flex;
		flex-direction: column;
		left: 0;
		max-height: ${um};
		padding: 0;
		overflow-y: auto;
		position: absolute;
		width: 100%;
		z-index: 1;
	}
	.listbox[hidden] {
		display: none;
	}
	:host(:${En}) .control {
		border-color: ${jt};
	}
	:host(:not([disabled]):hover) {
		background: ${Xs};
		border-color: ${Ta};
	}
	:host(:${En}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
		background: ${Pn};
		border: calc(${Ke} * 1px) solid transparent;
		color: ${ci};
	}
	:host([disabled]) {
		cursor: ${Oi};
		opacity: ${rl};
	}
	:host([disabled]) .control {
		cursor: ${Oi};
		user-select: none;
	}
	:host([disabled]:hover) {
		background: ${Xs};
		color: ${Vn};
		fill: currentcolor;
	}
	:host(:not([disabled])) .control:active {
		border-color: ${jt};
	}
	:host(:empty) .listbox {
		display: none;
	}
	:host([open]) .control {
		border-color: ${jt};
	}
	:host([open][position='above']) .listbox {
		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;
	}
	:host([open][position='below']) .listbox {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
	:host([open][position='above']) .listbox {
		bottom: calc(${Dr} * 1px);
	}
	:host([open][position='below']) .listbox {
		top: calc(${Dr} * 1px);
	}
	.selected-value {
		flex: 1 1 auto;
		font-family: inherit;
		overflow: hidden;
		text-align: start;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	.indicator {
		flex: 0 0 auto;
		margin-inline-start: 1em;
	}
	slot[name='listbox'] {
		display: none;
		width: 100%;
	}
	:host([open]) slot[name='listbox'] {
		display: flex;
		position: absolute;
	}
	.end {
		margin-inline-start: auto;
	}
	.start,
	.end,
	.indicator,
	.select-indicator,
	::slotted(svg),
	::slotted(span) {
		fill: currentcolor;
		height: 1em;
		min-height: calc(${bt} * 4px);
		min-width: calc(${bt} * 4px);
		width: 1em;
	}
	::slotted([role='option']),
	::slotted(option) {
		flex: 0 0 auto;
	}
`;class xm extends un{}const Cm=xm.compose({baseName:"dropdown",template:Yg,styles:Em,indicator:`
		<svg 
			class="select-indicator"
			part="select-indicator"
			width="16" 
			height="16" 
			viewBox="0 0 16 16" 
			xmlns="http://www.w3.org/2000/svg" 
			fill="currentColor"
		>
			<path 
				fill-rule="evenodd" 
				clip-rule="evenodd" 
				d="M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"
			/>
		</svg>
	`}),_m=(e,t)=>Qt`
	${Ms("inline-flex")} :host {
		font-family: var(--body-font);
		border-radius: ${Kg};
		border: calc(${Ke} * 1px) solid transparent;
		box-sizing: border-box;
		color: ${Vn};
		cursor: pointer;
		fill: currentcolor;
		font-size: ${ol};
		line-height: ${ll};
		margin: 0;
		outline: none;
		overflow: hidden;
		padding: 0 calc((${bt} / 2) * 1px)
			calc((${bt} / 4) * 1px);
		user-select: none;
		white-space: nowrap;
	}
	:host(:${En}) {
		border-color: ${jt};
		background: ${Pn};
		color: ${Vn};
	}
	:host([aria-selected='true']) {
		background: ${Pn};
		border: calc(${Ke} * 1px) solid transparent;
		color: ${ci};
	}
	:host(:active) {
		background: ${Pn};
		color: ${ci};
	}
	:host(:not([aria-selected='true']):hover) {
		background: ${Pn};
		border: calc(${Ke} * 1px) solid transparent;
		color: ${ci};
	}
	:host(:not([aria-selected='true']):active) {
		background: ${Pn};
		color: ${Vn};
	}
	:host([disabled]) {
		cursor: ${Oi};
		opacity: ${rl};
	}
	:host([disabled]:hover) {
		background-color: inherit;
	}
	.content {
		grid-column-start: 2;
		justify-self: start;
		overflow: hidden;
		text-overflow: ellipsis;
	}
`;let Rm=class extends Xt{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Option")}};const km=Rm.compose({baseName:"option",template:zg,styles:_m}),Om=(e,t)=>Qt`
	${Ms("flex")} :host {
		align-items: center;
		outline: none;
		height: calc(${bt} * 7px);
		width: calc(${bt} * 7px);
		margin: 0;
	}
	.progress {
		height: 100%;
		width: 100%;
	}
	.background {
		fill: none;
		stroke: transparent;
		stroke-width: calc(${bt} / 2 * 1px);
	}
	.indeterminate-indicator-1 {
		fill: none;
		stroke: ${dm};
		stroke-width: calc(${bt} / 2 * 1px);
		stroke-linecap: square;
		transform-origin: 50% 50%;
		transform: rotate(-90deg);
		transition: all 0.2s ease-in-out;
		animation: spin-infinite 2s linear infinite;
	}
	@keyframes spin-infinite {
		0% {
			stroke-dasharray: 0.01px 43.97px;
			transform: rotate(0deg);
		}
		50% {
			stroke-dasharray: 21.99px 21.99px;
			transform: rotate(450deg);
		}
		100% {
			stroke-dasharray: 0.01px 43.97px;
			transform: rotate(1080deg);
		}
	}
`;class Am extends Yn{connectedCallback(){super.connectedCallback(),this.paused&&(this.paused=!1),this.setAttribute("aria-label","Loading"),this.setAttribute("aria-live","assertive"),this.setAttribute("role","alert")}attributeChangedCallback(t,n,s){t==="value"&&this.removeAttribute("value")}}const Im=Am.compose({baseName:"progress-ring",template:qg,styles:Om,indeterminateIndicator:`
		<svg class="progress" part="progress" viewBox="0 0 16 16">
			<circle
				class="background"
				part="background"
				cx="8px"
				cy="8px"
				r="7px"
			></circle>
			<circle
				class="indeterminate-indicator-1"
				part="indeterminate-indicator-1"
				cx="8px"
				cy="8px"
				r="7px"
			></circle>
		</svg>
	`}),Tm={class:"container"},$m={key:0,class:"overlay"},Pm=Re({__name:"OverlayableView",props:{activateOverlay:{type:Boolean}},setup(e){return(t,n)=>(w(),T("div",Tm,[e.activateOverlay?(w(),T("div",$m)):Z("",!0),it(t.$slots,"default",{},void 0,!0)]))}}),et=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},Nm=et(Pm,[["__scopeId","data-v-882d5437"]]);function Qu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Dm}=Object.prototype,{getPrototypeOf:al}=Object,{iterator:ir,toStringTag:Xu}=Symbol,rr=(e=>t=>{const n=Dm.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xt=e=>(e=e.toLowerCase(),t=>rr(t)===e),or=e=>t=>typeof t===e,{isArray:Jn}=Array,qn=or("undefined");function Bs(e){return e!==null&&!qn(e)&&e.constructor!==null&&!qn(e.constructor)&&ot(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zu=xt("ArrayBuffer");function Lm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zu(e.buffer),t}const Fm=or("string"),ot=or("function"),Ku=or("number"),Vs=e=>e!==null&&typeof e=="object",Mm=e=>e===!0||e===!1,ui=e=>{if(rr(e)!=="object")return!1;const t=al(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xu in e)&&!(ir in e)},Bm=e=>{if(!Vs(e)||Bs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Vm=xt("Date"),Um=xt("File"),jm=xt("Blob"),Hm=xt("FileList"),zm=e=>Vs(e)&&ot(e.pipe),qm=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ot(e.append)&&((t=rr(e))==="formdata"||t==="object"&&ot(e.toString)&&e.toString()==="[object FormData]"))},Wm=xt("URLSearchParams"),[Gm,Ym,Jm,Qm]=["ReadableStream","Request","Response","Headers"].map(xt),Xm=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Us(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),Jn(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(Bs(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let l;for(s=0;s<o;s++)l=r[s],t.call(null,e[l],l,e)}}function ed(e,t){if(Bs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,td=e=>!qn(e)&&e!==bn;function lo(){const{caseless:e,skipUndefined:t}=td(this)&&this||{},n={},s=(i,r)=>{const o=e&&ed(n,r)||r;ui(n[o])&&ui(i)?n[o]=lo(n[o],i):ui(i)?n[o]=lo({},i):Jn(i)?n[o]=i.slice():(!t||!qn(i))&&(n[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Us(arguments[i],s);return n}const Zm=(e,t,n,{allOwnKeys:s}={})=>(Us(t,(i,r)=>{n&&ot(i)?e[r]=Qu(i,n):e[r]=i},{allOwnKeys:s}),e),Km=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eb=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},tb=(e,t,n,s)=>{let i,r,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),r=i.length;r-- >0;)o=i[r],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&al(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},nb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},sb=e=>{if(!e)return null;if(Jn(e))return e;let t=e.length;if(!Ku(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ib=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&al(Uint8Array)),rb=(e,t)=>{const s=(e&&e[ir]).call(e);let i;for(;(i=s.next())&&!i.done;){const r=i.value;t.call(e,r[0],r[1])}},ob=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},lb=xt("HTMLFormElement"),ab=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),$a=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),cb=xt("RegExp"),nd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Us(n,(i,r)=>{let o;(o=t(i,r,e))!==!1&&(s[r]=o||i)}),Object.defineProperties(e,s)},ub=e=>{nd(e,(t,n)=>{if(ot(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ot(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},db=(e,t)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return Jn(e)?s(e):s(String(e).split(t)),n},fb=()=>{},hb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pb(e){return!!(e&&ot(e.append)&&e[Xu]==="FormData"&&e[ir])}const gb=e=>{const t=new Array(10),n=(s,i)=>{if(Vs(s)){if(t.indexOf(s)>=0)return;if(Bs(s))return s;if(!("toJSON"in s)){t[i]=s;const r=Jn(s)?[]:{};return Us(s,(o,l)=>{const a=n(o,i+1);!qn(a)&&(r[l]=a)}),t[i]=void 0,r}}return s};return n(e,0)},mb=xt("AsyncFunction"),bb=e=>e&&(Vs(e)||ot(e))&&ot(e.then)&&ot(e.catch),sd=((e,t)=>e?setImmediate:t?((n,s)=>(bn.addEventListener("message",({source:i,data:r})=>{i===bn&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),bn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ot(bn.postMessage)),vb=typeof queueMicrotask<"u"?queueMicrotask.bind(bn):typeof process<"u"&&process.nextTick||sd,yb=e=>e!=null&&ot(e[ir]),v={isArray:Jn,isArrayBuffer:Zu,isBuffer:Bs,isFormData:qm,isArrayBufferView:Lm,isString:Fm,isNumber:Ku,isBoolean:Mm,isObject:Vs,isPlainObject:ui,isEmptyObject:Bm,isReadableStream:Gm,isRequest:Ym,isResponse:Jm,isHeaders:Qm,isUndefined:qn,isDate:Vm,isFile:Um,isBlob:jm,isRegExp:cb,isFunction:ot,isStream:zm,isURLSearchParams:Wm,isTypedArray:ib,isFileList:Hm,forEach:Us,merge:lo,extend:Zm,trim:Xm,stripBOM:Km,inherits:eb,toFlatObject:tb,kindOf:rr,kindOfTest:xt,endsWith:nb,toArray:sb,forEachEntry:rb,matchAll:ob,isHTMLForm:lb,hasOwnProperty:$a,hasOwnProp:$a,reduceDescriptors:nd,freezeMethods:ub,toObjectSet:db,toCamelCase:ab,noop:fb,toFiniteNumber:hb,findKey:ed,global:bn,isContextDefined:td,isSpecCompliantForm:pb,toJSONObject:gb,isAsyncFn:mb,isThenable:bb,setImmediate:sd,asap:vb,isIterable:yb};function se(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}v.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.status}}});const id=se.prototype,rd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rd[e]={value:e}});Object.defineProperties(se,rd);Object.defineProperty(id,"isAxiosError",{value:!0});se.from=(e,t,n,s,i,r)=>{const o=Object.create(id);v.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",a=t==null&&e?e.code:t;return se.call(o,l,a,n,s,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",r&&Object.assign(o,r),o};const Sb=null;function ao(e){return v.isPlainObject(e)||v.isArray(e)}function od(e){return v.endsWith(e,"[]")?e.slice(0,-2):e}function Pa(e,t,n){return e?e.concat(t).map(function(i,r){return i=od(i),!n&&r?"["+i+"]":i}).join(n?".":""):t}function wb(e){return v.isArray(e)&&!e.some(ao)}const Eb=v.toFlatObject(v,{},null,function(t){return/^is[A-Z]/.test(t)});function lr(e,t,n){if(!v.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=v.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!v.isUndefined(S[b])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(t);if(!v.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(v.isDate(p))return p.toISOString();if(v.isBoolean(p))return p.toString();if(!a&&v.isBlob(p))throw new se("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(p)||v.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,S){let O=p;if(p&&!S&&typeof p=="object"){if(v.endsWith(b,"{}"))b=s?b:b.slice(0,-2),p=JSON.stringify(p);else if(v.isArray(p)&&wb(p)||(v.isFileList(p)||v.endsWith(b,"[]"))&&(O=v.toArray(p)))return b=od(b),O.forEach(function(P,C){!(v.isUndefined(P)||P===null)&&t.append(o===!0?Pa([b],C,r):o===null?b:b+"[]",c(P))}),!1}return ao(p)?!0:(t.append(Pa(S,b,r),c(p)),!1)}const f=[],g=Object.assign(Eb,{defaultVisitor:u,convertValue:c,isVisitable:ao});function y(p,b){if(!v.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),v.forEach(p,function(O,A){(!(v.isUndefined(O)||O===null)&&i.call(t,O,v.isString(A)?A.trim():A,b,g))===!0&&y(O,b?b.concat(A):[A])}),f.pop()}}if(!v.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Na(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function cl(e,t){this._pairs=[],e&&lr(e,this,t)}const ld=cl.prototype;ld.append=function(t,n){this._pairs.push([t,n])};ld.toString=function(t){const n=t?function(s){return t.call(this,s,Na)}:Na;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function xb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ad(e,t,n){if(!t)return e;const s=n&&n.encode||xb;v.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(t,n):r=v.isURLSearchParams(t)?t.toString():new cl(t,n).toString(s),r){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class Da{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){v.forEach(this.handlers,function(s){s!==null&&t(s)})}}const cd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cb=typeof URLSearchParams<"u"?URLSearchParams:cl,_b=typeof FormData<"u"?FormData:null,Rb=typeof Blob<"u"?Blob:null,kb={isBrowser:!0,classes:{URLSearchParams:Cb,FormData:_b,Blob:Rb},protocols:["http","https","file","blob","url","data"]},ul=typeof window<"u"&&typeof document<"u",co=typeof navigator=="object"&&navigator||void 0,Ob=ul&&(!co||["ReactNative","NativeScript","NS"].indexOf(co.product)<0),Ab=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ib=ul&&window.location.href||"http://localhost",Tb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ul,hasStandardBrowserEnv:Ob,hasStandardBrowserWebWorkerEnv:Ab,navigator:co,origin:Ib},Symbol.toStringTag,{value:"Module"})),Ge={...Tb,...kb};function $b(e,t){return lr(e,new Ge.classes.URLSearchParams,{visitor:function(n,s,i,r){return Ge.isNode&&v.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function Pb(e){return v.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nb(e){const t={},n=Object.keys(e);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],t[r]=e[r];return t}function ud(e){function t(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=r>=n.length;return o=!o&&v.isArray(i)?i.length:o,a?(v.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!v.isObject(i[o]))&&(i[o]=[]),t(n,s,i[o],r)&&v.isArray(i[o])&&(i[o]=Nb(i[o])),!l)}if(v.isFormData(e)&&v.isFunction(e.entries)){const n={};return v.forEachEntry(e,(s,i)=>{t(Pb(s),i,n,0)}),n}return null}function Db(e,t,n){if(v.isString(e))try{return(t||JSON.parse)(e),v.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const js={transitional:cd,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=v.isObject(t);if(r&&v.isHTMLForm(t)&&(t=new FormData(t)),v.isFormData(t))return i?JSON.stringify(ud(t)):t;if(v.isArrayBuffer(t)||v.isBuffer(t)||v.isStream(t)||v.isFile(t)||v.isBlob(t)||v.isReadableStream(t))return t;if(v.isArrayBufferView(t))return t.buffer;if(v.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return $b(t,this.formSerializer).toString();if((l=v.isFileList(t))||s.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return lr(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),Db(t)):t}],transformResponse:[function(t){const n=this.transitional||js.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(v.isResponse(t)||v.isReadableStream(t))return t;if(t&&v.isString(t)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?se.from(l,se.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],e=>{js.headers[e]={}});const Lb=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fb=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||t[n]&&Lb[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},La=Symbol("internals");function ls(e){return e&&String(e).trim().toLowerCase()}function di(e){return e===!1||e==null?e:v.isArray(e)?e.map(di):String(e)}function Mb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Bb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fr(e,t,n,s,i){if(v.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!v.isString(t)){if(v.isString(s))return t.indexOf(s)!==-1;if(v.isRegExp(s))return s.test(t)}}function Vb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Ub(e,t){const n=v.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,r,o){return this[s].call(this,t,i,r,o)},configurable:!0})})}let lt=class{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function r(l,a,c){const u=ls(a);if(!u)throw new Error("header name must be a non-empty string");const f=v.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||a]=di(l))}const o=(l,a)=>v.forEach(l,(c,u)=>r(c,u,a));if(v.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(v.isString(t)&&(t=t.trim())&&!Bb(t))o(Fb(t),n);else if(v.isObject(t)&&v.isIterable(t)){let l={},a,c;for(const u of t){if(!v.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(a=l[c])?v.isArray(a)?[...a,u[1]]:[a,u[1]]:u[1]}o(l,n)}else t!=null&&r(n,t,s);return this}get(t,n){if(t=ls(t),t){const s=v.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return Mb(i);if(v.isFunction(n))return n.call(this,i,s);if(v.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ls(t),t){const s=v.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Fr(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function r(o){if(o=ls(o),o){const l=v.findKey(s,o);l&&(!n||Fr(s,s[l],l,n))&&(delete s[l],i=!0)}}return v.isArray(t)?t.forEach(r):r(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!t||Fr(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const n=this,s={};return v.forEach(this,(i,r)=>{const o=v.findKey(s,r);if(o){n[o]=di(i),delete n[r];return}const l=t?Vb(r):String(r).trim();l!==r&&delete n[r],n[l]=di(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return v.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&v.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[La]=this[La]={accessors:{}}).accessors,i=this.prototype;function r(o){const l=ls(o);s[l]||(Ub(i,o),s[l]=!0)}return v.isArray(t)?t.forEach(r):r(t),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(lt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});v.freezeMethods(lt);function Mr(e,t){const n=this||js,s=t||n,i=lt.from(s.headers);let r=s.data;return v.forEach(e,function(l){r=l.call(n,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function dd(e){return!!(e&&e.__CANCEL__)}function Qn(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}v.inherits(Qn,se,{__CANCEL__:!0});function fd(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function jb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Hb(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,r=0,o;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),u=s[r];o||(o=c),n[i]=a,s[i]=c;let f=r,g=0;for(;f!==i;)g+=n[f++],f=f%e;if(i=(i+1)%e,i===r&&(r=(r+1)%e),c-o<t)return;const y=u&&c-u;return y?Math.round(g*1e3/y):void 0}}function zb(e,t){let n=0,s=1e3/t,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-f)))},()=>i&&o(i)]}const Ai=(e,t,n=3)=>{let s=0;const i=Hb(50,250);return zb(r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,a=o-s,c=i(a),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Fa=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ma=e=>(...t)=>v.asap(()=>e(...t)),qb=Ge.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ge.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,Wb=Ge.hasStandardBrowserEnv?{write(e,t,n,s,i,r,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];v.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),v.isString(s)&&l.push(`path=${s}`),v.isString(i)&&l.push(`domain=${i}`),r===!0&&l.push("secure"),v.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Yb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hd(e,t,n){let s=!Gb(t);return e&&(s||n==!1)?Yb(e,t):t}const Ba=e=>e instanceof lt?{...e}:e;function xn(e,t){t=t||{};const n={};function s(c,u,f,g){return v.isPlainObject(c)&&v.isPlainObject(u)?v.merge.call({caseless:g},c,u):v.isPlainObject(u)?v.merge({},u):v.isArray(u)?u.slice():u}function i(c,u,f,g){if(v.isUndefined(u)){if(!v.isUndefined(c))return s(void 0,c,f,g)}else return s(c,u,f,g)}function r(c,u){if(!v.isUndefined(u))return s(void 0,u)}function o(c,u){if(v.isUndefined(u)){if(!v.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function l(c,u,f){if(f in t)return s(c,u);if(f in e)return s(void 0,c)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,f)=>i(Ba(c),Ba(u),f,!0)};return v.forEach(Object.keys({...e,...t}),function(u){const f=a[u]||i,g=f(e[u],t[u],u);v.isUndefined(g)&&f!==l||(n[u]=g)}),n}const pd=e=>{const t=xn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=lt.from(o),t.url=ad(hd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),v.isFormData(n)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(v.isFunction(n.getHeaders)){const a=n.getHeaders(),c=["content-type","content-length"];Object.entries(a).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Ge.hasStandardBrowserEnv&&(s&&v.isFunction(s)&&(s=s(t)),s||s!==!1&&qb(t.url))){const a=i&&r&&Wb.read(r);a&&o.set(i,a)}return t},Jb=typeof XMLHttpRequest<"u",Qb=Jb&&function(e){return new Promise(function(n,s){const i=pd(e);let r=i.data;const o=lt.from(i.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:c}=i,u,f,g,y,p;function b(){y&&y(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function O(){if(!S)return;const P=lt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),W={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:P,config:e,request:S};fd(function(K){n(K),b()},function(K){s(K),b()},W),S=null}"onloadend"in S?S.onloadend=O:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(O)},S.onabort=function(){S&&(s(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(C){const W=C&&C.message?C.message:"Network Error",ke=new se(W,se.ERR_NETWORK,e,S);ke.event=C||null,s(ke),S=null},S.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||cd;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),s(new se(C,W.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},r===void 0&&o.setContentType(null),"setRequestHeader"in S&&v.forEach(o.toJSON(),function(C,W){S.setRequestHeader(W,C)}),v.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),l&&l!=="json"&&(S.responseType=i.responseType),c&&([g,p]=Ai(c,!0),S.addEventListener("progress",g)),a&&S.upload&&([f,y]=Ai(a),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(u=P=>{S&&(s(!P||P.type?new Qn(null,e,S):P),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const A=jb(i.url);if(A&&Ge.protocols.indexOf(A)===-1){s(new se("Unsupported protocol "+A+":",se.ERR_BAD_REQUEST,e));return}S.send(r||null)})},Xb=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,l();const u=c instanceof Error?c:this.reason;s.abort(u instanceof se?u:new Qn(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,r(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),e=null)};e.forEach(c=>c.addEventListener("abort",r));const{signal:a}=s;return a.unsubscribe=()=>v.asap(l),a}},Zb=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},Kb=async function*(e,t){for await(const n of ev(e))yield*Zb(n,t)},ev=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Va=(e,t,n,s)=>{const i=Kb(e,t);let r=0,o,l=a=>{o||(o=!0,s&&s(a))};return new ReadableStream({async pull(a){try{const{done:c,value:u}=await i.next();if(c){l(),a.close();return}let f=u.byteLength;if(n){let g=r+=f;n(g)}a.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(a){return l(a),i.return()}},{highWaterMark:2})},Ua=64*1024,{isFunction:Zs}=v,tv=(({Request:e,Response:t})=>({Request:e,Response:t}))(v.global),{ReadableStream:ja,TextEncoder:Ha}=v.global,za=(e,...t)=>{try{return!!e(...t)}catch{return!1}},nv=e=>{e=v.merge.call({skipUndefined:!0},tv,e);const{fetch:t,Request:n,Response:s}=e,i=t?Zs(t):typeof fetch=="function",r=Zs(n),o=Zs(s);if(!i)return!1;const l=i&&Zs(ja),a=i&&(typeof Ha=="function"?(p=>b=>p.encode(b))(new Ha):async p=>new Uint8Array(await new n(p).arrayBuffer())),c=r&&l&&za(()=>{let p=!1;const b=new n(Ge.origin,{body:new ja,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!b}),u=o&&l&&za(()=>v.isReadableStream(new s("").body)),f={stream:u&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(b,S)=>{let O=b&&b[p];if(O)return O.call(b);throw new se(`Response type '${p}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const g=async p=>{if(p==null)return 0;if(v.isBlob(p))return p.size;if(v.isSpecCompliantForm(p))return(await new n(Ge.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(v.isArrayBufferView(p)||v.isArrayBuffer(p))return p.byteLength;if(v.isURLSearchParams(p)&&(p=p+""),v.isString(p))return(await a(p)).byteLength},y=async(p,b)=>{const S=v.toFiniteNumber(p.getContentLength());return S??g(b)};return async p=>{let{url:b,method:S,data:O,signal:A,cancelToken:P,timeout:C,onDownloadProgress:W,onUploadProgress:ke,responseType:K,headers:z,withCredentials:J="same-origin",fetchOptions:H}=pd(p),le=t||fetch;K=K?(K+"").toLowerCase():"text";let ie=Xb([A,P&&P.toAbortSignal()],C),oe=null;const M=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let L;try{if(ke&&c&&S!=="get"&&S!=="head"&&(L=await y(z,O))!==0){let Fe=new n(b,{method:"POST",body:O,duplex:"half"}),Me;if(v.isFormData(O)&&(Me=Fe.headers.get("content-type"))&&z.setContentType(Me),Fe.body){const[Kt,en]=Fa(L,Ai(Ma(ke)));O=Va(Fe.body,Ua,Kt,en)}}v.isString(J)||(J=J?"include":"omit");const j=r&&"credentials"in n.prototype,q={...H,signal:ie,method:S.toUpperCase(),headers:z.normalize().toJSON(),body:O,duplex:"half",credentials:j?J:void 0};oe=r&&new n(b,q);let te=await(r?le(oe,H):le(b,q));const Ye=u&&(K==="stream"||K==="response");if(u&&(W||Ye&&M)){const Fe={};["status","statusText","headers"].forEach(kn=>{Fe[kn]=te[kn]});const Me=v.toFiniteNumber(te.headers.get("content-length")),[Kt,en]=W&&Fa(Me,Ai(Ma(W),!0))||[];te=new s(Va(te.body,Ua,Kt,()=>{en&&en(),M&&M()}),Fe)}K=K||"text";let Zt=await f[v.findKey(f,K)||"text"](te,p);return!Ye&&M&&M(),await new Promise((Fe,Me)=>{fd(Fe,Me,{data:Zt,headers:lt.from(te.headers),status:te.status,statusText:te.statusText,config:p,request:oe})})}catch(j){throw M&&M(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,p,oe),{cause:j.cause||j}):se.from(j,j&&j.code,p,oe)}}},sv=new Map,gd=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:i}=t,r=[s,i,n];let o=r.length,l=o,a,c,u=sv;for(;l--;)a=r[l],c=u.get(a),c===void 0&&u.set(a,c=l?new Map:nv(t)),u=c;return c};gd();const dl={http:Sb,xhr:Qb,fetch:{get:gd}};v.forEach(dl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qa=e=>`- ${e}`,iv=e=>v.isFunction(e)||e===null||e===!1;function rv(e,t){e=v.isArray(e)?e:[e];const{length:n}=e;let s,i;const r={};for(let o=0;o<n;o++){s=e[o];let l;if(i=s,!iv(s)&&(i=dl[(l=String(s)).toLowerCase()],i===void 0))throw new se(`Unknown adapter '${l}'`);if(i&&(v.isFunction(i)||(i=i.get(t))))break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(qa).join(`
`):" "+qa(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const md={getAdapter:rv,adapters:dl};function Br(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qn(null,e)}function Wa(e){return Br(e),e.headers=lt.from(e.headers),e.data=Mr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),md.getAdapter(e.adapter||js.adapter,e)(e).then(function(s){return Br(e),s.data=Mr.call(e,e.transformResponse,s),s.headers=lt.from(s.headers),s},function(s){return dd(s)||(Br(e),s&&s.response&&(s.response.data=Mr.call(e,e.transformResponse,s.response),s.response.headers=lt.from(s.response.headers))),Promise.reject(s)})}const bd="1.13.2",ar={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ar[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ga={};ar.transitional=function(t,n,s){function i(r,o){return"[Axios v"+bd+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,l)=>{if(t===!1)throw new se(i(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!Ga[o]&&(Ga[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,l):!0}};ar.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function ov(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const r=s[i],o=t[r];if(o){const l=e[r],a=l===void 0||o(l,r,e);if(a!==!0)throw new se("option "+r+" must be "+a,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+r,se.ERR_BAD_OPTION)}}const fi={assertOptions:ov,validators:ar},At=fi.validators;let Sn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Da,response:new Da}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xn(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&fi.assertOptions(s,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),i!=null&&(v.isFunction(i)?n.paramsSerializer={serialize:i}:fi.assertOptions(i,{encode:At.function,serialize:At.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fi.assertOptions(n,{baseUrl:At.spelling("baseURL"),withXsrfToken:At.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&v.merge(r.common,r[n.method]);r&&v.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=lt.concat(o,r);const l=[];let a=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(a=a&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,g;if(!a){const p=[Wa.bind(this),void 0];for(p.unshift(...l),p.push(...c),g=p.length,u=Promise.resolve(n);f<g;)u=u.then(p[f++],p[f++]);return u}g=l.length;let y=n;for(;f<g;){const p=l[f++],b=l[f++];try{y=p(y)}catch(S){b.call(this,S);break}}try{u=Wa.call(this,y)}catch(p){return Promise.reject(p)}for(f=0,g=c.length;f<g;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=xn(this.defaults,t);const n=hd(t.baseURL,t.url,t.allowAbsoluteUrls);return ad(n,t.params,t.paramsSerializer)}};v.forEach(["delete","get","head","options"],function(t){Sn.prototype[t]=function(n,s){return this.request(xn(s||{},{method:t,url:n,data:(s||{}).data}))}});v.forEach(["post","put","patch"],function(t){function n(s){return function(r,o,l){return this.request(xn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Sn.prototype[t]=n(),Sn.prototype[t+"Form"]=n(!0)});let lv=class vd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(l=>{s.subscribe(l),r=l}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},t(function(r,o,l){s.reason||(s.reason=new Qn(r,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vd(function(i){t=i}),cancel:t}}};function av(e){return function(n){return e.apply(null,n)}}function cv(e){return v.isObject(e)&&e.isAxiosError===!0}const uo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uo).forEach(([e,t])=>{uo[t]=e});function yd(e){const t=new Sn(e),n=Qu(Sn.prototype.request,t);return v.extend(n,Sn.prototype,t,{allOwnKeys:!0}),v.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return yd(xn(e,i))},n}const _e=yd(js);_e.Axios=Sn;_e.CanceledError=Qn;_e.CancelToken=lv;_e.isCancel=dd;_e.VERSION=bd;_e.toFormData=lr;_e.AxiosError=se;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=av;_e.isAxiosError=cv;_e.mergeConfig=xn;_e.AxiosHeaders=lt;_e.formToJSON=e=>ud(v.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=md.getAdapter;_e.HttpStatusCode=uo;_e.default=_e;const{Axios:Xw,AxiosError:Zw,CanceledError:Kw,isCancel:eE,CancelToken:tE,VERSION:nE,all:sE,Cancel:iE,isAxiosError:uv,spread:rE,toFormData:oE,AxiosHeaders:lE,HttpStatusCode:aE,formToJSON:cE,getAdapter:uE,mergeConfig:dE}=_e,dv={cloudURL:"https://login.staging.posit.cloud",connectCloudURL:"https://dev.connect.posit.cloud"},fv={cloudURL:"https://login.posit.cloud",connectCloudURL:"https://connect.posit.cloud"},hv={cloudURL:"https://login.staging.posit.cloud",connectCloudURL:"https://staging.connect.posit.cloud"};var Ya={};let hi;Ya.CONNECT_CLOUD_ENV==="staging"?hi={...hv,env:"staging"}:Ya.CONNECT_CLOUD_ENV==="development"?hi={...dv,env:"development"}:hi={...fv,env:"production"};const Ii=hi;Ii.env;`${Ii.connectCloudURL}${Ii.cloudURL}`;`${Ii.connectCloudURL}`;function Ve(e){return e.error!==void 0}var Sd=(e=>(e.HTML="html",e.JUPYTER_NOTEBOOK="jupyter-notebook",e.JUPYTER_VOILA="jupyter-voila",e.PYTHON_BOKEH="python-bokeh",e.PYTHON_DASH="python-dash",e.PYTHON_FASTAPI="python-fastapi",e.PYTHON_FLASK="python-flask",e.PYTHON_SHINY="python-shiny",e.PYTHON_STREAMLIT="python-streamlit",e.PYTHON_GRADIO="python-gradio",e.PYTHON_PANEL="python-panel",e.QUARTO_SHINY="quarto-shiny",e.QUARTO="quarto",e.QUARTO_STATIC="quarto-static",e.R_PLUMBER="r-plumber",e.R_SHINY="r-shiny",e.RMD_SHINY="rmd-shiny",e.RMD="rmd",e.UNKNOWN="unknown",e))(Sd||{}),Ht=(e=>(e.CONNECT="connect",e.CONNECT_CLOUD="connect_cloud",e.SNOWFLAKE="snowflake",e))(Ht||{}),jn=(e=>(e.CONNECT="connect",e.CONNECT_CLOUD="connect_cloud",e))(jn||{}),fl=(e=>(e.CONNECT="Posit Connect",e.CONNECT_CLOUD="Posit Connect Cloud",e))(fl||{});function Ft(e){return!!(e&&e.state==="new")}var fo=(e=>(e.FILE="file",e.BUILT_IN="built-in",e.PERMISSIONS_ERROR="permissions",e))(fo||{}),hl=(e=>(e[e.EditConfiguration=0]="EditConfiguration",e))(hl||{});function pv(e){return Object.values(hl).includes(e)}const pl=[{detectionStr:"editing your configuration",anchorStr:"editing",buttonStr:"Edit Configuration",actionId:0}];function gv(e){return pl.find(t=>typeof e=="string"?e.includes(t.detectionStr):pv(e)?t.actionId===e:!1)}var ae=(e=>(e.DEPLOY="deploy",e.INITIALIZING="initializing",e.EDIT_CONFIGURATION="editConfiguration",e.SHOW_SELECT_CONFIGURATION="showSelectConfiguration",e.NAVIGATE="navigate",e.SAVE_SELECTION_STATE="saveSelectionState",e.VSCODE_OPEN="vsCodeOpen",e.INCLUDE_FILE="includeFile",e.EXCLUDE_FILE="excludeFile",e.REQUEST_FILES_LISTS="requestFilesLists",e.REQUEST_CREDENTIALS="requestCredentials",e.VSCODE_OPEN_RELATIVE="VSCodeOpenRelativeMsg",e.ADD_SECRET="addSecret",e.GET_INTEGRATIONS="getIntegrations",e.ADD_INTEGRATION_REQUEST="addIntegrationRequest",e.DELETE_INTEGRATION_REQUEST="deleteIntegrationRequest",e.CLEAR_ALL_INTEGRATION_REQUESTS="clearAllIntegrationRequests",e.REFRESH_PYTHON_PACKAGES="RefreshPythonPackagesMsg",e.SCAN_PYTHON_PACKAGE_REQUIREMENTS="ScanPythonPackageRequirementsMsg",e.REFRESH_R_PACKAGES="RefreshRPackagesMsg",e.SCAN_R_PACKAGE_REQUIREMENTS="ScanRPackageRequirementsMsg",e.SELECT_DEPLOYMENT="selectDeployment",e.NEW_DEPLOYMENT="newDeployment",e.NEW_CREDENTIAL_FOR_DEPLOYMENT="newCredentialForDeployment",e.NEW_CREDENTIAL="newCredential",e.DELETE_CREDENTIAL="deleteCredential",e.VIEW_PUBLISHING_LOG="viewPublishingLog",e.SHOW_ASSOCIATE_GUID="ShowAssociateGUID",e.UPDATE_SELECTION_CREDENTIAL_STATE="UpdateSelectionCredentialStateMsg",e.UPDATE_SELECTION_IS_PRE_CONTENT_RECORD="UpdateSelectionIsPreContentRecordMsg",e.COPY_SYSTEM_INFO="copySystemInfo",e.RENDER_CONTENT="renderContent",e))(ae||{});const mv=(e,t)=>{let n=t&&Ve(t)||t==null?void 0:t.configuration.title;if(n){let i=((t==null?void 0:t.configurationName)||"").split("-").at(-1);return i=i?` (${i})`:"",n+=i,{title:n,problem:!1}}if(!e.configurationName)return{title:`Unknown Title Due To Missing Config Entry in ${e.saveName}`,problem:!0};if(!t)return{title:`Unknown Title Due to Missing Config ${e.configurationName}`,problem:!0};if(Ve(t))return{title:`Unknown Title  Error in ${t.configurationName}`,problem:!0};let s=t.configurationName;return s||(s=e.configurationName),s?n=`No Title (in ${s})`:n="No Title available",{title:n,problem:!0}};function bv(e,t){let n=e.filter(s=>!Ve(s));return t&&t!==Sd.UNKNOWN&&(n=n.filter(s=>vv(s,t))),n}function vv(e,t){return t===void 0?!1:e.configuration.type===t}var Ie=(e=>(e.INITIALIZING_REQUEST_COMPLETE="initializingRequestComplete",e.REFRESH_CONTENTRECORD_DATA="refreshContentRecordData",e.REFRESH_CONFIG_DATA="refreshConfigData",e.REFRESH_CREDENTIAL_DATA="refreshCredentialData",e.PUBLISH_CANCEL="publishCancel",e.PUBLISH_INIT="publishInit",e.PUBLISH_START="publishStart",e.PUBLISH_FINISH_SUCCESS="publishFinishSuccess",e.PUBLISH_FINISH_FAILURE="publishFinishFailure",e.CONTENT_RENDER_SUCCESS="contentRenderSuccess",e.CONTENT_RENDER_FAILURE="contentRenderFailure",e.UPDATE_CONTENTRECORD_SELECTION="updateContentRecordSelection",e.SAVE_SELECTION="saveSelection",e.REFRESH_FILES="refreshFiles",e.UPDATE_PYTHON_PACKAGES="updatePythonPackages",e.UPDATE_R_PACKAGES="updateRPackages",e.SHOW_DISABLE_OVERLAY="showDisableOverlay",e.HIDE_DISABLE_OVERLAY="hideDisableOverlay",e.SET_PATH_SEPARATOR="setPathSeparator",e.UPDATE_SERVER_ENVIRONMENT="updateServerEnvironment",e.REFRESH_INTEGRATION_REQUESTS="refreshIntegrationRequests",e.REFRESH_SERVER_SETTINGS="refreshServerSettings",e))(Ie||{});function yv(e){return e.kind==="initializingRequestComplete"||e.kind==="refreshContentRecordData"||e.kind==="refreshConfigData"||e.kind==="refreshCredentialData"||e.kind==="publishCancel"||e.kind==="publishInit"||e.kind==="publishStart"||e.kind==="publishFinishSuccess"||e.kind==="publishFinishFailure"||e.kind==="contentRenderSuccess"||e.kind==="contentRenderFailure"||e.kind==="updateContentRecordSelection"||e.kind==="saveSelection"||e.kind==="refreshFiles"||e.kind==="updatePythonPackages"||e.kind==="updateRPackages"||e.kind==="showDisableOverlay"||e.kind==="hideDisableOverlay"||e.kind==="setPathSeparator"||e.kind==="updateServerEnvironment"||e.kind==="refreshIntegrationRequests"||e.kind==="refreshServerSettings"}class Sv{constructor(t,n){Zn(this,"externalMsgCB");Zn(this,"rawMsgCB",t=>{if(this.externalMsgCB){const n=JSON.parse(t.data);if(yv(n))this.externalMsgCB(n);else{console.error(`HostConduit::rawMsgCB, NonConduitMessage Received: ${JSON.stringify(t)}`);return}}});Zn(this,"onMsg",t=>{this.externalMsgCB=t,this.window.addEventListener("message",this.rawMsgCB)});Zn(this,"sendMsg",t=>{const n=JSON.stringify(t);this.vsCodeApi.postMessage(n)});this.window=t,this.vsCodeApi=n}deactivate(){this.window.removeEventListener("message",this.rawMsgCB)}}const Ja=e=>{let t=e;return t.endsWith("/")||(t+="/"),t},cr=e=>{const t=Object.keys(e);return!!(t.length&&t.includes("code")&&t.includes("msg")&&t.includes("operation"))},gl=e=>{if(cr(e)){const t=Object.keys(e);if(t.length&&t.includes("data"))return!0}return!1},wv=e=>gl(e)&&!ws(e)&&!ml(e),ws=e=>gl(e)&&(e.code==="invalidTOML"||e.code==="unknownTOMLKey"),ml=e=>gl(e)&&e.code==="deployedContentNotRunning",Ev=e=>e===Ht.CONNECT_CLOUD,ho=e=>e===jn.CONNECT,Ti=e=>e===jn.CONNECT_CLOUD,$i=e=>{switch(e){case Ht.CONNECT:return jn.CONNECT;case Ht.SNOWFLAKE:return jn.CONNECT;case Ht.CONNECT_CLOUD:return jn.CONNECT_CLOUD}},ue=bu("home",()=>{const e=re("/"),t=re(!1),n=re(!1),s=re(!1),i=re(void 0),r=re(void 0),o=re([]),l=re([]),a=re([]),c=re([]),u=k(()=>c.value.sort((d,h)=>d.name.localeCompare(h.name))),f=re(void 0),g=re(new Set),y=re(new Map),p=re([]),b=k(()=>{const d=new Map,h=P.value;return h===void 0||Ve(h)||Object.entries(h.configuration.environment||{}).forEach(([m,E])=>{d.set(m,E)}),d}),S=k(()=>{const d=[];return y.value.forEach((h,m)=>{b.value.has(m)&&d.push(m)}),d}),O=re(!1),A=re(),P=k(()=>{if(!A.value)return;const{configurationName:d,projectDir:h}=A.value;let m;return m=l.value.find(E=>E.configurationName===d&&E.projectDir===h),m||(m=a.value.find(E=>E.configurationName===d&&E.projectDir===h)),m});Vt([A,P],([d,h],[m])=>{var _;const E=new Map;if(h===void 0||Ve(h)){y.value=E;return}const x=(d==null?void 0:d.saveName)===(m==null?void 0:m.saveName);(_=h.configuration.secrets)==null||_.forEach(N=>{var $;x&&(($=y.value)!=null&&$.has(N))?E.set(N,y.value.get(N)):E.set(N,void 0)}),y.value=E},{immediate:!0});const C=k(()=>c.value.find(d=>{var E,x,_,N;const h=((E=A.value)==null?void 0:E.serverType)||Ht.CONNECT,m=$i(h);if(Ti(m)){const $=d.accountName,I=(_=(x=A.value)==null?void 0:x.connectCloud)==null?void 0:_.accountName;return I?$===I:!1}else if(ho(m)){const $=d.url.toLowerCase(),I=(N=A.value)==null?void 0:N.serverUrl.toLowerCase();return I?Ja($)===Ja(I):!1}return!1})),W=re(),ke=re(),K=re(!1),z=re(),J=re(),H=re(),le=re(!1),ie=re(),oe=re(),M=re(),L=re(),j=re(!1);function q(d){const h=A.value,m=P.value,E=o.value.find(x=>x.deploymentPath===(d==null?void 0:d.deploymentPath));return A.value=E,h===A.value&&m===P.value}function te(d){o.value.push(d),A.value=d}Vt([C],()=>Ye());const Ye=()=>{at().sendMsg({kind:ae.UPDATE_SELECTION_CREDENTIAL_STATE,content:{state:C.value!==void 0?"true":"false"}})};Vt([A],()=>Zt());const Zt=()=>{at().sendMsg({kind:ae.UPDATE_SELECTION_IS_PRE_CONTENT_RECORD,content:{state:Ft(A.value)?"true":"false"}})};Vt([P],()=>Fe());const Fe=()=>{var h;const d=at();if(A.value){const m={deploymentName:A.value.saveName,projectDir:A.value.projectDir,configurationName:(h=P.value)==null?void 0:h.configurationName,deploymentPath:A.value.deploymentPath};d.sendMsg({kind:ae.SAVE_SELECTION_STATE,content:{state:m}})}},Me=(d,h,m,E)=>{K.value=d,z.value=h,J.value=m,H.value=E},Kt=(d,h,m,E,x)=>{le.value=d,ie.value=h,oe.value=m,M.value=E,L.value=x},en=()=>{const d=new Map;y.value.forEach((h,m)=>{d.set(m,void 0)}),y.value=d},kn=k(()=>Array.from(y.value.values()).filter(d=>d!==void 0).length),Ct={active:{isEmptyRequirements:k(()=>K.value&&J.value&&z.value&&z.value.length===0),isMissingRequirements:k(()=>K.value&&!J.value),isAlertActive:k(()=>Ct.active.isEmptyRequirements.value||Ct.active.isMissingRequirements.value),isInProject:k(()=>K.value)}},On={active:{isMissingPackageFile:k(()=>le.value&&!oe.value),isEmptyRequirements:k(()=>!!(le.value&&oe.value&&ie.value&&ie.value.length===0)),isInProject:k(()=>le.value)}},dn={isAvailable:k(()=>!!u.value.length),active:{isMissing:k(()=>mt.active.isCredentialMissing.value),isAlertActive:k(()=>dn.active.isMissing.value)}},Hs=k(()=>{var m;const d=((m=A.value)==null?void 0:m.serverType)||Ht.CONNECT,h=$i(d);return Ti(h)}),fn=k(()=>!mt.active.isAlertActive.value&&(dn.active.isAlertActive.value||Ct.active.isAlertActive.value)),mt={active:{isEntryMissing:k(()=>!!(A.value&&!A.value.configurationName)),isMissing:k(()=>{var d;return!!(A.value&&!P.value&&!mt.active.isInErrorList((d=A.value)==null?void 0:d.configurationName)&&!mt.active.isEntryMissing.value)}),isTOMLError:k(()=>!!(P.value&&Ve(P.value)&&ws(P.value.error))),isUnknownType:k(()=>!!(P.value&&!Ve(P.value)&&P.value.configuration.type==="unknown")),isUnknownError:k(()=>!!(P.value&&Ve(P.value)&&wv(P.value.error))),isInErrorList:d=>d?!!a.value.find(h=>{var m;return h.configurationName===((m=A.value)==null?void 0:m.configurationName)}):!1,isCredentialMissing:k(()=>!!(A.value&&!C.value)),isAlertActive:k(()=>mt.active.isEntryMissing.value||mt.active.isMissing.value||mt.active.isTOMLError.value||mt.active.isUnknownError.value||mt.active.isCredentialMissing.value)}};return{platformFileSeparator:e,showDisabledOverlay:O,publishInProgress:t,publishInitiated:n,contentRenderInProgress:s,contentRenderSuccess:i,contentRenderError:r,contentRecords:o,configurations:l,configurationsInError:a,credentials:c,sortedCredentials:u,serverSettings:f,serverSecrets:g,secrets:y,integrationRequests:p,environment:b,duplicatedEnvironmentVariables:S,selectedContentRecord:A,selectedConfiguration:P,serverCredential:C,isConnectCloud:Hs,initializingRequestComplete:j,lastContentRecordResult:W,lastContentRecordMsg:ke,pythonProject:K,pythonPackages:z,pythonPackageFile:J,pythonPackageManager:H,rProject:le,rPackages:ie,rPackageFile:oe,anyActiveAlerts:fn,updateSelectedContentRecordBySelector:q,updateSelectedContentRecordByObject:te,updateParentViewSelectionState:Fe,updatePythonPackages:Me,updateRPackages:Kt,clearSecretValues:en,secretsWithValueCount:kn,python:Ct,r:On,config:mt,credential:dn}});function wd(e,t,n=new Array,s=0,i){return e.forEach(r=>{const{files:o,...l}=r,a={...l,indent:s,parent:i};n.push(a),r.files.length>0&&t.has(r.id)&&wd(r.files,t,n,s+1,r.id)}),n}const bl=bu("file",()=>{const e=ue(),{sendMsg:t}=at(),n=re(),s=re(new Set),i=k(()=>{var g;return wd(((g=n.value)==null?void 0:g.files)||[],s.value)}),r=k(()=>{var g,y;return((g=e.selectedContentRecord)==null?void 0:g.state)!=="new"?new Set((y=e.selectedContentRecord)==null?void 0:y.files):new Set});function o(){t({kind:ae.REQUEST_FILES_LISTS})}function l({id:g}){t({kind:ae.INCLUDE_FILE,content:{path:g}})}function a({id:g}){t({kind:ae.EXCLUDE_FILE,content:{path:g}})}function c({id:g}){t({kind:ae.VSCODE_OPEN_RELATIVE,content:{relativePath:g}})}function u({id:g}){s.value.add(g)}function f({id:g}){s.value.delete(g)}return{files:n,expandedDirs:s,lastDeployedFiles:r,flatFiles:i,refreshFiles:o,includeFile:l,excludeFile:a,openFile:c,expandDir:u,collapseDir:f}});let Vr;const xv=()=>(Vr||(Vr=acquireVsCodeApi()),Vr);let Dt;const Cv=xv();function at(){return Dt||(Dt=new Sv(window,Cv),ko(()=>Dt&&Dt.onMsg(_v)),Wi(()=>Dt&&Dt.deactivate()),ue().initializingRequestComplete=!1,Dt.sendMsg({kind:ae.INITIALIZING})),{sendMsg:t=>{if(!Dt){console.error(`HostCondiutService::sendMsg attempted ahead of call to useHostConduitService. Message Dropped: ${JSON.stringify(t)}`);return}return console.debug(`HostConduitService - Sending Msg: ${JSON.stringify(t)}`),Dt.sendMsg(t)}}}const _v=e=>{switch(console.debug(`HostConduitService - Receiving Msg: ${JSON.stringify(e)}`),e.kind){case Ie.INITIALIZING_REQUEST_COMPLETE:return kv();case Ie.REFRESH_CONTENTRECORD_DATA:return Iv(e);case Ie.REFRESH_CONFIG_DATA:return Tv(e);case Ie.REFRESH_CREDENTIAL_DATA:return $v(e);case Ie.PUBLISH_CANCEL:return Pv();case Ie.PUBLISH_INIT:return Nv();case Ie.PUBLISH_START:return Dv();case Ie.PUBLISH_FINISH_SUCCESS:return Lv();case Ie.PUBLISH_FINISH_FAILURE:return Fv(e);case Ie.CONTENT_RENDER_SUCCESS:return Mv();case Ie.CONTENT_RENDER_FAILURE:return Bv(e);case Ie.UPDATE_CONTENTRECORD_SELECTION:return Vv(e);case Ie.SAVE_SELECTION:return Uv();case Ie.REFRESH_FILES:return jv(e);case Ie.UPDATE_PYTHON_PACKAGES:return Hv(e);case Ie.UPDATE_R_PACKAGES:return zv(e);case Ie.SHOW_DISABLE_OVERLAY:return Ov();case Ie.HIDE_DISABLE_OVERLAY:return Av();case Ie.SET_PATH_SEPARATOR:return Rv(e);case Ie.UPDATE_SERVER_ENVIRONMENT:return qv(e);case Ie.REFRESH_INTEGRATION_REQUESTS:return Wv(e);case Ie.REFRESH_SERVER_SETTINGS:return Gv(e);default:console.warn(`unexpected command: ${JSON.stringify(e)}`)}},Rv=e=>{ue().platformFileSeparator=e.content.separator},kv=()=>{ue().initializingRequestComplete=!0},Ov=()=>{ue().showDisabledOverlay=!0},Av=()=>{ue().showDisabledOverlay=!1},Iv=e=>{const t=ue();t.contentRecords=e.content.contentRecords;const n=e.content.deploymentSelected;if(n===null){t.selectedContentRecord=void 0;return}if(n===void 0){t.selectedContentRecord&&t.updateSelectedContentRecordBySelector({deploymentPath:t.selectedContentRecord.deploymentPath,deploymentName:t.selectedContentRecord.deploymentName,projectDir:t.selectedContentRecord.projectDir});return}t.updateSelectedContentRecordBySelector(n)},Tv=e=>{const t=ue();t.configurations=e.content.configurations,t.configurationsInError=e.content.configurationsInError},$v=e=>{const t=ue();t.credentials=e.content.credentials},Pv=()=>{const e=ue();e.publishInProgress=!1,e.publishInitiated=!1},Nv=()=>{const e=ue();e.publishInitiated=!1},Dv=()=>{const e=ue();e.publishInProgress=!0},Lv=()=>{const e=ue();e.clearSecretValues(),e.publishInProgress=!1,e.lastContentRecordResult="Last Deployment was Successful",e.lastContentRecordMsg=""},Fv=e=>{const t=ue();t.publishInProgress=!1,t.lastContentRecordResult="Last Deployment Failed",t.lastContentRecordMsg=e.content.data.message},Mv=()=>{const e=ue();e.contentRenderError=void 0,e.contentRenderSuccess=!0,e.contentRenderInProgress=!1},Bv=e=>{const t=ue();t.contentRenderError=e.content.error,t.contentRenderSuccess=!1,t.contentRenderInProgress=!1},Vv=e=>{const t=ue();t.updateSelectedContentRecordByObject(e.content.preContentRecord),e.content.saveSelection&&t.updateParentViewSelectionState()},Uv=()=>{ue().updateParentViewSelectionState()},jv=e=>{var n;const t=bl();e.content.files.abs!==((n=t.files)==null?void 0:n.abs)&&(t.expandedDirs=new Set),t.files=e.content.files},Hv=e=>{ue().updatePythonPackages(e.content.pythonProject,e.content.packages,e.content.file,e.content.manager)},zv=e=>{ue().updateRPackages(e.content.rProject,e.content.packages,e.content.file,e.content.manager,e.content.rVersion)},qv=e=>{const t=ue();t.serverSecrets=new Set(e.content.environment)},Wv=e=>{const t=ue();t.integrationRequests=e.content.integrationRequests},Gv=e=>{const t=ue();t.serverSettings=e.content.serverSettings},Yv={class:"quick-pick-option"},Jv={class:"quick-pick-row"},Qv={class:"quick-pick-label-container"},Xv={class:"quick-pick-label"},Zv={key:0,class:"quick-pick-description"},Kv={class:"quick-pick-row"},ey={key:0,class:"quick-pick-detail"},ty={key:1,class:"quick-pick-detail"},ny=Re({__name:"QuickPickItem",props:{label:{},description:{},details:{},codicon:{}},setup(e){const t=n=>typeof n=="object"&&"icon"in n&&"text"in n;return(n,s)=>(w(),T("div",Yv,[D("div",Jv,[e.codicon?(w(),T("div",{key:0,class:Ne(["quick-pick-icon codicon",e.codicon])},null,2)):Z("",!0),D("div",Qv,[D("span",Xv,me(e.label),1),e.description?(w(),T("span",Zv,me(e.description),1)):Z("",!0)])]),(w(!0),T(de,null,Pt(e.details,i=>(w(),T("div",Kv,[t(i)?(w(),T("div",ey,[D("div",{class:Ne(["quick-pick-icon codicon",i.icon])},null,2),D("span",null,me(i.text),1)])):(w(),T("span",ty,me(i),1))]))),256))]))}}),Qa=et(ny,[["__scopeId","data-v-1ded88e6"]]),sy={class:"monaco-action-bar"},iy=["aria-label"],ry={class:"action-item menu-entry",role:"presentation"},oy=["title","aria-label","onClick","onKeydown"],ly=["data-vscode-context"],ay=["title","aria-label"],cy=Re({__name:"ActionToolbar",props:{title:{},actions:{},contextMenu:{}},setup(e){const t=e,n=re(null),s=r=>{var o,l,a,c;r instanceof PointerEvent?(o=r.target)==null||o.dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0,clientX:r.clientX,clientY:r.clientY})):r instanceof KeyboardEvent&&((c=r.target)==null||c.dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0,clientX:(l=n.value)==null?void 0:l.getBoundingClientRect().x,clientY:(a=n.value)==null?void 0:a.getBoundingClientRect().bottom})))},i=k(()=>{if(t.contextMenu)return JSON.stringify({webviewSection:t.contextMenu,preventDefaultContextMenuItems:!0})});return(r,o)=>(w(),T("div",sy,[D("ul",{class:"actions-container",role:"toolbar","aria-label":`${e.title} actions`},[(w(!0),T(de,null,Pt(e.actions,l=>(w(),T("li",ry,[D("a",{class:Ne(["action-label codicon",l.codicon]),role:"button",title:l.label,"aria-label":l.label,tabindex:"0",onClick:_i(l.fn,["stop"]),onKeydown:Os(l.fn,["enter"])},null,42,oy)]))),256)),e.contextMenu?(w(),T("li",{key:0,ref_key:"contextMenuButton",ref:n,"data-vscode-context":i.value,class:"action-item menu-entry",role:"presentation"},[D("a",{class:"action-label codicon codicon-ellipsis",role:"button",title:`More ${e.title} actions`,"aria-label":`More ${e.title} actions`,tabindex:"0",onClick:_i(s,["stop","prevent"]),onKeydown:Os(s,["enter"])},null,40,ay)],8,ly)):Z("",!0)],8,iy)]))}}),ur=et(cy,[["__scopeId","data-v-86e03dc5"]]),uy=["disabled"],dy=Re({__name:"DeployButton",setup(e){const t=ue(),n=at(),s=k(()=>!!t.selectedContentRecord&&!!t.selectedConfiguration&&!!t.serverCredential),i=k(()=>!s.value||t.publishInProgress||t.publishInitiated||t.contentRenderInProgress),r=()=>{if(!t.selectedContentRecord||!t.selectedConfiguration||!t.serverCredential){console.error("DeployButton::deploy trying to send message with undefined values. Action ignored.");return}t.publishInitiated=!0,t.contentRenderSuccess=void 0,t.contentRenderError=void 0;const o={};t.secrets.forEach((l,a)=>{l&&(o[a]=l)}),n.sendMsg({kind:ae.DEPLOY,content:{deploymentName:t.selectedContentRecord.saveName,configurationName:t.selectedConfiguration.configurationName,credentialName:t.serverCredential.name,projectDir:t.selectedContentRecord.projectDir,secrets:o}})};return(o,l)=>(w(),T("vscode-button",{"data-automation":"deploy-button",disabled:i.value,onClick:r}," Deploy Your Project ",8,uy))}}),fy=["disabled"],hy=Re({__name:"RenderButton",setup(e){const t=ue(),n=at(),s=()=>{t.contentRenderError=void 0,t.contentRenderSuccess=void 0,t.contentRenderInProgress=!0,n.sendMsg({kind:ae.RENDER_CONTENT})};return(i,r)=>(w(),T("vscode-button",{"data-automation":"render-button",disabled:F(t).contentRenderInProgress,onClick:s}," Render Your Project ",8,fy))}}),py={class:"process-in-progress"},gy={class:"flex-grow"},my={class:"process-in-progress__title-block"},by={class:"process-in-progress__title","data-automation":"deployment-progress"},vy={key:0,class:"process-in-progress__log-anchor"},yy={key:1,class:"process-in-progress__render-msg"},Sy=Re({__name:"ProcessProgress",emits:["viewLog"],setup(e,{emit:t}){const n=t,s=ue(),i=k(()=>s.publishInProgress?"Deployment in Progress...":s.contentRenderInProgress?"Rendering Content...":""),r=k(()=>"Quarto is running to generate your content"),o=k(()=>s.publishInProgress||Ft(s.selectedContentRecord)?"homeview-active-contentRecord-more-menu":"homeview-last-contentRecord-more-menu");return(l,a)=>{const c=Ds("ActionToolbar");return w(),T("div",py,[a[1]||(a[1]=D("vscode-progress-ring",{class:"process-in-progress__ring"},null,-1)),D("div",gy,[D("div",my,[D("h4",by,me(i.value),1),F(s).publishInProgress?(w(),ce(c,{key:0,title:"Logs",actions:[],"context-menu":o.value},null,8,["context-menu"])):Z("",!0)]),F(s).publishInProgress?(w(),T("p",vy,[D("a",{class:"webview-link",role:"button",onClick:a[0]||(a[0]=u=>n("viewLog"))}," View Publishing Log ")])):Z("",!0),F(s).contentRenderInProgress?(w(),T("p",yy,me(r.value),1)):Z("",!0)])])}}}),wy=et(Sy,[["__scopeId","data-v-bdffc778"]]);function Xa(e,{includeTime:t}={includeTime:!0}){const n=new Date(`${e}`).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"});if(!t)return n;const s=Ey(e);return`${n} at ${s}`}function Ey(e,{includeSeconds:t}={includeSeconds:!1}){const n={hour:"2-digit",minute:"2-digit"};return t&&(n.second="2-digit"),new Date(`${e}`).toLocaleTimeString("en-US",n)}const xy=Re({__name:"TextStringWithAnchor",props:{message:{},splitOptions:{}},emits:["click"],setup(e,{emit:t}){const n=t,s=e,i=k(()=>gv(s.message)),r=k(()=>{if(i.value!==void 0&&i.value.anchorStr){const l=s.message.split(i.value.anchorStr);if(l.length===2)return l}return["",""]}),o=()=>{i.value&&n("click",i.value.actionId)};return(l,a)=>{var c;return i.value?(w(),T("span",{key:0,class:Ne(l.$attrs.class)},[xe(me(r.value[0])+" ",1),D("a",{class:"webview-link",role:"button",onClick:a[0]||(a[0]=u=>o())},me((c=i.value)==null?void 0:c.anchorStr),1),xe(" "+me(r.value[1]),1)],2)):(w(),T("span",{key:1,class:Ne(l.$attrs.class)},me(e.message),3))}}}),Cy={class:"last-action-summary","data-automation":"deploy-status"},_y={class:"last-action-summary__title"},Ry={key:0},ky={key:1,class:"last-action-summary__error"},Oy={key:2,class:"date-time"},Ay={key:0},Iy={key:1},Ty={key:2,class:"date-time"},$y={key:3,class:"last-action-summary__error"},Py={key:4,class:"view-content-button"},Ny=Re({__name:"ProcessSummary",emits:["associateDeployment","viewContent","errorLinkClick"],setup(e,{emit:t}){const n=t,s=ue(),i=k(()=>{var p;return!!((p=s.selectedContentRecord)!=null&&p.dismissedAt)}),r=k(()=>Ft(s.selectedContentRecord)&&!!s.selectedContentRecord.id),o=k(()=>Ft(s.selectedContentRecord)&&!r.value),l=k(()=>{const p=s.selectedContentRecord;if(!(!p||g.value))return(p==null?void 0:p.dashboardUrl)||!Ft(p)&&p.logsUrl}),a=k(()=>{var b;const p=(b=s.selectedContentRecord)==null?void 0:b.deploymentError;return!!(p&&ml(p))}),c=k(()=>a.value?"View Deployment Logs":"View Content"),u=k(()=>{if(s.contentRenderError)return"Content Render Failed";if(s.contentRenderSuccess)return"Content Render Finished";if(s.selectedContentRecord)return i.value?"Last Deployment Dismissed":s.selectedContentRecord.deploymentError?"Last Deployment Failed":Ft(s.selectedContentRecord)?r.value?"Not Yet Updated":"Not Yet Deployed":"Last Deployment Successful"}),f=k(()=>"Successfully rendered with Quarto"),g=k(()=>s.contentRenderSuccess!==void 0||s.contentRenderError!==void 0),y=k(()=>s.publishInProgress||Ft(s.selectedContentRecord)?"homeview-active-contentRecord-more-menu":"homeview-last-contentRecord-more-menu");return(p,b)=>{var O,A,P;const S=Ds("ActionToolbar");return w(),T(de,null,[D("div",Cy,[D("h4",_y,me(u.value),1),g.value?Z("",!0):(w(),ce(S,{key:0,title:"Logs",actions:[],"context-menu":y.value},null,8,["context-menu"]))]),F(s).contentRenderSuccess?(w(),T("div",Ry,me(f.value),1)):F(s).contentRenderError?(w(),T("div",ky,[b[4]||(b[4]=D("div",{class:"alert-border border-warning text-warning"},[D("span",{class:"codicon codicon-alert"})],-1)),D("div",null,me(F(s).contentRenderError),1)])):F(s).selectedContentRecord&&i.value?(w(),T("div",Oy,me(F(Xa)(F(s).selectedContentRecord.dismissedAt)),1)):(w(),T(de,{key:3},[o.value?(w(),T("div",Ay,[b[5]||(b[5]=xe(" Is this already deployed to a server? You can ",-1)),D("a",{class:"webview-link",role:"button",onClick:b[0]||(b[0]=C=>n("associateDeployment"))},"update that previous deployment"),b[6]||(b[6]=xe(". ",-1))])):Z("",!0),r.value?(w(),T("div",Iy,[D("a",{class:"webview-link",role:"button",onClick:b[1]||(b[1]=C=>n("viewContent"))},"This deployment"),b[7]||(b[7]=xe(" will be updated when deployed. ",-1))])):Z("",!0),F(s).selectedContentRecord&&!F(Ft)(F(s).selectedContentRecord)?(w(),T("div",Ty,me(F(Xa)(F(s).selectedContentRecord.deployedAt)),1)):Z("",!0),(O=F(s).selectedContentRecord)!=null&&O.deploymentError?(w(),T("div",$y,[b[8]||(b[8]=D("div",{class:"alert-border border-warning text-warning"},[D("span",{class:"codicon codicon-alert"})],-1)),he(xy,{message:(P=(A=F(s).selectedContentRecord)==null?void 0:A.deploymentError)==null?void 0:P.msg,splitOptions:F(pl),class:"last-action-summary__error-anchor text-description",onClick:b[2]||(b[2]=C=>n("errorLinkClick",C))},null,8,["message","splitOptions"])])):Z("",!0)],64)),l.value?(w(),T("div",Py,[D("vscode-button",{appearance:"secondary",class:"w-full",onClick:b[3]||(b[3]=C=>n("viewContent"))},me(c.value),1)])):Z("",!0)],64)}}}),Dy=et(Ny,[["__scopeId","data-v-2250e2af"]]),vl=e=>{var t;return uv(e)?((t=e.response)==null?void 0:t.data)&&e.response.data.code:!1},Ly=(e,t)=>e.response.data.code===t,_n=e=>t=>vl(t)&&Ly(t,e),Fy=e=>{const{error:t,data:n}=e.response.data.details;let s=`Unknown publisher agent error: ${t}`;return Object.keys(n).forEach(i=>{s+=`, ${i}=${n[i]}`}),s},My=_n("tomlValidationError"),By=e=>`The Configuration has a schema error: ${e.response.data.details.message}`,Vy=_n("invalidTOML"),Uy=e=>`The Configuration has a schema error on line ${e.response.data.details.line}`,jy=_n("unknownTOMLKey"),Hy=e=>`The Configuration has a schema error on line ${e.response.data.details.line}`,zy=_n("tomlUnknownError"),qy=e=>"The Configuration has a schema error",Wy=_n("pythonExecNotFound"),Gy=e=>"Could not find a Python executable.",Yy=_n("deviceAuthAccessDenied"),Jy="The authorization request was denied.",Qy=_n("deviceAuthExpiredToken"),Xy="Your authorization session has expired.";function Zy(e){return jy(e)?Hy(e):Vy(e)?Uy(e):My(e)?By(e):zy(e)?qy():Wy(e)?Gy():Yy(e)?Jy:Qy(e)?Xy:Fy(e)}const Ky=e=>{var t;if(_e.isAxiosError(e))return(t=e.response)==null?void 0:t.status},eS=e=>{var t;if(_e.isAxiosError(e))return(t=e.response)==null?void 0:t.statusText},tS=e=>{if(_e.isAxiosError(e)||cr(e))return e.code},Ed=e=>{var t;try{if(vl(e))return Zy(e);if(_e.isAxiosError(e))return((t=e.response)==null?void 0:t.data)||e.message;if(cr(e))return e.msg;if(e instanceof Error)return e.message}catch{}return""},nS=e=>{if(_e.isAxiosError(e)&&e.config)return{baseURL:e.config.baseURL,method:e.config.method,url:e.config.url}},sS=(e,t)=>{let n=`Posit Publisher: An error has occurred at ${e}`,s=Ed(t);if(s===""?(s="Unknown Error",n+=`: ${s}, ${JSON.stringify(t)}`):n+=`: ${s}`,cr(t))t.code&&(n+=`, Code=${t.code}`),t.operation&&(n+=`, Operation=${t.operation}`);else if(!vl(t)){const i=iS(t);i?(i.status&&(n+=`, Status=${i.status}`),i.statusText&&(n+=`, StatusText=${i.statusText}`),i.code&&(n+=`, Code=${i.code}`),i.msg&&(n+=`, Msg=${i.msg}`),(i.baseURL||i.method||i.url)&&(n+=`, URL=${i.baseURL}/${i.method}/${i.url}`)):n+=`, Error=${t}`}return console.error(n),s},iS=e=>{const t=Ky(e),n=eS(e),s=tS(e),i=Ed(e),r=nS(e);if(t||n||s||i||r)return{status:t,statusText:n,code:s,msg:i,...r}},rS={key:0,"data-automation":"publisher-deployment-section"},oS={class:"label"},lS={key:1},aS={key:2,"data-automation":"missing-config"},cS={key:3,"data-automation":"edit-config"},uS={key:4},dS={key:5},fS={key:6,"data-automation":"missing-creds"},hS={key:1},pS=Re({__name:"EvenEasierDeploy",setup(e){const t=ue(),n=at(),s=k(()=>{if(!t.selectedConfiguration)return"";const M=Ve(t.selectedConfiguration)?t.selectedConfiguration.error:null;return M?sS("EvenEasierDeploy",M):""}),i=k(()=>{const M=[];return M.push({label:"Add Deployment",codicon:"codicon-add",fn:o}),t.selectedConfiguration&&M.push({label:"Edit Configuration",codicon:"codicon-edit",fn:()=>l(t.selectedConfiguration.configurationPath)}),M}),r=()=>{n.sendMsg({kind:ae.SELECT_DEPLOYMENT})},o=()=>{n.sendMsg({kind:ae.NEW_DEPLOYMENT})},l=(M,L)=>{n.sendMsg({kind:ae.EDIT_CONFIGURATION,content:{configurationPath:M,selection:L}})},a=()=>{n.sendMsg({kind:ae.VIEW_PUBLISHING_LOG})},c=k(()=>{var M;return bv(t.configurations,(M=t.selectedContentRecord)==null?void 0:M.type)}),u=k(()=>c.value.length>0?"even-easier-deploy-more-menu-matching-configs":"even-easier-deploy-more-menu-no-matching-configs"),f=k(()=>c.value.length>0?"Select a Configuration":"Create a Configuration"),g=k(()=>t.selectedContentRecord?mv(t.selectedContentRecord,t.selectedConfiguration).title:""),y=k(()=>{const M=[];return M.push({icon:"codicon-server",text:p.value}),S.value&&M.push({icon:"codicon-file",text:S.value}),M}),p=k(()=>{var j,q,te;if((j=t.serverCredential)!=null&&j.name)return`${t.serverCredential.name}`;const M=((q=t.selectedContentRecord)==null?void 0:q.serverType)||Ht.CONNECT,L=$i(M);return Ti(L)?`Missing Credential for ${fl.CONNECT_CLOUD}`:ho(L)?`Missing Credential for ${(te=t.selectedContentRecord)==null?void 0:te.serverUrl}`:"Missing Credential"}),b=k(()=>{var j;const M=((j=t.selectedContentRecord)==null?void 0:j.serverType)||Ht.CONNECT,L=$i(M);return Ti(L)?"No credential was found for the deployment's account.":ho(L)?"No credential was found for the deployment's server.":""}),S=k(()=>{if(t.selectedConfiguration&&!Ve(t.selectedConfiguration)){const M=t.selectedContentRecord,L=t.selectedConfiguration;if(M){let j="";return M.projectDir!=="."&&(j=`${M.projectDir}${t.platformFileSeparator}`),t.config.active.isUnknownError||(j+=L.configuration.entrypoint),j}}return"ProjectDir and Entrypoint not determined"}),O=()=>{n.sendMsg({kind:ae.SHOW_SELECT_CONFIGURATION})},A=k(()=>t.publishInProgress||t.contentRenderInProgress),P=k(()=>!!(t.selectedConfiguration&&!Ve(t.selectedConfiguration)&&t.selectedConfiguration.configuration.source)),C=k(()=>{var L,j,q,te,Ye;let M="unknown";return t.selectedConfiguration&&!Ve(t.selectedConfiguration)&&t.selectedConfiguration.configuration.entrypoint&&(M=t.selectedConfiguration.configuration.entrypoint),`Deployment Details
- Deployment Record: ${((L=t.selectedContentRecord)==null?void 0:L.saveName)||"<undefined>"}
- Configuration File: ${((j=t.selectedConfiguration)==null?void 0:j.configurationName)||"<undefined>"}
- Credential In Use: ${((q=t.serverCredential)==null?void 0:q.name)||"<undefined>"}
- Project Dir: ${((te=t.selectedContentRecord)==null?void 0:te.projectDir)||"<undefined>"}
- Entrypoint: ${M}
- Server URL: ${((Ye=t.serverCredential)==null?void 0:Ye.url)||"<undefined>"}`}),W=k(()=>{if(t.selectedConfiguration&&Ve(t.selectedConfiguration)&&ws(t.selectedConfiguration.error))return t.selectedConfiguration.error}),ke=k(()=>{const M=W.value;return M&&ws(M)?`on line ${M.data.line}`:""}),K=k(()=>{var L;const M=(L=t.selectedContentRecord)==null?void 0:L.deploymentError;return!!(M&&ml(M))}),z=()=>{const M=W.value;M&&ws(M)&&l(t.selectedConfiguration.configurationPath,{start:{line:M.data.line-1,character:M.data.column-1}}),console.error("EvenEasierDeploy::onEditConfigurationWithTOMLError, error is not expected type. Ignoring.")},J=M=>{const L=pl.find(j=>j.actionId===M);if(!L){console.error("EvenEasierDeploy::onErrorMessageAnchorClick, event does not match options. Ignoring.");return}if(L.actionId===hl.EditConfiguration){l(t.selectedConfiguration.configurationPath);return}},H=M=>{n.sendMsg({kind:ae.NAVIGATE,content:{uriPath:M}})},le=()=>{n.sendMsg({kind:ae.NEW_CREDENTIAL_FOR_DEPLOYMENT})},ie=()=>{n.sendMsg({kind:ae.SHOW_ASSOCIATE_GUID})},oe=()=>{const M=t.selectedContentRecord;M&&(K.value&&!Ft(M)?H(M.logsUrl):M.dashboardUrl&&H(M.dashboardUrl))};return(M,L)=>{var j;return F(t).initializingRequestComplete?(w(),T("div",rS,[D("div",oS,[L[4]||(L[4]=D("span",{class:"text-sm text-sidebar-section-header"},"DEPLOYMENT",-1)),he(ur,{title:"Deployment",actions:i.value,"context-menu":F(t).selectedContentRecord?u.value:void 0},null,8,["actions","context-menu"])]),F(t).selectedContentRecord?(w(),T(de,{key:0},[D("div",zn({class:"deployment-control"},_s({click:r},!0)),[he(Qa,{label:g.value,details:y.value,title:C.value,"data-automation":"entrypoint-label"},null,8,["label","details","title"]),L[5]||(L[5]=D("div",{class:"select-indicator codicon codicon-chevron-right","aria-hidden":"true"},null,-1))],16),F(t).duplicatedEnvironmentVariables.length?(w(),T(de,{key:0},[D("p",null,[F(t).duplicatedEnvironmentVariables.length===1?(w(),T(de,{key:0},[xe(" A variable was set as both a secret and environment variable. It must only be set as one or the other. ")],64)):Z("",!0),F(t).duplicatedEnvironmentVariables.length>1?(w(),T(de,{key:1},[xe(" Variables were set as both secrets and environment variables. They must only be set as one or the other. ")],64)):Z("",!0),D("a",{class:"webview-link",role:"button",onClick:L[0]||(L[0]=q=>l(F(t).selectedConfiguration.configurationPath))},"Edit the Configuration"),L[6]||(L[6]=xe(". ",-1))]),D("p",null,me(F(t).duplicatedEnvironmentVariables.join(", ")),1),L[7]||(L[7]=D("p",null,null,-1))],64)):Z("",!0),F(t).config.active.isEntryMissing?(w(),T("p",lS,[xe(" No Config Entry in Deployment record - "+me((j=F(t).selectedContentRecord)==null?void 0:j.saveName)+". ",1),D("a",{class:"webview-link",role:"button",onClick:O},me(f.value),1),L[8]||(L[8]=xe(". ",-1))])):Z("",!0),F(t).config.active.isMissing?(w(),T("p",aS,[L[9]||(L[9]=xe(" The last Configuration used for this Deployment was not found. ",-1)),D("a",{class:"webview-link",role:"button",onClick:O,"data-automation":"config-button"},me(f.value),1),L[10]||(L[10]=xe(". ",-1))])):Z("",!0),F(t).config.active.isTOMLError?(w(),T("p",cS,[xe(" The selected Configuration has a schema error "+me(ke.value)+". ",1),D("a",{class:"webview-link",role:"button",onClick:L[1]||(L[1]=q=>z()),"data-automation":"edit-config-button"},"Edit the Configuration"),L[11]||(L[11]=xe(". ",-1))])):Z("",!0),F(t).config.active.isUnknownType?(w(),T("p",uS,[L[12]||(L[12]=xe(" Please set the framework you are using, for example ",-1)),L[13]||(L[13]=D("code",null,"type = 'python-shiny'",-1)),L[14]||(L[14]=xe(". ",-1)),D("a",{class:"webview-link",role:"button",onClick:L[2]||(L[2]=q=>l(F(t).selectedConfiguration.configurationPath))},"Edit the Configuration"),L[15]||(L[15]=xe(". ",-1))])):Z("",!0),F(t).config.active.isUnknownError?(w(),T("p",dS,[xe(" The selected Configuration has an error: "+me(s.value)+" ",1),D("a",{class:"webview-link",role:"button",onClick:L[3]||(L[3]=q=>l(F(t).selectedConfiguration.configurationPath))},"Edit the Configuration"),L[16]||(L[16]=xe(". ",-1))])):Z("",!0),F(t).config.active.isCredentialMissing?(w(),T("p",fS,[xe(me(b.value)+" ",1),D("a",{class:"webview-link",role:"button",onClick:le,"data-automation":"creds-button"},"Create a new Credential"),L[17]||(L[17]=xe(". ",-1))])):Z("",!0),P.value?(w(),ce(hy,{key:7,class:"w-full render-btn"})):Z("",!0),he(dy,{class:"w-full"})],64)):(w(),T("div",zn({key:1,class:"deployment-control"},_s({click:r},!0)),[he(Qa,{label:"Select...",details:["(new or existing)"],"data-automation":"select-deployment"}),L[18]||(L[18]=D("div",{class:"select-indicator codicon codicon-chevron-down","aria-hidden":"true"},null,-1))],16)),F(t).selectedContentRecord&&F(t).selectedContentRecord.serverType?(w(),T(de,{key:2},[L[19]||(L[19]=D("vscode-divider",{class:"home-view-divider"},null,-1)),A.value?(w(),ce(wy,{key:0,onViewLog:a})):(w(),ce(Dy,{key:1,onAssociateDeployment:ie,onViewContent:oe,onErrorLinkClick:J}))],64)):Z("",!0)])):(w(),T("div",hS,[...L[20]||(L[20]=[D("div",{class:"progress-container"},[D("div",{class:"progress-desc"},[D("div",null,"Scanning directories...")])],-1)])]))}}}),gS=et(pS,[["__scopeId","data-v-76acf804"]]),mS={class:"count-badge"},bS=Re({__name:"CountBadge",props:{count:{}},setup(e){return(t,n)=>(w(),T("div",mS,me(e.count),1))}}),vS=et(bS,[["__scopeId","data-v-bcab692a"]]),yS=["onKeydown"],SS={class:"title"},wS={key:0,class:"description"},ES={key:1,class:"description"},xS={key:0,class:"actions"},CS={key:1,class:"count"},_S={class:"pane-body"},RS=Re({__name:"TreeSection",props:wn({title:{},description:{},codicon:{},actions:{},count:{}},{expanded:{required:!1,default:!1},expandedModifiers:{}}),emits:["update:expanded"],setup(e){const t=Gi(e,"expanded"),n=()=>{t.value=!t.value};return(s,i)=>(w(),T("div",{class:Ne(["pane",{expanded:t.value}])},[D("div",{class:Ne(["pane-header",{expanded:t.value}]),tabindex:"0",onKeydown:Os(_i(n,["self"]),["enter"])},[D("div",{class:"pane-header-title-container",onClick:n},[D("div",{class:Ne(["twisty-container codicon",t.value?"codicon-chevron-down":"codicon-chevron-right"])},null,2),D("h3",SS,me(e.title),1),s.$slots.description?(w(),T("span",wS,[it(s.$slots,"description",{},void 0,!0)])):e.description?(w(),T("span",ES,me(e.description),1)):Z("",!0),e.codicon&&!t.value?(w(),T("div",{key:2,class:Ne(["tree-section-icon codicon",e.codicon])},null,2)):Z("",!0)]),e.actions?(w(),T("div",xS,[he(ur,{title:e.title,actions:e.actions},null,8,["title","actions"])])):Z("",!0),e.count?(w(),T("div",CS,[he(vS,{count:e.count},null,8,["count"])])):Z("",!0)],42,yS),Ns(D("div",_S,[it(s.$slots,"default",{},void 0,!0)],512),[[Do,t.value]])],2))}}),Rn=et(RS,[["__scopeId","data-v-16f679f1"]]),kS=["checked","disabled"],OS={class:"text"},AS=Re({__name:"CodeCheckbox",props:{checked:{type:Boolean},disabled:{type:Boolean},disableOpacity:{type:Boolean}},emits:["changed"],setup(e,{emit:t}){Lo(i=>({v433e2b66:i.disableOpacity?1:"var(--disabled-opacity)"}));const n=t,s=i=>{const r=i.target.checked;n("changed",r)};return(i,r)=>(w(),T("div",{class:Ne(["vscode-checkbox",{disabled:e.disabled}])},[D("label",null,[D("input",{checked:e.checked,disabled:e.disabled,type:"checkbox",onChange:s},null,40,kS),r[0]||(r[0]=D("span",{class:"icon"},[D("i",{class:"codicon codicon-check icon-checked"}),D("i",{class:"codicon codicon-chrome-minimize icon-indeterminate"})],-1)),D("span",OS,[it(i.$slots,"default",{},void 0,!0)])])],2))}}),IS=et(AS,[["__scopeId","data-v-2c7dbba7"]]),TS=["title"],$S={class:"indent"},PS={class:"indent-guide"},NS={class:"tree-item-title"},DS={key:0,class:"tree-item-description"},LS={key:0,class:"actions"},FS={key:1},MS={class:"tree-item-children"},BS=Re({__name:"TreeItemCheckbox",props:wn({title:{},checked:{type:Boolean},disabled:{type:Boolean},listStyle:{default:"default"},description:{},tooltip:{},alignIconWithTwisty:{type:Boolean},actions:{},indentLevel:{default:1},expandable:{type:Boolean,default:!1},virtualized:{type:Boolean,default:!1},disableOpacity:{type:Boolean,default:!1}},{expanded:{required:!1,default:!1},expandedModifiers:{}}),emits:wn(["check","uncheck","expand","collapse"],["update:expanded"]),setup(e,{emit:t}){Lo(a=>({c46eeea4:a.indentLevel}));const n=Gi(e,"expanded"),s=e,i=Fc(),r=t,o=()=>{n.value=!n.value,r(n.value?"expand":"collapse")},l=k(()=>!!(i.default||s.expandable));return(a,c)=>(w(),T("div",{class:Ne(["tree-item",{"align-icon-with-twisty":e.alignIconWithTwisty,collapsible:l.value,"text-list-emphasized":e.listStyle==="emphasized","text-foreground":e.listStyle==="default","text-list-deemphasized":e.listStyle==="deemphasized"}])},[D("div",{class:Ne(["tree-item-container",e.virtualized?"class-hover":void 0]),title:e.tooltip},[D("div",$S,[(w(!0),T(de,null,Pt(e.indentLevel-1,u=>(w(),T("div",PS))),256))]),D("div",zn({class:["twisty-container text-icon",[{codicon:l.value},e.expandable||a.$slots.default?n.value?"codicon-chevron-down":"codicon-chevron-right":void 0]]},_s({click:l.value?o:void 0},!0)),null,16),he(IS,{checked:e.checked,disabled:e.disabled,"disable-opacity":e.disableOpacity,class:"tree-item-checkbox",onChanged:c[0]||(c[0]=u=>e.checked?a.$emit("uncheck"):a.$emit("check"))},{default:Oe(()=>[D("span",NS,me(e.title),1),e.description?(w(),T("span",DS,me(e.description),1)):Z("",!0)]),_:1},8,["checked","disabled","disable-opacity"]),e.actions?(w(),T("div",LS,[he(ur,{title:e.title,actions:e.actions},null,8,["title","actions"])])):Z("",!0),a.$slots.postDecor?(w(),T("div",FS,[it(a.$slots,"postDecor",{},void 0,!0)])):Z("",!0)],10,TS),Ns(D("div",MS,[it(a.$slots,"default",{indentLevel:e.indentLevel+1},void 0,!0)],512),[[Do,l.value&&n.value]])],2))}}),VS=et(BS,[["__scopeId","data-v-2785950f"]]);function US(e,{isEntrypoint:t=!1,isPackageFile:n=!1}={}){var i,r;let s=`${e.rel} will be included in the next deployment.`;return e.reason&&(s+=`
The configuration file ${(i=e.reason)==null?void 0:i.fileName} is including it with the pattern '${(r=e.reason)==null?void 0:r.pattern}'`),t&&(s+=`
${e.rel} is the entrypoint. Entrypoints must be included in the configuration 'files' list.`),n&&(s+=`
${e.rel} is a package file. Package files must be included in the configuration 'files' list.`),s}function jS(e){var n,s;let t=`${e.rel} will be excluded in the next deployment.`;return e.reason?e.reason.source===fo.BUILT_IN?t+=`
This is a built-in exclusion for the pattern: '${e.reason.pattern}' and cannot be overridden.`:e.reason.source===fo.PERMISSIONS_ERROR?t+=`
You don't have permission to access this directory.`:t+=`
The configuration file ${(n=e.reason)==null?void 0:n.fileName} is excluding it with the pattern '${(s=e.reason)==null?void 0:s.pattern}'`:t+=`
It did not match any pattern in the configuration 'files' list.`,t}const HS=Re({__name:"ProjectFile",props:{file:{}},setup(e){const t=e,n=ue(),s=bl(),i=k(()=>{var O;const S=(O=t.file.reason)==null?void 0:O.source;return c.value&&r.value||u.value&&r.value||S==="built-in"||S==="permissions"}),r=k(()=>{var S;return((S=t.file.reason)==null?void 0:S.exclude)===!1}),o=k(()=>s.lastDeployedFiles.has(t.file.id)),l=k(()=>t.file.isFile&&r.value&&!o.value),a=k(()=>t.file.isFile&&!r.value&&o.value),c=k(()=>{const S=n.selectedConfiguration;return S!=null&&!Ve(S)?t.file.id===S.configuration.entrypoint:!1}),u=k(()=>f.value||g.value),f=k(()=>{var O;const S=n.selectedConfiguration;return S!=null&&!Ve(S)?t.file.id===((O=S.configuration.python)==null?void 0:O.packageFile):!1}),g=k(()=>{var O;const S=n.selectedConfiguration;return S!=null&&!Ve(S)?t.file.id===((O=S.configuration.r)==null?void 0:O.packageFile):!1}),y=k(()=>c.value?"emphasized":r.value?"default":"deemphasized"),p=k(()=>r.value?US(t.file,{isEntrypoint:c.value,isPackageFile:u.value}):jS(t.file)),b=k(()=>{let S=[];return t.file.isFile&&S.push({label:"Open file",codicon:"codicon-link-external",fn:()=>{s.openFile(t.file)}}),S});return(S,O)=>{const A=Ds("PostDecor");return w(),ce(VS,{title:e.file.base,checked:r.value,disabled:i.value,"list-style":y.value,"disable-opacity":c.value||u.value,"indent-level":e.file.indent+1,expandable:e.file.isDir,tooltip:p.value,actions:b.value,virtualized:!0,onCheck:O[0]||(O[0]=P=>F(s).includeFile(e.file)),onUncheck:O[1]||(O[1]=P=>F(s).excludeFile(e.file)),onExpand:O[2]||(O[2]=P=>F(s).expandDir(e.file)),onCollapse:O[3]||(O[3]=P=>F(s).collapseDir(e.file))},{postDecor:Oe(()=>[l.value?(w(),ce(A,{key:0,class:"text-git-added","data-automation":`${e.file.id}-decorator`},{default:Oe(()=>[...O[4]||(O[4]=[xe(" A ",-1)])]),_:1},8,["data-automation"])):Z("",!0),a.value?(w(),ce(A,{key:1,class:"text-git-deleted"},{default:Oe(()=>[...O[5]||(O[5]=[xe("R",-1)])]),_:1})):Z("",!0)]),_:1},8,["title","checked","disabled","list-style","disable-opacity","indent-level","expandable","tooltip","actions"])}}}),zS={key:1},qS=Re({__name:"ProjectFiles",setup(e){const t=bl();return(n,s)=>{const i=Ds("RecycleScroller");return w(),ce(Rn,{"data-automation":"project-files",title:"Project Files",actions:[{label:"Refresh Project Files",codicon:"codicon-refresh",fn:()=>F(t).refreshFiles}]},{default:Oe(()=>[F(t).flatFiles.length?(w(),ce(i,{key:0,class:"scroller",items:F(t).flatFiles,"item-size":22},{default:Oe(({item:r})=>[he(HS,{file:r},null,8,["file"])]),_:1},8,["items"])):(w(),T("p",zS,"No files found"))]),_:1},8,["actions"])}}}),WS=et(qS,[["__scopeId","data-v-b0723544"]]),GS={},YS={class:"welcome-view"};function JS(e,t){return w(),T("div",YS,[it(e.$slots,"default")])}const Wn=et(GS,[["render",JS]]),QS=["title"],XS={class:"indent"},ZS={class:"indent-guide"},KS={class:"tree-item-label-container"},ew={class:"tree-item-title","data-automation":"req"},tw={key:0,class:"tree-item-description"},nw={key:1,class:"tree-item-description"},sw={key:2,class:"actions"},iw={key:3},rw={class:"tree-item-children"},ow=Re({__name:"TreeItem",props:wn({title:{},listStyle:{default:"default"},description:{},tooltip:{},alignIconWithTwisty:{type:Boolean},codicon:{},positIcon:{},actions:{},indentLevel:{default:1},expandable:{type:Boolean,default:!1},virtualized:{type:Boolean,default:!1}},{expanded:{required:!1,default:!1},expandedModifiers:{}}),emits:wn(["expand","collapse"],["update:expanded"]),setup(e,{emit:t}){Lo(a=>({v438fa41e:a.indentLevel}));const n=Gi(e,"expanded"),s=e,i=Fc(),r=t,o=()=>{n.value=!n.value,r(n.value?"expand":"collapse")},l=k(()=>!!(i.default||s.expandable));return(a,c)=>(w(),T("div",{class:Ne(["tree-item",{"align-icon-with-twisty":e.alignIconWithTwisty,collapsible:l.value,"text-list-emphasized":e.listStyle==="emphasized","text-foreground":e.listStyle==="default","text-list-deemphasized":e.listStyle==="deemphasized"}])},[D("div",zn({class:["tree-item-container",e.virtualized?"class-hover":void 0],title:e.tooltip},_s({click:l.value?o:void 0},!0)),[D("div",XS,[(w(!0),T(de,null,Pt(e.indentLevel-1,u=>(w(),T("div",ZS))),256))]),D("div",{class:Ne(["twisty-container text-icon",[{codicon:l.value},e.expandable||a.$slots.default?n.value?"codicon-chevron-down":"codicon-chevron-right":void 0]])},null,2),e.codicon?(w(),T("i",{key:0,class:Ne(["tree-item-icon text-icon codicon",e.codicon])},null,2)):Z("",!0),e.positIcon?(w(),T("i",{key:1,class:Ne(["tree-item-icon text-icon",e.positIcon])},null,2)):Z("",!0),D("div",KS,[D("span",ew,me(e.title),1),a.$slots.description?(w(),T("span",tw,[it(a.$slots,"description",{},void 0,!0)])):e.description?(w(),T("span",nw,me(e.description),1)):Z("",!0)]),e.actions?(w(),T("div",sw,[he(ur,{title:e.title,actions:e.actions},null,8,["title","actions"])])):Z("",!0),a.$slots.postDecor?(w(),T("div",iw,[it(a.$slots,"postDecor",{},void 0,!0)])):Z("",!0)],16,QS),Ns(D("div",rw,[it(a.$slots,"default",{indentLevel:e.indentLevel+1},void 0,!0)],512),[[Do,l.value&&n.value]])],2))}}),on=et(ow,[["__scopeId","data-v-67008a82"]]),lw=["aria-label"],aw=Re({__name:"SidebarInput",props:wn({label:{}},{modelValue:{},modelModifiers:{}}),emits:wn(["submit","cancel"],["update:modelValue"]),setup(e,{expose:t}){const n=Gi(e,"modelValue"),s=e,i=re(null),r=k(()=>`${s.label}. Press Enter to confirm or Escape to cancel.`);return t({select:()=>{var l;(l=i.value)==null||l.select()}}),(l,a)=>Ns((w(),T("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),ref_key:"input",ref:i,class:"sidebar-input","aria-label":r.value,onKeydown:[a[1]||(a[1]=Os(_i(c=>l.$emit("submit"),["prevent"]),["enter"])),a[2]||(a[2]=Os(c=>l.$emit("cancel"),["escape"]))]},null,40,lw)),[[Hh,n.value]])}}),cw=et(aw,[["__scopeId","data-v-54352c6e"]]),uw=Re({__name:"Secret",props:{name:{}},setup(e){const t=e,n=re(null),s=re(!1),i=re(),r=ue(),o=k(()=>r.secrets.get(t.name)),l=k(()=>r.serverSecrets.has(t.name)),a=k(()=>!o.value&&!l.value),c=()=>{i.value=o.value,s.value=!0,Ps(()=>{var p;return(p=n.value)==null?void 0:p.select()})},u=()=>{r.secrets.set(t.name,i.value),s.value=!1},f=k(()=>l.value?o.value?"On the next deploy the secret will be overwritten with the new value.":"The value is set on the server. Set a new value to overwrite it on the next deploy.":o.value?"On the next deploy the secret will be set.":"The secret will not be created on the next deploy without a value. Set a value to set it."),g=k(()=>{if(s.value)return[];const p=[{label:"Edit Value",codicon:"codicon-symbol-string",fn:c}];return o.value&&p.push({label:"Clear Value",codicon:"codicon-remove",fn:()=>{r.secrets.set(t.name,void 0)}}),p}),y=k(()=>JSON.stringify({name:t.name,webviewSection:"secrets-tree-item",preventDefaultContextMenuItems:!0}));return(p,b)=>(w(),ce(on,{title:e.name,actions:g.value,codicon:a.value?"codicon-warning":o.value?"codicon-cloud-upload":"codicon-check","list-style":a.value||o.value||s.value?"default":"deemphasized",tooltip:f.value,"align-icon-with-twisty":"","data-vscode-context":y.value},{description:Oe(()=>[s.value?(w(),ce(cw,{key:0,ref_key:"input",ref:n,modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=S=>i.value=S),class:"w-full",label:"Type secret value",onSubmit:u,onCancel:b[1]||(b[1]=S=>s.value=!1)},null,8,["modelValue"])):a.value?Z("",!0):(w(),T(de,{key:1},[xe("")],64))]),_:1},8,["title","actions","codicon","list-style","tooltip","data-vscode-context"]))}}),dw=Re({__name:"Secrets",setup(e){const t=ue(),{sendMsg:n}=at(),s=k(()=>{const i=[{label:"Add Secret",codicon:"codicon-add",fn:()=>{n({kind:ae.ADD_SECRET})}}];return t.secretsWithValueCount>0&&i.push({label:"Clear Values for all Secrets",codicon:"codicon-clear-all",fn:()=>{t.secrets.forEach((r,o)=>{t.secrets.set(o,void 0)})}}),i});return(i,r)=>(w(),ce(Rn,{title:"Secrets",actions:s.value,count:F(t).secretsWithValueCount},{default:Oe(()=>[F(t).secrets.size?(w(!0),T(de,{key:0},Pt(F(t).secrets,([o])=>(w(),ce(uw,{name:o,key:o},null,8,["name"]))),128)):(w(),ce(Wn,{key:1},{default:Oe(()=>[...r[0]||(r[0]=[D("p",null,"No secrets have been added to the configuration.",-1)])]),_:1}))]),_:1},8,["actions","count"]))}}),fw=Re({__name:"IntegrationRequests",setup(e){const{sendMsg:t}=at(),n=ue(),s=k(()=>{var a,c,u;const o=((c=(a=n.serverSettings)==null?void 0:a.license)==null?void 0:c["oauth-integrations"])??!1,l=((u=n.serverSettings)==null?void 0:u.oauth_integrations_enabled)??!1;return o&&l}),i=k(()=>{if(!s.value)return[];const o=[{label:"Add Integration Request",codicon:"codicon-add",fn:()=>{t({kind:ae.ADD_INTEGRATION_REQUEST})}}];return n.integrationRequests.length>0&&o.push({label:"Clear all Integration Requests",codicon:"codicon-clear-all",fn:()=>{t({kind:ae.CLEAR_ALL_INTEGRATION_REQUESTS})}}),o}),r=o=>[{label:"Delete Integration Request",codicon:"codicon-trash",fn:()=>t({kind:ae.DELETE_INTEGRATION_REQUEST,content:{request:o}})}];return(o,l)=>(w(),ce(Rn,{title:"Integration Requests","data-automation":"publisher-integrationRequests-section",actions:i.value},{default:Oe(()=>[F(n).serverSettings!==void 0&&!s.value?(w(),ce(Wn,{key:0},{default:Oe(()=>[...l[0]||(l[0]=[D("p",null," OAuth Integrations are not supported with your current server configuration or license. Please contact your server administrator for more information. ",-1)])]),_:1})):F(n).integrationRequests.length?(w(!0),T(de,{key:2},Pt(F(n).integrationRequests,a=>(w(),ce(on,{title:a.displayName??"",description:a.displayDescription??"","data-automation":`integration-request-${a.name||""}-list`,codicon:"posit-publisher-icons-posit-logo",actions:r(a),"align-icon-with-twisty":""},null,8,["title","description","data-automation","actions"]))),256)):(w(),ce(Wn,{key:1},{default:Oe(()=>[...l[1]||(l[1]=[D("p",null,"No integration requests have been added yet.",-1)])]),_:1}))]),_:1},8,["actions"]))}}),hw={key:1},pw=Re({__name:"PythonPackages",setup(e){const t=ue(),n=at(),s=()=>{n.sendMsg({kind:ae.REFRESH_PYTHON_PACKAGES})},i=()=>{n.sendMsg({kind:ae.SCAN_PYTHON_PACKAGE_REQUIREMENTS})},r=()=>{t.pythonPackageFile&&n.sendMsg({kind:ae.VSCODE_OPEN_RELATIVE,content:{relativePath:t.pythonPackageFile}})},o=k(()=>{const a=[];return t.pythonPackageFile&&a.push({label:"Edit Package Requirements File",codicon:"codicon-edit",fn:r}),a.push({label:"Refresh Packages",codicon:"codicon-refresh",fn:s}),t.pythonPackageFile&&a.push({label:"Scan For Package Requirements",codicon:"codicon-eye",fn:i}),a}),l=k(()=>!t.python.active.isInProject||t.python.active.isEmptyRequirements||t.python.active.isMissingRequirements);return(a,c)=>(w(),ce(Rn,{title:"Python Packages","data-automation":"python-packages",actions:o.value,codicon:F(t).python.active.isAlertActive?"codicon-alert":""},{default:Oe(()=>[l.value?(w(),ce(Wn,{key:0},{default:Oe(()=>[F(t).python.active.isMissingRequirements?(w(),T(de,{key:0},[c[2]||(c[2]=D("p",null," To deploy Python content, you need a package file listing any package dependencies, but the file does not exist. Click Scan to create one based on the files in your project and your configuration. ",-1)),D("vscode-button",{onClick:c[0]||(c[0]=u=>i())}," Scan ")],64)):F(t).python.active.isInProject?F(t).python.active.isEmptyRequirements?(w(),T(de,{key:2},[c[3]||(c[3]=D("p",null," This project currently has no Python package requirements. If this is not accurate, click Scan to update based on the files in your project and configuration. ",-1)),D("vscode-button",{onClick:c[1]||(c[1]=u=>i())}," Scan ")],64)):Z("",!0):(w(),T("p",hw," This project is not configured to use Python. To configure Python, add a [python] section to your configuration file. "))]),_:1})):(w(!0),T(de,{key:1},Pt(F(t).pythonPackages,u=>(w(),ce(on,{key:u,title:u,codicon:"codicon-package","align-icon-with-twisty":""},null,8,["title"]))),128))]),_:1},8,["actions","codicon"]))}}),gw=["disabled"],mw={key:1,"data-automation":"r-not-configured"},bw=Re({__name:"RPackages",setup(e){const t=ue(),n=at(),s=re(!1),i=()=>{n.sendMsg({kind:ae.REFRESH_R_PACKAGES})},r=()=>{s.value=!0,n.sendMsg({kind:ae.SCAN_R_PACKAGE_REQUIREMENTS})},o=()=>{t.rPackageFile&&n.sendMsg({kind:ae.VSCODE_OPEN_RELATIVE,content:{relativePath:t.rPackageFile}})},l=()=>{n.sendMsg({kind:ae.NAVIGATE,content:{uriPath:"https://rstudio.github.io/renv/articles/renv.html"}})},a=k(()=>{const f=[];return t.rPackageFile&&f.push({label:"Edit Package Requirements File",codicon:"codicon-edit",fn:o}),f.push({label:"Refresh Packages",codicon:"codicon-refresh",fn:i}),f}),c=k(()=>!t.r.active.isInProject||t.r.active.isEmptyRequirements||t.r.active.isMissingPackageFile);k(()=>{var f;if(t.selectedConfiguration&&!Ve(t.selectedConfiguration))return((f=t.selectedConfiguration.configuration.r)==null?void 0:f.packageFile)||"renv.lock"});const u=k(()=>t.r.active.isMissingPackageFile||t.r.active.isEmptyRequirements);return(f,g)=>(w(),ce(Rn,{title:"R Packages","data-automation":"r-packages",actions:a.value},{default:Oe(()=>[c.value?(w(),ce(Wn,{key:0},{default:Oe(()=>[u.value?(w(),T(de,{key:0},[g[2]||(g[2]=D("p",null,"Dependencies will be detected automatically.",-1)),D("p",null,[g[1]||(g[1]=xe(" Alternatively, set up renv to use an isolated library and create a lockfile. ",-1)),D("a",{class:"webview-link",role:"button",onClick:l},"See the renv documentation for more details.")]),D("vscode-button",{onClick:g[0]||(g[0]=y=>r()),disabled:s.value,"aria-label":"Set Up renv"}," Set Up renv ",8,gw)],64)):Z("",!0),F(t).r.active.isInProject?Z("",!0):(w(),T("p",mw," This project is not configured to use R. To configure R, add an [r] section to your configuration file. "))]),_:1})):(w(!0),T(de,{key:1},Pt(F(t).rPackages,y=>(w(),ce(on,{key:y.package,title:y.package,description:y.version,tooltip:y.source+": "+y.repository,codicon:"codicon-package","align-icon-with-twisty":""},null,8,["title","description","tooltip"]))),128))]),_:1},8,["actions"]))}}),vw=Re({__name:"Credentials",setup(e){const t=ue(),{sendMsg:n}=at(),s=k(()=>[{label:"New Credential",codicon:"codicon-add",fn:()=>{n({kind:ae.NEW_CREDENTIAL})}},{label:"Refresh Credentials",codicon:"codicon-refresh",fn:()=>{n({kind:ae.REQUEST_CREDENTIALS})}}]),i=r=>Ev(r.serverType)?fl.CONNECT_CLOUD:r.url;return(r,o)=>(w(),ce(Rn,{title:"Credentials","data-automation":"publisher-credentials-section",actions:s.value,codicon:F(t).credential.active.isAlertActive?"codicon-alert":""},{default:Oe(()=>[F(t).credential.isAvailable?(w(!0),T(de,{key:1},Pt(F(t).sortedCredentials,l=>(w(),ce(on,{title:l.name,description:i(l),"data-automation":`${l.name}-list`,codicon:"posit-publisher-icons-posit-logo",actions:[{label:"Delete Credential",codicon:"codicon-trash",fn:()=>F(n)({kind:F(ae).DELETE_CREDENTIAL,content:{credentialGUID:l.guid,credentialName:l.name}})}],"align-icon-with-twisty":""},null,8,["title","description","data-automation","actions"]))),256)):(w(),ce(Wn,{key:0},{default:Oe(()=>[...o[0]||(o[0]=[D("p",null,"No credentials have been added yet.",-1)])]),_:1}))]),_:1},8,["actions","codicon"]))}}),yw=Re({__name:"HelpAndFeedback",setup(e){const t=at();return(n,s)=>(w(),ce(Rn,{title:"Help and Feedback","data-automation":"publisher-help-section"},{default:Oe(()=>[he(on,{title:"Get Started with Posit Publisher",tooltip:"Open Getting Started Documentation","align-icon-with-twisty":"",onClick:s[0]||(s[0]=i=>F(t).sendMsg({kind:F(ae).NAVIGATE,content:{uriPath:"https://github.com/posit-dev/publisher/blob/main/docs/index.md"}}))}),he(on,{title:"Provide Feedback",tooltip:"Open GitHub Discussions","align-icon-with-twisty":"",onClick:s[1]||(s[1]=i=>F(t).sendMsg({kind:F(ae).NAVIGATE,content:{uriPath:"https://github.com/posit-dev/publisher/discussions"}}))}),he(on,{title:"Copy System Info",tooltip:"Copy system information to clipboard including extension version and IDE details","align-icon-with-twisty":"",onClick:s[2]||(s[2]=i=>F(t).sendMsg({kind:F(ae).COPY_SYSTEM_INFO}))})]),_:1}))}}),Sw=Re({__name:"App",setup(e){at();const t=ue(),n=re(!0);return(s,i)=>(w(),T("main",null,[he(Nm,{activateOverlay:F(t).showDisabledOverlay},{default:Oe(()=>[he(gS,{class:"easy-deploy-container"}),F(t).selectedConfiguration&&!F(Ve)(F(t).selectedConfiguration)?(w(),T(de,{key:0},[he(WS,{expanded:n.value,"onUpdate:expanded":i[0]||(i[0]=r=>n.value=r)},null,8,["expanded"]),he(dw),F(t).isConnectCloud?Z("",!0):(w(),ce(fw,{key:0})),he(pw),he(bw)],64)):Z("",!0),he(vw),he(yw)]),_:1},8,["activateOverlay"])]))}}),ww=et(Sw,[["__scopeId","data-v-48403f0e"]]);Qg().register(vm(),Cm(),km(),Im(),wm());const Ew=_p(),yl=Jh(ww);yl.use(Ew);yl.component("RecycleScroller",Fo);yl.mount("#app");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9AdnVlL3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnVlL3JlYWN0aXZpdHkvZGlzdC9yZWFjdGl2aXR5LmVzbS1idW5kbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy92dWUtcmVzaXplL2Rpc3QvdnVlLXJlc2l6ZS5lc20uanMiLCIuLi9ub2RlX21vZHVsZXMvdnVlLW9ic2VydmUtdmlzaWJpbGl0eS9kaXN0L3Z1ZS1vYnNlcnZlLXZpc2liaWxpdHkuZXNtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3Z1ZS12aXJ0dWFsLXNjcm9sbGVyL2Rpc3QvdnVlLXZpcnR1YWwtc2Nyb2xsZXIuZXNtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3BpbmlhL2Rpc3QvcGluaWEubWpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3BsYXRmb3JtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL2RvbS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9ub3RpZmllci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvaHRtbC1kaXJlY3RpdmUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy9iaW5kaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvY29tcGlsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy92aWV3LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvdGVtcGxhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vc3R5bGVzL2VsZW1lbnQtc3R5bGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL2NvbXBvbmVudHMvYXR0cmlidXRlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS9jb21wb25lbnRzL2Zhc3QtZGVmaW5pdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vY29tcG9uZW50cy9jb250cm9sbGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL2NvbXBvbmVudHMvZmFzdC1lbGVtZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3N0eWxlcy9jc3MtZGlyZWN0aXZlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3N0eWxlcy9jc3MuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy9yZWYuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vaW50ZXJmYWNlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZWxlbWVudC9kaXN0L2VzbS90ZW1wbGF0aW5nL3doZW4uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQvZGlzdC9lc20vdGVtcGxhdGluZy9ub2RlLW9ic2VydmF0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50L2Rpc3QvZXNtL3RlbXBsYXRpbmcvc2xvdHRlZC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9wYXR0ZXJucy9zdGFydC1lbmQuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kaS9kaS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kZXNpZ24tc3lzdGVtL2NvbXBvbmVudC1wcmVzZW50YXRpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vZm91bmRhdGlvbi1lbGVtZW50L2ZvdW5kYXRpb24tZWxlbWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS91dGlsaXRpZXMvYXBwbHktbWl4aW5zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3QvYXJpYS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllcy9kaXN0L2FycmF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2V4ZW52LWVzNi9kaXN0L2Nhbi11c2UtZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3QvZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3Qva2V5LWNvZGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzL2Rpc3QvbnVtYmVycy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllcy9kaXN0L3N0cmluZ3MuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vcGF0dGVybnMvYXJpYS1nbG9iYWwuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vYnV0dG9uL2J1dHRvbi50ZW1wbGF0ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9mb3JtLWFzc29jaWF0ZWQvZm9ybS1hc3NvY2lhdGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2J1dHRvbi9idXR0b24uZm9ybS1hc3NvY2lhdGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2J1dHRvbi9idXR0b24uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vbGlzdGJveC1vcHRpb24vbGlzdGJveC1vcHRpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vbGlzdGJveC9saXN0Ym94LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3NlbGVjdC9zZWxlY3Qub3B0aW9ucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS91dGlsaXRpZXMvY29tcG9zZWQtcGFyZW50LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3V0aWxpdGllcy9jb21wb3NlZC1jb250YWlucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kZXNpZ24tdG9rZW4vY3VzdG9tLXByb3BlcnR5LW1hbmFnZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vZGVzaWduLXRva2VuL2Rlc2lnbi10b2tlbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9kZXNpZ24tc3lzdGVtL2Rlc2lnbi1zeXN0ZW0uanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vZGl2aWRlci9kaXZpZGVyLnRlbXBsYXRlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2RpdmlkZXIvZGl2aWRlci5vcHRpb25zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL2RpdmlkZXIvZGl2aWRlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9saXN0Ym94LW9wdGlvbi9saXN0Ym94LW9wdGlvbi50ZW1wbGF0ZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9saXN0Ym94L2xpc3Rib3guZWxlbWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9wcm9ncmVzcy1yaW5nL3Byb2dyZXNzLXJpbmcudGVtcGxhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vcHJvZ3Jlc3MvYmFzZS1wcm9ncmVzcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9zZWxlY3Qvc2VsZWN0LmZvcm0tYXNzb2NpYXRlZC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbi9kaXN0L2VzbS9zZWxlY3Qvc2VsZWN0LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3NlbGVjdC9zZWxlY3QudGVtcGxhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24vZGlzdC9lc20vdXRpbGl0aWVzL3N0eWxlL2Rpc2FibGVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3V0aWxpdGllcy9zdHlsZS9kaXNwbGF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uL2Rpc3QvZXNtL3V0aWxpdGllcy9zdHlsZS9mb2N1cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L3ZzY29kZS1kZXNpZ24tc3lzdGVtLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2c2NvZGUvd2Vidmlldy11aS10b29sa2l0L2Rpc3QvdXRpbGl0aWVzL3RoZW1lL2FwcGx5VGhlbWUuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC91dGlsaXRpZXMvZGVzaWduLXRva2Vucy9jcmVhdGUuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9kZXNpZ24tdG9rZW5zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9idXR0b24vYnV0dG9uLnN0eWxlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L2J1dHRvbi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L2RpdmlkZXIvZGl2aWRlci5zdHlsZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9kaXZpZGVyL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2c2NvZGUvd2Vidmlldy11aS10b29sa2l0L2Rpc3QvZHJvcGRvd24vZHJvcGRvd24uc3R5bGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B2c2NvZGUvd2Vidmlldy11aS10b29sa2l0L2Rpc3QvZHJvcGRvd24vaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9vcHRpb24vb3B0aW9uLnN0eWxlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L29wdGlvbi9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9AdnNjb2RlL3dlYnZpZXctdWktdG9vbGtpdC9kaXN0L3Byb2dyZXNzLXJpbmcvcHJvZ3Jlc3MtcmluZy5zdHlsZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvQHZzY29kZS93ZWJ2aWV3LXVpLXRvb2xraXQvZGlzdC9wcm9ncmVzcy1yaW5nL2luZGV4LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvT3ZlcmxheWFibGVWaWV3LnZ1ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0Vycm9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL251bGwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzL3RyYW5zaXRpb25hbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Zvcm1EYXRhLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvQmxvYi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vY29tbW9uL3V0aWxzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b1VSTEVuY29kZWRGb3JtLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NIZWFkZXJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3BlZWRvbWV0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdGhyb3R0bGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9idWlsZEZ1bGxQYXRoLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21wb3NlU2lnbmFscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90cmFja1N0cmVhbS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMvZmV0Y2guanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvY29uZmlnL2RldmVsb3BtZW50LnRzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy9wcm9kdWN0aW9uLnRzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy9zdGFnaW5nLnRzIiwiLi4vLi4vLi4vc3JjL2NvbmZpZy9pbmRleC50cyIsIi4uLy4uLy4uL3NyYy9jb25zdGFudHMudHMiLCIuLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2NvbmZpZ3VyYXRpb25zLnRzIiwiLi4vLi4vLi4vc3JjL2FwaS90eXBlcy9jb250ZW50UmVjb3Jkcy50cyIsIi4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZmlsZXMudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvZXJyb3JFbmhhbmNlci50cyIsIi4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXMudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvdGl0bGVzLnRzIiwiLi4vLi4vLi4vc3JjL3V0aWxzL2ZpbHRlcnMudHMiLCIuLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvaG9zdFRvV2Vidmlld01lc3NhZ2VzLnRzIiwiLi4vc3JjL3V0aWxzL2hvc3RDb25kdWl0LnRzIiwiLi4vLi4vLi4vc3JjL3V0aWxzL3VybC50cyIsIi4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZXJyb3IudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvbXVsdGlTdGVwSGVscGVycy50cyIsIi4uL3NyYy9zdG9yZXMvaG9tZS50cyIsIi4uL3NyYy91dGlscy9maWxlcy50cyIsIi4uL3NyYy9zdG9yZXMvZmlsZS50cyIsIi4uL3NyYy92c2NvZGUudHMiLCIuLi9zcmMvSG9zdENvbmR1aXRTZXJ2aWNlLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvUXVpY2tQaWNrSXRlbS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9BY3Rpb25Ub29sYmFyLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL0RlcGxveUJ1dHRvbi52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9SZW5kZXJCdXR0b24udnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvUHJvY2Vzc1Byb2dyZXNzLnZ1ZSIsIi4uL3NyYy91dGlscy9kYXRlLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGV4dFN0cmluZ1dpdGhBbmNob3IudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvUHJvY2Vzc1N1bW1hcnkudnVlIiwiLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yVHlwZXMudHMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvZXJyb3JzLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvRXZlbkVhc2llckRlcGxveS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9Db3VudEJhZGdlLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvQ29kZUNoZWNrYm94LnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW1DaGVja2JveC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9wcm9qZWN0RmlsZXMvdG9vbHRpcHMudHMiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9wcm9qZWN0RmlsZXMvUHJvamVjdEZpbGUudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvcHJvamVjdEZpbGVzL1Byb2plY3RGaWxlcy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9XZWxjb21lVmlldy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy90cmVlL1RyZWVJdGVtLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL1NpZGViYXJJbnB1dC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9zZWNyZXRzL1NlY3JldC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9zZWNyZXRzL1NlY3JldHMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvSW50ZWdyYXRpb25SZXF1ZXN0cy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9QeXRob25QYWNrYWdlcy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy92aWV3cy9SUGFja2FnZXMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvQ3JlZGVudGlhbHMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdmlld3MvSGVscEFuZEZlZWRiYWNrLnZ1ZSIsIi4uL3NyYy9BcHAudnVlIiwiLi4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjUuMjRcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBtYWtlTWFwKHN0cikge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBrZXkgb2Ygc3RyLnNwbGl0KFwiLFwiKSkgbWFwW2tleV0gPSAxO1xuICByZXR1cm4gKHZhbCkgPT4gdmFsIGluIG1hcDtcbn1cblxuY29uc3QgRU1QVFlfT0JKID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoe30pIDoge307XG5jb25zdCBFTVBUWV9BUlIgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gT2JqZWN0LmZyZWV6ZShbXSkgOiBbXTtcbmNvbnN0IE5PT1AgPSAoKSA9PiB7XG59O1xuY29uc3QgTk8gPSAoKSA9PiBmYWxzZTtcbmNvbnN0IGlzT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gdXBwZXJjYXNlIGxldHRlclxuKGtleS5jaGFyQ29kZUF0KDIpID4gMTIyIHx8IGtleS5jaGFyQ29kZUF0KDIpIDwgOTcpO1xuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoXCJvblVwZGF0ZTpcIik7XG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xuY29uc3QgcmVtb3ZlID0gKGFyciwgZWwpID0+IHtcbiAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcbiAgaWYgKGkgPiAtMSkge1xuICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gIH1cbn07XG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IGhhc093blByb3BlcnR5LmNhbGwodmFsLCBrZXkpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc01hcCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgTWFwXVwiO1xuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IFNldF1cIjtcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbmNvbnN0IGlzUmVnRXhwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBSZWdFeHBdXCI7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiO1xuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN5bWJvbFwiO1xuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIjtcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkgJiYgaXNGdW5jdGlvbih2YWwudGhlbikgJiYgaXNGdW5jdGlvbih2YWwuY2F0Y2gpO1xufTtcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IHRvVHlwZVN0cmluZyA9ICh2YWx1ZSkgPT4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5jb25zdCB0b1Jhd1R5cGUgPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIHRvVHlwZVN0cmluZyh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xufTtcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiYga2V5ICE9PSBcIk5hTlwiICYmIGtleVswXSAhPT0gXCItXCIgJiYgXCJcIiArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XG5jb25zdCBpc1Jlc2VydmVkUHJvcCA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICAvLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXG4gIFwiLGtleSxyZWYscmVmX2ZvcixyZWZfa2V5LG9uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCxvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLG9uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWRcIlxuKTtcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcImJpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW9cIlxuKTtcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcbiAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICgoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH0pO1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLVxcdy9nO1xuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKFxuICAoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChjKSA9PiBjLnNsaWNlKDEpLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICAgIHJldHVybiBzO1xuICB9XG4pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgLi4uYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKC4uLmFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuZnVuY3Rpb24gZ2VuQ2FjaGVLZXkoc291cmNlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzb3VyY2UgKyBKU09OLnN0cmluZ2lmeShcbiAgICBvcHRpb25zLFxuICAgIChfLCB2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbC50b1N0cmluZygpIDogdmFsXG4gICk7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkNBQ0hFRFwiOiAtMSxcbiAgXCItMVwiOiBcIkNBQ0hFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgQ0FDSEVEYCxcbiAgWy0yXTogYEJBSUxgXG59O1xuXG5jb25zdCBTaGFwZUZsYWdzID0ge1xuICBcIkVMRU1FTlRcIjogMSxcbiAgXCIxXCI6IFwiRUxFTUVOVFwiLFxuICBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCI6IDIsXG4gIFwiMlwiOiBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCIsXG4gIFwiU1RBVEVGVUxfQ09NUE9ORU5UXCI6IDQsXG4gIFwiNFwiOiBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiLFxuICBcIlRFWFRfQ0hJTERSRU5cIjogOCxcbiAgXCI4XCI6IFwiVEVYVF9DSElMRFJFTlwiLFxuICBcIkFSUkFZX0NISUxEUkVOXCI6IDE2LFxuICBcIjE2XCI6IFwiQVJSQVlfQ0hJTERSRU5cIixcbiAgXCJTTE9UU19DSElMRFJFTlwiOiAzMixcbiAgXCIzMlwiOiBcIlNMT1RTX0NISUxEUkVOXCIsXG4gIFwiVEVMRVBPUlRcIjogNjQsXG4gIFwiNjRcIjogXCJURUxFUE9SVFwiLFxuICBcIlNVU1BFTlNFXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJTVVNQRU5TRVwiLFxuICBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIjogNTEyLFxuICBcIjUxMlwiOiBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVFwiXG59O1xuXG5jb25zdCBTbG90RmxhZ3MgPSB7XG4gIFwiU1RBQkxFXCI6IDEsXG4gIFwiMVwiOiBcIlNUQUJMRVwiLFxuICBcIkRZTkFNSUNcIjogMixcbiAgXCIyXCI6IFwiRFlOQU1JQ1wiLFxuICBcIkZPUldBUkRFRFwiOiAzLFxuICBcIjNcIjogXCJGT1JXQVJERURcIlxufTtcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XG4gIFsxXTogXCJTVEFCTEVcIixcbiAgWzJdOiBcIkRZTkFNSUNcIixcbiAgWzNdOiBcIkZPUldBUkRFRFwiXG59O1xuXG5jb25zdCBHTE9CQUxTX0FMTE9XRUQgPSBcIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yLFN5bWJvbFwiO1xuY29uc3QgaXNHbG9iYWxseUFsbG93ZWQgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChHTE9CQUxTX0FMTE9XRUQpO1xuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gaXNHbG9iYWxseUFsbG93ZWQ7XG5cbmNvbnN0IHJhbmdlID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gIHN0YXJ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc3RhcnQsIHNvdXJjZS5sZW5ndGgpKTtcbiAgZW5kID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZW5kLCBzb3VyY2UubGVuZ3RoKSk7XG4gIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFwiXCI7XG4gIGxldCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvKFxccj9cXG4pLyk7XG4gIGNvbnN0IG5ld2xpbmVTZXF1ZW5jZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMSk7XG4gIGxpbmVzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDApO1xuICBsZXQgY291bnQgPSAwO1xuICBjb25zdCByZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIChuZXdsaW5lU2VxdWVuY2VzW2ldICYmIG5ld2xpbmVTZXF1ZW5jZXNbaV0ubGVuZ3RoIHx8IDApO1xuICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xuICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xuICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgIHJlcy5wdXNoKFxuICAgICAgICAgIGAke2xpbmV9JHtcIiBcIi5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3TGluZVNlcUxlbmd0aCA9IG5ld2xpbmVTZXF1ZW5jZXNbal0gJiYgbmV3bGluZVNlcXVlbmNlc1tqXS5sZW5ndGggfHwgMDtcbiAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIChsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aCkpO1xuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiIFwiLnJlcGVhdChwYWQpICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xuICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy5qb2luKFwiXFxuXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogbm9ybWFsaXplU3R5bGUoaXRlbSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XG4gICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKlteXSo/XFwqXFwvL2c7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNzc1RleHQucmVwbGFjZShzdHlsZUNvbW1lbnRSRSwgXCJcIikuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xuICBpZiAoIXN0eWxlcykgcmV0dXJuIFwiXCI7XG4gIGlmIChpc1N0cmluZyhzdHlsZXMpKSByZXR1cm4gc3R5bGVzO1xuICBsZXQgcmV0ID0gXCJcIjtcbiAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XG4gICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XG4gIGxldCByZXMgPSBcIlwiO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmVzID0gdmFsdWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWVbbmFtZV0pIHtcbiAgICAgICAgcmVzICs9IG5hbWUgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICBpZiAoIXByb3BzKSByZXR1cm4gbnVsbDtcbiAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gIH1cbiAgaWYgKHN0eWxlKSB7XG4gICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuXG5jb25zdCBIVE1MX1RBR1MgPSBcImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGhncm91cCxoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSxzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290XCI7XG5jb25zdCBTVkdfVEFHUyA9IFwic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3XCI7XG5jb25zdCBNQVRIX1RBR1MgPSBcImFubm90YXRpb24sYW5ub3RhdGlvbi14bWwsbWFjdGlvbixtYWxpZ25ncm91cCxtYWxpZ25tYXJrLG1hdGgsbWVuY2xvc2UsbWVycm9yLG1mZW5jZWQsbWZyYWMsbWZyYWN0aW9uLG1nbHlwaCxtaSxtbGFiZWxlZHRyLG1sb25nZGl2LG1tdWx0aXNjcmlwdHMsbW4sbW8sbW92ZXIsbXBhZGRlZCxtcGhhbnRvbSxtcHJlc2NyaXB0cyxtcm9vdCxtcm93LG1zLG1zY2Fycmllcyxtc2NhcnJ5LG1zZ3JvdXAsbXNsaW5lLG1zcGFjZSxtc3FydCxtc3Jvdyxtc3RhY2ssbXN0eWxlLG1zdWIsbXN1YnN1cCxtc3VwLG10YWJsZSxtdGQsbXRleHQsbXRyLG11bmRlcixtdW5kZXJvdmVyLG5vbmUsc2VtYW50aWNzXCI7XG5jb25zdCBWT0lEX1RBR1MgPSBcImFyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyXCI7XG5jb25zdCBpc0hUTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuY29uc3QgaXNTVkdUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5jb25zdCBpc01hdGhNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKE1BVEhfVEFHUyk7XG5jb25zdCBpc1ZvaWRUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBzcGVjaWFsQm9vbGVhbkF0dHJzICsgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4saW5lcnQsbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYFxuKTtcbmZ1bmN0aW9uIGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJcIjtcbn1cbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcbiAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcbiAgfVxuICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcbiAgaWYgKGlzVW5zYWZlKSB7XG4gICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XG4gIH1cbiAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmU7XG59XG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcbiAgYWNjZXB0Q2hhcnNldDogXCJhY2NlcHQtY2hhcnNldFwiLFxuICBjbGFzc05hbWU6IFwiY2xhc3NcIixcbiAgaHRtbEZvcjogXCJmb3JcIixcbiAgaHR0cEVxdWl2OiBcImh0dHAtZXF1aXZcIlxufTtcbmNvbnN0IGlzS25vd25IdG1sQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbmVydCxpbnRlZ3JpdHksaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXBgXG4pO1xuY29uc3QgaXNLbm93blN2Z0F0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYHhtbG5zLGFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbGlnbm1lbnQtYmFzZWxpbmUsYWxwaGFiZXRpYyxhbXBsaXR1ZGUsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxhemltdXRoLGJhc2VGcmVxdWVuY3ksYmFzZWxpbmUtc2hpZnQsYmFzZVByb2ZpbGUsYmJveCxiZWdpbixiaWFzLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY2xpcCxjbGlwUGF0aFVuaXRzLGNsaXAtcGF0aCxjbGlwLXJ1bGUsY29sb3IsY29sb3ItaW50ZXJwb2xhdGlvbixjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMsY29sb3ItcHJvZmlsZSxjb2xvci1yZW5kZXJpbmcsY29udGVudFNjcmlwdFR5cGUsY29udGVudFN0eWxlVHlwZSxjcm9zc29yaWdpbixjdXJzb3IsY3gsY3ksZCxkZWNlbGVyYXRlLGRlc2NlbnQsZGlmZnVzZUNvbnN0YW50LGRpcmVjdGlvbixkaXNwbGF5LGRpdmlzb3IsZG9taW5hbnQtYmFzZWxpbmUsZHVyLGR4LGR5LGVkZ2VNb2RlLGVsZXZhdGlvbixlbmFibGUtYmFja2dyb3VuZCxlbmQsZXhwb25lbnQsZmlsbCxmaWxsLW9wYWNpdHksZmlsbC1ydWxlLGZpbHRlcixmaWx0ZXJSZXMsZmlsdGVyVW5pdHMsZmxvb2QtY29sb3IsZmxvb2Qtb3BhY2l0eSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zaXplLWFkanVzdCxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZm9ybWF0LGZyb20sZnIsZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsLGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsLGdseXBoUmVmLGdyYWRpZW50VHJhbnNmb3JtLGdyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaHJlZixocmVmbGFuZyxob3Jpei1hZHYteCxob3Jpei1vcmlnaW4teCxpZCxpZGVvZ3JhcGhpYyxpbWFnZS1yZW5kZXJpbmcsaW4saW4yLGludGVyY2VwdCxrLGsxLGsyLGszLGs0LGtlcm5lbE1hdHJpeCxrZXJuZWxVbml0TGVuZ3RoLGtlcm5pbmcsa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxsZW5ndGhBZGp1c3QsbGV0dGVyLXNwYWNpbmcsbGlnaHRpbmctY29sb3IsbGltaXRpbmdDb25lQW5nbGUsbG9jYWwsbWFya2VyLWVuZCxtYXJrZXItbWlkLG1hcmtlci1zdGFydCxtYXJrZXJIZWlnaHQsbWFya2VyVW5pdHMsbWFya2VyV2lkdGgsbWFzayxtYXNrQ29udGVudFVuaXRzLG1hc2tVbml0cyxtYXRoZW1hdGljYWwsbWF4LG1lZGlhLG1ldGhvZCxtaW4sbW9kZSxuYW1lLG51bU9jdGF2ZXMsb2Zmc2V0LG9wYWNpdHksb3BlcmF0b3Isb3JkZXIsb3JpZW50LG9yaWVudGF0aW9uLG9yaWdpbixvdmVyZmxvdyxvdmVybGluZS1wb3NpdGlvbixvdmVybGluZS10aGlja25lc3MscGFub3NlLTEscGFpbnQtb3JkZXIscGF0aCxwYXRoTGVuZ3RoLHBhdHRlcm5Db250ZW50VW5pdHMscGF0dGVyblRyYW5zZm9ybSxwYXR0ZXJuVW5pdHMscGluZyxwb2ludGVyLWV2ZW50cyxwb2ludHMscG9pbnRzQXRYLHBvaW50c0F0WSxwb2ludHNBdFoscHJlc2VydmVBbHBoYSxwcmVzZXJ2ZUFzcGVjdFJhdGlvLHByaW1pdGl2ZVVuaXRzLHIscmFkaXVzLHJlZmVycmVyUG9saWN5LHJlZlgscmVmWSxyZWwscmVuZGVyaW5nLWludGVudCxyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyZXN1bHQscm90YXRlLHJ4LHJ5LHNjYWxlLHNlZWQsc2hhcGUtcmVuZGVyaW5nLHNsb3BlLHNwYWNpbmcsc3BlY3VsYXJDb25zdGFudCxzcGVjdWxhckV4cG9uZW50LHNwZWVkLHNwcmVhZE1ldGhvZCxzdGFydE9mZnNldCxzdGREZXZpYXRpb24sc3RlbWgsc3RlbXYsc3RpdGNoVGlsZXMsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJpbmcsc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzdHlsZSxzdXJmYWNlU2NhbGUsc3lzdGVtTGFuZ3VhZ2UsdGFiaW5kZXgsdGFibGVWYWx1ZXMsdGFyZ2V0LHRhcmdldFgsdGFyZ2V0WSx0ZXh0LWFuY2hvcix0ZXh0LWRlY29yYXRpb24sdGV4dC1yZW5kZXJpbmcsdGV4dExlbmd0aCx0byx0cmFuc2Zvcm0sdHJhbnNmb3JtLW9yaWdpbix0eXBlLHUxLHUyLHVuZGVybGluZS1wb3NpdGlvbix1bmRlcmxpbmUtdGhpY2tuZXNzLHVuaWNvZGUsdW5pY29kZS1iaWRpLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHYtYWxwaGFiZXRpYyx2LWhhbmdpbmcsdi1pZGVvZ3JhcGhpYyx2LW1hdGhlbWF0aWNhbCx2YWx1ZXMsdmVjdG9yLWVmZmVjdCx2ZXJzaW9uLHZlcnQtYWR2LXksdmVydC1vcmlnaW4teCx2ZXJ0LW9yaWdpbi15LHZpZXdCb3gsdmlld1RhcmdldCx2aXNpYmlsaXR5LHdpZHRoLHdpZHRocyx3b3JkLXNwYWNpbmcsd3JpdGluZy1tb2RlLHgseC1oZWlnaHQseDEseDIseENoYW5uZWxTZWxlY3Rvcix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6aHJlZix4bGluazpyb2xlLHhsaW5rOnNob3cseGxpbms6dGl0bGUseGxpbms6dHlwZSx4bWxuczp4bGluayx4bWw6YmFzZSx4bWw6bGFuZyx4bWw6c3BhY2UseSx5MSx5Mix5Q2hhbm5lbFNlbGVjdG9yLHosem9vbUFuZFBhbmBcbik7XG5jb25zdCBpc0tub3duTWF0aE1MQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZW50LGFjY2VudHVuZGVyLGFjdGlvbnR5cGUsYWxpZ24sYWxpZ25tZW50c2NvcGUsYWx0aW1nLGFsdGltZy1oZWlnaHQsYWx0aW1nLXZhbGlnbixhbHRpbWctd2lkdGgsYWx0dGV4dCxiZXZlbGxlZCxjbG9zZSxjb2x1bW5zYWxpZ24sY29sdW1ubGluZXMsY29sdW1uc3BhbixkZW5vbWFsaWduLGRlcHRoLGRpcixkaXNwbGF5LGRpc3BsYXlzdHlsZSxlbmNvZGluZyxlcXVhbGNvbHVtbnMsZXF1YWxyb3dzLGZlbmNlLGZvbnRzdHlsZSxmb250d2VpZ2h0LGZvcm0sZnJhbWUsZnJhbWVzcGFjaW5nLGdyb3VwYWxpZ24saGVpZ2h0LGhyZWYsaWQsaW5kZW50YWxpZ24saW5kZW50YWxpZ25maXJzdCxpbmRlbnRhbGlnbmxhc3QsaW5kZW50c2hpZnQsaW5kZW50c2hpZnRmaXJzdCxpbmRlbnRzaGlmdGxhc3QsaW5kZXh0eXBlLGp1c3RpZnksbGFyZ2V0b3AsbGFyZ2VvcCxscXVvdGUsbHNwYWNlLG1hdGhiYWNrZ3JvdW5kLG1hdGhjb2xvcixtYXRoc2l6ZSxtYXRodmFyaWFudCxtYXhzaXplLG1pbmxhYmVsc3BhY2luZyxtb2RlLG90aGVyLG92ZXJmbG93LHBvc2l0aW9uLHJvd2FsaWduLHJvd2xpbmVzLHJvd3NwYW4scnF1b3RlLHJzcGFjZSxzY3JpcHRsZXZlbCxzY3JpcHRtaW5zaXplLHNjcmlwdHNpemVtdWx0aXBsaWVyLHNlbGVjdGlvbixzZXBhcmF0b3Isc2VwYXJhdG9ycyxzaGlmdCxzaWRlLHNyYyxzdGFja2FsaWduLHN0cmV0Y2h5LHN1YnNjcmlwdHNoaWZ0LHN1cGVyc2NyaXB0c2hpZnQsc3ltbWV0cmljLHZvZmZzZXQsd2lkdGgsd2lkdGhzLHhsaW5rOmhyZWYseGxpbms6c2hvdyx4bGluazp0eXBlLHhtbG5zYFxuKTtcbmZ1bmN0aW9uIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiO1xufVxuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICBjb25zdCBzdHIgPSBcIlwiICsgc3RyaW5nO1xuICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbGV0IGh0bWwgPSBcIlwiO1xuICBsZXQgZXNjYXBlZDtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGVkID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGVkID0gXCImZ3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBodG1sICs9IHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KTtcbiAgICB9XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICAgIGh0bWwgKz0gZXNjYXBlZDtcbiAgfVxuICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xufVxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xuICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsIFwiXCIpO1xufVxuY29uc3QgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSA9IC9bICFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fl0vZztcbmZ1bmN0aW9uIGdldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZG91YmxlRXNjYXBlKSB7XG4gIHJldHVybiBrZXkucmVwbGFjZShcbiAgICBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLFxuICAgIChzKSA9PiBkb3VibGVFc2NhcGUgPyBzID09PSAnXCInID8gJ1xcXFxcXFxcXFxcXFwiJyA6IGBcXFxcXFxcXCR7c31gIDogYFxcXFwke3N9YFxuICApO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlcXVhbCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgfVxuICByZXR1cm4gZXF1YWw7XG59XG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IGlzUmVmID0gKHZhbCkgPT4ge1xuICByZXR1cm4gISEodmFsICYmIHZhbFtcIl9fdl9pc1JlZlwiXSA9PT0gdHJ1ZSk7XG59O1xuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xuICByZXR1cm4gaXNTdHJpbmcodmFsKSA/IHZhbCA6IHZhbCA9PSBudWxsID8gXCJcIiA6IGlzQXJyYXkodmFsKSB8fCBpc09iamVjdCh2YWwpICYmICh2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nIHx8ICFpc0Z1bmN0aW9uKHZhbC50b1N0cmluZykpID8gaXNSZWYodmFsKSA/IHRvRGlzcGxheVN0cmluZyh2YWwudmFsdWUpIDogSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMikgOiBTdHJpbmcodmFsKTtcbn07XG5jb25zdCByZXBsYWNlciA9IChfa2V5LCB2YWwpID0+IHtcbiAgaWYgKGlzUmVmKHZhbCkpIHtcbiAgICByZXR1cm4gcmVwbGFjZXIoX2tleSwgdmFsLnZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKFxuICAgICAgICAoZW50cmllcywgW2tleSwgdmFsMl0sIGkpID0+IHtcbiAgICAgICAgICBlbnRyaWVzW3N0cmluZ2lmeVN5bWJvbChrZXksIGkpICsgXCIgPT5cIl0gPSB2YWwyO1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV0ubWFwKCh2KSA9PiBzdHJpbmdpZnlTeW1ib2wodikpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1N5bWJvbCh2YWwpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN5bWJvbCh2YWwpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59O1xuY29uc3Qgc3RyaW5naWZ5U3ltYm9sID0gKHYsIGkgPSBcIlwiKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChcbiAgICAvLyBTeW1ib2wuZGVzY3JpcHRpb24gaW4gZXMyMDE5KyBzbyB3ZSBuZWVkIHRvIGNhc3QgaGVyZSB0byBwYXNzXG4gICAgLy8gdGhlIGxpYjogZXMyMDE2IGNoZWNrXG4gICAgaXNTeW1ib2wodikgPyBgU3ltYm9sKCR7KF9hID0gdi5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IF9hIDogaX0pYCA6IHZcbiAgKTtcbn07XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNzc1ZhclZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiaW5pdGlhbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IFwiXCIgPyBcIiBcIiA6IHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIltWdWUgd2Fybl0gSW52YWxpZCB2YWx1ZSB1c2VkIGZvciBDU1MgYmluZGluZy4gRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYSBmaW5pdGUgbnVtYmVyIGJ1dCByZWNlaXZlZDpcIixcbiAgICAgICAgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBQYXRjaEZsYWdzLCBTaGFwZUZsYWdzLCBTbG90RmxhZ3MsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbkNhY2hlS2V5LCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNCdWlsdEluRGlyZWN0aXZlLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlBbGxvd2VkLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duSHRtbEF0dHIsIGlzS25vd25NYXRoTUxBdHRyLCBpc0tub3duU3ZnQXR0ciwgaXNNYXAsIGlzTWF0aE1MVGFnLCBpc01vZGVsTGlzdGVuZXIsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbG9vc2VUb051bWJlciwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZUNzc1ZhclZhbHVlLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiLyoqXG4qIEB2dWUvcmVhY3Rpdml0eSB2My41LjI0XG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBleHRlbmQsIGhhc0NoYW5nZWQsIGlzQXJyYXksIGlzSW50ZWdlcktleSwgaXNTeW1ib2wsIGlzTWFwLCBoYXNPd24sIG1ha2VNYXAsIGlzT2JqZWN0LCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBpc1NldCwgaXNQbGFpbk9iamVjdCwgcmVtb3ZlLCBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbCB0cmFjayBgb25gIGNhbGxzLCBhbGxvdyBgb25gIGNhbGwgbXVsdGlwbGUgdGltZXNcbiAgICAgKi9cbiAgICB0aGlzLl9vbiA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5lZmZlY3RzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3VtZXMgdGhlIGVmZmVjdCBzY29wZSwgaW5jbHVkaW5nIGFsbCBjaGlsZCBzY29wZXMgYW5kIGVmZmVjdHMuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBpLCBsO1xuICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5yZXN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBpZiAoKyt0aGlzLl9vbiA9PT0gMSkge1xuICAgICAgdGhpcy5wcmV2U2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgaWYgKHRoaXMuX29uID4gMCAmJiAtLXRoaXMuX29uID09PSAwKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXMucHJldlNjb3BlO1xuICAgICAgdGhpcy5wcmV2U2NvcGUgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHN0b3AoZnJvbVBhcmVudCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGV0IGksIGw7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGVhbnVwcy5sZW5ndGggPSAwO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NvcGVzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xuICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucGFyZW50ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0U2NvcGUoZGV0YWNoZWQpIHtcbiAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50U2NvcGUoKSB7XG4gIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcbn1cbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSkge1xuICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZS5jbGVhbnVwcy5wdXNoKGZuKTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbn1cblxubGV0IGFjdGl2ZVN1YjtcbmNvbnN0IEVmZmVjdEZsYWdzID0ge1xuICBcIkFDVElWRVwiOiAxLFxuICBcIjFcIjogXCJBQ1RJVkVcIixcbiAgXCJSVU5OSU5HXCI6IDIsXG4gIFwiMlwiOiBcIlJVTk5JTkdcIixcbiAgXCJUUkFDS0lOR1wiOiA0LFxuICBcIjRcIjogXCJUUkFDS0lOR1wiLFxuICBcIk5PVElGSUVEXCI6IDgsXG4gIFwiOFwiOiBcIk5PVElGSUVEXCIsXG4gIFwiRElSVFlcIjogMTYsXG4gIFwiMTZcIjogXCJESVJUWVwiLFxuICBcIkFMTE9XX1JFQ1VSU0VcIjogMzIsXG4gIFwiMzJcIjogXCJBTExPV19SRUNVUlNFXCIsXG4gIFwiUEFVU0VEXCI6IDY0LFxuICBcIjY0XCI6IFwiUEFVU0VEXCIsXG4gIFwiRVZBTFVBVEVEXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJFVkFMVUFURURcIlxufTtcbmNvbnN0IHBhdXNlZFF1ZXVlRWZmZWN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICBjb25zdHJ1Y3Rvcihmbikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMSB8IDQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cCA9IHZvaWQgMDtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHZvaWQgMDtcbiAgICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUgJiYgYWN0aXZlRWZmZWN0U2NvcGUuYWN0aXZlKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZS5lZmZlY3RzLnB1c2godGhpcyk7XG4gICAgfVxuICB9XG4gIHBhdXNlKCkge1xuICAgIHRoaXMuZmxhZ3MgfD0gNjQ7XG4gIH1cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHRoaXMuZmxhZ3MgJj0gLTY1O1xuICAgICAgaWYgKHBhdXNlZFF1ZXVlRWZmZWN0cy5oYXModGhpcykpIHtcbiAgICAgICAgcGF1c2VkUXVldWVFZmZlY3RzLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDIgJiYgISh0aGlzLmZsYWdzICYgMzIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSkge1xuICAgICAgYmF0Y2godGhpcyk7XG4gICAgfVxuICB9XG4gIHJ1bigpIHtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgMSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfVxuICAgIHRoaXMuZmxhZ3MgfD0gMjtcbiAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgIHByZXBhcmVEZXBzKHRoaXMpO1xuICAgIGNvbnN0IHByZXZFZmZlY3QgPSBhY3RpdmVTdWI7XG4gICAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgYWN0aXZlU3ViID0gdGhpcztcbiAgICBzaG91bGRUcmFjayA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQWN0aXZlIGVmZmVjdCB3YXMgbm90IHJlc3RvcmVkIGNvcnJlY3RseSAtIHRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFsIGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2xlYW51cERlcHModGhpcyk7XG4gICAgICBhY3RpdmVTdWIgPSBwcmV2RWZmZWN0O1xuICAgICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgICB0aGlzLmZsYWdzICY9IC0zO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMSkge1xuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgICAgICByZW1vdmVTdWIobGluayk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlcHMgPSB0aGlzLmRlcHNUYWlsID0gdm9pZCAwO1xuICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIHRoaXMub25TdG9wICYmIHRoaXMub25TdG9wKCk7XG4gICAgICB0aGlzLmZsYWdzICY9IC0yO1xuICAgIH1cbiAgfVxuICB0cmlnZ2VyKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHBhdXNlZFF1ZXVlRWZmZWN0cy5hZGQodGhpcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjaGVkdWxlcikge1xuICAgICAgdGhpcy5zY2hlZHVsZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydW5JZkRpcnR5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJ1bklmRGlydHkoKSB7XG4gICAgaWYgKGlzRGlydHkodGhpcykpIHtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICB9XG4gIGdldCBkaXJ0eSgpIHtcbiAgICByZXR1cm4gaXNEaXJ0eSh0aGlzKTtcbiAgfVxufVxubGV0IGJhdGNoRGVwdGggPSAwO1xubGV0IGJhdGNoZWRTdWI7XG5sZXQgYmF0Y2hlZENvbXB1dGVkO1xuZnVuY3Rpb24gYmF0Y2goc3ViLCBpc0NvbXB1dGVkID0gZmFsc2UpIHtcbiAgc3ViLmZsYWdzIHw9IDg7XG4gIGlmIChpc0NvbXB1dGVkKSB7XG4gICAgc3ViLm5leHQgPSBiYXRjaGVkQ29tcHV0ZWQ7XG4gICAgYmF0Y2hlZENvbXB1dGVkID0gc3ViO1xuICAgIHJldHVybjtcbiAgfVxuICBzdWIubmV4dCA9IGJhdGNoZWRTdWI7XG4gIGJhdGNoZWRTdWIgPSBzdWI7XG59XG5mdW5jdGlvbiBzdGFydEJhdGNoKCkge1xuICBiYXRjaERlcHRoKys7XG59XG5mdW5jdGlvbiBlbmRCYXRjaCgpIHtcbiAgaWYgKC0tYmF0Y2hEZXB0aCA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJhdGNoZWRDb21wdXRlZCkge1xuICAgIGxldCBlID0gYmF0Y2hlZENvbXB1dGVkO1xuICAgIGJhdGNoZWRDb21wdXRlZCA9IHZvaWQgMDtcbiAgICB3aGlsZSAoZSkge1xuICAgICAgY29uc3QgbmV4dCA9IGUubmV4dDtcbiAgICAgIGUubmV4dCA9IHZvaWQgMDtcbiAgICAgIGUuZmxhZ3MgJj0gLTk7XG4gICAgICBlID0gbmV4dDtcbiAgICB9XG4gIH1cbiAgbGV0IGVycm9yO1xuICB3aGlsZSAoYmF0Y2hlZFN1Yikge1xuICAgIGxldCBlID0gYmF0Y2hlZFN1YjtcbiAgICBiYXRjaGVkU3ViID0gdm9pZCAwO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICBjb25zdCBuZXh0ID0gZS5uZXh0O1xuICAgICAgZS5uZXh0ID0gdm9pZCAwO1xuICAgICAgZS5mbGFncyAmPSAtOTtcbiAgICAgIGlmIChlLmZsYWdzICYgMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBlLnRyaWdnZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xufVxuZnVuY3Rpb24gcHJlcGFyZURlcHMoc3ViKSB7XG4gIGZvciAobGV0IGxpbmsgPSBzdWIuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgIGxpbmsudmVyc2lvbiA9IC0xO1xuICAgIGxpbmsucHJldkFjdGl2ZUxpbmsgPSBsaW5rLmRlcC5hY3RpdmVMaW5rO1xuICAgIGxpbmsuZGVwLmFjdGl2ZUxpbmsgPSBsaW5rO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRGVwcyhzdWIpIHtcbiAgbGV0IGhlYWQ7XG4gIGxldCB0YWlsID0gc3ViLmRlcHNUYWlsO1xuICBsZXQgbGluayA9IHRhaWw7XG4gIHdoaWxlIChsaW5rKSB7XG4gICAgY29uc3QgcHJldiA9IGxpbmsucHJldkRlcDtcbiAgICBpZiAobGluay52ZXJzaW9uID09PSAtMSkge1xuICAgICAgaWYgKGxpbmsgPT09IHRhaWwpIHRhaWwgPSBwcmV2O1xuICAgICAgcmVtb3ZlU3ViKGxpbmspO1xuICAgICAgcmVtb3ZlRGVwKGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuYWN0aXZlTGluayA9IGxpbmsucHJldkFjdGl2ZUxpbms7XG4gICAgbGluay5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgICBsaW5rID0gcHJldjtcbiAgfVxuICBzdWIuZGVwcyA9IGhlYWQ7XG4gIHN1Yi5kZXBzVGFpbCA9IHRhaWw7XG59XG5mdW5jdGlvbiBpc0RpcnR5KHN1Yikge1xuICBmb3IgKGxldCBsaW5rID0gc3ViLmRlcHM7IGxpbms7IGxpbmsgPSBsaW5rLm5leHREZXApIHtcbiAgICBpZiAobGluay5kZXAudmVyc2lvbiAhPT0gbGluay52ZXJzaW9uIHx8IGxpbmsuZGVwLmNvbXB1dGVkICYmIChyZWZyZXNoQ29tcHV0ZWQobGluay5kZXAuY29tcHV0ZWQpIHx8IGxpbmsuZGVwLnZlcnNpb24gIT09IGxpbmsudmVyc2lvbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoc3ViLl9kaXJ0eSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZnJlc2hDb21wdXRlZChjb21wdXRlZCkge1xuICBpZiAoY29tcHV0ZWQuZmxhZ3MgJiA0ICYmICEoY29tcHV0ZWQuZmxhZ3MgJiAxNikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29tcHV0ZWQuZmxhZ3MgJj0gLTE3O1xuICBpZiAoY29tcHV0ZWQuZ2xvYmFsVmVyc2lvbiA9PT0gZ2xvYmFsVmVyc2lvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbjtcbiAgaWYgKCFjb21wdXRlZC5pc1NTUiAmJiBjb21wdXRlZC5mbGFncyAmIDEyOCAmJiAoIWNvbXB1dGVkLmRlcHMgJiYgIWNvbXB1dGVkLl9kaXJ0eSB8fCAhaXNEaXJ0eShjb21wdXRlZCkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbXB1dGVkLmZsYWdzIHw9IDI7XG4gIGNvbnN0IGRlcCA9IGNvbXB1dGVkLmRlcDtcbiAgY29uc3QgcHJldlN1YiA9IGFjdGl2ZVN1YjtcbiAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gIGFjdGl2ZVN1YiA9IGNvbXB1dGVkO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG4gIHRyeSB7XG4gICAgcHJlcGFyZURlcHMoY29tcHV0ZWQpO1xuICAgIGNvbnN0IHZhbHVlID0gY29tcHV0ZWQuZm4oY29tcHV0ZWQuX3ZhbHVlKTtcbiAgICBpZiAoZGVwLnZlcnNpb24gPT09IDAgfHwgaGFzQ2hhbmdlZCh2YWx1ZSwgY29tcHV0ZWQuX3ZhbHVlKSkge1xuICAgICAgY29tcHV0ZWQuZmxhZ3MgfD0gMTI4O1xuICAgICAgY29tcHV0ZWQuX3ZhbHVlID0gdmFsdWU7XG4gICAgICBkZXAudmVyc2lvbisrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVwLnZlcnNpb24rKztcbiAgICB0aHJvdyBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgYWN0aXZlU3ViID0gcHJldlN1YjtcbiAgICBzaG91bGRUcmFjayA9IHByZXZTaG91bGRUcmFjaztcbiAgICBjbGVhbnVwRGVwcyhjb21wdXRlZCk7XG4gICAgY29tcHV0ZWQuZmxhZ3MgJj0gLTM7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZVN1YihsaW5rLCBzb2Z0ID0gZmFsc2UpIHtcbiAgY29uc3QgeyBkZXAsIHByZXZTdWIsIG5leHRTdWIgfSA9IGxpbms7XG4gIGlmIChwcmV2U3ViKSB7XG4gICAgcHJldlN1Yi5uZXh0U3ViID0gbmV4dFN1YjtcbiAgICBsaW5rLnByZXZTdWIgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKG5leHRTdWIpIHtcbiAgICBuZXh0U3ViLnByZXZTdWIgPSBwcmV2U3ViO1xuICAgIGxpbmsubmV4dFN1YiA9IHZvaWQgMDtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZXAuc3Vic0hlYWQgPT09IGxpbmspIHtcbiAgICBkZXAuc3Vic0hlYWQgPSBuZXh0U3ViO1xuICB9XG4gIGlmIChkZXAuc3VicyA9PT0gbGluaykge1xuICAgIGRlcC5zdWJzID0gcHJldlN1YjtcbiAgICBpZiAoIXByZXZTdWIgJiYgZGVwLmNvbXB1dGVkKSB7XG4gICAgICBkZXAuY29tcHV0ZWQuZmxhZ3MgJj0gLTU7XG4gICAgICBmb3IgKGxldCBsID0gZGVwLmNvbXB1dGVkLmRlcHM7IGw7IGwgPSBsLm5leHREZXApIHtcbiAgICAgICAgcmVtb3ZlU3ViKGwsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIXNvZnQgJiYgIS0tZGVwLnNjICYmIGRlcC5tYXApIHtcbiAgICBkZXAubWFwLmRlbGV0ZShkZXAua2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlRGVwKGxpbmspIHtcbiAgY29uc3QgeyBwcmV2RGVwLCBuZXh0RGVwIH0gPSBsaW5rO1xuICBpZiAocHJldkRlcCkge1xuICAgIHByZXZEZXAubmV4dERlcCA9IG5leHREZXA7XG4gICAgbGluay5wcmV2RGVwID0gdm9pZCAwO1xuICB9XG4gIGlmIChuZXh0RGVwKSB7XG4gICAgbmV4dERlcC5wcmV2RGVwID0gcHJldkRlcDtcbiAgICBsaW5rLm5leHREZXAgPSB2b2lkIDA7XG4gIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdChmbiwgb3B0aW9ucykge1xuICBpZiAoZm4uZWZmZWN0IGluc3RhbmNlb2YgUmVhY3RpdmVFZmZlY3QpIHtcbiAgICBmbiA9IGZuLmVmZmVjdC5mbjtcbiAgfVxuICBjb25zdCBlID0gbmV3IFJlYWN0aXZlRWZmZWN0KGZuKTtcbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBleHRlbmQoZSwgb3B0aW9ucyk7XG4gIH1cbiAgdHJ5IHtcbiAgICBlLnJ1bigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlLnN0b3AoKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgY29uc3QgcnVubmVyID0gZS5ydW4uYmluZChlKTtcbiAgcnVubmVyLmVmZmVjdCA9IGU7XG4gIHJldHVybiBydW5uZXI7XG59XG5mdW5jdGlvbiBzdG9wKHJ1bm5lcikge1xuICBydW5uZXIuZWZmZWN0LnN0b3AoKTtcbn1cbmxldCBzaG91bGRUcmFjayA9IHRydWU7XG5jb25zdCB0cmFja1N0YWNrID0gW107XG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IGZhbHNlO1xufVxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XG4gIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xuICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHZvaWQgMCA/IHRydWUgOiBsYXN0O1xufVxuZnVuY3Rpb24gb25FZmZlY3RDbGVhbnVwKGZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSkge1xuICBpZiAoYWN0aXZlU3ViIGluc3RhbmNlb2YgUmVhY3RpdmVFZmZlY3QpIHtcbiAgICBhY3RpdmVTdWIuY2xlYW51cCA9IGZuO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25FZmZlY3RDbGVhbnVwKCkgd2FzIGNhbGxlZCB3aGVuIHRoZXJlIHdhcyBubyBhY3RpdmUgZWZmZWN0IHRvIGFzc29jaWF0ZSB3aXRoLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRWZmZWN0KGUpIHtcbiAgY29uc3QgeyBjbGVhbnVwIH0gPSBlO1xuICBlLmNsZWFudXAgPSB2b2lkIDA7XG4gIGlmIChjbGVhbnVwKSB7XG4gICAgY29uc3QgcHJldlN1YiA9IGFjdGl2ZVN1YjtcbiAgICBhY3RpdmVTdWIgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWN0aXZlU3ViID0gcHJldlN1YjtcbiAgICB9XG4gIH1cbn1cblxubGV0IGdsb2JhbFZlcnNpb24gPSAwO1xuY2xhc3MgTGluayB7XG4gIGNvbnN0cnVjdG9yKHN1YiwgZGVwKSB7XG4gICAgdGhpcy5zdWIgPSBzdWI7XG4gICAgdGhpcy5kZXAgPSBkZXA7XG4gICAgdGhpcy52ZXJzaW9uID0gZGVwLnZlcnNpb247XG4gICAgdGhpcy5uZXh0RGVwID0gdGhpcy5wcmV2RGVwID0gdGhpcy5uZXh0U3ViID0gdGhpcy5wcmV2U3ViID0gdGhpcy5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgfVxufVxuY2xhc3MgRGVwIHtcbiAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9za2lwXCJcbiAgY29uc3RydWN0b3IoY29tcHV0ZWQpIHtcbiAgICB0aGlzLmNvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgdGhpcy52ZXJzaW9uID0gMDtcbiAgICAvKipcbiAgICAgKiBMaW5rIGJldHdlZW4gdGhpcyBkZXAgYW5kIHRoZSBjdXJyZW50IGFjdGl2ZSBlZmZlY3RcbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogRG91Ymx5IGxpbmtlZCBsaXN0IHJlcHJlc2VudGluZyB0aGUgc3Vic2NyaWJpbmcgZWZmZWN0cyAodGFpbClcbiAgICAgKi9cbiAgICB0aGlzLnN1YnMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogRm9yIG9iamVjdCBwcm9wZXJ0eSBkZXBzIGNsZWFudXBcbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IHZvaWQgMDtcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVyIGNvdW50ZXJcbiAgICAgKi9cbiAgICB0aGlzLnNjID0gMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9za2lwID0gdHJ1ZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5zdWJzSGVhZCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgdHJhY2soZGVidWdJbmZvKSB7XG4gICAgaWYgKCFhY3RpdmVTdWIgfHwgIXNob3VsZFRyYWNrIHx8IGFjdGl2ZVN1YiA9PT0gdGhpcy5jb21wdXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGluayA9IHRoaXMuYWN0aXZlTGluaztcbiAgICBpZiAobGluayA9PT0gdm9pZCAwIHx8IGxpbmsuc3ViICE9PSBhY3RpdmVTdWIpIHtcbiAgICAgIGxpbmsgPSB0aGlzLmFjdGl2ZUxpbmsgPSBuZXcgTGluayhhY3RpdmVTdWIsIHRoaXMpO1xuICAgICAgaWYgKCFhY3RpdmVTdWIuZGVwcykge1xuICAgICAgICBhY3RpdmVTdWIuZGVwcyA9IGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5rLnByZXZEZXAgPSBhY3RpdmVTdWIuZGVwc1RhaWw7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbC5uZXh0RGVwID0gbGluaztcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsID0gbGluaztcbiAgICAgIH1cbiAgICAgIGFkZFN1YihsaW5rKTtcbiAgICB9IGVsc2UgaWYgKGxpbmsudmVyc2lvbiA9PT0gLTEpIHtcbiAgICAgIGxpbmsudmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgIGlmIChsaW5rLm5leHREZXApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGxpbmsubmV4dERlcDtcbiAgICAgICAgbmV4dC5wcmV2RGVwID0gbGluay5wcmV2RGVwO1xuICAgICAgICBpZiAobGluay5wcmV2RGVwKSB7XG4gICAgICAgICAgbGluay5wcmV2RGVwLm5leHREZXAgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGxpbmsucHJldkRlcCA9IGFjdGl2ZVN1Yi5kZXBzVGFpbDtcbiAgICAgICAgbGluay5uZXh0RGVwID0gdm9pZCAwO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwubmV4dERlcCA9IGxpbms7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICAgIGlmIChhY3RpdmVTdWIuZGVwcyA9PT0gbGluaykge1xuICAgICAgICAgIGFjdGl2ZVN1Yi5kZXBzID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhY3RpdmVTdWIub25UcmFjaykge1xuICAgICAgYWN0aXZlU3ViLm9uVHJhY2soXG4gICAgICAgIGV4dGVuZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZmZlY3Q6IGFjdGl2ZVN1YlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVidWdJbmZvXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsaW5rO1xuICB9XG4gIHRyaWdnZXIoZGVidWdJbmZvKSB7XG4gICAgdGhpcy52ZXJzaW9uKys7XG4gICAgZ2xvYmFsVmVyc2lvbisrO1xuICAgIHRoaXMubm90aWZ5KGRlYnVnSW5mbyk7XG4gIH1cbiAgbm90aWZ5KGRlYnVnSW5mbykge1xuICAgIHN0YXJ0QmF0Y2goKTtcbiAgICB0cnkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChsZXQgaGVhZCA9IHRoaXMuc3Vic0hlYWQ7IGhlYWQ7IGhlYWQgPSBoZWFkLm5leHRTdWIpIHtcbiAgICAgICAgICBpZiAoaGVhZC5zdWIub25UcmlnZ2VyICYmICEoaGVhZC5zdWIuZmxhZ3MgJiA4KSkge1xuICAgICAgICAgICAgaGVhZC5zdWIub25UcmlnZ2VyKFxuICAgICAgICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZWZmZWN0OiBoZWFkLnN1YlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVidWdJbmZvXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBsaW5rID0gdGhpcy5zdWJzOyBsaW5rOyBsaW5rID0gbGluay5wcmV2U3ViKSB7XG4gICAgICAgIGlmIChsaW5rLnN1Yi5ub3RpZnkoKSkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBsaW5rLnN1Yi5kZXAubm90aWZ5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFkZFN1YihsaW5rKSB7XG4gIGxpbmsuZGVwLnNjKys7XG4gIGlmIChsaW5rLnN1Yi5mbGFncyAmIDQpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IGxpbmsuZGVwLmNvbXB1dGVkO1xuICAgIGlmIChjb21wdXRlZCAmJiAhbGluay5kZXAuc3Vicykge1xuICAgICAgY29tcHV0ZWQuZmxhZ3MgfD0gNCB8IDE2O1xuICAgICAgZm9yIChsZXQgbCA9IGNvbXB1dGVkLmRlcHM7IGw7IGwgPSBsLm5leHREZXApIHtcbiAgICAgICAgYWRkU3ViKGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VGFpbCA9IGxpbmsuZGVwLnN1YnM7XG4gICAgaWYgKGN1cnJlbnRUYWlsICE9PSBsaW5rKSB7XG4gICAgICBsaW5rLnByZXZTdWIgPSBjdXJyZW50VGFpbDtcbiAgICAgIGlmIChjdXJyZW50VGFpbCkgY3VycmVudFRhaWwubmV4dFN1YiA9IGxpbms7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGxpbmsuZGVwLnN1YnNIZWFkID09PSB2b2lkIDApIHtcbiAgICAgIGxpbmsuZGVwLnN1YnNIZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuc3VicyA9IGxpbms7XG4gIH1cbn1cbmNvbnN0IHRhcmdldE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk9iamVjdCBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuY29uc3QgTUFQX0tFWV9JVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiTWFwIGtleXMgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmNvbnN0IEFSUkFZX0lURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJBcnJheSBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcbiAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZVN1Yikge1xuICAgIGxldCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICAgIGlmICghZGVwc01hcCkge1xuICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIGRlcHNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICB9XG4gICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XG4gICAgaWYgKCFkZXApIHtcbiAgICAgIGRlcHNNYXAuc2V0KGtleSwgZGVwID0gbmV3IERlcCgpKTtcbiAgICAgIGRlcC5tYXAgPSBkZXBzTWFwO1xuICAgICAgZGVwLmtleSA9IGtleTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVwLnRyYWNrKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xuICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoIWRlcHNNYXApIHtcbiAgICBnbG9iYWxWZXJzaW9uKys7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJ1biA9IChkZXApID0+IHtcbiAgICBpZiAoZGVwKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBkZXAudHJpZ2dlcih7XG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcC50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzdGFydEJhdGNoKCk7XG4gIGlmICh0eXBlID09PSBcImNsZWFyXCIpIHtcbiAgICBkZXBzTWFwLmZvckVhY2gocnVuKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGNvbnN0IGlzQXJyYXlJbmRleCA9IHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSk7XG4gICAgaWYgKHRhcmdldElzQXJyYXkgJiYga2V5ID09PSBcImxlbmd0aFwiKSB7XG4gICAgICBjb25zdCBuZXdMZW5ndGggPSBOdW1iZXIobmV3VmFsdWUpO1xuICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleTIpID0+IHtcbiAgICAgICAgaWYgKGtleTIgPT09IFwibGVuZ3RoXCIgfHwga2V5MiA9PT0gQVJSQVlfSVRFUkFURV9LRVkgfHwgIWlzU3ltYm9sKGtleTIpICYmIGtleTIgPj0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgcnVuKGRlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoa2V5ICE9PSB2b2lkIDAgfHwgZGVwc01hcC5oYXModm9pZCAwKSkge1xuICAgICAgICBydW4oZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUluZGV4KSB7XG4gICAgICAgIHJ1bihkZXBzTWFwLmdldChBUlJBWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgICBpZiAoIXRhcmdldElzQXJyYXkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlJbmRleCkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KFwibGVuZ3RoXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgICBpZiAoIXRhcmdldElzQXJyYXkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbmRCYXRjaCgpO1xufVxuZnVuY3Rpb24gZ2V0RGVwRnJvbVJlYWN0aXZlKG9iamVjdCwga2V5KSB7XG4gIGNvbnN0IGRlcE1hcCA9IHRhcmdldE1hcC5nZXQob2JqZWN0KTtcbiAgcmV0dXJuIGRlcE1hcCAmJiBkZXBNYXAuZ2V0KGtleSk7XG59XG5cbmZ1bmN0aW9uIHJlYWN0aXZlUmVhZEFycmF5KGFycmF5KSB7XG4gIGNvbnN0IHJhdyA9IHRvUmF3KGFycmF5KTtcbiAgaWYgKHJhdyA9PT0gYXJyYXkpIHJldHVybiByYXc7XG4gIHRyYWNrKHJhdywgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgcmV0dXJuIGlzU2hhbGxvdyhhcnJheSkgPyByYXcgOiByYXcubWFwKHRvUmVhY3RpdmUpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWRBcnJheShhcnIpIHtcbiAgdHJhY2soYXJyID0gdG9SYXcoYXJyKSwgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgX19wcm90b19fOiBudWxsLFxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgU3ltYm9sLml0ZXJhdG9yLCB0b1JlYWN0aXZlKTtcbiAgfSxcbiAgY29uY2F0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykuY29uY2F0KFxuICAgICAgLi4uYXJncy5tYXAoKHgpID0+IGlzQXJyYXkoeCkgPyByZWFjdGl2ZVJlYWRBcnJheSh4KSA6IHgpXG4gICAgKTtcbiAgfSxcbiAgZW50cmllcygpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgXCJlbnRyaWVzXCIsICh2YWx1ZSkgPT4ge1xuICAgICAgdmFsdWVbMV0gPSB0b1JlYWN0aXZlKHZhbHVlWzFdKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgfSxcbiAgZXZlcnkoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJldmVyeVwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaWx0ZXIoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaWx0ZXJcIiwgZm4sIHRoaXNBcmcsICh2KSA9PiB2Lm1hcCh0b1JlYWN0aXZlKSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRcIiwgZm4sIHRoaXNBcmcsIHRvUmVhY3RpdmUsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmRJbmRleChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRJbmRleFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kTGFzdChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRMYXN0XCIsIGZuLCB0aGlzQXJnLCB0b1JlYWN0aXZlLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kTGFzdEluZGV4KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmluZExhc3RJbmRleFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICAvLyBmbGF0LCBmbGF0TWFwIGNvdWxkIGJlbmVmaXQgZnJvbSBBUlJBWV9JVEVSQVRFIGJ1dCBhcmUgbm90IHN0cmFpZ2h0LWZvcndhcmQgdG8gaW1wbGVtZW50XG4gIGZvckVhY2goZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmb3JFYWNoXCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGluY2x1ZGVzKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gc2VhcmNoUHJveHkodGhpcywgXCJpbmNsdWRlc1wiLCBhcmdzKTtcbiAgfSxcbiAgaW5kZXhPZiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwiaW5kZXhPZlwiLCBhcmdzKTtcbiAgfSxcbiAgam9pbihzZXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykuam9pbihzZXBhcmF0b3IpO1xuICB9LFxuICAvLyBrZXlzKCkgaXRlcmF0b3Igb25seSByZWFkcyBgbGVuZ3RoYCwgbm8gb3B0aW1pemF0aW9uIHJlcXVpcmVkXG4gIGxhc3RJbmRleE9mKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gc2VhcmNoUHJveHkodGhpcywgXCJsYXN0SW5kZXhPZlwiLCBhcmdzKTtcbiAgfSxcbiAgbWFwKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwibWFwXCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHBvcCgpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInBvcFwiKTtcbiAgfSxcbiAgcHVzaCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJwdXNoXCIsIGFyZ3MpO1xuICB9LFxuICByZWR1Y2UoZm4sIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRoaXMsIFwicmVkdWNlXCIsIGZuLCBhcmdzKTtcbiAgfSxcbiAgcmVkdWNlUmlnaHQoZm4sIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRoaXMsIFwicmVkdWNlUmlnaHRcIiwgZm4sIGFyZ3MpO1xuICB9LFxuICBzaGlmdCgpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInNoaWZ0XCIpO1xuICB9LFxuICAvLyBzbGljZSBjb3VsZCB1c2UgQVJSQVlfSVRFUkFURSBidXQgYWxzbyBzZWVtcyB0byBiZWcgZm9yIHJhbmdlIHRyYWNraW5nXG4gIHNvbWUoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJzb21lXCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHNwbGljZSguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJzcGxpY2VcIiwgYXJncyk7XG4gIH0sXG4gIHRvUmV2ZXJzZWQoKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvUmV2ZXJzZWQoKTtcbiAgfSxcbiAgdG9Tb3J0ZWQoY29tcGFyZXIpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9Tb3J0ZWQoY29tcGFyZXIpO1xuICB9LFxuICB0b1NwbGljZWQoLi4uYXJncykge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1NwbGljZWQoLi4uYXJncyk7XG4gIH0sXG4gIHVuc2hpZnQoLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwidW5zaGlmdFwiLCBhcmdzKTtcbiAgfSxcbiAgdmFsdWVzKCkge1xuICAgIHJldHVybiBpdGVyYXRvcih0aGlzLCBcInZhbHVlc1wiLCB0b1JlYWN0aXZlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGl0ZXJhdG9yKHNlbGYsIG1ldGhvZCwgd3JhcFZhbHVlKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGNvbnN0IGl0ZXIgPSBhcnJbbWV0aG9kXSgpO1xuICBpZiAoYXJyICE9PSBzZWxmICYmICFpc1NoYWxsb3coc2VsZikpIHtcbiAgICBpdGVyLl9uZXh0ID0gaXRlci5uZXh0O1xuICAgIGl0ZXIubmV4dCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXIuX25leHQoKTtcbiAgICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gd3JhcFZhbHVlKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGl0ZXI7XG59XG5jb25zdCBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuZnVuY3Rpb24gYXBwbHkoc2VsZiwgbWV0aG9kLCBmbiwgdGhpc0FyZywgd3JhcHBlZFJldEZuLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGNvbnN0IG5lZWRzV3JhcCA9IGFyciAhPT0gc2VsZiAmJiAhaXNTaGFsbG93KHNlbGYpO1xuICBjb25zdCBtZXRob2RGbiA9IGFyclttZXRob2RdO1xuICBpZiAobWV0aG9kRm4gIT09IGFycmF5UHJvdG9bbWV0aG9kXSkge1xuICAgIGNvbnN0IHJlc3VsdDIgPSBtZXRob2RGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICByZXR1cm4gbmVlZHNXcmFwID8gdG9SZWFjdGl2ZShyZXN1bHQyKSA6IHJlc3VsdDI7XG4gIH1cbiAgbGV0IHdyYXBwZWRGbiA9IGZuO1xuICBpZiAoYXJyICE9PSBzZWxmKSB7XG4gICAgaWYgKG5lZWRzV3JhcCkge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgdG9SZWFjdGl2ZShpdGVtKSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZuLmxlbmd0aCA+IDIpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGl0ZW0sIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IG1ldGhvZEZuLmNhbGwoYXJyLCB3cmFwcGVkRm4sIHRoaXNBcmcpO1xuICByZXR1cm4gbmVlZHNXcmFwICYmIHdyYXBwZWRSZXRGbiA/IHdyYXBwZWRSZXRGbihyZXN1bHQpIDogcmVzdWx0O1xufVxuZnVuY3Rpb24gcmVkdWNlKHNlbGYsIG1ldGhvZCwgZm4sIGFyZ3MpIHtcbiAgY29uc3QgYXJyID0gc2hhbGxvd1JlYWRBcnJheShzZWxmKTtcbiAgbGV0IHdyYXBwZWRGbiA9IGZuO1xuICBpZiAoYXJyICE9PSBzZWxmKSB7XG4gICAgaWYgKCFpc1NoYWxsb3coc2VsZikpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGFjYywgaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYWNjLCB0b1JlYWN0aXZlKGl0ZW0pLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZm4ubGVuZ3RoID4gMykge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oYWNjLCBpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhY2MsIGl0ZW0sIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJbbWV0aG9kXSh3cmFwcGVkRm4sIC4uLmFyZ3MpO1xufVxuZnVuY3Rpb24gc2VhcmNoUHJveHkoc2VsZiwgbWV0aG9kLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHRvUmF3KHNlbGYpO1xuICB0cmFjayhhcnIsIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIGNvbnN0IHJlcyA9IGFyclttZXRob2RdKC4uLmFyZ3MpO1xuICBpZiAoKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkgJiYgaXNQcm94eShhcmdzWzBdKSkge1xuICAgIGFyZ3NbMF0gPSB0b1JhdyhhcmdzWzBdKTtcbiAgICByZXR1cm4gYXJyW21ldGhvZF0oLi4uYXJncyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG5vVHJhY2tpbmcoc2VsZiwgbWV0aG9kLCBhcmdzID0gW10pIHtcbiAgcGF1c2VUcmFja2luZygpO1xuICBzdGFydEJhdGNoKCk7XG4gIGNvbnN0IHJlcyA9IHRvUmF3KHNlbGYpW21ldGhvZF0uYXBwbHkoc2VsZiwgYXJncyk7XG4gIGVuZEJhdGNoKCk7XG4gIHJlc2V0VHJhY2tpbmcoKTtcbiAgcmV0dXJuIHJlcztcbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KFxuICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKS5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBcImFyZ3VtZW50c1wiICYmIGtleSAhPT0gXCJjYWxsZXJcIikubWFwKChrZXkpID0+IFN5bWJvbFtrZXldKS5maWx0ZXIoaXNTeW1ib2wpXG4pO1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkoa2V5KSB7XG4gIGlmICghaXNTeW1ib2woa2V5KSkga2V5ID0gU3RyaW5nKGtleSk7XG4gIGNvbnN0IG9iaiA9IHRvUmF3KHRoaXMpO1xuICB0cmFjayhvYmosIFwiaGFzXCIsIGtleSk7XG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoa2V5KTtcbn1cbmNsYXNzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihfaXNSZWFkb25seSA9IGZhbHNlLCBfaXNTaGFsbG93ID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pc1JlYWRvbmx5ID0gX2lzUmVhZG9ubHk7XG4gICAgdGhpcy5faXNTaGFsbG93ID0gX2lzU2hhbGxvdztcbiAgfVxuICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3Zfc2tpcFwiKSByZXR1cm4gdGFyZ2V0W1wiX192X3NraXBcIl07XG4gICAgY29uc3QgaXNSZWFkb25seTIgPSB0aGlzLl9pc1JlYWRvbmx5LCBpc1NoYWxsb3cyID0gdGhpcy5faXNTaGFsbG93O1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiKSB7XG4gICAgICByZXR1cm4gaXNTaGFsbG93MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIGlmIChyZWNlaXZlciA9PT0gKGlzUmVhZG9ubHkyID8gaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFkb25seU1hcCA6IHJlYWRvbmx5TWFwIDogaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFjdGl2ZU1hcCA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSB8fCAvLyByZWNlaXZlciBpcyBub3QgdGhlIHJlYWN0aXZlIHByb3h5LCBidXQgaGFzIHRoZSBzYW1lIHByb3RvdHlwZVxuICAgICAgLy8gdGhpcyBtZWFucyB0aGUgcmVjZWl2ZXIgaXMgYSB1c2VyIHByb3h5IG9mIHRoZSByZWFjdGl2ZSBwcm94eVxuICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihyZWNlaXZlcikpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICBsZXQgZm47XG4gICAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiAoZm4gPSBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJoYXNPd25Qcm9wZXJ0eVwiKSB7XG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQoXG4gICAgICB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICAvLyBpZiB0aGlzIGlzIGEgcHJveHkgd3JhcHBpbmcgYSByZWYsIHJldHVybiBtZXRob2RzIHVzaW5nIHRoZSByYXcgcmVmXG4gICAgICAvLyBhcyByZWNlaXZlciBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2FsbCBgdG9SYXdgIG9uIHRoZSByZWYgaW4gYWxsXG4gICAgICAvLyBpdHMgY2xhc3MgbWV0aG9kc1xuICAgICAgaXNSZWYodGFyZ2V0KSA/IHRhcmdldCA6IHJlY2VpdmVyXG4gICAgKTtcbiAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICghaXNSZWFkb25seTIpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzU2hhbGxvdzIpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgJiYgaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoIXRoaXMuX2lzU2hhbGxvdykge1xuICAgICAgY29uc3QgaXNPbGRWYWx1ZVJlYWRvbmx5ID0gaXNSZWFkb25seShvbGRWYWx1ZSk7XG4gICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIGlmIChpc09sZFZhbHVlUmVhZG9ubHkpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICAgICAgICB0YXJnZXRba2V5XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGggOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgdmFsdWUsXG4gICAgICBpc1JlZih0YXJnZXQpID8gdGFyZ2V0IDogcmVjZWl2ZXJcbiAgICApO1xuICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKFxuICAgICAgdGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0FycmF5KHRhcmdldCkgPyBcImxlbmd0aFwiIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxufVxuY2xhc3MgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoaXNTaGFsbG93MiA9IGZhbHNlKSB7XG4gICAgc3VwZXIodHJ1ZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seTIsIGlzU2hhbGxvdzIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcbiAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09IFwiZW50cmllc1wiIHx8IG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gXCJrZXlzXCIgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cyID8gdG9TaGFsbG93IDogaXNSZWFkb25seTIgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seTIgJiYgdHJhY2soXG4gICAgICByYXdUYXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXG4gICAgICBuZXh0KCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIGRvbmUgPyB7IHZhbHVlLCBkb25lIH0gOiB7XG4gICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXG4gICAgICAgICAgZG9uZVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXG4gICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FwaXRhbGl6ZSh0eXBlKX0gb3BlcmF0aW9uICR7a2V5fWZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRvUmF3KHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiA/IGZhbHNlIDogdHlwZSA9PT0gXCJjbGVhclwiID8gdm9pZCAwIDogdGhpcztcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMocmVhZG9ubHksIHNoYWxsb3cpIHtcbiAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCByYXdLZXkpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gICAgICBjb25zdCB3cmFwID0gc2hhbGxvdyA/IHRvU2hhbGxvdyA6IHJlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgIXJlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gdGFyZ2V0LnNpemU7XG4gICAgfSxcbiAgICBoYXMoa2V5KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiLCByYXdLZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleSA9PT0gcmF3S2V5ID8gdGFyZ2V0LmhhcyhrZXkpIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcbiAgICB9LFxuICAgIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcbiAgICAgIGNvbnN0IHRhcmdldCA9IG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCB3cmFwID0gc2hhbGxvdyA/IHRvU2hhbGxvdyA6IHJlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICAhcmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiwgSVRFUkFURV9LRVkpO1xuICAgICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgZXh0ZW5kKFxuICAgIGluc3RydW1lbnRhdGlvbnMsXG4gICAgcmVhZG9ubHkgPyB7XG4gICAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiKSxcbiAgICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiksXG4gICAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKVxuICAgIH0gOiB7XG4gICAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgaWYgKCFzaGFsbG93ICYmICFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGhhZEtleSA9IHByb3RvLmhhcy5jYWxsKHRhcmdldCwgdmFsdWUpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIHRhcmdldC5hZGQodmFsdWUpO1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCB2YWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICghc2hhbGxvdyAmJiAhaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgICAgIHRhcmdldC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQgPyBnZXQuY2FsbCh0YXJnZXQsIGtleSkgOiB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKGhhZEtleSkge1xuICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiLCBrZXksIHZvaWQgMCwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCBoYWRJdGVtcyA9IHRhcmdldC5zaXplICE9PSAwO1xuICAgICAgICBjb25zdCBvbGRUYXJnZXQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gaXNNYXAodGFyZ2V0KSA/IG5ldyBNYXAodGFyZ2V0KSA6IG5ldyBTZXQodGFyZ2V0KSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmNsZWFyKCk7XG4gICAgICAgIGlmIChoYWRJdGVtcykge1xuICAgICAgICAgIHRyaWdnZXIoXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBcImNsZWFyXCIsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBvbGRUYXJnZXRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICApO1xuICBjb25zdCBpdGVyYXRvck1ldGhvZHMgPSBbXG4gICAgXCJrZXlzXCIsXG4gICAgXCJ2YWx1ZXNcIixcbiAgICBcImVudHJpZXNcIixcbiAgICBTeW1ib2wuaXRlcmF0b3JcbiAgXTtcbiAgaXRlcmF0b3JNZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgIGluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgcmVhZG9ubHksIHNoYWxsb3cpO1xuICB9KTtcbiAgcmV0dXJuIGluc3RydW1lbnRhdGlvbnM7XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seTIsIHNoYWxsb3cpIHtcbiAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IGNyZWF0ZUluc3RydW1lbnRhdGlvbnMoaXNSZWFkb25seTIsIHNoYWxsb3cpO1xuICByZXR1cm4gKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ge1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5nZXQoXG4gICAgICBoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0ID8gaW5zdHJ1bWVudGF0aW9ucyA6IHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIHJlY2VpdmVyXG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxufTtcbmNvbnN0IHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgdHJ1ZSlcbn07XG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XG4gIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMuY2FsbCh0YXJnZXQsIHJhd0tleSkpIHtcbiAgICBjb25zdCB0eXBlID0gdG9SYXdUeXBlKHRhcmdldCk7XG4gICAgd2FybihcbiAgICAgIGBSZWFjdGl2ZSAke3R5cGV9IGNvbnRhaW5zIGJvdGggdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgb2YgdGhlIHNhbWUgb2JqZWN0JHt0eXBlID09PSBgTWFwYCA/IGAgYXMga2V5c2AgOiBgYH0sIHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gQXZvaWQgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgb2YgYW4gb2JqZWN0IGFuZCBvbmx5IHVzZSB0aGUgcmVhY3RpdmUgdmVyc2lvbiBpZiBwb3NzaWJsZS5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCByZWFjdGl2ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWFkb25seU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcbiAgc3dpdGNoIChyYXdUeXBlKSB7XG4gICAgY2FzZSBcIk9iamVjdFwiOlxuICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgcmV0dXJuIDEgLyogQ09NTU9OICovO1xuICAgIGNhc2UgXCJNYXBcIjpcbiAgICBjYXNlIFwiU2V0XCI6XG4gICAgY2FzZSBcIldlYWtNYXBcIjpcbiAgICBjYXNlIFwiV2Vha1NldFwiOlxuICAgICAgcmV0dXJuIDIgLyogQ09MTEVDVElPTiAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0VHlwZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiXSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgPyAwIC8qIElOVkFMSUQgKi8gOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gcmVhY3RpdmUodGFyZ2V0KSB7XG4gIGlmIChpc1JlYWRvbmx5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgZmFsc2UsXG4gICAgbXV0YWJsZUhhbmRsZXJzLFxuICAgIG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhY3RpdmVNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFjdGl2ZSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyxcbiAgICBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgdHJ1ZSxcbiAgICByZWFkb25seUhhbmRsZXJzLFxuICAgIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHJlYWRvbmx5TWFwXG4gICk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgdHJ1ZSxcbiAgICBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWRvbmx5TWFwXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHkyLCBiYXNlSGFuZGxlcnMsIGNvbGxlY3Rpb25IYW5kbGVycywgcHJveHlNYXApIHtcbiAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGB2YWx1ZSBjYW5ub3QgYmUgbWFkZSAke2lzUmVhZG9ubHkyID8gXCJyZWFkb25seVwiIDogXCJyZWFjdGl2ZVwifTogJHtTdHJpbmcoXG4gICAgICAgICAgdGFyZ2V0XG4gICAgICAgICl9YFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBpZiAodGFyZ2V0W1wiX192X3Jhd1wiXSAmJiAhKGlzUmVhZG9ubHkyICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCJdKSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcbiAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogSU5WQUxJRCAqLykge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoZXhpc3RpbmdQcm94eSkge1xuICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xuICB9XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgIHRhcmdldCxcbiAgICB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnNcbiAgKTtcbiAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xuICByZXR1cm4gcHJveHk7XG59XG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XG4gIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiXSk7XG4gIH1cbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIl0pO1xufVxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFkb25seVwiXSk7XG59XG5mdW5jdGlvbiBpc1NoYWxsb3codmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzU2hhbGxvd1wiXSk7XG59XG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/ICEhdmFsdWVbXCJfX3ZfcmF3XCJdIDogZmFsc2U7XG59XG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xuICBjb25zdCByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XG59XG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XG4gIGlmICghaGFzT3duKHZhbHVlLCBcIl9fdl9za2lwXCIpICYmIE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpKSB7XG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIsIHRydWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG5cbmZ1bmN0aW9uIGlzUmVmKHIpIHtcbiAgcmV0dXJuIHIgPyByW1wiX192X2lzUmVmXCJdID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiByZWYodmFsdWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdykge1xuICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XG4gICAgcmV0dXJuIHJhd1ZhbHVlO1xuICB9XG4gIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XG59XG5jbGFzcyBSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIGlzU2hhbGxvdzIpIHtcbiAgICB0aGlzLmRlcCA9IG5ldyBEZXAoKTtcbiAgICB0aGlzW1wiX192X2lzUmVmXCJdID0gdHJ1ZTtcbiAgICB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSA9IGZhbHNlO1xuICAgIHRoaXMuX3Jhd1ZhbHVlID0gaXNTaGFsbG93MiA/IHZhbHVlIDogdG9SYXcodmFsdWUpO1xuICAgIHRoaXMuX3ZhbHVlID0gaXNTaGFsbG93MiA/IHZhbHVlIDogdG9SZWFjdGl2ZSh2YWx1ZSk7XG4gICAgdGhpc1tcIl9fdl9pc1NoYWxsb3dcIl0gPSBpc1NoYWxsb3cyO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5kZXAudHJhY2soe1xuICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgIGtleTogXCJ2YWx1ZVwiXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXAudHJhY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5fcmF3VmFsdWU7XG4gICAgY29uc3QgdXNlRGlyZWN0VmFsdWUgPSB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSB8fCBpc1NoYWxsb3cobmV3VmFsdWUpIHx8IGlzUmVhZG9ubHkobmV3VmFsdWUpO1xuICAgIG5ld1ZhbHVlID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWx1ZSA6IHRvUmF3KG5ld1ZhbHVlKTtcbiAgICBpZiAoaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbHVlIDogdG9SZWFjdGl2ZShuZXdWYWx1ZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0aGlzLmRlcC50cmlnZ2VyKHtcbiAgICAgICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVwLnRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmMikge1xuICBpZiAocmVmMi5kZXApIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcmVmMi5kZXAudHJpZ2dlcih7XG4gICAgICAgIHRhcmdldDogcmVmMixcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCIsXG4gICAgICAgIG5ld1ZhbHVlOiByZWYyLl92YWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZjIuZGVwLnRyaWdnZXIoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVucmVmKHJlZjIpIHtcbiAgcmV0dXJuIGlzUmVmKHJlZjIpID8gcmVmMi52YWx1ZSA6IHJlZjI7XG59XG5mdW5jdGlvbiB0b1ZhbHVlKHNvdXJjZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UpID8gc291cmNlKCkgOiB1bnJlZihzb3VyY2UpO1xufVxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xuICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IGtleSA9PT0gXCJfX3ZfcmF3XCIgPyB0YXJnZXQgOiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcbiAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcbiAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpID8gb2JqZWN0V2l0aFJlZnMgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XG59XG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICAgIGNvbnN0IGRlcCA9IHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoZGVwLnRyYWNrLmJpbmQoZGVwKSwgZGVwLnRyaWdnZXIuYmluZChkZXApKTtcbiAgICB0aGlzLl9nZXQgPSBnZXQ7XG4gICAgdGhpcy5fc2V0ID0gc2V0O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB0aGlzLl9nZXQoKTtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fc2V0KG5ld1ZhbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XG4gIHJldHVybiBuZXcgQ3VzdG9tUmVmSW1wbChmYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzUHJveHkob2JqZWN0KSkge1xuICAgIHdhcm4oYHRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLmApO1xuICB9XG4gIGNvbnN0IHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICByZXRba2V5XSA9IHByb3BlcnR5VG9SZWYob2JqZWN0LCBrZXkpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoX29iamVjdCwgX2tleSwgX2RlZmF1bHRWYWx1ZSkge1xuICAgIHRoaXMuX29iamVjdCA9IF9vYmplY3Q7XG4gICAgdGhpcy5fa2V5ID0gX2tleTtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBfZGVmYXVsdFZhbHVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB2YWwgPT09IHZvaWQgMCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHZhbDtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gIH1cbiAgZ2V0IGRlcCgpIHtcbiAgICByZXR1cm4gZ2V0RGVwRnJvbVJlYWN0aXZlKHRvUmF3KHRoaXMuX29iamVjdCksIHRoaXMuX2tleSk7XG4gIH1cbn1cbmNsYXNzIEdldHRlclJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihfZ2V0dGVyKSB7XG4gICAgdGhpcy5fZ2V0dGVyID0gX2dldHRlcjtcbiAgICB0aGlzW1wiX192X2lzUmVmXCJdID0gdHJ1ZTtcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSB0cnVlO1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB0aGlzLl9nZXR0ZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gdG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIG5ldyBHZXR0ZXJSZWZJbXBsKHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWYoc291cmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvcGVydHlUb1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGNvbnN0IHZhbCA9IHNvdXJjZVtrZXldO1xuICByZXR1cm4gaXNSZWYodmFsKSA/IHZhbCA6IG5ldyBPYmplY3RSZWZJbXBsKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihmbiwgc2V0dGVyLCBpc1NTUikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLnNldHRlciA9IHNldHRlcjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl92YWx1ZSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcCA9IG5ldyBEZXAodGhpcyk7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIC8vIFRPRE8gaXNvbGF0ZWREZWNsYXJhdGlvbnMgXCJfX3ZfaXNSZWFkb25seVwiXG4gICAgLy8gQSBjb21wdXRlZCBpcyBhbHNvIGEgc3Vic2NyaWJlciB0aGF0IHRyYWNrcyBvdGhlciBkZXBzXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwc1RhaWwgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5mbGFncyA9IDE2O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsVmVyc2lvbiA9IGdsb2JhbFZlcnNpb24gLSAxO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIHRoaXMuZWZmZWN0ID0gdGhpcztcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSAhc2V0dGVyO1xuICAgIHRoaXMuaXNTU1IgPSBpc1NTUjtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnkoKSB7XG4gICAgdGhpcy5mbGFncyB8PSAxNjtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgOCkgJiYgLy8gYXZvaWQgaW5maW5pdGUgc2VsZiByZWN1cnNpb25cbiAgICBhY3RpdmVTdWIgIT09IHRoaXMpIHtcbiAgICAgIGJhdGNoKHRoaXMsIHRydWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IGxpbmsgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gdGhpcy5kZXAudHJhY2soe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgIGtleTogXCJ2YWx1ZVwiXG4gICAgfSkgOiB0aGlzLmRlcC50cmFjaygpO1xuICAgIHJlZnJlc2hDb21wdXRlZCh0aGlzKTtcbiAgICBpZiAobGluaykge1xuICAgICAgbGluay52ZXJzaW9uID0gdGhpcy5kZXAudmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIGlmICh0aGlzLnNldHRlcikge1xuICAgICAgdGhpcy5zZXR0ZXIobmV3VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcIldyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5XCIpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzU1NSID0gZmFsc2UpIHtcbiAgbGV0IGdldHRlcjtcbiAgbGV0IHNldHRlcjtcbiAgaWYgKGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKSkge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xuICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gIH1cbiAgY29uc3QgY1JlZiA9IG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIGlzU1NSKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVidWdPcHRpb25zICYmICFpc1NTUikge1xuICAgIGNSZWYub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgIGNSZWYub25UcmlnZ2VyID0gZGVidWdPcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICByZXR1cm4gY1JlZjtcbn1cblxuY29uc3QgVHJhY2tPcFR5cGVzID0ge1xuICBcIkdFVFwiOiBcImdldFwiLFxuICBcIkhBU1wiOiBcImhhc1wiLFxuICBcIklURVJBVEVcIjogXCJpdGVyYXRlXCJcbn07XG5jb25zdCBUcmlnZ2VyT3BUeXBlcyA9IHtcbiAgXCJTRVRcIjogXCJzZXRcIixcbiAgXCJBRERcIjogXCJhZGRcIixcbiAgXCJERUxFVEVcIjogXCJkZWxldGVcIixcbiAgXCJDTEVBUlwiOiBcImNsZWFyXCJcbn07XG5jb25zdCBSZWFjdGl2ZUZsYWdzID0ge1xuICBcIlNLSVBcIjogXCJfX3Zfc2tpcFwiLFxuICBcIklTX1JFQUNUSVZFXCI6IFwiX192X2lzUmVhY3RpdmVcIixcbiAgXCJJU19SRUFET05MWVwiOiBcIl9fdl9pc1JlYWRvbmx5XCIsXG4gIFwiSVNfU0hBTExPV1wiOiBcIl9fdl9pc1NoYWxsb3dcIixcbiAgXCJSQVdcIjogXCJfX3ZfcmF3XCIsXG4gIFwiSVNfUkVGXCI6IFwiX192X2lzUmVmXCJcbn07XG5cbmNvbnN0IFdhdGNoRXJyb3JDb2RlcyA9IHtcbiAgXCJXQVRDSF9HRVRURVJcIjogMixcbiAgXCIyXCI6IFwiV0FUQ0hfR0VUVEVSXCIsXG4gIFwiV0FUQ0hfQ0FMTEJBQ0tcIjogMyxcbiAgXCIzXCI6IFwiV0FUQ0hfQ0FMTEJBQ0tcIixcbiAgXCJXQVRDSF9DTEVBTlVQXCI6IDQsXG4gIFwiNFwiOiBcIldBVENIX0NMRUFOVVBcIlxufTtcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xuY29uc3QgY2xlYW51cE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xubGV0IGFjdGl2ZVdhdGNoZXIgPSB2b2lkIDA7XG5mdW5jdGlvbiBnZXRDdXJyZW50V2F0Y2hlcigpIHtcbiAgcmV0dXJuIGFjdGl2ZVdhdGNoZXI7XG59XG5mdW5jdGlvbiBvbldhdGNoZXJDbGVhbnVwKGNsZWFudXBGbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UsIG93bmVyID0gYWN0aXZlV2F0Y2hlcikge1xuICBpZiAob3duZXIpIHtcbiAgICBsZXQgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChvd25lcik7XG4gICAgaWYgKCFjbGVhbnVwcykgY2xlYW51cE1hcC5zZXQob3duZXIsIGNsZWFudXBzID0gW10pO1xuICAgIGNsZWFudXBzLnB1c2goY2xlYW51cEZuKTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uV2F0Y2hlckNsZWFudXAoKSB3YXMgY2FsbGVkIHdoZW4gdGhlcmUgd2FzIG5vIGFjdGl2ZSB3YXRjaGVyIHRvIGFzc29jaWF0ZSB3aXRoLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IHsgaW1tZWRpYXRlLCBkZWVwLCBvbmNlLCBzY2hlZHVsZXIsIGF1Z21lbnRKb2IsIGNhbGwgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcbiAgICAob3B0aW9ucy5vbldhcm4gfHwgd2FybikoXG4gICAgICBgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsXG4gICAgICBzLFxuICAgICAgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcmVhY3RpdmVHZXR0ZXIgPSAoc291cmNlMikgPT4ge1xuICAgIGlmIChkZWVwKSByZXR1cm4gc291cmNlMjtcbiAgICBpZiAoaXNTaGFsbG93KHNvdXJjZTIpIHx8IGRlZXAgPT09IGZhbHNlIHx8IGRlZXAgPT09IDApXG4gICAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMiwgMSk7XG4gICAgcmV0dXJuIHRyYXZlcnNlKHNvdXJjZTIpO1xuICB9O1xuICBsZXQgZWZmZWN0O1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgY2xlYW51cDtcbiAgbGV0IGJvdW5kQ2xlYW51cDtcbiAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xuICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBpc1NoYWxsb3coc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcbiAgICBnZXR0ZXIgPSAoKSA9PiByZWFjdGl2ZUdldHRlcihzb3VyY2UpO1xuICAgIGZvcmNlVHJpZ2dlciA9IHRydWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XG4gICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoKHMpID0+IGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpKTtcbiAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKChzKSA9PiB7XG4gICAgICBpZiAoaXNSZWYocykpIHtcbiAgICAgICAgcmV0dXJuIHMudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcbiAgICAgICAgcmV0dXJuIHJlYWN0aXZlR2V0dGVyKHMpO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgIHJldHVybiBjYWxsID8gY2FsbChzLCAyKSA6IHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBnZXR0ZXIgPSBjYWxsID8gKCkgPT4gY2FsbChzb3VyY2UsIDIpIDogc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudEVmZmVjdCA9IGFjdGl2ZVdhdGNoZXI7XG4gICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBlZmZlY3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHNvdXJjZSwgMywgW2JvdW5kQ2xlYW51cF0pIDogc291cmNlKGJvdW5kQ2xlYW51cCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGN1cnJlbnRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IE5PT1A7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xuICB9XG4gIGlmIChjYiAmJiBkZWVwKSB7XG4gICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcbiAgICBjb25zdCBkZXB0aCA9IGRlZXAgPT09IHRydWUgPyBJbmZpbml0eSA6IGRlZXA7XG4gICAgZ2V0dGVyID0gKCkgPT4gdHJhdmVyc2UoYmFzZUdldHRlcigpLCBkZXB0aCk7XG4gIH1cbiAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSAoKSA9PiB7XG4gICAgZWZmZWN0LnN0b3AoKTtcbiAgICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgICByZW1vdmUoc2NvcGUuZWZmZWN0cywgZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmIChvbmNlICYmIGNiKSB7XG4gICAgY29uc3QgX2NiID0gY2I7XG4gICAgY2IgPSAoLi4uYXJncykgPT4ge1xuICAgICAgX2NiKC4uLmFyZ3MpO1xuICAgICAgd2F0Y2hIYW5kbGUoKTtcbiAgICB9O1xuICB9XG4gIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCkuZmlsbChJTklUSUFMX1dBVENIRVJfVkFMVUUpIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xuICBjb25zdCBqb2IgPSAoaW1tZWRpYXRlRmlyc3RSdW4pID0+IHtcbiAgICBpZiAoIShlZmZlY3QuZmxhZ3MgJiAxKSB8fCAhZWZmZWN0LmRpcnR5ICYmICFpbW1lZGlhdGVGaXJzdFJ1bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgaWYgKGRlZXAgfHwgZm9yY2VUcmlnZ2VyIHx8IChpc011bHRpU291cmNlID8gbmV3VmFsdWUuc29tZSgodiwgaSkgPT4gaGFzQ2hhbmdlZCh2LCBvbGRWYWx1ZVtpXSkpIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSkge1xuICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50V2F0Y2hlciA9IGFjdGl2ZVdhdGNoZXI7XG4gICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBlZmZlY3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgYXJncyA9IFtcbiAgICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB2b2lkIDAgOiBpc011bHRpU291cmNlICYmIG9sZFZhbHVlWzBdID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyBbXSA6IG9sZFZhbHVlLFxuICAgICAgICAgICAgYm91bmRDbGVhbnVwXG4gICAgICAgICAgXTtcbiAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgIGNhbGwgPyBjYWxsKGNiLCAzLCBhcmdzKSA6IChcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGNiKC4uLmFyZ3MpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudFdhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGF1Z21lbnRKb2IpIHtcbiAgICBhdWdtZW50Sm9iKGpvYik7XG4gIH1cbiAgZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlcik7XG4gIGVmZmVjdC5zY2hlZHVsZXIgPSBzY2hlZHVsZXIgPyAoKSA9PiBzY2hlZHVsZXIoam9iLCBmYWxzZSkgOiBqb2I7XG4gIGJvdW5kQ2xlYW51cCA9IChmbikgPT4gb25XYXRjaGVyQ2xlYW51cChmbiwgZmFsc2UsIGVmZmVjdCk7XG4gIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXBzID0gY2xlYW51cE1hcC5nZXQoZWZmZWN0KTtcbiAgICBpZiAoY2xlYW51cHMpIHtcbiAgICAgIGlmIChjYWxsKSB7XG4gICAgICAgIGNhbGwoY2xlYW51cHMsIDQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBjbGVhbnVwMiBvZiBjbGVhbnVwcykgY2xlYW51cDIoKTtcbiAgICAgIH1cbiAgICAgIGNsZWFudXBNYXAuZGVsZXRlKGVmZmVjdCk7XG4gICAgfVxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGVmZmVjdC5vblRyYWNrID0gb3B0aW9ucy5vblRyYWNrO1xuICAgIGVmZmVjdC5vblRyaWdnZXIgPSBvcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICBpZiAoY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBqb2IodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9sZFZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzY2hlZHVsZXIpIHtcbiAgICBzY2hlZHVsZXIoam9iLmJpbmQobnVsbCwgdHJ1ZSksIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5ydW4oKTtcbiAgfVxuICB3YXRjaEhhbmRsZS5wYXVzZSA9IGVmZmVjdC5wYXVzZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnJlc3VtZSA9IGVmZmVjdC5yZXN1bWUuYmluZChlZmZlY3QpO1xuICB3YXRjaEhhbmRsZS5zdG9wID0gd2F0Y2hIYW5kbGU7XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBkZXB0aCA9IEluZmluaXR5LCBzZWVuKSB7XG4gIGlmIChkZXB0aCA8PSAwIHx8ICFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiXSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBpZiAoKHNlZW4uZ2V0KHZhbHVlKSB8fCAwKSA+PSBkZXB0aCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuLnNldCh2YWx1ZSwgZGVwdGgpO1xuICBkZXB0aC0tO1xuICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIGRlcHRoLCBzZWVuKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBkZXB0aCwgc2Vlbik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBkZXB0aCwgc2Vlbik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgc2Vlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgQVJSQVlfSVRFUkFURV9LRVksIEVmZmVjdEZsYWdzLCBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIE1BUF9LRVlfSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBXYXRjaEVycm9yQ29kZXMsIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGVuYWJsZVRyYWNraW5nLCBnZXRDdXJyZW50U2NvcGUsIGdldEN1cnJlbnRXYXRjaGVyLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvbkVmZmVjdENsZWFudXAsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFjdGl2ZVJlYWRBcnJheSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZEFycmF5LCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlYWN0aXZlLCB0b1JlYWRvbmx5LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmFjaywgdHJhdmVyc2UsIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmLCB3YXRjaCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1jb3JlIHYzLjUuMjRcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1JhdywgdHJhdmVyc2UsIHNoYWxsb3dSZWYsIHJlYWRvbmx5LCBpc1JlYWN0aXZlLCByZWYsIGlzU2hhbGxvdywgaXNSZWFkb25seSwgc2hhbGxvd1JlYWRBcnJheSwgdG9SZWFkb25seSwgdG9SZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcmVhY3RpdmUsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgUmVhY3RpdmVFZmZlY3QsIHdhdGNoIGFzIHdhdGNoJDEsIGN1c3RvbVJlZiwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBFZmZlY3RTY29wZSwgUmVhY3RpdmVFZmZlY3QsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudFNjb3BlLCBnZXRDdXJyZW50V2F0Y2hlciwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIG9uV2F0Y2hlckNsZWFudXAsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIEVNUFRZX09CSiwgaXNQcm9taXNlLCBpc0FycmF5LCBOT09QLCBnZXRHbG9iYWxUaGlzLCBleHRlbmQsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgTk8sIGhhc093biwgcmVtb3ZlLCBkZWYsIGlzT24sIGlzUmVzZXJ2ZWRQcm9wLCBub3JtYWxpemVDbGFzcywgc3RyaW5naWZ5U3R5bGUsIG5vcm1hbGl6ZVN0eWxlLCBpc0tub3duU3ZnQXR0ciwgaXNCb29sZWFuQXR0ciwgaXNLbm93bkh0bWxBdHRyLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSwgbm9ybWFsaXplQ3NzVmFyVmFsdWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBpc09iamVjdCwgaXNSZWdFeHAsIGludm9rZUFycmF5Rm5zLCB0b0hhbmRsZXJLZXksIGNhbWVsaXplLCBjYXBpdGFsaXplLCBpc1N5bWJvbCwgaXNHbG9iYWxseUFsbG93ZWQsIEVNUFRZX0FSUiwgaHlwaGVuYXRlLCBtYWtlTWFwLCB0b1Jhd1R5cGUsIGhhc0NoYW5nZWQsIGxvb3NlVG9OdW1iZXIsIGlzTW9kZWxMaXN0ZW5lciwgdG9OdW1iZXIgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcbiAgc3RhY2sucHVzaCh2bm9kZSk7XG59XG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcbiAgc3RhY2sucG9wKCk7XG59XG5sZXQgaXNXYXJuaW5nID0gZmFsc2U7XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gIGlmIChpc1dhcm5pbmcpIHJldHVybjtcbiAgaXNXYXJuaW5nID0gdHJ1ZTtcbiAgcGF1c2VUcmFja2luZygpO1xuICBjb25zdCBpbnN0YW5jZSA9IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmNvbXBvbmVudCA6IG51bGw7XG4gIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XG4gIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcbiAgaWYgKGFwcFdhcm5IYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgYXBwV2FybkhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDExLFxuICAgICAgW1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgICAgbXNnICsgYXJncy5tYXAoKGEpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBhLnRvU3RyaW5nKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhKSkgIT0gbnVsbCA/IF9iIDogSlNPTi5zdHJpbmdpZnkoYSk7XG4gICAgICAgIH0pLmpvaW4oXCJcIiksXG4gICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxuICAgICAgICB0cmFjZS5tYXAoXG4gICAgICAgICAgKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gXG4gICAgICAgICkuam9pbihcIlxcblwiKSxcbiAgICAgICAgdHJhY2VcbiAgICAgIF1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcbiAgICBpZiAodHJhY2UubGVuZ3RoICYmIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXG4gICAgdHJ1ZSkge1xuICAgICAgd2FybkFyZ3MucHVzaChgXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xuICB9XG4gIHJlc2V0VHJhY2tpbmcoKTtcbiAgaXNXYXJuaW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAoIWN1cnJlbnRWTm9kZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XG4gICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XG4gICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXG4gICAgICAgIHJlY3Vyc2VDb3VudDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgY29uc3QgbG9ncyA9IFtdO1xuICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xuICAgIGxvZ3MucHVzaCguLi5pID09PSAwID8gW10gOiBbYFxuYF0sIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcbiAgfSk7XG4gIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xuICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcbiAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICB2bm9kZS5jb21wb25lbnQsXG4gICAgdm5vZGUudHlwZSxcbiAgICBpc1Jvb3RcbiAgKX1gO1xuICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gIHJldHVybiB2bm9kZS5wcm9wcyA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXSA6IFtvcGVuICsgY2xvc2VdO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcbiAgfSk7XG4gIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICByZXMucHVzaChgIC4uLmApO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsLCB0eXBlKSB7XG4gIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgcmV0dXJuO1xuICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIikge1xuICAgIHdhcm4kMShgJHt0eXBlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcbiAgfSBlbHNlIGlmIChpc05hTih2YWwpKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIE5hTiAtIHRoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC5gKTtcbiAgfVxufVxuXG5jb25zdCBFcnJvckNvZGVzID0ge1xuICBcIlNFVFVQX0ZVTkNUSU9OXCI6IDAsXG4gIFwiMFwiOiBcIlNFVFVQX0ZVTkNUSU9OXCIsXG4gIFwiUkVOREVSX0ZVTkNUSU9OXCI6IDEsXG4gIFwiMVwiOiBcIlJFTkRFUl9GVU5DVElPTlwiLFxuICBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCI6IDUsXG4gIFwiNVwiOiBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCIsXG4gIFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIjogNixcbiAgXCI2XCI6IFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJWTk9ERV9IT09LXCI6IDcsXG4gIFwiN1wiOiBcIlZOT0RFX0hPT0tcIixcbiAgXCJESVJFQ1RJVkVfSE9PS1wiOiA4LFxuICBcIjhcIjogXCJESVJFQ1RJVkVfSE9PS1wiLFxuICBcIlRSQU5TSVRJT05fSE9PS1wiOiA5LFxuICBcIjlcIjogXCJUUkFOU0lUSU9OX0hPT0tcIixcbiAgXCJBUFBfRVJST1JfSEFORExFUlwiOiAxMCxcbiAgXCIxMFwiOiBcIkFQUF9FUlJPUl9IQU5ETEVSXCIsXG4gIFwiQVBQX1dBUk5fSEFORExFUlwiOiAxMSxcbiAgXCIxMVwiOiBcIkFQUF9XQVJOX0hBTkRMRVJcIixcbiAgXCJGVU5DVElPTl9SRUZcIjogMTIsXG4gIFwiMTJcIjogXCJGVU5DVElPTl9SRUZcIixcbiAgXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCI6IDEzLFxuICBcIjEzXCI6IFwiQVNZTkNfQ09NUE9ORU5UX0xPQURFUlwiLFxuICBcIlNDSEVEVUxFUlwiOiAxNCxcbiAgXCIxNFwiOiBcIlNDSEVEVUxFUlwiLFxuICBcIkNPTVBPTkVOVF9VUERBVEVcIjogMTUsXG4gIFwiMTVcIjogXCJDT01QT05FTlRfVVBEQVRFXCIsXG4gIFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiOiAxNixcbiAgXCIxNlwiOiBcIkFQUF9VTk1PVU5UX0NMRUFOVVBcIlxufTtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MkMSA9IHtcbiAgW1wic3BcIl06IFwic2VydmVyUHJlZmV0Y2ggaG9va1wiLFxuICBbXCJiY1wiXTogXCJiZWZvcmVDcmVhdGUgaG9va1wiLFxuICBbXCJjXCJdOiBcImNyZWF0ZWQgaG9va1wiLFxuICBbXCJibVwiXTogXCJiZWZvcmVNb3VudCBob29rXCIsXG4gIFtcIm1cIl06IFwibW91bnRlZCBob29rXCIsXG4gIFtcImJ1XCJdOiBcImJlZm9yZVVwZGF0ZSBob29rXCIsXG4gIFtcInVcIl06IFwidXBkYXRlZFwiLFxuICBbXCJidW1cIl06IFwiYmVmb3JlVW5tb3VudCBob29rXCIsXG4gIFtcInVtXCJdOiBcInVubW91bnRlZCBob29rXCIsXG4gIFtcImFcIl06IFwiYWN0aXZhdGVkIGhvb2tcIixcbiAgW1wiZGFcIl06IFwiZGVhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJlY1wiXTogXCJlcnJvckNhcHR1cmVkIGhvb2tcIixcbiAgW1wicnRjXCJdOiBcInJlbmRlclRyYWNrZWQgaG9va1wiLFxuICBbXCJydGdcIl06IFwicmVuZGVyVHJpZ2dlcmVkIGhvb2tcIixcbiAgWzBdOiBcInNldHVwIGZ1bmN0aW9uXCIsXG4gIFsxXTogXCJyZW5kZXIgZnVuY3Rpb25cIixcbiAgWzJdOiBcIndhdGNoZXIgZ2V0dGVyXCIsXG4gIFszXTogXCJ3YXRjaGVyIGNhbGxiYWNrXCIsXG4gIFs0XTogXCJ3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb25cIixcbiAgWzVdOiBcIm5hdGl2ZSBldmVudCBoYW5kbGVyXCIsXG4gIFs2XTogXCJjb21wb25lbnQgZXZlbnQgaGFuZGxlclwiLFxuICBbN106IFwidm5vZGUgaG9va1wiLFxuICBbOF06IFwiZGlyZWN0aXZlIGhvb2tcIixcbiAgWzldOiBcInRyYW5zaXRpb24gaG9va1wiLFxuICBbMTBdOiBcImFwcCBlcnJvckhhbmRsZXJcIixcbiAgWzExXTogXCJhcHAgd2FybkhhbmRsZXJcIixcbiAgWzEyXTogXCJyZWYgZnVuY3Rpb25cIixcbiAgWzEzXTogXCJhc3luYyBjb21wb25lbnQgbG9hZGVyXCIsXG4gIFsxNF06IFwic2NoZWR1bGVyIGZsdXNoXCIsXG4gIFsxNV06IFwiY29tcG9uZW50IHVwZGF0ZVwiLFxuICBbMTZdOiBcImFwcCB1bm1vdW50IGNsZWFudXAgZnVuY3Rpb25cIlxufTtcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgSW52YWxpZCB2YWx1ZSB0eXBlIHBhc3NlZCB0byBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZygpOiAke3R5cGVvZiBmbn1gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XG4gIGNvbnN0IHsgZXJyb3JIYW5kbGVyLCB0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uIH0gPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyB8fCBFTVBUWV9PQko7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgZXJyb3JJbmZvID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXSA6IGBodHRwczovL3Z1ZWpzLm9yZy9lcnJvci1yZWZlcmVuY2UvI3J1bnRpbWUtJHt0eXBlfWA7XG4gICAgd2hpbGUgKGN1cikge1xuICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xuICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgIH1cbiAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZXJyb3JIYW5kbGVyLCBudWxsLCAxMCwgW1xuICAgICAgICBlcnIsXG4gICAgICAgIGV4cG9zZWRJbnN0YW5jZSxcbiAgICAgICAgZXJyb3JJbmZvXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24pO1xufVxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlLCB0aHJvd0luUHJvZCA9IGZhbHNlKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcbiAgICB9XG4gICAgd2FybiQxKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgIH1cbiAgICBpZiAodGhyb3dJbkRldikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRocm93SW5Qcm9kKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IGZsdXNoSW5kZXggPSAtMTtcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcbiAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcbn1cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcbiAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyBlbmQgPj4+IDE7XG4gICAgY29uc3QgbWlkZGxlSm9iID0gcXVldWVbbWlkZGxlXTtcbiAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKG1pZGRsZUpvYik7XG4gICAgaWYgKG1pZGRsZUpvYklkIDwgaWQgfHwgbWlkZGxlSm9iSWQgPT09IGlkICYmIG1pZGRsZUpvYi5mbGFncyAmIDIpIHtcbiAgICAgIHN0YXJ0ID0gbWlkZGxlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kID0gbWlkZGxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgaWYgKCEoam9iLmZsYWdzICYgMSkpIHtcbiAgICBjb25zdCBqb2JJZCA9IGdldElkKGpvYik7XG4gICAgY29uc3QgbGFzdEpvYiA9IHF1ZXVlW3F1ZXVlLmxlbmd0aCAtIDFdO1xuICAgIGlmICghbGFzdEpvYiB8fCAvLyBmYXN0IHBhdGggd2hlbiB0aGUgam9iIGlkIGlzIGxhcmdlciB0aGFuIHRoZSB0YWlsXG4gICAgIShqb2IuZmxhZ3MgJiAyKSAmJiBqb2JJZCA+PSBnZXRJZChsYXN0Sm9iKSkge1xuICAgICAgcXVldWUucHVzaChqb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZS5zcGxpY2UoZmluZEluc2VydGlvbkluZGV4KGpvYklkKSwgMCwgam9iKTtcbiAgICB9XG4gICAgam9iLmZsYWdzIHw9IDE7XG4gICAgcXVldWVGbHVzaCgpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xuICBpZiAoIWN1cnJlbnRGbHVzaFByb21pc2UpIHtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xuICBpZiAoIWlzQXJyYXkoY2IpKSB7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicyAmJiBjYi5pZCA9PT0gLTEpIHtcbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5zcGxpY2UocG9zdEZsdXNoSW5kZXggKyAxLCAwLCBjYik7XG4gICAgfSBlbHNlIGlmICghKGNiLmZsYWdzICYgMSkpIHtcbiAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaChjYik7XG4gICAgICBjYi5mbGFncyB8PSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLnB1c2goLi4uY2IpO1xuICB9XG4gIHF1ZXVlRmx1c2goKTtcbn1cbmZ1bmN0aW9uIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UsIHNlZW4sIGkgPSBmbHVzaEluZGV4ICsgMSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNiID0gcXVldWVbaV07XG4gICAgaWYgKGNiICYmIGNiLmZsYWdzICYgMikge1xuICAgICAgaWYgKGluc3RhbmNlICYmIGNiLmlkICE9PSBpbnN0YW5jZS51aWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgaS0tO1xuICAgICAgaWYgKGNiLmZsYWdzICYgNCkge1xuICAgICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICAgIGNiKCk7XG4gICAgICBpZiAoIShjYi5mbGFncyAmIDQpKSB7XG4gICAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xuICBpZiAocGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICBjb25zdCBkZWR1cGVkID0gWy4uLm5ldyBTZXQocGVuZGluZ1Bvc3RGbHVzaENicyldLnNvcnQoXG4gICAgICAoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKVxuICAgICk7XG4gICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xuICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBkZWR1cGVkO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBmb3IgKHBvc3RGbHVzaEluZGV4ID0gMDsgcG9zdEZsdXNoSW5kZXggPCBhY3RpdmVQb3N0Rmx1c2hDYnMubGVuZ3RoOyBwb3N0Rmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBjYiA9IGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF07XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGNiLmZsYWdzICYgNCkge1xuICAgICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICAgIGlmICghKGNiLmZsYWdzICYgOCkpIGNiKCk7XG4gICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbiAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gIH1cbn1cbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBqb2IuZmxhZ3MgJiAyID8gLTEgOiBJbmZpbml0eSA6IGpvYi5pZDtcbmZ1bmN0aW9uIGZsdXNoSm9icyhzZWVuKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBjb25zdCBjaGVjayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyAoam9iKSA9PiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSA6IE5PT1A7XG4gIHRyeSB7XG4gICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IgJiYgIShqb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVjayhqb2IpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpvYi5mbGFncyAmIDQpIHtcbiAgICAgICAgICBqb2IuZmxhZ3MgJj0gfjE7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgICAgIGpvYixcbiAgICAgICAgICBqb2IuaSxcbiAgICAgICAgICBqb2IuaSA/IDE1IDogMTRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEoam9iLmZsYWdzICYgNCkpIHtcbiAgICAgICAgICBqb2IuZmxhZ3MgJj0gfjE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgZm9yICg7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xuICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XG4gICAgICBpZiAoam9iKSB7XG4gICAgICAgIGpvYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICB9XG4gICAgZmx1c2hJbmRleCA9IC0xO1xuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XG4gICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgICAgZmx1c2hKb2JzKHNlZW4pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XG4gIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pIHx8IDA7XG4gIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZm4uaTtcbiAgICBjb25zdCBjb21wb25lbnROYW1lID0gaW5zdGFuY2UgJiYgZ2V0Q29tcG9uZW50TmFtZShpbnN0YW5jZS50eXBlKTtcbiAgICBoYW5kbGVFcnJvcihcbiAgICAgIGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gLFxuICAgICAgbnVsbCxcbiAgICAgIDEwXG4gICAgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuY29uc3QgaG1yRGlydHlDb21wb25lbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xuICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxuICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxuICB9O1xufVxuY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIGNvbnN0IGlkID0gaW5zdGFuY2UudHlwZS5fX2htcklkO1xuICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgfVxuICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5pbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgaW5pdGlhbERlZikge1xuICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbWFwLnNldChpZCwge1xuICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgIGluc3RhbmNlczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICB9KTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gIFsuLi5yZWNvcmQuaW5zdGFuY2VzXS5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChuZXdSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICBpZiAoIShpbnN0YW5jZS5qb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgfVxuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBsZXQgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG9sZENvbXApO1xuICAgIGlmICghZGlydHlJbnN0YW5jZXMpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuc2V0KG9sZENvbXAsIGRpcnR5SW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBxdWV1ZUpvYigoKSA9PiB7XG4gICAgICAgIGlmICghKGluc3RhbmNlLmpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgaW5zdGFuY2UucGFyZW50LnVwZGF0ZSgpO1xuICAgICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XG4gICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnJvb3QuY2UgJiYgaW5zdGFuY2UgIT09IGluc3RhbmNlLnJvb3QpIHtcbiAgICAgIGluc3RhbmNlLnJvb3QuY2UuX3JlbW92ZUNoaWxkU3R5bGUob2xkQ29tcCk7XG4gICAgfVxuICB9XG4gIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xuICAgIGhtckRpcnR5Q29tcG9uZW50cy5jbGVhcigpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKSB7XG4gIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2xkQ29tcCkge1xuICAgIGlmIChrZXkgIT09IFwiX19maWxlXCIgJiYgIShrZXkgaW4gbmV3Q29tcCkpIHtcbiAgICAgIGRlbGV0ZSBvbGRDb21wW2tleV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XG4gIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5sZXQgZGV2dG9vbHMkMTtcbmxldCBidWZmZXIgPSBbXTtcbmxldCBkZXZ0b29sc05vdEluc3RhbGxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW1pdCQxKGV2ZW50LCAuLi5hcmdzKSB7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgfSBlbHNlIGlmICghZGV2dG9vbHNOb3RJbnN0YWxsZWQpIHtcbiAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2skMShob29rLCB0YXJnZXQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgZGV2dG9vbHMkMSA9IGhvb2s7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbmFibGVkID0gdHJ1ZTtcbiAgICBidWZmZXIuZm9yRWFjaCgoeyBldmVudCwgYXJncyB9KSA9PiBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfSBlbHNlIGlmIChcbiAgICAvLyBoYW5kbGUgbGF0ZSBkZXZ0b29scyBpbmplY3Rpb24gLSBvbmx5IGRvIHRoaXMgaWYgd2UgYXJlIGluIGFuIGFjdHVhbFxuICAgIC8vIGJyb3dzZXIgZW52aXJvbm1lbnQgdG8gYXZvaWQgdGhlIHRpbWVyIGhhbmRsZSBzdGFsbGluZyB0ZXN0IHJ1bm5lciBleGl0XG4gICAgLy8gKCM0ODE1KVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgLy8gYWxzbyBleGNsdWRlIGpzZG9tXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgISgoX2IgPSAoX2EgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJqc2RvbVwiKSlcbiAgKSB7XG4gICAgY29uc3QgcmVwbGF5ID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyB8fCBbXTtcbiAgICByZXBsYXkucHVzaCgobmV3SG9vaykgPT4ge1xuICAgICAgc2V0RGV2dG9vbHNIb29rJDEobmV3SG9vaywgdGFyZ2V0KTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghZGV2dG9vbHMkMSkge1xuICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgICB9XG4gICAgfSwgM2UzKTtcbiAgfSBlbHNlIHtcbiAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgYnVmZmVyID0gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcbiAgZW1pdCQxKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgRnJhZ21lbnQsXG4gICAgVGV4dCxcbiAgICBDb21tZW50LFxuICAgIFN0YXRpY1xuICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgZW1pdCQxKFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcbn1cbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OmFkZGVkXCIgLyogQ09NUE9ORU5UX0FEREVEICovKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovKTtcbmNvbnN0IF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFxuICBcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi9cbik7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAoY29tcG9uZW50KSA9PiB7XG4gIGlmIChkZXZ0b29scyQxICYmIHR5cGVvZiBkZXZ0b29scyQxLmNsZWFudXBCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgIWRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlcihjb21wb25lbnQpKSB7XG4gICAgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQpO1xuICB9XG59O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50KSA9PiB7XG4gICAgZW1pdCQxKFxuICAgICAgaG9vayxcbiAgICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICAgIGNvbXBvbmVudC51aWQsXG4gICAgICBjb21wb25lbnQucGFyZW50ID8gY29tcG9uZW50LnBhcmVudC51aWQgOiB2b2lkIDAsXG4gICAgICBjb21wb25lbnRcbiAgICApO1xuICB9O1xufVxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOnN0YXJ0XCIgLyogUEVSRk9STUFOQ0VfU1RBUlQgKi8pO1xuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjplbmRcIiAvKiBQRVJGT1JNQU5DRV9FTkQgKi8pO1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCwgdHlwZSwgdGltZSkgPT4ge1xuICAgIGVtaXQkMShob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XG4gIH07XG59XG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XG4gIGVtaXQkMShcbiAgICBcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sXG4gICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgIGNvbXBvbmVudCxcbiAgICBldmVudCxcbiAgICBwYXJhbXNcbiAgKTtcbn1cblxubGV0IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IGluc3RhbmNlO1xuICBjdXJyZW50U2NvcGVJZCA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19zY29wZUlkIHx8IG51bGw7XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gcHVzaFNjb3BlSWQoaWQpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBpZDtcbn1cbmZ1bmN0aW9uIHBvcFNjb3BlSWQoKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbn1cbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgaXNOb25TY29wZWRTbG90KSB7XG4gIGlmICghY3R4KSByZXR1cm4gZm47XG4gIGlmIChmbi5fbikge1xuICAgIHJldHVybiBmbjtcbiAgfVxuICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgc2V0QmxvY2tUcmFja2luZygtMSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZJbnN0YW5jZSA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShjdHgpO1xuICAgIGxldCByZXM7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IGZuKC4uLmFyZ3MpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldkluc3RhbmNlKTtcbiAgICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XG4gIHJldHVybiByZW5kZXJGbldpdGhDb250ZXh0O1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICBpZiAoaXNCdWlsdEluRGlyZWN0aXZlKG5hbWUpKSB7XG4gICAgd2FybiQxKFwiRG8gbm90IHVzZSBidWlsdC1pbiBkaXJlY3RpdmUgaWRzIGFzIGN1c3RvbSBkaXJlY3RpdmUgaWQ6IFwiICsgbmFtZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpO1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICBpZiAoZGlyKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XG4gICAgICAgIGRpciA9IHtcbiAgICAgICAgICBtb3VudGVkOiBkaXIsXG4gICAgICAgICAgdXBkYXRlZDogZGlyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZGlyLmRlZXApIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgIGRpcixcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxuICAgICAgICBhcmcsXG4gICAgICAgIG1vZGlmaWVyc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xuICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICBpZiAob2xkQmluZGluZ3MpIHtcbiAgICAgIGJpbmRpbmcub2xkVmFsdWUgPSBvbGRCaW5kaW5nc1tpXS52YWx1ZTtcbiAgICB9XG4gICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICBpZiAoaG9vaykge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDgsIFtcbiAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgIGJpbmRpbmcsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBwcmV2Vk5vZGVcbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBUZWxlcG9ydEVuZEtleSA9IFN5bWJvbChcIl92dGVcIik7XG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09IFwiXCIpO1xuY29uc3QgaXNUZWxlcG9ydERlZmVycmVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGVmZXIgfHwgcHJvcHMuZGVmZXIgPT09IFwiXCIpO1xuY29uc3QgaXNUYXJnZXRTVkcgPSAodGFyZ2V0KSA9PiB0eXBlb2YgU1ZHRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuY29uc3QgaXNUYXJnZXRNYXRoTUwgPSAodGFyZ2V0KSA9PiB0eXBlb2YgTWF0aE1MRWxlbWVudCA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldCBpbnN0YW5jZW9mIE1hdGhNTEVsZW1lbnQ7XG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcbiAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcbiAgaWYgKGlzU3RyaW5nKHRhcmdldFNlbGVjdG9yKSkge1xuICAgIGlmICghc2VsZWN0KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIChtaXNzaW5nIHF1ZXJ5U2VsZWN0b3IgcmVuZGVyZXIgb3B0aW9uKWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXQgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9jYXRlIFRlbGVwb3J0IHRhcmdldCB3aXRoIHNlbGVjdG9yIFwiJHt0YXJnZXRTZWxlY3Rvcn1cIi4gTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGlkZWFsbHkgc2hvdWxkIGJlIG91dHNpZGUgb2YgdGhlIGVudGlyZSBWdWUgY29tcG9uZW50IHRyZWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XG4gIH1cbn07XG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XG4gIG5hbWU6IFwiVGVsZXBvcnRcIixcbiAgX19pc1RlbGVwb3J0OiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICAgIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH1cbiAgICB9ID0gaW50ZXJuYWxzO1xuICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcbiAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gbjIuZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IHN0YXJ0XCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGNvbnN0IG1haW5BbmNob3IgPSBuMi5hbmNob3IgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IGVuZFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIyLCBhbmNob3IyKSA9PiB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgbW91bnRUb1RhcmdldCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IHByZXBhcmVBbmNob3IodGFyZ2V0LCBuMiwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgIT09IFwic3ZnXCIgJiYgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSAhPT0gXCJtYXRobWxcIiAmJiBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5pc0NFKSB7XG4gICAgICAgICAgICAocGFyZW50Q29tcG9uZW50LmNlLl90ZWxlcG9ydFRhcmdldHMgfHwgKHBhcmVudENvbXBvbmVudC5jZS5fdGVsZXBvcnRUYXJnZXRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpLmFkZCh0YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDpcIixcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xuICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpKSB7XG4gICAgICAgIG4yLmVsLl9faXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgICAgIGRlbGV0ZSBuMi5lbC5fX2lzTW91bnRlZDtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNUZWxlcG9ydERlZmVycmVkKG4yLnByb3BzKSAmJiBuMS5lbC5fX2lzTW91bnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBUZWxlcG9ydEltcGwucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLnRhcmdldFN0YXJ0ID0gbjEudGFyZ2V0U3RhcnQ7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gbjEudGFyZ2V0O1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yO1xuICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgfVxuICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCAhISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSk7XG4gICAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIGN1cnJlbnRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBtYWluQW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG4yLnByb3BzICYmIG4xLnByb3BzICYmIG4yLnByb3BzLnRvICE9PSBuMS5wcm9wcy50bykge1xuICAgICAgICAgICAgbjIucHJvcHMudG8gPSBuMS5wcm9wcy50bztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgICAgICAgICBuMi5wcm9wcyxcbiAgICAgICAgICAgIHF1ZXJ5U2VsZWN0b3JcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XG4gICAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgICBuZXh0VGFyZ2V0LFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOlwiLFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGRpc2FibGVkKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgeyB1bTogdW5tb3VudCwgbzogeyByZW1vdmU6IGhvc3RSZW1vdmUgfSB9LCBkb1JlbW92ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgYW5jaG9yLFxuICAgICAgdGFyZ2V0U3RhcnQsXG4gICAgICB0YXJnZXRBbmNob3IsXG4gICAgICB0YXJnZXQsXG4gICAgICBwcm9wc1xuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBob3N0UmVtb3ZlKHRhcmdldFN0YXJ0KTtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICB9XG4gICAgZG9SZW1vdmUgJiYgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNob3VsZFJlbW92ZSxcbiAgICAgICAgICAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW92ZTogbW92ZVRlbGVwb3J0LFxuICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcbn07XG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyKSB7XG4gIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcbiAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDI7XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoXG4gICAgICAgICAgY2hpbGRyZW5baV0sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudEFuY2hvcixcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHtcbiAgbzogeyBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcXVlcnlTZWxlY3RvciwgaW5zZXJ0LCBjcmVhdGVUZXh0IH1cbn0sIGh5ZHJhdGVDaGlsZHJlbikge1xuICBmdW5jdGlvbiBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChub2RlMiwgdm5vZGUyLCB0YXJnZXRTdGFydCwgdGFyZ2V0QW5jaG9yKSB7XG4gICAgdm5vZGUyLmFuY2hvciA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUyKSxcbiAgICAgIHZub2RlMixcbiAgICAgIHBhcmVudE5vZGUobm9kZTIpLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIHZub2RlMi50YXJnZXRTdGFydCA9IHRhcmdldFN0YXJ0O1xuICAgIHZub2RlMi50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gdm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICB2bm9kZS5wcm9wcyxcbiAgICBxdWVyeVNlbGVjdG9yXG4gICk7XG4gIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldE5vZGUsXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICB3aGlsZSAodGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJiB0YXJnZXRBbmNob3Iubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBzdGFydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0QW5jaG9yLmRhdGEgPT09IFwidGVsZXBvcnQgYW5jaG9yXCIpIHtcbiAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgICB0YXJnZXQuX2xwYSA9IHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZub2RlLnRhcmdldEFuY2hvcikge1xuICAgICAgICAgIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ3NzVmFycyh2bm9kZSwgZGlzYWJsZWQpO1xuICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChub2RlLCB2bm9kZSwgbm9kZSwgbmV4dFNpYmxpbmcobm9kZSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XG59XG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcbmZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcnModm5vZGUsIGlzRGlzYWJsZWQpIHtcbiAgY29uc3QgY3R4ID0gdm5vZGUuY3R4O1xuICBpZiAoY3R4ICYmIGN0eC51dCkge1xuICAgIGxldCBub2RlLCBhbmNob3I7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgIG5vZGUgPSB2bm9kZS5lbDtcbiAgICAgIGFuY2hvciA9IHZub2RlLmFuY2hvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IHZub2RlLnRhcmdldFN0YXJ0O1xuICAgICAgYW5jaG9yID0gdm5vZGUudGFyZ2V0QW5jaG9yO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBhbmNob3IpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtdi1vd25lclwiLCBjdHgudWlkKTtcbiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBjdHgudXQoKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJlcGFyZUFuY2hvcih0YXJnZXQsIHZub2RlLCBjcmVhdGVUZXh0LCBpbnNlcnQpIHtcbiAgY29uc3QgdGFyZ2V0U3RhcnQgPSB2bm9kZS50YXJnZXRTdGFydCA9IGNyZWF0ZVRleHQoXCJcIik7XG4gIGNvbnN0IHRhcmdldEFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoXCJcIik7XG4gIHRhcmdldFN0YXJ0W1RlbGVwb3J0RW5kS2V5XSA9IHRhcmdldEFuY2hvcjtcbiAgaWYgKHRhcmdldCkge1xuICAgIGluc2VydCh0YXJnZXRTdGFydCwgdGFyZ2V0KTtcbiAgICBpbnNlcnQodGFyZ2V0QW5jaG9yLCB0YXJnZXQpO1xuICB9XG4gIHJldHVybiB0YXJnZXRBbmNob3I7XG59XG5cbmNvbnN0IGxlYXZlQ2JLZXkgPSBTeW1ib2woXCJfbGVhdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc0xlYXZpbmc6IGZhbHNlLFxuICAgIGlzVW5tb3VudGluZzogZmFsc2UsXG4gICAgbGVhdmluZ1ZOb2RlczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICB9O1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XG4gIH0pO1xuICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgIHN0YXRlLmlzVW5tb3VudGluZyA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciA9IFtGdW5jdGlvbiwgQXJyYXldO1xuY29uc3QgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG1vZGU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXG4gIC8vIGVudGVyXG4gIG9uQmVmb3JlRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGxlYXZlXG4gIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGFwcGVhclxuICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxufTtcbmNvbnN0IHJlY3Vyc2l2ZUdldFN1YnRyZWUgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gIHJldHVybiBzdWJUcmVlLmNvbXBvbmVudCA/IHJlY3Vyc2l2ZUdldFN1YnRyZWUoc3ViVHJlZS5jb21wb25lbnQpIDogc3ViVHJlZTtcbn07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXG4gIHByb3BzOiBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkID0gZmluZE5vbkNvbW1lbnRDaGlsZChjaGlsZHJlbik7XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtb2RlICYmIG1vZGUgIT09IFwiaW4tb3V0XCIgJiYgbW9kZSAhPT0gXCJvdXQtaW5cIiAmJiBtb2RlICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgICB3YXJuJDEoYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldElubmVyQ2hpbGQkMShjaGlsZCk7XG4gICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgbGV0IGVudGVySG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICBpbm5lckNoaWxkLFxuICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICAvLyAjMTEwNjEsIGVuc3VyZSBlbnRlckhvb2tzIGlzIGZyZXNoIGFmdGVyIGNsb25lXG4gICAgICAgIChob29rcykgPT4gZW50ZXJIb29rcyA9IGhvb2tzXG4gICAgICApO1xuICAgICAgaWYgKGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XG4gICAgICB9XG4gICAgICBsZXQgb2xkSW5uZXJDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWUgJiYgZ2V0SW5uZXJDaGlsZCQxKGluc3RhbmNlLnN1YlRyZWUpO1xuICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiYgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmICFpc1NhbWVWTm9kZVR5cGUob2xkSW5uZXJDaGlsZCwgaW5uZXJDaGlsZCkgJiYgcmVjdXJzaXZlR2V0U3VidHJlZShpbnN0YW5jZSkudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBsZXQgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICBvbGRJbm5lckNoaWxkLFxuICAgICAgICAgIHJhd1Byb3BzLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICk7XG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xuICAgICAgICBpZiAobW9kZSA9PT0gXCJvdXQtaW5cIiAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIShpbnN0YW5jZS5qb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZTtcbiAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJpbi1vdXRcIiAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuZGVsYXlMZWF2ZSA9IChlbCwgZWFybHlSZW1vdmUsIGRlbGF5ZWRMZWF2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xuICAgICAgICAgICAgZWxbbGVhdmVDYktleV0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGVhcmx5UmVtb3ZlKCk7XG4gICAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZW50ZXJIb29rcy5kZWxheWVkTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvbGRJbm5lckNoaWxkKSB7XG4gICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pIHtcbiAgbGV0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBjIG9mIGNoaWxkcmVuKSB7XG4gICAgICBpZiAoYy50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCI8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlIDx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgaGFzRm91bmQgPSB0cnVlO1xuICAgICAgICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hpbGQ7XG59XG5jb25zdCBCYXNlVHJhbnNpdGlvbiA9IEJhc2VUcmFuc2l0aW9uSW1wbDtcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XG4gIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XG4gIGxldCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBsZWF2aW5nVk5vZGVzLmdldCh2bm9kZS50eXBlKTtcbiAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcbiAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZWF2aW5nVk5vZGVzLnNldCh2bm9kZS50eXBlLCBsZWF2aW5nVk5vZGVzQ2FjaGUpO1xuICB9XG4gIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlLCBwb3N0Q2xvbmUpIHtcbiAgY29uc3Qge1xuICAgIGFwcGVhcixcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCA9IGZhbHNlLFxuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkFmdGVyRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUxlYXZlLFxuICAgIG9uTGVhdmUsXG4gICAgb25BZnRlckxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIsXG4gICAgb25BcHBlYXIsXG4gICAgb25BZnRlckFwcGVhcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSk7XG4gIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBob29rICYmIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaG9vayxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgOSxcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9O1xuICBjb25zdCBjYWxsQXN5bmNIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBjb25zdCBkb25lID0gYXJnc1sxXTtcbiAgICBjYWxsSG9vayhob29rLCBhcmdzKTtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaWYgKGhvb2suZXZlcnkoKGhvb2syKSA9PiBob29rMi5sZW5ndGggPD0gMSkpIGRvbmUoKTtcbiAgICB9IGVsc2UgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhvb2tzID0ge1xuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkLFxuICAgIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgZWxbbGVhdmVDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICBpZiAobGVhdmluZ1ZOb2RlICYmIGlzU2FtZVZOb2RlVHlwZSh2bm9kZSwgbGVhdmluZ1ZOb2RlKSAmJiBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcbiAgICB9LFxuICAgIGVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uRW50ZXI7XG4gICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xuICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xuICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xuICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2VudGVyQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhhZnRlckhvb2ssIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcbiAgICAgICAgICBob29rcy5kZWxheWVkTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtlbnRlckNiS2V5XSA9IHZvaWQgMDtcbiAgICAgIH07XG4gICAgICBpZiAoaG9vaykge1xuICAgICAgICBjYWxsQXN5bmNIb29rKGhvb2ssIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVhdmUoZWwsIHJlbW92ZSkge1xuICAgICAgY29uc3Qga2V5MiA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgICAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgICAgIGVsW2VudGVyQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc1VubW91bnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XG4gICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb25lID0gZWxbbGVhdmVDYktleV0gPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID09PSB2bm9kZSkge1xuICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml0gPSB2bm9kZTtcbiAgICAgIGlmIChvbkxlYXZlKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2sob25MZWF2ZSwgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9uZSh2bm9kZTIpIHtcbiAgICAgIGNvbnN0IGhvb2tzMiA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgIHZub2RlMixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgcG9zdENsb25lXG4gICAgICApO1xuICAgICAgaWYgKHBvc3RDbG9uZSkgcG9zdENsb25lKGhvb2tzMik7XG4gICAgICByZXR1cm4gaG9va3MyO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhvb2tzO1xufVxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xuICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkJDEodm5vZGUpIHtcbiAgaWYgKCFpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICBpZiAoaXNUZWxlcG9ydCh2bm9kZS50eXBlKSAmJiB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGZpbmROb25Db21tZW50Q2hpbGQodm5vZGUuY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgaWYgKHZub2RlLmNvbXBvbmVudCkge1xuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyICYmIGlzRnVuY3Rpb24oY2hpbGRyZW4uZGVmYXVsdCkpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbi5kZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2ICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICBsZXQgcmV0ID0gW107XG4gIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGwgPyBjaGlsZC5rZXkgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCkga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODIzNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdXNlSWQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGkpIHtcbiAgICByZXR1cm4gKGkuYXBwQ29udGV4dC5jb25maWcuaWRQcmVmaXggfHwgXCJ2XCIpICsgXCItXCIgKyBpLmlkc1swXSArIGkuaWRzWzFdKys7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGB1c2VJZCgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UuaWRzID0gW2luc3RhbmNlLmlkc1swXSArIGluc3RhbmNlLmlkc1syXSsrICsgXCItXCIsIDAsIDBdO1xufVxuXG5jb25zdCBrbm93blRlbXBsYXRlUmVmcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gdXNlVGVtcGxhdGVSZWYoa2V5KSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGlmIChpKSB7XG4gICAgY29uc3QgcmVmcyA9IGkucmVmcyA9PT0gRU1QVFlfT0JKID8gaS5yZWZzID0ge30gOiBpLnJlZnM7XG4gICAgbGV0IGRlc2M7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlZnMsIGtleSkpICYmICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgd2FybiQxKGB1c2VUZW1wbGF0ZVJlZignJHtrZXl9JykgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWZzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiByLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2YWwpID0+IHIudmFsdWUgPSB2YWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZVRlbXBsYXRlUmVmKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgY29uc3QgcmV0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHJlYWRvbmx5KHIpIDogcjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBrbm93blRlbXBsYXRlUmVmcy5hZGQocmV0KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5jb25zdCBwZW5kaW5nU2V0UmVmTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgIHJhd1JlZi5mb3JFYWNoKFxuICAgICAgKHIsIGkpID0+IHNldFJlZihcbiAgICAgICAgcixcbiAgICAgICAgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGlzVW5tb3VudFxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA1MTIgJiYgdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgJiYgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUuY29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgPyBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpIDogdm5vZGUuZWw7XG4gIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW93bmVyKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IG93bmVyLnJlZnMgPSB7fSA6IG93bmVyLnJlZnM7XG4gIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICBjb25zdCByYXdTZXR1cFN0YXRlID0gdG9SYXcoc2V0dXBTdGF0ZSk7XG4gIGNvbnN0IGNhblNldFNldHVwUmVmID0gc2V0dXBTdGF0ZSA9PT0gRU1QVFlfT0JKID8gTk8gOiAoa2V5KSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KSAmJiAhaXNSZWYocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFRlbXBsYXRlIHJlZiBcIiR7a2V5fVwiIHVzZWQgb24gYSBub24tcmVmIHZhbHVlLiBJdCB3aWxsIG5vdCB3b3JrIGluIHRoZSBwcm9kdWN0aW9uIGJ1aWxkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChrbm93blRlbXBsYXRlUmVmcy5oYXMocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KTtcbiAgfTtcbiAgY29uc3QgY2FuU2V0UmVmID0gKHJlZjIpID0+IHtcbiAgICByZXR1cm4gISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgIWtub3duVGVtcGxhdGVSZWZzLmhhcyhyZWYyKTtcbiAgfTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaW52YWxpZGF0ZVBlbmRpbmdTZXRSZWYob2xkUmF3UmVmKTtcbiAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihvbGRSZWYpKSB7XG4gICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XG4gICAgICBpZiAoY2FuU2V0UmVmKG9sZFJlZikpIHtcbiAgICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9sZFJhd1JlZkF0b20gPSBvbGRSYXdSZWY7XG4gICAgICBpZiAob2xkUmF3UmVmQXRvbS5rKSByZWZzW29sZFJhd1JlZkF0b20ua10gPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgb3duZXIsIDEyLCBbdmFsdWUsIHJlZnNdKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBfaXNTdHJpbmcgPSBpc1N0cmluZyhyZWYpO1xuICAgIGNvbnN0IF9pc1JlZiA9IGlzUmVmKHJlZik7XG4gICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICBpZiAocmF3UmVmLmYpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZyA/IGNhblNldFNldHVwUmVmKHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiBjYW5TZXRSZWYocmVmKSB8fCAhcmF3UmVmLmsgPyByZWYudmFsdWUgOiByZWZzW3Jhd1JlZi5rXTtcbiAgICAgICAgICBpZiAoaXNVbm1vdW50KSB7XG4gICAgICAgICAgICBpc0FycmF5KGV4aXN0aW5nKSAmJiByZW1vdmUoZXhpc3RpbmcsIHJlZlZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVmc1tyZWZdID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuU2V0U2V0dXBSZWYocmVmKSkge1xuICAgICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gcmVmc1tyZWZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWwgPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChjYW5TZXRSZWYocmVmKSkge1xuICAgICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspIHJlZnNbcmF3UmVmLmtdID0gbmV3VmFsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgaWYgKGNhblNldFJlZihyZWYpKSB7XG4gICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBjb25zdCBqb2IgPSAoKSA9PiB7XG4gICAgICAgICAgZG9TZXQoKTtcbiAgICAgICAgICBwZW5kaW5nU2V0UmVmTWFwLmRlbGV0ZShyYXdSZWYpO1xuICAgICAgICB9O1xuICAgICAgICBqb2IuaWQgPSAtMTtcbiAgICAgICAgcGVuZGluZ1NldFJlZk1hcC5zZXQocmF3UmVmLCBqb2IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlUGVuZGluZ1NldFJlZihyYXdSZWYpO1xuICAgICAgICBkb1NldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlUGVuZGluZ1NldFJlZihyYXdSZWYpIHtcbiAgY29uc3QgcGVuZGluZ1NldFJlZiA9IHBlbmRpbmdTZXRSZWZNYXAuZ2V0KHJhd1JlZik7XG4gIGlmIChwZW5kaW5nU2V0UmVmKSB7XG4gICAgcGVuZGluZ1NldFJlZi5mbGFncyB8PSA4O1xuICAgIHBlbmRpbmdTZXRSZWZNYXAuZGVsZXRlKHJhd1JlZik7XG4gIH1cbn1cblxubGV0IGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSBmYWxzZTtcbmNvbnN0IGxvZ01pc21hdGNoRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChoYXNMb2dnZWRNaXNtYXRjaEVycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoXCJIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLlwiKTtcbiAgaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciA9IHRydWU7XG59O1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwic3ZnXCIpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSBcImZvcmVpZ25PYmplY3RcIjtcbmNvbnN0IGlzTWF0aE1MQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcIk1hdGhNTFwiKTtcbmNvbnN0IGdldENvbnRhaW5lclR5cGUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgIT09IDEpIHJldHVybiB2b2lkIDA7XG4gIGlmIChpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJzdmdcIjtcbiAgaWYgKGlzTWF0aE1MQ29udGFpbmVyKGNvbnRhaW5lcikpIHJldHVybiBcIm1hdGhtbFwiO1xuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4O1xuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgcDogcGF0Y2gsXG4gICAgbzoge1xuICAgICAgcGF0Y2hQcm9wLFxuICAgICAgY3JlYXRlVGV4dCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIHJlbW92ZSxcbiAgICAgIGluc2VydCxcbiAgICAgIGNyZWF0ZUNvbW1lbnRcbiAgICB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCI7XG4gICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKFxuICAgICAgbm9kZSxcbiAgICAgIHZub2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBpc0ZyYWdtZW50U3RhcnRcbiAgICApO1xuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgbGV0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgIHZub2RlLmVsID0gbm9kZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihub2RlLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwgcGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IG5leHROb2RlID0gbnVsbDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMpIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgfHwgZG9tVHlwZSA9PT0gMykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgPyBuZXh0Tm9kZS5vdXRlckhUTUwgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgaWYgKChkb21UeXBlICE9PSAxIHx8IHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmICFpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwidGVsZXBvcnQgc3RhcnRcIikge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUsIG5vZGUuZGF0YSwgXCJ0ZWxlcG9ydCBlbmRcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIXZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDgpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShwYXJlbnROb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgaHlkcmF0ZU5vZGVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycywgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgZm9yY2VQYXRjaCA9IHR5cGUgPT09IFwiaW5wdXRcIiB8fCB0eXBlID09PSBcIm9wdGlvblwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgcGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgICB9XG4gICAgICBsZXQgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBmYWxzZTtcbiAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShlbCkpIHtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIG5vIG5lZWQgY2hlY2sgcGFyZW50U3VzcGVuc2UgaW4gaHlkcmF0aW9uXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudm5vZGUucHJvcHMgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzLmFwcGVhcjtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgY29uc3QgY2xzID0gY29udGVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICBpZiAoY2xzKSBjb250ZW50LiRjbHMgPSBjbHM7XG4gICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTm9kZShjb250ZW50LCBlbCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgdm5vZGUuZWwgPSBlbCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTYgJiYgLy8gc2tpcCBpZiBlbGVtZW50IGhhcyBpbm5lckhUTUwgLyB0ZXh0Q29udGVudFxuICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgZWwuZmlyc3RDaGlsZCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XG4gICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgcmVtb3ZlKGN1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgICBsZXQgY2xpZW50VGV4dCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY2xpZW50VGV4dFswXSA9PT0gXCJcXG5cIiAmJiAoZWwudGFnTmFtZSA9PT0gXCJQUkVcIiB8fCBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpKSB7XG4gICAgICAgICAgY2xpZW50VGV4dCA9IGNsaWVudFRleHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0ZXh0Q29udGVudCB9ID0gZWw7XG4gICAgICAgIGlmICh0ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dCAmJiAvLyBpbm5lckhUTUwgbm9ybWFsaXplIFxcclxcbiBvciBcXHIgaW50byBhIHNpbmdsZSBcXG4gaW4gdGhlIERPTVxuICAgICAgICB0ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dC5yZXBsYWNlKC9cXHJcXG58XFxyL2csIFwiXFxuXCIpKSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMCAvKiBURVhUICovKSkge1xuICAgICAgICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7dGV4dENvbnRlbnR9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke2NsaWVudFRleHR9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyB8fCBmb3JjZVBhdGNoIHx8ICFvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnICYgKDE2IHwgMzIpKSB7XG4gICAgICAgICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gZWwudGFnTmFtZS5pbmNsdWRlcyhcIi1cIik7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIC8vICMxMTE4OSBza2lwIGlmIHRoaXMgbm9kZSBoYXMgZGlyZWN0aXZlcyB0aGF0IGhhdmUgY3JlYXRlZCBob29rc1xuICAgICAgICAgICAgLy8gYXMgaXQgY291bGQgaGF2ZSBtdXRhdGVkIHRoZSBET00gaW4gYW55IHBvc3NpYmxlIHdheVxuICAgICAgICAgICAgIShkaXJzICYmIGRpcnMuc29tZSgoZCkgPT4gZC5kaXIuY3JlYXRlZCkpICYmIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBwcm9wc1trZXldLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9yY2VQYXRjaCAmJiAoa2V5LmVuZHNXaXRoKFwidmFsdWVcIikgfHwga2V5ID09PSBcImluZGV0ZXJtaW5hdGVcIikgfHwgaXNPbihrZXkpICYmICFpc1Jlc2VydmVkUHJvcChrZXkpIHx8IC8vIGZvcmNlIGh5ZHJhdGUgdi1iaW5kIHdpdGggLnByb3AgbW9kaWZpZXJzXG4gICAgICAgICAgICBrZXlbMF0gPT09IFwiLlwiIHx8IGlzQ3VzdG9tRWxlbWVudCkge1xuICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgdm9pZCAwLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgICAgcGF0Y2hQcm9wKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBcIm9uQ2xpY2tcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wcy5vbkNsaWNrLFxuICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiA0ICYmIGlzUmVhY3RpdmUocHJvcHMuc3R5bGUpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMuc3R5bGUpIHByb3BzLnN0eWxlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCB2bm9kZUhvb2tzO1xuICAgICAgaWYgKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZU1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMgfHwgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgICAgcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoKCkgPT4ge1xuICAgICAgICAgIHZub2RlSG9va3MgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcIm1vdW50ZWRcIik7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xuICB9O1xuICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISFwYXJlbnRWTm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3Qgdm5vZGUgPSBvcHRpbWl6ZWQgPyBjaGlsZHJlbltpXSA6IGNoaWxkcmVuW2ldID0gbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgY29uc3QgaXNUZXh0ID0gdm5vZGUudHlwZSA9PT0gVGV4dDtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIGlmIChpc1RleHQgJiYgIW9wdGltaXplZCkge1xuICAgICAgICAgIGlmIChpICsgMSA8IGwgJiYgbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baSArIDFdKS50eXBlID09PSBUZXh0KSB7XG4gICAgICAgICAgICBpbnNlcnQoXG4gICAgICAgICAgICAgIGNyZWF0ZVRleHQoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhLnNsaWNlKHZub2RlLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBuZXh0U2libGluZyhub2RlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUoXG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpc1RleHQgJiYgIXZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWlzTWlzbWF0Y2hBbGxvd2VkKGNvbnRhaW5lciwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgY29uc3QgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgIG9wdGltaXplZFxuICAgICk7XG4gICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gXCJdXCIpIHtcbiAgICAgIHJldHVybiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IgPSBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgaW5zZXJ0KHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSwgY29udGFpbmVyLCBuZXh0KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xuICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQobm9kZS5wYXJlbnRFbGVtZW50LCAxIC8qIENISUxEUkVOICovKSkge1xuICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgIGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcbi0gcmVuZGVyZWQgb24gc2VydmVyOmAsXG4gICAgICAgIG5vZGUsXG4gICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgPyBgKHRleHQpYCA6IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiID8gYChzdGFydCBvZiBmcmFnbWVudClgIDogYGAsXG4gICAgICAgIGBcbi0gZXhwZWN0ZWQgb24gY2xpZW50OmAsXG4gICAgICAgIHZub2RlLnR5cGVcbiAgICAgICk7XG4gICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgfVxuICAgIHZub2RlLmVsID0gbnVsbDtcbiAgICBpZiAoaXNGcmFnbWVudCkge1xuICAgICAgY29uc3QgZW5kID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IG5leHQyID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGlmIChuZXh0MiAmJiBuZXh0MiAhPT0gZW5kKSB7XG4gICAgICAgICAgcmVtb3ZlKG5leHQyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICByZW1vdmUobm9kZSk7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuZXh0LFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICBzbG90U2NvcGVJZHNcbiAgICApO1xuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IHZub2RlLmVsO1xuICAgICAgdXBkYXRlSE9DSG9zdEVsKHBhcmVudENvbXBvbmVudCwgdm5vZGUuZWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dDtcbiAgfTtcbiAgY29uc3QgbG9jYXRlQ2xvc2luZ0FuY2hvciA9IChub2RlLCBvcGVuID0gXCJbXCIsIGNsb3NlID0gXCJdXCIpID0+IHtcbiAgICBsZXQgbWF0Y2ggPSAwO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gb3BlbikgbWF0Y2grKztcbiAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gY2xvc2UpIHtcbiAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF0Y2gtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIGNvbnN0IHJlcGxhY2VOb2RlID0gKG5ld05vZGUsIG9sZE5vZGUsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudE5vZGUyID0gb2xkTm9kZS5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnROb2RlMikge1xuICAgICAgcGFyZW50Tm9kZTIucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xuICAgIH1cbiAgICBsZXQgcGFyZW50ID0gcGFyZW50Q29tcG9uZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQudm5vZGUuZWwgPT09IG9sZE5vZGUpIHtcbiAgICAgICAgcGFyZW50LnZub2RlLmVsID0gcGFyZW50LnN1YlRyZWUuZWwgPSBuZXdOb2RlO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGlzVGVtcGxhdGVOb2RlID0gKG5vZGUpID0+IHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBub2RlLnRhZ05hbWUgPT09IFwiVEVNUExBVEVcIjtcbiAgfTtcbiAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XG59XG5mdW5jdGlvbiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgY2xpZW50VmFsdWUsIHZub2RlLCBpbnN0YW5jZSkge1xuICBsZXQgbWlzbWF0Y2hUeXBlO1xuICBsZXQgbWlzbWF0Y2hLZXk7XG4gIGxldCBhY3R1YWw7XG4gIGxldCBleHBlY3RlZDtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgaWYgKGVsLiRjbHMpIHtcbiAgICAgIGFjdHVhbCA9IGVsLiRjbHM7XG4gICAgICBkZWxldGUgZWwuJGNscztcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgfVxuICAgIGV4cGVjdGVkID0gbm9ybWFsaXplQ2xhc3MoY2xpZW50VmFsdWUpO1xuICAgIGlmICghaXNTZXRFcXVhbCh0b0NsYXNzU2V0KGFjdHVhbCB8fCBcIlwiKSwgdG9DbGFzc1NldChleHBlY3RlZCkpKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSAyIC8qIENMQVNTICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBgY2xhc3NgO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpIHx8IFwiXCI7XG4gICAgZXhwZWN0ZWQgPSBpc1N0cmluZyhjbGllbnRWYWx1ZSkgPyBjbGllbnRWYWx1ZSA6IHN0cmluZ2lmeVN0eWxlKG5vcm1hbGl6ZVN0eWxlKGNsaWVudFZhbHVlKSk7XG4gICAgY29uc3QgYWN0dWFsTWFwID0gdG9TdHlsZU1hcChhY3R1YWwpO1xuICAgIGNvbnN0IGV4cGVjdGVkTWFwID0gdG9TdHlsZU1hcChleHBlY3RlZCk7XG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgIGZvciAoY29uc3QgeyBkaXIsIHZhbHVlIH0gb2Ygdm5vZGUuZGlycykge1xuICAgICAgICBpZiAoZGlyLm5hbWUgPT09IFwic2hvd1wiICYmICF2YWx1ZSkge1xuICAgICAgICAgIGV4cGVjdGVkTWFwLnNldChcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCk7XG4gICAgfVxuICAgIGlmICghaXNNYXBFcXVhbChhY3R1YWxNYXAsIGV4cGVjdGVkTWFwKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gMyAvKiBTVFlMRSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0gXCJzdHlsZVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgaXNLbm93blN2Z0F0dHIoa2V5KSB8fCBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIChpc0Jvb2xlYW5BdHRyKGtleSkgfHwgaXNLbm93bkh0bWxBdHRyKGtleSkpKSB7XG4gICAgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGluY2x1ZGVCb29sZWFuQXR0cihjbGllbnRWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChjbGllbnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoa2V5KSkge1xuICAgICAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBleHBlY3RlZCA9IGlzUmVuZGVyYWJsZUF0dHJWYWx1ZShjbGllbnRWYWx1ZSkgPyBTdHJpbmcoY2xpZW50VmFsdWUpIDogZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSA0IC8qIEFUVFJJQlVURSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuICBpZiAobWlzbWF0Y2hUeXBlICE9IG51bGwgJiYgIWlzTWlzbWF0Y2hBbGxvd2VkKGVsLCBtaXNtYXRjaFR5cGUpKSB7XG4gICAgY29uc3QgZm9ybWF0ID0gKHYpID0+IHYgPT09IGZhbHNlID8gYChub3QgcmVuZGVyZWQpYCA6IGAke21pc21hdGNoS2V5fT1cIiR7dn1cImA7XG4gICAgY29uc3QgcHJlU2VnbWVudCA9IGBIeWRyYXRpb24gJHtNaXNtYXRjaFR5cGVTdHJpbmdbbWlzbWF0Y2hUeXBlXX0gbWlzbWF0Y2ggb25gO1xuICAgIGNvbnN0IHBvc3RTZWdtZW50ID0gYFxuICAtIHJlbmRlcmVkIG9uIHNlcnZlcjogJHtmb3JtYXQoYWN0dWFsKX1cbiAgLSBleHBlY3RlZCBvbiBjbGllbnQ6ICR7Zm9ybWF0KGV4cGVjdGVkKX1cbiAgTm90ZTogdGhpcyBtaXNtYXRjaCBpcyBjaGVjay1vbmx5LiBUaGUgRE9NIHdpbGwgbm90IGJlIHJlY3RpZmllZCBpbiBwcm9kdWN0aW9uIGR1ZSB0byBwZXJmb3JtYW5jZSBvdmVyaGVhZC5cbiAgWW91IHNob3VsZCBmaXggdGhlIHNvdXJjZSBvZiB0aGUgbWlzbWF0Y2guYDtcbiAgICB7XG4gICAgICB3YXJuJDEocHJlU2VnbWVudCwgZWwsIHBvc3RTZWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdG9DbGFzc1NldChzdHIpIHtcbiAgcmV0dXJuIG5ldyBTZXQoc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy8pKTtcbn1cbmZ1bmN0aW9uIGlzU2V0RXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBzIG9mIGEpIHtcbiAgICBpZiAoIWIuaGFzKHMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdG9TdHlsZU1hcChzdHIpIHtcbiAgY29uc3Qgc3R5bGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RyLnNwbGl0KFwiO1wiKSkge1xuICAgIGxldCBba2V5LCB2YWx1ZV0gPSBpdGVtLnNwbGl0KFwiOlwiKTtcbiAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgIHZhbHVlID0gdmFsdWUgJiYgdmFsdWUudHJpbSgpO1xuICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgIHN0eWxlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlTWFwO1xufVxuZnVuY3Rpb24gaXNNYXBFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBhKSB7XG4gICAgaWYgKHZhbHVlICE9PSBiLmdldChrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCkge1xuICBjb25zdCByb290ID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgaWYgKGluc3RhbmNlLmdldENzc1ZhcnMgJiYgKHZub2RlID09PSByb290IHx8IHJvb3QgJiYgcm9vdC50eXBlID09PSBGcmFnbWVudCAmJiByb290LmNoaWxkcmVuLmluY2x1ZGVzKHZub2RlKSkpIHtcbiAgICBjb25zdCBjc3NWYXJzID0gaW5zdGFuY2UuZ2V0Q3NzVmFycygpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNzc1ZhcnMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplQ3NzVmFyVmFsdWUoY3NzVmFyc1trZXldKTtcbiAgICAgIGV4cGVjdGVkTWFwLnNldChgLS0ke2dldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZmFsc2UpfWAsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlID09PSByb290ICYmIGluc3RhbmNlLnBhcmVudCkge1xuICAgIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLnBhcmVudCwgaW5zdGFuY2Uudm5vZGUsIGV4cGVjdGVkTWFwKTtcbiAgfVxufVxuY29uc3QgYWxsb3dNaXNtYXRjaEF0dHIgPSBcImRhdGEtYWxsb3ctbWlzbWF0Y2hcIjtcbmNvbnN0IE1pc21hdGNoVHlwZVN0cmluZyA9IHtcbiAgWzAgLyogVEVYVCAqL106IFwidGV4dFwiLFxuICBbMSAvKiBDSElMRFJFTiAqL106IFwiY2hpbGRyZW5cIixcbiAgWzIgLyogQ0xBU1MgKi9dOiBcImNsYXNzXCIsXG4gIFszIC8qIFNUWUxFICovXTogXCJzdHlsZVwiLFxuICBbNCAvKiBBVFRSSUJVVEUgKi9dOiBcImF0dHJpYnV0ZVwiXG59O1xuZnVuY3Rpb24gaXNNaXNtYXRjaEFsbG93ZWQoZWwsIGFsbG93ZWRUeXBlKSB7XG4gIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovIHx8IGFsbG93ZWRUeXBlID09PSAxIC8qIENISUxEUkVOICovKSB7XG4gICAgd2hpbGUgKGVsICYmICFlbC5oYXNBdHRyaWJ1dGUoYWxsb3dNaXNtYXRjaEF0dHIpKSB7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IGFsbG93ZWRBdHRyID0gZWwgJiYgZWwuZ2V0QXR0cmlidXRlKGFsbG93TWlzbWF0Y2hBdHRyKTtcbiAgaWYgKGFsbG93ZWRBdHRyID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoYWxsb3dlZEF0dHIgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsaXN0ID0gYWxsb3dlZEF0dHIuc3BsaXQoXCIsXCIpO1xuICAgIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovICYmIGxpc3QuaW5jbHVkZXMoXCJjaGlsZHJlblwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBsaXN0LmluY2x1ZGVzKE1pc21hdGNoVHlwZVN0cmluZ1thbGxvd2VkVHlwZV0pO1xuICB9XG59XG5cbmNvbnN0IHJlcXVlc3RJZGxlQ2FsbGJhY2sgPSBnZXRHbG9iYWxUaGlzKCkucmVxdWVzdElkbGVDYWxsYmFjayB8fCAoKGNiKSA9PiBzZXRUaW1lb3V0KGNiLCAxKSk7XG5jb25zdCBjYW5jZWxJZGxlQ2FsbGJhY2sgPSBnZXRHbG9iYWxUaGlzKCkuY2FuY2VsSWRsZUNhbGxiYWNrIHx8ICgoaWQpID0+IGNsZWFyVGltZW91dChpZCkpO1xuY29uc3QgaHlkcmF0ZU9uSWRsZSA9ICh0aW1lb3V0ID0gMWU0KSA9PiAoaHlkcmF0ZSkgPT4ge1xuICBjb25zdCBpZCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soaHlkcmF0ZSwgeyB0aW1lb3V0IH0pO1xuICByZXR1cm4gKCkgPT4gY2FuY2VsSWRsZUNhbGxiYWNrKGlkKTtcbn07XG5mdW5jdGlvbiBlbGVtZW50SXNWaXNpYmxlSW5WaWV3cG9ydChlbCkge1xuICBjb25zdCB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHsgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGggfSA9IHdpbmRvdztcbiAgcmV0dXJuICh0b3AgPiAwICYmIHRvcCA8IGlubmVySGVpZ2h0IHx8IGJvdHRvbSA+IDAgJiYgYm90dG9tIDwgaW5uZXJIZWlnaHQpICYmIChsZWZ0ID4gMCAmJiBsZWZ0IDwgaW5uZXJXaWR0aCB8fCByaWdodCA+IDAgJiYgcmlnaHQgPCBpbm5lcldpZHRoKTtcbn1cbmNvbnN0IGh5ZHJhdGVPblZpc2libGUgPSAob3B0cykgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgY29uc3Qgb2IgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGUgb2YgZW50cmllcykge1xuICAgICAgaWYgKCFlLmlzSW50ZXJzZWN0aW5nKSBjb250aW51ZTtcbiAgICAgIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgb3B0cyk7XG4gIGZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuO1xuICAgIGlmIChlbGVtZW50SXNWaXNpYmxlSW5WaWV3cG9ydChlbCkpIHtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2Iub2JzZXJ2ZShlbCk7XG4gIH0pO1xuICByZXR1cm4gKCkgPT4gb2IuZGlzY29ubmVjdCgpO1xufTtcbmNvbnN0IGh5ZHJhdGVPbk1lZGlhUXVlcnkgPSAocXVlcnkpID0+IChoeWRyYXRlKSA9PiB7XG4gIGlmIChxdWVyeSkge1xuICAgIGNvbnN0IG1xbCA9IG1hdGNoTWVkaWEocXVlcnkpO1xuICAgIGlmIChtcWwubWF0Y2hlcykge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtcWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4gKCkgPT4gbXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaHlkcmF0ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgaHlkcmF0ZU9uSW50ZXJhY3Rpb24gPSAoaW50ZXJhY3Rpb25zID0gW10pID0+IChoeWRyYXRlLCBmb3JFYWNoKSA9PiB7XG4gIGlmIChpc1N0cmluZyhpbnRlcmFjdGlvbnMpKSBpbnRlcmFjdGlvbnMgPSBbaW50ZXJhY3Rpb25zXTtcbiAgbGV0IGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gIGNvbnN0IGRvSHlkcmF0ZSA9IChlKSA9PiB7XG4gICAgaWYgKCFoYXNIeWRyYXRlZCkge1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgdGVhcmRvd24oKTtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIGUudGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IGUuY29uc3RydWN0b3IoZS50eXBlLCBlKSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB0ZWFyZG93biA9ICgpID0+IHtcbiAgICBmb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBpIG9mIGludGVyYWN0aW9ucykge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZvckVhY2goKGVsKSA9PiB7XG4gICAgZm9yIChjb25zdCBpIG9mIGludGVyYWN0aW9ucykge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihpLCBkb0h5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGVhcmRvd247XG59O1xuZnVuY3Rpb24gZm9yRWFjaEVsZW1lbnQobm9kZSwgY2IpIHtcbiAgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiKSB7XG4gICAgbGV0IGRlcHRoID0gMTtcbiAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgd2hpbGUgKG5leHQpIHtcbiAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNiKG5leHQpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChuZXh0KSkge1xuICAgICAgICBpZiAobmV4dC5kYXRhID09PSBcIl1cIikge1xuICAgICAgICAgIGlmICgtLWRlcHRoID09PSAwKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0LmRhdGEgPT09IFwiW1wiKSB7XG4gICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNiKG5vZGUpO1xuICB9XG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQXN5bmNDb21wb25lbnQoc291cmNlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XG4gIH1cbiAgY29uc3Qge1xuICAgIGxvYWRlcixcbiAgICBsb2FkaW5nQ29tcG9uZW50LFxuICAgIGVycm9yQ29tcG9uZW50LFxuICAgIGRlbGF5ID0gMjAwLFxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVTdHJhdGVneSxcbiAgICB0aW1lb3V0LFxuICAgIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSxcbiAgICBvbkVycm9yOiB1c2VyT25FcnJvclxuICB9ID0gc291cmNlO1xuICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICBsZXQgcmVzb2x2ZWRDb21wO1xuICBsZXQgcmV0cmllcyA9IDA7XG4gIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xuICAgIHJldHJpZXMrKztcbiAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgcmV0dXJuIGxvYWQoKTtcbiAgfTtcbiAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICBsZXQgdGhpc1JlcXVlc3Q7XG4gICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0IHx8ICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID0gbG9hZGVyKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xuICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcbiAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xuICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9KS50aGVuKChjb21wKSA9PiB7XG4gICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjb21wKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wICYmIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIk1vZHVsZVwiKSkge1xuICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcbiAgICAgIHJldHVybiBjb21wO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogXCJBc3luY0NvbXBvbmVudFdyYXBwZXJcIixcbiAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxuICAgIF9fYXN5bmNIeWRyYXRlKGVsLCBpbnN0YW5jZSwgaHlkcmF0ZSkge1xuICAgICAgbGV0IHBhdGNoZWQgPSBmYWxzZTtcbiAgICAgIChpbnN0YW5jZS5idSB8fCAoaW5zdGFuY2UuYnUgPSBbXSkpLnB1c2goKCkgPT4gcGF0Y2hlZCA9IHRydWUpO1xuICAgICAgY29uc3QgcGVyZm9ybUh5ZHJhdGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwYXRjaGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYFNraXBwaW5nIGxhenkgaHlkcmF0aW9uIGZvciBjb21wb25lbnQgJyR7Z2V0Q29tcG9uZW50TmFtZShyZXNvbHZlZENvbXApIHx8IHJlc29sdmVkQ29tcC5fX2ZpbGV9JzogaXQgd2FzIHVwZGF0ZWQgYmVmb3JlIGxhenkgaHlkcmF0aW9uIHBlcmZvcm1lZC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaHlkcmF0ZSgpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGRvSHlkcmF0ZSA9IGh5ZHJhdGVTdHJhdGVneSA/ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGVhcmRvd24gPSBoeWRyYXRlU3RyYXRlZ3koXG4gICAgICAgICAgcGVyZm9ybUh5ZHJhdGUsXG4gICAgICAgICAgKGNiKSA9PiBmb3JFYWNoRWxlbWVudChlbCwgY2IpXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0ZWFyZG93bikge1xuICAgICAgICAgIChpbnN0YW5jZS5idW0gfHwgKGluc3RhbmNlLmJ1bSA9IFtdKSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgIH1cbiAgICAgIH0gOiBwZXJmb3JtSHlkcmF0ZTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgZG9IeWRyYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkKCkudGhlbigoKSA9PiAhaW5zdGFuY2UuaXNVbm1vdW50ZWQgJiYgZG9IeWRyYXRlKCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IF9fYXN5bmNSZXNvbHZlZCgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XG4gICAgfSxcbiAgICBzZXR1cCgpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICBoYW5kbGVFcnJvcihcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgMTMsXG4gICAgICAgICAgIWVycm9yQ29tcG9uZW50XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgaWYgKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlIHx8IGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgICAgICByZXR1cm4gbG9hZCgpLnRoZW4oKGNvbXApID0+IHtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnQgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xuICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcbiAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICB9XG4gICAgICBsb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQgJiYgaXNLZWVwQWxpdmUoaW5zdGFuY2UucGFyZW50LnZub2RlKSkge1xuICAgICAgICAgIGluc3RhbmNlLnBhcmVudC51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKFxuICAgICAgICAgICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHBhcmVudCkge1xuICBjb25zdCB7IHJlZjogcmVmMiwgcHJvcHMsIGNoaWxkcmVuLCBjZSB9ID0gcGFyZW50LnZub2RlO1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gIHZub2RlLnJlZiA9IHJlZjI7XG4gIHZub2RlLmNlID0gY2U7XG4gIGRlbGV0ZSBwYXJlbnQudm5vZGUuY2U7XG4gIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XG4gIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxuICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxuICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gIF9faXNLZWVwQWxpdmU6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XG4gICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJlcjoge1xuICAgICAgICBwOiBwYXRjaCxcbiAgICAgICAgbTogbW92ZSxcbiAgICAgICAgdW06IF91bm1vdW50LFxuICAgICAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICAgICAgfVxuICAgIH0gPSBzaGFyZWRDb250ZXh0O1xuICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBpbnN0YW5jZTIudm5vZGUsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgaW5zdGFuY2UyLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5tKTtcbiAgICAgIGludmFsaWRhdGVNb3VudChpbnN0YW5jZTIuYSk7XG4gICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmRhKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIGluc3RhbmNlMi5fX2tlZXBBbGl2ZVN0b3JhZ2VDb250YWluZXIgPSBzdG9yYWdlQ29udGFpbmVyO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xuICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XG4gICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xuICAgICAgICBpZiAobmFtZSAmJiAhZmlsdGVyKG5hbWUpKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XG4gICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmIChjYWNoZWQgJiYgKCFjdXJyZW50IHx8ICFpc1NhbWVWTm9kZVR5cGUoY2FjaGVkLCBjdXJyZW50KSkpIHtcbiAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50KSB7XG4gICAgICAgIHJlc2V0U2hhcGVGbGFnKGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICB3YXRjaChcbiAgICAgICgpID0+IFtwcm9wcy5pbmNsdWRlLCBwcm9wcy5leGNsdWRlXSxcbiAgICAgIChbaW5jbHVkZSwgZXhjbHVkZV0pID0+IHtcbiAgICAgICAgaW5jbHVkZSAmJiBwcnVuZUNhY2hlKChuYW1lKSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgZXhjbHVkZSAmJiBwcnVuZUNhY2hlKChuYW1lKSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XG4gICAgICB9LFxuICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgIHsgZmx1c2g6IFwicG9zdFwiLCBkZWVwOiB0cnVlIH1cbiAgICApO1xuICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgIGNvbnN0IGNhY2hlU3VidHJlZSA9ICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nQ2FjaGVLZXkgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTdXNwZW5zZShpbnN0YW5jZS5zdWJUcmVlLnR5cGUpKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICAgIH0sIGluc3RhbmNlLnN1YlRyZWUuc3VzcGVuc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgY2FjaGUuZm9yRWFjaCgoY2FjaGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3ViVHJlZSwgc3VzcGVuc2UgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XG4gICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSAmJiBjYWNoZWQua2V5ID09PSB2bm9kZS5rZXkpIHtcbiAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XG4gICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgaWYgKCFzbG90cy5kZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fCAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQpICYmICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICBpZiAodm5vZGUudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgICAgfVxuICAgICAgY29uc3QgY29tcCA9IHZub2RlLnR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgaXNBc3luY1dyYXBwZXIodm5vZGUpID8gdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgfHwge30gOiBjb21wXG4gICAgICApO1xuICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xuICAgICAgaWYgKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSB8fCBleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkge1xuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJj0gLTI1NztcbiAgICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XG4gICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKHZub2RlLmVsKSB7XG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgIGlmIChyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICByYXdWTm9kZS5zc0NvbnRlbnQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xuICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XG4gICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSA1MTI7XG4gICAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICBpZiAobWF4ICYmIGtleXMuc2l6ZSA+IHBhcnNlSW50KG1heCwgMTApKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDI1NjtcbiAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgIHJldHVybiBpc1N1c3BlbnNlKHJhd1ZOb2RlLnR5cGUpID8gcmF3Vk5vZGUgOiB2bm9kZTtcbiAgICB9O1xuICB9XG59O1xuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xuICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoXCIsXCIpLmluY2x1ZGVzKG5hbWUpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgcGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fCAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBob29rKCk7XG4gIH0pO1xuICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XG4gICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcbiAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKFxuICAgIHR5cGUsXG4gICAgaG9vayxcbiAgICBrZWVwQWxpdmVSb290LFxuICAgIHRydWVcbiAgICAvKiBwcmVwZW5kICovXG4gICk7XG4gIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xuICB9LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IC0yNTc7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSAtNTEzO1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4ID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGhvb2tzID0gdGFyZ2V0W3R5cGVdIHx8ICh0YXJnZXRbdHlwZV0gPSBbXSk7XG4gICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8IChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCB0YXJnZXQsIHR5cGUsIGFyZ3MpO1xuICAgICAgcmVzZXQoKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gICAgaWYgKHByZXBlbmQpIHtcbiAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBob29rcy5wdXNoKHdyYXBwZWRIb29rKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyYXBwZWRIb29rO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCBcIlwiKSk7XG4gICAgd2FybiQxKFxuICAgICAgYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguIExpZmVjeWNsZSBpbmplY3Rpb24gQVBJcyBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBleGVjdXRpb24gb2Ygc2V0dXAoKS5gICsgKGAgSWYgeW91IGFyZSB1c2luZyBhc3luYyBzZXR1cCgpLCBtYWtlIHN1cmUgdG8gcmVnaXN0ZXIgbGlmZWN5Y2xlIGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmAgKVxuICAgICk7XG4gIH1cbn1cbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiB7XG4gIGlmICghaXNJblNTUkNvbXBvbmVudFNldHVwIHx8IGxpZmVjeWNsZSA9PT0gXCJzcFwiKSB7XG4gICAgaW5qZWN0SG9vayhsaWZlY3ljbGUsICguLi5hcmdzKSA9PiBob29rKC4uLmFyZ3MpLCB0YXJnZXQpO1xuICB9XG59O1xuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiKTtcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIpO1xuY29uc3Qgb25CZWZvcmVVcGRhdGUgPSBjcmVhdGVIb29rKFxuICBcImJ1XCJcbik7XG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiKTtcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXG4gIFwiYnVtXCJcbik7XG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiKTtcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFxuICBcInNwXCJcbik7XG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIik7XG5jb25zdCBvblJlbmRlclRyYWNrZWQgPSBjcmVhdGVIb29rKFwicnRjXCIpO1xuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICBpbmplY3RIb29rKFwiZWNcIiwgaG9vaywgdGFyZ2V0KTtcbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IFwiY29tcG9uZW50c1wiO1xuY29uc3QgRElSRUNUSVZFUyA9IFwiZGlyZWN0aXZlc1wiO1xuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sLmZvcihcInYtbmRjXCIpO1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xuICAgICAgY29uc3Qgc2VsZk5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgaWYgKHNlbGZOYW1lICYmIChzZWxmTmFtZSA9PT0gbmFtZSB8fCBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHwgc2VsZk5hbWUgPT09IGNhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpKSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSAoXG4gICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxuICAgICAgcmVzb2x2ZShpbnN0YW5jZVt0eXBlXSB8fCBDb21wb25lbnRbdHlwZV0sIG5hbWUpIHx8IC8vIGdsb2JhbCByZWdpc3RyYXRpb25cbiAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSlcbiAgICApO1xuICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgICAgY29uc3QgZXh0cmEgPSB0eXBlID09PSBDT01QT05FTlRTID8gYFxuSWYgdGhpcyBpcyBhIG5hdGl2ZSBjdXN0b20gZWxlbWVudCwgbWFrZSBzdXJlIHRvIGV4Y2x1ZGUgaXQgZnJvbSBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gIDogYGA7XG4gICAgICB3YXJuJDEoYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9JHtleHRyYX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcbiAgcmV0dXJuIHJlZ2lzdHJ5ICYmIChyZWdpc3RyeVtuYW1lXSB8fCByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHwgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0sIGNhY2hlLCBpbmRleCkge1xuICBsZXQgcmV0O1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZSAmJiBjYWNoZVtpbmRleF07XG4gIGNvbnN0IHNvdXJjZUlzQXJyYXkgPSBpc0FycmF5KHNvdXJjZSk7XG4gIGlmIChzb3VyY2VJc0FycmF5IHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICBjb25zdCBzb3VyY2VJc1JlYWN0aXZlQXJyYXkgPSBzb3VyY2VJc0FycmF5ICYmIGlzUmVhY3RpdmUoc291cmNlKTtcbiAgICBsZXQgbmVlZHNXcmFwID0gZmFsc2U7XG4gICAgbGV0IGlzUmVhZG9ubHlTb3VyY2UgPSBmYWxzZTtcbiAgICBpZiAoc291cmNlSXNSZWFjdGl2ZUFycmF5KSB7XG4gICAgICBuZWVkc1dyYXAgPSAhaXNTaGFsbG93KHNvdXJjZSk7XG4gICAgICBpc1JlYWRvbmx5U291cmNlID0gaXNSZWFkb25seShzb3VyY2UpO1xuICAgICAgc291cmNlID0gc2hhbGxvd1JlYWRBcnJheShzb3VyY2UpO1xuICAgIH1cbiAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXJJdGVtKFxuICAgICAgICBuZWVkc1dyYXAgPyBpc1JlYWRvbmx5U291cmNlID8gdG9SZWFkb25seSh0b1JlYWN0aXZlKHNvdXJjZVtpXSkpIDogdG9SZWFjdGl2ZShzb3VyY2VbaV0pIDogc291cmNlW2ldLFxuICAgICAgICBpLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGNhY2hlZCAmJiBjYWNoZWRbaV1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSA6IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzbG90cztcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5jZSkge1xuICAgIGNvbnN0IGhhc1Byb3BzID0gT2JqZWN0LmtleXMocHJvcHMpLmxlbmd0aCA+IDA7XG4gICAgaWYgKG5hbWUgIT09IFwiZGVmYXVsdFwiKSBwcm9wcy5uYW1lID0gbmFtZTtcbiAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKFxuICAgICAgRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgW2NyZWF0ZVZOb2RlKFwic2xvdFwiLCBwcm9wcywgZmFsbGJhY2sgJiYgZmFsbGJhY2soKSldLFxuICAgICAgaGFzUHJvcHMgPyAtMiA6IDY0XG4gICAgKTtcbiAgfVxuICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgcGFyZW50IHRlbXBsYXRlLmBcbiAgICApO1xuICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IGZhbHNlO1xuICB9XG4gIG9wZW5CbG9jaygpO1xuICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgY29uc3Qgc2xvdEtleSA9IHByb3BzLmtleSB8fCAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gIHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXk7XG4gIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soXG4gICAgRnJhZ21lbnQsXG4gICAge1xuICAgICAga2V5OiAoc2xvdEtleSAmJiAhaXNTeW1ib2woc2xvdEtleSkgPyBzbG90S2V5IDogYF8ke25hbWV9YCkgKyAvLyAjNzI1NiBmb3JjZSBkaWZmZXJlbnRpYXRlIGZhbGxiYWNrIGNvbnRlbnQgZnJvbSBhY3R1YWwgY29udGVudFxuICAgICAgKCF2YWxpZFNsb3RDb250ZW50ICYmIGZhbGxiYWNrID8gXCJfZmJcIiA6IFwiXCIpXG4gICAgfSxcbiAgICB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksXG4gICAgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxID8gNjQgOiAtMlxuICApO1xuICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyBcIi1zXCJdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICByZXR1cm4gdm5vZGVzLnNvbWUoKGNoaWxkKSA9PiB7XG4gICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSkgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGkpO1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGhvc3Q6IChpKSA9PiBpLmNlLFxuICAgICRlbWl0OiAoaSkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlLFxuICAgICRmb3JjZVVwZGF0ZTogKGkpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4ge1xuICAgICAgcXVldWVKb2IoaS51cGRhdGUpO1xuICAgIH0pLFxuICAgICRuZXh0VGljazogKGkpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1BcbiAgfSlcbik7XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJFwiO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCJfX2lzVnVlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIGlmIChrZXlbMF0gIT09IFwiJFwiKSB7XG4gICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChuICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgY2FzZSAxIC8qIFNFVFVQICovOlxuICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICBjYXNlIDIgLyogREFUQSAqLzpcbiAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgY2FzZSA0IC8qIENPTlRFWFQgKi86XG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgY2FzZSAzIC8qIFBST1BTICovOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogU0VUVVAgKi87XG4gICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICB9IGVsc2UgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIERBVEEgKi87XG4gICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvLyBvbmx5IGNhY2hlIG90aGVyIHByb3BlcnRpZXMgd2hlbiBpbnN0YW5jZSBoYXMgZGVjbGFyZWQgKHRodXMgc3RhYmxlKVxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpXG4gICAgICApIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogUFJPUFMgKi87XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogT1RIRVIgKi87XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcbiAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiJGF0dHJzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UuYXR0cnMsIFwiZ2V0XCIsIFwiXCIpO1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIiRzbG90c1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXG4gICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBjc3NNb2R1bGU7XG4gICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xuICAgICAgZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpXG4gICAgKSB7XG4gICAgICB7XG4gICAgICAgIHJldHVybiBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJiAoIWlzU3RyaW5nKGtleSkgfHwgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICBrZXkuaW5kZXhPZihcIl9fdlwiKSAhPT0gMCkpIHtcbiAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiBkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGtleVswXSA9PT0gXCIkXCIgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGhhcyh7XG4gICAgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMsIHR5cGUgfVxuICB9LCBrZXkpIHtcbiAgICBsZXQgbm9ybWFsaXplZFByb3BzLCBjc3NNb2R1bGVzO1xuICAgIHJldHVybiAhIShhY2Nlc3NDYWNoZVtrZXldIHx8IF9fVlVFX09QVElPTlNfQVBJX18gJiYgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGtleVswXSAhPT0gXCIkXCIgJiYgaGFzT3duKGRhdGEsIGtleSkgfHwgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHwgKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSB8fCBoYXNPd24oY3R4LCBrZXkpIHx8IGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8IGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpIHx8IChjc3NNb2R1bGVzID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIGNzc01vZHVsZXNba2V5XSk7XG4gIH0sXG4gIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgaWYgKGRlc2NyaXB0b3IuZ2V0ICE9IG51bGwpIHtcbiAgICAgIHRhcmdldC5fLmFjY2Vzc0NhY2hlW2tleV0gPSAwO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGRlc2NyaXB0b3IsIFwidmFsdWVcIikpIHtcbiAgICAgIHRoaXMuc2V0KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLnZhbHVlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcbiAgICB3YXJuJDEoXG4gICAgICBgQXZvaWQgYXBwIGxvZ2ljIHRoYXQgcmVsaWVzIG9uIGVudW1lcmF0aW5nIGtleXMgb24gYSBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmBcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfTtcbn1cbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoe30sIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycywge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XG4gIH0sXG4gIGhhcyhfLCBrZXkpIHtcbiAgICBjb25zdCBoYXMgPSBrZXlbMF0gIT09IFwiX1wiICYmICFpc0dsb2JhbGx5QWxsb3dlZChrZXkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIGtleVxuICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gaGFzO1xuICB9XG59KTtcbmZ1bmN0aW9uIGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgdGFyZ2V0ID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6ICgpID0+IGluc3RhbmNlXG4gIH0pO1xuICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpLFxuICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxuICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcbiAgICAgIHNldDogTk9PUFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBjdHgsXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICB9ID0gaW5zdGFuY2U7XG4gIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcbiAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICghc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXApIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHdhcm5SdW50aW1lVXNhZ2UgPSAobWV0aG9kKSA9PiB3YXJuJDEoXG4gIGAke21ldGhvZH0oKSBpcyBhIGNvbXBpbGVyLWhpbnQgaGVscGVyIHRoYXQgaXMgb25seSB1c2FibGUgaW5zaWRlIDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gXG4pO1xuZnVuY3Rpb24gZGVmaW5lUHJvcHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lUHJvcHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUVtaXRzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUVtaXRzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVFeHBvc2UoZXhwb3NlZCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUV4cG9zZWApO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVPcHRpb25zYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZVNsb3RzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVNsb3RzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVNb2RlbCgpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKFwiZGVmaW5lTW9kZWxcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEZWZhdWx0cyhwcm9wcywgZGVmYXVsdHMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGB3aXRoRGVmYXVsdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNsb3RzKCkge1xuICByZXR1cm4gZ2V0Q29udGV4dChcInVzZVNsb3RzXCIpLnNsb3RzO1xufVxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KFwidXNlQXR0cnNcIikuYXR0cnM7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KGNhbGxlZEZ1bmN0aW9uTmFtZSkge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpKSB7XG4gICAgd2FybiQxKGAke2NhbGxlZEZ1bmN0aW9uTmFtZX0oKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gIH1cbiAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09yRW1pdHMocHJvcHMpIHtcbiAgcmV0dXJuIGlzQXJyYXkocHJvcHMpID8gcHJvcHMucmVkdWNlKFxuICAgIChub3JtYWxpemVkLCBwKSA9PiAobm9ybWFsaXplZFtwXSA9IG51bGwsIG5vcm1hbGl6ZWQpLFxuICAgIHt9XG4gICkgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMocmF3LCBkZWZhdWx0cykge1xuICBjb25zdCBwcm9wcyA9IG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhyYXcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fc2tpcFwiKSkgY29udGludWU7XG4gICAgbGV0IG9wdCA9IHByb3BzW2tleV07XG4gICAgaWYgKG9wdCkge1xuICAgICAgaWYgKGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkpIHtcbiAgICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgdHlwZTogb3B0LCBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHQuZGVmYXVsdCA9IGRlZmF1bHRzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcbiAgICAgIG9wdCA9IHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvcHMgZGVmYXVsdCBrZXkgXCIke2tleX1cIiBoYXMgbm8gY29ycmVzcG9uZGluZyBkZWNsYXJhdGlvbi5gKTtcbiAgICB9XG4gICAgaWYgKG9wdCAmJiBkZWZhdWx0c1tgX19za2lwXyR7a2V5fWBdKSB7XG4gICAgICBvcHQuc2tpcEZhY3RvcnkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBtZXJnZU1vZGVscyhhLCBiKSB7XG4gIGlmICghYSB8fCAhYikgcmV0dXJuIGEgfHwgYjtcbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSkgcmV0dXJuIGEuY29uY2F0KGIpO1xuICByZXR1cm4gZXh0ZW5kKHt9LCBub3JtYWxpemVQcm9wc09yRW1pdHMoYSksIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhiKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wc1Jlc3RQcm94eShwcm9wcywgZXhjbHVkZWRLZXlzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHByb3BzW2tleV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd2l0aEFzeW5jQ29udGV4dChnZXRBd2FpdGFibGUpIHtcbiAgY29uc3QgY3R4ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjdHgpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgd2l0aEFzeW5jQ29udGV4dCBjYWxsZWQgd2l0aG91dCBhY3RpdmUgY3VycmVudCBpbnN0YW5jZS4gVGhpcyBpcyBsaWtlbHkgYSBidWcuYFxuICAgICk7XG4gIH1cbiAgbGV0IGF3YWl0YWJsZSA9IGdldEF3YWl0YWJsZSgpO1xuICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICBhd2FpdGFibGUgPSBhd2FpdGFibGUuY2F0Y2goKGUpID0+IHtcbiAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdHgpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW2F3YWl0YWJsZSwgKCkgPT4gc2V0Q3VycmVudEluc3RhbmNlKGN0eCldO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICB3YXJuJDEoYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XG4gICAgfVxuICB9O1xufVxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XG4gICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICAvLyBzdGF0ZVxuICAgIGRhdGE6IGRhdGFPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsXG4gICAgbWV0aG9kcyxcbiAgICB3YXRjaDogd2F0Y2hPcHRpb25zLFxuICAgIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLFxuICAgIGluamVjdDogaW5qZWN0T3B0aW9ucyxcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBjcmVhdGVkLFxuICAgIGJlZm9yZU1vdW50LFxuICAgIG1vdW50ZWQsXG4gICAgYmVmb3JlVXBkYXRlLFxuICAgIHVwZGF0ZWQsXG4gICAgYWN0aXZhdGVkLFxuICAgIGRlYWN0aXZhdGVkLFxuICAgIGJlZm9yZURlc3Ryb3ksXG4gICAgYmVmb3JlVW5tb3VudCxcbiAgICBkZXN0cm95ZWQsXG4gICAgdW5tb3VudGVkLFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJUcmFja2VkLFxuICAgIHJlbmRlclRyaWdnZXJlZCxcbiAgICBlcnJvckNhcHR1cmVkLFxuICAgIHNlcnZlclByZWZldGNoLFxuICAgIC8vIHB1YmxpYyBBUElcbiAgICBleHBvc2UsXG4gICAgaW5oZXJpdEF0dHJzLFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHMsXG4gICAgZGlyZWN0aXZlcyxcbiAgICBmaWx0ZXJzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBQUk9QUyAqLywga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGluamVjdE9wdGlvbnMpIHtcbiAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyk7XG4gIH1cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBNRVRIT0RTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGFPcHRpb25zKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogREFUQSAqLywga2V5KTtcbiAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXG4gICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdCkgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IGlzRnVuY3Rpb24ob3B0LmdldCkgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcykgOiBOT09QO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgIHdhcm4kMShgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpIDogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/ICgpID0+IHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmBcbiAgICAgICAgKTtcbiAgICAgIH0gOiBOT09QO1xuICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXRcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBjLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XG4gICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XG4gICAgfVxuICB9XG4gIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucykgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgUmVmbGVjdC5vd25LZXlzKHByb3ZpZGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY3JlYXRlZCkge1xuICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIik7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJMaWZlY3ljbGVIb29rKHJlZ2lzdGVyLCBob29rKSB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGhvb2suZm9yRWFjaCgoX2hvb2spID0+IHJlZ2lzdGVyKF9ob29rLmJpbmQocHVibGljVGhpcykpKTtcbiAgICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZU1vdW50LCBiZWZvcmVNb3VudCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVwZGF0ZWQsIHVwZGF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkVycm9yQ2FwdHVyZWQsIGVycm9yQ2FwdHVyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVVbm1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xuICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0ge30pO1xuICAgICAgZXhwb3NlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3NlZCwga2V5LCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNUaGlzW2tleV0sXG4gICAgICAgICAgc2V0OiAodmFsKSA9PiBwdWJsaWNUaGlzW2tleV0gPSB2YWwsXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSB7fTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XG4gIH1cbiAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XG4gICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICB9XG4gIGlmIChjb21wb25lbnRzKSBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgaWYgKGRpcmVjdGl2ZXMpIGluc3RhbmNlLmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICBpZiAoc2VydmVyUHJlZmV0Y2gpIHtcbiAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCkge1xuICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICBsZXQgaW5qZWN0ZWQ7XG4gICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcbiAgICAgIGlmIChcImRlZmF1bHRcIiBpbiBvcHQpIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3QoXG4gICAgICAgICAgb3B0LmZyb20gfHwga2V5LFxuICAgICAgICAgIG9wdC5kZWZhdWx0LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZihpbmplY3RlZCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5qZWN0ZWQudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGluamVjdGVkLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICBpc0FycmF5KGhvb2spID8gaG9vay5tYXAoKGgpID0+IGguYmluZChpbnN0YW5jZS5wcm94eSkpIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSxcbiAgICBpbnN0YW5jZSxcbiAgICB0eXBlXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgbGV0IGdldHRlciA9IGtleS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSkgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAge1xuICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICByYXcuZm9yRWFjaCgocikgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcikgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gIGNvbnN0IHtcbiAgICBtaXhpbnM6IGdsb2JhbE1peGlucyxcbiAgICBvcHRpb25zQ2FjaGU6IGNhY2hlLFxuICAgIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfVxuICB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICBsZXQgcmVzb2x2ZWQ7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgfSBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgIHtcbiAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZWQgPSB7fTtcbiAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2goXG4gICAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSlcbiAgICAgICk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgfVxuICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICB9XG4gIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICB9XG4gIGlmIChtaXhpbnMpIHtcbiAgICBtaXhpbnMuZm9yRWFjaChcbiAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSlcbiAgICApO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09IFwiZXhwb3NlXCIpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IHN0cmF0cyAmJiBzdHJhdHNba2V5XTtcbiAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gIGRhdGE6IG1lcmdlRGF0YUZuLFxuICBwcm9wczogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICBlbWl0czogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICAvLyBvYmplY3RzXG4gIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gbGlmZWN5Y2xlXG4gIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgLy8gYXNzZXRzXG4gIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyB3YXRjaFxuICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG87XG4gIH1cbiAgaWYgKCF0bykge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgcmV0dXJuIChleHRlbmQpKFxuICAgICAgaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sXG4gICAgICBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbVxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8sIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAodG8pIHtcbiAgICBpZiAoaXNBcnJheSh0bykgJiYgaXNBcnJheShmcm9tKSkge1xuICAgICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udG8sIC4uLmZyb21dKV07XG4gICAgfVxuICAgIHJldHVybiBleHRlbmQoXG4gICAgICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyh0byksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHMoZnJvbSAhPSBudWxsID8gZnJvbSA6IHt9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICghdG8pIHJldHVybiBmcm9tO1xuICBpZiAoIWZyb20pIHJldHVybiB0bztcbiAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gIHJldHVybiB7XG4gICAgYXBwOiBudWxsLFxuICAgIGNvbmZpZzoge1xuICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgZXJyb3JIYW5kbGVyOiB2b2lkIDAsXG4gICAgICB3YXJuSGFuZGxlcjogdm9pZCAwLFxuICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgbWl4aW5zOiBbXSxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICBwcm92aWRlczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgb3B0aW9uc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBwcm9wc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBlbWl0c0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICB9O1xufVxubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICByb290Q29tcG9uZW50ID0gZXh0ZW5kKHt9LCByb290Q29tcG9uZW50KTtcbiAgICB9XG4gICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICByb290UHJvcHMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdCBwbHVnaW5DbGVhbnVwRm5zID0gW107XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFwcCA9IGNvbnRleHQuYXBwID0ge1xuICAgICAgX3VpZDogdWlkJDErKyxcbiAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcbiAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9pbnN0YW5jZTogbnVsbCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICB9LFxuICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgZnVuY3Rpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtaXhpbihtaXhpbikge1xuICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcFwiICsgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6IFwiXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXykge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgVGhlcmUgaXMgYWxyZWFkeSBhbiBhcHAgaW5zdGFuY2UgbW91bnRlZCBvbiB0aGUgaG9zdCBjb250YWluZXIuXG4gSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsIHlvdSBuZWVkIHRvIHVubW91bnQgdGhlIHByZXZpb3VzIGFwcCBieSBjYWxsaW5nIFxcYGFwcC51bm1vdW50KClcXGAgZmlyc3QuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgdm5vZGUgPSBhcHAuX2NlVk5vZGUgfHwgY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcbiAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICAgICAgICBjbG9uZWQuZWwgPSBudWxsO1xuICAgICAgICAgICAgICByZW5kZXIoY2xvbmVkLCByb290Q29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcbiAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Uodm5vZGUuY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXG5JZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudChjbGVhbnVwRm4pIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHlwZW9mIGNsZWFudXBGbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50IHRvIGFwcC5vblVubW91bnQoKSwgYnV0IGdvdCAke3R5cGVvZiBjbGVhbnVwRm59YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luQ2xlYW51cEZucy5wdXNoKGNsZWFudXBGbik7XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgICAgICAgcGx1Z2luQ2xlYW51cEZucyxcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UsXG4gICAgICAgICAgICAxNlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xuICAgICAgICAgIGlmIChoYXNPd24oY29udGV4dC5wcm92aWRlcywga2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgaW5oZXJpdGVkIGZyb20gaXRzIHBhcmVudCBlbGVtZW50LiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBydW5XaXRoQ29udGV4dChmbikge1xuICAgICAgICBjb25zdCBsYXN0QXBwID0gY3VycmVudEFwcDtcbiAgICAgICAgY3VycmVudEFwcCA9IGFwcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50QXBwID0gbGFzdEFwcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbiAgfTtcbn1cbmxldCBjdXJyZW50QXBwID0gbnVsbDtcblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gIGlmICghY3VycmVudEluc3RhbmNlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcbiAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XG4gICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xuICAgIH1cbiAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGluc3RhbmNlIHx8IGN1cnJlbnRBcHApIHtcbiAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50QXBwID8gY3VycmVudEFwcC5fY29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlID8gaW5zdGFuY2UucGFyZW50ID09IG51bGwgfHwgaW5zdGFuY2UuY2UgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXMgOiB2b2lkIDA7XG4gICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzSW5qZWN0aW9uQ29udGV4dCgpIHtcbiAgcmV0dXJuICEhKGdldEN1cnJlbnRJbnN0YW5jZSgpIHx8IGN1cnJlbnRBcHApO1xufVxuXG5jb25zdCBpbnRlcm5hbE9iamVjdFByb3RvID0ge307XG5jb25zdCBjcmVhdGVJbnRlcm5hbE9iamVjdCA9ICgpID0+IE9iamVjdC5jcmVhdGUoaW50ZXJuYWxPYmplY3RQcm90byk7XG5jb25zdCBpc0ludGVybmFsT2JqZWN0ID0gKG9iaikgPT4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IGludGVybmFsT2JqZWN0UHJvdG87XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSID0gZmFsc2UpIHtcbiAgY29uc3QgcHJvcHMgPSB7fTtcbiAgY29uc3QgYXR0cnMgPSBjcmVhdGVJbnRlcm5hbE9iamVjdCgpO1xuICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkge1xuICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcbiAgICAgIHByb3BzW2tleV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAoaXNTdGF0ZWZ1bCkge1xuICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xufVxuZnVuY3Rpb24gaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgd2hpbGUgKGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19obXJJZCkgcmV0dXJuIHRydWU7XG4gICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3Qge1xuICAgIHByb3BzLFxuICAgIGF0dHJzLFxuICAgIHZub2RlOiB7IHBhdGNoRmxhZyB9XG4gIH0gPSBpbnN0YW5jZTtcbiAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgaWYgKFxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxuICAgICEoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkpICYmIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiYgIShwYXRjaEZsYWcgJiAxNilcbiAgKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgIGlmIChpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGNhbWVsaXplZEtleSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSkge1xuICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGtlYmFiS2V5O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgaWYgKCFyYXdQcm9wcyB8fCAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIC8vIGl0J3MgcG9zc2libGUgdGhlIG9yaWdpbmFsIHByb3BzIHdhcyBwYXNzZWQgaW4gYXMga2ViYWItY2FzZVxuICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXG4gICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiYgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdm9pZCAwIHx8IC8vIGZvciBrZWJhYi1jYXNlXG4gICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdm9pZCAwKSkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKCFyYXdQcm9wcyB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIHRydWUpIHtcbiAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcbiAgICB0cmlnZ2VyKGluc3RhbmNlLmF0dHJzLCBcInNldFwiLCBcIlwiKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xuICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBsZXQgcmF3Q2FzdFZhbHVlcztcbiAgaWYgKHJhd1Byb3BzKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgIGxldCBjYW1lbEtleTtcbiAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCBjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSB7XG4gICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XG4gICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHJhd0Nhc3RWYWx1ZXMgfHwgKHJhd0Nhc3RWYWx1ZXMgPSB7fSkpW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSB8fCB2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChuZWVkQ2FzdEtleXMpIHtcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3QgY2FzdFZhbHVlcyA9IHJhd0Nhc3RWYWx1ZXMgfHwgRU1QVFlfT0JKO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XG4gICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICBrZXksXG4gICAgICAgIGNhc3RWYWx1ZXNba2V5XSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICFoYXNPd24oY2FzdFZhbHVlcywga2V5KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhhc0F0dHJzQ2hhbmdlZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcHJvcHMsIGtleSwgdmFsdWUsIGluc3RhbmNlLCBpc0Fic2VudCkge1xuICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XG4gIGlmIChvcHQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCBcImRlZmF1bHRcIik7XG4gICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XG4gICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmICFvcHQuc2tpcEZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChrZXkgaW4gcHJvcHNEZWZhdWx0cykge1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XSA9IGRlZmF1bHRWYWx1ZS5jYWxsKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnN0YW5jZS5jZSkge1xuICAgICAgICBpbnN0YW5jZS5jZS5fc2V0UHJvcChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdFswIC8qIHNob3VsZENhc3QgKi9dKSB7XG4gICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgbWl4aW5Qcm9wc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gX19WVUVfT1BUSU9OU19BUElfXyAmJiBhc01peGluID8gbWl4aW5Qcm9wc0NhY2hlIDogYXBwQ29udGV4dC5wcm9wc0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAucHJvcHM7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgY29uc3QgbmVlZENhc3RLZXlzID0gW107XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3MikgPT4ge1xuICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdzIsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHByb3BzKTtcbiAgICAgIGlmIChrZXlzKSBuZWVkQ2FzdEtleXMucHVzaCguLi5rZXlzKTtcbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRQcm9wcyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIEVNUFRZX0FSUik7XG4gICAgfVxuICAgIHJldHVybiBFTVBUWV9BUlI7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xuICAgICAgICB3YXJuJDEoYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChyYXcpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNPYmplY3QocmF3KSkge1xuICAgICAgd2FybiQxKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgY29uc3Qgb3B0ID0gcmF3W2tleV07XG4gICAgICAgIGNvbnN0IHByb3AgPSBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBleHRlbmQoe30sIG9wdCk7XG4gICAgICAgIGNvbnN0IHByb3BUeXBlID0gcHJvcC50eXBlO1xuICAgICAgICBsZXQgc2hvdWxkQ2FzdCA9IGZhbHNlO1xuICAgICAgICBsZXQgc2hvdWxkQ2FzdFRydWUgPSB0cnVlO1xuICAgICAgICBpZiAoaXNBcnJheShwcm9wVHlwZSkpIHtcbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcHJvcFR5cGUubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcHJvcFR5cGVbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgdHlwZU5hbWUgPSBpc0Z1bmN0aW9uKHR5cGUpICYmIHR5cGUubmFtZTtcbiAgICAgICAgICAgIGlmICh0eXBlTmFtZSA9PT0gXCJCb29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgc2hvdWxkQ2FzdCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlTmFtZSA9PT0gXCJTdHJpbmdcIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0VHJ1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaG91bGRDYXN0ID0gaXNGdW5jdGlvbihwcm9wVHlwZSkgJiYgcHJvcFR5cGUubmFtZSA9PT0gXCJCb29sZWFuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gc2hvdWxkQ2FzdDtcbiAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9IHNob3VsZENhc3RUcnVlO1xuICAgICAgICBpZiAoc2hvdWxkQ2FzdCB8fCBoYXNPd24ocHJvcCwgXCJkZWZhdWx0XCIpKSB7XG4gICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c107XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xuICBpZiAoa2V5WzBdICE9PSBcIiRcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XG4gIGlmIChjdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgY3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGN0b3IubmFtZSB8fCBcIlwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjdG9yID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgbmFtZSA9IGN0b3IuY29uc3RydWN0b3IgJiYgY3Rvci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIHJldHVybiBuYW1lIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcbiAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gIGNvbnN0IGNhbWVsaXplUHJvcHNLZXkgPSBPYmplY3Qua2V5cyhyYXdQcm9wcykubWFwKChrZXkpID0+IGNhbWVsaXplKGtleSkpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgbGV0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICBpZiAob3B0ID09IG51bGwpIGNvbnRpbnVlO1xuICAgIHZhbGlkYXRlUHJvcChcbiAgICAgIGtleSxcbiAgICAgIHJlc29sdmVkVmFsdWVzW2tleV0sXG4gICAgICBvcHQsXG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHJlc29sdmVkVmFsdWVzKSA6IHJlc29sdmVkVmFsdWVzLFxuICAgICAgIWNhbWVsaXplUHJvcHNLZXkuaW5jbHVkZXMoa2V5KVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgcHJvcHMsIGlzQWJzZW50KSB7XG4gIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciwgc2tpcENoZWNrIH0gPSBwcm9wO1xuICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcbiAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcmVxdWlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlICYmICFza2lwQ2hlY2spIHtcbiAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCBcIlwiKTtcbiAgICAgIGlzVmFsaWQgPSB2YWxpZDtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB3YXJuJDEoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSwgcHJvcHMpKSB7XG4gICAgd2FybiQxKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XG4gIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcIlN0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50XCJcbik7XG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XG4gIGxldCB2YWxpZDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJudWxsXCIpIHtcbiAgICB2YWxpZCA9IHZhbHVlID09PSBudWxsO1xuICB9IGVsc2UgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghdmFsaWQgJiYgdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJPYmplY3RcIikge1xuICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJBcnJheVwiKSB7XG4gICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBgUHJvcCB0eXBlIFtdIGZvciBwcm9wIFwiJHtuYW1lfVwiIHdvbid0IG1hdGNoIGFueXRoaW5nLiBEaWQgeW91IG1lYW4gdG8gdXNlIHR5cGUgQXJyYXkgaW5zdGVhZD9gO1xuICB9XG4gIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbihcIiB8IFwiKX1gO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcbiAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJiBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJiAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xuICB9XG4gIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcbiAgfVxuICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJOdW1iZXJcIikge1xuICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJib29sZWFuXCJdO1xuICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKChlbGVtKSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3Muc29tZSgoZWxlbSkgPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSBcImJvb2xlYW5cIik7XG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXkgPT09IFwiX1wiIHx8IGtleSA9PT0gXCJfY3R4XCIgfHwga2V5ID09PSBcIiRzdGFibGVcIjtcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gIGlmIChyYXdTbG90Ll9uKSB7XG4gICAgcmV0dXJuIHJhd1Nsb3Q7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHdpdGhDdHgoKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50SW5zdGFuY2UgJiYgIShjdHggPT09IG51bGwgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSAmJiAhKGN0eCAmJiBjdHgucm9vdCAhPT0gY3VycmVudEluc3RhbmNlLnJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIEludm9rZSB0aGUgc2xvdCBmdW5jdGlvbiBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdCguLi5hcmdzKSk7XG4gIH0sIGN0eCk7XG4gIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuY29uc3Qgbm9ybWFsaXplT2JqZWN0U2xvdHMgPSAocmF3U2xvdHMsIHNsb3RzLCBpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xuICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpIGNvbnRpbnVlO1xuICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBzbG90IFwiJHtrZXl9XCIuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xuICAgICAgc2xvdHNba2V5XSA9ICgpID0+IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgbm9ybWFsaXplVk5vZGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJiB0cnVlKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcbiAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XG59O1xuY29uc3QgYXNzaWduU2xvdHMgPSAoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gY2hpbGRyZW4pIHtcbiAgICBpZiAob3B0aW1pemVkIHx8ICFpc0ludGVybmFsS2V5KGtleSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBjaGlsZHJlbltrZXldO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBjb25zdCBzbG90cyA9IGluc3RhbmNlLnNsb3RzID0gY3JlYXRlSW50ZXJuYWxPYmplY3QoKTtcbiAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgIGlmIChvcHRpbWl6ZWQpIHtcbiAgICAgICAgZGVmKHNsb3RzLCBcIl9cIiwgdHlwZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICB9XG59O1xuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xuICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xuICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICAgIHRyaWdnZXIoaW5zdGFuY2UsIFwic2V0XCIsIFwiJHNsb3RzXCIpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSkge1xuICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZWVkRGVsZXRpb25DaGVjayA9ICFjaGlsZHJlbi4kc3RhYmxlO1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XG4gIH1cbiAgaWYgKG5lZWREZWxldGlvbkNoZWNrKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldFtrZXldID09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIHNsb3RzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5sZXQgc3VwcG9ydGVkO1xubGV0IHBlcmY7XG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZlN0YXJ0KGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcbiAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcbiAgICBjb25zdCBtZWFzdXJlTmFtZSA9IGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gO1xuICAgIHBlcmYubWFyayhlbmRUYWcpO1xuICAgIHBlcmYubWVhc3VyZShtZWFzdXJlTmFtZSwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgcGVyZi5jbGVhck1lYXN1cmVzKG1lYXN1cmVOYW1lKTtcbiAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gIGlmIChzdXBwb3J0ZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICB9IGVsc2Uge1xuICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gIGNvbnN0IG5lZWRXYXJuID0gW107XG4gIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX09QVElPTlNfQVBJX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfT1BUSU9OU19BUElfXyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0RFVlRPT0xTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbXVsdGkgPSBuZWVkV2Fybi5sZW5ndGggPiAxO1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBGZWF0dXJlIGZsYWcke211bHRpID8gYHNgIDogYGB9ICR7bmVlZFdhcm4uam9pbihcIiwgXCIpfSAke211bHRpID8gYGFyZWAgOiBgaXNgfSBub3QgZXhwbGljaXRseSBkZWZpbmVkLiBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZSwgd2hpY2ggZXhwZWN0cyB0aGVzZSBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyB0byBiZSBnbG9iYWxseSBpbmplY3RlZCB2aWEgdGhlIGJ1bmRsZXIgY29uZmlnIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgdHJlZS1zaGFraW5nIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cblxuRm9yIG1vcmUgZGV0YWlscywgc2VlIGh0dHBzOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncy5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSA7XG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XG59XG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcbn1cbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAge1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgc2V0RGV2dG9vbHNIb29rJDEodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sIHRhcmdldCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIGluc2VydDogaG9zdEluc2VydCxcbiAgICByZW1vdmU6IGhvc3RSZW1vdmUsXG4gICAgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LFxuICAgIGNyZWF0ZVRleHQ6IGhvc3RDcmVhdGVUZXh0LFxuICAgIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LFxuICAgIHNldFRleHQ6IGhvc3RTZXRUZXh0LFxuICAgIHNldEVsZW1lbnRUZXh0OiBob3N0U2V0RWxlbWVudFRleHQsXG4gICAgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsXG4gICAgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZyxcbiAgICBzZXRTY29wZUlkOiBob3N0U2V0U2NvcGVJZCA9IE5PT1AsXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudDogaG9zdEluc2VydFN0YXRpY0NvbnRlbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIG5hbWVzcGFjZSA9IHZvaWQgMCwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nID8gZmFsc2UgOiAhIW4yLmR5bmFtaWNDaGlsZHJlbikgPT4ge1xuICAgIGlmIChuMSA9PT0gbjIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgYW5jaG9yID0gZ2V0TmV4dEhvc3ROb2RlKG4xKTtcbiAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgbjEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEpIHtcbiAgICAgICAgICBwcm9jZXNzRWxlbWVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHByb2Nlc3NDb21wb25lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xuICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRTdXNwZW5zZSwgbjIgfHwgbjEsICFuMik7XG4gICAgfSBlbHNlIGlmIChyZWYgPT0gbnVsbCAmJiBuMSAmJiBuMS5yZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKG4xLnJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIG4xLCB0cnVlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8IFwiXCIpLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSkgPT4ge1xuICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBuMi5lbCxcbiAgICAgIG4yLmFuY2hvclxuICAgICk7XG4gIH07XG4gIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgICBuMi5jaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBpZiAobjIudHlwZSA9PT0gXCJzdmdcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICB9IGVsc2UgaWYgKG4yLnR5cGUgPT09IFwibWF0aFwiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRFbGVtZW50KFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAhIShuMS5lbCAmJiBuMS5lbC5faXNWdWVDRSkgPyBuMS5lbCA6IG51bGw7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAgIGN1c3RvbUVsZW1lbnQuX2JlZ2luUGF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaEVsZW1lbnQoXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAgIGN1c3RvbUVsZW1lbnQuX2VuZFBhdGNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50RWxlbWVudCA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBsZXQgZWw7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBjb25zdCB7IHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIGRpcnMgfSA9IHZub2RlO1xuICAgIGVsID0gdm5vZGUuZWwgPSBob3N0Q3JlYXRlRWxlbWVudChcbiAgICAgIHZub2RlLnR5cGUsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBwcm9wcyAmJiBwcm9wcy5pcyxcbiAgICAgIHByb3BzXG4gICAgKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCB2bm9kZS5jaGlsZHJlbik7XG4gICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2Uodm5vZGUsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgfVxuICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoa2V5ICE9PSBcInZhbHVlXCIgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBwcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG51bGwsIHByb3BzLnZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgfVxuICAgICAgaWYgKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkge1xuICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZWYoZWwsIFwiX192bm9kZVwiLCB2bm9kZSwgdHJ1ZSk7XG4gICAgICBkZWYoZWwsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwgcGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICB9XG4gICAgY29uc3QgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbik7XG4gICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICB9XG4gICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcIm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRTY29wZUlkID0gKGVsLCB2bm9kZSwgc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xuICAgIH1cbiAgICBpZiAoc2xvdFNjb3BlSWRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2xvdFNjb3BlSWRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgbGV0IHN1YlRyZWUgPSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN1YlRyZWUucGF0Y2hGbGFnID4gMCAmJiBzdWJUcmVlLnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgc3ViVHJlZSA9IGZpbHRlclNpbmdsZVJvb3Qoc3ViVHJlZS5jaGlsZHJlbikgfHwgc3ViVHJlZTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSB8fCBpc1N1c3BlbnNlKHN1YlRyZWUudHlwZSkgJiYgKHN1YlRyZWUuc3NDb250ZW50ID09PSB2bm9kZSB8fCBzdWJUcmVlLnNzRmFsbGJhY2sgPT09IHZub2RlKSkge1xuICAgICAgICBjb25zdCBwYXJlbnRWTm9kZSA9IHBhcmVudENvbXBvbmVudC52bm9kZTtcbiAgICAgICAgc2V0U2NvcGVJZChcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRWTm9kZSxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zY29wZUlkLFxuICAgICAgICAgIHBhcmVudFZOb2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQucGFyZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSkgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hFbGVtZW50ID0gKG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGVsID0gbjIuZWwgPSBuMS5lbDtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGVsLl9fdm5vZGUgPSBuMjtcbiAgICB9XG4gICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIGRpcnMgfSA9IG4yO1xuICAgIHBhdGNoRmxhZyB8PSBuMS5wYXRjaEZsYWcgJiAxNjtcbiAgICBjb25zdCBvbGRQcm9wcyA9IG4xLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICBjb25zdCBuZXdQcm9wcyA9IG4yLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgZmFsc2UpO1xuICAgIGlmICh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSB7XG4gICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZVVwZGF0ZVwiKTtcbiAgICB9XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAob2xkUHJvcHMuaW5uZXJIVE1MICYmIG5ld1Byb3BzLmlubmVySFRNTCA9PSBudWxsIHx8IG9sZFByb3BzLnRleHRDb250ZW50ICYmIG5ld1Byb3BzLnRleHRDb250ZW50ID09IG51bGwpIHtcbiAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgXCJcIik7XG4gICAgfVxuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGVsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZShuMiwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgICBwYXRjaFByb3BzKGVsLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgbmFtZXNwYWNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAyKSB7XG4gICAgICAgICAgaWYgKG9sZFByb3BzLmNsYXNzICE9PSBuZXdQcm9wcy5jbGFzcykge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJjbGFzc1wiLCBudWxsLCBuZXdQcm9wcy5jbGFzcywgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDQpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInN0eWxlXCIsIG9sZFByb3BzLnN0eWxlLCBuZXdQcm9wcy5zdHlsZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2IHx8IGtleSA9PT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEpIHtcbiAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkICYmIGR5bmFtaWNDaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICBwYXRjaFByb3BzKGVsLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCBcInVwZGF0ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IChcbiAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXG4gICAgICAgIC8vIHdoaWNoIHdpbGwgbm90IGhhdmUgYSBtb3VudGVkIGVsZW1lbnRcbiAgICAgICAgb2xkVk5vZGUuZWwgJiYgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIEZyYWdtZW50LCB3ZSBuZWVkIHRvIHByb3ZpZGUgdGhlIGFjdHVhbCBwYXJlbnRcbiAgICAgICAgLy8gb2YgdGhlIEZyYWdtZW50IGl0c2VsZiBzbyBpdCBjYW4gbW92ZSBpdHMgY2hpbGRyZW4uXG4gICAgICAgIChvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fCAvLyAtIEluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBub2RlcywgdGhlcmUgaXMgZ29pbmcgdG8gYmUgYSByZXBsYWNlbWVudFxuICAgICAgICAvLyB3aGljaCBhbHNvIHJlcXVpcmVzIHRoZSBjb3JyZWN0IHBhcmVudCBjb250YWluZXJcbiAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQsIGl0IGNvdWxkIGNvbnRhaW4gYW55dGhpbmcuXG4gICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmICg2IHwgNjQgfCAxMjgpKSA/IGhvc3RQYXJlbnROb2RlKG9sZFZOb2RlLmVsKSA6IChcbiAgICAgICAgICAvLyBJbiBvdGhlciBjYXNlcywgdGhlIHBhcmVudCBjb250YWluZXIgaXMgbm90IGFjdHVhbGx5IHVzZWQgc28gd2VcbiAgICAgICAgICAvLyBqdXN0IHBhc3MgdGhlIGJsb2NrIGVsZW1lbnQgaGVyZSB0byBhdm9pZCBhIERPTSBwYXJlbnROb2RlIGNhbGwuXG4gICAgICAgICAgZmFsbGJhY2tDb250YWluZXJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBvbGRWTm9kZSxcbiAgICAgICAgbmV3Vk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaFByb3BzID0gKGVsLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBFTVBUWV9PQkopIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkUHJvcHMpIHtcbiAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgIShrZXkgaW4gbmV3UHJvcHMpKSB7XG4gICAgICAgICAgICBob3N0UGF0Y2hQcm9wKFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICBvbGRQcm9wc1trZXldLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1Byb3BzKSB7XG4gICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICBpZiAobmV4dCAhPT0gcHJldiAmJiBrZXkgIT09IFwidmFsdWVcIikge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIG5ld1Byb3BzKSB7XG4gICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwidmFsdWVcIiwgb2xkUHJvcHMudmFsdWUsIG5ld1Byb3BzLnZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0ZyYWdtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gbjIuZWwgPSBuMSA/IG4xLmVsIDogaG9zdENyZWF0ZVRleHQoXCJcIik7XG4gICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSBuMi5hbmNob3IgPSBuMSA/IG4xLmFuY2hvciA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAvLyAjNTUyMyBkZXYgcm9vdCBmcmFnbWVudCBtYXkgaW5oZXJpdCBkaXJlY3RpdmVzXG4gICAgKGlzSG1yVXBkYXRpbmcgfHwgcGF0Y2hGbGFnICYgMjA0OCkpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcykgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgaG9zdEluc2VydChmcmFnbWVudEVuZEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgLy8gIzEwMDA3XG4gICAgICAgIC8vIHN1Y2ggZnJhZ21lbnQgbGlrZSBgPD48Lz5gIHdpbGwgYmUgY29tcGlsZWQgaW50b1xuICAgICAgICAvLyBhIGZyYWdtZW50IHdoaWNoIGRvZXNuJ3QgaGF2ZSBhIGNoaWxkcmVuLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UgZmFsbGJhY2sgdG8gYW4gZW1wdHkgYXJyYXlcbiAgICAgICAgbjIuY2hpbGRyZW4gfHwgW10sXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgZnJhZ21lbnRFbmRBbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0ICYmIGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcbiAgICAgIC8vIG9mIHJlbmRlclNsb3QoKSB3aXRoIG5vIHZhbGlkIGNoaWxkcmVuXG4gICAgICBuMS5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIC8vICMyMDgwIGlmIHRoZSBzdGFibGUgZnJhZ21lbnQgaGFzIGEga2V5LCBpdCdzIGEgPHRlbXBsYXRlIHYtZm9yPiB0aGF0IG1heVxuICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXG4gICAgICAgICAgLy8gIzIxMzQgb3IgaWYgaXQncyBhIGNvbXBvbmVudCByb290LCBpdCBtYXkgYWxzbyBnZXQgbW92ZWQgYXJvdW5kXG4gICAgICAgICAgLy8gYXMgdGhlIGNvbXBvbmVudCBpcyBiZWluZyBtb3ZlZC5cbiAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fCBwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlXG4gICAgICAgICkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgLyogc2hhbGxvdyAqL1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0NvbXBvbmVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbjIuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBpZiAobjIuc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguYWN0aXZhdGUoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudENvbXBvbmVudCA9IChpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gKGluaXRpYWxWTm9kZS5jb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZShcbiAgICAgIGluaXRpYWxWTm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgKSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICByZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcbiAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICAgIGlmIChpc0tlZXBBbGl2ZShpbml0aWFsVk5vZGUpKSB7XG4gICAgICBpbnN0YW5jZS5jdHgucmVuZGVyZXIgPSBpbnRlcm5hbHM7XG4gICAgfVxuICAgIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgIH1cbiAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBmYWxzZSwgb3B0aW1pemVkKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIGluaXRpYWxWTm9kZS5lbCA9IG51bGw7XG4gICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZCk7XG4gICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGluaXRpYWxWTm9kZS5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyLmVsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIGluaXRpYWxWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50O1xuICAgIGlmIChzaG91bGRVcGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXAgJiYgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobjIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbjIsIG9wdGltaXplZCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnRVcGRhdGVGbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XG4gICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCwgcm9vdCwgdHlwZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGlzQXN5bmNXcmFwcGVyVk5vZGUgPSBpc0FzeW5jV3JhcHBlcihpbml0aWFsVk5vZGUpO1xuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChibSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChlbCAmJiBoeWRyYXRlTm9kZSkge1xuICAgICAgICAgIGNvbnN0IGh5ZHJhdGVTdWJUcmVlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoeWRyYXRlTm9kZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXJWTm9kZSAmJiB0eXBlLl9fYXN5bmNIeWRyYXRlKSB7XG4gICAgICAgICAgICB0eXBlLl9fYXN5bmNIeWRyYXRlKFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoeWRyYXRlU3ViVHJlZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocm9vdC5jZSAmJiAvLyBAdHMtZXhwZWN0LWVycm9yIF9kZWYgaXMgcHJpdmF0ZVxuICAgICAgICAgIHJvb3QuY2UuX2RlZi5zaGFkb3dSb290ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcm9vdC5jZS5faW5qZWN0Q2hpbGRTdHlsZSh0eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdWJUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdWJUcmVlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xuICAgICAgICAgIGNvbnN0IHNjb3BlZEluaXRpYWxWTm9kZSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIHNjb3BlZEluaXRpYWxWTm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgfHwgcGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKHBhcmVudC52bm9kZSkgJiYgcGFyZW50LnZub2RlLnNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgICAgIGluc3RhbmNlLmEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGluc3RhbmNlLmEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0aWFsVk5vZGUgPSBjb250YWluZXIgPSBhbmNob3IgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgbm9uSHlkcmF0ZWRBc3luY1Jvb3QgPSBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKG5vbkh5ZHJhdGVkQXN5bmNSb290KSB7XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vbkh5ZHJhdGVkQXN5bmNSb290LmFzeW5jRGVwLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50VXBkYXRlRm4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnaW5OZXh0ID0gbmV4dDtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dCA9IHZub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIHByZXZUcmVlLFxuICAgICAgICAgIG5leHRUcmVlLFxuICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxuICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcbiAgICAgICAgICBnZXROZXh0SG9zdE5vZGUocHJldlRyZWUpLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIG5leHQuZWwgPSBuZXh0VHJlZS5lbDtcbiAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIG5leHRUcmVlLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBpbnN0YW5jZS5zY29wZS5vbigpO1xuICAgIGNvbnN0IGVmZmVjdCA9IGluc3RhbmNlLmVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChjb21wb25lbnRVcGRhdGVGbik7XG4gICAgaW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gICAgY29uc3QgdXBkYXRlID0gaW5zdGFuY2UudXBkYXRlID0gZWZmZWN0LnJ1bi5iaW5kKGVmZmVjdCk7XG4gICAgY29uc3Qgam9iID0gaW5zdGFuY2Uuam9iID0gZWZmZWN0LnJ1bklmRGlydHkuYmluZChlZmZlY3QpO1xuICAgIGpvYi5pID0gaW5zdGFuY2U7XG4gICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgIGVmZmVjdC5zY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZUpvYihqb2IpO1xuICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBlZmZlY3Qub25UcmFjayA9IGluc3RhbmNlLnJ0YyA/IChlKSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpIDogdm9pZCAwO1xuICAgICAgZWZmZWN0Lm9uVHJpZ2dlciA9IGluc3RhbmNlLnJ0ZyA/IChlKSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpIDogdm9pZCAwO1xuICAgIH1cbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xuICAgIG5leHRWTm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICBjb25zdCBwcmV2UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcbiAgICBpbnN0YW5jZS5uZXh0ID0gbnVsbDtcbiAgICB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgbmV4dFZOb2RlLnByb3BzLCBwcmV2UHJvcHMsIG9wdGltaXplZCk7XG4gICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICB9O1xuICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XG4gICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcbiAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xuICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTI4KSB7XG4gICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDI1Nikge1xuICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoYzIgIT09IGMxKSB7XG4gICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgICBjMSxcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCkge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xuICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xuICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcbiAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XG4gICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgYzFbaV0sXG4gICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XG4gICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMxLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB0cnVlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICBjMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGwyID0gYzIubGVuZ3RoO1xuICAgIGxldCBlMSA9IGMxLmxlbmd0aCAtIDE7XG4gICAgbGV0IGUyID0gbDIgLSAxO1xuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbaV07XG4gICAgICBjb25zdCBuMiA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xuICAgICAgY29uc3QgbjIgPSBjMltlMl0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltlMl0pIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZTEtLTtcbiAgICAgIGUyLS07XG4gICAgfVxuICAgIGlmIChpID4gZTEpIHtcbiAgICAgIGlmIChpIDw9IGUyKSB7XG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRQb3MgPCBsMiA/IGMyW25leHRQb3NdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaSA+IGUyKSB7XG4gICAgICB3aGlsZSAoaSA8PSBlMSkge1xuICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzMSA9IGk7XG4gICAgICBjb25zdCBzMiA9IGk7XG4gICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgRHVwbGljYXRlIGtleXMgZm91bmQgZHVyaW5nIHVwZGF0ZTpgLFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Q2hpbGQua2V5KSxcbiAgICAgICAgICAgICAgYE1ha2Ugc3VyZSBrZXlzIGFyZSB1bmlxdWUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBqO1xuICAgICAgbGV0IHBhdGNoZWQgPSAwO1xuICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcbiAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xuICAgICAgY29uc3QgbmV3SW5kZXhUb09sZEluZGV4TWFwID0gbmV3IEFycmF5KHRvQmVQYXRjaGVkKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKSBuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPSAwO1xuICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xuICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcbiAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiYgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XG4gICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xuICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XG4gICAgICAgICAgICBtYXhOZXdJbmRleFNvRmFyID0gbmV3SW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBwcmV2Q2hpbGQsXG4gICAgICAgICAgICBjMltuZXdJbmRleF0sXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHBhdGNoZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZCA/IGdldFNlcXVlbmNlKG5ld0luZGV4VG9PbGRJbmRleE1hcCkgOiBFTVBUWV9BUlI7XG4gICAgICBqID0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBhbmNob3JWTm9kZSA9IGMyW25leHRJbmRleCArIDFdO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyAoXG4gICAgICAgICAgLy8gIzEzNTU5LCBmYWxsYmFjayB0byBlbCBwbGFjZWhvbGRlciBmb3IgdW5yZXNvbHZlZCBhc3luYyBjb21wb25lbnRcbiAgICAgICAgICBhbmNob3JWTm9kZS5lbCB8fCBhbmNob3JWTm9kZS5wbGFjZWhvbGRlclxuICAgICAgICApIDogcGFyZW50QW5jaG9yO1xuICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID09PSAwKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKG1vdmVkKSB7XG4gICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XG4gICAgICAgICAgICBtb3ZlKG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIDIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB2bm9kZS5zdXNwZW5zZS5tb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZS5tb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW50ZXJuYWxzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICB9XG4gICAgICBob3N0SW5zZXJ0KHZub2RlLmFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICBtb3ZlU3RhdGljTm9kZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZWVkVHJhbnNpdGlvbjIgPSBtb3ZlVHlwZSAhPT0gMiAmJiBzaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb247XG4gICAgaWYgKG5lZWRUcmFuc2l0aW9uMikge1xuICAgICAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB0cmFuc2l0aW9uLmVudGVyKGVsKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSwgYWZ0ZXJMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcmVtb3ZlMiA9ICgpID0+IHtcbiAgICAgICAgICBpZiAodm5vZGUuY3R4LmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChlbC5faXNMZWF2aW5nKSB7XG4gICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XShcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmUyKCk7XG4gICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgICBkZWxheUxlYXZlKGVsLCByZW1vdmUyLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICBzaGFwZUZsYWcsXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkaXJzLFxuICAgICAgY2FjaGVJbmRleFxuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAocGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCB0cnVlKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gICAgaWYgKGNhY2hlSW5kZXggIT0gbnVsbCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnJlbmRlckNhY2hlW2NhY2hlSW5kZXhdID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmRlYWN0aXZhdGUodm5vZGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAmJiBkaXJzO1xuICAgIGNvbnN0IHNob3VsZEludm9rZVZub2RlSG9vayA9ICFpc0FzeW5jV3JhcHBlcih2bm9kZSk7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgdW5tb3VudENvbXBvbmVudCh2bm9kZS5jb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVW5tb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICB2bm9kZS50eXBlLnJlbW92ZShcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjNTE1NFxuICAgICAgLy8gd2hlbiB2LW9uY2UgaXMgdXNlZCBpbnNpZGUgYSBibG9jaywgc2V0QmxvY2tUcmFja2luZygtMSkgbWFya3MgdGhlXG4gICAgICAvLyBwYXJlbnQgYmxvY2sgd2l0aCBoYXNPbmNlOiB0cnVlXG4gICAgICAvLyBzbyB0aGF0IGl0IGRvZXNuJ3QgdGFrZSB0aGUgZmFzdCBwYXRoIGR1cmluZyB1bm1vdW50IC0gb3RoZXJ3aXNlXG4gICAgICAvLyBjb21wb25lbnRzIG5lc3RlZCBpbiB2LW9uY2UgYXJlIG5ldmVyIHVubW91bnRlZC5cbiAgICAgICFkeW5hbWljQ2hpbGRyZW4uaGFzT25jZSAmJiAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcbiAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fCBwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0KSkge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEZyYWdtZW50ICYmIHBhdGNoRmxhZyAmICgxMjggfCAyNTYpIHx8ICFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkb1JlbW92ZSkge1xuICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIHNob3VsZEludm9rZURpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcInVubW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZSA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5wYXRjaEZsYWcgPiAwICYmIHZub2RlLnBhdGNoRmxhZyAmIDIwNDggJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjaGlsZC5lbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xuICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZXJmb3JtUmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgY3VyID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShlbmQpO1xuICB9O1xuICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIGpvYiwgc3ViVHJlZSwgdW0sIG0sIGEgfSA9IGluc3RhbmNlO1xuICAgIGludmFsaWRhdGVNb3VudChtKTtcbiAgICBpbnZhbGlkYXRlTW91bnQoYSk7XG4gICAgaWYgKGJ1bSkge1xuICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICB9XG4gICAgc2NvcGUuc3RvcCgpO1xuICAgIGlmIChqb2IpIHtcbiAgICAgIGpvYi5mbGFncyB8PSA4O1xuICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9XG4gICAgaWYgKHVtKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodW0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gKHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xuICAgIH1cbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xuICAgIH1cbiAgICBjb25zdCBlbCA9IGhvc3ROZXh0U2libGluZyh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpO1xuICAgIGNvbnN0IHRlbGVwb3J0RW5kID0gZWwgJiYgZWxbVGVsZXBvcnRFbmRLZXldO1xuICAgIHJldHVybiB0ZWxlcG9ydEVuZCA/IGhvc3ROZXh0U2libGluZyh0ZWxlcG9ydEVuZCkgOiBlbDtcbiAgfTtcbiAgbGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgY29uc3QgcmVuZGVyID0gKHZub2RlLCBjb250YWluZXIsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XG4gICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xuICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSB8fCBudWxsLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuICAgICAgZmx1c2hQcmVGbHVzaENicygpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGludGVybmFscyA9IHtcbiAgICBwOiBwYXRjaCxcbiAgICB1bTogdW5tb3VudCxcbiAgICBtOiBtb3ZlLFxuICAgIHI6IHJlbW92ZSxcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxuICAgIG86IG9wdGlvbnNcbiAgfTtcbiAgbGV0IGh5ZHJhdGU7XG4gIGxldCBoeWRyYXRlTm9kZTtcbiAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV0gPSBjcmVhdGVIeWRyYXRpb25GbnMoXG4gICAgICBpbnRlcm5hbHNcbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVuZGVyLFxuICAgIGh5ZHJhdGUsXG4gICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHsgdHlwZSwgcHJvcHMgfSwgY3VycmVudE5hbWVzcGFjZSkge1xuICByZXR1cm4gY3VycmVudE5hbWVzcGFjZSA9PT0gXCJzdmdcIiAmJiB0eXBlID09PSBcImZvcmVpZ25PYmplY3RcIiB8fCBjdXJyZW50TmFtZXNwYWNlID09PSBcIm1hdGhtbFwiICYmIHR5cGUgPT09IFwiYW5ub3RhdGlvbi14bWxcIiAmJiBwcm9wcyAmJiBwcm9wcy5lbmNvZGluZyAmJiBwcm9wcy5lbmNvZGluZy5pbmNsdWRlcyhcImh0bWxcIikgPyB2b2lkIDAgOiBjdXJyZW50TmFtZXNwYWNlO1xufVxuZnVuY3Rpb24gdG9nZ2xlUmVjdXJzZSh7IGVmZmVjdCwgam9iIH0sIGFsbG93ZWQpIHtcbiAgaWYgKGFsbG93ZWQpIHtcbiAgICBlZmZlY3QuZmxhZ3MgfD0gMzI7XG4gICAgam9iLmZsYWdzIHw9IDQ7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LmZsYWdzICY9IC0zMztcbiAgICBqb2IuZmxhZ3MgJj0gLTU7XG4gIH1cbn1cbmZ1bmN0aW9uIG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKSB7XG4gIHJldHVybiAoIXBhcmVudFN1c3BlbnNlIHx8IHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgY29uc3QgY2gxID0gbjEuY2hpbGRyZW47XG4gIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xuICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjMSA9IGNoMVtpXTtcbiAgICAgIGxldCBjMiA9IGNoMltpXTtcbiAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIpIHtcbiAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XG4gICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgYzIucGF0Y2hGbGFnICE9PSAtMilcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XG4gICAgICB9XG4gICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCAmJiAvLyBhdm9pZCBjYWNoZWQgdGV4dCBub2RlcyByZXRhaW5pbmcgZGV0YWNoZWQgZG9tIG5vZGVzXG4gICAgICBjMi5wYXRjaEZsYWcgIT09IC0xKSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcbiAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGMyLmVsICYmIChjMi5lbC5fX3Zub2RlID0gYzIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XG4gIGNvbnN0IHAgPSBhcnIuc2xpY2UoKTtcbiAgY29uc3QgcmVzdWx0ID0gWzBdO1xuICBsZXQgaSwgaiwgdSwgdiwgYztcbiAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgYXJySSA9IGFycltpXTtcbiAgICBpZiAoYXJySSAhPT0gMCkge1xuICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xuICAgICAgICBwW2ldID0gajtcbiAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdSA9IDA7XG4gICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAodSA8IHYpIHtcbiAgICAgICAgYyA9IHUgKyB2ID4+IDE7XG4gICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcbiAgICAgICAgICB1ID0gYyArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdiA9IGM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcbiAgICAgICAgaWYgKHUgPiAwKSB7XG4gICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3VdID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdSA9IHJlc3VsdC5sZW5ndGg7XG4gIHYgPSByZXN1bHRbdSAtIDFdO1xuICB3aGlsZSAodS0tID4gMCkge1xuICAgIHJlc3VsdFt1XSA9IHY7XG4gICAgdiA9IHBbdl07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHN1YkNvbXBvbmVudCA9IGluc3RhbmNlLnN1YlRyZWUuY29tcG9uZW50O1xuICBpZiAoc3ViQ29tcG9uZW50KSB7XG4gICAgaWYgKHN1YkNvbXBvbmVudC5hc3luY0RlcCAmJiAhc3ViQ29tcG9uZW50LmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiBzdWJDb21wb25lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChzdWJDb21wb25lbnQpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZU1vdW50KGhvb2tzKSB7XG4gIGlmIChob29rcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspXG4gICAgICBob29rc1tpXS5mbGFncyB8PSA4O1xuICB9XG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2wuZm9yKFwidi1zY3hcIik7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgIGlmICghY3R4KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFNlcnZlciByZW5kZXJpbmcgY29udGV4dCBub3QgcHJvdmlkZWQuIE1ha2Ugc3VyZSB0byBvbmx5IGNhbGwgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3R4O1xuICB9XG59O1xuXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJwb3N0XCIgfSkgOiB7IGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwic3luY1wiIH0pIDogeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvbmNlIH0gPSBvcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGVlcCAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbmNlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJvbmNlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYmFzZVdhdGNoT3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBiYXNlV2F0Y2hPcHRpb25zLm9uV2FybiA9IHdhcm4kMTtcbiAgY29uc3QgcnVuc0ltbWVkaWF0ZWx5ID0gY2IgJiYgaW1tZWRpYXRlIHx8ICFjYiAmJiBmbHVzaCAhPT0gXCJwb3N0XCI7XG4gIGxldCBzc3JDbGVhbnVwO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgICAgY29uc3QgY3R4ID0gdXNlU1NSQ29udGV4dCgpO1xuICAgICAgc3NyQ2xlYW51cCA9IGN0eC5fX3dhdGNoZXJIYW5kbGVzIHx8IChjdHguX193YXRjaGVySGFuZGxlcyA9IFtdKTtcbiAgICB9IGVsc2UgaWYgKCFydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIGNvbnN0IHdhdGNoU3RvcEhhbmRsZSA9ICgpID0+IHtcbiAgICAgIH07XG4gICAgICB3YXRjaFN0b3BIYW5kbGUuc3RvcCA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucmVzdW1lID0gTk9PUDtcbiAgICAgIHdhdGNoU3RvcEhhbmRsZS5wYXVzZSA9IE5PT1A7XG4gICAgICByZXR1cm4gd2F0Y2hTdG9wSGFuZGxlO1xuICAgIH1cbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgYmFzZVdhdGNoT3B0aW9ucy5jYWxsID0gKGZuLCB0eXBlLCBhcmdzKSA9PiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICBsZXQgaXNQcmUgPSBmYWxzZTtcbiAgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYikgPT4ge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoZmx1c2ggIT09IFwic3luY1wiKSB7XG4gICAgaXNQcmUgPSB0cnVlO1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYiwgaXNGaXJzdFJ1bikgPT4ge1xuICAgICAgaWYgKGlzRmlyc3RSdW4pIHtcbiAgICAgICAgam9iKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUpvYihqb2IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYmFzZVdhdGNoT3B0aW9ucy5hdWdtZW50Sm9iID0gKGpvYikgPT4ge1xuICAgIGlmIChjYikge1xuICAgICAgam9iLmZsYWdzIHw9IDQ7XG4gICAgfVxuICAgIGlmIChpc1ByZSkge1xuICAgICAgam9iLmZsYWdzIHw9IDI7XG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSB3YXRjaCQxKHNvdXJjZSwgY2IsIGJhc2VXYXRjaE9wdGlvbnMpO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKHNzckNsZWFudXApIHtcbiAgICAgIHNzckNsZWFudXAucHVzaCh3YXRjaEhhbmRsZSk7XG4gICAgfSBlbHNlIGlmIChydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIHdhdGNoSGFuZGxlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCB2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcbiAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKSA/IHNvdXJjZS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSkgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV0gOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgbGV0IGNiO1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBjYiA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcbiAgICBvcHRpb25zID0gdmFsdWU7XG4gIH1cbiAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGhpcyk7XG4gIGNvbnN0IHJlcyA9IGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zKTtcbiAgcmVzZXQoKTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGN1ciA9IGN0eDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xuICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW9kZWwocHJvcHMsIG5hbWUsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkucHJvcHNPcHRpb25zWzBdW2NhbWVsaXplZE5hbWVdKSB7XG4gICAgd2FybiQxKGB1c2VNb2RlbCgpIGNhbGxlZCB3aXRoIHByb3AgXCIke25hbWV9XCIgd2hpY2ggaXMgbm90IGRlY2xhcmVkLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBoeXBoZW5hdGVkTmFtZSA9IGh5cGhlbmF0ZShuYW1lKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGNhbWVsaXplZE5hbWUpO1xuICBjb25zdCByZXMgPSBjdXN0b21SZWYoKHRyYWNrLCB0cmlnZ2VyKSA9PiB7XG4gICAgbGV0IGxvY2FsVmFsdWU7XG4gICAgbGV0IHByZXZTZXRWYWx1ZSA9IEVNUFRZX09CSjtcbiAgICBsZXQgcHJldkVtaXR0ZWRWYWx1ZTtcbiAgICB3YXRjaFN5bmNFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbY2FtZWxpemVkTmFtZV07XG4gICAgICBpZiAoaGFzQ2hhbmdlZChsb2NhbFZhbHVlLCBwcm9wVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsVmFsdWUgPSBwcm9wVmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQgPyBvcHRpb25zLmdldChsb2NhbFZhbHVlKSA6IGxvY2FsVmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVtaXR0ZWRWYWx1ZSA9IG9wdGlvbnMuc2V0ID8gb3B0aW9ucy5zZXQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmICghaGFzQ2hhbmdlZChlbWl0dGVkVmFsdWUsIGxvY2FsVmFsdWUpICYmICEocHJldlNldFZhbHVlICE9PSBFTVBUWV9PQkogJiYgaGFzQ2hhbmdlZCh2YWx1ZSwgcHJldlNldFZhbHVlKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3UHJvcHMgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICBpZiAoIShyYXdQcm9wcyAmJiAvLyBjaGVjayBpZiBwYXJlbnQgaGFzIHBhc3NlZCB2LW1vZGVsXG4gICAgICAgIChuYW1lIGluIHJhd1Byb3BzIHx8IGNhbWVsaXplZE5hbWUgaW4gcmF3UHJvcHMgfHwgaHlwaGVuYXRlZE5hbWUgaW4gcmF3UHJvcHMpICYmIChgb25VcGRhdGU6JHtuYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7Y2FtZWxpemVkTmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2h5cGhlbmF0ZWROYW1lfWAgaW4gcmF3UHJvcHMpKSkge1xuICAgICAgICAgIGxvY2FsVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaS5lbWl0KGB1cGRhdGU6JHtuYW1lfWAsIGVtaXR0ZWRWYWx1ZSk7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBlbWl0dGVkVmFsdWUpICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkgJiYgIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBwcmV2RW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2U2V0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJldkVtaXR0ZWRWYWx1ZSA9IGVtaXR0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmVzW1N5bWJvbC5pdGVyYXRvcl0gPSAoKSA9PiB7XG4gICAgbGV0IGkyID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKGkyIDwgMikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBpMisrID8gbW9kaWZpZXJzIHx8IEVNUFRZX09CSiA6IHJlcywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gcmVzO1xufVxuY29uc3QgZ2V0TW9kZWxNb2RpZmllcnMgPSAocHJvcHMsIG1vZGVsTmFtZSkgPT4ge1xuICByZXR1cm4gbW9kZWxOYW1lID09PSBcIm1vZGVsVmFsdWVcIiB8fCBtb2RlbE5hbWUgPT09IFwibW9kZWwtdmFsdWVcIiA/IHByb3BzLm1vZGVsTW9kaWZpZXJzIDogcHJvcHNbYCR7bW9kZWxOYW1lfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2NhbWVsaXplKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF0gfHwgcHJvcHNbYCR7aHlwaGVuYXRlKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF07XG59O1xuXG5mdW5jdGlvbiBlbWl0KGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xuICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHJldHVybjtcbiAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3Qge1xuICAgICAgZW1pdHNPcHRpb25zLFxuICAgICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICAgIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoZW1pdHNPcHRpb25zKSB7XG4gICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpICYmIHRydWUpIHtcbiAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSl9XCIgcHJvcC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IHJhd0FyZ3M7XG4gIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoXCJ1cGRhdGU6XCIpO1xuICBjb25zdCBtb2RpZmllcnMgPSBpc01vZGVsTGlzdGVuZXIgJiYgZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGV2ZW50LnNsaWNlKDcpKTtcbiAgaWYgKG1vZGlmaWVycykge1xuICAgIGlmIChtb2RpZmllcnMudHJpbSkge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKChhKSA9PiBpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSk7XG4gICAgfVxuICAgIGlmIChtb2RpZmllcnMubnVtYmVyKSB7XG4gICAgICBhcmdzID0gcmF3QXJncy5tYXAobG9vc2VUb051bWJlcik7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCAke2Zvcm1hdENvbXBvbmVudE5hbWUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2UudHlwZVxuICAgICAgICApfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShcbiAgICAgICAgICBldmVudFxuICAgICAgICApfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCBoYW5kbGVyTmFtZTtcbiAgbGV0IGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCldIHx8IC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcbiAgcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKV07XG4gIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSldO1xuICB9XG4gIGlmIChoYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBoYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbiAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gIGlmIChvbmNlSGFuZGxlcikge1xuICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgb25jZUhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxufVxuY29uc3QgbWl4aW5FbWl0c0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gX19WVUVfT1BUSU9OU19BUElfXyAmJiBhc01peGluID8gbWl4aW5FbWl0c0NhY2hlIDogYXBwQ29udGV4dC5lbWl0c0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5lbWl0cztcbiAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRFbWl0cyA9IChyYXcyKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcyLCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChub3JtYWxpemVkRnJvbUV4dGVuZCkge1xuICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgcmF3LmZvckVhY2goKGtleSkgPT4gbm9ybWFsaXplZFtrZXldID0gbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIG5vcm1hbGl6ZWQpO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XG4gIGlmICghb3B0aW9ucyB8fCAhaXNPbihrZXkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sIFwiXCIpO1xuICByZXR1cm4gaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fCBoYXNPd24ob3B0aW9ucywgaHlwaGVuYXRlKGtleSkpIHx8IGhhc093bihvcHRpb25zLCBrZXkpO1xufVxuXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuZnVuY3Rpb24gbWFya0F0dHJzQWNjZXNzZWQoKSB7XG4gIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgdHlwZTogQ29tcG9uZW50LFxuICAgIHZub2RlLFxuICAgIHByb3h5LFxuICAgIHdpdGhQcm94eSxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdLFxuICAgIHNsb3RzLFxuICAgIGF0dHJzLFxuICAgIGVtaXQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlckNhY2hlLFxuICAgIHByb3BzLFxuICAgIGRhdGEsXG4gICAgc2V0dXBTdGF0ZSxcbiAgICBjdHgsXG4gICAgaW5oZXJpdEF0dHJzXG4gIH0gPSBpbnN0YW5jZTtcbiAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBmYWxsdGhyb3VnaEF0dHJzO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0KSB7XG4gICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xuICAgICAgY29uc3QgdGhpc1Byb3h5ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCA/IG5ldyBQcm94eShwcm94eVRvVXNlLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgUHJvcGVydHkgJyR7U3RyaW5nKFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICl9JyB3YXMgYWNjZXNzZWQgdmlhICd0aGlzJy4gQXZvaWQgdXNpbmcgJ3RoaXMnIGluIHRlbXBsYXRlcy5gXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgICAgfSkgOiBwcm94eVRvVXNlO1xuICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUoXG4gICAgICAgIHJlbmRlci5jYWxsKFxuICAgICAgICAgIHRoaXNQcm94eSxcbiAgICAgICAgICBwcm94eVRvVXNlLFxuICAgICAgICAgIHJlbmRlckNhY2hlLFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgc2V0dXBTdGF0ZSxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGN0eFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZW5kZXIyID0gQ29tcG9uZW50O1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYXR0cnMgPT09IHByb3BzKSB7XG4gICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyMi5sZW5ndGggPiAxID8gcmVuZGVyMihcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICAgIHJldHVybiBzaGFsbG93UmVhZG9ubHkoYXR0cnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsb3RzLFxuICAgICAgICAgICAgZW1pdFxuICAgICAgICAgIH0gOiB7IGF0dHJzLCBzbG90cywgZW1pdCB9XG4gICAgICAgICkgOiByZW5kZXIyKFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wcyA/IGF0dHJzIDogZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoKGF0dHJzKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGJsb2NrU3RhY2subGVuZ3RoID0gMDtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxKTtcbiAgICByZXN1bHQgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgfVxuICBsZXQgcm9vdCA9IHJlc3VsdDtcbiAgbGV0IHNldFJvb3QgPSB2b2lkIDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJlc3VsdC5wYXRjaEZsYWcgPiAwICYmIHJlc3VsdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgW3Jvb3QsIHNldFJvb3RdID0gZ2V0Q2hpbGRSb290KHJlc3VsdCk7XG4gIH1cbiAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmYWxsdGhyb3VnaEF0dHJzKTtcbiAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gcm9vdDtcbiAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgIGlmIChzaGFwZUZsYWcgJiAoMSB8IDYpKSB7XG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcbiAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gZmlsdGVyTW9kZWxMaXN0ZW5lcnMoXG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzLFxuICAgICAgICAgICAgcHJvcHNPcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByb290ID0gY2xvbmVWTm9kZShyb290LCBmYWxsdGhyb3VnaEF0dHJzLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWFjY2Vzc2VkQXR0cnMgJiYgcm9vdC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xuICAgICAgICBjb25zdCBldmVudEF0dHJzID0gW107XG4gICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcbiAgICAgICAgICBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICAgICAgICAgIGV2ZW50QXR0cnMucHVzaChrZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmFBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tcHJvcHMgYXR0cmlidXRlcyAoJHtleHRyYUF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCBvciB0ZWxlcG9ydCByb290IG5vZGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKCR7ZXZlbnRBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy4gSWYgdGhlIGxpc3RlbmVyIGlzIGludGVuZGVkIHRvIGJlIGEgY29tcG9uZW50IGN1c3RvbSBldmVudCBsaXN0ZW5lciBvbmx5LCBkZWNsYXJlIGl0IHVzaW5nIHRoZSBcImVtaXRzXCIgb3B0aW9uLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByb290ID0gY2xvbmVWTm9kZShyb290LCBudWxsLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XG4gIH1cbiAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKHJvb3QsIHZub2RlLnRyYW5zaXRpb24pO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldFJvb3QpIHtcbiAgICBzZXRSb290KHJvb3QpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHJvb3Q7XG4gIH1cbiAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IHJhd0NoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbiwgZmFsc2UpO1xuICBpZiAoIWNoaWxkUm9vdCkge1xuICAgIHJldHVybiBbdm5vZGUsIHZvaWQgMF07XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnID4gMCAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIHJldHVybiBnZXRDaGlsZFJvb3QoY2hpbGRSb290KTtcbiAgfVxuICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcbiAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xuICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XG4gICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgaWYgKGR5bmFtaWNJbmRleCA+IC0xKSB7XG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZWRSb290LnBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcbn07XG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuLCByZWN1cnNlID0gdHJ1ZSkge1xuICBsZXQgc2luZ2xlUm9vdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gXCJ2LWlmXCIpIHtcbiAgICAgICAgaWYgKHNpbmdsZVJvb3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2luZ2xlUm9vdCA9IGNoaWxkO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJlY3Vyc2UgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgPiAwICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlclNpbmdsZVJvb3Qoc2luZ2xlUm9vdC5jaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpbmdsZVJvb3Q7XG59XG5jb25zdCBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2ggPSAoYXR0cnMpID0+IHtcbiAgbGV0IHJlcztcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoa2V5ID09PSBcImNsYXNzXCIgfHwga2V5ID09PSBcInN0eWxlXCIgfHwgaXNPbihrZXkpKSB7XG4gICAgICAocmVzIHx8IChyZXMgPSB7fSkpW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGZpbHRlck1vZGVsTGlzdGVuZXJzID0gKGF0dHJzLCBwcm9wcykgPT4ge1xuICBjb25zdCByZXMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xuICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmICg2IHwgMSkgfHwgdm5vZGUudHlwZSA9PT0gQ29tbWVudDtcbn07XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xuICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xuICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xuICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9wdGltaXplZCAmJiBwYXRjaEZsYWcgPj0gMCkge1xuICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgIH1cbiAgICBpZiAoIW5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xuICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XG4gIGlmIChuZXh0S2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHByZXZQcm9wcykubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xuICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwpIHtcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGNvbnN0IHJvb3QgPSBwYXJlbnQuc3ViVHJlZTtcbiAgICBpZiAocm9vdC5zdXNwZW5zZSAmJiByb290LnN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9PT0gdm5vZGUpIHtcbiAgICAgIHJvb3QuZWwgPSB2bm9kZS5lbDtcbiAgICB9XG4gICAgaWYgKHJvb3QgPT09IHZub2RlKSB7XG4gICAgICAodm5vZGUgPSBwYXJlbnQudm5vZGUpLmVsID0gZWw7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcbmxldCBzdXNwZW5zZUlkID0gMDtcbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcbiAgbmFtZTogXCJTdXNwZW5zZVwiLFxuICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XG4gIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXG4gIC8vIG9uIGEgdm5vZGUncyB0eXBlIGFuZCBjYWxscyB0aGUgYHByb2Nlc3NgIG1ldGhvZCwgcGFzc2luZyBpbiByZW5kZXJlclxuICAvLyBpbnRlcm5hbHMuXG4gIF9faXNTdXNwZW5zZTogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBtb3VudFN1c3BlbnNlKFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UuZGVwcyA+IDAgJiYgIW4xLnN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xuICAgICAgICBuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlO1xuICAgICAgICBuMi5zdXNwZW5zZS52bm9kZSA9IG4yO1xuICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXRjaFN1c3BlbnNlKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICAgICApO1xuICAgIH1cbiAgfSxcbiAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxuICBub3JtYWxpemU6IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW5cbn07XG5jb25zdCBTdXNwZW5zZSA9IFN1c3BlbnNlSW1wbCA7XG5mdW5jdGlvbiB0cmlnZ2VyRXZlbnQodm5vZGUsIG5hbWUpIHtcbiAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzW25hbWVdO1xuICBpZiAoaXNGdW5jdGlvbihldmVudExpc3RlbmVyKSkge1xuICAgIGV2ZW50TGlzdGVuZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gbW91bnRTdXNwZW5zZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBwOiBwYXRjaCxcbiAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGNvbnN0IGhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIGFuY2hvcixcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFsc1xuICApO1xuICBwYXRjaChcbiAgICBudWxsLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIG51bGwsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHNcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPiAwKSB7XG4gICAgdHJpZ2dlckV2ZW50KHZub2RlLCBcIm9uUGVuZGluZ1wiKTtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25GYWxsYmFja1wiKTtcbiAgICBwYXRjaChcbiAgICAgIG51bGwsXG4gICAgICB2bm9kZS5zc0ZhbGxiYWNrLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgYW5jaG9yLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgbnVsbCxcbiAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBzbG90U2NvcGVJZHNcbiAgICApO1xuICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgc3VzcGVuc2UucmVzb2x2ZShmYWxzZSwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xuICBjb25zdCBzdXNwZW5zZSA9IG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2U7XG4gIHN1c3BlbnNlLnZub2RlID0gbjI7XG4gIG4yLmVsID0gbjEuZWw7XG4gIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcbiAgY29uc3QgbmV3RmFsbGJhY2sgPSBuMi5zc0ZhbGxiYWNrO1xuICBjb25zdCB7IGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgaXNJbkZhbGxiYWNrLCBpc0h5ZHJhdGluZyB9ID0gc3VzcGVuc2U7XG4gIGlmIChwZW5kaW5nQnJhbmNoKSB7XG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKHBlbmRpbmdCcmFuY2gsIG5ld0JyYW5jaCkpIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgaWYgKCFpc0h5ZHJhdGluZykge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gc3VzcGVuc2VJZCsrO1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICAgIG5ld0ZhbGxiYWNrLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUoYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZ2dlckV2ZW50KG4yLCBcIm9uUGVuZGluZ1wiKTtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgICBpZiAobmV3QnJhbmNoLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBuZXdCcmFuY2guY29tcG9uZW50LnN1c3BlbnNlSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICB9XG4gICAgICBwYXRjaChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgdGltZW91dCwgcGVuZGluZ0lkIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0lkID09PSBwZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWVvdXQgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBpc0h5ZHJhdGluZyA9IGZhbHNlKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUgJiYgIWhhc1dhcm5lZCkge1xuICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgY29uc29sZVtjb25zb2xlLmluZm8gPyBcImluZm9cIiA6IFwibG9nXCJdKFxuICAgICAgYDxTdXNwZW5zZT4gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYW5kIGl0cyBBUEkgd2lsbCBsaWtlbHkgY2hhbmdlLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IHtcbiAgICBwOiBwYXRjaCxcbiAgICBtOiBtb3ZlLFxuICAgIHVtOiB1bm1vdW50LFxuICAgIG46IG5leHQsXG4gICAgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGxldCBwYXJlbnRTdXNwZW5zZUlkO1xuICBjb25zdCBpc1N1c3BlbnNpYmxlID0gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKTtcbiAgaWYgKGlzU3VzcGVuc2libGUpIHtcbiAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgcGFyZW50U3VzcGVuc2VJZCA9IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZDtcbiAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMrKztcbiAgICB9XG4gIH1cbiAgY29uc3QgdGltZW91dCA9IHZub2RlLnByb3BzID8gdG9OdW1iZXIodm5vZGUucHJvcHMudGltZW91dCkgOiB2b2lkIDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHRpbWVvdXQsIGBTdXNwZW5zZSB0aW1lb3V0YCk7XG4gIH1cbiAgY29uc3QgaW5pdGlhbEFuY2hvciA9IGFuY2hvcjtcbiAgY29uc3Qgc3VzcGVuc2UgPSB7XG4gICAgdm5vZGUsXG4gICAgcGFyZW50OiBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbmFtZXNwYWNlLFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgZGVwczogMCxcbiAgICBwZW5kaW5nSWQ6IHN1c3BlbnNlSWQrKyxcbiAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gXCJudW1iZXJcIiA/IHRpbWVvdXQgOiAtMSxcbiAgICBhY3RpdmVCcmFuY2g6IG51bGwsXG4gICAgcGVuZGluZ0JyYW5jaDogbnVsbCxcbiAgICBpc0luRmFsbGJhY2s6ICFpc0h5ZHJhdGluZyxcbiAgICBpc0h5ZHJhdGluZyxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgZWZmZWN0czogW10sXG4gICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSwgc3luYyA9IGZhbHNlKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIHdpdGhvdXQgYSBwZW5kaW5nIGJyYW5jaC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHVubW91bnRlZCBzdXNwZW5zZSBib3VuZGFyeS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qge1xuICAgICAgICB2bm9kZTogdm5vZGUyLFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIHBlbmRpbmdJZCxcbiAgICAgICAgZWZmZWN0cyxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50OiBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcjIsXG4gICAgICAgIGlzSW5GYWxsYmFja1xuICAgICAgfSA9IHN1c3BlbnNlO1xuICAgICAgbGV0IGRlbGF5RW50ZXIgPSBmYWxzZTtcbiAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghcmVzdW1lKSB7XG4gICAgICAgIGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgbW92ZShcbiAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICAgICAgYW5jaG9yID09PSBpbml0aWFsQW5jaG9yID8gbmV4dChhY3RpdmVCcmFuY2gpIDogYW5jaG9yLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgICAgICAgICAgaWYgKGlzSW5GYWxsYmFjayAmJiB2bm9kZTIuc3NGYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZub2RlMi5zc0ZhbGxiYWNrLmVsID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgIGlmIChwYXJlbnROb2RlKGFjdGl2ZUJyYW5jaC5lbCkgPT09IGNvbnRhaW5lcjIpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDIsIHN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIgJiYgaXNJbkZhbGxiYWNrICYmIHZub2RlMi5zc0ZhbGxiYWNrKSB7XG4gICAgICAgICAgICB2bm9kZTIuc3NGYWxsYmFjay5lbCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBwZW5kaW5nQnJhbmNoKTtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gZmFsc2U7XG4gICAgICBsZXQgcGFyZW50ID0gc3VzcGVuc2UucGFyZW50O1xuICAgICAgbGV0IGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IGZhbHNlO1xuICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50LnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICBwYXJlbnQuZWZmZWN0cy5wdXNoKC4uLmVmZmVjdHMpO1xuICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yICYmICFkZWxheUVudGVyKSB7XG4gICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZWZmZWN0cyk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XG4gICAgICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiBwYXJlbnRTdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzLS07XG4gICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDAgJiYgIXN5bmMpIHtcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyaWdnZXJFdmVudCh2bm9kZTIsIFwib25SZXNvbHZlXCIpO1xuICAgIH0sXG4gICAgZmFsbGJhY2soZmFsbGJhY2tWTm9kZSkge1xuICAgICAgaWYgKCFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdm5vZGU6IHZub2RlMiwgYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsIGNvbnRhaW5lcjogY29udGFpbmVyMiwgbmFtZXNwYWNlOiBuYW1lc3BhY2UyIH0gPSBzdXNwZW5zZTtcbiAgICAgIHRyaWdnZXJFdmVudCh2bm9kZTIsIFwib25GYWxsYmFja1wiKTtcbiAgICAgIGNvbnN0IGFuY2hvcjIgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICBjb25zdCBtb3VudEZhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZhbGxiYWNrVk5vZGUsXG4gICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgIG5hbWVzcGFjZTIsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGZhbGxiYWNrVk5vZGUpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gbW91bnRGYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IHRydWU7XG4gICAgICB1bm1vdW50KFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIC8vIG5vIHN1c3BlbnNlIHNvIHVubW91bnQgaG9va3MgZmlyZSBub3dcbiAgICAgICAgdHJ1ZVxuICAgICAgICAvLyBzaG91bGRSZW1vdmVcbiAgICAgICk7XG4gICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgbW91bnRGYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbW92ZShjb250YWluZXIyLCBhbmNob3IyLCB0eXBlKSB7XG4gICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbW92ZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpO1xuICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyMjtcbiAgICB9LFxuICAgIG5leHQoKSB7XG4gICAgICByZXR1cm4gc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG5leHQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKTtcbiAgICB9LFxuICAgIHJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCwgb3B0aW1pemVkMikge1xuICAgICAgY29uc3QgaXNJblBlbmRpbmdTdXNwZW5zZSA9ICEhc3VzcGVuc2UucGVuZGluZ0JyYW5jaDtcbiAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XG4gICAgICAgIHN1c3BlbnNlLmRlcHMrKztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGh5ZHJhdGVkRWwgPSBpbnN0YW5jZS52bm9kZS5lbDtcbiAgICAgIGluc3RhbmNlLmFzeW5jRGVwLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMCk7XG4gICAgICB9KS50aGVuKChhc3luY1NldHVwUmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZCB8fCBzdXNwZW5zZS5pc1VubW91bnRlZCB8fCBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHsgdm5vZGU6IHZub2RlMiB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlMik7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIGFzeW5jU2V0dXBSZXN1bHQsIGZhbHNlKTtcbiAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcbiAgICAgICAgICB2bm9kZTIuZWwgPSBoeWRyYXRlZEVsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcbiAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgdm5vZGUyLFxuICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxuICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcbiAgICAgICAgICAvLyBwbGFjZWhvbGRlci5cbiAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksXG4gICAgICAgICAgLy8gYW5jaG9yIHdpbGwgbm90IGJlIHVzZWQgaWYgdGhpcyBpcyBoeWRyYXRpb24sIHNvIG9ubHkgbmVlZCB0b1xuICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXG4gICAgICAgICAgaHlkcmF0ZWRFbCA/IG51bGwgOiBuZXh0KGluc3RhbmNlLnN1YlRyZWUpLFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWQyXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgIHZub2RlMi5wbGFjZWhvbGRlciA9IG51bGw7XG4gICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlMi5lbCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZTIsIGRvUmVtb3ZlKSB7XG4gICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UyLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3VzcGVuc2U7XG59XG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbm9kZS5wYXJlbnROb2RlLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgIG51bGwsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShcbiAgICBub2RlLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWRcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyO1xuICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoXG4gICAgaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW5cbiAgKTtcbiAgdm5vZGUuc3NGYWxsYmFjayA9IGlzU2xvdENoaWxkcmVuID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcbiAgbGV0IGJsb2NrO1xuICBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IGZhbHNlO1xuICAgICAgb3BlbkJsb2NrKCk7XG4gICAgfVxuICAgIHMgPSBzKCk7XG4gICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgIHMuX2QgPSB0cnVlO1xuICAgICAgYmxvY2sgPSBjdXJyZW50QmxvY2s7XG4gICAgICBjbG9zZUJsb2NrKCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0FycmF5KHMpKSB7XG4gICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFzaW5nbGVDaGlsZCAmJiBzLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkICE9PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKS5sZW5ndGggPiAwKSB7XG4gICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICB9XG4gICAgcyA9IHNpbmdsZUNoaWxkO1xuICB9XG4gIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgaWYgKGJsb2NrICYmICFzLmR5bmFtaWNDaGlsZHJlbikge1xuICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKChjKSA9PiBjICE9PSBzKTtcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xuICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XG4gIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcbiAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgbGV0IGVsID0gYnJhbmNoLmVsO1xuICB3aGlsZSAoIWVsICYmIGJyYW5jaC5jb21wb25lbnQpIHtcbiAgICBicmFuY2ggPSBicmFuY2guY29tcG9uZW50LnN1YlRyZWU7XG4gICAgZWwgPSBicmFuY2guZWw7XG4gIH1cbiAgdm5vZGUuZWwgPSBlbDtcbiAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcbiAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSkge1xuICBjb25zdCBzdXNwZW5zaWJsZSA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnN1c3BlbnNpYmxlO1xuICByZXR1cm4gc3VzcGVuc2libGUgIT0gbnVsbCAmJiBzdXNwZW5zaWJsZSAhPT0gZmFsc2U7XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sLmZvcihcInYtZmd0XCIpO1xuY29uc3QgVGV4dCA9IFN5bWJvbC5mb3IoXCJ2LXR4dFwiKTtcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2wuZm9yKFwidi1jbXRcIik7XG5jb25zdCBTdGF0aWMgPSBTeW1ib2wuZm9yKFwidi1zdGNcIik7XG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICBibG9ja1N0YWNrLnB1c2goY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKTtcbn1cbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XG4gIGJsb2NrU3RhY2sucG9wKCk7XG4gIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlLCBpblZPbmNlID0gZmFsc2UpIHtcbiAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xuICBpZiAodmFsdWUgPCAwICYmIGN1cnJlbnRCbG9jayAmJiBpblZPbmNlKSB7XG4gICAgY3VycmVudEJsb2NrLmhhc09uY2UgPSB0cnVlO1xuICB9XG59XG5mdW5jdGlvbiBzZXR1cEJsb2NrKHZub2RlKSB7XG4gIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgPyBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSIDogbnVsbDtcbiAgY2xvc2VCbG9jaygpO1xuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZykge1xuICByZXR1cm4gc2V0dXBCbG9jayhcbiAgICBjcmVhdGVCYXNlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkeW5hbWljUHJvcHMsXG4gICAgICB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuMi5zaGFwZUZsYWcgJiA2ICYmIG4xLmNvbXBvbmVudCkge1xuICAgIGNvbnN0IGRpcnR5SW5zdGFuY2VzID0gaG1yRGlydHlDb21wb25lbnRzLmdldChuMi50eXBlKTtcbiAgICBpZiAoZGlydHlJbnN0YW5jZXMgJiYgZGlydHlJbnN0YW5jZXMuaGFzKG4xLmNvbXBvbmVudCkpIHtcbiAgICAgIG4xLnNoYXBlRmxhZyAmPSAtMjU3O1xuICAgICAgbjIuc2hhcGVGbGFnICY9IC01MTM7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xufVxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XG59XG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcbiAgcmV0dXJuIF9jcmVhdGVWTm9kZShcbiAgICAuLi52bm9kZUFyZ3NUcmFuc2Zvcm1lciA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgOiBhcmdzXG4gICk7XG59O1xuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7XG4gIHJlZixcbiAgcmVmX2tleSxcbiAgcmVmX2ZvclxufSkgPT4ge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlZiA9IFwiXCIgKyByZWY7XG4gIH1cbiAgcmV0dXJuIHJlZiAhPSBudWxsID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKSA/IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYsIGs6IHJlZl9rZXksIGY6ICEhcmVmX2ZvciB9IDogcmVmIDogbnVsbDtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEsIGlzQmxvY2tOb2RlID0gZmFsc2UsIG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uID0gZmFsc2UpIHtcbiAgY29uc3Qgdm5vZGUgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXG4gICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxuICAgIHNsb3RTY29wZUlkczogbnVsbCxcbiAgICBjaGlsZHJlbixcbiAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgc3VzcGVuc2U6IG51bGwsXG4gICAgc3NDb250ZW50OiBudWxsLFxuICAgIHNzRmFsbGJhY2s6IG51bGwsXG4gICAgZGlyczogbnVsbCxcbiAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgIGVsOiBudWxsLFxuICAgIGFuY2hvcjogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGFyZ2V0U3RhcnQ6IG51bGwsXG4gICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxuICAgIHN0YXRpY0NvdW50OiAwLFxuICAgIHNoYXBlRmxhZyxcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICBhcHBDb250ZXh0OiBudWxsLFxuICAgIGN0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlXG4gIH07XG4gIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdHlwZS5ub3JtYWxpemUodm5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSBpc1N0cmluZyhjaGlsZHJlbikgPyA4IDogMTY7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICB3YXJuJDEoYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcbiAgIWlzQmxvY2tOb2RlICYmIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xuICBjdXJyZW50QmxvY2sgJiYgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cbiAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXG4gIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xuICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXG4gICh2bm9kZS5wYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYpICYmIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxuICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxuICB2bm9kZS5wYXRjaEZsYWcgIT09IDMyKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gOiBfY3JlYXRlVk5vZGU7XG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdHlwZSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcbiAgICB9XG4gICAgdHlwZSA9IENvbW1lbnQ7XG4gIH1cbiAgaWYgKGlzVk5vZGUodHlwZSkpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgdHJ1ZVxuICAgICAgLyogbWVyZ2VSZWY6IHRydWUgKi9cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNikge1xuICAgICAgICBjdXJyZW50QmxvY2tbY3VycmVudEJsb2NrLmluZGV4T2YodHlwZSldID0gY2xvbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2xvbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xvbmVkLnBhdGNoRmxhZyA9IC0yO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gIH1cbiAgaWYgKHByb3BzKSB7XG4gICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpID8gMSA6IGlzU3VzcGVuc2UodHlwZSkgPyAxMjggOiBpc1RlbGVwb3J0KHR5cGUpID8gNjQgOiBpc09iamVjdCh0eXBlKSA/IDQgOiBpc0Z1bmN0aW9uKHR5cGUpID8gMiA6IDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNoYXBlRmxhZyAmIDQgJiYgaXNQcm94eSh0eXBlKSkge1xuICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICB3YXJuJDEoXG4gICAgICBgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLFxuICAgICAgYFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsXG4gICAgICB0eXBlXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBzaGFwZUZsYWcsXG4gICAgaXNCbG9ja05vZGUsXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICByZXR1cm4gaXNQcm94eShwcm9wcykgfHwgaXNJbnRlcm5hbE9iamVjdChwcm9wcykgPyBleHRlbmQoe30sIHByb3BzKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSwgY2xvbmVUcmFuc2l0aW9uID0gZmFsc2UpIHtcbiAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgY29uc3QgY2xvbmVkID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWYgPyAoXG4gICAgICAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgIG1lcmdlUmVmICYmIHJlZiA/IGlzQXJyYXkocmVmKSA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKSA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV0gOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICApIDogcmVmLFxuICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgY2hpbGRyZW46ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcGF0Y2hGbGFnID09PSAtMSAmJiBpc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSkgOiBjaGlsZHJlbixcbiAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICB0YXJnZXRTdGFydDogdm5vZGUudGFyZ2V0U3RhcnQsXG4gICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXG4gICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxuICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXG4gICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cbiAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgLy8gZmFzdCBwYXRocyBvbmx5LlxuICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudCA/IHBhdGNoRmxhZyA9PT0gLTEgPyAxNiA6IHBhdGNoRmxhZyB8IDE2IDogcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxuICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXG4gICAgZGlyczogdm5vZGUuZGlycyxcbiAgICB0cmFuc2l0aW9uLFxuICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxuICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcbiAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxuICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcbiAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXG4gICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgIHBsYWNlaG9sZGVyOiB2bm9kZS5wbGFjZWhvbGRlcixcbiAgICBlbDogdm5vZGUuZWwsXG4gICAgYW5jaG9yOiB2bm9kZS5hbmNob3IsXG4gICAgY3R4OiB2bm9kZS5jdHgsXG4gICAgY2U6IHZub2RlLmNlXG4gIH07XG4gIGlmICh0cmFuc2l0aW9uICYmIGNsb25lVHJhbnNpdGlvbikge1xuICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgIGNsb25lZCxcbiAgICAgIHRyYW5zaXRpb24uY2xvbmUoY2xvbmVkKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XG4gIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcbiAgICBjbG9uZWQuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpO1xuICB9XG4gIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodGV4dCA9IFwiIFwiLCBmbGFnID0gMCkge1xuICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XG4gIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcbiAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Vk5vZGUodGV4dCA9IFwiXCIsIGFzQmxvY2sgPSBmYWxzZSkge1xuICByZXR1cm4gYXNCbG9jayA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soQ29tbWVudCwgbnVsbCwgdGV4dCkpIDogY3JlYXRlVk5vZGUoQ29tbWVudCwgbnVsbCwgdGV4dCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZShjaGlsZCkge1xuICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFxuICAgICAgRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gIzM2NjYsIGF2b2lkIHJlZmVyZW5jZSBwb2xsdXRpb24gd2hlbiByZXVzaW5nIHZub2RlXG4gICAgICBjaGlsZC5zbGljZSgpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xuICB9XG59XG5mdW5jdGlvbiBjbG9uZUlmTW91bnRlZChjaGlsZCkge1xuICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgJiYgY2hpbGQucGF0Y2hGbGFnICE9PSAtMSB8fCBjaGlsZC5tZW1vID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xuICBsZXQgdHlwZSA9IDA7XG4gIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICB0eXBlID0gMTY7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNjQpKSB7XG4gICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcbiAgICAgIGlmIChzbG90KSB7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSBmYWxzZSk7XG4gICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xuICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSAzMjtcbiAgICAgIGNvbnN0IHNsb3RGbGFnID0gY2hpbGRyZW4uXztcbiAgICAgIGlmICghc2xvdEZsYWcgJiYgIWlzSW50ZXJuYWxPYmplY3QoY2hpbGRyZW4pKSB7XG4gICAgICAgIGNoaWxkcmVuLl9jdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgICB9IGVsc2UgaWYgKHNsb3RGbGFnID09PSAzICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnNsb3RzLl8gPT09IDEpIHtcbiAgICAgICAgICBjaGlsZHJlbi5fID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZHJlbi5fID0gMjtcbiAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xuICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XG4gICAgdHlwZSA9IDMyO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUgPSAxNjtcbiAgICAgIGNoaWxkcmVuID0gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gODtcbiAgICB9XG4gIH1cbiAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdm5vZGUuc2hhcGVGbGFnIHw9IHR5cGU7XG59XG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgICAgICBpZiAocmV0LmNsYXNzICE9PSB0b01lcmdlLmNsYXNzKSB7XG4gICAgICAgICAgcmV0LmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW3JldC5jbGFzcywgdG9NZXJnZS5jbGFzc10pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XG4gICAgICAgIGNvbnN0IGluY29taW5nID0gdG9NZXJnZVtrZXldO1xuICAgICAgICBpZiAoaW5jb21pbmcgJiYgZXhpc3RpbmcgIT09IGluY29taW5nICYmICEoaXNBcnJheShleGlzdGluZykgJiYgZXhpc3RpbmcuaW5jbHVkZXMoaW5jb21pbmcpKSkge1xuICAgICAgICAgIHJldFtrZXldID0gZXhpc3RpbmcgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGluY29taW5nKSA6IGluY29taW5nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gXCJcIikge1xuICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGludm9rZVZOb2RlSG9vayhob29rLCBpbnN0YW5jZSwgdm5vZGUsIHByZXZWTm9kZSA9IG51bGwpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcsIFtcbiAgICB2bm9kZSxcbiAgICBwcmV2Vk5vZGVcbiAgXSk7XG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbmxldCB1aWQgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIHBhcmVudCwgc3VzcGVuc2UpIHtcbiAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XG4gIGNvbnN0IGFwcENvbnRleHQgPSAocGFyZW50ID8gcGFyZW50LmFwcENvbnRleHQgOiB2bm9kZS5hcHBDb250ZXh0KSB8fCBlbXB0eUFwcENvbnRleHQ7XG4gIGNvbnN0IGluc3RhbmNlID0ge1xuICAgIHVpZDogdWlkKyssXG4gICAgdm5vZGUsXG4gICAgdHlwZSxcbiAgICBwYXJlbnQsXG4gICAgYXBwQ29udGV4dCxcbiAgICByb290OiBudWxsLFxuICAgIC8vIHRvIGJlIGltbWVkaWF0ZWx5IHNldFxuICAgIG5leHQ6IG51bGwsXG4gICAgc3ViVHJlZTogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCBzeW5jaHJvbm91c2x5IHJpZ2h0IGFmdGVyIGNyZWF0aW9uXG4gICAgZWZmZWN0OiBudWxsLFxuICAgIHVwZGF0ZTogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCBzeW5jaHJvbm91c2x5IHJpZ2h0IGFmdGVyIGNyZWF0aW9uXG4gICAgam9iOiBudWxsLFxuICAgIHNjb3BlOiBuZXcgRWZmZWN0U2NvcGUoXG4gICAgICB0cnVlXG4gICAgICAvKiBkZXRhY2hlZCAqL1xuICAgICksXG4gICAgcmVuZGVyOiBudWxsLFxuICAgIHByb3h5OiBudWxsLFxuICAgIGV4cG9zZWQ6IG51bGwsXG4gICAgZXhwb3NlUHJveHk6IG51bGwsXG4gICAgd2l0aFByb3h5OiBudWxsLFxuICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxuICAgIGlkczogcGFyZW50ID8gcGFyZW50LmlkcyA6IFtcIlwiLCAwLCAwXSxcbiAgICBhY2Nlc3NDYWNoZTogbnVsbCxcbiAgICByZW5kZXJDYWNoZTogW10sXG4gICAgLy8gbG9jYWwgcmVzb2x2ZWQgYXNzZXRzXG4gICAgY29tcG9uZW50czogbnVsbCxcbiAgICBkaXJlY3RpdmVzOiBudWxsLFxuICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXG4gICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgLy8gZW1pdFxuICAgIGVtaXQ6IG51bGwsXG4gICAgLy8gdG8gYmUgc2V0IGltbWVkaWF0ZWx5XG4gICAgZW1pdHRlZDogbnVsbCxcbiAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXG4gICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxuICAgIC8vIGluaGVyaXRBdHRyc1xuICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXG4gICAgLy8gc3RhdGVcbiAgICBjdHg6IEVNUFRZX09CSixcbiAgICBkYXRhOiBFTVBUWV9PQkosXG4gICAgcHJvcHM6IEVNUFRZX09CSixcbiAgICBhdHRyczogRU1QVFlfT0JKLFxuICAgIHNsb3RzOiBFTVBUWV9PQkosXG4gICAgcmVmczogRU1QVFlfT0JKLFxuICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcbiAgICBzZXR1cENvbnRleHQ6IG51bGwsXG4gICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxuICAgIHN1c3BlbnNlLFxuICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcbiAgICBhc3luY0RlcDogbnVsbCxcbiAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcbiAgICAvLyBsaWZlY3ljbGUgaG9va3NcbiAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxuICAgIGJjOiBudWxsLFxuICAgIGM6IG51bGwsXG4gICAgYm06IG51bGwsXG4gICAgbTogbnVsbCxcbiAgICBidTogbnVsbCxcbiAgICB1OiBudWxsLFxuICAgIHVtOiBudWxsLFxuICAgIGJ1bTogbnVsbCxcbiAgICBkYTogbnVsbCxcbiAgICBhOiBudWxsLFxuICAgIHJ0ZzogbnVsbCxcbiAgICBydGM6IG51bGwsXG4gICAgZWM6IG51bGwsXG4gICAgc3A6IG51bGxcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbnN0YW5jZS5jdHggPSBjcmVhdGVEZXZSZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XG4gIH1cbiAgaW5zdGFuY2Uucm9vdCA9IHBhcmVudCA/IHBhcmVudC5yb290IDogaW5zdGFuY2U7XG4gIGluc3RhbmNlLmVtaXQgPSBlbWl0LmJpbmQobnVsbCwgaW5zdGFuY2UpO1xuICBpZiAodm5vZGUuY2UpIHtcbiAgICB2bm9kZS5jZShpbnN0YW5jZSk7XG4gIH1cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxubGV0IGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xubGV0IGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlO1xubGV0IHNldEluU1NSU2V0dXBTdGF0ZTtcbntcbiAgY29uc3QgZyA9IGdldEdsb2JhbFRoaXMoKTtcbiAgY29uc3QgcmVnaXN0ZXJHbG9iYWxTZXR0ZXIgPSAoa2V5LCBzZXR0ZXIpID0+IHtcbiAgICBsZXQgc2V0dGVycztcbiAgICBpZiAoIShzZXR0ZXJzID0gZ1trZXldKSkgc2V0dGVycyA9IGdba2V5XSA9IFtdO1xuICAgIHNldHRlcnMucHVzaChzZXR0ZXIpO1xuICAgIHJldHVybiAodikgPT4ge1xuICAgICAgaWYgKHNldHRlcnMubGVuZ3RoID4gMSkgc2V0dGVycy5mb3JFYWNoKChzZXQpID0+IHNldCh2KSk7XG4gICAgICBlbHNlIHNldHRlcnNbMF0odik7XG4gICAgfTtcbiAgfTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UgPSByZWdpc3Rlckdsb2JhbFNldHRlcihcbiAgICBgX19WVUVfSU5TVEFOQ0VfU0VUVEVSU19fYCxcbiAgICAodikgPT4gY3VycmVudEluc3RhbmNlID0gdlxuICApO1xuICBzZXRJblNTUlNldHVwU3RhdGUgPSByZWdpc3Rlckdsb2JhbFNldHRlcihcbiAgICBgX19WVUVfU1NSX1NFVFRFUlNfX2AsXG4gICAgKHYpID0+IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IHZcbiAgKTtcbn1cbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBwcmV2ID0gY3VycmVudEluc3RhbmNlO1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gIGluc3RhbmNlLnNjb3BlLm9uKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gICAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UocHJldik7XG4gIH07XG59O1xuY29uc3QgdW5zZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiB7XG4gIGN1cnJlbnRJbnN0YW5jZSAmJiBjdXJyZW50SW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKG51bGwpO1xufTtcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFwic2xvdCxjb21wb25lbnRcIik7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgeyBpc05hdGl2ZVRhZyB9KSB7XG4gIGlmIChpc0J1aWx0SW5UYWcobmFtZSkgfHwgaXNOYXRpdmVUYWcobmFtZSkpIHtcbiAgICB3YXJuJDEoXG4gICAgICBcIkRvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6IFwiICsgbmFtZVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDQ7XG59XG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpIHtcbiAgaXNTU1IgJiYgc2V0SW5TU1JTZXR1cFN0YXRlKGlzU1NSKTtcbiAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IGluc3RhbmNlLnZub2RlO1xuICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XG4gIGluaXRQcm9wcyhpbnN0YW5jZSwgcHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSKTtcbiAgaW5pdFNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkIHx8IGlzU1NSKTtcbiAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIDogdm9pZCAwO1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoZmFsc2UpO1xuICByZXR1cm4gc2V0dXBSZXN1bHQ7XG59XG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xuICB2YXIgX2E7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaWYgKENvbXBvbmVudC5uYW1lKSB7XG4gICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuZGlyZWN0aXZlcykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgXCJjb21waWxlck9wdGlvbnNcIiBpcyBvbmx5IHN1cHBvcnRlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIuIFNpbmNlIHlvdSBhcmUgdXNpbmcgYSBydW50aW1lLW9ubHkgYnVpbGQsIHRoZSBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHlvdXIgYnVpbGQgdG9vbCBjb25maWcgaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpbnN0YW5jZS5wcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9XG4gIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcbiAgaWYgKHNldHVwKSB7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IGluc3RhbmNlLnNldHVwQ29udGV4dCA9IHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBzZXR1cCxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMCxcbiAgICAgIFtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc2V0dXBDb250ZXh0XG4gICAgICBdXG4gICAgKTtcbiAgICBjb25zdCBpc0FzeW5jU2V0dXAgPSBpc1Byb21pc2Uoc2V0dXBSZXN1bHQpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICByZXNldCgpO1xuICAgIGlmICgoaXNBc3luY1NldHVwIHx8IGluc3RhbmNlLnNwKSAmJiAhaXNBc3luY1dyYXBwZXIoaW5zdGFuY2UpKSB7XG4gICAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChpc0FzeW5jU2V0dXApIHtcbiAgICAgIHNldHVwUmVzdWx0LnRoZW4odW5zZXRDdXJyZW50SW5zdGFuY2UsIHVuc2V0Q3VycmVudEluc3RhbmNlKTtcbiAgICAgIGlmIChpc1NTUikge1xuICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHQudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcbiAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWluc3RhbmNlLnN1c3BlbnNlKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IChfYSA9IENvbXBvbmVudC5uYW1lKSAhPSBudWxsID8gX2EgOiBcIkFub255bW91c1wiO1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgPCR7bmFtZX0+OiBzZXR1cCBmdW5jdGlvbiByZXR1cm5lZCBhIHByb21pc2UsIGJ1dCBubyA8U3VzcGVuc2U+IGJvdW5kYXJ5IHdhcyBmb3VuZCBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCB0cmVlLiBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIHNldHVwKCkgbXVzdCBiZSBuZXN0ZWQgaW4gYSA8U3VzcGVuc2U+IGluIG9yZGVyIHRvIGJlIHJlbmRlcmVkLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xuICAgIGlmIChpbnN0YW5jZS50eXBlLl9fc3NySW5saW5lUmVuZGVyKSB7XG4gICAgICBpbnN0YW5jZS5zc3JSZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIHJldHVybiBhIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlID0gc2V0dXBSZXN1bHQ7XG4gICAgfVxuICAgIGluc3RhbmNlLnNldHVwU3RhdGUgPSBwcm94eVJlZnMoc2V0dXBSZXN1bHQpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YFxuICAgICk7XG4gIH1cbiAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbn1cbmxldCBjb21waWxlO1xubGV0IGluc3RhbGxXaXRoUHJveHk7XG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xuICBjb21waWxlID0gX2NvbXBpbGU7XG4gIGluc3RhbGxXaXRoUHJveHkgPSAoaSkgPT4ge1xuICAgIGlmIChpLnJlbmRlci5fcmMpIHtcbiAgICAgIGkud2l0aFByb3h5ID0gbmV3IFByb3h5KGkuY3R4LCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICAgIH1cbiAgfTtcbn1cbmNvbnN0IGlzUnVudGltZU9ubHkgPSAoKSA9PiAhY29tcGlsZTtcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcbiAgICBpZiAoIWlzU1NSICYmIGNvbXBpbGUgJiYgIUNvbXBvbmVudC5yZW5kZXIpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gQ29tcG9uZW50LnRlbXBsYXRlIHx8IF9fVlVFX09QVElPTlNfQVBJX18gJiYgcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpLnRlbXBsYXRlO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaXNDdXN0b21FbGVtZW50LCBjb21waWxlck9wdGlvbnMgfSA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xuICAgICAgICBjb25zdCB7IGRlbGltaXRlcnMsIGNvbXBpbGVyT3B0aW9uczogY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIH0gPSBDb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29tcGlsZXJPcHRpb25zID0gZXh0ZW5kKFxuICAgICAgICAgIGV4dGVuZChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50LFxuICAgICAgICAgICAgICBkZWxpbWl0ZXJzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjb21wb25lbnRDb21waWxlck9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLnJlbmRlciA9IENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUDtcbiAgICBpZiAoaW5zdGFsbFdpdGhQcm94eSkge1xuICAgICAgaW5zdGFsbFdpdGhQcm94eShpbnN0YW5jZSk7XG4gICAgfVxuICB9XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmIHRydWUpIHtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIHRyeSB7XG4gICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XG4gICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgQ29tcG9uZW50IHByb3ZpZGVkIHRlbXBsYXRlIG9wdGlvbiBidXQgcnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgKyAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gIClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4kMShgQ29tcG9uZW50IGlzIG1pc3NpbmcgdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uOiBgLCBDb21wb25lbnQpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgYXR0cnNQcm94eUhhbmRsZXJzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIFwiXCIpO1xuICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgfSxcbiAgc2V0KCkge1xuICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHkoKSB7XG4gICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59IDoge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIFwiXCIpO1xuICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldFNsb3RzUHJveHkoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5zbG90cywge1xuICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIFwiJHNsb3RzXCIpO1xuICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgZXhwb3NlID0gKGV4cG9zZWQpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgd2FybiQxKGBleHBvc2UoKSBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgc2V0dXAoKS5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBvc2VkICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGV4cG9zZWRUeXBlID0gdHlwZW9mIGV4cG9zZWQ7XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVmKGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwicmVmXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBleHBvc2UoKSBzaG91bGQgYmUgcGFzc2VkIGEgcGxhaW4gb2JqZWN0LCByZWNlaXZlZCAke2V4cG9zZWRUeXBlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5leHBvc2VkID0gZXhwb3NlZCB8fCB7fTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBsZXQgYXR0cnNQcm94eTtcbiAgICBsZXQgc2xvdHNQcm94eTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgIHJldHVybiBhdHRyc1Byb3h5IHx8IChhdHRyc1Byb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpKTtcbiAgICAgIH0sXG4gICAgICBnZXQgc2xvdHMoKSB7XG4gICAgICAgIHJldHVybiBzbG90c1Byb3h5IHx8IChzbG90c1Byb3h5ID0gZ2V0U2xvdHNQcm94eShpbnN0YW5jZSkpO1xuICAgICAgfSxcbiAgICAgIGdldCBlbWl0KCkge1xuICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBleHBvc2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXR0cnM6IG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0cnNQcm94eUhhbmRsZXJzKSxcbiAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcbiAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXG4gICAgICBleHBvc2VcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShpbnN0YW5jZSkge1xuICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgIHJldHVybiBpbnN0YW5jZS5leHBvc2VQcm94eSB8fCAoaW5zdGFuY2UuZXhwb3NlUHJveHkgPSBuZXcgUHJveHkocHJveHlSZWZzKG1hcmtSYXcoaW5zdGFuY2UuZXhwb3NlZCkpLCB7XG4gICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICByZXR1cm4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhcyh0YXJnZXQsIGtleSkge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRhcmdldCB8fCBrZXkgaW4gcHVibGljUHJvcGVydGllc01hcDtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xuICB9XG59XG5jb25zdCBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSlcXHcvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgKGMpID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCBcIlwiKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudCkgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgOiBDb21wb25lbnQubmFtZSB8fCBpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG5hbWUgPSBpbmZlckZyb21SZWdpc3RyeShcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgfHwgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIHRyeSB7XG4gICAgc2V0QmxvY2tUcmFja2luZygtMSk7XG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGwgPT09IDIpIHtcbiAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGwgPiAzKSB7XG4gICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgIH0gZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMzYmE3NzZcIiB9O1xuICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzE2NzdmZlwiIH07XG4gIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZjUyMjJkXCIgfTtcbiAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZWIyZjk2XCIgfTtcbiAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgIF9fdnVlX2N1c3RvbV9mb3JtYXR0ZXI6IHRydWUsXG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmoudmFsdWU7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUodmFsdWUpLFxuICAgICAgICAgIGA+YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhY3RpdmVcIiA6IFwiUmVhY3RpdmVcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWRvbmx5XCIgOiBcIlJlYWRvbmx5XCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgXCI+XCJcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgaGFzQm9keShvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgfSxcbiAgICBib2R5KG9iaikge1xuICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwicHJvcHNcIiwgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJzZXR1cFwiLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJkYXRhXCIsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiY29tcHV0ZWRcIik7XG4gICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiY29tcHV0ZWRcIiwgY29tcHV0ZWQpKTtcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJpbmplY3RcIik7XG4gICAgaWYgKGluamVjdGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiaW5qZWN0ZWRcIiwgaW5qZWN0ZWQpKTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHt9LFxuICAgICAgW1xuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyBcIjtvcGFjaXR5OjAuNjZcIlxuICAgICAgICB9LFxuICAgICAgICBcIiQgKGludGVybmFsKTogXCJcbiAgICAgIF0sXG4gICAgICBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgXSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCB7fV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdHlsZTogXCJsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbVwiIH0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJjb2xvcjojNDc2NTgyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcInBhZGRpbmctbGVmdDoxLjI1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCBrZXkgKyBcIjogXCJdLFxuICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgXTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIG51bWJlclN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgIHJldHVybiBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgaWYgKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpIHx8IGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZSgobSkgPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgIH1cbiAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgIH1cbiAgICByZXR1cm4gYFJlZmA7XG4gIH1cbiAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICByZXQuY2FjaGVJbmRleCA9IGluZGV4O1xuICByZXR1cm4gY2FjaGVbaW5kZXhdID0gcmV0O1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgdmVyc2lvbiA9IFwiMy41LjI0XCI7XG5jb25zdCB3YXJuID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHdhcm4kMSA6IE5PT1A7XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0gRXJyb3JUeXBlU3RyaW5ncyQxIDtcbmNvbnN0IGRldnRvb2xzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gZGV2dG9vbHMkMSA6IHZvaWQgMDtcbmNvbnN0IHNldERldnRvb2xzSG9vayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IHNldERldnRvb2xzSG9vayQxIDogTk9PUDtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gIHNldHVwQ29tcG9uZW50LFxuICByZW5kZXJDb21wb25lbnRSb290LFxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIG5vcm1hbGl6ZVZOb2RlLFxuICBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSxcbiAgZW5zdXJlVmFsaWRWTm9kZSxcbiAgcHVzaFdhcm5pbmdDb250ZXh0LFxuICBwb3BXYXJuaW5nQ29udGV4dFxufTtcbmNvbnN0IHNzclV0aWxzID0gX3NzclV0aWxzIDtcbmNvbnN0IHJlc29sdmVGaWx0ZXIgPSBudWxsO1xuY29uc3QgY29tcGF0VXRpbHMgPSBudWxsO1xuY29uc3QgRGVwcmVjYXRpb25UeXBlcyA9IG51bGw7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgQ29tbWVudCwgRGVwcmVjYXRpb25UeXBlcywgRXJyb3JDb2RlcywgRXJyb3JUeXBlU3RyaW5ncywgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGFzc2VydE51bWJlciwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lTW9kZWwsIGRlZmluZU9wdGlvbnMsIGRlZmluZVByb3BzLCBkZWZpbmVTbG90cywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoYXNJbmplY3Rpb25Db250ZXh0LCBoeWRyYXRlT25JZGxlLCBoeWRyYXRlT25JbnRlcmFjdGlvbiwgaHlkcmF0ZU9uTWVkaWFRdWVyeSwgaHlkcmF0ZU9uVmlzaWJsZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZUlkLCB1c2VNb2RlbCwgdXNlU1NSQ29udGV4dCwgdXNlU2xvdHMsIHVzZVRlbXBsYXRlUmVmLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhNZW1vLCB3aXRoU2NvcGVJZCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1kb20gdjMuNS4yNFxuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgd2FybiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIGgsIEJhc2VUcmFuc2l0aW9uLCBhc3NlcnROdW1iZXIsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25CZWZvcmVVcGRhdGUsIHF1ZXVlUG9zdEZsdXNoQ2IsIG9uTW91bnRlZCwgd2F0Y2gsIG9uVW5tb3VudGVkLCBGcmFnbWVudCwgU3RhdGljLCBjYW1lbGl6ZSwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGRlZmluZUNvbXBvbmVudCwgbmV4dFRpY2ssIHVucmVmLCBjcmVhdGVWTm9kZSwgdXNlVHJhbnNpdGlvblN0YXRlLCBvblVwZGF0ZWQsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgVGV4dCwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBpc1J1bnRpbWVPbmx5IH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGlzQXJyYXksIE5PT1AsIG5vcm1hbGl6ZUNzc1ZhclZhbHVlLCBpc1N0cmluZywgaHlwaGVuYXRlLCBjYXBpdGFsaXplLCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc1N5bWJvbCwgaXNGdW5jdGlvbiwgaXNPbiwgaXNNb2RlbExpc3RlbmVyLCBjYW1lbGl6ZSBhcyBjYW1lbGl6ZSQxLCBpc1BsYWluT2JqZWN0LCBoYXNPd24sIEVNUFRZX09CSiwgbG9vc2VUb051bWJlciwgbG9vc2VJbmRleE9mLCBpc1NldCwgbG9vc2VFcXVhbCwgaW52b2tlQXJyYXlGbnMsIGlzSFRNTFRhZywgaXNTVkdUYWcsIGlzTWF0aE1MVGFnIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5sZXQgcG9saWN5ID0gdm9pZCAwO1xuY29uc3QgdHQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy50cnVzdGVkVHlwZXM7XG5pZiAodHQpIHtcbiAgdHJ5IHtcbiAgICBwb2xpY3kgPSAvKiBAX19QVVJFX18gKi8gdHQuY3JlYXRlUG9saWN5KFwidnVlXCIsIHtcbiAgICAgIGNyZWF0ZUhUTUw6ICh2YWwpID0+IHZhbFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBFcnJvciBjcmVhdGluZyB0cnVzdGVkIHR5cGVzIHBvbGljeTogJHtlfWApO1xuICB9XG59XG5jb25zdCB1bnNhZmVUb1RydXN0ZWRIVE1MID0gcG9saWN5ID8gKHZhbCkgPT4gcG9saWN5LmNyZWF0ZUhUTUwodmFsKSA6ICh2YWwpID0+IHZhbDtcbmNvbnN0IHN2Z05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgbWF0aG1sTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIjtcbmNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogbnVsbDtcbmNvbnN0IHRlbXBsYXRlQ29udGFpbmVyID0gZG9jICYmIC8qIEBfX1BVUkVfXyAqLyBkb2MuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuY29uc3Qgbm9kZU9wcyA9IHtcbiAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xuICB9LFxuICByZW1vdmU6IChjaGlsZCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIG5hbWVzcGFjZSwgaXMsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWcpIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhtYXRobWxOUywgdGFnKSA6IGlzID8gZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCB7IGlzIH0pIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBpZiAodGFnID09PSBcInNlbGVjdFwiICYmIHByb3BzICYmIHByb3BzLm11bHRpcGxlICE9IG51bGwpIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIHByb3BzLm11bHRpcGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBjcmVhdGVUZXh0OiAodGV4dCkgPT4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLFxuICBjcmVhdGVDb21tZW50OiAodGV4dCkgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXG4gIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XG4gICAgbm9kZS5ub2RlVmFsdWUgPSB0ZXh0O1xuICB9LFxuICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XG4gICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9LFxuICBwYXJlbnROb2RlOiAobm9kZSkgPT4gbm9kZS5wYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogKG5vZGUpID0+IG5vZGUubmV4dFNpYmxpbmcsXG4gIHF1ZXJ5U2VsZWN0b3I6IChzZWxlY3RvcikgPT4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxuICBzZXRTY29wZUlkKGVsLCBpZCkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gIH0sXG4gIC8vIF9fVU5TQUZFX19cbiAgLy8gUmVhc29uOiBpbm5lckhUTUwuXG4gIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgLy8gQXMgbG9uZyBhcyB0aGUgdXNlciBvbmx5IHVzZXMgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHRoaXMgaXMgc2FmZS5cbiAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgbmFtZXNwYWNlLCBzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XG4gICAgaWYgKHN0YXJ0ICYmIChzdGFydCA9PT0gZW5kIHx8IHN0YXJ0Lm5leHRTaWJsaW5nKSkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzdGFydC5jbG9uZU5vZGUodHJ1ZSksIGFuY2hvcik7XG4gICAgICAgIGlmIChzdGFydCA9PT0gZW5kIHx8ICEoc3RhcnQgPSBzdGFydC5uZXh0U2libGluZykpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wbGF0ZUNvbnRhaW5lci5pbm5lckhUTUwgPSB1bnNhZmVUb1RydXN0ZWRIVE1MKFxuICAgICAgICBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBgPHN2Zz4ke2NvbnRlbnR9PC9zdmc+YCA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGA8bWF0aD4ke2NvbnRlbnR9PC9tYXRoPmAgOiBjb250ZW50XG4gICAgICApO1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNvbnRhaW5lci5jb250ZW50O1xuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJzdmdcIiB8fCBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRlbXBsYXRlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlLnJlbW92ZUNoaWxkKHdyYXBwZXIpO1xuICAgICAgfVxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0ZW1wbGF0ZSwgYW5jaG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIGZpcnN0XG4gICAgICBiZWZvcmUgPyBiZWZvcmUubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCxcbiAgICAgIC8vIGxhc3RcbiAgICAgIGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkXG4gICAgXTtcbiAgfVxufTtcblxuY29uc3QgVFJBTlNJVElPTiA9IFwidHJhbnNpdGlvblwiO1xuY29uc3QgQU5JTUFUSU9OID0gXCJhbmltYXRpb25cIjtcbmNvbnN0IHZ0Y0tleSA9IFN5bWJvbChcIl92dGNcIik7XG5jb25zdCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBuYW1lOiBTdHJpbmcsXG4gIHR5cGU6IFN0cmluZyxcbiAgY3NzOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXG4gIGVudGVyRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gIGFwcGVhckZyb21DbGFzczogU3RyaW5nLFxuICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXG4gIGxlYXZlRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcbn07XG5jb25zdCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZChcbiAge30sXG4gIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLFxuICBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzXG4pO1xuY29uc3QgZGVjb3JhdGUkMSA9ICh0KSA9PiB7XG4gIHQuZGlzcGxheU5hbWUgPSBcIlRyYW5zaXRpb25cIjtcbiAgdC5wcm9wcyA9IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnM7XG4gIHJldHVybiB0O1xufTtcbmNvbnN0IFRyYW5zaXRpb24gPSAvKiBAX19QVVJFX18gKi8gZGVjb3JhdGUkMShcbiAgKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cylcbik7XG5jb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzID0gW10pID0+IHtcbiAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICBob29rLmZvckVhY2goKGgyKSA9PiBoMiguLi5hcmdzKSk7XG4gIH0gZWxzZSBpZiAoaG9vaykge1xuICAgIGhvb2soLi4uYXJncyk7XG4gIH1cbn07XG5jb25zdCBoYXNFeHBsaWNpdENhbGxiYWNrID0gKGhvb2spID0+IHtcbiAgcmV0dXJuIGhvb2sgPyBpc0FycmF5KGhvb2spID8gaG9vay5zb21lKChoMikgPT4gaDIubGVuZ3RoID4gMSkgOiBob29rLmxlbmd0aCA+IDEgOiBmYWxzZTtcbn07XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKSB7XG4gIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xuICAgIGlmICghKGtleSBpbiBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSkge1xuICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xuICAgIH1cbiAgfVxuICBpZiAocmF3UHJvcHMuY3NzID09PSBmYWxzZSkge1xuICAgIHJldHVybiBiYXNlUHJvcHM7XG4gIH1cbiAgY29uc3Qge1xuICAgIG5hbWUgPSBcInZcIixcbiAgICB0eXBlLFxuICAgIGR1cmF0aW9uLFxuICAgIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsXG4gICAgZW50ZXJBY3RpdmVDbGFzcyA9IGAke25hbWV9LWVudGVyLWFjdGl2ZWAsXG4gICAgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLFxuICAgIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLFxuICAgIGFwcGVhckFjdGl2ZUNsYXNzID0gZW50ZXJBY3RpdmVDbGFzcyxcbiAgICBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLFxuICAgIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsXG4gICAgbGVhdmVBY3RpdmVDbGFzcyA9IGAke25hbWV9LWxlYXZlLWFjdGl2ZWAsXG4gICAgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gXG4gIH0gPSByYXdQcm9wcztcbiAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xuICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcbiAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XG4gIGNvbnN0IHtcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLFxuICAgIG9uQXBwZWFyID0gb25FbnRlcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWRcbiAgfSA9IGJhc2VQcm9wcztcbiAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lLCBpc0NhbmNlbGxlZCkgPT4ge1xuICAgIGVsLl9lbnRlckNhbmNlbGxlZCA9IGlzQ2FuY2VsbGVkO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICBkb25lICYmIGRvbmUoKTtcbiAgfTtcbiAgY29uc3QgZmluaXNoTGVhdmUgPSAoZWwsIGRvbmUpID0+IHtcbiAgICBlbC5faXNMZWF2aW5nID0gZmFsc2U7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcbiAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XG4gICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XG4gICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcbiAgICAgIGNhbGxIb29rKGhvb2ssIFtlbCwgcmVzb2x2ZV0pO1xuICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckZyb21DbGFzcyA6IGVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2soaG9vaykpIHtcbiAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGVudGVyRHVyYXRpb24sIHJlc29sdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xuICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlRW50ZXIsIFtlbF0pO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgIH0sXG4gICAgb25CZWZvcmVBcHBlYXIoZWwpIHtcbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlQXBwZWFyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xuICAgIH0sXG4gICAgb25FbnRlcjogbWFrZUVudGVySG9vayhmYWxzZSksXG4gICAgb25BcHBlYXI6IG1ha2VFbnRlckhvb2sodHJ1ZSksXG4gICAgb25MZWF2ZShlbCwgZG9uZSkge1xuICAgICAgZWwuX2lzTGVhdmluZyA9IHRydWU7XG4gICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICBpZiAoIWVsLl9lbnRlckNhbmNlbGxlZCkge1xuICAgICAgICBmb3JjZVJlZmxvdyhlbCk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgICBmb3JjZVJlZmxvdyhlbCk7XG4gICAgICB9XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICB9LFxuICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlLCB2b2lkIDAsIHRydWUpO1xuICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gW24sIG5dO1xuICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIocmVzLCBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgKGVsW3Z0Y0tleV0gfHwgKGVsW3Z0Y0tleV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICBlbFt2dGNLZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICBjb25zdCBpZCA9IGVsLl9lbmRJZCA9ICsrZW5kSWQ7XG4gIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXhwbGljaXRUaW1lb3V0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgfVxuICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiByZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgXCJlbmRcIjtcbiAgbGV0IGVuZGVkID0gMDtcbiAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfSwgdGltZW91dCArIDEpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8IFwiXCIpLnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0aW1lb3V0ID0gMDtcbiAgbGV0IHByb3BDb3VudCA9IDA7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQgPyBUUkFOU0lUSU9OIDogQU5JTUFUSU9OIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlID8gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aCA6IDA7XG4gIH1cbiAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiAvXFxiKD86dHJhbnNmb3JtfGFsbCkoPzosfCQpLy50ZXN0KFxuICAgIGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKVxuICApO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdGltZW91dCxcbiAgICBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtXG4gIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuZnVuY3Rpb24gdG9NcyhzKSB7XG4gIGlmIChzID09PSBcImF1dG9cIikgcmV0dXJuIDA7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZShcIixcIiwgXCIuXCIpKSAqIDFlMztcbn1cbmZ1bmN0aW9uIGZvcmNlUmVmbG93KGVsKSB7XG4gIGNvbnN0IHRhcmdldERvY3VtZW50ID0gZWwgPyBlbC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gIHJldHVybiB0YXJnZXREb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWxbdnRjS2V5XTtcbiAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gIH0gZWxzZSBpZiAoaXNTVkcpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdlNob3dPcmlnaW5hbERpc3BsYXkgPSBTeW1ib2woXCJfdm9kXCIpO1xuY29uc3QgdlNob3dIaWRkZW4gPSBTeW1ib2woXCJfdnNoXCIpO1xuY29uc3QgdlNob3cgPSB7XG4gIC8vIHVzZWQgZm9yIHByb3AgbWlzbWF0Y2ggY2hlY2sgZHVyaW5nIGh5ZHJhdGlvblxuICBuYW1lOiBcInNob3dcIixcbiAgYmVmb3JlTW91bnQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gPSBlbC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XG4gICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XG4gICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKSByZXR1cm47XG4gICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XG4gICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgIHNldERpc3BsYXkoZWwsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZVVubW91bnQoZWwsIHsgdmFsdWUgfSkge1xuICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA6IFwibm9uZVwiO1xuICBlbFt2U2hvd0hpZGRlbl0gPSAhdmFsdWU7XG59XG5mdW5jdGlvbiBpbml0VlNob3dGb3JTU1IoKSB7XG4gIHZTaG93LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB7IHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IENTU19WQVJfVEVYVCA9IFN5bWJvbCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJDU1NfVkFSX1RFWFRcIiA6IFwiXCIpO1xuZnVuY3Rpb24gdXNlQ3NzVmFycyhnZXR0ZXIpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHVwZGF0ZVRlbGVwb3J0cyA9IGluc3RhbmNlLnV0ID0gKHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKSA9PiB7XG4gICAgQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXYtb3duZXI9XCIke2luc3RhbmNlLnVpZH1cIl1gKVxuICAgICkuZm9yRWFjaCgobm9kZSkgPT4gc2V0VmFyc09uTm9kZShub2RlLCB2YXJzKSk7XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuZ2V0Q3NzVmFycyA9ICgpID0+IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gIH1cbiAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHtcbiAgICBjb25zdCB2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgICBpZiAoaW5zdGFuY2UuY2UpIHtcbiAgICAgIHNldFZhcnNPbk5vZGUoaW5zdGFuY2UuY2UsIHZhcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCB2YXJzKTtcbiAgICB9XG4gICAgdXBkYXRlVGVsZXBvcnRzKHZhcnMpO1xuICB9O1xuICBvbkJlZm9yZVVwZGF0ZSgoKSA9PiB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihzZXRWYXJzKTtcbiAgfSk7XG4gIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgd2F0Y2goc2V0VmFycywgTk9PUCwgeyBmbHVzaDogXCJwb3N0XCIgfSk7XG4gICAgY29uc3Qgb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihzZXRWYXJzKTtcbiAgICBvYi5vYnNlcnZlKGluc3RhbmNlLnN1YlRyZWUuZWwucGFyZW50Tm9kZSwgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG4gICAgb25Vbm1vdW50ZWQoKCkgPT4gb2IuZGlzY29ubmVjdCgpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBzZXRWYXJzT25WTm9kZSh2bm9kZSwgdmFycykge1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcbiAgICB2bm9kZSA9IHN1c3BlbnNlLmFjdGl2ZUJyYW5jaDtcbiAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCgoKSA9PiB7XG4gICAgICAgIHNldFZhcnNPblZOb2RlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgdmFycyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XG4gIH1cbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgJiYgdm5vZGUuZWwpIHtcbiAgICBzZXRWYXJzT25Ob2RlKHZub2RlLmVsLCB2YXJzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS50eXBlID09PSBGcmFnbWVudCkge1xuICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGMpID0+IHNldFZhcnNPblZOb2RlKGMsIHZhcnMpKTtcbiAgfSBlbHNlIGlmICh2bm9kZS50eXBlID09PSBTdGF0aWMpIHtcbiAgICBsZXQgeyBlbCwgYW5jaG9yIH0gPSB2bm9kZTtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpO1xuICAgICAgaWYgKGVsID09PSBhbmNob3IpIGJyZWFrO1xuICAgICAgZWwgPSBlbC5uZXh0U2libGluZztcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpIHtcbiAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICBsZXQgY3NzVGV4dCA9IFwiXCI7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemVDc3NWYXJWYWx1ZSh2YXJzW2tleV0pO1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFsdWUpO1xuICAgICAgY3NzVGV4dCArPSBgLS0ke2tleX06ICR7dmFsdWV9O2A7XG4gICAgfVxuICAgIHN0eWxlW0NTU19WQVJfVEVYVF0gPSBjc3NUZXh0O1xuICB9XG59XG5cbmNvbnN0IGRpc3BsYXlSRSA9IC8oPzpefDspXFxzKmRpc3BsYXlcXHMqOi87XG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XG4gIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gIGNvbnN0IGlzQ3NzU3RyaW5nID0gaXNTdHJpbmcobmV4dCk7XG4gIGxldCBoYXNDb250cm9sbGVkRGlzcGxheSA9IGZhbHNlO1xuICBpZiAobmV4dCAmJiAhaXNDc3NTdHJpbmcpIHtcbiAgICBpZiAocHJldikge1xuICAgICAgaWYgKCFpc1N0cmluZyhwcmV2KSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcmV2KSB7XG4gICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJldlN0eWxlIG9mIHByZXYuc3BsaXQoXCI7XCIpKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gcHJldlN0eWxlLnNsaWNlKDAsIHByZXZTdHlsZS5pbmRleE9mKFwiOlwiKSkudHJpbSgpO1xuICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiZGlzcGxheVwiKSB7XG4gICAgICAgIGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIG5leHRba2V5XSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0Nzc1N0cmluZykge1xuICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcbiAgICAgICAgY29uc3QgY3NzVmFyVGV4dCA9IHN0eWxlW0NTU19WQVJfVEVYVF07XG4gICAgICAgIGlmIChjc3NWYXJUZXh0KSB7XG4gICAgICAgICAgbmV4dCArPSBcIjtcIiArIGNzc1ZhclRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XG4gICAgICAgIGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gZGlzcGxheVJFLnRlc3QobmV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcmV2KSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZTaG93T3JpZ2luYWxEaXNwbGF5IGluIGVsKSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gaGFzQ29udHJvbGxlZERpc3BsYXkgPyBzdHlsZS5kaXNwbGF5IDogXCJcIjtcbiAgICBpZiAoZWxbdlNob3dIaWRkZW5dKSB7XG4gICAgICBzdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9XG59XG5jb25zdCBzZW1pY29sb25SRSA9IC9bXlxcXFxdO1xccyokLztcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdmFsKSB7XG4gIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICB2YWwuZm9yRWFjaCgodikgPT4gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHYpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsID09IG51bGwpIHZhbCA9IFwiXCI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChzZW1pY29sb25SRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVW5leHBlY3RlZCBzZW1pY29sb24gYXQgdGhlIGVuZCBvZiAnJHtuYW1lfScgc3R5bGUgdmFsdWU6ICcke3ZhbH0nYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKFwiLS1cIikpIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZWZpeGVkID0gYXV0b1ByZWZpeChzdHlsZSwgbmFtZSk7XG4gICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgIGh5cGhlbmF0ZShwcmVmaXhlZCksXG4gICAgICAgICAgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsIFwiXCIpLFxuICAgICAgICAgIFwiaW1wb3J0YW50XCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlW3ByZWZpeGVkXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNvbnN0IHByZWZpeGVzID0gW1wiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIl07XG5jb25zdCBwcmVmaXhDYWNoZSA9IHt9O1xuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xuICBjb25zdCBjYWNoZWQgPSBwcmVmaXhDYWNoZVtyYXdOYW1lXTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgbGV0IG5hbWUgPSBjYW1lbGl6ZShyYXdOYW1lKTtcbiAgaWYgKG5hbWUgIT09IFwiZmlsdGVyXCIgJiYgbmFtZSBpbiBzdHlsZSkge1xuICAgIHJldHVybiBwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IG5hbWU7XG4gIH1cbiAgbmFtZSA9IGNhcGl0YWxpemUobmFtZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcbiAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmF3TmFtZTtcbn1cblxuY29uc3QgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuZnVuY3Rpb24gcGF0Y2hBdHRyKGVsLCBrZXksIHZhbHVlLCBpc1NWRywgaW5zdGFuY2UsIGlzQm9vbGVhbiA9IGlzU3BlY2lhbEJvb2xlYW5BdHRyKGtleSkpIHtcbiAgaWYgKGlzU1ZHICYmIGtleS5zdGFydHNXaXRoKFwieGxpbms6XCIpKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleS5zbGljZSg2LCBrZXkubGVuZ3RoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBpc0Jvb2xlYW4gJiYgIWluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIGtleSxcbiAgICAgICAgaXNCb29sZWFuID8gXCJcIiA6IGlzU3ltYm9sKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBwYXJlbnRDb21wb25lbnQsIGF0dHJOYW1lKSB7XG4gIGlmIChrZXkgPT09IFwiaW5uZXJIVE1MXCIgfHwga2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgZWxba2V5XSA9IGtleSA9PT0gXCJpbm5lckhUTUxcIiA/IHVuc2FmZVRvVHJ1c3RlZEhUTUwodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0YWcgPSBlbC50YWdOYW1lO1xuICBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgdGFnICE9PSBcIlBST0dSRVNTXCIgJiYgLy8gY3VzdG9tIGVsZW1lbnRzIG1heSB1c2UgX3ZhbHVlIGludGVybmFsbHlcbiAgIXRhZy5pbmNsdWRlcyhcIi1cIikpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhZyA9PT0gXCJPUFRJT05cIiA/IGVsLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIHx8IFwiXCIgOiBlbC52YWx1ZTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAoXG4gICAgICAvLyAjMTE2NDc6IHZhbHVlIHNob3VsZCBiZSBzZXQgYXMgZW1wdHkgc3RyaW5nIGZvciBudWxsIGFuZCB1bmRlZmluZWQsXG4gICAgICAvLyBidXQgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPiBzaG91bGQgYmUgc2V0IGFzICdvbicuXG4gICAgICBlbC50eXBlID09PSBcImNoZWNrYm94XCIgPyBcIm9uXCIgOiBcIlwiXG4gICAgKSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSB8fCAhKFwiX3ZhbHVlXCIgaW4gZWwpKSB7XG4gICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfVxuICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbmVlZFJlbW92ZSA9IGZhbHNlO1xuICBpZiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcbiAgICBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHZhbHVlID0gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICB2YWx1ZSA9IDA7XG4gICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBlbFtrZXldID0gdmFsdWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhbmVlZFJlbW92ZSkge1xuICAgICAgd2FybihcbiAgICAgICAgYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHt0YWcudG9Mb3dlckNhc2UoKX0+OiB2YWx1ZSAke3ZhbHVlfSBpcyBpbnZhbGlkLmAsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIG5lZWRSZW1vdmUgJiYgZWwucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lIHx8IGtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5jb25zdCB2ZWlLZXkgPSBTeW1ib2woXCJfdmVpXCIpO1xuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICBjb25zdCBpbnZva2VycyA9IGVsW3ZlaUtleV0gfHwgKGVsW3ZlaUtleV0gPSB7fSk7XG4gIGNvbnN0IGV4aXN0aW5nSW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdO1xuICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xuICAgIGV4aXN0aW5nSW52b2tlci52YWx1ZSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzYW5pdGl6ZUV2ZW50VmFsdWUobmV4dFZhbHVlLCByYXdOYW1lKSA6IG5leHRWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XG4gICAgaWYgKG5leHRWYWx1ZSkge1xuICAgICAgY29uc3QgaW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdID0gY3JlYXRlSW52b2tlcihcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNhbml0aXplRXZlbnRWYWx1ZShuZXh0VmFsdWUsIHJhd05hbWUpIDogbmV4dFZhbHVlLFxuICAgICAgICBpbnN0YW5jZVxuICAgICAgKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGludm9rZXIsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xuICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5jb25zdCBvcHRpb25zTW9kaWZpZXJSRSA9IC8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XG4gIGxldCBvcHRpb25zO1xuICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgICBsZXQgbTtcbiAgICB3aGlsZSAobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSB7XG4gICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcbiAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGNvbnN0IGV2ZW50ID0gbmFtZVsyXSA9PT0gXCI6XCIgPyBuYW1lLnNsaWNlKDMpIDogaHlwaGVuYXRlKG5hbWUuc2xpY2UoMikpO1xuICByZXR1cm4gW2V2ZW50LCBvcHRpb25zXTtcbn1cbmxldCBjYWNoZWROb3cgPSAwO1xuY29uc3QgcCA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKCgpID0+IGNhY2hlZE5vdyA9IDApLCBjYWNoZWROb3cgPSBEYXRlLm5vdygpKTtcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xuICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcbiAgICBpZiAoIWUuX3Z0cykge1xuICAgICAgZS5fdnRzID0gRGF0ZS5ub3coKTtcbiAgICB9IGVsc2UgaWYgKGUuX3Z0cyA8PSBpbnZva2VyLmF0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDUsXG4gICAgICBbZV1cbiAgICApO1xuICB9O1xuICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBpbnZva2VyLmF0dGFjaGVkID0gZ2V0Tm93KCk7XG4gIHJldHVybiBpbnZva2VyO1xufVxuZnVuY3Rpb24gc2FuaXRpemVFdmVudFZhbHVlKHZhbHVlLCBwcm9wTmFtZSkge1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgd2FybihcbiAgICBgV3JvbmcgdHlwZSBwYXNzZWQgYXMgZXZlbnQgaGFuZGxlciB0byAke3Byb3BOYW1lfSAtIGRpZCB5b3UgZm9yZ2V0IEAgb3IgOiBpbiBmcm9udCBvZiB5b3VyIHByb3A/XG5FeHBlY3RlZCBmdW5jdGlvbiBvciBhcnJheSBvZiBmdW5jdGlvbnMsIHJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgdmFsdWV9LmBcbiAgKTtcbiAgcmV0dXJuIE5PT1A7XG59XG5mdW5jdGlvbiBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCB2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcbiAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKGUpO1xuICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gdmFsdWUubWFwKFxuICAgICAgKGZuKSA9PiAoZTIpID0+ICFlMi5fc3RvcHBlZCAmJiBmbiAmJiBmbihlMilcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5jb25zdCBpc05hdGl2ZU9uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIGxvd2VyY2FzZSBsZXR0ZXJcbmtleS5jaGFyQ29kZUF0KDIpID4gOTYgJiYga2V5LmNoYXJDb2RlQXQoMikgPCAxMjM7XG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gIGNvbnN0IGlzU1ZHID0gbmFtZXNwYWNlID09PSBcInN2Z1wiO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBwYXRjaENsYXNzKGVsLCBuZXh0VmFsdWUsIGlzU1ZHKTtcbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICBwYXRjaEV2ZW50KGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXlbMF0gPT09IFwiLlwiID8gKGtleSA9IGtleS5zbGljZSgxKSwgdHJ1ZSkgOiBrZXlbMF0gPT09IFwiXlwiID8gKGtleSA9IGtleS5zbGljZSgxKSwgZmFsc2UpIDogc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpKSB7XG4gICAgcGF0Y2hET01Qcm9wKGVsLCBrZXksIG5leHRWYWx1ZSk7XG4gICAgaWYgKCFlbC50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKSAmJiAoa2V5ID09PSBcInZhbHVlXCIgfHwga2V5ID09PSBcImNoZWNrZWRcIiB8fCBrZXkgPT09IFwic2VsZWN0ZWRcIikpIHtcbiAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHLCBwYXJlbnRDb21wb25lbnQsIGtleSAhPT0gXCJ2YWx1ZVwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgLy8gIzExMDgxIGZvcmNlIHNldCBwcm9wcyBmb3IgcG9zc2libGUgYXN5bmMgY3VzdG9tIGVsZW1lbnRcbiAgICBlbC5faXNWdWVDRSAmJiAoL1tBLVpdLy50ZXN0KGtleSkgfHwgIWlzU3RyaW5nKG5leHRWYWx1ZSkpXG4gICkge1xuICAgIHBhdGNoRE9NUHJvcChlbCwgY2FtZWxpemUkMShrZXkpLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCwga2V5KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoa2V5ID09PSBcInRydWUtdmFsdWVcIikge1xuICAgICAgZWwuX3RydWVWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJmYWxzZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9XG4gICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpO1xuICB9XG59O1xuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xuICBpZiAoaXNTVkcpIHtcbiAgICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGtleSBpbiBlbCAmJiBpc05hdGl2ZU9uKGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJzcGVsbGNoZWNrXCIgfHwga2V5ID09PSBcImRyYWdnYWJsZVwiIHx8IGtleSA9PT0gXCJ0cmFuc2xhdGVcIiB8fCBrZXkgPT09IFwiYXV0b2NvcnJlY3RcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInNhbmRib3hcIiAmJiBlbC50YWdOYW1lID09PSBcIklGUkFNRVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwiZm9ybVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwibGlzdFwiICYmIGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInR5cGVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ3aWR0aFwiIHx8IGtleSA9PT0gXCJoZWlnaHRcIikge1xuICAgIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gXCJJTUdcIiB8fCB0YWcgPT09IFwiVklERU9cIiB8fCB0YWcgPT09IFwiQ0FOVkFTXCIgfHwgdGFnID09PSBcIlNPVVJDRVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc05hdGl2ZU9uKGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbmNvbnN0IFJFTU9WQUwgPSB7fTtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucywgX2NyZWF0ZUFwcCkge1xuICBsZXQgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zLCBleHRyYU9wdGlvbnMpO1xuICBpZiAoaXNQbGFpbk9iamVjdChDb21wKSkgQ29tcCA9IGV4dGVuZCh7fSwgQ29tcCwgZXh0cmFPcHRpb25zKTtcbiAgY2xhc3MgVnVlQ3VzdG9tRWxlbWVudCBleHRlbmRzIFZ1ZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxQcm9wcykge1xuICAgICAgc3VwZXIoQ29tcCwgaW5pdGlhbFByb3BzLCBfY3JlYXRlQXBwKTtcbiAgICB9XG4gIH1cbiAgVnVlQ3VzdG9tRWxlbWVudC5kZWYgPSBDb21wO1xuICByZXR1cm4gVnVlQ3VzdG9tRWxlbWVudDtcbn1cbmNvbnN0IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQgPSAoLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi8gKG9wdGlvbnMsIGV4dHJhT3B0aW9ucykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBjcmVhdGVTU1JBcHApO1xufSk7XG5jb25zdCBCYXNlQ2xhc3MgPSB0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBIVE1MRWxlbWVudCA6IGNsYXNzIHtcbn07XG5jbGFzcyBWdWVFbGVtZW50IGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgY29uc3RydWN0b3IoX2RlZiwgX3Byb3BzID0ge30sIF9jcmVhdGVBcHAgPSBjcmVhdGVBcHApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2RlZiA9IF9kZWY7XG4gICAgdGhpcy5fcHJvcHMgPSBfcHJvcHM7XG4gICAgdGhpcy5fY3JlYXRlQXBwID0gX2NyZWF0ZUFwcDtcbiAgICB0aGlzLl9pc1Z1ZUNFID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fYXBwID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9ub25jZSA9IHRoaXMuX2RlZi5ub25jZTtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZXNvbHZlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fc3R5bGVDaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIF9jcmVhdGVBcHAgIT09IGNyZWF0ZUFwcCkge1xuICAgICAgdGhpcy5fcm9vdCA9IHRoaXMuc2hhZG93Um9vdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYEN1c3RvbSBlbGVtZW50IGhhcyBwcmUtcmVuZGVyZWQgZGVjbGFyYXRpdmUgc2hhZG93IHJvb3QgYnV0IGlzIG5vdCBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChfZGVmLnNoYWRvd1Jvb3QgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KFxuICAgICAgICAgIGV4dGVuZCh7fSwgX2RlZi5zaGFkb3dSb290T3B0aW9ucywge1xuICAgICAgICAgICAgbW9kZTogXCJvcGVuXCJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5zaGFkb3dSb290O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290ICYmICF0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgdGhpcy5fcGFyc2VTbG90cygpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgIHRoaXMuX21vdW50KHRoaXMuX2RlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5fcGVuZGluZ1Jlc29sdmUpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHBhcmVudC5fcGVuZGluZ1Jlc29sdmUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3NldFBhcmVudChwYXJlbnQgPSB0aGlzLl9wYXJlbnQpIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgdGhpcy5faW5oZXJpdFBhcmVudENvbnRleHQocGFyZW50KTtcbiAgICB9XG4gIH1cbiAgX2luaGVyaXRQYXJlbnRDb250ZXh0KHBhcmVudCA9IHRoaXMuX3BhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiYgdGhpcy5fYXBwKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoXG4gICAgICAgIHRoaXMuX2FwcC5fY29udGV4dC5wcm92aWRlcyxcbiAgICAgICAgcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHAgJiYgdGhpcy5fYXBwLnVubW91bnQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB0aGlzLl9pbnN0YW5jZS5jZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fYXBwID0gdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdGVsZXBvcnRUYXJnZXRzKSB7XG4gICAgICAgICAgdGhpcy5fdGVsZXBvcnRUYXJnZXRzLmNsZWFyKCk7XG4gICAgICAgICAgdGhpcy5fdGVsZXBvcnRUYXJnZXRzID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX3Byb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSB7XG4gICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgdGhpcy5fc2V0QXR0cihtLmF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogcmVzb2x2ZSBpbm5lciBjb21wb25lbnQgZGVmaW5pdGlvbiAoaGFuZGxlIHBvc3NpYmxlIGFzeW5jIGNvbXBvbmVudClcbiAgICovXG4gIF9yZXNvbHZlRGVmKCkge1xuICAgIGlmICh0aGlzLl9wZW5kaW5nUmVzb2x2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fc2V0QXR0cih0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgfVxuICAgIHRoaXMuX29iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fcHJvY2Vzc011dGF0aW9ucy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplJDEoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN0eWxlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQ3VzdG9tIGVsZW1lbnQgc3R5bGUgaW5qZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBzaGFkb3dSb290OiBmYWxzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3VudChkZWYpO1xuICAgIH07XG4gICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gYXN5bmNEZWYoKS50aGVuKChkZWYpID0+IHtcbiAgICAgICAgZGVmLmNvbmZpZ3VyZUFwcCA9IHRoaXMuX2RlZi5jb25maWd1cmVBcHA7XG4gICAgICAgIHJlc29sdmUodGhpcy5fZGVmID0gZGVmLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIF9tb3VudChkZWYpIHtcbiAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiAhZGVmLm5hbWUpIHtcbiAgICAgIGRlZi5uYW1lID0gXCJWdWVFbGVtZW50XCI7XG4gICAgfVxuICAgIHRoaXMuX2FwcCA9IHRoaXMuX2NyZWF0ZUFwcChkZWYpO1xuICAgIHRoaXMuX2luaGVyaXRQYXJlbnRDb250ZXh0KCk7XG4gICAgaWYgKGRlZi5jb25maWd1cmVBcHApIHtcbiAgICAgIGRlZi5jb25maWd1cmVBcHAodGhpcy5fYXBwKTtcbiAgICB9XG4gICAgdGhpcy5fYXBwLl9jZVZOb2RlID0gdGhpcy5fY3JlYXRlVk5vZGUoKTtcbiAgICB0aGlzLl9hcHAubW91bnQodGhpcy5fcm9vdCk7XG4gICAgY29uc3QgZXhwb3NlZCA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmV4cG9zZWQ7XG4gICAgaWYgKCFleHBvc2VkKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZXhwb3NlZCkge1xuICAgICAgaWYgKCFoYXNPd24odGhpcywga2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgLy8gdW53cmFwIHJlZiB0byBiZSBjb25zaXN0ZW50IHdpdGggcHVibGljIGluc3RhbmNlIGJlaGF2aW9yXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihleHBvc2VkW2tleV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4oYEV4cG9zZWQgcHJvcGVydHkgXCIke2tleX1cIiBhbHJlYWR5IGV4aXN0cyBvbiBjdXN0b20gZWxlbWVudC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsLCB0cnVlLCAhdGhpcy5fcGF0Y2hpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgX3NldEF0dHIoa2V5KSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKFwiZGF0YS12LVwiKSkgcmV0dXJuO1xuICAgIGNvbnN0IGhhcyA9IHRoaXMuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgbGV0IHZhbHVlID0gaGFzID8gdGhpcy5nZXRBdHRyaWJ1dGUoa2V5KSA6IFJFTU9WQUw7XG4gICAgY29uc3QgY2FtZWxLZXkgPSBjYW1lbGl6ZSQxKGtleSk7XG4gICAgaWYgKGhhcyAmJiB0aGlzLl9udW1iZXJQcm9wcyAmJiB0aGlzLl9udW1iZXJQcm9wc1tjYW1lbEtleV0pIHtcbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICB0aGlzLl9zZXRQcm9wKGNhbWVsS2V5LCB2YWx1ZSwgZmFsc2UsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRQcm9wKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9wcm9wc1trZXldO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9zZXRQcm9wKGtleSwgdmFsLCBzaG91bGRSZWZsZWN0ID0gdHJ1ZSwgc2hvdWxkVXBkYXRlID0gZmFsc2UpIHtcbiAgICBpZiAodmFsICE9PSB0aGlzLl9wcm9wc1trZXldKSB7XG4gICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICBpZiAodmFsID09PSBSRU1PVkFMKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wcm9wc1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcHJvcHNba2V5XSA9IHZhbDtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJrZXlcIiAmJiB0aGlzLl9hcHApIHtcbiAgICAgICAgICB0aGlzLl9hcHAuX2NlVk5vZGUua2V5ID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlICYmIHRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFJlZmxlY3QpIHtcbiAgICAgICAgY29uc3Qgb2IgPSB0aGlzLl9vYjtcbiAgICAgICAgaWYgKG9iKSB7XG4gICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhvYi50YWtlUmVjb3JkcygpKTtcbiAgICAgICAgICBvYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBvYiAmJiBvYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCB2bm9kZSA9IHRoaXMuX2NyZWF0ZVZOb2RlKCk7XG4gICAgaWYgKHRoaXMuX2FwcCkgdm5vZGUuYXBwQ29udGV4dCA9IHRoaXMuX2FwcC5fY29udGV4dDtcbiAgICByZW5kZXIodm5vZGUsIHRoaXMuX3Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgYmFzZVByb3BzLm9uVm5vZGVNb3VudGVkID0gYmFzZVByb3BzLm9uVm5vZGVVcGRhdGVkID0gdGhpcy5fcmVuZGVyU2xvdHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0aGlzLl9kZWYsIGV4dGVuZChiYXNlUHJvcHMsIHRoaXMuX3Byb3BzKSk7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdm5vZGUuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UuY2UgPSB0aGlzO1xuICAgICAgICBpbnN0YW5jZS5pc0NFID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IChuZXdTdHlsZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChhcmdzWzBdKSA/IGV4dGVuZCh7IGRldGFpbDogYXJncyB9LCBhcmdzWzBdKSA6IHsgZGV0YWlsOiBhcmdzIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zZXRQYXJlbnQoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBfYXBwbHlTdHlsZXMoc3R5bGVzLCBvd25lcikge1xuICAgIGlmICghc3R5bGVzKSByZXR1cm47XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIgPT09IHRoaXMuX2RlZiB8fCB0aGlzLl9zdHlsZUNoaWxkcmVuLmhhcyhvd25lcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5hZGQob3duZXIpO1xuICAgIH1cbiAgICBjb25zdCBub25jZSA9IHRoaXMuX25vbmNlO1xuICAgIGZvciAobGV0IGkgPSBzdHlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBpZiAobm9uY2UpIHMuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgcy50ZXh0Q29udGVudCA9IHN0eWxlc1tpXTtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5wcmVwZW5kKHMpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgaWYgKG93bmVyLl9faG1ySWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hpbGRTdHlsZXMpIHRoaXMuX2NoaWxkU3R5bGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChvd25lci5fX2htcklkKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY2hpbGRTdHlsZXMuc2V0KG93bmVyLl9faG1ySWQsIGVudHJ5ID0gW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkucHVzaChzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9wYXJzZVNsb3RzKCkge1xuICAgIGNvbnN0IHNsb3RzID0gdGhpcy5fc2xvdHMgPSB7fTtcbiAgICBsZXQgbjtcbiAgICB3aGlsZSAobiA9IHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBuLm5vZGVUeXBlID09PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIChzbG90c1tzbG90TmFtZV0gfHwgKHNsb3RzW3Nsb3ROYW1lXSA9IFtdKSkucHVzaChuKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9yZW5kZXJTbG90cygpIHtcbiAgICBjb25zdCBvdXRsZXRzID0gdGhpcy5fZ2V0U2xvdHMoKTtcbiAgICBjb25zdCBzY29wZUlkID0gdGhpcy5faW5zdGFuY2UudHlwZS5fX3Njb3BlSWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRsZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvID0gb3V0bGV0c1tpXTtcbiAgICAgIGNvbnN0IHNsb3ROYW1lID0gby5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuX3Nsb3RzW3Nsb3ROYW1lXTtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG8ucGFyZW50Tm9kZTtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBjb250ZW50KSB7XG4gICAgICAgICAgaWYgKHNjb3BlSWQgJiYgbi5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBzY29wZUlkICsgXCItc1wiO1xuICAgICAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihuLCAxKTtcbiAgICAgICAgICAgIG4uc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgICAgICAgICAgIGxldCBjaGlsZDtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZCA9IHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobiwgbyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChvLmZpcnN0Q2hpbGQpIHBhcmVudC5pbnNlcnRCZWZvcmUoby5maXJzdENoaWxkLCBvKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChvKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2dldFNsb3RzKCkge1xuICAgIGNvbnN0IHJvb3RzID0gW3RoaXNdO1xuICAgIGlmICh0aGlzLl90ZWxlcG9ydFRhcmdldHMpIHtcbiAgICAgIHJvb3RzLnB1c2goLi4udGhpcy5fdGVsZXBvcnRUYXJnZXRzKTtcbiAgICB9XG4gICAgY29uc3Qgc2xvdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3Qgcm9vdCBvZiByb290cykge1xuICAgICAgY29uc3QgZm91bmQgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzbG90XCIpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3VuZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbG90cy5hZGQoZm91bmRbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShzbG90cyk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2luamVjdENoaWxkU3R5bGUoY29tcCkge1xuICAgIHRoaXMuX2FwcGx5U3R5bGVzKGNvbXAuc3R5bGVzLCBjb21wKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfYmVnaW5QYXRjaCgpIHtcbiAgICB0aGlzLl9wYXRjaGluZyA9IHRydWU7XG4gICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZW5kUGF0Y2goKSB7XG4gICAgdGhpcy5fcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fZGlydHkgJiYgdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfcmVtb3ZlQ2hpbGRTdHlsZShjb21wKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRoaXMuX3N0eWxlQ2hpbGRyZW4uZGVsZXRlKGNvbXApO1xuICAgICAgaWYgKHRoaXMuX2NoaWxkU3R5bGVzICYmIGNvbXAuX19obXJJZCkge1xuICAgICAgICBjb25zdCBvbGRTdHlsZXMgPSB0aGlzLl9jaGlsZFN0eWxlcy5nZXQoY29tcC5fX2htcklkKTtcbiAgICAgICAgaWYgKG9sZFN0eWxlcykge1xuICAgICAgICAgIG9sZFN0eWxlcy5mb3JFYWNoKChzKSA9PiB0aGlzLl9yb290LnJlbW92ZUNoaWxkKHMpKTtcbiAgICAgICAgICBvbGRTdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXNlSG9zdChjYWxsZXIpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgZWwgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5jZTtcbiAgaWYgKGVsKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYWxsZXIgfHwgXCJ1c2VIb3N0XCJ9IGNhbGxlZCB3aXRob3V0IGFuIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FsbGVyIHx8IFwidXNlSG9zdFwifSBjYW4gb25seSBiZSB1c2VkIGluIGNvbXBvbmVudHMgZGVmaW5lZCB2aWEgZGVmaW5lQ3VzdG9tRWxlbWVudC5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNoYWRvd1Jvb3QoKSB7XG4gIGNvbnN0IGVsID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHVzZUhvc3QoXCJ1c2VTaGFkb3dSb290XCIpIDogdXNlSG9zdCgpO1xuICByZXR1cm4gZWwgJiYgZWwuc2hhZG93Um9vdDtcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSBcIiRzdHlsZVwiKSB7XG4gIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XG4gICAgaWYgKCFtb2R1bGVzKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlcyBpbmplY3RlZC5gKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XG4gICAgaWYgKCFtb2QpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXCIke25hbWV9XCIuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICByZXR1cm4gbW9kO1xuICB9XG59XG5cbmNvbnN0IHBvc2l0aW9uTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbW92ZUNiS2V5ID0gU3ltYm9sKFwiX21vdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmNvbnN0IGRlY29yYXRlID0gKHQpID0+IHtcbiAgZGVsZXRlIHQucHJvcHMubW9kZTtcbiAgcmV0dXJuIHQ7XG59O1xuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IC8qIEBfX1BVUkVfXyAqLyBkZWNvcmF0ZSh7XG4gIG5hbWU6IFwiVHJhbnNpdGlvbkdyb3VwXCIsXG4gIHByb3BzOiAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XG4gICAgdGFnOiBTdHJpbmcsXG4gICAgbW92ZUNsYXNzOiBTdHJpbmdcbiAgfSksXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgbGV0IHByZXZDaGlsZHJlbjtcbiAgICBsZXQgY2hpbGRyZW47XG4gICAgb25VcGRhdGVkKCgpID0+IHtcbiAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCBcInZcIn0tbW92ZWA7XG4gICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShcbiAgICAgICAgcHJldkNoaWxkcmVuWzBdLmVsLFxuICAgICAgICBpbnN0YW5jZS52bm9kZS5lbCxcbiAgICAgICAgbW92ZUNsYXNzXG4gICAgICApKSB7XG4gICAgICAgIHByZXZDaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgIGZvcmNlUmVmbG93KGluc3RhbmNlLnZub2RlLmVsKTtcbiAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgY29uc3QgY2IgPSBlbFttb3ZlQ2JLZXldID0gKGUpID0+IHtcbiAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFlIHx8IGUucHJvcGVydHlOYW1lLmVuZHNXaXRoKFwidHJhbnNmb3JtXCIpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYik7XG4gICAgICAgICAgICBlbFttb3ZlQ2JLZXldID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgIH0pO1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgaWYgKGNoaWxkLmVsICYmIGNoaWxkLmVsIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICBjc3NUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChjaGlsZCwge1xuICAgICAgICAgICAgICBsZWZ0OiBjaGlsZC5lbC5vZmZzZXRMZWZ0LFxuICAgICAgICAgICAgICB0b3A6IGNoaWxkLmVsLm9mZnNldFRvcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoY2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGlsZC50eXBlICE9PSBUZXh0KSB7XG4gICAgICAgICAgd2FybihgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xuICAgIH07XG4gIH1cbn0pO1xuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcbiAgY29uc3QgZWwgPSBjLmVsO1xuICBpZiAoZWxbbW92ZUNiS2V5XSkge1xuICAgIGVsW21vdmVDYktleV0oKTtcbiAgfVxuICBpZiAoZWxbZW50ZXJDYktleV0pIHtcbiAgICBlbFtlbnRlckNiS2V5XSgpO1xuICB9XG59XG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XG4gIG5ld1Bvc2l0aW9uTWFwLnNldChjLCB7XG4gICAgbGVmdDogYy5lbC5vZmZzZXRMZWZ0LFxuICAgIHRvcDogYy5lbC5vZmZzZXRUb3BcbiAgfSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSBcIjBzXCI7XG4gICAgcmV0dXJuIGM7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZm9yRWFjaCgoY2xzKSA9PiB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIH0pO1xuICB9XG4gIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gIGNsb25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGU7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1tcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIl0gfHwgZmFsc2U7XG4gIHJldHVybiBpc0FycmF5KGZuKSA/ICh2YWx1ZSkgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgfVxufVxuY29uc3QgYXNzaWduS2V5ID0gU3ltYm9sKFwiX2Fzc2lnblwiKTtcbmZ1bmN0aW9uIGNhc3RWYWx1ZSh2YWx1ZSwgdHJpbSwgbnVtYmVyKSB7XG4gIGlmICh0cmltKSB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgaWYgKG51bWJlcikgdmFsdWUgPSBsb29zZVRvTnVtYmVyKHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcbiAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgY29uc3QgY2FzdFRvTnVtYmVyID0gbnVtYmVyIHx8IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUgPT09IFwibnVtYmVyXCI7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/IFwiY2hhbmdlXCIgOiBcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKSByZXR1cm47XG4gICAgICBlbFthc3NpZ25LZXldKGNhc3RWYWx1ZShlbC52YWx1ZSwgdHJpbSwgY2FzdFRvTnVtYmVyKSk7XG4gICAgfSk7XG4gICAgaWYgKHRyaW0gfHwgY2FzdFRvTnVtYmVyKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gY2FzdFZhbHVlKGVsLnZhbHVlLCB0cmltLCBjYXN0VG9OdW1iZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGF6eSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfVxuICB9LFxuICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmIChlbC5jb21wb3NpbmcpIHJldHVybjtcbiAgICBjb25zdCBlbFZhbHVlID0gKG51bWJlciB8fCBlbC50eXBlID09PSBcIm51bWJlclwiKSAmJiAhL14wXFxkLy50ZXN0KGVsLnZhbHVlKSA/IGxvb3NlVG9OdW1iZXIoZWwudmFsdWUpIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChlbFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gXCJyYW5nZVwiKSB7XG4gICAgICBpZiAobGF6eSAmJiB2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgY29uc3QgYXNzaWduID0gZWxbYXNzaWduS2V5XTtcbiAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgbGV0IGNoZWNrZWQ7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHJldHVybjtcbiAgICBjaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICB9XG4gIGlmIChlbC5jaGVja2VkICE9PSBjaGVja2VkKSB7XG4gICAgZWwuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZWxbYXNzaWduS2V5XShnZXRWYWx1ZShlbCkpO1xuICAgIH0pO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpLm1hcChcbiAgICAgICAgKG8pID0+IG51bWJlciA/IGxvb3NlVG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobylcbiAgICAgICk7XG4gICAgICBlbFthc3NpZ25LZXldKFxuICAgICAgICBlbC5tdWx0aXBsZSA/IGlzU2V0TW9kZWwgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKSA6IHNlbGVjdGVkVmFsIDogc2VsZWN0ZWRWYWxbMF1cbiAgICAgICk7XG4gICAgICBlbC5fYXNzaWduaW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuX2Fzc2lnbmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gIC8vIDxvcHRpb24+cy5cbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGlmICghZWwuX2Fzc2lnbmluZykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLnNvbWUoKHYpID0+IFN0cmluZyh2KSA9PT0gU3RyaW5nKG9wdGlvblZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9ICgoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xuICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKSByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gIH0pKTtcbn07XG5jb25zdCBrZXlOYW1lcyA9IHtcbiAgZXNjOiBcImVzY2FwZVwiLFxuICBzcGFjZTogXCIgXCIsXG4gIHVwOiBcImFycm93LXVwXCIsXG4gIGxlZnQ6IFwiYXJyb3ctbGVmdFwiLFxuICByaWdodDogXCJhcnJvdy1yaWdodFwiLFxuICBkb3duOiBcImFycm93LWRvd25cIixcbiAgZGVsZXRlOiBcImJhY2tzcGFjZVwiXG59O1xuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICBjb25zdCBjYWNoZSA9IGZuLl93aXRoS2V5cyB8fCAoZm4uX3dpdGhLZXlzID0ge30pO1xuICBjb25zdCBjYWNoZUtleSA9IG1vZGlmaWVycy5qb2luKFwiLlwiKTtcbiAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSB8fCAoY2FjaGVbY2FjaGVLZXldID0gKChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKFxuICAgICAgKGspID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleVxuICAgICkpIHtcbiAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgfVxuICB9KSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn0pO1xuY29uc3QgY3JlYXRlQXBwID0gKCguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcInYtY2xvYWtcIik7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS12LWFwcFwiLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3h5O1xuICB9O1xuICByZXR1cm4gYXBwO1xufSk7XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xuICB9XG4gIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gYXBwO1xufSk7XG5mdW5jdGlvbiByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpIHtcbiAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdmdcIjtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiBjb250YWluZXIgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwibWF0aG1sXCI7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc05hdGl2ZVRhZ1wiLCB7XG4gICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZykgfHwgaXNNYXRoTUxUYWcodGFnKSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG59XG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcbiAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImlzQ3VzdG9tRWxlbWVudFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIFNpbmNlIHlvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCwgXFxgY29tcGlsZXJPcHRpb25zXFxgIG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxuLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxuLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcbi0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlLXBsdWdpbi12dWUvdHJlZS9tYWluL3BhY2thZ2VzL3BsdWdpbi12dWUjZXhhbXBsZS1mb3ItcGFzc2luZy1vcHRpb25zLXRvLXZ1ZWNvbXBpbGVyLXNmY2A7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiY29tcGlsZXJPcHRpb25zXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFyZXMpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICB3YXJuKFxuICAgICAgYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgIHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBpbml0Vk1vZGVsRm9yU1NSKCk7XG4gICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gIH1cbn0gO1xuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBkZWZpbmVDdXN0b21FbGVtZW50LCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBoeWRyYXRlLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgcmVuZGVyLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHVzZUhvc3QsIHVzZVNoYWRvd1Jvb3QsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMgfTtcbiIsImltcG9ydCB7IG5leHRUaWNrLCBwdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCwgb3BlbkJsb2NrLCBjcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgfSBmcm9tICd2dWUnO1xuXG5mdW5jdGlvbiBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHZhciBtc2llID0gdWEuaW5kZXhPZignTVNJRSAnKTtcblxuICBpZiAobXNpZSA+IDApIHtcbiAgICAvLyBJRSAxMCBvciBvbGRlciA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcbiAgICByZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKG1zaWUgKyA1LCB1YS5pbmRleE9mKCcuJywgbXNpZSkpLCAxMCk7XG4gIH1cblxuICB2YXIgdHJpZGVudCA9IHVhLmluZGV4T2YoJ1RyaWRlbnQvJyk7XG5cbiAgaWYgKHRyaWRlbnQgPiAwKSB7XG4gICAgLy8gSUUgMTEgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXG4gICAgdmFyIHJ2ID0gdWEuaW5kZXhPZigncnY6Jyk7XG4gICAgcmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhydiArIDMsIHVhLmluZGV4T2YoJy4nLCBydikpLCAxMCk7XG4gIH1cblxuICB2YXIgZWRnZSA9IHVhLmluZGV4T2YoJ0VkZ2UvJyk7XG5cbiAgaWYgKGVkZ2UgPiAwKSB7XG4gICAgLy8gRWRnZSAoSUUgMTIrKSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcbiAgICByZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKGVkZ2UgKyA1LCB1YS5pbmRleE9mKCcuJywgZWRnZSkpLCAxMCk7XG4gIH0gLy8gb3RoZXIgYnJvd3NlclxuXG5cbiAgcmV0dXJuIC0xO1xufVxuXG5sZXQgaXNJRTtcblxuZnVuY3Rpb24gaW5pdENvbXBhdCAoKSB7XG4gIGlmICghaW5pdENvbXBhdC5pbml0KSB7XG4gICAgaW5pdENvbXBhdC5pbml0ID0gdHJ1ZTtcbiAgICBpc0lFID0gZ2V0SW50ZXJuZXRFeHBsb3JlclZlcnNpb24oKSAhPT0gLTE7XG4gIH1cbn1cblxudmFyIHNjcmlwdCA9IHtcbiAgbmFtZTogJ1Jlc2l6ZU9ic2VydmVyJyxcblxuICBwcm9wczoge1xuICAgIGVtaXRPbk1vdW50OiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcblxuICAgIGlnbm9yZVdpZHRoOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcblxuICAgIGlnbm9yZUhlaWdodDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG5cbiAgZW1pdHM6IFtcbiAgICAnbm90aWZ5JyxcbiAgXSxcblxuICBtb3VudGVkICgpIHtcbiAgICBpbml0Q29tcGF0KCk7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgdGhpcy5fdyA9IHRoaXMuJGVsLm9mZnNldFdpZHRoO1xuICAgICAgdGhpcy5faCA9IHRoaXMuJGVsLm9mZnNldEhlaWdodDtcbiAgICAgIGlmICh0aGlzLmVtaXRPbk1vdW50KSB7XG4gICAgICAgIHRoaXMuZW1pdFNpemUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvYmplY3QnKTtcbiAgICB0aGlzLl9yZXNpemVPYmplY3QgPSBvYmplY3Q7XG4gICAgb2JqZWN0LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIG9iamVjdC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgLTEpO1xuICAgIG9iamVjdC5vbmxvYWQgPSB0aGlzLmFkZFJlc2l6ZUhhbmRsZXJzO1xuICAgIG9iamVjdC50eXBlID0gJ3RleHQvaHRtbCc7XG4gICAgaWYgKGlzSUUpIHtcbiAgICAgIHRoaXMuJGVsLmFwcGVuZENoaWxkKG9iamVjdCk7XG4gICAgfVxuICAgIG9iamVjdC5kYXRhID0gJ2Fib3V0OmJsYW5rJztcbiAgICBpZiAoIWlzSUUpIHtcbiAgICAgIHRoaXMuJGVsLmFwcGVuZENoaWxkKG9iamVjdCk7XG4gICAgfVxuICB9LFxuXG4gIGJlZm9yZVVubW91bnQgKCkge1xuICAgIHRoaXMucmVtb3ZlUmVzaXplSGFuZGxlcnMoKTtcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgY29tcGFyZUFuZE5vdGlmeSAoKSB7XG4gICAgICBpZiAoKCF0aGlzLmlnbm9yZVdpZHRoICYmIHRoaXMuX3cgIT09IHRoaXMuJGVsLm9mZnNldFdpZHRoKSB8fCAoIXRoaXMuaWdub3JlSGVpZ2h0ICYmIHRoaXMuX2ggIT09IHRoaXMuJGVsLm9mZnNldEhlaWdodCkpIHtcbiAgICAgICAgdGhpcy5fdyA9IHRoaXMuJGVsLm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLl9oID0gdGhpcy4kZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmVtaXRTaXplKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVtaXRTaXplICgpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ25vdGlmeScsIHtcbiAgICAgICAgd2lkdGg6IHRoaXMuX3csXG4gICAgICAgIGhlaWdodDogdGhpcy5faCxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhZGRSZXNpemVIYW5kbGVycyAoKSB7XG4gICAgICB0aGlzLl9yZXNpemVPYmplY3QuY29udGVudERvY3VtZW50LmRlZmF1bHRWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY29tcGFyZUFuZE5vdGlmeSk7XG4gICAgICB0aGlzLmNvbXBhcmVBbmROb3RpZnkoKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlUmVzaXplSGFuZGxlcnMgKCkge1xuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZU9iamVjdCAmJiB0aGlzLl9yZXNpemVPYmplY3Qub25sb2FkKSB7XG4gICAgICAgIGlmICghaXNJRSAmJiB0aGlzLl9yZXNpemVPYmplY3QuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgICAgdGhpcy5fcmVzaXplT2JqZWN0LmNvbnRlbnREb2N1bWVudC5kZWZhdWx0Vmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmNvbXBhcmVBbmROb3RpZnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKHRoaXMuX3Jlc2l6ZU9iamVjdCk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZU9iamVjdC5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZXNpemVPYmplY3QgPSBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG59O1xuXG5jb25zdCBfd2l0aElkID0gLyojX19QVVJFX18qL3dpdGhTY29wZUlkKFwiZGF0YS12LWIzMjllZTRjXCIpO1xuXG5wdXNoU2NvcGVJZChcImRhdGEtdi1iMzI5ZWU0Y1wiKTtcbmNvbnN0IF9ob2lzdGVkXzEgPSB7XG4gIGNsYXNzOiBcInJlc2l6ZS1vYnNlcnZlclwiLFxuICB0YWJpbmRleDogXCItMVwiXG59O1xucG9wU2NvcGVJZCgpO1xuXG5jb25zdCByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZCgoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSA9PiB7XG4gIHJldHVybiAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKFwiZGl2XCIsIF9ob2lzdGVkXzEpKVxufSk7XG5cbnNjcmlwdC5yZW5kZXIgPSByZW5kZXI7XG5zY3JpcHQuX19zY29wZUlkID0gXCJkYXRhLXYtYjMyOWVlNGNcIjtcbnNjcmlwdC5fX2ZpbGUgPSBcInNyYy9jb21wb25lbnRzL1Jlc2l6ZU9ic2VydmVyLnZ1ZVwiO1xuXG5mdW5jdGlvbiBpbnN0YWxsKGFwcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL2NvbXBvbmVudC1kZWZpbml0aW9uLW5hbWUtY2FzaW5nXG4gIGFwcC5jb21wb25lbnQoJ3Jlc2l6ZS1vYnNlcnZlcicsIHNjcmlwdCk7XG4gIGFwcC5jb21wb25lbnQoJ1Jlc2l6ZU9ic2VydmVyJywgc2NyaXB0KTtcbn1cblxudmFyIHBsdWdpbiA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZlcnNpb246IFwiMi4wLjAtYWxwaGEuMVwiLFxuICBpbnN0YWxsOiBpbnN0YWxsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW47XG5leHBvcnQgeyBzY3JpcHQgYXMgUmVzaXplT2JzZXJ2ZXIsIGluc3RhbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZ1ZS1yZXNpemUuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICd2dWUnO1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc09wdGlvbnModmFsdWUpIHtcbiAgdmFyIG9wdGlvbnM7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFNpbXBsZSBvcHRpb25zIChjYWxsYmFjay1vbmx5KVxuICAgIG9wdGlvbnMgPSB7XG4gICAgICBjYWxsYmFjazogdmFsdWVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIE9wdGlvbnMgb2JqZWN0XG4gICAgb3B0aW9ucyA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5mdW5jdGlvbiB0aHJvdHRsZShjYWxsYmFjaywgZGVsYXkpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIgdGltZW91dDtcbiAgdmFyIGxhc3RTdGF0ZTtcbiAgdmFyIGN1cnJlbnRBcmdzO1xuXG4gIHZhciB0aHJvdHRsZWQgPSBmdW5jdGlvbiB0aHJvdHRsZWQoc3RhdGUpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBjdXJyZW50QXJncyA9IGFyZ3M7XG4gICAgaWYgKHRpbWVvdXQgJiYgc3RhdGUgPT09IGxhc3RTdGF0ZSkgcmV0dXJuO1xuICAgIHZhciBsZWFkaW5nID0gb3B0aW9ucy5sZWFkaW5nO1xuXG4gICAgaWYgKHR5cGVvZiBsZWFkaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsZWFkaW5nID0gbGVhZGluZyhzdGF0ZSwgbGFzdFN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoKCF0aW1lb3V0IHx8IHN0YXRlICE9PSBsYXN0U3RhdGUpICYmIGxlYWRpbmcpIHtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KHZvaWQgMCwgW3N0YXRlXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGN1cnJlbnRBcmdzKSkpO1xuICAgIH1cblxuICAgIGxhc3RTdGF0ZSA9IHN0YXRlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjay5hcHBseSh2b2lkIDAsIFtzdGF0ZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShjdXJyZW50QXJncykpKTtcbiAgICAgIHRpbWVvdXQgPSAwO1xuICAgIH0sIGRlbGF5KTtcbiAgfTtcblxuICB0aHJvdHRsZWQuX2NsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gdGhyb3R0bGVkO1xufVxuZnVuY3Rpb24gZGVlcEVxdWFsKHZhbDEsIHZhbDIpIHtcbiAgaWYgKHZhbDEgPT09IHZhbDIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChfdHlwZW9mKHZhbDEpID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAodmFyIGtleSBpbiB2YWwxKSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbCh2YWwxW2tleV0sIHZhbDJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgVmlzaWJpbGl0eVN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVmlzaWJpbGl0eVN0YXRlKGVsLCBvcHRpb25zLCB2bm9kZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaXNpYmlsaXR5U3RhdGUpO1xuXG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuZnJvemVuID0gZmFsc2U7XG4gICAgdGhpcy5jcmVhdGVPYnNlcnZlcihvcHRpb25zLCB2bm9kZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmlzaWJpbGl0eVN0YXRlLCBbe1xuICAgIGtleTogXCJjcmVhdGVPYnNlcnZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVPYnNlcnZlcihvcHRpb25zLCB2bm9kZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95T2JzZXJ2ZXIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZnJvemVuKSByZXR1cm47XG4gICAgICB0aGlzLm9wdGlvbnMgPSBwcm9jZXNzT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uIChyZXN1bHQsIGVudHJ5KSB7XG4gICAgICAgIF90aGlzLm9wdGlvbnMuY2FsbGJhY2socmVzdWx0LCBlbnRyeSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCAmJiBfdGhpcy5vcHRpb25zLm9uY2UpIHtcbiAgICAgICAgICBfdGhpcy5mcm96ZW4gPSB0cnVlO1xuXG4gICAgICAgICAgX3RoaXMuZGVzdHJveU9ic2VydmVyKCk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIFRocm90dGxlXG5cblxuICAgICAgaWYgKHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5vcHRpb25zLnRocm90dGxlKSB7XG4gICAgICAgIHZhciBfcmVmID0gdGhpcy5vcHRpb25zLnRocm90dGxlT3B0aW9ucyB8fCB7fSxcbiAgICAgICAgICAgIF9sZWFkaW5nID0gX3JlZi5sZWFkaW5nO1xuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSB0aHJvdHRsZSh0aGlzLmNhbGxiYWNrLCB0aGlzLm9wdGlvbnMudGhyb3R0bGUsIHtcbiAgICAgICAgICBsZWFkaW5nOiBmdW5jdGlvbiBsZWFkaW5nKHN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gX2xlYWRpbmcgPT09ICdib3RoJyB8fCBfbGVhZGluZyA9PT0gJ3Zpc2libGUnICYmIHN0YXRlIHx8IF9sZWFkaW5nID09PSAnaGlkZGVuJyAmJiAhc3RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vbGRSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbMF07XG5cbiAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHZhciBpbnRlcnNlY3RpbmdFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaW50ZXJzZWN0aW5nRW50cnkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gaW50ZXJzZWN0aW5nRW50cnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgLy8gVXNlIGlzSW50ZXJzZWN0aW5nIGlmIHBvc3NpYmxlIGJlY2F1c2UgYnJvd3NlcnMgY2FuIHJlcG9ydCBpc0ludGVyc2VjdGluZyBhcyB0cnVlLCBidXQgaW50ZXJzZWN0aW9uUmF0aW8gYXMgMCwgd2hlbiBzb21ldGhpbmcgdmVyeSBzbG93bHkgZW50ZXJzIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gX3RoaXMudGhyZXNob2xkO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IF90aGlzLm9sZFJlc3VsdCkgcmV0dXJuO1xuICAgICAgICAgIF90aGlzLm9sZFJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgICAgIF90aGlzLmNhbGxiYWNrKHJlc3VsdCwgZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJzZWN0aW9uKTsgLy8gV2FpdCBmb3IgdGhlIGVsZW1lbnQgdG8gYmUgaW4gZG9jdW1lbnRcblxuICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMub2JzZXJ2ZXIpIHtcbiAgICAgICAgICBfdGhpcy5vYnNlcnZlci5vYnNlcnZlKF90aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lPYnNlcnZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95T2JzZXJ2ZXIoKSB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgICB9IC8vIENhbmNlbCB0aHJvdHRsZWQgY2FsbFxuXG5cbiAgICAgIGlmICh0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2suX2NsZWFyKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2suX2NsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRocmVzaG9sZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbnRlcnNlY3Rpb24gJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5pbnRlcnNlY3Rpb24udGhyZXNob2xkID09PSAnbnVtYmVyJyA/IHRoaXMub3B0aW9ucy5pbnRlcnNlY3Rpb24udGhyZXNob2xkIDogMDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmlzaWJpbGl0eVN0YXRlO1xufSgpO1xuXG5mdW5jdGlvbiBiZWZvcmVNb3VudChlbCwgX3JlZjIsIHZub2RlKSB7XG4gIHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlO1xuICBpZiAoIXZhbHVlKSByZXR1cm47XG5cbiAgaWYgKHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLndhcm4oJ1t2dWUtb2JzZXJ2ZS12aXNpYmlsaXR5XSBJbnRlcnNlY3Rpb25PYnNlcnZlciBBUEkgaXMgbm90IGF2YWlsYWJsZSBpbiB5b3VyIGJyb3dzZXIuIFBsZWFzZSBpbnN0YWxsIHRoaXMgcG9seWZpbGw6IGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvdHJlZS9tYXN0ZXIvcG9seWZpbGwnKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3RhdGUgPSBuZXcgVmlzaWJpbGl0eVN0YXRlKGVsLCB2YWx1ZSwgdm5vZGUpO1xuICAgIGVsLl92dWVfdmlzaWJpbGl0eVN0YXRlID0gc3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlZChlbCwgX3JlZjMsIHZub2RlKSB7XG4gIHZhciB2YWx1ZSA9IF9yZWYzLnZhbHVlLFxuICAgICAgb2xkVmFsdWUgPSBfcmVmMy5vbGRWYWx1ZTtcbiAgaWYgKGRlZXBFcXVhbCh2YWx1ZSwgb2xkVmFsdWUpKSByZXR1cm47XG4gIHZhciBzdGF0ZSA9IGVsLl92dWVfdmlzaWJpbGl0eVN0YXRlO1xuXG4gIGlmICghdmFsdWUpIHtcbiAgICB1bm1vdW50ZWQoZWwpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzdGF0ZSkge1xuICAgIHN0YXRlLmNyZWF0ZU9ic2VydmVyKHZhbHVlLCB2bm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgYmVmb3JlTW91bnQoZWwsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH0sIHZub2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bm1vdW50ZWQoZWwpIHtcbiAgdmFyIHN0YXRlID0gZWwuX3Z1ZV92aXNpYmlsaXR5U3RhdGU7XG5cbiAgaWYgKHN0YXRlKSB7XG4gICAgc3RhdGUuZGVzdHJveU9ic2VydmVyKCk7XG4gICAgZGVsZXRlIGVsLl92dWVfdmlzaWJpbGl0eVN0YXRlO1xuICB9XG59XG5cbnZhciBPYnNlcnZlVmlzaWJpbGl0eSA9IHtcbiAgYmVmb3JlTW91bnQ6IGJlZm9yZU1vdW50LFxuICB1cGRhdGVkOiB1cGRhdGVkLFxuICB1bm1vdW50ZWQ6IHVubW91bnRlZFxufTtcblxuZnVuY3Rpb24gaW5zdGFsbChhcHApIHtcbiAgYXBwLmRpcmVjdGl2ZSgnb2JzZXJ2ZS12aXNpYmlsaXR5JywgT2JzZXJ2ZVZpc2liaWxpdHkpO1xuICAvKiAtLSBBZGQgbW9yZSBjb21wb25lbnRzIGhlcmUgLS0gKi9cbn1cbi8qIC0tIFBsdWdpbiBkZWZpbml0aW9uICYgQXV0by1pbnN0YWxsIC0tICovXG5cbi8qIFlvdSBzaG91bGRuJ3QgaGF2ZSB0byBtb2RpZnkgdGhlIGNvZGUgYmVsb3cgKi9cbi8vIFBsdWdpblxuXG52YXIgcGx1Z2luID0ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmVyc2lvbjogXCIyLjAuMC1hbHBoYS4xXCIsXG4gIGluc3RhbGw6IGluc3RhbGxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbmV4cG9ydCB7IE9ic2VydmVWaXNpYmlsaXR5LCBpbnN0YWxsIH07XG4iLCJpbXBvcnQgeyBtYXJrUmF3LCBzaGFsbG93UmVhY3RpdmUsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHdpdGhEaXJlY3RpdmVzLCBvcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jaywgbm9ybWFsaXplQ2xhc3MsIHJlbmRlclNsb3QsIGNyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlQmxvY2ssIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCBub3JtYWxpemVTdHlsZSwgd2l0aEN0eCwgRnJhZ21lbnQsIHJlbmRlckxpc3QsIG1lcmdlUHJvcHMsIHRvSGFuZGxlcnMsIGNyZWF0ZVZOb2RlLCBub3JtYWxpemVQcm9wcywgZ3VhcmRSZWFjdGl2ZVByb3BzLCBoLCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlciBhcyBSZXNpemVPYnNlcnZlciQxIH0gZnJvbSAndnVlLXJlc2l6ZSc7XG5pbXBvcnQgeyBPYnNlcnZlVmlzaWJpbGl0eSB9IGZyb20gJ3Z1ZS1vYnNlcnZlLXZpc2liaWxpdHknO1xuaW1wb3J0IG1pdHQgZnJvbSAnbWl0dCc7XG5cbnZhciBjb25maWcgPSB7XG4gIGl0ZW1zTGltaXQ6IDEwMDBcbn07XG5cbi8vIEZvcmsgb2YgaHR0cHM6Ly9naXRodWIuY29tL29sYWhvbC9zY3JvbGxwYXJlbnQuanMgdG8gYmUgYWJsZSB0byBidWlsZCB3aXRoIFJvbGx1cFxuXG52YXIgcmVnZXggPSAvKGF1dG98c2Nyb2xsKS87XG5mdW5jdGlvbiBwYXJlbnRzKG5vZGUsIHBzKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gcHM7XG4gIH1cbiAgcmV0dXJuIHBhcmVudHMobm9kZS5wYXJlbnROb2RlLCBwcy5jb25jYXQoW25vZGVdKSk7XG59XG52YXIgc3R5bGUgPSBmdW5jdGlvbiBzdHlsZShub2RlLCBwcm9wKSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKG5vZGUsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG59O1xudmFyIG92ZXJmbG93ID0gZnVuY3Rpb24gb3ZlcmZsb3cobm9kZSkge1xuICByZXR1cm4gc3R5bGUobm9kZSwgJ292ZXJmbG93JykgKyBzdHlsZShub2RlLCAnb3ZlcmZsb3cteScpICsgc3R5bGUobm9kZSwgJ292ZXJmbG93LXgnKTtcbn07XG52YXIgc2Nyb2xsID0gZnVuY3Rpb24gc2Nyb2xsKG5vZGUpIHtcbiAgcmV0dXJuIHJlZ2V4LnRlc3Qob3ZlcmZsb3cobm9kZSkpO1xufTtcbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChub2RlKSB7XG4gIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgU1ZHRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHBzID0gcGFyZW50cyhub2RlLnBhcmVudE5vZGUsIFtdKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChzY3JvbGwocHNbaV0pKSB7XG4gICAgICByZXR1cm4gcHNbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxudmFyIHByb3BzID0ge1xuICBpdGVtczoge1xuICAgIHR5cGU6IEFycmF5LFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG4gIGtleUZpZWxkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdpZCdcbiAgfSxcbiAgZGlyZWN0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICd2ZXJ0aWNhbCcsXG4gICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsdWUpIHtcbiAgICAgIHJldHVybiBbJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnXS5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBsaXN0VGFnOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdkaXYnXG4gIH0sXG4gIGl0ZW1UYWc6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ2RpdidcbiAgfVxufTtcbmZ1bmN0aW9uIHNpbXBsZUFycmF5KCkge1xuICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggJiYgX3R5cGVvZih0aGlzLml0ZW1zWzBdKSAhPT0gJ29iamVjdCc7XG59XG5cbnZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5sZXQgdWlkID0gMDtcblxudmFyIHNjcmlwdCQyID0ge1xuICBuYW1lOiAnUmVjeWNsZVNjcm9sbGVyJyxcblxuICBjb21wb25lbnRzOiB7XG4gICAgUmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyJDEsXG4gIH0sXG5cbiAgZGlyZWN0aXZlczoge1xuICAgIE9ic2VydmVWaXNpYmlsaXR5LFxuICB9LFxuXG4gIHByb3BzOiB7XG4gICAgLi4ucHJvcHMsXG5cbiAgICBpdGVtU2l6ZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxuXG4gICAgZ3JpZEl0ZW1zOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWQsXG4gICAgfSxcblxuICAgIGl0ZW1TZWNvbmRhcnlTaXplOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiB1bmRlZmluZWQsXG4gICAgfSxcblxuICAgIG1pbkl0ZW1TaXplOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxuXG4gICAgc2l6ZUZpZWxkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnc2l6ZScsXG4gICAgfSxcblxuICAgIHR5cGVGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3R5cGUnLFxuICAgIH0sXG5cbiAgICBidWZmZXI6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDIwMCxcbiAgICB9LFxuXG4gICAgcGFnZU1vZGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgcHJlcmVuZGVyOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgIH0sXG5cbiAgICBlbWl0VXBkYXRlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcblxuICAgIHVwZGF0ZUludGVydmFsOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgIH0sXG5cbiAgICBza2lwSG92ZXI6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgbGlzdFRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2RpdicsXG4gICAgfSxcblxuICAgIGl0ZW1UYWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkaXYnLFxuICAgIH0sXG5cbiAgICBsaXN0Q2xhc3M6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE9iamVjdCwgQXJyYXldLFxuICAgICAgZGVmYXVsdDogJycsXG4gICAgfSxcblxuICAgIGl0ZW1DbGFzczoge1xuICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0LCBBcnJheV0sXG4gICAgICBkZWZhdWx0OiAnJyxcbiAgICB9LFxuICB9LFxuXG4gIGVtaXRzOiBbXG4gICAgJ3Jlc2l6ZScsXG4gICAgJ3Zpc2libGUnLFxuICAgICdoaWRkZW4nLFxuICAgICd1cGRhdGUnLFxuICAgICdzY3JvbGwtc3RhcnQnLFxuICAgICdzY3JvbGwtZW5kJyxcbiAgXSxcblxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9vbDogW10sXG4gICAgICB0b3RhbFNpemU6IDAsXG4gICAgICByZWFkeTogZmFsc2UsXG4gICAgICBob3ZlcktleTogbnVsbCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcHV0ZWQ6IHtcbiAgICBzaXplcyAoKSB7XG4gICAgICBpZiAodGhpcy5pdGVtU2l6ZSA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzaXplcyA9IHtcbiAgICAgICAgICAnLTEnOiB7IGFjY3VtdWxhdG9yOiAwIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLnNpemVGaWVsZDtcbiAgICAgICAgY29uc3QgbWluSXRlbVNpemUgPSB0aGlzLm1pbkl0ZW1TaXplO1xuICAgICAgICBsZXQgY29tcHV0ZWRNaW5TaXplID0gMTAwMDA7XG4gICAgICAgIGxldCBhY2N1bXVsYXRvciA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGN1cnJlbnQgPSBpdGVtc1tpXVtmaWVsZF0gfHwgbWluSXRlbVNpemU7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPCBjb21wdXRlZE1pblNpemUpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkTWluU2l6ZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjY3VtdWxhdG9yICs9IGN1cnJlbnQ7XG4gICAgICAgICAgc2l6ZXNbaV0gPSB7IGFjY3VtdWxhdG9yLCBzaXplOiBjdXJyZW50IH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHRoaXMuJF9jb21wdXRlZE1pbkl0ZW1TaXplID0gY29tcHV0ZWRNaW5TaXplO1xuICAgICAgICByZXR1cm4gc2l6ZXNcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXVxuICAgIH0sXG5cbiAgICBzaW1wbGVBcnJheSxcblxuICAgIGl0ZW1JbmRleEJ5S2V5ICgpIHtcbiAgICAgIGNvbnN0IHsga2V5RmllbGQsIGl0ZW1zIH0gPSB0aGlzO1xuICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXN1bHRbaXRlbXNbaV1ba2V5RmllbGRdXSA9IGk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSxcbiAgfSxcblxuICB3YXRjaDoge1xuICAgIGl0ZW1zICgpIHtcbiAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKHRydWUpO1xuICAgIH0sXG5cbiAgICBwYWdlTW9kZSAoKSB7XG4gICAgICB0aGlzLmFwcGx5UGFnZU1vZGUoKTtcbiAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKGZhbHNlKTtcbiAgICB9LFxuXG4gICAgc2l6ZXM6IHtcbiAgICAgIGhhbmRsZXIgKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyhmYWxzZSk7XG4gICAgICB9LFxuICAgICAgZGVlcDogdHJ1ZSxcbiAgICB9LFxuXG4gICAgZ3JpZEl0ZW1zICgpIHtcbiAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKHRydWUpO1xuICAgIH0sXG5cbiAgICBpdGVtU2Vjb25kYXJ5U2l6ZSAoKSB7XG4gICAgICB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyh0cnVlKTtcbiAgICB9LFxuICB9LFxuXG4gIGNyZWF0ZWQgKCkge1xuICAgIHRoaXMuJF9zdGFydEluZGV4ID0gMDtcbiAgICB0aGlzLiRfZW5kSW5kZXggPSAwO1xuICAgIHRoaXMuJF92aWV3cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLiRfdW51c2VkVmlld3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy4kX3Njcm9sbERpcnR5ID0gZmFsc2U7XG4gICAgdGhpcy4kX2xhc3RVcGRhdGVTY3JvbGxQb3NpdGlvbiA9IDA7XG5cbiAgICAvLyBJbiBTU1IgbW9kZSwgd2UgYWxzbyBwcmVyZW5kZXIgdGhlIHNhbWUgbnVtYmVyIG9mIGl0ZW0gZm9yIHRoZSBmaXJzdCByZW5kZXJcbiAgICAvLyB0byBhdm9pciBtaXNtYXRjaCBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHRlbXBsYXRlc1xuICAgIGlmICh0aGlzLnByZXJlbmRlcikge1xuICAgICAgdGhpcy4kX3ByZXJlbmRlciA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyhmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ3JpZEl0ZW1zICYmICF0aGlzLml0ZW1TaXplKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbdnVlLXJlY3ljbGUtc2Nyb2xsZXJdIFlvdSBtdXN0IHByb3ZpZGUgYW4gaXRlbVNpemUgd2hlbiB1c2luZyBncmlkSXRlbXMnKTtcbiAgICB9XG4gIH0sXG5cbiAgbW91bnRlZCAoKSB7XG4gICAgdGhpcy5hcHBseVBhZ2VNb2RlKCk7XG4gICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xuICAgICAgLy8gSW4gU1NSIG1vZGUsIHJlbmRlciB0aGUgcmVhbCBudW1iZXIgb2YgdmlzaWJsZSBpdGVtc1xuICAgICAgdGhpcy4kX3ByZXJlbmRlciA9IGZhbHNlO1xuICAgICAgdGhpcy51cGRhdGVWaXNpYmxlSXRlbXModHJ1ZSk7XG4gICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgICB9KTtcbiAgfSxcblxuICBhY3RpdmF0ZWQgKCkge1xuICAgIGNvbnN0IGxhc3RQb3NpdGlvbiA9IHRoaXMuJF9sYXN0VXBkYXRlU2Nyb2xsUG9zaXRpb247XG4gICAgaWYgKHR5cGVvZiBsYXN0UG9zaXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9Qb3NpdGlvbihsYXN0UG9zaXRpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIGJlZm9yZVVubW91bnQgKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGFkZFZpZXcgKHBvb2wsIGluZGV4LCBpdGVtLCBrZXksIHR5cGUpIHtcbiAgICAgIGNvbnN0IG5yID0gbWFya1Jhdyh7XG4gICAgICAgIGlkOiB1aWQrKyxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHVzZWQ6IHRydWUsXG4gICAgICAgIGtleSxcbiAgICAgICAgdHlwZSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlldyA9IHNoYWxsb3dSZWFjdGl2ZSh7XG4gICAgICAgIGl0ZW0sXG4gICAgICAgIHBvc2l0aW9uOiAwLFxuICAgICAgICBucixcbiAgICAgIH0pO1xuICAgICAgcG9vbC5wdXNoKHZpZXcpO1xuICAgICAgcmV0dXJuIHZpZXdcbiAgICB9LFxuXG4gICAgdW51c2VWaWV3ICh2aWV3LCBmYWtlID0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IHVudXNlZFZpZXdzID0gdGhpcy4kX3VudXNlZFZpZXdzO1xuICAgICAgY29uc3QgdHlwZSA9IHZpZXcubnIudHlwZTtcbiAgICAgIGxldCB1bnVzZWRQb29sID0gdW51c2VkVmlld3MuZ2V0KHR5cGUpO1xuICAgICAgaWYgKCF1bnVzZWRQb29sKSB7XG4gICAgICAgIHVudXNlZFBvb2wgPSBbXTtcbiAgICAgICAgdW51c2VkVmlld3Muc2V0KHR5cGUsIHVudXNlZFBvb2wpO1xuICAgICAgfVxuICAgICAgdW51c2VkUG9vbC5wdXNoKHZpZXcpO1xuICAgICAgaWYgKCFmYWtlKSB7XG4gICAgICAgIHZpZXcubnIudXNlZCA9IGZhbHNlO1xuICAgICAgICB2aWV3LnBvc2l0aW9uID0gLTk5OTk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZVJlc2l6ZSAoKSB7XG4gICAgICB0aGlzLiRlbWl0KCdyZXNpemUnKTtcbiAgICAgIGlmICh0aGlzLnJlYWR5KSB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyhmYWxzZSk7XG4gICAgfSxcblxuICAgIGhhbmRsZVNjcm9sbCAoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy4kX3Njcm9sbERpcnR5KSB7XG4gICAgICAgIHRoaXMuJF9zY3JvbGxEaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLiRfdXBkYXRlVGltZW91dCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgcmVxdWVzdFVwZGF0ZSA9ICgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy4kX3Njcm9sbERpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgeyBjb250aW51b3VzIH0gPSB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyhmYWxzZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBJdCBzZWVtcyBzb21ldGltZXMgY2hyb21lIGRvZXNuJ3QgZmlyZSBzY3JvbGwgZXZlbnQgOi9cbiAgICAgICAgICAvLyBXaGVuIG5vbiBjb250aW5vdXMgc2Nyb2xsaW5nIGlzIGVuZGluZywgd2UgZm9yY2UgYSByZWZyZXNoXG4gICAgICAgICAgaWYgKCFjb250aW51b3VzKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy4kX3JlZnJlc2hUaW1vdXQpO1xuICAgICAgICAgICAgdGhpcy4kX3JlZnJlc2hUaW1vdXQgPSBzZXRUaW1lb3V0KHRoaXMuaGFuZGxlU2Nyb2xsLCB0aGlzLnVwZGF0ZUludGVydmFsICsgMTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcXVlc3RVcGRhdGUoKTtcblxuICAgICAgICAvLyBTY2hlZHVsZSB0aGUgbmV4dCB1cGRhdGUgd2l0aCB0aHJvdHRsaW5nXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUludGVydmFsKSB7XG4gICAgICAgICAgdGhpcy4kX3VwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJF91cGRhdGVUaW1lb3V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLiRfc2Nyb2xsRGlydHkpIHJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgICB9LCB0aGlzLnVwZGF0ZUludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIChpc1Zpc2libGUsIGVudHJ5KSB7XG4gICAgICBpZiAodGhpcy5yZWFkeSkge1xuICAgICAgICBpZiAoaXNWaXNpYmxlIHx8IGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCAhPT0gMCB8fCBlbnRyeS5ib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgndmlzaWJsZScpO1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcyhmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlVmlzaWJsZUl0ZW1zIChjaGVja0l0ZW0sIGNoZWNrUG9zaXRpb25EaWZmID0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IGl0ZW1TaXplID0gdGhpcy5pdGVtU2l6ZTtcbiAgICAgIGNvbnN0IGdyaWRJdGVtcyA9IHRoaXMuZ3JpZEl0ZW1zIHx8IDE7XG4gICAgICBjb25zdCBpdGVtU2Vjb25kYXJ5U2l6ZSA9IHRoaXMuaXRlbVNlY29uZGFyeVNpemUgfHwgaXRlbVNpemU7XG4gICAgICBjb25zdCBtaW5JdGVtU2l6ZSA9IHRoaXMuJF9jb21wdXRlZE1pbkl0ZW1TaXplO1xuICAgICAgY29uc3QgdHlwZUZpZWxkID0gdGhpcy50eXBlRmllbGQ7XG4gICAgICBjb25zdCBrZXlGaWVsZCA9IHRoaXMuc2ltcGxlQXJyYXkgPyBudWxsIDogdGhpcy5rZXlGaWVsZDtcbiAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAgIGNvbnN0IGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICAgICAgY29uc3Qgc2l6ZXMgPSB0aGlzLnNpemVzO1xuICAgICAgY29uc3Qgdmlld3MgPSB0aGlzLiRfdmlld3M7XG4gICAgICBjb25zdCB1bnVzZWRWaWV3cyA9IHRoaXMuJF91bnVzZWRWaWV3cztcbiAgICAgIGNvbnN0IHBvb2wgPSB0aGlzLnBvb2w7XG4gICAgICBjb25zdCBpdGVtSW5kZXhCeUtleSA9IHRoaXMuaXRlbUluZGV4QnlLZXk7XG4gICAgICBsZXQgc3RhcnRJbmRleCwgZW5kSW5kZXg7XG4gICAgICBsZXQgdG90YWxTaXplO1xuICAgICAgbGV0IHZpc2libGVTdGFydEluZGV4LCB2aXNpYmxlRW5kSW5kZXg7XG5cbiAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IGVuZEluZGV4ID0gdmlzaWJsZVN0YXJ0SW5kZXggPSB2aXNpYmxlRW5kSW5kZXggPSB0b3RhbFNpemUgPSAwO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLiRfcHJlcmVuZGVyKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB2aXNpYmxlU3RhcnRJbmRleCA9IDA7XG4gICAgICAgIGVuZEluZGV4ID0gdmlzaWJsZUVuZEluZGV4ID0gTWF0aC5taW4odGhpcy5wcmVyZW5kZXIsIGl0ZW1zLmxlbmd0aCk7XG4gICAgICAgIHRvdGFsU2l6ZSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY3JvbGwgPSB0aGlzLmdldFNjcm9sbCgpO1xuXG4gICAgICAgIC8vIFNraXAgdXBkYXRlIGlmIHVzZSBoYXNuJ3Qgc2Nyb2xsZWQgZW5vdWdoXG4gICAgICAgIGlmIChjaGVja1Bvc2l0aW9uRGlmZikge1xuICAgICAgICAgIGxldCBwb3NpdGlvbkRpZmYgPSBzY3JvbGwuc3RhcnQgLSB0aGlzLiRfbGFzdFVwZGF0ZVNjcm9sbFBvc2l0aW9uO1xuICAgICAgICAgIGlmIChwb3NpdGlvbkRpZmYgPCAwKSBwb3NpdGlvbkRpZmYgPSAtcG9zaXRpb25EaWZmO1xuICAgICAgICAgIGlmICgoaXRlbVNpemUgPT09IG51bGwgJiYgcG9zaXRpb25EaWZmIDwgbWluSXRlbVNpemUpIHx8IHBvc2l0aW9uRGlmZiA8IGl0ZW1TaXplKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjb250aW51b3VzOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRfbGFzdFVwZGF0ZVNjcm9sbFBvc2l0aW9uID0gc2Nyb2xsLnN0YXJ0O1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBzY3JvbGwuc3RhcnQgLT0gYnVmZmVyO1xuICAgICAgICBzY3JvbGwuZW5kICs9IGJ1ZmZlcjtcblxuICAgICAgICAvLyBhY2NvdW50IGZvciBsZWFkaW5nIHNsb3RcbiAgICAgICAgbGV0IGJlZm9yZVNpemUgPSAwO1xuICAgICAgICBpZiAodGhpcy4kcmVmcy5iZWZvcmUpIHtcbiAgICAgICAgICBiZWZvcmVTaXplID0gdGhpcy4kcmVmcy5iZWZvcmUuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgIHNjcm9sbC5zdGFydCAtPSBiZWZvcmVTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWNjb3VudCBmb3IgdHJhaWxpbmcgc2xvdFxuICAgICAgICBpZiAodGhpcy4kcmVmcy5hZnRlcikge1xuICAgICAgICAgIGNvbnN0IGFmdGVyU2l6ZSA9IHRoaXMuJHJlZnMuYWZ0ZXIuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgIHNjcm9sbC5lbmQgKz0gYWZ0ZXJTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFyaWFibGUgc2l6ZSBtb2RlXG4gICAgICAgIGlmIChpdGVtU2l6ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGxldCBoO1xuICAgICAgICAgIGxldCBhID0gMDtcbiAgICAgICAgICBsZXQgYiA9IGNvdW50IC0gMTtcbiAgICAgICAgICBsZXQgaSA9IH5+KGNvdW50IC8gMik7XG4gICAgICAgICAgbGV0IG9sZEk7XG5cbiAgICAgICAgICAvLyBTZWFyY2hpbmcgZm9yIHN0YXJ0SW5kZXhcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBvbGRJID0gaTtcbiAgICAgICAgICAgIGggPSBzaXplc1tpXS5hY2N1bXVsYXRvcjtcbiAgICAgICAgICAgIGlmIChoIDwgc2Nyb2xsLnN0YXJ0KSB7XG4gICAgICAgICAgICAgIGEgPSBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpIDwgY291bnQgLSAxICYmIHNpemVzW2kgKyAxXS5hY2N1bXVsYXRvciA+IHNjcm9sbC5zdGFydCkge1xuICAgICAgICAgICAgICBiID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSB+figoYSArIGIpIC8gMik7XG4gICAgICAgICAgfSB3aGlsZSAoaSAhPT0gb2xkSSlcbiAgICAgICAgICBpIDwgMCAmJiAoaSA9IDApO1xuICAgICAgICAgIHN0YXJ0SW5kZXggPSBpO1xuXG4gICAgICAgICAgLy8gRm9yIGNvbnRhaW5lciBzdHlsZVxuICAgICAgICAgIHRvdGFsU2l6ZSA9IHNpemVzW2NvdW50IC0gMV0uYWNjdW11bGF0b3I7XG5cbiAgICAgICAgICAvLyBTZWFyY2hpbmcgZm9yIGVuZEluZGV4XG4gICAgICAgICAgZm9yIChlbmRJbmRleCA9IGk7IGVuZEluZGV4IDwgY291bnQgJiYgc2l6ZXNbZW5kSW5kZXhdLmFjY3VtdWxhdG9yIDwgc2Nyb2xsLmVuZDsgZW5kSW5kZXgrKyk7XG4gICAgICAgICAgaWYgKGVuZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgZW5kSW5kZXggPSBpdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbmRJbmRleCsrO1xuICAgICAgICAgICAgLy8gQm91bmRzXG4gICAgICAgICAgICBlbmRJbmRleCA+IGNvdW50ICYmIChlbmRJbmRleCA9IGNvdW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzZWFyY2ggdmlzaWJsZSBzdGFydEluZGV4XG4gICAgICAgICAgZm9yICh2aXNpYmxlU3RhcnRJbmRleCA9IHN0YXJ0SW5kZXg7IHZpc2libGVTdGFydEluZGV4IDwgY291bnQgJiYgKGJlZm9yZVNpemUgKyBzaXplc1t2aXNpYmxlU3RhcnRJbmRleF0uYWNjdW11bGF0b3IpIDwgc2Nyb2xsLnN0YXJ0OyB2aXNpYmxlU3RhcnRJbmRleCsrKTtcblxuICAgICAgICAgIC8vIHNlYXJjaCB2aXNpYmxlIGVuZEluZGV4XG4gICAgICAgICAgZm9yICh2aXNpYmxlRW5kSW5kZXggPSB2aXNpYmxlU3RhcnRJbmRleDsgdmlzaWJsZUVuZEluZGV4IDwgY291bnQgJiYgKGJlZm9yZVNpemUgKyBzaXplc1t2aXNpYmxlRW5kSW5kZXhdLmFjY3VtdWxhdG9yKSA8IHNjcm9sbC5lbmQ7IHZpc2libGVFbmRJbmRleCsrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGaXhlZCBzaXplIG1vZGVcbiAgICAgICAgICBzdGFydEluZGV4ID0gfn4oc2Nyb2xsLnN0YXJ0IC8gaXRlbVNpemUgKiBncmlkSXRlbXMpO1xuICAgICAgICAgIGNvbnN0IHJlbWFpbmVyID0gc3RhcnRJbmRleCAlIGdyaWRJdGVtcztcbiAgICAgICAgICBzdGFydEluZGV4IC09IHJlbWFpbmVyO1xuICAgICAgICAgIGVuZEluZGV4ID0gTWF0aC5jZWlsKHNjcm9sbC5lbmQgLyBpdGVtU2l6ZSAqIGdyaWRJdGVtcyk7XG4gICAgICAgICAgdmlzaWJsZVN0YXJ0SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChzY3JvbGwuc3RhcnQgLSBiZWZvcmVTaXplKSAvIGl0ZW1TaXplICogZ3JpZEl0ZW1zKSk7XG4gICAgICAgICAgdmlzaWJsZUVuZEluZGV4ID0gTWF0aC5mbG9vcigoc2Nyb2xsLmVuZCAtIGJlZm9yZVNpemUpIC8gaXRlbVNpemUgKiBncmlkSXRlbXMpO1xuXG4gICAgICAgICAgLy8gQm91bmRzXG4gICAgICAgICAgc3RhcnRJbmRleCA8IDAgJiYgKHN0YXJ0SW5kZXggPSAwKTtcbiAgICAgICAgICBlbmRJbmRleCA+IGNvdW50ICYmIChlbmRJbmRleCA9IGNvdW50KTtcbiAgICAgICAgICB2aXNpYmxlU3RhcnRJbmRleCA8IDAgJiYgKHZpc2libGVTdGFydEluZGV4ID0gMCk7XG4gICAgICAgICAgdmlzaWJsZUVuZEluZGV4ID4gY291bnQgJiYgKHZpc2libGVFbmRJbmRleCA9IGNvdW50KTtcblxuICAgICAgICAgIHRvdGFsU2l6ZSA9IE1hdGguY2VpbChjb3VudCAvIGdyaWRJdGVtcykgKiBpdGVtU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5kSW5kZXggLSBzdGFydEluZGV4ID4gY29uZmlnLml0ZW1zTGltaXQpIHtcbiAgICAgICAgdGhpcy5pdGVtc0xpbWl0RXJyb3IoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b3RhbFNpemUgPSB0b3RhbFNpemU7XG5cbiAgICAgIGxldCB2aWV3O1xuXG4gICAgICBjb25zdCBjb250aW51b3VzID0gc3RhcnRJbmRleCA8PSB0aGlzLiRfZW5kSW5kZXggJiYgZW5kSW5kZXggPj0gdGhpcy4kX3N0YXJ0SW5kZXg7XG5cbiAgICAgIC8vIFVudXNlIHZpZXdzIHRoYXQgYXJlIG5vIGxvbmdlciB2aXNpYmxlXG4gICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBvb2wubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdmlldyA9IHBvb2xbaV07XG4gICAgICAgICAgaWYgKHZpZXcubnIudXNlZCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHZpZXcgaXRlbSBpbmRleFxuICAgICAgICAgICAgaWYgKGNoZWNrSXRlbSkge1xuICAgICAgICAgICAgICB2aWV3Lm5yLmluZGV4ID0gaXRlbUluZGV4QnlLZXlbdmlldy5pdGVtW2tleUZpZWxkXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGluZGV4IGlzIHN0aWxsIGluIHZpc2libGUgcmFuZ2VcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdmlldy5uci5pbmRleCA9PSBudWxsIHx8XG4gICAgICAgICAgICAgIHZpZXcubnIuaW5kZXggPCBzdGFydEluZGV4IHx8XG4gICAgICAgICAgICAgIHZpZXcubnIuaW5kZXggPj0gZW5kSW5kZXhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0aGlzLnVudXNlVmlldyh2aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdW51c2VkSW5kZXggPSBjb250aW51b3VzID8gbnVsbCA6IG5ldyBNYXAoKTtcblxuICAgICAgbGV0IGl0ZW0sIHR5cGU7XG4gICAgICBsZXQgdjtcbiAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIGNvbnN0IGtleSA9IGtleUZpZWxkID8gaXRlbVtrZXlGaWVsZF0gOiBpdGVtO1xuICAgICAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSBpcyAke2tleX0gb24gaXRlbSAoa2V5RmllbGQgaXMgJyR7a2V5RmllbGR9JylgKVxuICAgICAgICB9XG4gICAgICAgIHZpZXcgPSB2aWV3cy5nZXQoa2V5KTtcblxuICAgICAgICBpZiAoIWl0ZW1TaXplICYmICFzaXplc1tpXS5zaXplKSB7XG4gICAgICAgICAgaWYgKHZpZXcpIHRoaXMudW51c2VWaWV3KHZpZXcpO1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICB0eXBlID0gaXRlbVt0eXBlRmllbGRdO1xuXG4gICAgICAgIGxldCB1bnVzZWRQb29sID0gdW51c2VkVmlld3MuZ2V0KHR5cGUpO1xuICAgICAgICBsZXQgbmV3bHlVc2VkVmlldyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE5vIHZpZXcgYXNzaWduZWQgdG8gaXRlbVxuICAgICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICAgICAgLy8gUmV1c2UgZXhpc3Rpbmcgdmlld1xuICAgICAgICAgICAgaWYgKHVudXNlZFBvb2wgJiYgdW51c2VkUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdmlldyA9IHVudXNlZFBvb2wucG9wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2aWV3ID0gdGhpcy5hZGRWaWV3KHBvb2wsIGksIGl0ZW0sIGtleSwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVzZSBleGlzdGluZyB2aWV3XG4gICAgICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGlmIHRoZXkgYXJlIGFscmVhZHkgdXNlZFxuICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBhcmUgbm90IGluIGNvbnRpbm91cyBzY3JvbGxpbmdcbiAgICAgICAgICAgIHYgPSB1bnVzZWRJbmRleC5nZXQodHlwZSkgfHwgMDtcblxuICAgICAgICAgICAgaWYgKCF1bnVzZWRQb29sIHx8IHYgPj0gdW51c2VkUG9vbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdmlldyA9IHRoaXMuYWRkVmlldyhwb29sLCBpLCBpdGVtLCBrZXksIHR5cGUpO1xuICAgICAgICAgICAgICB0aGlzLnVudXNlVmlldyh2aWV3LCB0cnVlKTtcbiAgICAgICAgICAgICAgdW51c2VkUG9vbCA9IHVudXNlZFZpZXdzLmdldCh0eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmlldyA9IHVudXNlZFBvb2xbdl07XG4gICAgICAgICAgICB1bnVzZWRJbmRleC5zZXQodHlwZSwgdiArIDEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFzc2lnbiB2aWV3IHRvIGl0ZW1cbiAgICAgICAgICB2aWV3cy5kZWxldGUodmlldy5uci5rZXkpO1xuICAgICAgICAgIHZpZXcubnIudXNlZCA9IHRydWU7XG4gICAgICAgICAgdmlldy5uci5pbmRleCA9IGk7XG4gICAgICAgICAgdmlldy5uci5rZXkgPSBrZXk7XG4gICAgICAgICAgdmlldy5uci50eXBlID0gdHlwZTtcbiAgICAgICAgICB2aWV3cy5zZXQoa2V5LCB2aWV3KTtcblxuICAgICAgICAgIG5ld2x5VXNlZFZpZXcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFZpZXcgYWxyZWFkeSBhc3NpZ25lZCB0byBpdGVtXG4gICAgICAgICAgaWYgKCF2aWV3Lm5yLnVzZWQpIHtcbiAgICAgICAgICAgIHZpZXcubnIudXNlZCA9IHRydWU7XG4gICAgICAgICAgICBuZXdseVVzZWRWaWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh1bnVzZWRQb29sKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdW51c2VkUG9vbC5pbmRleE9mKHZpZXcpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB1bnVzZWRQb29sLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWx3YXlzIHNldCBpdGVtIGluIGNhc2UgaXQncyBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlcbiAgICAgICAgdmlldy5pdGVtID0gaXRlbTtcblxuICAgICAgICBpZiAobmV3bHlVc2VkVmlldykge1xuICAgICAgICAgIGlmIChpID09PSBpdGVtcy5sZW5ndGggLSAxKSB0aGlzLiRlbWl0KCdzY3JvbGwtZW5kJyk7XG4gICAgICAgICAgaWYgKGkgPT09IDApIHRoaXMuJGVtaXQoJ3Njcm9sbC1zdGFydCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgIGlmIChpdGVtU2l6ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHZpZXcucG9zaXRpb24gPSBzaXplc1tpIC0gMV0uYWNjdW11bGF0b3I7XG4gICAgICAgICAgdmlldy5vZmZzZXQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXcucG9zaXRpb24gPSBNYXRoLmZsb29yKGkgLyBncmlkSXRlbXMpICogaXRlbVNpemU7XG4gICAgICAgICAgdmlldy5vZmZzZXQgPSAoaSAlIGdyaWRJdGVtcykgKiBpdGVtU2Vjb25kYXJ5U2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLiRfc3RhcnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLiRfZW5kSW5kZXggPSBlbmRJbmRleDtcblxuICAgICAgaWYgKHRoaXMuZW1pdFVwZGF0ZSkgdGhpcy4kZW1pdCgndXBkYXRlJywgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHZpc2libGVTdGFydEluZGV4LCB2aXNpYmxlRW5kSW5kZXgpO1xuXG4gICAgICAvLyBBZnRlciB0aGUgdXNlciBoYXMgZmluaXNoZWQgc2Nyb2xsaW5nXG4gICAgICAvLyBTb3J0IHZpZXdzIHNvIHRleHQgc2VsZWN0aW9uIGlzIGNvcnJlY3RcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLiRfc29ydFRpbWVyKTtcbiAgICAgIHRoaXMuJF9zb3J0VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuc29ydFZpZXdzLCB0aGlzLnVwZGF0ZUludGVydmFsICsgMzAwKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29udGludW91cyxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0TGlzdGVuZXJUYXJnZXQgKCkge1xuICAgICAgbGV0IHRhcmdldCA9IGdldFNjcm9sbFBhcmVudCh0aGlzLiRlbCk7XG4gICAgICAvLyBGaXggZ2xvYmFsIHNjcm9sbCB0YXJnZXQgZm9yIENocm9tZSBhbmQgU2FmYXJpXG4gICAgICBpZiAod2luZG93LmRvY3VtZW50ICYmICh0YXJnZXQgPT09IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgdGFyZ2V0ID09PSB3aW5kb3cuZG9jdW1lbnQuYm9keSkpIHtcbiAgICAgICAgdGFyZ2V0ID0gd2luZG93O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH0sXG5cbiAgICBnZXRTY3JvbGwgKCkge1xuICAgICAgY29uc3QgeyAkZWw6IGVsLCBkaXJlY3Rpb24gfSA9IHRoaXM7XG4gICAgICBjb25zdCBpc1ZlcnRpY2FsID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnO1xuICAgICAgbGV0IHNjcm9sbFN0YXRlO1xuXG4gICAgICBpZiAodGhpcy5wYWdlTW9kZSkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgYm91bmRzU2l6ZSA9IGlzVmVydGljYWwgPyBib3VuZHMuaGVpZ2h0IDogYm91bmRzLndpZHRoO1xuICAgICAgICBsZXQgc3RhcnQgPSAtKGlzVmVydGljYWwgPyBib3VuZHMudG9wIDogYm91bmRzLmxlZnQpO1xuICAgICAgICBsZXQgc2l6ZSA9IGlzVmVydGljYWwgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICAgIHNpemUgKz0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCArIHNpemUgPiBib3VuZHNTaXplKSB7XG4gICAgICAgICAgc2l6ZSA9IGJvdW5kc1NpemUgLSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICBzY3JvbGxTdGF0ZSA9IHtcbiAgICAgICAgICBzdGFydCxcbiAgICAgICAgICBlbmQ6IHN0YXJ0ICsgc2l6ZSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBzY3JvbGxTdGF0ZSA9IHtcbiAgICAgICAgICBzdGFydDogZWwuc2Nyb2xsVG9wLFxuICAgICAgICAgIGVuZDogZWwuc2Nyb2xsVG9wICsgZWwuY2xpZW50SGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2Nyb2xsU3RhdGUgPSB7XG4gICAgICAgICAgc3RhcnQ6IGVsLnNjcm9sbExlZnQsXG4gICAgICAgICAgZW5kOiBlbC5zY3JvbGxMZWZ0ICsgZWwuY2xpZW50V2lkdGgsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY3JvbGxTdGF0ZVxuICAgIH0sXG5cbiAgICBhcHBseVBhZ2VNb2RlICgpIHtcbiAgICAgIGlmICh0aGlzLnBhZ2VNb2RlKSB7XG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRMaXN0ZW5lcnMgKCkge1xuICAgICAgdGhpcy5saXN0ZW5lclRhcmdldCA9IHRoaXMuZ2V0TGlzdGVuZXJUYXJnZXQoKTtcbiAgICAgIHRoaXMubGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwsIHN1cHBvcnRzUGFzc2l2ZVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICA6IGZhbHNlKTtcbiAgICAgIHRoaXMubGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICAgIH0sXG5cbiAgICByZW1vdmVMaXN0ZW5lcnMgKCkge1xuICAgICAgaWYgKCF0aGlzLmxpc3RlbmVyVGFyZ2V0KSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB0aGlzLmxpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsKTtcbiAgICAgIHRoaXMubGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyVGFyZ2V0ID0gbnVsbDtcbiAgICB9LFxuXG4gICAgc2Nyb2xsVG9JdGVtIChpbmRleCkge1xuICAgICAgbGV0IHNjcm9sbDtcbiAgICAgIGNvbnN0IGdyaWRJdGVtcyA9IHRoaXMuZ3JpZEl0ZW1zIHx8IDE7XG4gICAgICBpZiAodGhpcy5pdGVtU2l6ZSA9PT0gbnVsbCkge1xuICAgICAgICBzY3JvbGwgPSBpbmRleCA+IDAgPyB0aGlzLnNpemVzW2luZGV4IC0gMV0uYWNjdW11bGF0b3IgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2Nyb2xsID0gTWF0aC5mbG9vcihpbmRleCAvIGdyaWRJdGVtcykgKiB0aGlzLml0ZW1TaXplO1xuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxUb1Bvc2l0aW9uKHNjcm9sbCk7XG4gICAgfSxcblxuICAgIHNjcm9sbFRvUG9zaXRpb24gKHBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJ1xuICAgICAgICA/IHsgc2Nyb2xsOiAnc2Nyb2xsVG9wJywgc3RhcnQ6ICd0b3AnIH1cbiAgICAgICAgOiB7IHNjcm9sbDogJ3Njcm9sbExlZnQnLCBzdGFydDogJ2xlZnQnIH07XG5cbiAgICAgIGxldCB2aWV3cG9ydDtcbiAgICAgIGxldCBzY3JvbGxEaXJlY3Rpb247XG4gICAgICBsZXQgc2Nyb2xsRGlzdGFuY2U7XG5cbiAgICAgIGlmICh0aGlzLnBhZ2VNb2RlKSB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWwgPSBnZXRTY3JvbGxQYXJlbnQodGhpcy4kZWwpO1xuICAgICAgICAvLyBIVE1MIGRvZXNuJ3Qgb3ZlcmZsb3cgbGlrZSBvdGhlciBlbGVtZW50c1xuICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB2aWV3cG9ydEVsLnRhZ05hbWUgPT09ICdIVE1MJyA/IDAgOiB2aWV3cG9ydEVsW2RpcmVjdGlvbi5zY3JvbGxdO1xuICAgICAgICBjb25zdCBib3VuZHMgPSB2aWV3cG9ydEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHNjcm9sbGVyID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbGVyUG9zaXRpb24gPSBzY3JvbGxlcltkaXJlY3Rpb24uc3RhcnRdIC0gYm91bmRzW2RpcmVjdGlvbi5zdGFydF07XG5cbiAgICAgICAgdmlld3BvcnQgPSB2aWV3cG9ydEVsO1xuICAgICAgICBzY3JvbGxEaXJlY3Rpb24gPSBkaXJlY3Rpb24uc2Nyb2xsO1xuICAgICAgICBzY3JvbGxEaXN0YW5jZSA9IHBvc2l0aW9uICsgc2Nyb2xsVG9wICsgc2Nyb2xsZXJQb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZXdwb3J0ID0gdGhpcy4kZWw7XG4gICAgICAgIHNjcm9sbERpcmVjdGlvbiA9IGRpcmVjdGlvbi5zY3JvbGw7XG4gICAgICAgIHNjcm9sbERpc3RhbmNlID0gcG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIHZpZXdwb3J0W3Njcm9sbERpcmVjdGlvbl0gPSBzY3JvbGxEaXN0YW5jZTtcbiAgICB9LFxuXG4gICAgaXRlbXNMaW1pdEVycm9yICgpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnSXQgc2VlbXMgdGhlIHNjcm9sbGVyIGVsZW1lbnQgaXNuXFwndCBzY3JvbGxpbmcsIHNvIGl0IHRyaWVzIHRvIHJlbmRlciBhbGwgdGhlIGl0ZW1zIGF0IG9uY2UuJywgJ1Njcm9sbGVyOicsIHRoaXMuJGVsKTtcbiAgICAgICAgY29uc29sZS5sb2coJ01ha2Ugc3VyZSB0aGUgc2Nyb2xsZXIgaGFzIGEgZml4ZWQgaGVpZ2h0IChvciB3aWR0aCkgYW5kIFxcJ292ZXJmbG93LXlcXCcgKG9yIFxcJ292ZXJmbG93LXhcXCcpIHNldCB0byBcXCdhdXRvXFwnIHNvIGl0IGNhbiBzY3JvbGwgY29ycmVjdGx5IGFuZCBvbmx5IHJlbmRlciB0aGUgaXRlbXMgdmlzaWJsZSBpbiB0aGUgc2Nyb2xsIHZpZXdwb3J0LicpO1xuICAgICAgfSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlbmRlcmVkIGl0ZW1zIGxpbWl0IHJlYWNoZWQnKVxuICAgIH0sXG5cbiAgICBzb3J0Vmlld3MgKCkge1xuICAgICAgdGhpcy5wb29sLnNvcnQoKHZpZXdBLCB2aWV3QikgPT4gdmlld0EubnIuaW5kZXggLSB2aWV3Qi5uci5pbmRleCk7XG4gICAgfSxcbiAgfSxcbn07XG5cbmNvbnN0IF9ob2lzdGVkXzEgPSB7XG4gIGtleTogMCxcbiAgcmVmOiBcImJlZm9yZVwiLFxuICBjbGFzczogXCJ2dWUtcmVjeWNsZS1zY3JvbGxlcl9fc2xvdFwiXG59O1xuY29uc3QgX2hvaXN0ZWRfMiA9IHtcbiAga2V5OiAxLFxuICByZWY6IFwiYWZ0ZXJcIixcbiAgY2xhc3M6IFwidnVlLXJlY3ljbGUtc2Nyb2xsZXJfX3Nsb3RcIlxufTtcblxuZnVuY3Rpb24gcmVuZGVyJDEoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIGNvbnN0IF9jb21wb25lbnRfUmVzaXplT2JzZXJ2ZXIgPSByZXNvbHZlQ29tcG9uZW50KFwiUmVzaXplT2JzZXJ2ZXJcIik7XG4gIGNvbnN0IF9kaXJlY3RpdmVfb2JzZXJ2ZV92aXNpYmlsaXR5ID0gcmVzb2x2ZURpcmVjdGl2ZShcIm9ic2VydmUtdmlzaWJpbGl0eVwiKTtcblxuICByZXR1cm4gd2l0aERpcmVjdGl2ZXMoKG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwge1xuICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhbXCJ2dWUtcmVjeWNsZS1zY3JvbGxlclwiLCB7XG4gICAgICByZWFkeTogJGRhdGEucmVhZHksXG4gICAgICAncGFnZS1tb2RlJzogJHByb3BzLnBhZ2VNb2RlLFxuICAgICAgW2BkaXJlY3Rpb24tJHtfY3R4LmRpcmVjdGlvbn1gXTogdHJ1ZSxcbiAgICB9XSksXG4gICAgb25TY3JvbGxQYXNzaXZlOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiAoJG9wdGlvbnMuaGFuZGxlU2Nyb2xsICYmICRvcHRpb25zLmhhbmRsZVNjcm9sbCguLi5hcmdzKSkpXG4gIH0sIFtcbiAgICAoX2N0eC4kc2xvdHMuYmVmb3JlKVxuICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8xLCBbXG4gICAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJiZWZvcmVcIilcbiAgICAgICAgXSwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pKVxuICAgICAgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgIChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2socmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoJHByb3BzLmxpc3RUYWcpLCB7XG4gICAgICByZWY6IFwid3JhcHBlclwiLFxuICAgICAgc3R5bGU6IG5vcm1hbGl6ZVN0eWxlKHsgW19jdHguZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJ21pbkhlaWdodCcgOiAnbWluV2lkdGgnXTogJGRhdGEudG90YWxTaXplICsgJ3B4JyB9KSxcbiAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyhbXCJ2dWUtcmVjeWNsZS1zY3JvbGxlcl9faXRlbS13cmFwcGVyXCIsICRwcm9wcy5saXN0Q2xhc3NdKVxuICAgIH0sIHtcbiAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAob3BlbkJsb2NrKHRydWUpLCBjcmVhdGVFbGVtZW50QmxvY2soRnJhZ21lbnQsIG51bGwsIHJlbmRlckxpc3QoJGRhdGEucG9vbCwgKHZpZXcpID0+IHtcbiAgICAgICAgICByZXR1cm4gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhyZXNvbHZlRHluYW1pY0NvbXBvbmVudCgkcHJvcHMuaXRlbVRhZyksIG1lcmdlUHJvcHMoe1xuICAgICAgICAgICAga2V5OiB2aWV3Lm5yLmlkLFxuICAgICAgICAgICAgc3R5bGU6ICRkYXRhLnJlYWR5ID8ge1xuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSR7X2N0eC5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAnWScgOiAnWCd9KCR7dmlldy5wb3NpdGlvbn1weCkgdHJhbnNsYXRlJHtfY3R4LmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdYJyA6ICdZJ30oJHt2aWV3Lm9mZnNldH1weClgLFxuICAgICAgICAgIHdpZHRoOiAkcHJvcHMuZ3JpZEl0ZW1zID8gYCR7X2N0eC5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAkcHJvcHMuaXRlbVNlY29uZGFyeVNpemUgfHwgJHByb3BzLml0ZW1TaXplIDogJHByb3BzLml0ZW1TaXplfXB4YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBoZWlnaHQ6ICRwcm9wcy5ncmlkSXRlbXMgPyBgJHtfY3R4LmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJHByb3BzLml0ZW1TZWNvbmRhcnlTaXplIHx8ICRwcm9wcy5pdGVtU2l6ZSA6ICRwcm9wcy5pdGVtU2l6ZX1weGAgOiB1bmRlZmluZWQsXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgICAgY2xhc3M6IFtcInZ1ZS1yZWN5Y2xlLXNjcm9sbGVyX19pdGVtLXZpZXdcIiwgW1xuICAgICAgICAgICRwcm9wcy5pdGVtQ2xhc3MsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaG92ZXI6ICEkcHJvcHMuc2tpcEhvdmVyICYmICRkYXRhLmhvdmVyS2V5ID09PSB2aWV3Lm5yLmtleVxuICAgICAgICAgIH0sXG4gICAgICAgIF1dXG4gICAgICAgICAgfSwgdG9IYW5kbGVycygkcHJvcHMuc2tpcEhvdmVyID8ge30gOiB7XG4gICAgICAgICAgbW91c2VlbnRlcjogKCkgPT4geyAkZGF0YS5ob3ZlcktleSA9IHZpZXcubnIua2V5OyB9LFxuICAgICAgICAgIG1vdXNlbGVhdmU6ICgpID0+IHsgJGRhdGEuaG92ZXJLZXkgPSBudWxsOyB9LFxuICAgICAgICB9KSksIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIiwge1xuICAgICAgICAgICAgICAgIGl0ZW06IHZpZXcuaXRlbSxcbiAgICAgICAgICAgICAgICBpbmRleDogdmlldy5uci5pbmRleCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IHZpZXcubnIudXNlZFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi9cbiAgICAgICAgICB9LCAxMDQwIC8qIEZVTExfUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFtcInN0eWxlXCIsIFwiY2xhc3NcIl0pKVxuICAgICAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSksXG4gICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZW1wdHlcIilcbiAgICAgIF0pLFxuICAgICAgXzogMyAvKiBGT1JXQVJERUQgKi9cbiAgICB9LCA4IC8qIFBST1BTICovLCBbXCJzdHlsZVwiLCBcImNsYXNzXCJdKSksXG4gICAgKF9jdHguJHNsb3RzLmFmdGVyKVxuICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcImRpdlwiLCBfaG9pc3RlZF8yLCBbXG4gICAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJhZnRlclwiKVxuICAgICAgICBdLCA1MTIgLyogTkVFRF9QQVRDSCAqLykpXG4gICAgICA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9SZXNpemVPYnNlcnZlciwgeyBvbk5vdGlmeTogJG9wdGlvbnMuaGFuZGxlUmVzaXplIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFtcIm9uTm90aWZ5XCJdKVxuICBdLCAzNCAvKiBDTEFTUywgSFlEUkFURV9FVkVOVFMgKi8pKSwgW1xuICAgIFtfZGlyZWN0aXZlX29ic2VydmVfdmlzaWJpbGl0eSwgJG9wdGlvbnMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZV1cbiAgXSlcbn1cblxuc2NyaXB0JDIucmVuZGVyID0gcmVuZGVyJDE7XG5zY3JpcHQkMi5fX2ZpbGUgPSBcInNyYy9jb21wb25lbnRzL1JlY3ljbGVTY3JvbGxlci52dWVcIjtcblxudmFyIHNjcmlwdCQxID0ge1xuICBuYW1lOiAnRHluYW1pY1Njcm9sbGVyJyxcblxuICBjb21wb25lbnRzOiB7XG4gICAgUmVjeWNsZVNjcm9sbGVyOiBzY3JpcHQkMixcbiAgfSxcblxuICBwcm92aWRlICgpIHtcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy4kX3Jlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyaWVzKSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCAmJiBlbnRyeS50YXJnZXQuJF92c19vblJlc2l6ZSkge1xuICAgICAgICAgICAgICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5LmJvcmRlckJveFNpemUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlclNpemUgPSBlbnRyeS5ib3JkZXJCb3hTaXplWzBdO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gcmVzaXplT2JzZXJ2ZXJTaXplLmlubGluZVNpemU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gcmVzaXplT2JzZXJ2ZXJTaXplLmJsb2NrU2l6ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAVE9ETyByZW1vdmUgd2hlbiBjb250ZW50UmVjdCBpcyBkZXByZWNhdGVkXG4gICAgICAgICAgICAgICAgd2lkdGggPSBlbnRyeS5jb250ZW50UmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZW50cnkudGFyZ2V0LiRfdnNfb25SZXNpemUoZW50cnkudGFyZ2V0LiRfdnNfaWQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdnNjcm9sbERhdGE6IHRoaXMudnNjcm9sbERhdGEsXG4gICAgICB2c2Nyb2xsUGFyZW50OiB0aGlzLFxuICAgICAgdnNjcm9sbFJlc2l6ZU9ic2VydmVyOiB0aGlzLiRfcmVzaXplT2JzZXJ2ZXIsXG4gICAgfVxuICB9LFxuXG4gIGluaGVyaXRBdHRyczogZmFsc2UsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi5wcm9wcyxcblxuICAgIG1pbkl0ZW1TaXplOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgfSxcblxuICBlbWl0czogW1xuICAgICdyZXNpemUnLFxuICAgICd2aXNpYmxlJyxcbiAgXSxcblxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdnNjcm9sbERhdGE6IHtcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBzaXplczoge30sXG4gICAgICAgIGtleUZpZWxkOiB0aGlzLmtleUZpZWxkLFxuICAgICAgICBzaW1wbGVBcnJheTogZmFsc2UsXG4gICAgICB9LFxuICAgIH1cbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIHNpbXBsZUFycmF5LFxuXG4gICAgaXRlbXNXaXRoU2l6ZSAoKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgIGNvbnN0IHsgaXRlbXMsIGtleUZpZWxkLCBzaW1wbGVBcnJheSB9ID0gdGhpcztcbiAgICAgIGNvbnN0IHNpemVzID0gdGhpcy52c2Nyb2xsRGF0YS5zaXplcztcbiAgICAgIGNvbnN0IGwgPSBpdGVtcy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIGNvbnN0IGlkID0gc2ltcGxlQXJyYXkgPyBpIDogaXRlbVtrZXlGaWVsZF07XG4gICAgICAgIGxldCBzaXplID0gc2l6ZXNbaWRdO1xuICAgICAgICBpZiAodHlwZW9mIHNpemUgPT09ICd1bmRlZmluZWQnICYmICF0aGlzLiRfdW5kZWZpbmVkTWFwW2lkXSkge1xuICAgICAgICAgIHNpemUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICBpdGVtLFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIHNpemUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0sXG4gIH0sXG5cbiAgd2F0Y2g6IHtcbiAgICBpdGVtcyAoKSB7XG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfSxcblxuICAgIHNpbXBsZUFycmF5OiB7XG4gICAgICBoYW5kbGVyICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZzY3JvbGxEYXRhLnNpbXBsZUFycmF5ID0gdmFsdWU7XG4gICAgICB9LFxuICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuICAgIH0sXG5cbiAgICBkaXJlY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKHRydWUpO1xuICAgIH0sXG5cbiAgICBpdGVtc1dpdGhTaXplIChuZXh0LCBwcmV2KSB7XG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSB0aGlzLiRlbC5zY3JvbGxUb3A7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBkaWZmIGJldHdlZW4gcHJldiBhbmQgbmV4dCBzaXplc1xuICAgICAgLy8gb3ZlciBjdXJyZW50IHNjcm9sbCB0b3AuIFRoZW4gYWRkIGl0IHRvIHNjcm9sbFRvcCB0b1xuICAgICAgLy8gYXZvaWQganVtcGluZyB0aGUgY29udGVudHMgdGhhdCB0aGUgdXNlciBpcyBzZWVpbmcuXG4gICAgICBsZXQgcHJldkFjdGl2ZVRvcCA9IDA7IGxldCBhY3RpdmVUb3AgPSAwO1xuICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5taW4obmV4dC5sZW5ndGgsIHByZXYubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByZXZBY3RpdmVUb3AgPj0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBwcmV2QWN0aXZlVG9wICs9IHByZXZbaV0uc2l6ZSB8fCB0aGlzLm1pbkl0ZW1TaXplO1xuICAgICAgICBhY3RpdmVUb3AgKz0gbmV4dFtpXS5zaXplIHx8IHRoaXMubWluSXRlbVNpemU7XG4gICAgICB9XG4gICAgICBjb25zdCBvZmZzZXQgPSBhY3RpdmVUb3AgLSBwcmV2QWN0aXZlVG9wO1xuXG4gICAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB0aGlzLiRlbC5zY3JvbGxUb3AgKz0gb2Zmc2V0O1xuICAgIH0sXG4gIH0sXG5cbiAgYmVmb3JlQ3JlYXRlICgpIHtcbiAgICB0aGlzLiRfdXBkYXRlcyA9IFtdO1xuICAgIHRoaXMuJF91bmRlZmluZWRTaXplcyA9IDA7XG4gICAgdGhpcy4kX3VuZGVmaW5lZE1hcCA9IHt9O1xuICAgIHRoaXMuJF9ldmVudHMgPSBtaXR0KCk7XG4gIH0sXG5cbiAgYWN0aXZhdGVkICgpIHtcbiAgICB0aGlzLnZzY3JvbGxEYXRhLmFjdGl2ZSA9IHRydWU7XG4gIH0sXG5cbiAgZGVhY3RpdmF0ZWQgKCkge1xuICAgIHRoaXMudnNjcm9sbERhdGEuYWN0aXZlID0gZmFsc2U7XG4gIH0sXG5cbiAgdW5tb3VudGVkICgpIHtcbiAgICB0aGlzLiRfZXZlbnRzLmFsbC5jbGVhcigpO1xuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBvblNjcm9sbGVyUmVzaXplICgpIHtcbiAgICAgIGNvbnN0IHNjcm9sbGVyID0gdGhpcy4kcmVmcy5zY3JvbGxlcjtcbiAgICAgIGlmIChzY3JvbGxlcikge1xuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLiRlbWl0KCdyZXNpemUnKTtcbiAgICB9LFxuXG4gICAgb25TY3JvbGxlclZpc2libGUgKCkge1xuICAgICAgdGhpcy4kX2V2ZW50cy5lbWl0KCd2c2Nyb2xsOnVwZGF0ZScsIHsgZm9yY2U6IGZhbHNlIH0pO1xuICAgICAgdGhpcy4kZW1pdCgndmlzaWJsZScpO1xuICAgIH0sXG5cbiAgICBmb3JjZVVwZGF0ZSAoY2xlYXIgPSBmYWxzZSkge1xuICAgICAgaWYgKGNsZWFyIHx8IHRoaXMuc2ltcGxlQXJyYXkpIHtcbiAgICAgICAgdGhpcy52c2Nyb2xsRGF0YS5zaXplcyA9IHt9O1xuICAgICAgfVxuICAgICAgdGhpcy4kX2V2ZW50cy5lbWl0KCd2c2Nyb2xsOnVwZGF0ZScsIHsgZm9yY2U6IHRydWUgfSk7XG4gICAgfSxcblxuICAgIHNjcm9sbFRvSXRlbSAoaW5kZXgpIHtcbiAgICAgIGNvbnN0IHNjcm9sbGVyID0gdGhpcy4kcmVmcy5zY3JvbGxlcjtcbiAgICAgIGlmIChzY3JvbGxlcikgc2Nyb2xsZXIuc2Nyb2xsVG9JdGVtKGluZGV4KTtcbiAgICB9LFxuXG4gICAgZ2V0SXRlbVNpemUgKGl0ZW0sIGluZGV4ID0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBpZCA9IHRoaXMuc2ltcGxlQXJyYXkgPyAoaW5kZXggIT0gbnVsbCA/IGluZGV4IDogdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pKSA6IGl0ZW1bdGhpcy5rZXlGaWVsZF07XG4gICAgICByZXR1cm4gdGhpcy52c2Nyb2xsRGF0YS5zaXplc1tpZF0gfHwgMFxuICAgIH0sXG5cbiAgICBzY3JvbGxUb0JvdHRvbSAoKSB7XG4gICAgICBpZiAodGhpcy4kX3Njcm9sbGluZ1RvQm90dG9tKSByZXR1cm5cbiAgICAgIHRoaXMuJF9zY3JvbGxpbmdUb0JvdHRvbSA9IHRydWU7XG4gICAgICBjb25zdCBlbCA9IHRoaXMuJGVsO1xuICAgICAgLy8gSXRlbSBpcyBpbnNlcnRlZCB0byB0aGUgRE9NXG4gICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodCArIDUwMDA7XG4gICAgICAgIC8vIEl0ZW0gc2l6ZXMgYXJlIGNvbXB1dGVkXG4gICAgICAgIGNvbnN0IGNiID0gKCkgPT4ge1xuICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodCArIDUwMDA7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIGVsLnNjcm9sbFRvcCA9IGVsLnNjcm9sbEhlaWdodCArIDUwMDA7XG4gICAgICAgICAgICBpZiAodGhpcy4kX3VuZGVmaW5lZFNpemVzID09PSAwKSB7XG4gICAgICAgICAgICAgIHRoaXMuJF9zY3JvbGxpbmdUb0JvdHRvbSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG59O1xuXG5mdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIGNvbnN0IF9jb21wb25lbnRfUmVjeWNsZVNjcm9sbGVyID0gcmVzb2x2ZUNvbXBvbmVudChcIlJlY3ljbGVTY3JvbGxlclwiKTtcblxuICByZXR1cm4gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhfY29tcG9uZW50X1JlY3ljbGVTY3JvbGxlciwgbWVyZ2VQcm9wcyh7XG4gICAgcmVmOiBcInNjcm9sbGVyXCIsXG4gICAgaXRlbXM6ICRvcHRpb25zLml0ZW1zV2l0aFNpemUsXG4gICAgXCJtaW4taXRlbS1zaXplXCI6ICRwcm9wcy5taW5JdGVtU2l6ZSxcbiAgICBkaXJlY3Rpb246IF9jdHguZGlyZWN0aW9uLFxuICAgIFwia2V5LWZpZWxkXCI6IFwiaWRcIixcbiAgICBcImxpc3QtdGFnXCI6IF9jdHgubGlzdFRhZyxcbiAgICBcIml0ZW0tdGFnXCI6IF9jdHguaXRlbVRhZ1xuICB9LCBfY3R4LiRhdHRycywge1xuICAgIG9uUmVzaXplOiAkb3B0aW9ucy5vblNjcm9sbGVyUmVzaXplLFxuICAgIG9uVmlzaWJsZTogJG9wdGlvbnMub25TY3JvbGxlclZpc2libGVcbiAgfSksIHtcbiAgICBkZWZhdWx0OiB3aXRoQ3R4KCh7IGl0ZW06IGl0ZW1XaXRoU2l6ZSwgaW5kZXgsIGFjdGl2ZSB9KSA9PiBbXG4gICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIiwgbm9ybWFsaXplUHJvcHMoZ3VhcmRSZWFjdGl2ZVByb3BzKHtcbiAgICAgICAgICBpdGVtOiBpdGVtV2l0aFNpemUuaXRlbSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBhY3RpdmUsXG4gICAgICAgICAgaXRlbVdpdGhTaXplXG4gICAgICAgIH0pKSlcbiAgICBdKSxcbiAgICBiZWZvcmU6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJiZWZvcmVcIilcbiAgICBdKSxcbiAgICBhZnRlcjogd2l0aEN0eCgoKSA9PiBbXG4gICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImFmdGVyXCIpXG4gICAgXSksXG4gICAgZW1wdHk6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJlbXB0eVwiKVxuICAgIF0pLFxuICAgIF86IDMgLyogRk9SV0FSREVEICovXG4gIH0sIDE2IC8qIEZVTExfUFJPUFMgKi8sIFtcIml0ZW1zXCIsIFwibWluLWl0ZW0tc2l6ZVwiLCBcImRpcmVjdGlvblwiLCBcImxpc3QtdGFnXCIsIFwiaXRlbS10YWdcIiwgXCJvblJlc2l6ZVwiLCBcIm9uVmlzaWJsZVwiXSkpXG59XG5cbnNjcmlwdCQxLnJlbmRlciA9IHJlbmRlcjtcbnNjcmlwdCQxLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvRHluYW1pY1Njcm9sbGVyLnZ1ZVwiO1xuXG52YXIgc2NyaXB0ID0ge1xuICBuYW1lOiAnRHluYW1pY1Njcm9sbGVySXRlbScsXG5cbiAgaW5qZWN0OiBbXG4gICAgJ3ZzY3JvbGxEYXRhJyxcbiAgICAndnNjcm9sbFBhcmVudCcsXG4gICAgJ3ZzY3JvbGxSZXNpemVPYnNlcnZlcicsXG4gIF0sXG5cbiAgcHJvcHM6IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL3JlcXVpcmUtcHJvcC10eXBlc1xuICAgIGl0ZW06IHtcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG5cbiAgICB3YXRjaERhdGE6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSB2aWV3IGlzIGFjdGl2ZWx5IHVzZWQgdG8gZGlzcGxheSBhbiBpdGVtLlxuICAgICAqL1xuICAgIGFjdGl2ZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG5cbiAgICBpbmRleDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogdW5kZWZpbmVkLFxuICAgIH0sXG5cbiAgICBzaXplRGVwZW5kZW5jaWVzOiB7XG4gICAgICB0eXBlOiBbQXJyYXksIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBudWxsLFxuICAgIH0sXG5cbiAgICBlbWl0UmVzaXplOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcblxuICAgIHRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2RpdicsXG4gICAgfSxcbiAgfSxcblxuICBlbWl0czogW1xuICAgICdyZXNpemUnLFxuICBdLFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgaWQgKCkge1xuICAgICAgaWYgKHRoaXMudnNjcm9sbERhdGEuc2ltcGxlQXJyYXkpIHJldHVybiB0aGlzLmluZGV4XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICBpZiAodGhpcy52c2Nyb2xsRGF0YS5rZXlGaWVsZCBpbiB0aGlzLml0ZW0pIHJldHVybiB0aGlzLml0ZW1bdGhpcy52c2Nyb2xsRGF0YS5rZXlGaWVsZF1cbiAgICAgIHRocm93IG5ldyBFcnJvcihga2V5RmllbGQgJyR7dGhpcy52c2Nyb2xsRGF0YS5rZXlGaWVsZH0nIG5vdCBmb3VuZCBpbiB5b3VyIGl0ZW0uIFlvdSBzaG91bGQgc2V0IGEgdmFsaWQga2V5RmllbGQgcHJvcCBvbiB5b3VyIFNjcm9sbGVyYClcbiAgICB9LFxuXG4gICAgc2l6ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52c2Nyb2xsRGF0YS5zaXplc1t0aGlzLmlkXSB8fCAwXG4gICAgfSxcblxuICAgIGZpbmFsQWN0aXZlICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZSAmJiB0aGlzLnZzY3JvbGxEYXRhLmFjdGl2ZVxuICAgIH0sXG4gIH0sXG5cbiAgd2F0Y2g6IHtcbiAgICB3YXRjaERhdGE6ICd1cGRhdGVXYXRjaERhdGEnLFxuXG4gICAgaWQgKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgdGhpcy4kZWwuJF92c19pZCA9IHRoaXMuaWQ7XG4gICAgICBpZiAoIXRoaXMuc2l6ZSkge1xuICAgICAgICB0aGlzLm9uRGF0YVVwZGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy4kX3NpemVPYnNlcnZlZCkge1xuICAgICAgICAvLyBJbiBjYXNlIHRoZSBvbGQgaXRlbSBoYWQgdGhlIHNhbWUgc2l6ZSwgaXQgd29uJ3QgdHJpZ2dlciB0aGUgUmVzaXplT2JzZXJ2ZXJcbiAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHJldXNpbmcgdGhlIHNhbWUgRE9NIG5vZGVcbiAgICAgICAgY29uc3Qgb2xkU2l6ZSA9IHRoaXMudnNjcm9sbERhdGEuc2l6ZXNbb2xkVmFsdWVdO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy52c2Nyb2xsRGF0YS5zaXplc1t2YWx1ZV07XG4gICAgICAgIGlmIChvbGRTaXplICE9IG51bGwgJiYgb2xkU2l6ZSAhPT0gc2l6ZSkge1xuICAgICAgICAgIHRoaXMuYXBwbHlTaXplKG9sZFNpemUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZpbmFsQWN0aXZlICh2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLnNpemUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRNYXBbdGhpcy5pZF0pIHtcbiAgICAgICAgICAgIHRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZFNpemVzKys7XG4gICAgICAgICAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRNYXBbdGhpcy5pZF0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy52c2Nyb2xsUGFyZW50LiRfdW5kZWZpbmVkTWFwW3RoaXMuaWRdKSB7XG4gICAgICAgICAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRTaXplcy0tO1xuICAgICAgICAgICAgdGhpcy52c2Nyb2xsUGFyZW50LiRfdW5kZWZpbmVkTWFwW3RoaXMuaWRdID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZzY3JvbGxSZXNpemVPYnNlcnZlcikge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICB0aGlzLm9ic2VydmVTaXplKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy51bm9ic2VydmVTaXplKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdGhpcy4kX3BlbmRpbmdWU2Nyb2xsVXBkYXRlID09PSB0aGlzLmlkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgY3JlYXRlZCAoKSB7XG4gICAgaWYgKHRoaXMuJGlzU2VydmVyKSByZXR1cm5cblxuICAgIHRoaXMuJF9mb3JjZU5leHRWU2Nyb2xsVXBkYXRlID0gbnVsbDtcbiAgICB0aGlzLnVwZGF0ZVdhdGNoRGF0YSgpO1xuXG4gICAgaWYgKCF0aGlzLnZzY3JvbGxSZXNpemVPYnNlcnZlcikge1xuICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuc2l6ZURlcGVuZGVuY2llcykge1xuICAgICAgICB0aGlzLiR3YXRjaCgoKSA9PiB0aGlzLnNpemVEZXBlbmRlbmNpZXNba10sIHRoaXMub25EYXRhVXBkYXRlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy52c2Nyb2xsUGFyZW50LiRfZXZlbnRzLm9uKCd2c2Nyb2xsOnVwZGF0ZScsIHRoaXMub25Wc2Nyb2xsVXBkYXRlKTtcbiAgICB9XG4gIH0sXG5cbiAgbW91bnRlZCAoKSB7XG4gICAgaWYgKHRoaXMuZmluYWxBY3RpdmUpIHtcbiAgICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgICAgdGhpcy5vYnNlcnZlU2l6ZSgpO1xuICAgIH1cbiAgfSxcblxuICBiZWZvcmVVbm1vdW50ICgpIHtcbiAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF9ldmVudHMub2ZmKCd2c2Nyb2xsOnVwZGF0ZScsIHRoaXMub25Wc2Nyb2xsVXBkYXRlKTtcbiAgICB0aGlzLnVub2JzZXJ2ZVNpemUoKTtcbiAgfSxcblxuICBtZXRob2RzOiB7XG4gICAgdXBkYXRlU2l6ZSAoKSB7XG4gICAgICBpZiAodGhpcy5maW5hbEFjdGl2ZSkge1xuICAgICAgICBpZiAodGhpcy4kX3BlbmRpbmdTaXplVXBkYXRlICE9PSB0aGlzLmlkKSB7XG4gICAgICAgICAgdGhpcy4kX3BlbmRpbmdTaXplVXBkYXRlID0gdGhpcy5pZDtcbiAgICAgICAgICB0aGlzLiRfZm9yY2VOZXh0VlNjcm9sbFVwZGF0ZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy4kX3BlbmRpbmdWU2Nyb2xsVXBkYXRlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmNvbXB1dGVTaXplKHRoaXMuaWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRfZm9yY2VOZXh0VlNjcm9sbFVwZGF0ZSA9IHRoaXMuaWQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZVdhdGNoRGF0YSAoKSB7XG4gICAgICBpZiAodGhpcy53YXRjaERhdGEgJiYgIXRoaXMudnNjcm9sbFJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuJF93YXRjaERhdGEgPSB0aGlzLiR3YXRjaCgnaXRlbScsICgpID0+IHtcbiAgICAgICAgICB0aGlzLm9uRGF0YVVwZGF0ZSgpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgZGVlcDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuJF93YXRjaERhdGEpIHtcbiAgICAgICAgdGhpcy4kX3dhdGNoRGF0YSgpO1xuICAgICAgICB0aGlzLiRfd2F0Y2hEYXRhID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb25Wc2Nyb2xsVXBkYXRlICh7IGZvcmNlIH0pIHtcbiAgICAgIC8vIElmIG5vdCBhY3RpdmUsIHNlY2hlZHVsZSBhIHNpemUgdXBkYXRlIHdoZW4gaXQgYmVjb21lcyBhY3RpdmVcbiAgICAgIGlmICghdGhpcy5maW5hbEFjdGl2ZSAmJiBmb3JjZSkge1xuICAgICAgICB0aGlzLiRfcGVuZGluZ1ZTY3JvbGxVcGRhdGUgPSB0aGlzLmlkO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy4kX2ZvcmNlTmV4dFZTY3JvbGxVcGRhdGUgPT09IHRoaXMuaWQgfHwgZm9yY2UgfHwgIXRoaXMuc2l6ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZVNpemUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgb25EYXRhVXBkYXRlICgpIHtcbiAgICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuICAgIH0sXG5cbiAgICBjb21wdXRlU2l6ZSAoaWQpIHtcbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaWQgPT09IGlkKSB7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLiRlbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgdGhpcy5hcHBseVdpZHRoSGVpZ2h0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJF9wZW5kaW5nU2l6ZVVwZGF0ZSA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgYXBwbHlXaWR0aEhlaWdodCAod2lkdGgsIGhlaWdodCkge1xuICAgICAgY29uc3Qgc2l6ZSA9IH5+KHRoaXMudnNjcm9sbFBhcmVudC5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyBoZWlnaHQgOiB3aWR0aCk7XG4gICAgICBpZiAoc2l6ZSAmJiB0aGlzLnNpemUgIT09IHNpemUpIHtcbiAgICAgICAgdGhpcy5hcHBseVNpemUoc2l6ZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFwcGx5U2l6ZSAoc2l6ZSkge1xuICAgICAgaWYgKHRoaXMudnNjcm9sbFBhcmVudC4kX3VuZGVmaW5lZE1hcFt0aGlzLmlkXSkge1xuICAgICAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRTaXplcy0tO1xuICAgICAgICB0aGlzLnZzY3JvbGxQYXJlbnQuJF91bmRlZmluZWRNYXBbdGhpcy5pZF0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLnZzY3JvbGxEYXRhLnNpemVzW3RoaXMuaWRdID0gc2l6ZTtcbiAgICAgIGlmICh0aGlzLmVtaXRSZXNpemUpIHRoaXMuJGVtaXQoJ3Jlc2l6ZScsIHRoaXMuaWQpO1xuICAgIH0sXG5cbiAgICBvYnNlcnZlU2l6ZSAoKSB7XG4gICAgICBpZiAoIXRoaXMudnNjcm9sbFJlc2l6ZU9ic2VydmVyKSByZXR1cm5cbiAgICAgIGlmICh0aGlzLiRfc2l6ZU9ic2VydmVkKSByZXR1cm5cbiAgICAgIHRoaXMudnNjcm9sbFJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy4kZWwpO1xuICAgICAgdGhpcy4kZWwuJF92c19pZCA9IHRoaXMuaWQ7XG4gICAgICB0aGlzLiRlbC4kX3ZzX29uUmVzaXplID0gdGhpcy5vblJlc2l6ZTtcbiAgICAgIHRoaXMuJF9zaXplT2JzZXJ2ZWQgPSB0cnVlO1xuICAgIH0sXG5cbiAgICB1bm9ic2VydmVTaXplICgpIHtcbiAgICAgIGlmICghdGhpcy52c2Nyb2xsUmVzaXplT2JzZXJ2ZXIpIHJldHVyblxuICAgICAgaWYgKCF0aGlzLiRfc2l6ZU9ic2VydmVkKSByZXR1cm5cbiAgICAgIHRoaXMudnNjcm9sbFJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLiRlbCk7XG4gICAgICB0aGlzLiRlbC4kX3ZzX29uUmVzaXplID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy4kX3NpemVPYnNlcnZlZCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICBvblJlc2l6ZSAoaWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIGlmICh0aGlzLmlkID09PSBpZCkge1xuICAgICAgICB0aGlzLmFwcGx5V2lkdGhIZWlnaHQod2lkdGgsIGhlaWdodCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiBoKHRoaXMudGFnLCB0aGlzLiRzbG90cy5kZWZhdWx0KCkpXG4gIH0sXG59O1xuXG5zY3JpcHQuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9EeW5hbWljU2Nyb2xsZXJJdGVtLnZ1ZVwiO1xuXG5mdW5jdGlvbiBJZFN0YXRlICgpIHtcbiAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgIF9yZWYkaWRQcm9wID0gX3JlZi5pZFByb3AsXG4gICAgaWRQcm9wID0gX3JlZiRpZFByb3AgPT09IHZvaWQgMCA/IGZ1bmN0aW9uICh2bSkge1xuICAgICAgcmV0dXJuIHZtLml0ZW0uaWQ7XG4gICAgfSA6IF9yZWYkaWRQcm9wO1xuICB2YXIgc3RvcmUgPSByZWFjdGl2ZSh7fSk7XG5cbiAgLy8gQHZ1ZS9jb21wb25lbnRcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWRTdGF0ZTogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy4kX2lkID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgaWRQcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuJF9nZXRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gaWRQcm9wLmNhbGwoX3RoaXMsIF90aGlzKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJF9nZXRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXNbaWRQcm9wXTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJHdhdGNoKHRoaXMuJF9nZXRJZCwge1xuICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyLiRfaWQgPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuJF91cGRhdGVJZFN0YXRlKCk7XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuJF91cGRhdGVJZFN0YXRlKCk7XG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAvKipcbiAgICAgICAqIEluaXRpYWxpemUgYW4gaWRTdGF0ZVxuICAgICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBpZCBVbmlxdWUgaWQgZm9yIHRoZSBkYXRhXG4gICAgICAgKi8kX2lkU3RhdGVJbml0OiBmdW5jdGlvbiAkX2lkU3RhdGVJbml0KGlkKSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy4kb3B0aW9ucy5pZFN0YXRlO1xuICAgICAgICBpZiAodHlwZW9mIGZhY3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGZhY3RvcnkuY2FsbCh0aGlzLCB0aGlzKTtcbiAgICAgICAgICBzdG9yZVtpZF0gPSBkYXRhO1xuICAgICAgICAgIHRoaXMuJF9pZCA9IGlkO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW21peGluIElkU3RhdGVdIE1pc3NpbmcgYGlkU3RhdGVgIGZ1bmN0aW9uIG9uIGNvbXBvbmVudCBkZWZpbml0aW9uLicpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBFbnN1cmUgaWRTdGF0ZSBpcyBjcmVhdGVkIGFuZCB1cC10by1kYXRlXG4gICAgICAgKi8kX3VwZGF0ZUlkU3RhdGU6IGZ1bmN0aW9uICRfdXBkYXRlSWRTdGF0ZSgpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy4kX2dldElkKCk7XG4gICAgICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gaWQgZm91bmQgZm9yIElkU3RhdGUgd2l0aCBpZFByb3A6ICdcIi5jb25jYXQoaWRQcm9wLCBcIicuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT09IHRoaXMuJF9pZCkge1xuICAgICAgICAgIGlmICghc3RvcmVbaWRdKSB7XG4gICAgICAgICAgICB0aGlzLiRfaWRTdGF0ZUluaXQoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmlkU3RhdGUgPSBzdG9yZVtpZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50cyhhcHAsIHByZWZpeCkge1xuICBhcHAuY29tcG9uZW50KFwiXCIuY29uY2F0KHByZWZpeCwgXCJyZWN5Y2xlLXNjcm9sbGVyXCIpLCBzY3JpcHQkMik7XG4gIGFwcC5jb21wb25lbnQoXCJcIi5jb25jYXQocHJlZml4LCBcIlJlY3ljbGVTY3JvbGxlclwiKSwgc2NyaXB0JDIpO1xuICBhcHAuY29tcG9uZW50KFwiXCIuY29uY2F0KHByZWZpeCwgXCJkeW5hbWljLXNjcm9sbGVyXCIpLCBzY3JpcHQkMSk7XG4gIGFwcC5jb21wb25lbnQoXCJcIi5jb25jYXQocHJlZml4LCBcIkR5bmFtaWNTY3JvbGxlclwiKSwgc2NyaXB0JDEpO1xuICBhcHAuY29tcG9uZW50KFwiXCIuY29uY2F0KHByZWZpeCwgXCJkeW5hbWljLXNjcm9sbGVyLWl0ZW1cIiksIHNjcmlwdCk7XG4gIGFwcC5jb21wb25lbnQoXCJcIi5jb25jYXQocHJlZml4LCBcIkR5bmFtaWNTY3JvbGxlckl0ZW1cIiksIHNjcmlwdCk7XG59XG52YXIgcGx1Z2luID0ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmVyc2lvbjogXCIyLjAuMC1iZXRhLjhcIixcbiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChhcHAsIG9wdGlvbnMpIHtcbiAgICB2YXIgZmluYWxPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgaW5zdGFsbENvbXBvbmVudHM6IHRydWUsXG4gICAgICBjb21wb25lbnRzUHJlZml4OiAnJ1xuICAgIH0sIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIGtleSBpbiBmaW5hbE9wdGlvbnMpIHtcbiAgICAgIGlmICh0eXBlb2YgZmluYWxPcHRpb25zW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbmZpZ1trZXldID0gZmluYWxPcHRpb25zW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaW5hbE9wdGlvbnMuaW5zdGFsbENvbXBvbmVudHMpIHtcbiAgICAgIHJlZ2lzdGVyQ29tcG9uZW50cyhhcHAsIGZpbmFsT3B0aW9ucy5jb21wb25lbnRzUHJlZml4KTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCB7IHNjcmlwdCQxIGFzIER5bmFtaWNTY3JvbGxlciwgc2NyaXB0IGFzIER5bmFtaWNTY3JvbGxlckl0ZW0sIElkU3RhdGUsIHNjcmlwdCQyIGFzIFJlY3ljbGVTY3JvbGxlciwgcGx1Z2luIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZ1ZS12aXJ0dWFsLXNjcm9sbGVyLmVzbS5qcy5tYXBcbiIsIi8qIVxuICogcGluaWEgdjIuMy4xXG4gKiAoYykgMjAyNSBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5qZWN0LCB0b1Jhdywgd2F0Y2gsIHVucmVmLCBtYXJrUmF3LCBlZmZlY3RTY29wZSwgcmVmLCBpc1Z1ZTIsIGlzUmVmLCBpc1JlYWN0aXZlLCBzZXQsIGdldEN1cnJlbnRTY29wZSwgb25TY29wZURpc3Bvc2UsIGdldEN1cnJlbnRJbnN0YW5jZSwgcmVhY3RpdmUsIHRvUmVmLCBkZWwsIG5leHRUaWNrLCBjb21wdXRlZCwgdG9SZWZzIH0gZnJvbSAndnVlLWRlbWknO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuLyoqXG4gKiBzZXRBY3RpdmVQaW5pYSBtdXN0IGJlIGNhbGxlZCB0byBoYW5kbGUgU1NSIGF0IHRoZSB0b3Agb2YgZnVuY3Rpb25zIGxpa2VcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xuICovXG5sZXQgYWN0aXZlUGluaWE7XG4vKipcbiAqIFNldHMgb3IgdW5zZXRzIHRoZSBhY3RpdmUgcGluaWEuIFVzZWQgaW4gU1NSIGFuZCBpbnRlcm5hbGx5IHdoZW4gY2FsbGluZ1xuICogYWN0aW9ucyBhbmQgZ2V0dGVyc1xuICpcbiAqIEBwYXJhbSBwaW5pYSAtIFBpbmlhIGluc3RhbmNlXG4gKi9cbi8vIEB0cy1leHBlY3QtZXJyb3I6IGNhbm5vdCBjb25zdHJhaW4gdGhlIHR5cGUgb2YgdGhlIHJldHVyblxuY29uc3Qgc2V0QWN0aXZlUGluaWEgPSAocGluaWEpID0+IChhY3RpdmVQaW5pYSA9IHBpbmlhKTtcbi8qKlxuICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIHBpbmlhIGlmIHRoZXJlIGlzIGFueS5cbiAqL1xuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoaGFzSW5qZWN0aW9uQ29udGV4dCgpICYmIGluamVjdChwaW5pYVN5bWJvbCkpIHx8IGFjdGl2ZVBpbmlhO1xuY29uc3QgcGluaWFTeW1ib2wgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gU3ltYm9sKCdwaW5pYScpIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gU3ltYm9sKCkpO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbm8pIHtcbiAgICByZXR1cm4gKG8gJiZcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgJiZcbiAgICAgICAgdHlwZW9mIG8udG9KU09OICE9PSAnZnVuY3Rpb24nKTtcbn1cbi8vIHR5cGUgRGVlcFJlYWRvbmx5PFQ+ID0geyByZWFkb25seSBbUCBpbiBrZXlvZiBUXTogRGVlcFJlYWRvbmx5PFRbUF0+IH1cbi8vIFRPRE86IGNhbiB3ZSBjaGFuZ2UgdGhlc2UgdG8gbnVtYmVycz9cbi8qKlxuICogUG9zc2libGUgdHlwZXMgZm9yIFN1YnNjcmlwdGlvbkNhbGxiYWNrXG4gKi9cbnZhciBNdXRhdGlvblR5cGU7XG4oZnVuY3Rpb24gKE11dGF0aW9uVHlwZSkge1xuICAgIC8qKlxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS5uYW1lID0gJ25ldyBuYW1lJ2BcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXG4gICAgICogLSBgc3RvcmUubGlzdC5wdXNoKCduZXcgaXRlbScpYFxuICAgICAqL1xuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XG4gICAgLyoqXG4gICAgICogTXV0YXRlZCB0aGUgc3RhdGUgd2l0aCBgJHBhdGNoYCBhbmQgYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS4kcGF0Y2goeyBuYW1lOiAnbmV3TmFtZScgfSlgXG4gICAgICovXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xuICAgIC8qKlxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGEgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIC0gYHN0b3JlLiRwYXRjaChzdGF0ZSA9PiBzdGF0ZS5uYW1lID0gJ25ld05hbWUnKWBcbiAgICAgKi9cbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xuICAgIC8vIG1heWJlIHJlc2V0PyBmb3IgJHN0YXRlID0ge30gYW5kICRyZXNldFxufSkoTXV0YXRpb25UeXBlIHx8IChNdXRhdGlvblR5cGUgPSB7fSkpO1xuXG5jb25zdCBJU19DTElFTlQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLypcbiAqIEZpbGVTYXZlci5qcyBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBPcmlnaW5hbGx5IGJ5IEVsaSBHcmV5LCBhZGFwdGVkIGFzIGFuIEVTTSBtb2R1bGUgYnkgRWR1YXJkbyBTYW4gTWFydGluXG4gKiBNb3JvdGUuXG4gKlxuICogTGljZW5zZSA6IE1JVFxuICovXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMzI3NzE4Mi8xMDA4OTk5XG5jb25zdCBfZ2xvYmFsID0gLyojX19QVVJFX18qLyAoKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LndpbmRvdyA9PT0gd2luZG93XG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGZcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXG4gICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgICAgICAgICA6IHsgSFRNTEVsZW1lbnQ6IG51bGwgfSkoKTtcbmZ1bmN0aW9uIGJvbShibG9iLCB7IGF1dG9Cb20gPSBmYWxzZSB9ID0ge30pIHtcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuICAgIC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXG4gICAgaWYgKGF1dG9Cb20gJiZcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhmZWZmKSwgYmxvYl0sIHsgdHlwZTogYmxvYi50eXBlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvYjtcbn1cbmZ1bmN0aW9uIGRvd25sb2FkKHVybCwgbmFtZSwgb3B0cykge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2F2ZUFzKHhoci5yZXNwb25zZSwgbmFtZSwgb3B0cyk7XG4gICAgfTtcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignY291bGQgbm90IGRvd25sb2FkIGZpbGUnKTtcbiAgICB9O1xuICAgIHhoci5zZW5kKCk7XG59XG5mdW5jdGlvbiBjb3JzRW5hYmxlZCh1cmwpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAvLyB1c2Ugc3luYyB0byBhdm9pZCBwb3B1cCBibG9ja2VyXG4gICAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKTtcbiAgICB0cnkge1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5O1xufVxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXG5mdW5jdGlvbiBjbGljayhub2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICAgIGV2dC5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlLCB3aW5kb3csIDAsIDAsIDAsIDgwLCAyMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG59XG5jb25zdCBfbmF2aWdhdG9yID0gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcbi8vIERldGVjdCBXZWJWaWV3IGluc2lkZSBhIG5hdGl2ZSBtYWNPUyBhcHAgYnkgcnVsaW5nIG91dCBhbGwgYnJvd3NlcnNcbi8vIFdlIGp1c3QgbmVlZCB0byBjaGVjayBmb3IgJ1NhZmFyaScgYmVjYXVzZSBhbGwgb3RoZXIgYnJvd3NlcnMgKGJlc2lkZXMgRmlyZWZveCkgaW5jbHVkZSB0aGF0IHRvb1xuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXG5jb25zdCBpc01hY09TV2ViVmlldyA9IC8qI19fUFVSRV9fKi8gKCgpID0+IC9NYWNpbnRvc2gvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgL0FwcGxlV2ViS2l0Ly50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcbmNvbnN0IHNhdmVBcyA9ICFJU19DTElFTlRcbiAgICA/ICgpID0+IHsgfSAvLyBub29wXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxuICAgICAgICB0eXBlb2YgSFRNTEFuY2hvckVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XG4gICAgICAgICAgICA/IGRvd25sb2FkU2F2ZUFzXG4gICAgICAgICAgICA6IC8vIFVzZSBtc1NhdmVPck9wZW5CbG9iIGFzIGEgc2Vjb25kIGFwcHJvYWNoXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBtc1NhdmVBc1xuICAgICAgICAgICAgICAgICAgICA6IC8vIEZhbGxiYWNrIHRvIHVzaW5nIEZpbGVSZWFkZXIgYW5kIGEgcG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcbmZ1bmN0aW9uIGRvd25sb2FkU2F2ZUFzKGJsb2IsIG5hbWUgPSAnZG93bmxvYWQnLCBvcHRzKSB7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcbiAgICBhLnJlbCA9ICdub29wZW5lcic7IC8vIHRhYm5hYmJpbmdcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2hyb21lIGV4dGVuc2lvbnMgJiBwYWNrYWdlZCBhcHBzXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gU3VwcG9ydCByZWd1bGFyIGxpbmtzXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XG4gICAgICAgIGlmIChhLm9yaWdpbiAhPT0gbG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICBpZiAoY29yc0VuYWJsZWQoYS5ocmVmKSkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXG4gICAgICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbXNTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBAdHMtaWdub3JlOiB3b3JrcyBvbiB3aW5kb3dzXG4gICAgICAgIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJvbShibG9iLCBvcHRzKSwgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmlsZVNhdmVyU2F2ZUFzKGJsb2IsIG5hbWUsIG9wdHMsIHBvcHVwKSB7XG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXG4gICAgLy8gTW9zdGx5IG9ubHkgYXZhaWxhYmxlIG9uIHVzZXIgaW50ZXJhY3Rpb24gYW5kIHRoZSBmaWxlUmVhZGVyIGlzIGFzeW5jIHNvLi4uXG4gICAgcG9wdXAgPSBwb3B1cCB8fCBvcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgaWYgKHBvcHVwKSB7XG4gICAgICAgIHBvcHVwLmRvY3VtZW50LnRpdGxlID0gcG9wdXAuZG9jdW1lbnQuYm9keS5pbm5lclRleHQgPSAnZG93bmxvYWRpbmcuLi4nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgY29uc3QgZm9yY2UgPSBibG9iLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XG4gICAgY29uc3QgaXNDaHJvbWVJT1MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpIHx8IGlzTWFjT1NXZWJWaWV3KSAmJlxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiBVUkxzXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgdXJsID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIHJlYWRlci5yZXN1bHQgdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcbiAgICAgICAgICAgICAgICA/IHVybFxuICAgICAgICAgICAgICAgIDogdXJsLnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBpZiAocG9wdXApXG4gICAgICAgICAgICBwb3B1cC5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSwgNGU0KTsgLy8gNDBzXG4gICAgfVxufVxuXG4vKipcbiAqIFNob3dzIGEgdG9hc3Qgb3IgY29uc29sZS5sb2dcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXG4gKiBAcGFyYW0gdHlwZSAtIGRpZmZlcmVudCBjb2xvciBvZiB0aGUgdG9vbHRpcFxuICovXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xuICAgIGNvbnN0IHBpbmlhTWVzc2FnZSA9ICfwn42NICcgKyBtZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgX19WVUVfREVWVE9PTFNfVE9BU1RfXyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBObyBsb25nZXIgYXZhaWxhYmxlIDooXG4gICAgICAgIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18ocGluaWFNZXNzYWdlLCB0eXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd3YXJuJykge1xuICAgICAgICBjb25zb2xlLndhcm4ocGluaWFNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQaW5pYShvKSB7XG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcbn1cblxuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbiBkZXZ0b29scyBhY3Rpb25zLCB0aGV5IGFyZSBub3QgUGluaWEgYWN0aW9ucy5cbiAqL1xuLy8gLS0tXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcbiAgICBpZiAoISgnY2xpcGJvYXJkJyBpbiBuYXZpZ2F0b3IpKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZShgWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQ2xpcGJvYXJkIEFQSWAsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZG9jdW1lbnQgaXMgbm90IGZvY3VzZWQnKSkge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpIHtcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIGNvcGllZCB0byBjbGlwYm9hcmQuJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoY2hlY2tOb3RGb2N1c2VkRXJyb3IoZXJyb3IpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlKHBpbmlhKSB7XG4gICAgaWYgKGNoZWNrQ2xpcGJvYXJkQWNjZXNzKCkpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBsb2FkU3RvcmVzU3RhdGUocGluaWEsIEpTT04ucGFyc2UoYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIHBhc3RlZCBmcm9tIGNsaXBib2FyZC4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgfSksICdwaW5pYS1zdGF0ZS5qc29uJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBleHBvcnQgdGhlIHN0YXRlIGFzIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmxldCBmaWxlSW5wdXQ7XG5mdW5jdGlvbiBnZXRGaWxlT3BlbmVyKCkge1xuICAgIGlmICghZmlsZUlucHV0KSB7XG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgICBmaWxlSW5wdXQuYWNjZXB0ID0gJy5qc29uJztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkZpbGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBmaWxlSW5wdXQuZmlsZXM7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzLml0ZW0oMCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHRleHQ6IGF3YWl0IGZpbGUudGV4dCgpLCBmaWxlIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jYW5jZWwgPSAoKSA9PiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgZmlsZUlucHV0Lm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvcGVuRmlsZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUocGluaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcGVuID0gZ2V0RmlsZU9wZW5lcigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVuKCk7XG4gICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHRleHQsIGZpbGUgfSA9IHJlc3VsdDtcbiAgICAgICAgbG9hZFN0b3Jlc1N0YXRlKHBpbmlhLCBKU09OLnBhcnNlKHRleHQpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBHbG9iYWwgc3RhdGUgaW1wb3J0ZWQgZnJvbSBcIiR7ZmlsZS5uYW1lfVwiLmApO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gaW1wb3J0IHRoZSBzdGF0ZSBmcm9tIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvYWRTdG9yZXNTdGF0ZShwaW5pYSwgc3RhdGUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVba2V5XTtcbiAgICAgICAgLy8gc3RvcmUgaXMgYWxyZWFkeSBpbnN0YW50aWF0ZWQsIHBhdGNoIGl0XG4gICAgICAgIGlmIChzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0b3JlU3RhdGUsIHN0YXRlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RvcmUgaXMgbm90IGluc3RhbnRpYXRlZCwgc2V0IHRoZSBpbml0aWFsIHN0YXRlXG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtrZXldID0gc3RhdGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuY29uc3QgUElOSUFfUk9PVF9MQUJFTCA9ICfwn42NIFBpbmlhIChyb290KSc7XG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShzdG9yZSkge1xuICAgIHJldHVybiBpc1BpbmlhKHN0b3JlKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGlkOiBQSU5JQV9ST09UX0lELFxuICAgICAgICAgICAgbGFiZWw6IFBJTklBX1JPT1RfTEFCRUwsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBpZDogc3RvcmUuJGlkLFxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcbiAgICAgICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcbiAgICBpZiAoaXNQaW5pYShzdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVOYW1lcyA9IEFycmF5LmZyb20oc3RvcmUuX3Mua2V5cygpKTtcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0ZTogc3RvcmVOYW1lcy5tYXAoKHN0b3JlSWQpID0+ICh7XG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAga2V5OiBzdG9yZUlkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5zdGF0ZS52YWx1ZVtzdG9yZUlkXSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGdldHRlcnM6IHN0b3JlTmFtZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChpZCkgPT4gc3RvcmVNYXAuZ2V0KGlkKS5fZ2V0dGVycylcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVNYXAuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxuICAgICAgICB9KSksXG4gICAgfTtcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xuICAgIGlmIChzdG9yZS5fZ2V0dGVycyAmJiBzdG9yZS5fZ2V0dGVycy5sZW5ndGgpIHtcbiAgICAgICAgc3RhdGUuZ2V0dGVycyA9IHN0b3JlLl9nZXR0ZXJzLm1hcCgoZ2V0dGVyTmFtZSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogZ2V0dGVyTmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtnZXR0ZXJOYW1lXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuc2l6ZSkge1xuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEV2ZW50RGF0YShldmVudHMpIHtcbiAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5yZWR1Y2UoKGRhdGEsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBkYXRhLmtleXMucHVzaChldmVudC5rZXkpO1xuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XG4gICAgICAgICAgICBkYXRhLm9sZFZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5vbGRWYWx1ZTtcbiAgICAgICAgICAgIGRhdGEubmV3VmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm5ld1ZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9sZFZhbHVlOiB7fSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgb3BlcmF0aW9uczogW10sXG4gICAgICAgICAgICBuZXdWYWx1ZToge30sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogZm9ybWF0RGlzcGxheShldmVudHMudHlwZSksXG4gICAgICAgICAgICBrZXk6IGZvcm1hdERpc3BsYXkoZXZlbnRzLmtleSksXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGV2ZW50cy5uZXdWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5kaXJlY3Q6XG4gICAgICAgICAgICByZXR1cm4gJ211dGF0aW9uJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnJHBhdGNoJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xuICAgIH1cbn1cblxuLy8gdGltZWxpbmUgY2FuIGJlIHBhdXNlZCB3aGVuIGRpcmVjdGx5IGNoYW5naW5nIHRoZSBzdGF0ZVxubGV0IGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xuY29uc3QgTVVUQVRJT05TX0xBWUVSX0lEID0gJ3BpbmlhOm11dGF0aW9ucyc7XG5jb25zdCBJTlNQRUNUT1JfSUQgPSAncGluaWEnO1xuY29uc3QgeyBhc3NpZ246IGFzc2lnbiQxIH0gPSBPYmplY3Q7XG4vKipcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcbiAqXG4gKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgc3RvcmVcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xuICovXG5jb25zdCBnZXRTdG9yZVR5cGUgPSAoaWQpID0+ICfwn42NICcgKyBpZDtcbi8qKlxuICogQWRkIHRoZSBwaW5pYSBwbHVnaW4gd2l0aG91dCBhbnkgc3RvcmUuIEFsbG93cyBkaXNwbGF5aW5nIGEgUGluaWEgcGx1Z2luIHRhYlxuICogYXMgc29vbiBhcyBpdCBpcyBhZGRlZCB0byB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHBhcmFtIGFwcCAtIFZ1ZSBhcHBsaWNhdGlvblxuICogQHBhcmFtIHBpbmlhIC0gcGluaWEgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpIHtcbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLFxuICAgICAgICBhcHAsXG4gICAgfSwgKGFwaSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFwaS5ub3cgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICBsYWJlbDogYFBpbmlhIPCfjY1gLFxuICAgICAgICAgICAgY29sb3I6IDB4ZTVkZjg4LFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XG4gICAgICAgICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgICAgIGljb246ICdzdG9yYWdlJyxcbiAgICAgICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogJ1NlYXJjaCBzdG9yZXMnLFxuICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2NvbnRlbnRfY29weScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWN0aW9uR2xvYmFsUGFzdGVTdGF0ZShwaW5pYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NhdmUgdGhlIHN0YXRlIGFzIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZvbGRlcl9vcGVuJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnSW1wb3J0IHRoZSBzdGF0ZSBmcm9tIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5vZGVBY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgKHdpdGggXCIkcmVzZXRcIiknLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KG5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0b3JlLiRyZXNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgQ2Fubm90IHJlc2V0IFwiJHtub2RlSWR9XCIgc3RvcmUgYmVjYXVzZSBpdCBkb2Vzbid0IGhhdmUgYSBcIiRyZXNldFwiIG1ldGhvZCBpbXBsZW1lbnRlZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuJHJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBTdG9yZSBcIiR7bm9kZUlkfVwiIHJlc2V0LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIHBheWxvYWQuY29tcG9uZW50SW5zdGFuY2UucHJveHkpO1xuICAgICAgICAgICAgaWYgKHByb3h5ICYmIHByb3h5Ll9wU3RvcmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMocGluaWFTdG9yZXMpLmZvckVhY2goKHN0b3JlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHN0b3JlLiRyZXNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIE5PVEU6IHdvcmthcm91bmQgdG8gdW53cmFwIHRyYW5zZmVycmVkIHJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5yZWR1Y2UoKHN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge30pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZ2V0dGVycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHdlIGp1c3Qgd2FudCB0byBzaG93IGl0IGluIGRldnRvb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGxldCBzdG9yZXMgPSBbcGluaWFdO1xuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xuICAgICAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gKHBheWxvYWQuZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVzLmZpbHRlcigoc3RvcmUpID0+ICckaWQnIGluIHN0b3JlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdG9yZXMpLm1hcChmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRXhwb3NlIHBpbmlhIGluc3RhbmNlIGFzICRwaW5pYSB0byB3aW5kb3dcbiAgICAgICAgZ2xvYmFsVGhpcy4kcGluaWEgPSBwaW5pYTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXG4gICAgICAgICAgICAgICAgICAgID8gcGluaWFcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSB0aGUgc2VsZWN0ZWQgc3RvcmUgcmVzdG9yZWQgZm9yIGEgZGlmZmVyZW50IHByb2plY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gaXQncyBiZXR0ZXIgbm90IHRvIHNheSBhbnl0aGluZyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4cG9zZSBzZWxlY3RlZCBzdG9yZSBhcyAkc3RvcmUgdG8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLm5vZGVJZCAhPT0gUElOSUFfUk9PVF9JRClcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFRoaXMuJHN0b3JlID0gdG9SYXcoaW5zcGVjdGVkU3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnN0YXRlID0gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShpbnNwZWN0ZWRTdG9yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmVkaXRJbnNwZWN0b3JTdGF0ZSgocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXG4gICAgICAgICAgICAgICAgICAgID8gcGluaWFcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0TWVzc2FnZShgc3RvcmUgXCIke3BheWxvYWQubm9kZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggfSA9IHBheWxvYWQ7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1BpbmlhKGluc3BlY3RlZFN0b3JlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3Mgb25seSB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoICE9PSAxIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaW5zcGVjdGVkU3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuaGFzKHBhdGhbMF0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdIGluIGluc3BlY3RlZFN0b3JlLiRzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCckc3RhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm9vdCBhY2Nlc3MsIHdlIGNhbiBvbWl0IHRoZSBgLnZhbHVlYCBiZWNhdXNlIHRoZSBkZXZ0b29scyBBUEkgZG9lcyBpdCBmb3IgdXNcbiAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCdzdGF0ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoaW5zcGVjdGVkU3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmVkaXRDb21wb25lbnRTdGF0ZSgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQudHlwZS5zdGFydHNXaXRoKCfwn42NJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gcGF5bG9hZC50eXBlLnJlcGxhY2UoL17wn42NXFxzKi8sICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChzdG9yZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtzdG9yZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggfSA9IHBheWxvYWQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbMF0gIT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0TWVzc2FnZShgSW52YWxpZCBwYXRoIGZvciBzdG9yZSBcIiR7c3RvcmVJZH1cIjpcXG4ke3BhdGh9XFxuT25seSBzdGF0ZSBjYW4gYmUgbW9kaWZpZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIGZpcnN0IGVudHJ5IHRvIGJlIGFibGUgdG8gZGlyZWN0bHkgc2V0IHRoZSBzdGF0ZSBhc1xuICAgICAgICAgICAgICAgIC8vIHdlbGwgYXMgYW55IG90aGVyIHBhdGhcbiAgICAgICAgICAgICAgICBwYXRoWzBdID0gJyRzdGF0ZSc7XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBheWxvYWQuc2V0KHN0b3JlLCBwYXRoLCBwYXlsb2FkLnN0YXRlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBzdG9yZSkge1xuICAgIGlmICghY29tcG9uZW50U3RhdGVUeXBlcy5pbmNsdWRlcyhnZXRTdG9yZVR5cGUoc3RvcmUuJGlkKSkpIHtcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcy5wdXNoKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKTtcbiAgICB9XG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XG4gICAgICAgIGlkOiAnZGV2LmVzbS5waW5pYScsXG4gICAgICAgIGxhYmVsOiAnUGluaWEg8J+NjScsXG4gICAgICAgIGxvZ286ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9sb2dvLnN2ZycsXG4gICAgICAgIHBhY2thZ2VOYW1lOiAncGluaWEnLFxuICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnJyxcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcyxcbiAgICAgICAgYXBwLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgbG9nU3RvcmVDaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3RpZnkgYWJvdXQgbmV3L2RlbGV0ZWQgc3RvcmVzJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHVzZUVtb2ppczoge1xuICAgICAgICAgICAgLy8gICBsYWJlbDogJ1VzZSBlbW9qaXMgaW4gbWVzc2FnZXMg4pqh77iPJyxcbiAgICAgICAgICAgIC8vICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgLy8gICBkZWZhdWx0VmFsdWU6IHRydWUsXG4gICAgICAgICAgICAvLyB9LFxuICAgICAgICB9LFxuICAgIH0sIChhcGkpID0+IHtcbiAgICAgICAgLy8gZ3JhY2VmdWxseSBoYW5kbGUgZXJyb3JzXG4gICAgICAgIGNvbnN0IG5vdyA9IHR5cGVvZiBhcGkubm93ID09PSAnZnVuY3Rpb24nID8gYXBpLm5vdy5iaW5kKGFwaSkgOiBEYXRlLm5vdztcbiAgICAgICAgc3RvcmUuJG9uQWN0aW9uKCh7IGFmdGVyLCBvbkVycm9yLCBuYW1lLCBhcmdzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSBydW5uaW5nQWN0aW9uSWQrKztcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+bqyAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1hdERpc3BsYXkobmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFmdGVyKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+brCAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvbkVycm9yKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nVHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SpSAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICAgIHdhdGNoKCgpID0+IHVucmVmKHN0b3JlW25hbWVdKSwgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGltZWxpbmVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NoYW5nZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7IGRlZXA6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdG9yZS4kc3Vic2NyaWJlKCh7IGV2ZW50cywgdHlwZSB9LCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgaWYgKCFpc1RpbWVsaW5lQWN0aXZlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIHJvb3RTdG9yZS5zdGF0ZVtzdG9yZS5pZF0gPSBzdGF0ZVxuICAgICAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xuICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSksXG4gICAgICAgICAgICAgICAgZGF0YTogYXNzaWduJDEoeyBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpIH0sIGZvcm1hdEV2ZW50RGF0YShldmVudHMpKSxcbiAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ+Kkte+4jyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn8J+nqSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudHMgJiYgIUFycmF5LmlzQXJyYXkoZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9IGV2ZW50cy50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhWydyYXdFdmVudChzKSddID0ge1xuICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnRGVidWdnZXJFdmVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdyYXcgRGVidWdnZXJFdmVudFtdJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBldmVudHMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB7IGRldGFjaGVkOiB0cnVlLCBmbHVzaDogJ3N5bmMnIH0pO1xuICAgICAgICBjb25zdCBob3RVcGRhdGUgPSBzdG9yZS5faG90VXBkYXRlO1xuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcbiAgICAgICAgICAgIGhvdFVwZGF0ZShuZXdTdG9yZSk7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflKUgJyArIHN0b3JlLiRpZCxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdITVIgdXBkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm86IGZvcm1hdERpc3BsYXkoYEhNUiB1cGRhdGVgKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRldnRvb2xzIHRvb1xuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7ICRkaXNwb3NlIH0gPSBzdG9yZTtcbiAgICAgICAgc3RvcmUuJGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAkZGlzcG9zZSgpO1xuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBhcGkuZ2V0U2V0dGluZ3MoKS5sb2dTdG9yZUNoYW5nZXMgJiZcbiAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYERpc3Bvc2VkIFwiJHtzdG9yZS4kaWR9XCIgc3RvcmUg8J+XkWApO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0cmlnZ2VyIGFuIHVwZGF0ZSBzbyBpdCBjYW4gZGlzcGxheSBuZXcgcmVnaXN0ZXJlZCBzdG9yZXNcbiAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICBhcGkuZ2V0U2V0dGluZ3MoKS5sb2dTdG9yZUNoYW5nZXMgJiZcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSBpbnN0YWxsZWQg8J+GlWApO1xuICAgIH0pO1xufVxubGV0IHJ1bm5pbmdBY3Rpb25JZCA9IDA7XG5sZXQgYWN0aXZlQWN0aW9uO1xuLyoqXG4gKiBQYXRjaGVzIGEgc3RvcmUgdG8gZW5hYmxlIGFjdGlvbiBncm91cGluZyBpbiBkZXZ0b29scyBieSB3cmFwcGluZyB0aGUgc3RvcmUgd2l0aCBhIFByb3h5IHRoYXQgaXMgcGFzc2VkIGFzIHRoZVxuICogY29udGV4dCBvZiBhbGwgYWN0aW9ucywgYWxsb3dpbmcgdXMgdG8gc2V0IGBydW5uaW5nQWN0aW9uYCBvbiBlYWNoIGFjY2VzcyBhbmQgZWZmZWN0aXZlbHkgYXNzb2NpYXRpbmcgYW55IHN0YXRlXG4gKiBtdXRhdGlvbiB0byB0aGUgYWN0aW9uLlxuICpcbiAqIEBwYXJhbSBzdG9yZSAtIHN0b3JlIHRvIHBhdGNoXG4gKiBAcGFyYW0gYWN0aW9uTmFtZXMgLSBsaXN0IG9mIGFjdGlvbnN0IHRvIHBhdGNoXG4gKi9cbmZ1bmN0aW9uIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoc3RvcmUsIGFjdGlvbk5hbWVzLCB3cmFwV2l0aFByb3h5KSB7XG4gICAgLy8gb3JpZ2luYWwgYWN0aW9ucyBvZiB0aGUgc3RvcmUgYXMgdGhleSBhcmUgZ2l2ZW4gYnkgcGluaWEuIFdlIGFyZSBnb2luZyB0byBvdmVycmlkZSB0aGVtXG4gICAgY29uc3QgYWN0aW9ucyA9IGFjdGlvbk5hbWVzLnJlZHVjZSgoc3RvcmVBY3Rpb25zLCBhY3Rpb25OYW1lKSA9PiB7XG4gICAgICAgIC8vIHVzZSB0b1JhdyB0byBhdm9pZCB0cmFja2luZyAjNTQxXG4gICAgICAgIHN0b3JlQWN0aW9uc1thY3Rpb25OYW1lXSA9IHRvUmF3KHN0b3JlKVthY3Rpb25OYW1lXTtcbiAgICAgICAgcmV0dXJuIHN0b3JlQWN0aW9ucztcbiAgICB9LCB7fSk7XG4gICAgZm9yIChjb25zdCBhY3Rpb25OYW1lIGluIGFjdGlvbnMpIHtcbiAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0aGUgcnVubmluZyBhY3Rpb24gaWQgaXMgaW5jcmVtZW50ZWQgaW4gYSBiZWZvcmUgYWN0aW9uIGhvb2tcbiAgICAgICAgICAgIGNvbnN0IF9hY3Rpb25JZCA9IHJ1bm5pbmdBY3Rpb25JZDtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrZWRTdG9yZSA9IHdyYXBXaXRoUHJveHlcbiAgICAgICAgICAgICAgICA/IG5ldyBQcm94eShzdG9yZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBzdG9yZTtcbiAgICAgICAgICAgIC8vIEZvciBTZXR1cCBTdG9yZXMgd2UgbmVlZCBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hc3luYy1jb250ZXh0XG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSBfYWN0aW9uSWQ7XG4gICAgICAgICAgICBjb25zdCByZXRWYWx1ZSA9IGFjdGlvbnNbYWN0aW9uTmFtZV0uYXBwbHkodHJhY2tlZFN0b3JlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBzYWZlciBhcyBhc3luYyBhY3Rpb25zIGluIFNldHVwIFN0b3JlcyB3b3VsZCBhc3NvY2lhdGUgbXV0YXRpb25zIGRvbmUgb3V0c2lkZSBvZiB0aGUgYWN0aW9uXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gcmV0VmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBwaW5pYS51c2UoZGV2dG9vbHNQbHVnaW4pXG4gKi9cbmZ1bmN0aW9uIGRldnRvb2xzUGx1Z2luKHsgYXBwLCBzdG9yZSwgb3B0aW9ucyB9KSB7XG4gICAgLy8gSE1SIG1vZHVsZVxuICAgIGlmIChzdG9yZS4kaWQuc3RhcnRzV2l0aCgnX19ob3Q6JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBkZXRlY3Qgb3B0aW9uIGFwaSB2cyBzZXR1cCBhcGlcbiAgICBzdG9yZS5faXNPcHRpb25zQVBJID0gISFvcHRpb25zLnN0YXRlO1xuICAgIC8vIERvIG5vdCBvdmVyd3JpdGUgYWN0aW9ucyBtb2NrZWQgYnkgQHBpbmlhL3Rlc3RpbmcgKCMyMjk4KVxuICAgIGlmICghc3RvcmUuX3AuX3Rlc3RpbmcpIHtcbiAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMob3B0aW9ucy5hY3Rpb25zKSwgc3RvcmUuX2lzT3B0aW9uc0FQSSk7XG4gICAgICAgIC8vIFVwZ3JhZGUgdGhlIEhNUiB0byBhbHNvIHVwZGF0ZSB0aGUgbmV3IGFjdGlvbnNcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIb3RVcGRhdGUgPSBzdG9yZS5faG90VXBkYXRlO1xuICAgICAgICB0b1JhdyhzdG9yZSkuX2hvdFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXdTdG9yZSkge1xuICAgICAgICAgICAgb3JpZ2luYWxIb3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoc3RvcmUsIE9iamVjdC5rZXlzKG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpLCAhIXN0b3JlLl9pc09wdGlvbnNBUEkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBcbiAgICAvLyBGSVhNRTogaXMgdGhlcmUgYSB3YXkgdG8gYWxsb3cgdGhlIGFzc2lnbm1lbnQgZnJvbSBTdG9yZTxJZCwgUywgRywgQT4gdG8gU3RvcmVHZW5lcmljP1xuICAgIHN0b3JlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUGluaWEgaW5zdGFuY2UgdG8gYmUgdXNlZCBieSB0aGUgYXBwbGljYXRpb25cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGluaWEoKSB7XG4gICAgY29uc3Qgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcbiAgICAvLyBOT1RFOiBoZXJlIHdlIGNvdWxkIGNoZWNrIHRoZSB3aW5kb3cgb2JqZWN0IGZvciBhIHN0YXRlIGFuZCBkaXJlY3RseSBzZXQgaXRcbiAgICAvLyBpZiB0aGVyZSBpcyBhbnl0aGluZyBsaWtlIGl0IHdpdGggVnVlIDMgU1NSXG4gICAgY29uc3Qgc3RhdGUgPSBzY29wZS5ydW4oKCkgPT4gcmVmKHt9KSk7XG4gICAgbGV0IF9wID0gW107XG4gICAgLy8gcGx1Z2lucyBhZGRlZCBiZWZvcmUgY2FsbGluZyBhcHAudXNlKHBpbmlhKVxuICAgIGxldCB0b0JlSW5zdGFsbGVkID0gW107XG4gICAgY29uc3QgcGluaWEgPSBtYXJrUmF3KHtcbiAgICAgICAgaW5zdGFsbChhcHApIHtcbiAgICAgICAgICAgIC8vIHRoaXMgYWxsb3dzIGNhbGxpbmcgdXNlU3RvcmUoKSBvdXRzaWRlIG9mIGEgY29tcG9uZW50IHNldHVwIGFmdGVyXG4gICAgICAgICAgICAvLyBpbnN0YWxsaW5nIHBpbmlhJ3MgcGx1Z2luXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgICAgICBpZiAoIWlzVnVlMikge1xuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gYXBwO1xuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKHBpbmlhU3ltYm9sLCBwaW5pYSk7XG4gICAgICAgICAgICAgICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLmZvckVhY2goKHBsdWdpbikgPT4gX3AucHVzaChwbHVnaW4pKTtcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVzZShwbHVnaW4pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZC5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcC5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgX3AsXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBfYTogbnVsbCxcbiAgICAgICAgX2U6IHNjb3BlLFxuICAgICAgICBfczogbmV3IE1hcCgpLFxuICAgICAgICBzdGF0ZSxcbiAgICB9KTtcbiAgICAvLyBwaW5pYSBkZXZ0b29scyByZWx5IG9uIGRldiBvbmx5IGZlYXR1cmVzIHNvIHRoZXkgY2Fubm90IGJlIGZvcmNlZCB1bmxlc3NcbiAgICAvLyB0aGUgZGV2IGJ1aWxkIG9mIFZ1ZSBpcyB1c2VkLiBBdm9pZCBvbGQgYnJvd3NlcnMgbGlrZSBJRTExLlxuICAgIGlmICgoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgX19WVUVfUFJPRF9ERVZUT09MU19fKSkgJiYgIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSkgJiYgSVNfQ0xJRU5UICYmIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcGluaWEudXNlKGRldnRvb2xzUGx1Z2luKTtcbiAgICB9XG4gICAgcmV0dXJuIHBpbmlhO1xufVxuLyoqXG4gKiBEaXNwb3NlIGEgUGluaWEgaW5zdGFuY2UgYnkgc3RvcHBpbmcgaXRzIGVmZmVjdFNjb3BlIGFuZCByZW1vdmluZyB0aGUgc3RhdGUsIHBsdWdpbnMgYW5kIHN0b3Jlcy4gVGhpcyBpcyBtb3N0bHlcbiAqIHVzZWZ1bCBpbiB0ZXN0cywgd2l0aCBib3RoIGEgdGVzdGluZyBwaW5pYSBvciBhIHJlZ3VsYXIgcGluaWEgYW5kIGluIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBtdWx0aXBsZSBwaW5pYSBpbnN0YW5jZXMuXG4gKiBPbmNlIGRpc3Bvc2VkLCB0aGUgcGluaWEgaW5zdGFuY2UgY2Fubm90IGJlIHVzZWQgYW55bW9yZS5cbiAqXG4gKiBAcGFyYW0gcGluaWEgLSBwaW5pYSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBkaXNwb3NlUGluaWEocGluaWEpIHtcbiAgICBwaW5pYS5fZS5zdG9wKCk7XG4gICAgcGluaWEuX3MuY2xlYXIoKTtcbiAgICBwaW5pYS5fcC5zcGxpY2UoMCk7XG4gICAgcGluaWEuc3RhdGUudmFsdWUgPSB7fTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBub24gdmFsaWRcbiAgICBwaW5pYS5fYSA9IG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZnVuY3Rpb24gaXMgYSBgU3RvcmVEZWZpbml0aW9uYC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBvYmplY3QgdG8gdGVzdFxuICogQHJldHVybnMgdHJ1ZSBpZiBgZm5gIGlzIGEgU3RvcmVEZWZpbml0aW9uXG4gKi9cbmNvbnN0IGlzVXNlU3RvcmUgPSAoZm4pID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBmbi4kaWQgPT09ICdzdHJpbmcnO1xufTtcbi8qKlxuICogTXV0YXRlcyBpbiBwbGFjZSBgbmV3U3RhdGVgIHdpdGggYG9sZFN0YXRlYCB0byBfaG90IHVwZGF0ZV8gaXQuIEl0IHdpbGxcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxuICogb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcbiAqIEBwYXJhbSBvbGRTdGF0ZSAtIG9sZCBzdGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHBhdGNoIG5ld1N0YXRlXG4gKiBAcmV0dXJucyAtIG5ld1N0YXRlXG4gKi9cbmZ1bmN0aW9uIHBhdGNoT2JqZWN0KG5ld1N0YXRlLCBvbGRTdGF0ZSkge1xuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xuICAgICAgICBjb25zdCBzdWJQYXRjaCA9IG9sZFN0YXRlW2tleV07XG4gICAgICAgIC8vIHNraXAgdGhlIHdob2xlIHN1YiB0cmVlXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0VmFsdWUpICYmXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVhY3RpdmUoc3ViUGF0Y2gpKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gcGF0Y2hPYmplY3QodGFyZ2V0VmFsdWUsIHN1YlBhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG9iamVjdHMgYXJlIGVpdGhlciBhIGJpdCBtb3JlIGNvbXBsZXggKGUuZy4gcmVmcykgb3IgcHJpbWl0aXZlcywgc28gd2VcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xuICAgICAgICAgICAgaWYgKGlzVnVlMikge1xuICAgICAgICAgICAgICAgIHNldChuZXdTdGF0ZSwga2V5LCBzdWJQYXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gc3ViUGF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBjb25zdCB1c2VVc2VyID0gZGVmaW5lU3RvcmUoLi4uKVxuICogaWYgKGltcG9ydC5tZXRhLmhvdCkge1xuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGluaXRpYWxVc2VTdG9yZSAtIHJldHVybiBvZiB0aGUgZGVmaW5lU3RvcmUgdG8gaG90IHVwZGF0ZVxuICogQHBhcmFtIGhvdCAtIGBpbXBvcnQubWV0YS5ob3RgXG4gKi9cbmZ1bmN0aW9uIGFjY2VwdEhNUlVwZGF0ZShpbml0aWFsVXNlU3RvcmUsIGhvdCkge1xuICAgIC8vIHN0cmlwIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSBpaWZlLnByb2RcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaW5pYSA9IGhvdC5kYXRhLnBpbmlhIHx8IGluaXRpYWxVc2VTdG9yZS5fcGluaWE7XG4gICAgICAgIGlmICghcGluaWEpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXG4gICAgICAgIGhvdC5kYXRhLnBpbmlhID0gcGluaWE7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb3QgZGF0YScsIG5ld1N0b3JlKVxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VTdG9yZSA9IG5ld01vZHVsZVtleHBvcnROYW1lXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2luZyBmb3InLCBleHBvcnROYW1lKVxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FjY2VwdGluZyB1cGRhdGUgZm9yJywgdXNlU3RvcmUuJGlkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdXNlU3RvcmUuJGlkO1xuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBpZCBvZiB0aGUgc3RvcmUgY2hhbmdlZCBmcm9tIFwiJHtpbml0aWFsVXNlU3RvcmUuJGlkfVwiIHRvIFwiJHtpZH1cIi4gUmVsb2FkaW5nLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gaW1wb3J0Lm1ldGEuaG90LmludmFsaWRhdGUoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUGluaWFdOiBza2lwcGluZyBobXIgYmVjYXVzZSBzdG9yZSBkb2Vzbid0IGV4aXN0IHlldGApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVzZVN0b3JlKHBpbmlhLCBleGlzdGluZ1N0b3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGNhbGxiYWNrKTtcbiAgICBjb25zdCByZW1vdmVTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgIG9uU2NvcGVEaXNwb3NlKHJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XG59XG5mdW5jdGlvbiB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCAuLi5hcmdzKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xufVxuXG5jb25zdCBmYWxsYmFja1J1bldpdGhDb250ZXh0ID0gKGZuKSA9PiBmbigpO1xuLyoqXG4gKiBNYXJrcyBhIGZ1bmN0aW9uIGFzIGFuIGFjdGlvbiBmb3IgYCRvbkFjdGlvbmBcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBBQ1RJT05fTUFSS0VSID0gU3ltYm9sKCk7XG4vKipcbiAqIEFjdGlvbiBuYW1lIHN5bWJvbC4gQWxsb3dzIHRvIGFkZCBhIG5hbWUgdG8gYW4gYWN0aW9uIGFmdGVyIGRlZmluaW5nIGl0XG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgQUNUSU9OX05BTUUgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldCwgcGF0Y2hUb0FwcGx5KSB7XG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTWFwICYmIHBhdGNoVG9BcHBseSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICBwYXRjaFRvQXBwbHkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gdGFyZ2V0LnNldChrZXksIHZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNldCAmJiBwYXRjaFRvQXBwbHkgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcbiAgICB9XG4gICAgLy8gbm8gbmVlZCB0byBnbyB0aHJvdWdoIHN5bWJvbHMgYmVjYXVzZSB0aGV5IGNhbm5vdCBiZSBzZXJpYWxpemVkIGFueXdheVxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xuICAgICAgICBpZiAoIXBhdGNoVG9BcHBseS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFZhbHVlKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgIHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAhaXNSZWYoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGhlcmUgSSB3YW50ZWQgdG8gd2FybiBhYm91dCBpbmNvbnNpc3RlbnQgdHlwZXMgYnV0IGl0J3Mgbm90IHBvc3NpYmxlIGJlY2F1c2UgaW4gc2V0dXAgc3RvcmVzIG9uZSBtaWdodFxuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgYXMgYSBjZXJ0YWluIHR5cGUgZS5nLiBhIE1hcCwgYW5kIHRoZW4gZm9yIHNvbWUgcmVhc29uLCBkdXJpbmcgU1NSLCBjaGFuZ2UgdGhhdFxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXRWYWx1ZSwgc3ViUGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc3ViUGF0Y2ggaXMgYSB2YWxpZCB2YWx1ZVxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzdWJQYXRjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuY29uc3Qgc2tpcEh5ZHJhdGVTeW1ib2wgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICA/IFN5bWJvbCgncGluaWE6c2tpcEh5ZHJhdGlvbicpXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcbi8qKlxuICogVGVsbHMgUGluaWEgdG8gc2tpcCB0aGUgaHlkcmF0aW9uIHByb2Nlc3Mgb2YgYSBnaXZlbiBvYmplY3QuIFRoaXMgaXMgdXNlZnVsIGluIHNldHVwIHN0b3JlcyAob25seSkgd2hlbiB5b3UgcmV0dXJuIGFcbiAqIHN0YXRlZnVsIG9iamVjdCBpbiB0aGUgc3RvcmUgYnV0IGl0IGlzbid0IHJlYWxseSBzdGF0ZS4gZS5nLiByZXR1cm5pbmcgYSByb3V0ZXIgaW5zdGFuY2UgaW4gYSBzZXR1cCBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IG9iamVjdFxuICogQHJldHVybnMgb2JqXG4gKi9cbmZ1bmN0aW9uIHNraXBIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IHZhcmlhYmxlXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxuICovXG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiAhaXNQbGFpbk9iamVjdChvYmopIHx8ICFvYmouaGFzT3duUHJvcGVydHkoc2tpcEh5ZHJhdGVTeW1ib2wpO1xufVxuY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDtcbmZ1bmN0aW9uIGlzQ29tcHV0ZWQobykge1xuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XG59XG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zU3RvcmUoaWQsIG9wdGlvbnMsIHBpbmlhLCBob3QpIHtcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlW2lkXTtcbiAgICBsZXQgc3RvcmU7XG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICAgIGlmICghaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsIGlkLCBzdGF0ZSA/IHN0YXRlKCkgOiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtpZF0gPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBjcmVhdGluZyBhIHN0YXRlIGluIHBpbmlhLnN0YXRlLnZhbHVlXG4gICAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90XG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICB0b1JlZnMocmVmKHN0YXRlID8gc3RhdGUoKSA6IHt9KS52YWx1ZSlcbiAgICAgICAgICAgIDogdG9SZWZzKHBpbmlhLnN0YXRlLnZhbHVlW2lkXSk7XG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmFtZSBpbiBsb2NhbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IEEgZ2V0dGVyIGNhbm5vdCBoYXZlIHRoZSBzYW1lIG5hbWUgYXMgYW5vdGhlciBzdGF0ZSBwcm9wZXJ0eS4gUmVuYW1lIG9uZSBvZiB0aGVtLiBGb3VuZCB3aXRoIFwiJHtuYW1lfVwiIGluIHN0b3JlIFwiJHtpZH1cIi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXB1dGVkR2V0dGVyc1tuYW1lXSA9IG1hcmtSYXcoY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjcm9zcyB1c2luZyBzdG9yZXNcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXNWdWUyICYmICFzdG9yZS5fcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gZ2V0dGVycyFbbmFtZV0uY2FsbChjb250ZXh0LCBjb250ZXh0KVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzW25hbWVdLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgfVxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xuICAgIHJldHVybiBzdG9yZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwU3RvcmUoJGlkLCBzZXR1cCwgb3B0aW9ucyA9IHt9LCBwaW5pYSwgaG90LCBpc09wdGlvbnNTdG9yZSkge1xuICAgIGxldCBzY29wZTtcbiAgICBjb25zdCBvcHRpb25zRm9yUGx1Z2luID0gYXNzaWduKHsgYWN0aW9uczoge30gfSwgb3B0aW9ucyk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcGluaWEuX2UuYWN0aXZlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGluaWEgZGVzdHJveWVkJyk7XG4gICAgfVxuICAgIC8vIHdhdGNoZXIgb3B0aW9ucyBmb3IgJHN1YnNjcmliZVxuICAgIGNvbnN0ICRzdWJzY3JpYmVPcHRpb25zID0geyBkZWVwOiB0cnVlIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1Z1ZTIpIHtcbiAgICAgICAgJHN1YnNjcmliZU9wdGlvbnMub25UcmlnZ2VyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBldmVudDtcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0xpc3RlbmluZyA9PSBmYWxzZSAmJiAhc3RvcmUuX2hvdFVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlYnVnZ2VyRXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXG4gICAgbGV0IGlzU3luY0xpc3RlbmluZzsgLy8gc2V0IHRvIHRydWUgYXQgdGhlIGVuZFxuICAgIGxldCBzdWJzY3JpcHRpb25zID0gW107XG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICBsZXQgZGVidWdnZXJFdmVudHM7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbJGlkXTtcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcbiAgICAvLyBieSB0aGUgc2V0dXBcbiAgICBpZiAoIWlzT3B0aW9uc1N0b3JlICYmICFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgJGlkLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaG90U3RhdGUgPSByZWYoe30pO1xuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy8xMTI5XG4gICAgbGV0IGFjdGl2ZUxpc3RlbmVyO1xuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbk11dGF0aW9uO1xuICAgICAgICBpc0xpc3RlbmluZyA9IGlzU3luY0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhcnRpYWxTdGF0ZU9yTXV0YXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uTXV0YXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocGluaWEuc3RhdGUudmFsdWVbJGlkXSwgcGFydGlhbFN0YXRlT3JNdXRhdG9yKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXJ0aWFsU3RhdGVPck11dGF0b3IsXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG15TGlzdGVuZXJJZCA9IChhY3RpdmVMaXN0ZW5lciA9IFN5bWJvbCgpKTtcbiAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBwYXVzZWQgdGhlIHdhdGNoZXIsIHdlIG5lZWQgdG8gbWFudWFsbHkgY2FsbCB0aGUgc3Vic2NyaXB0aW9uc1xuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XG4gICAgfVxuICAgIGNvbnN0ICRyZXNldCA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgID8gZnVuY3Rpb24gJHJlc2V0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XG4gICAgICAgICAgICAvLyB3ZSB1c2UgYSBwYXRjaCB0byBncm91cCBhbGwgY2hhbmdlcyBpbnRvIG9uZSBzaW5nbGUgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICB0aGlzLiRwYXRjaCgoJHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZG4ndCBlcnJvcj9cbiAgICAgICAgICAgICAgICBhc3NpZ24oJHN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDwn42NOiBTdG9yZSBcIiR7JGlkfVwiIGlzIGJ1aWx0IHVzaW5nIHRoZSBzZXR1cCBzeW50YXggYW5kIGRvZXMgbm90IGltcGxlbWVudCAkcmVzZXQoKS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBub29wO1xuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xuICAgICAgICBzY29wZS5zdG9wKCk7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICBwaW5pYS5fcy5kZWxldGUoJGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIHRoYXQgd3JhcHMgZnVuY3Rpb24gc28gaXQgY2FuIGJlIHRyYWNrZWQgd2l0aCAkb25BY3Rpb25cbiAgICAgKiBAcGFyYW0gZm4gLSBhY3Rpb24gdG8gd3JhcFxuICAgICAqIEBwYXJhbSBuYW1lIC0gbmFtZSBvZiB0aGUgYWN0aW9uXG4gICAgICovXG4gICAgY29uc3QgYWN0aW9uID0gKGZuLCBuYW1lID0gJycpID0+IHtcbiAgICAgICAgaWYgKEFDVElPTl9NQVJLRVIgaW4gZm4pIHtcbiAgICAgICAgICAgIGZuW0FDVElPTl9OQU1FXSA9IG5hbWU7XG4gICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcHBlZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBjb25zdCBhZnRlckNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgICAgICAgZnVuY3Rpb24gYWZ0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBhZnRlckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yQ2FsbGJhY2tMaXN0LnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWN0aW9uU3Vic2NyaXB0aW9ucywge1xuICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgbmFtZTogd3JhcHBlZEFjdGlvbltBQ1RJT05fTkFNRV0sXG4gICAgICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICAgICAgYWZ0ZXIsXG4gICAgICAgICAgICAgICAgb25FcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHJldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gZm4uYXBwbHkodGhpcyAmJiB0aGlzLiRpZCA9PT0gJGlkID8gdGhpcyA6IHN0b3JlLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldFxuICAgICAgICAgICAgICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMob25FcnJvckNhbGxiYWNrTGlzdCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBhZnRlciBjYWxsYmFja3NcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFmdGVyQ2FsbGJhY2tMaXN0LCByZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgd3JhcHBlZEFjdGlvbltBQ1RJT05fTUFSS0VSXSA9IHRydWU7XG4gICAgICAgIHdyYXBwZWRBY3Rpb25bQUNUSU9OX05BTUVdID0gbmFtZTsgLy8gd2lsbCBiZSBzZXQgbGF0ZXJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogd2UgYXJlIGludGVudGlvbmFsbHkgbGltaXRpbmcgdGhlIHJldHVybmVkIHR5cGUgdG8ganVzdCBGblxuICAgICAgICAvLyBiZWNhdXNlIGFsbCB0aGUgYWRkZWQgcHJvcGVydGllcyBhcmUgaW50ZXJuYWxzIHRoYXQgYXJlIGV4cG9zZWQgdGhyb3VnaCBgJG9uQWN0aW9uKClgIG9ubHlcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRBY3Rpb247XG4gICAgfTtcbiAgICBjb25zdCBfaG1yUGF5bG9hZCA9IC8qI19fUFVSRV9fKi8gbWFya1Jhdyh7XG4gICAgICAgIGFjdGlvbnM6IHt9LFxuICAgICAgICBnZXR0ZXJzOiB7fSxcbiAgICAgICAgc3RhdGU6IFtdLFxuICAgICAgICBob3RTdGF0ZSxcbiAgICB9KTtcbiAgICBjb25zdCBwYXJ0aWFsU3RvcmUgPSB7XG4gICAgICAgIF9wOiBwaW5pYSxcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxuICAgICAgICAkaWQsXG4gICAgICAgICRvbkFjdGlvbjogYWRkU3Vic2NyaXB0aW9uLmJpbmQobnVsbCwgYWN0aW9uU3Vic2NyaXB0aW9ucyksXG4gICAgICAgICRwYXRjaCxcbiAgICAgICAgJHJlc2V0LFxuICAgICAgICAkc3Vic2NyaWJlKGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XG4gICAgICAgICAgICBjb25zdCBzdG9wV2F0Y2hlciA9IHNjb3BlLnJ1bigoKSA9PiB3YXRjaCgoKSA9PiBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5mbHVzaCA9PT0gJ3N5bmMnID8gaXNTeW5jTGlzdGVuaW5nIDogaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLmRpcmVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICAgICAgICAgIH0sIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZVN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgJGRpc3Bvc2UsXG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIC8vIHN0YXJ0IGFzIG5vbiByZWFkeVxuICAgICAgICBwYXJ0aWFsU3RvcmUuX3IgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmUgPSByZWFjdGl2ZSgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpXG4gICAgICAgID8gYXNzaWduKHtcbiAgICAgICAgICAgIF9obXJQYXlsb2FkLFxuICAgICAgICAgICAgX2N1c3RvbVByb3BlcnRpZXM6IG1hcmtSYXcobmV3IFNldCgpKSwgLy8gZGV2dG9vbHMgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgICAgfSwgcGFydGlhbFN0b3JlXG4gICAgICAgIC8vIG11c3QgYmUgYWRkZWQgbGF0ZXJcbiAgICAgICAgLy8gc2V0dXBTdG9yZVxuICAgICAgICApXG4gICAgICAgIDogcGFydGlhbFN0b3JlKTtcbiAgICAvLyBzdG9yZSB0aGUgcGFydGlhbCBzdG9yZSBub3cgc28gdGhlIHNldHVwIG9mIHN0b3JlcyBjYW4gaW5zdGFudGlhdGUgZWFjaCBvdGhlciBiZWZvcmUgdGhleSBhcmUgZmluaXNoZWQgd2l0aG91dFxuICAgIC8vIGNyZWF0aW5nIGluZmluaXRlIGxvb3BzLlxuICAgIHBpbmlhLl9zLnNldCgkaWQsIHN0b3JlKTtcbiAgICBjb25zdCBydW5XaXRoQ29udGV4dCA9IChwaW5pYS5fYSAmJiBwaW5pYS5fYS5ydW5XaXRoQ29udGV4dCkgfHwgZmFsbGJhY2tSdW5XaXRoQ29udGV4dDtcbiAgICAvLyBUT0RPOiBpZGVhIGNyZWF0ZSBza2lwU2VyaWFsaXplIHRoYXQgbWFya3MgcHJvcGVydGllcyBhcyBub24gc2VyaWFsaXphYmxlIGFuZCB0aGV5IGFyZSBza2lwcGVkXG4gICAgY29uc3Qgc2V0dXBTdG9yZSA9IHJ1bldpdGhDb250ZXh0KCgpID0+IHBpbmlhLl9lLnJ1bigoKSA9PiAoc2NvcGUgPSBlZmZlY3RTY29wZSgpKS5ydW4oKCkgPT4gc2V0dXAoeyBhY3Rpb24gfSkpKSk7XG4gICAgLy8gb3ZlcndyaXRlIGV4aXN0aW5nIGFjdGlvbnMgdG8gc3VwcG9ydCAkb25BY3Rpb25cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzZXR1cFN0b3JlKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBzZXR1cFN0b3JlW2tleV07XG4gICAgICAgIGlmICgoaXNSZWYocHJvcCkgJiYgIWlzQ29tcHV0ZWQocHJvcCkpIHx8IGlzUmVhY3RpdmUocHJvcCkpIHtcbiAgICAgICAgICAgIC8vIG1hcmsgaXQgYXMgYSBwaWVjZSBvZiBzdGF0ZSB0byBiZSBzZXJpYWxpemVkXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xuICAgICAgICAgICAgICAgIHNldChob3RTdGF0ZS52YWx1ZSwga2V5LCB0b1JlZihzZXR1cFN0b3JlLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGVPcHRpb25TdG9yZSBkaXJlY3RseSBzZXRzIHRoZSBzdGF0ZSBpbiBwaW5pYS5zdGF0ZS52YWx1ZSBzbyB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzT3B0aW9uc1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsU3RhdGUgJiYgc2hvdWxkSHlkcmF0ZShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWYocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogcHJvcCBpcyB1bmtub3duXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZVJlYWN0aXZlT2JqZWN0cyhwcm9wLCBpbml0aWFsU3RhdGVba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNmZXIgdGhlIHJlZiB0byB0aGUgcGluaWEgc3RhdGUgdG8ga2VlcCBldmVyeXRoaW5nIGluIHN5bmNcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCBrZXksIHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXVtrZXldID0gcHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLnN0YXRlLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFjdGlvblxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb25WYWx1ZSA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBwcm9wIDogYWN0aW9uKHByb3AsIGtleSk7XG4gICAgICAgICAgICAvLyB0aGlzIGEgaG90IG1vZHVsZSByZXBsYWNlbWVudCBzdG9yZSBiZWNhdXNlIHRoZSBob3RVcGRhdGUgbWV0aG9kIG5lZWRzXG4gICAgICAgICAgICAvLyB0byBkbyBpdCB3aXRoIHRoZSByaWdodCBjb250ZXh0XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBzZXQoc2V0dXBTdG9yZSwga2V5LCBhY3Rpb25WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgc2V0dXBTdG9yZVtrZXldID0gYWN0aW9uVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmFjdGlvbnNba2V5XSA9IHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaXN0IGFjdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCBpbiBwbHVnaW5zXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcbiAgICAgICAgICAgIGlmIChpc0NvbXB1dGVkKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuZ2V0dGVyc1trZXldID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmdldHRlcnNba2V5XVxuICAgICAgICAgICAgICAgICAgICA6IHByb3A7XG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJzID0gc2V0dXBTdG9yZS5fZ2V0dGVycyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc2FtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIGdldHRlcnMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHNldHVwU3RvcmUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgc2V0KHN0b3JlLCBrZXksIHNldHVwU3RvcmVba2V5XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzaWduKHN0b3JlLCBzZXR1cFN0b3JlKTtcbiAgICAgICAgLy8gYWxsb3dzIHJldHJpZXZpbmcgcmVhY3RpdmUgb2JqZWN0cyB3aXRoIGBzdG9yZVRvUmVmcygpYC4gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYXNzaWduaW5nIHRvIHRoZSByZWFjdGl2ZSBvYmplY3QuXG4gICAgICAgIC8vIE1ha2UgYHN0b3JlVG9SZWZzKClgIHdvcmsgd2l0aCBgcmVhY3RpdmUoKWAgIzc5OVxuICAgICAgICBhc3NpZ24odG9SYXcoc3RvcmUpLCBzZXR1cFN0b3JlKTtcbiAgICB9XG4gICAgLy8gdXNlIHRoaXMgaW5zdGVhZCBvZiBhIGNvbXB1dGVkIHdpdGggc2V0dGVyIHRvIGJlIGFibGUgdG8gY3JlYXRlIGl0IGFueXdoZXJlXG4gICAgLy8gd2l0aG91dCBsaW5raW5nIHRoZSBjb21wdXRlZCBsaWZlc3BhbiB0byB3aGVyZXZlciB0aGUgc3RvcmUgaXMgZmlyc3RcbiAgICAvLyBjcmVhdGVkLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZSwgJyRzdGF0ZScsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCA/IGhvdFN0YXRlLnZhbHVlIDogcGluaWEuc3RhdGUudmFsdWVbJGlkXSksXG4gICAgICAgIHNldDogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2V0IGhvdFN0YXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcGF0Y2goKCRzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGRuJ3QgZXJyb3I/XG4gICAgICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgc3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICBuZXdTdG9yZS5faG1yUGF5bG9hZC5zdGF0ZS5mb3JFYWNoKChzdGF0ZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGVUYXJnZXQgPSBuZXdTdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRTdGF0ZVNvdXJjZSA9IHN0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KG5ld1N0YXRlVGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChvbGRTdGF0ZVNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdG9yZS4kc3RhdGVbc3RhdGVLZXldID0gb2xkU3RhdGVTb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggZGlyZWN0IGFjY2VzcyBwcm9wZXJ0aWVzIHRvIGFsbG93IHN0b3JlLnN0YXRlUHJvcGVydHkgdG8gd29yayBhc1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlLiRzdGF0ZS5zdGF0ZVByb3BlcnR5XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBzdGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoc3RhdGVLZXkgaW4gbmV3U3RvcmUuJHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIHN0YXRlS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGF2b2lkIGRldnRvb2xzIGxvZ2dpbmcgdGhpcyBhcyBhIG11dGF0aW9uXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0gdG9SZWYobmV3U3RvcmUuX2htclBheWxvYWQsICdob3RTdGF0ZScpO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkZuID0gbmV3U3RvcmVbYWN0aW9uTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBhY3Rpb25OYW1lLCBhY3Rpb24oYWN0aW9uRm4sIGFjdGlvbk5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGRvZXMgdGhpcyB3b3JrIGluIGJvdGggc2V0dXAgYW5kIG9wdGlvbiBzdG9yZT9cbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyID0gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVyc1tnZXR0ZXJOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJWYWx1ZSA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0dGVyO1xuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgZ2V0dGVyc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYWN0aW9uc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWVzIHVzZWQgaW4gZGV2dG9vbHMgYW5kIHRvIGFsbG93IGRlbGV0aW5nIG5ldyBwcm9wZXJ0aWVzIGxhdGVyIG9uXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xuICAgICAgICAgICAgc3RvcmUuX2dldHRlcnMgPSBuZXdTdG9yZS5fZ2V0dGVycztcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgY29uc3Qgbm9uRW51bWVyYWJsZSA9IHtcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gYXZvaWQgd2FybmluZyBvbiBkZXZ0b29scyB0cnlpbmcgdG8gZGlzcGxheSB0aGlzIHByb3BlcnR5XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgWydfcCcsICdfaG1yUGF5bG9hZCcsICdfZ2V0dGVycycsICdfY3VzdG9tUHJvcGVydGllcyddLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZSwgcCwgYXNzaWduKHsgdmFsdWU6IHN0b3JlW3BdIH0sIG5vbkVudW1lcmFibGUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnNcbiAgICAgICAgc3RvcmUuX3IgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBhcHBseSBhbGwgcGx1Z2luc1xuICAgIHBpbmlhLl9wLmZvckVhY2goKGV4dGVuZGVyKSA9PiB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICgoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgX19WVUVfUFJPRF9ERVZUT09MU19fKSkgJiYgIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSkgJiYgSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gc2NvcGUucnVuKCgpID0+IGV4dGVuZGVyKHtcbiAgICAgICAgICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgICAgICAgICAgYXBwOiBwaW5pYS5fYSxcbiAgICAgICAgICAgICAgICBwaW5pYSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zRm9yUGx1Z2luLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIGV4dGVuc2lvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzaWduKHN0b3JlLCBzY29wZS5ydW4oKCkgPT4gZXh0ZW5kZXIoe1xuICAgICAgICAgICAgICAgIHN0b3JlOiBzdG9yZSxcbiAgICAgICAgICAgICAgICBhcHA6IHBpbmlhLl9hLFxuICAgICAgICAgICAgICAgIHBpbmlhLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICBzdG9yZS4kc3RhdGUgJiZcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAhc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogVGhlIFwic3RhdGVcIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcXG5gICtcbiAgICAgICAgICAgIGBcXHRzdGF0ZTogKCkgPT4gbmV3IE15Q2xhc3MoKVxcbmAgK1xuICAgICAgICAgICAgYEZvdW5kIGluIHN0b3JlIFwiJHtzdG9yZS4kaWR9XCIuYCk7XG4gICAgfVxuICAgIC8vIG9ubHkgYXBwbHkgaHlkcmF0ZSB0byBvcHRpb24gc3RvcmVzIHdpdGggYW4gaW5pdGlhbCBzdGF0ZSBpbiBwaW5pYVxuICAgIGlmIChpbml0aWFsU3RhdGUgJiZcbiAgICAgICAgaXNPcHRpb25zU3RvcmUgJiZcbiAgICAgICAgb3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgIG9wdGlvbnMuaHlkcmF0ZShzdG9yZS4kc3RhdGUsIGluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgIHJldHVybiBzdG9yZTtcbn1cbi8vIGFsbG93cyB1bnVzZWQgc3RvcmVzIHRvIGJlIHRyZWUgc2hha2VuXG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmZ1bmN0aW9uIGRlZmluZVN0b3JlKFxuLy8gVE9ETzogYWRkIHByb3BlciB0eXBlcyBmcm9tIGFib3ZlXG5pZE9yT3B0aW9ucywgc2V0dXAsIHNldHVwT3B0aW9ucykge1xuICAgIGxldCBpZDtcbiAgICBsZXQgb3B0aW9ucztcbiAgICBjb25zdCBpc1NldHVwU3RvcmUgPSB0eXBlb2Ygc2V0dXAgPT09ICdmdW5jdGlvbic7XG4gICAgaWYgKHR5cGVvZiBpZE9yT3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucztcbiAgICAgICAgLy8gdGhlIG9wdGlvbiBzdG9yZSBzZXR1cCB3aWxsIGNvbnRhaW4gdGhlIGFjdHVhbCBvcHRpb25zIGluIHRoaXMgY2FzZVxuICAgICAgICBvcHRpb25zID0gaXNTZXR1cFN0b3JlID8gc2V0dXBPcHRpb25zIDogc2V0dXA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvcHRpb25zID0gaWRPck9wdGlvbnM7XG4gICAgICAgIGlkID0gaWRPck9wdGlvbnMuaWQ7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBb8J+NjV06IFwiZGVmaW5lU3RvcmUoKVwiIG11c3QgYmUgcGFzc2VkIGEgc3RvcmUgaWQgYXMgaXRzIGZpcnN0IGFyZ3VtZW50LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZVN0b3JlKHBpbmlhLCBob3QpIHtcbiAgICAgICAgY29uc3QgaGFzQ29udGV4dCA9IGhhc0luamVjdGlvbkNvbnRleHQoKTtcbiAgICAgICAgcGluaWEgPVxuICAgICAgICAgICAgLy8gaW4gdGVzdCBtb2RlLCBpZ25vcmUgdGhlIGFyZ3VtZW50IHByb3ZpZGVkIGFzIHdlIGNhbiBhbHdheXMgcmV0cmlldmUgYVxuICAgICAgICAgICAgLy8gcGluaWEgaW5zdGFuY2Ugd2l0aCBnZXRBY3RpdmVQaW5pYSgpXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIGFjdGl2ZVBpbmlhICYmIGFjdGl2ZVBpbmlhLl90ZXN0aW5nID8gbnVsbCA6IHBpbmlhKSB8fFxuICAgICAgICAgICAgICAgIChoYXNDb250ZXh0ID8gaW5qZWN0KHBpbmlhU3ltYm9sLCBudWxsKSA6IG51bGwpO1xuICAgICAgICBpZiAocGluaWEpXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWFjdGl2ZVBpbmlhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogXCJnZXRBY3RpdmVQaW5pYSgpXCIgd2FzIGNhbGxlZCBidXQgdGhlcmUgd2FzIG5vIGFjdGl2ZSBQaW5pYS4gQXJlIHlvdSB0cnlpbmcgdG8gdXNlIGEgc3RvcmUgYmVmb3JlIGNhbGxpbmcgXCJhcHAudXNlKHBpbmlhKVwiP1xcbmAgK1xuICAgICAgICAgICAgICAgIGBTZWUgaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvY29yZS1jb25jZXB0cy9vdXRzaWRlLWNvbXBvbmVudC11c2FnZS5odG1sIGZvciBoZWxwLlxcbmAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xuICAgICAgICB9XG4gICAgICAgIHBpbmlhID0gYWN0aXZlUGluaWE7XG4gICAgICAgIGlmICghcGluaWEuX3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy8gY3JlYXRpbmcgdGhlIHN0b3JlIHJlZ2lzdGVycyBpdCBpbiBgcGluaWEuX3NgXG4gICAgICAgICAgICBpZiAoaXNTZXR1cFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNyZWF0ZU9wdGlvbnNTdG9yZShpZCwgb3B0aW9ucywgcGluaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBub3QgdGhlIHJpZ2h0IGluZmVycmVkIHR5cGVcbiAgICAgICAgICAgICAgICB1c2VTdG9yZS5fcGluaWEgPSBwaW5pYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90KSB7XG4gICAgICAgICAgICBjb25zdCBob3RJZCA9ICdfX2hvdDonICsgaWQ7XG4gICAgICAgICAgICBjb25zdCBuZXdTdG9yZSA9IGlzU2V0dXBTdG9yZVxuICAgICAgICAgICAgICAgID8gY3JlYXRlU2V0dXBTdG9yZShob3RJZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCB0cnVlKVxuICAgICAgICAgICAgICAgIDogY3JlYXRlT3B0aW9uc1N0b3JlKGhvdElkLCBhc3NpZ24oe30sIG9wdGlvbnMpLCBwaW5pYSwgdHJ1ZSk7XG4gICAgICAgICAgICBob3QuX2hvdFVwZGF0ZShuZXdTdG9yZSk7XG4gICAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBzdGF0ZSBwcm9wZXJ0aWVzIGFuZCB0aGUgc3RvcmUgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgIGRlbGV0ZSBwaW5pYS5zdGF0ZS52YWx1ZVtob3RJZF07XG4gICAgICAgICAgICBwaW5pYS5fcy5kZWxldGUoaG90SWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgIC8vIHNhdmUgc3RvcmVzIGluIGluc3RhbmNlcyB0byBhY2Nlc3MgdGhlbSBkZXZ0b29sc1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRJbnN0YW5jZS5wcm94eSAmJlxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgICFob3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2bSA9IGN1cnJlbnRJbnN0YW5jZS5wcm94eTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTtcbiAgICAgICAgICAgICAgICBjYWNoZVtpZF0gPSBzdG9yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdG9yZUdlbmVyaWMgY2Fubm90IGJlIGNhc3RlZCB0b3dhcmRzIFN0b3JlXG4gICAgICAgIHJldHVybiBzdG9yZTtcbiAgICB9XG4gICAgdXNlU3RvcmUuJGlkID0gaWQ7XG4gICAgcmV0dXJuIHVzZVN0b3JlO1xufVxuXG5sZXQgbWFwU3RvcmVTdWZmaXggPSAnU3RvcmUnO1xuLyoqXG4gKiBDaGFuZ2VzIHRoZSBzdWZmaXggYWRkZWQgYnkgYG1hcFN0b3JlcygpYC4gQ2FuIGJlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcuXG4gKiBEZWZhdWx0cyB0byBgXCJTdG9yZVwiYC4gTWFrZSBzdXJlIHRvIGV4dGVuZCB0aGUgTWFwU3RvcmVzQ3VzdG9taXphdGlvblxuICogaW50ZXJmYWNlIGlmIHlvdSBhcmUgdXNpbmcgVHlwZVNjcmlwdC5cbiAqXG4gKiBAcGFyYW0gc3VmZml4IC0gbmV3IHN1ZmZpeFxuICovXG5mdW5jdGlvbiBzZXRNYXBTdG9yZVN1ZmZpeChzdWZmaXggLy8gY291bGQgYmUgJ1N0b3JlJyBidXQgdGhhdCB3b3VsZCBiZSBhbm5veWluZyBmb3IgSlNcbikge1xuICAgIG1hcFN0b3JlU3VmZml4ID0gc3VmZml4O1xufVxuLyoqXG4gKiBBbGxvd3MgdXNpbmcgc3RvcmVzIHdpdGhvdXQgdGhlIGNvbXBvc2l0aW9uIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuXG4gKiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkIG9mIGEgY29tcG9uZW50LiBJdCBhY2NlcHRzIGEgbGlzdFxuICogb2Ygc3RvcmUgZGVmaW5pdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBleHBvcnQgZGVmYXVsdCB7XG4gKiAgIGNvbXB1dGVkOiB7XG4gKiAgICAgLy8gb3RoZXIgY29tcHV0ZWQgcHJvcGVydGllc1xuICogICAgIC4uLm1hcFN0b3Jlcyh1c2VVc2VyU3RvcmUsIHVzZUNhcnRTdG9yZSlcbiAqICAgfSxcbiAqXG4gKiAgIGNyZWF0ZWQoKSB7XG4gKiAgICAgdGhpcy51c2VyU3RvcmUgLy8gc3RvcmUgd2l0aCBpZCBcInVzZXJcIlxuICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJjYXJ0XCJcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHN0b3JlcyAtIGxpc3Qgb2Ygc3RvcmVzIHRvIG1hcCB0byBhbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwU3RvcmVzKC4uLnN0b3Jlcykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgQXJyYXkuaXNBcnJheShzdG9yZXNbMF0pKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gXCJtYXBTdG9yZXMoKVwiIHdpdGhvdXQgcHV0dGluZyB0aGVtIGluIGFuIGFycmF5OlxcbmAgK1xuICAgICAgICAgICAgYFJlcGxhY2VcXG5gICtcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXMoW3VzZUF1dGhTdG9yZSwgdXNlQ2FydFN0b3JlXSlcXG5gICtcbiAgICAgICAgICAgIGB3aXRoXFxuYCArXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKHVzZUF1dGhTdG9yZSwgdXNlQ2FydFN0b3JlKVxcbmAgK1xuICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICBzdG9yZXMgPSBzdG9yZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBzdG9yZXMucmVkdWNlKChyZWR1Y2VkLCB1c2VTdG9yZSkgPT4ge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiAkaWQgaXMgYWRkZWQgYnkgZGVmaW5lU3RvcmVcbiAgICAgICAgcmVkdWNlZFt1c2VTdG9yZS4kaWQgKyBtYXBTdG9yZVN1ZmZpeF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICB9LCB7fSk7XG59XG4vKipcbiAqIEFsbG93cyB1c2luZyBzdGF0ZSBhbmQgZ2V0dGVycyBmcm9tIG9uZSBzdG9yZSB3aXRob3V0IHVzaW5nIHRoZSBjb21wb3NpdGlvblxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXNPck1hcHBlcilcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkIHdvcms/XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVLZXkgPSBrZXlzT3JNYXBwZXJba2V5XTtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gVFMgaXMgdW5hYmxlIHRvIGluZmVyIHRoZSB0eXBlIG9mIHN0b3JlS2V5IHRvIGJlIGFcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygc3RvcmVLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBzdG9yZUtleS5jYWxsKHRoaXMsIHN0b3JlKVxuICAgICAgICAgICAgICAgICAgICA6IC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGQgd29yaz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW3N0b3JlS2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cbiAqIEBkZXByZWNhdGVkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cbiAqL1xuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xuLyoqXG4gKiBBbGxvd3MgZGlyZWN0bHkgdXNpbmcgYWN0aW9ucyBmcm9tIHlvdXIgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkIHdvcms/XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGQgd29yaz9cbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXSguLi5hcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcbiAqIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXG4gKiBAcGFyYW0ga2V5c09yTWFwcGVyIC0gYXJyYXkgb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcFdyaXRhYmxlU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXNPck1hcHBlcilcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3Qgb2YgcmVmZXJlbmNlcyB3aXRoIGFsbCB0aGUgc3RhdGUsIGdldHRlcnMsIGFuZCBwbHVnaW4tYWRkZWRcbiAqIHN0YXRlIHByb3BlcnRpZXMgb2YgdGhlIHN0b3JlLiBTaW1pbGFyIHRvIGB0b1JlZnMoKWAgYnV0IHNwZWNpZmljYWxseVxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcbiAqIGNvbXBsZXRlbHkgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cbiAqL1xuZnVuY3Rpb24gc3RvcmVUb1JlZnMoc3RvcmUpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcbiAgICAvLyBJdCdzIGVhc2llciB0byBqdXN0IHVzZSB0b1JlZnMoKSBldmVuIGlmIGl0IGluY2x1ZGVzIG1vcmUgc3R1ZmZcbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xuICAgICAgICByZXR1cm4gdG9SZWZzKHN0b3JlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJhd1N0b3JlID0gdG9SYXcoc3RvcmUpO1xuICAgICAgICBjb25zdCByZWZzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1N0b3JlKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1N0b3JlW2tleV07XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBuYXRpdmUgbWV0aG9kIHRvIGNoZWNrIGZvciBhIGNvbXB1dGVkXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29yZS9wdWxsLzQxNjVcbiAgICAgICAgICAgIGlmICh2YWx1ZS5lZmZlY3QpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0b28gaGFyZCB0byB0eXBlIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLlxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHN0b3JlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoZSBrZXkgaXMgc3RhdGUgb3IgZ2V0dGVyXG4gICAgICAgICAgICAgICAgcmVmc1trZXldID1cbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tXG4gICAgICAgICAgICAgICAgICAgIHRvUmVmKHN0b3JlLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBWdWUgMiBQbHVnaW4gdGhhdCBtdXN0IGJlIGluc3RhbGxlZCBmb3IgcGluaWEgdG8gd29yay4gTm90ZSAqKnlvdSBkb24ndCBuZWVkXG4gKiB0aGlzIHBsdWdpbiBpZiB5b3UgYXJlIHVzaW5nIE51eHQuanMqKi4gVXNlIHRoZSBgYnVpbGRNb2R1bGVgIGluc3RlYWQ6XG4gKiBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9zc3IvbnV4dC5odG1sLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG4gKiBpbXBvcnQgeyBQaW5pYVZ1ZVBsdWdpbiwgY3JlYXRlUGluaWEgfSBmcm9tICdwaW5pYSdcbiAqXG4gKiBWdWUudXNlKFBpbmlhVnVlUGx1Z2luKVxuICogY29uc3QgcGluaWEgPSBjcmVhdGVQaW5pYSgpXG4gKlxuICogbmV3IFZ1ZSh7XG4gKiAgIGVsOiAnI2FwcCcsXG4gKiAgIC8vIC4uLlxuICogICBwaW5pYSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gX1Z1ZSAtIGBWdWVgIGltcG9ydGVkIGZyb20gJ3Z1ZScuXG4gKi9cbmNvbnN0IFBpbmlhVnVlUGx1Z2luID0gZnVuY3Rpb24gKF9WdWUpIHtcbiAgICAvLyBFcXVpdmFsZW50IG9mXG4gICAgLy8gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhXG4gICAgX1Z1ZS5taXhpbih7XG4gICAgICAgIGJlZm9yZUNyZWF0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGluaWEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaW5pYSA9IG9wdGlvbnMucGluaWE7XG4gICAgICAgICAgICAgICAgLy8gSEFDSzogdGFrZW4gZnJvbSBwcm92aWRlKCk6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb21wb3NpdGlvbi1hcGkvYmxvYi9tYWluL3NyYy9hcGlzL2luamVjdC50cyNMMzFcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcHJvdmlkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZUNhY2hlID0ge307XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX3Byb3ZpZGVkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBwcm92aWRlQ2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2KSA9PiBPYmplY3QuYXNzaWduKHByb3ZpZGVDYWNoZSwgdiksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlZFtwaW5pYVN5bWJvbF0gPSBwaW5pYTtcbiAgICAgICAgICAgICAgICAvLyBwcm9wYWdhdGUgdGhlIHBpbmlhIGluc3RhbmNlIGluIGFuIFNTUiBmcmllbmRseSB3YXlcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBhZGRpbmcgaXQgdG8gbnV4dCB0d2ljZVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRwaW5pYSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRwaW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0YWxsaW5nIHBpbmlhJ3MgcGx1Z2luXG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHBpbmlhID0gb3B0aW9ucy5wYXJlbnQuJHBpbmlhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95ZWQoKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcFN0b3JlcztcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IE11dGF0aW9uVHlwZSwgUGluaWFWdWVQbHVnaW4sIGFjY2VwdEhNUlVwZGF0ZSwgY3JlYXRlUGluaWEsIGRlZmluZVN0b3JlLCBkaXNwb3NlUGluaWEsIGdldEFjdGl2ZVBpbmlhLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSwgbWFwU3RvcmVzLCBtYXBXcml0YWJsZVN0YXRlLCBzZXRBY3RpdmVQaW5pYSwgc2V0TWFwU3RvcmVTdWZmaXgsIHNob3VsZEh5ZHJhdGUsIHNraXBIeWRyYXRlLCBzdG9yZVRvUmVmcyB9O1xuIiwiLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBnbG9iYWxUaGlzLCB3aXRoIHN1cHBvcnRcbiAqIGZvciBicm93c2VycyB0aGF0IGRvbid0IHlldCBzdXBwb3J0IHRoZSBzcGVjLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgJGdsb2JhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgaW4gYSBtb2Rlcm4gZW52aXJvbm1lbnQuXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBXZSdyZSBydW5uaW5nIGluIE5vZGVKU1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgLy8gV2UncmUgcnVubmluZyBpbiBhIHdvcmtlci5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgaW4gdGhlIGJyb3dzZXIncyBtYWluIHRocmVhZC5cbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSG9wZWZ1bGx5IHdlIG5ldmVyIGdldCBoZXJlLi4uXG4gICAgICAgIC8vIE5vdCBhbGwgZW52aXJvbm1lbnRzIGFsbG93IGV2YWwgYW5kIEZ1bmN0aW9uLiBVc2Ugb25seSBhcyBhIGxhc3QgcmVzb3J0OlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICAvLyBJZiBhbGwgZmFpbHMsIGdpdmUgdXAgYW5kIGNyZWF0ZSBhbiBvYmplY3QuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWFzc2VydGlvbnNcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbn0pKCk7XG4vLyBBUEktb25seSBQb2x5ZmlsbCBmb3IgdHJ1c3RlZFR5cGVzXG5pZiAoJGdsb2JhbC50cnVzdGVkVHlwZXMgPT09IHZvaWQgMCkge1xuICAgICRnbG9iYWwudHJ1c3RlZFR5cGVzID0geyBjcmVhdGVQb2xpY3k6IChuLCByKSA9PiByIH07XG59XG5jb25zdCBwcm9wQ29uZmlnID0ge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IGZhbHNlLFxufTtcbmlmICgkZ2xvYmFsLkZBU1QgPT09IHZvaWQgMCkge1xuICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoJGdsb2JhbCwgXCJGQVNUXCIsIE9iamVjdC5hc3NpZ24oeyB2YWx1ZTogT2JqZWN0LmNyZWF0ZShudWxsKSB9LCBwcm9wQ29uZmlnKSk7XG59XG4vKipcbiAqIFRoZSBGQVNUIGdsb2JhbC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRkFTVCA9ICRnbG9iYWwuRkFTVDtcbmlmIChGQVNULmdldEJ5SWQgPT09IHZvaWQgMCkge1xuICAgIGNvbnN0IHN0b3JhZ2UgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoRkFTVCwgXCJnZXRCeUlkXCIsIE9iamVjdC5hc3NpZ24oeyB2YWx1ZShpZCwgaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gc3RvcmFnZVtpZF07XG4gICAgICAgICAgICBpZiAoZm91bmQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gaW5pdGlhbGl6ZSA/IChzdG9yYWdlW2lkXSA9IGluaXRpYWxpemUoKSkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9IH0sIHByb3BDb25maWcpKTtcbn1cbi8qKlxuICogQSByZWFkb25seSwgZW1wdHkgYXJyYXkuXG4gKiBAcmVtYXJrc1xuICogVHlwaWNhbGx5IHJldHVybmVkIGJ5IEFQSXMgdGhhdCByZXR1cm4gYXJyYXlzIHdoZW4gdGhlcmUgYXJlXG4gKiBubyBhY3R1YWwgaXRlbXMgdG8gcmV0dXJuLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBlbXB0eUFycmF5ID0gT2JqZWN0LmZyZWV6ZShbXSk7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBjYXBhYmxlIG9mIGxvY2F0aW5nIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCBhIHR5cGUuXG4gKiBAcmV0dXJucyBBIG1ldGFkYXRhIGxvY2F0b3IgZnVuY3Rpb24uXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1ldGFkYXRhTG9jYXRvcigpIHtcbiAgICBjb25zdCBtZXRhZGF0YUxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgbGV0IG1ldGFkYXRhID0gbWV0YWRhdGFMb29rdXAuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmIChtZXRhZGF0YSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFRhcmdldCA9IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KTtcbiAgICAgICAgICAgIHdoaWxlIChtZXRhZGF0YSA9PT0gdm9pZCAwICYmIGN1cnJlbnRUYXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IG1ldGFkYXRhTG9va3VwLmdldChjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGFkYXRhID0gbWV0YWRhdGEgPT09IHZvaWQgMCA/IFtdIDogbWV0YWRhdGEuc2xpY2UoMCk7XG4gICAgICAgICAgICBtZXRhZGF0YUxvb2t1cC5zZXQodGFyZ2V0LCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH07XG59XG4iLCJpbXBvcnQgeyAkZ2xvYmFsIH0gZnJvbSBcIi4vcGxhdGZvcm0uanNcIjtcbmNvbnN0IHVwZGF0ZVF1ZXVlID0gJGdsb2JhbC5GQVNULmdldEJ5SWQoMSAvKiB1cGRhdGVRdWV1ZSAqLywgKCkgPT4ge1xuICAgIGNvbnN0IHRhc2tzID0gW107XG4gICAgY29uc3QgcGVuZGluZ0Vycm9ycyA9IFtdO1xuICAgIGZ1bmN0aW9uIHRocm93Rmlyc3RFcnJvcigpIHtcbiAgICAgICAgaWYgKHBlbmRpbmdFcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBwZW5kaW5nRXJyb3JzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ5UnVuVGFzayh0YXNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXNrLmNhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHBlbmRpbmdFcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRocm93Rmlyc3RFcnJvciwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgY29uc3QgY2FwYWNpdHkgPSAxMDI0O1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCB0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRyeVJ1blRhc2sodGFza3NbaW5kZXhdKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGxlYWtpbmcgbWVtb3J5IGZvciBsb25nIGNoYWlucyBvZiByZWN1cnNpdmUgY2FsbHMgdG8gYERPTS5xdWV1ZVVwZGF0ZWAuXG4gICAgICAgICAgICAvLyBJZiB3ZSBjYWxsIGBET00ucXVldWVVcGRhdGVgIHdpdGhpbiBhIHRhc2sgc2NoZWR1bGVkIGJ5IGBET00ucXVldWVVcGRhdGVgLCB0aGUgcXVldWUgd2lsbFxuICAgICAgICAgICAgLy8gZ3JvdywgYnV0IHRvIGF2b2lkIGFuIE8obikgd2FsayBmb3IgZXZlcnkgdGFzayB3ZSBleGVjdXRlLCB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gc2hpZnQgdGFza3Mgb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGV5IGhhdmUgYmVlbiBleGVjdXRlZC5cbiAgICAgICAgICAgIC8vIEluc3RlYWQsIHdlIHBlcmlvZGljYWxseSBzaGlmdCAxMDI0IHRhc2tzIG9mZiB0aGUgcXVldWUuXG4gICAgICAgICAgICBpZiAoaW5kZXggPiBjYXBhY2l0eSkge1xuICAgICAgICAgICAgICAgIC8vIE1hbnVhbGx5IHNoaWZ0IGFsbCB2YWx1ZXMgc3RhcnRpbmcgYXQgdGhlIGluZGV4IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzY2FuID0gMCwgbmV3TGVuZ3RoID0gdGFza3MubGVuZ3RoIC0gaW5kZXg7IHNjYW4gPCBuZXdMZW5ndGg7IHNjYW4rKykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1tzY2FuXSA9IHRhc2tzW3NjYW4gKyBpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhc2tzLmxlbmd0aCAtPSBpbmRleDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGFza3MubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZShjYWxsYWJsZSkge1xuICAgICAgICBpZiAodGFza3MubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgJGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocHJvY2Vzcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFza3MucHVzaChjYWxsYWJsZSk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgZW5xdWV1ZSxcbiAgICAgICAgcHJvY2VzcyxcbiAgICB9KTtcbn0pO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmNvbnN0IGZhc3RIVE1MUG9saWN5ID0gJGdsb2JhbC50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KFwiZmFzdC1odG1sXCIsIHtcbiAgICBjcmVhdGVIVE1MOiBodG1sID0+IGh0bWwsXG59KTtcbi8qIGVzbGludC1lbmFibGUgKi9cbmxldCBodG1sUG9saWN5ID0gZmFzdEhUTUxQb2xpY3k7XG5jb25zdCBtYXJrZXIgPSBgZmFzdC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KX1gO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IF9pbnRlcnBvbGF0aW9uU3RhcnQgPSBgJHttYXJrZXJ9e2A7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX2ludGVycG9sYXRpb25FbmQgPSBgfSR7bWFya2VyfWA7XG4vKipcbiAqIENvbW1vbiBET00gQVBJcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERPTSA9IE9iamVjdC5mcmVlemUoe1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBET00gc3VwcG9ydHMgdGhlIGFkb3B0ZWRTdHlsZVNoZWV0cyBmZWF0dXJlLlxuICAgICAqL1xuICAgIHN1cHBvcnRzQWRvcHRlZFN0eWxlU2hlZXRzOiBBcnJheS5pc0FycmF5KGRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cykgJiZcbiAgICAgICAgXCJyZXBsYWNlXCIgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgSFRNTCB0cnVzdGVkIHR5cGVzIHBvbGljeSB1c2VkIGJ5IHRoZSB0ZW1wbGF0aW5nIGVuZ2luZS5cbiAgICAgKiBAcGFyYW0gcG9saWN5IC0gVGhlIHBvbGljeSB0byBzZXQgZm9yIEhUTUwuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIEFQSSBjYW4gb25seSBiZSBjYWxsZWQgb25jZSwgZm9yIHNlY3VyaXR5IHJlYXNvbnMuIEl0IHNob3VsZCBiZVxuICAgICAqIGNhbGxlZCBieSB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIGF0IHRoZSBzdGFydCBvZiB0aGVpciBwcm9ncmFtLlxuICAgICAqL1xuICAgIHNldEhUTUxQb2xpY3kocG9saWN5KSB7XG4gICAgICAgIGlmIChodG1sUG9saWN5ICE9PSBmYXN0SFRNTFBvbGljeSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIEhUTUwgcG9saWN5IGNhbiBvbmx5IGJlIHNldCBvbmNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBodG1sUG9saWN5ID0gcG9saWN5O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVHVybnMgYSBzdHJpbmcgaW50byB0cnVzdGVkIEhUTUwgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgdHJ1c3RlZCB0eXBlcyBwb2xpY3kuXG4gICAgICogQHBhcmFtIGh0bWwgLSBUaGUgc3RyaW5nIHRvIHR1cm4gaW50byB0cnVzdGVkIEhUTUwuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBVc2VkIGludGVybmFsbHkgYnkgdGhlIHRlbXBsYXRlIGVuZ2luZSB3aGVuIGNyZWF0aW5nIHRlbXBsYXRlc1xuICAgICAqIGFuZCBzZXR0aW5nIGlubmVySFRNTC5cbiAgICAgKi9cbiAgICBjcmVhdGVIVE1MKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxQb2xpY3kuY3JlYXRlSFRNTChodG1sKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHByb3ZpZGVkIG5vZGUgaXMgYSB0ZW1wbGF0ZSBtYXJrZXIgdXNlZCBieSB0aGUgcnVudGltZS5cbiAgICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIHRvIHRlc3QuXG4gICAgICovXG4gICAgaXNNYXJrZXIobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSA4ICYmIG5vZGUuZGF0YS5zdGFydHNXaXRoKG1hcmtlcik7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG1hcmtlciBub2RlLCBleHRyYWN0IHRoZSB7QGxpbmsgSFRNTERpcmVjdGl2ZX0gaW5kZXggZnJvbSB0aGUgcGxhY2Vob2xkZXIuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbWFya2VyIG5vZGUgdG8gZXh0cmFjdCB0aGUgaW5kZXggZnJvbS5cbiAgICAgKi9cbiAgICBleHRyYWN0RGlyZWN0aXZlSW5kZXhGcm9tTWFya2VyKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG5vZGUuZGF0YS5yZXBsYWNlKGAke21hcmtlcn06YCwgXCJcIikpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYWNlaG9sZGVyIHN0cmluZyBzdWl0YWJsZSBmb3IgbWFya2luZyBvdXQgYSBsb2NhdGlvbiAqd2l0aGluKlxuICAgICAqIGFuIGF0dHJpYnV0ZSB2YWx1ZSBvciBIVE1MIGNvbnRlbnQuXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGRpcmVjdGl2ZSBpbmRleCB0byBjcmVhdGUgdGhlIHBsYWNlaG9sZGVyIGZvci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFVzZWQgaW50ZXJuYWxseSBieSBiaW5kaW5nIGRpcmVjdGl2ZXMuXG4gICAgICovXG4gICAgY3JlYXRlSW50ZXJwb2xhdGlvblBsYWNlaG9sZGVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBgJHtfaW50ZXJwb2xhdGlvblN0YXJ0fSR7aW5kZXh9JHtfaW50ZXJwb2xhdGlvbkVuZH1gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYWNlaG9sZGVyIHRoYXQgbWFuaWZlc3RzIGl0c2VsZiBhcyBhbiBhdHRyaWJ1dGUgb24gYW5cbiAgICAgKiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGRpcmVjdGl2ZSBpbmRleCB0byBjcmVhdGUgdGhlIHBsYWNlaG9sZGVyIGZvci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFVzZWQgaW50ZXJuYWxseSBieSBhdHRyaWJ1dGUgZGlyZWN0aXZlcyBzdWNoIGFzIGByZWZgLCBgc2xvdHRlZGAsIGFuZCBgY2hpbGRyZW5gLlxuICAgICAqL1xuICAgIGNyZWF0ZUN1c3RvbUF0dHJpYnV0ZVBsYWNlaG9sZGVyKGF0dHJpYnV0ZU5hbWUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBgJHthdHRyaWJ1dGVOYW1lfT1cIiR7dGhpcy5jcmVhdGVJbnRlcnBvbGF0aW9uUGxhY2Vob2xkZXIoaW5kZXgpfVwiYDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwbGFjZWhvbGRlciB0aGF0IG1hbmlmZXN0cyBpdHNlbGYgYXMgYSBtYXJrZXIgd2l0aGluIHRoZSBET00gc3RydWN0dXJlLlxuICAgICAqIEBwYXJhbSBpbmRleCAtIFRoZSBkaXJlY3RpdmUgaW5kZXggdG8gY3JlYXRlIHRoZSBwbGFjZWhvbGRlciBmb3IuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBVc2VkIGludGVybmFsbHkgYnkgc3RydWN0dXJhbCBkaXJlY3RpdmVzIHN1Y2ggYXMgYHJlcGVhdGAuXG4gICAgICovXG4gICAgY3JlYXRlQmxvY2tQbGFjZWhvbGRlcihpbmRleCkge1xuICAgICAgICByZXR1cm4gYDwhLS0ke21hcmtlcn06JHtpbmRleH0tLT5gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIERPTSB1cGRhdGUgd29yayBpbiB0aGUgbmV4dCBhc3luYyBiYXRjaC5cbiAgICAgKiBAcGFyYW0gY2FsbGFibGUgLSBUaGUgY2FsbGFibGUgZnVuY3Rpb24gb3Igb2JqZWN0IHRvIHF1ZXVlLlxuICAgICAqL1xuICAgIHF1ZXVlVXBkYXRlOiB1cGRhdGVRdWV1ZS5lbnF1ZXVlLFxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IHByb2Nlc3NlcyBhbGwgd29yayBwcmV2aW91c2x5IHNjaGVkdWxlZFxuICAgICAqIHRocm91Z2ggcXVldWVVcGRhdGUuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIGFsc28gZm9yY2VzIG5leHRVcGRhdGUgcHJvbWlzZXNcbiAgICAgKiB0byByZXNvbHZlLlxuICAgICAqL1xuICAgIHByb2Nlc3NVcGRhdGVzOiB1cGRhdGVRdWV1ZS5wcm9jZXNzLFxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHdpdGggdGhlIG5leHQgRE9NIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBuZXh0VXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UodXBkYXRlUXVldWUuZW5xdWV1ZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIGF0dHJpYnV0ZSB2YWx1ZSBvbiBhbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgb24uXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZU5hbWUgLSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHRvIHNldC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIElmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCwgb3RoZXJ3aXNlXG4gICAgICogaXQgaXMgc2V0IHRvIHRoZSBwcm92aWRlZCB2YWx1ZSB1c2luZyB0aGUgc3RhbmRhcmQgYHNldEF0dHJpYnV0ZWAgQVBJLlxuICAgICAqL1xuICAgIHNldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNldHMgYSBib29sZWFuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIHNldCB0aGUgYm9vbGVhbiBhdHRyaWJ1dGUgdmFsdWUgb24uXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZU5hbWUgLSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHRvIHNldC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIElmIHRoZSB2YWx1ZSBpcyB0cnVlLCB0aGUgYXR0cmlidXRlIGlzIGFkZGVkOyBvdGhlcndpc2UgaXQgaXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBzZXRCb29sZWFuQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhbHVlXG4gICAgICAgICAgICA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIFwiXCIpXG4gICAgICAgICAgICA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIGNoaWxkIG5vZGVzIG9mIHRoZSBwcm92aWRlZCBwYXJlbnQgbm9kZS5cbiAgICAgKiBAcGFyYW0gcGFyZW50IC0gVGhlIG5vZGUgdG8gcmVtb3ZlIHRoZSBjaGlsZHJlbiBmcm9tLlxuICAgICAqL1xuICAgIHJlbW92ZUNoaWxkTm9kZXMocGFyZW50KSB7XG4gICAgICAgIGZvciAobGV0IGNoaWxkID0gcGFyZW50LmZpcnN0Q2hpbGQ7IGNoaWxkICE9PSBudWxsOyBjaGlsZCA9IHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVHJlZVdhbGtlciBjb25maWd1cmVkIHRvIHdhbGsgYSB0ZW1wbGF0ZSBmcmFnbWVudC5cbiAgICAgKiBAcGFyYW0gZnJhZ21lbnQgLSBUaGUgZnJhZ21lbnQgdG8gd2Fsay5cbiAgICAgKi9cbiAgICBjcmVhdGVUZW1wbGF0ZVdhbGtlcihmcmFnbWVudCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihmcmFnbWVudCwgMTMzLCAvLyBlbGVtZW50LCB0ZXh0LCBjb21tZW50XG4gICAgICAgIG51bGwsIGZhbHNlKTtcbiAgICB9LFxufSk7XG4iLCIvKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBOb3RpZmllcn0gdGhhdCBlZmZpY2llbnRseSBrZWVwcyB0cmFjayBvZlxuICogc3Vic2NyaWJlcnMgaW50ZXJlc3RlZCBpbiBhIHNwZWNpZmljIGNoYW5nZSBub3RpZmljYXRpb24gb24gYW5cbiAqIG9ic2VydmFibGUgc291cmNlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIHNldCBpcyBvcHRpbWl6ZWQgZm9yIHRoZSBtb3N0IGNvbW1vbiBzY2VuYXJpbyBvZiAxIG9yIDIgc3Vic2NyaWJlcnMuXG4gKiBXaXRoIHRoaXMgaW4gbWluZCwgaXQgY2FuIHN0b3JlIGEgc3Vic2NyaWJlciBpbiBhbiBpbnRlcm5hbCBmaWVsZCwgYWxsb3dpbmcgaXQgdG8gYXZvaWQgQXJyYXkjcHVzaCBvcGVyYXRpb25zLlxuICogSWYgdGhlIHNldCBldmVyIGV4Y2VlZHMgdHdvIHN1YnNjcmliZXJzLCBpdCB1cGdyYWRlcyB0byBhbiBhcnJheSBhdXRvbWF0aWNhbGx5LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlclNldCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBTdWJzY3JpYmVyU2V0IGZvciB0aGUgc3BlY2lmaWVkIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIG9iamVjdCBzb3VyY2UgdGhhdCBzdWJzY3JpYmVycyB3aWxsIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBmcm9tLlxuICAgICAqIEBwYXJhbSBpbml0aWFsU3Vic2NyaWJlciAtIEFuIGluaXRpYWwgc3Vic2NyaWJlciB0byBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgaW5pdGlhbFN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5zdWIxID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnN1YjIgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMuc3BpbGxvdmVyID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zdWIxID0gaW5pdGlhbFN1YnNjcmliZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBzdWJzY3JpYmVyIGhhcyBiZWVuIGFkZGVkIHRvIHRoaXMgc2V0LlxuICAgICAqIEBwYXJhbSBzdWJzY3JpYmVyIC0gVGhlIHN1YnNjcmliZXIgdG8gdGVzdCBmb3IgaW5jbHVzaW9uIGluIHRoaXMgc2V0LlxuICAgICAqL1xuICAgIGhhcyhzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwaWxsb3ZlciA9PT0gdm9pZCAwXG4gICAgICAgICAgICA/IHRoaXMuc3ViMSA9PT0gc3Vic2NyaWJlciB8fCB0aGlzLnN1YjIgPT09IHN1YnNjcmliZXJcbiAgICAgICAgICAgIDogdGhpcy5zcGlsbG92ZXIuaW5kZXhPZihzdWJzY3JpYmVyKSAhPT0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gbm90aWZpY2F0aW9uIG9mIGNoYW5nZXMgaW4gYW4gb2JqZWN0J3Mgc3RhdGUuXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBUaGUgb2JqZWN0IHRoYXQgaXMgc3Vic2NyaWJpbmcgZm9yIGNoYW5nZSBub3RpZmljYXRpb24uXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpIHtcbiAgICAgICAgY29uc3Qgc3BpbGxvdmVyID0gdGhpcy5zcGlsbG92ZXI7XG4gICAgICAgIGlmIChzcGlsbG92ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzKHN1YnNjcmliZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3ViMSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIxID0gc3Vic2NyaWJlcjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdWIyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YjIgPSBzdWJzY3JpYmVyO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3BpbGxvdmVyID0gW3RoaXMuc3ViMSwgdGhpcy5zdWIyLCBzdWJzY3JpYmVyXTtcbiAgICAgICAgICAgIHRoaXMuc3ViMSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuc3ViMiA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3BpbGxvdmVyLmluZGV4T2Yoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3BpbGxvdmVyLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmVzIGZyb20gbm90aWZpY2F0aW9uIG9mIGNoYW5nZXMgaW4gYW4gb2JqZWN0J3Mgc3RhdGUuXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBUaGUgb2JqZWN0IHRoYXQgaXMgdW5zdWJzY3JpYmluZyBmcm9tIGNoYW5nZSBub3RpZmljYXRpb24uXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICBjb25zdCBzcGlsbG92ZXIgPSB0aGlzLnNwaWxsb3ZlcjtcbiAgICAgICAgaWYgKHNwaWxsb3ZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWIxID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIxID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdWIyID09PSBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIyID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzcGlsbG92ZXIuaW5kZXhPZihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzcGlsbG92ZXIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgc3Vic2NyaWJlcnMuXG4gICAgICogQHBhcmFtIGFyZ3MgLSBEYXRhIHBhc3NlZCBhbG9uZyB0byBzdWJzY3JpYmVycyBkdXJpbmcgbm90aWZpY2F0aW9uLlxuICAgICAqL1xuICAgIG5vdGlmeShhcmdzKSB7XG4gICAgICAgIGNvbnN0IHNwaWxsb3ZlciA9IHRoaXMuc3BpbGxvdmVyO1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKHNwaWxsb3ZlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdWIxID0gdGhpcy5zdWIxO1xuICAgICAgICAgICAgY29uc3Qgc3ViMiA9IHRoaXMuc3ViMjtcbiAgICAgICAgICAgIGlmIChzdWIxICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzdWIxLmhhbmRsZUNoYW5nZShzb3VyY2UsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1YjIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHN1YjIuaGFuZGxlQ2hhbmdlKHNvdXJjZSwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBzcGlsbG92ZXIubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIHNwaWxsb3ZlcltpXS5oYW5kbGVDaGFuZ2Uoc291cmNlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgTm90aWZpZXIgdGhhdCBhbGxvd3Mgc3Vic2NyaWJlcnMgdG8gYmUgbm90aWZpZWRcbiAqIG9mIGluZGl2aWR1YWwgcHJvcGVydHkgY2hhbmdlcyBvbiBhbiBvYmplY3QuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFByb3BlcnR5Q2hhbmdlTm90aWZpZXIgZm9yIHRoZSBzcGVjaWZpZWQgc291cmNlLlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgb2JqZWN0IHNvdXJjZSB0aGF0IHN1YnNjcmliZXJzIHdpbGwgcmVjZWl2ZSBub3RpZmljYXRpb25zIGZyb20uXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zb3VyY2VTdWJzY3JpYmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgc3Vic2NyaWJlcnMsIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHByb3BlcnR5TmFtZSAtIFRoZSBwcm9wZXJ0eSBuYW1lLCBwYXNzZWQgYWxvbmcgdG8gc3Vic2NyaWJlcnMgZHVyaW5nIG5vdGlmaWNhdGlvbi5cbiAgICAgKi9cbiAgICBub3RpZnkocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLnN1YnNjcmliZXJzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgIGlmIChzdWJzY3JpYmVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVycy5ub3RpZnkocHJvcGVydHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoX2EgPSB0aGlzLnNvdXJjZVN1YnNjcmliZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eubm90aWZ5KHByb3BlcnR5TmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdG8gbm90aWZpY2F0aW9uIG9mIGNoYW5nZXMgaW4gYW4gb2JqZWN0J3Mgc3RhdGUuXG4gICAgICogQHBhcmFtIHN1YnNjcmliZXIgLSBUaGUgb2JqZWN0IHRoYXQgaXMgc3Vic2NyaWJpbmcgZm9yIGNoYW5nZSBub3RpZmljYXRpb24uXG4gICAgICogQHBhcmFtIHByb3BlcnR5VG9XYXRjaCAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IHRoZSBzdWJzY3JpYmVyIGlzIGludGVyZXN0ZWQgaW4gd2F0Y2hpbmcgZm9yIGNoYW5nZXMuXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIsIHByb3BlcnR5VG9XYXRjaCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm9wZXJ0eVRvV2F0Y2gpIHtcbiAgICAgICAgICAgIGxldCBzdWJzY3JpYmVycyA9IHRoaXMuc3Vic2NyaWJlcnNbcHJvcGVydHlUb1dhdGNoXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1twcm9wZXJ0eVRvV2F0Y2hdID0gc3Vic2NyaWJlcnMgPSBuZXcgU3Vic2NyaWJlclNldCh0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVycy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVN1YnNjcmliZXJzID1cbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnNvdXJjZVN1YnNjcmliZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgU3Vic2NyaWJlclNldCh0aGlzLnNvdXJjZSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZVN1YnNjcmliZXJzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZXMgZnJvbSBub3RpZmljYXRpb24gb2YgY2hhbmdlcyBpbiBhbiBvYmplY3QncyBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gc3Vic2NyaWJlciAtIFRoZSBvYmplY3QgdGhhdCBpcyB1bnN1YnNjcmliaW5nIGZyb20gY2hhbmdlIG5vdGlmaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0gcHJvcGVydHlUb1Vud2F0Y2ggLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCB0aGUgc3Vic2NyaWJlciBpcyBubyBsb25nZXIgaW50ZXJlc3RlZCBpbiB3YXRjaGluZy5cbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyLCBwcm9wZXJ0eVRvVW53YXRjaCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm9wZXJ0eVRvVW53YXRjaCkge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLnN1YnNjcmliZXJzW3Byb3BlcnR5VG9VbndhdGNoXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycyAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcnMudW5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNvdXJjZVN1YnNjcmliZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudW5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRhZGF0YUxvY2F0b3IsIEZBU1QgfSBmcm9tIFwiLi4vcGxhdGZvcm0uanNcIjtcbmltcG9ydCB7IFByb3BlcnR5Q2hhbmdlTm90aWZpZXIsIFN1YnNjcmliZXJTZXQgfSBmcm9tIFwiLi9ub3RpZmllci5qc1wiO1xuLyoqXG4gKiBDb21tb24gT2JzZXJ2YWJsZSBBUElzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgT2JzZXJ2YWJsZSA9IEZBU1QuZ2V0QnlJZCgyIC8qIG9ic2VydmFibGUgKi8sICgpID0+IHtcbiAgICBjb25zdCB2b2xhdGlsZVJlZ2V4ID0gLyg6fCYmfFxcfFxcfHxpZikvO1xuICAgIGNvbnN0IG5vdGlmaWVyTG9va3VwID0gbmV3IFdlYWtNYXAoKTtcbiAgICBjb25zdCBxdWV1ZVVwZGF0ZSA9IERPTS5xdWV1ZVVwZGF0ZTtcbiAgICBsZXQgd2F0Y2hlciA9IHZvaWQgMDtcbiAgICBsZXQgY3JlYXRlQXJyYXlPYnNlcnZlciA9IChhcnJheSkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IGNhbGwgZW5hYmxlQXJyYXlPYnNlcnZhdGlvbiBiZWZvcmUgb2JzZXJ2aW5nIGFycmF5cy5cIik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXROb3RpZmllcihzb3VyY2UpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gc291cmNlLiRmYXN0Q29udHJvbGxlciB8fCBub3RpZmllckxvb2t1cC5nZXQoc291cmNlKTtcbiAgICAgICAgaWYgKGZvdW5kID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNyZWF0ZUFycmF5T2JzZXJ2ZXIoc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vdGlmaWVyTG9va3VwLnNldChzb3VyY2UsIChmb3VuZCA9IG5ldyBQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyKHNvdXJjZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuICAgIGNvbnN0IGdldEFjY2Vzc29ycyA9IGNyZWF0ZU1ldGFkYXRhTG9jYXRvcigpO1xuICAgIGNsYXNzIERlZmF1bHRPYnNlcnZhYmxlQWNjZXNzb3Ige1xuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5maWVsZCA9IGBfJHtuYW1lfWA7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gYCR7bmFtZX1DaGFuZ2VkYDtcbiAgICAgICAgfVxuICAgICAgICBnZXRWYWx1ZShzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICh3YXRjaGVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB3YXRjaGVyLndhdGNoKHNvdXJjZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VbdGhpcy5maWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmFsdWUoc291cmNlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzb3VyY2VbZmllbGRdO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVtmaWVsZF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHNvdXJjZVt0aGlzLmNhbGxiYWNrXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChzb3VyY2UsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdldE5vdGlmaWVyKHNvdXJjZSkubm90aWZ5KHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xhc3MgQmluZGluZ09ic2VydmVySW1wbGVtZW50YXRpb24gZXh0ZW5kcyBTdWJzY3JpYmVyU2V0IHtcbiAgICAgICAgY29uc3RydWN0b3IoYmluZGluZywgaW5pdGlhbFN1YnNjcmliZXIsIGlzVm9sYXRpbGVCaW5kaW5nID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN1cGVyKGJpbmRpbmcsIGluaXRpYWxTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZyA9IGJpbmRpbmc7XG4gICAgICAgICAgICB0aGlzLmlzVm9sYXRpbGVCaW5kaW5nID0gaXNWb2xhdGlsZUJpbmRpbmc7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maXJzdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eVNvdXJjZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgdGhpcy5ub3RpZmllciA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZlKHNvdXJjZSwgY29udGV4dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoICYmIHRoaXMubGFzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNXYXRjaGVyID0gd2F0Y2hlcjtcbiAgICAgICAgICAgIHdhdGNoZXIgPSB0aGlzLm5lZWRzUmVmcmVzaCA/IHRoaXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLm5lZWRzUmVmcmVzaCA9IHRoaXMuaXNWb2xhdGlsZUJpbmRpbmc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJpbmRpbmcoc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHdhdGNoZXIgPSBwcmV2aW91c1dhdGNoZXI7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmZpcnN0O1xuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5ub3RpZmllci51bnN1YnNjcmliZSh0aGlzLCBjdXJyZW50LnByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSB0aGlzLm5lZWRzUXVldWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdhdGNoKHByb3BlcnR5U291cmNlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLmxhc3Q7XG4gICAgICAgICAgICBjb25zdCBub3RpZmllciA9IGdldE5vdGlmaWVyKHByb3BlcnR5U291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwcmV2ID09PSBudWxsID8gdGhpcy5maXJzdCA6IHt9O1xuICAgICAgICAgICAgY3VycmVudC5wcm9wZXJ0eVNvdXJjZSA9IHByb3BlcnR5U291cmNlO1xuICAgICAgICAgICAgY3VycmVudC5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICBjdXJyZW50Lm5vdGlmaWVyID0gbm90aWZpZXI7XG4gICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUodGhpcywgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIGlmIChwcmV2ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5lZWRzUmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWNsYXJpbmcgdGhlIHZhcmlhYmxlIHByaW9yIHRvIGFzc2lnbm1lbnQgYmVsb3cgY2lyY3VtdmVudHNcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBidWcgaW4gQW5ndWxhcidzIG9wdGltaXphdGlvbiBwcm9jZXNzIGNhdXNpbmcgaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoaXMgd2F0Y2goKSBtZXRob2QuIERldGFpbHMgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9mYXN0L2lzc3Vlcy80OTY5XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmV2VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAqL1xuICAgICAgICAgICAgICAgICAgICBwcmV2VmFsdWUgPSBwcmV2LnByb3BlcnR5U291cmNlW3ByZXYucHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzICovXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlTb3VyY2UgPT09IHByZXZWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZWVkc1JlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBjdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5lZWRzUXVldWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzUXVldWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBxdWV1ZVVwZGF0ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubGFzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNRdWV1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVjb3JkcygpIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5maXJzdDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogQHBhcmFtIGZhY3RvcnkgLSBUaGUgZmFjdG9yeSB1c2VkIHRvIGNyZWF0ZSBhcnJheSBvYnNlcnZlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRBcnJheU9ic2VydmVyRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgICAgICAgICBjcmVhdGVBcnJheU9ic2VydmVyID0gZmFjdG9yeTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSBub3RpZmllciBmb3IgYW4gb2JqZWN0IG9yIEFycmF5LlxuICAgICAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIG9iamVjdCBvciBBcnJheSB0byBnZXQgdGhlIG5vdGlmaWVyIGZvci5cbiAgICAgICAgICovXG4gICAgICAgIGdldE5vdGlmaWVyLFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVjb3JkcyBhIHByb3BlcnR5IGNoYW5nZSBmb3IgYSBzb3VyY2Ugb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIG9iamVjdCB0byByZWNvcmQgdGhlIGNoYW5nZSBhZ2FpbnN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIC0gVGhlIHByb3BlcnR5IHRvIHRyYWNrIGFzIGNoYW5nZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0cmFjayhzb3VyY2UsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgaWYgKHdhdGNoZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHdhdGNoZXIud2F0Y2goc291cmNlLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2F0Y2hlcnMgdGhhdCB0aGUgY3VycmVudGx5IGV4ZWN1dGluZyBwcm9wZXJ0eSBnZXR0ZXIgb3IgZnVuY3Rpb24gaXMgdm9sYXRpbGVcbiAgICAgICAgICogd2l0aCByZXNwZWN0IHRvIGl0cyBvYnNlcnZhYmxlIGRlcGVuZGVuY2llcy5cbiAgICAgICAgICovXG4gICAgICAgIHRyYWNrVm9sYXRpbGUoKSB7XG4gICAgICAgICAgICBpZiAod2F0Y2hlciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgd2F0Y2hlci5uZWVkc1JlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgc3Vic2NyaWJlcnMgb2YgYSBzb3VyY2Ugb2JqZWN0IG9mIGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgb2JqZWN0IHRvIG5vdGlmeSBvZiBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0gYXJncyAtIFRoZSBjaGFuZ2UgYXJncyB0byBwYXNzIHRvIHN1YnNjcmliZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgbm90aWZ5KHNvdXJjZSwgYXJncykge1xuICAgICAgICAgICAgZ2V0Tm90aWZpZXIoc291cmNlKS5ub3RpZnkoYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIGFuIG9ic2VydmFibGUgcHJvcGVydHkgb24gYW4gb2JqZWN0IG9yIHByb3RvdHlwZS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgb2JqZWN0IHRvIGRlZmluZSB0aGUgb2JzZXJ2YWJsZSBvbi5cbiAgICAgICAgICogQHBhcmFtIG5hbWVPckFjY2Vzc29yIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGRlZmluZSBhcyBvYnNlcnZhYmxlO1xuICAgICAgICAgKiBvciBhIGN1c3RvbSBhY2Nlc3NvciB0aGF0IHNwZWNpZmllcyB0aGUgcHJvcGVydHkgbmFtZSBhbmQgYWNjZXNzb3IgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWVPckFjY2Vzc29yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWVPckFjY2Vzc29yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbmFtZU9yQWNjZXNzb3IgPSBuZXcgRGVmYXVsdE9ic2VydmFibGVBY2Nlc3NvcihuYW1lT3JBY2Nlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRBY2Nlc3NvcnModGFyZ2V0KS5wdXNoKG5hbWVPckFjY2Vzc29yKTtcbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lT3JBY2Nlc3Nvci5uYW1lLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVPckFjY2Vzc29yLmdldFZhbHVlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZU9yQWNjZXNzb3Iuc2V0VmFsdWUodGhpcywgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmRzIGFsbCB0aGUgb2JzZXJ2YWJsZSBhY2Nlc3NvcnMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0LFxuICAgICAgICAgKiBpbmNsdWRpbmcgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgb2JqZWN0IHRvIHNlYXJjaCBmb3IgYWNjZXNzb3Igb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRBY2Nlc3NvcnMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEge0BsaW5rIEJpbmRpbmdPYnNlcnZlcn0gdGhhdCBjYW4gd2F0Y2ggdGhlXG4gICAgICAgICAqIHByb3ZpZGVkIHtAbGluayBCaW5kaW5nfSBmb3IgY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIGJpbmRpbmcgLSBUaGUgYmluZGluZyB0byBvYnNlcnZlLlxuICAgICAgICAgKiBAcGFyYW0gaW5pdGlhbFN1YnNjcmliZXIgLSBBbiBpbml0aWFsIHN1YnNjcmliZXIgdG8gY2hhbmdlcyBpbiB0aGUgYmluZGluZyB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIGlzVm9sYXRpbGVCaW5kaW5nIC0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJpbmRpbmcncyBkZXBlbmRlbmN5IGxpc3QgbXVzdCBiZSByZS1ldmFsdWF0ZWQgb24gZXZlcnkgdmFsdWUgZXZhbHVhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGJpbmRpbmcoYmluZGluZywgaW5pdGlhbFN1YnNjcmliZXIsIGlzVm9sYXRpbGVCaW5kaW5nID0gdGhpcy5pc1ZvbGF0aWxlQmluZGluZyhiaW5kaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nT2JzZXJ2ZXJJbXBsZW1lbnRhdGlvbihiaW5kaW5nLCBpbml0aWFsU3Vic2NyaWJlciwgaXNWb2xhdGlsZUJpbmRpbmcpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgYmluZGluZyBleHByZXNzaW9uIGlzIHZvbGF0aWxlIGFuZCBuZWVkcyB0byBoYXZlIGl0cyBkZXBlbmRlbmN5IGxpc3QgcmUtZXZhbHVhdGVkXG4gICAgICAgICAqIG9uIGV2ZXJ5IGV2YWx1YXRpb24gb2YgdGhlIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0gYmluZGluZyAtIFRoZSBiaW5kaW5nIHRvIGluc3BlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBpc1ZvbGF0aWxlQmluZGluZyhiaW5kaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdm9sYXRpbGVSZWdleC50ZXN0KGJpbmRpbmcudG9TdHJpbmcoKSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59KTtcbi8qKlxuICogRGVjb3JhdG9yOiBEZWZpbmVzIGFuIG9ic2VydmFibGUgcHJvcGVydHkgb24gdGhlIHRhcmdldC5cbiAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IHRvIGRlZmluZSB0aGUgb2JzZXJ2YWJsZSBvbi5cbiAqIEBwYXJhbSBuYW1lT3JBY2Nlc3NvciAtIFRoZSBwcm9wZXJ0eSBuYW1lIG9yIGFjY2Vzc29yIHRvIGRlZmluZSB0aGUgb2JzZXJ2YWJsZSBhcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmFibGUodGFyZ2V0LCBuYW1lT3JBY2Nlc3Nvcikge1xuICAgIE9ic2VydmFibGUuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lT3JBY2Nlc3Nvcik7XG59XG4vKipcbiAqIERlY29yYXRvcjogTWFya3MgYSBwcm9wZXJ0eSBnZXR0ZXIgYXMgaGF2aW5nIHZvbGF0aWxlIG9ic2VydmFibGUgZGVwZW5kZW5jaWVzLlxuICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgdGhhdCB0aGUgcHJvcGVydHkgaXMgZGVmaW5lZCBvbi5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIHByb3BlcnR5IG5hbWUuXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBleGlzdGluZyBkZXNjcmlwdG9yLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdm9sYXRpbGUodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBPYnNlcnZhYmxlLnRyYWNrVm9sYXRpbGUoKTtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5hcHBseSh0aGlzKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmNvbnN0IGNvbnRleHRFdmVudCA9IEZBU1QuZ2V0QnlJZCgzIC8qIGNvbnRleHRFdmVudCAqLywgKCkgPT4ge1xuICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KGV2ZW50KSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gZXZlbnQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn0pO1xuLyoqXG4gKiBQcm92aWRlcyBhZGRpdGlvbmFsIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gYXZhaWxhYmxlIHRvIGJlaGF2aW9ycyBhbmQgZXhwcmVzc2lvbnMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBFeGVjdXRpb25Db250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBpdGVtIHdpdGhpbiBhIHJlcGVhdCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gd2l0aGluIGEgcmVwZWF0IGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFyZW50IGRhdGEgb2JqZWN0IHdpdGhpbiBhIHJlcGVhdCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBhcmVudCBleGVjdXRpb24gY29udGV4dCB3aGVuIGluIG5lc3RlZCBjb250ZXh0IHNjZW5hcmlvcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGV2ZW50IHdpdGhpbiBhbiBldmVudCBoYW5kbGVyLlxuICAgICAqL1xuICAgIGdldCBldmVudCgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHRFdmVudC5nZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgaXRlbSB3aXRoaW4gYSByZXBlYXQgY29udGV4dFxuICAgICAqIGhhcyBhbiBldmVuIGluZGV4LlxuICAgICAqL1xuICAgIGdldCBpc0V2ZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4ICUgMiA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgaXRlbSB3aXRoaW4gYSByZXBlYXQgY29udGV4dFxuICAgICAqIGhhcyBhbiBvZGQgaW5kZXguXG4gICAgICovXG4gICAgZ2V0IGlzT2RkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCAlIDIgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjdXJyZW50IGl0ZW0gd2l0aGluIGEgcmVwZWF0IGNvbnRleHRcbiAgICAgKiBpcyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgaXNGaXJzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjdXJyZW50IGl0ZW0gd2l0aGluIGEgcmVwZWF0IGNvbnRleHRcbiAgICAgKiBpcyBzb21ld2hlcmUgaW4gdGhlIG1pZGRsZSBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgaXNJbk1pZGRsZSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzRmlyc3QgJiYgIXRoaXMuaXNMYXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY3VycmVudCBpdGVtIHdpdGhpbiBhIHJlcGVhdCBjb250ZXh0XG4gICAgICogaXMgdGhlIGxhc3QgaXRlbSBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgaXNMYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCA9PT0gdGhpcy5sZW5ndGggLSAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBldmVudCBmb3IgdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGNvbnRleHQuXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIHNldC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29udGV4dEV2ZW50LnNldChldmVudCk7XG4gICAgfVxufVxuT2JzZXJ2YWJsZS5kZWZpbmVQcm9wZXJ0eShFeGVjdXRpb25Db250ZXh0LnByb3RvdHlwZSwgXCJpbmRleFwiKTtcbk9ic2VydmFibGUuZGVmaW5lUHJvcGVydHkoRXhlY3V0aW9uQ29udGV4dC5wcm90b3R5cGUsIFwibGVuZ3RoXCIpO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBleGVjdXRpb24gY29udGV4dCB1c2VkIGluIGJpbmRpbmcgZXhwcmVzc2lvbnMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCA9IE9iamVjdC5zZWFsKG5ldyBFeGVjdXRpb25Db250ZXh0KCkpO1xuIiwiaW1wb3J0IHsgRE9NIH0gZnJvbSBcIi4uL2RvbS5qc1wiO1xuLyoqXG4gKiBJbnN0cnVjdHMgdGhlIHRlbXBsYXRlIGVuZ2luZSB0byBhcHBseSBiZWhhdmlvciB0byBhIG5vZGUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBIVE1MRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCBvZiB0aGUgRE9NIG5vZGUgdG8gd2hpY2ggdGhlIGNyZWF0ZWQgYmVoYXZpb3Igd2lsbCBhcHBseS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0SW5kZXggPSAwO1xuICAgIH1cbn1cbi8qKlxuICogQSB7QGxpbmsgSFRNTERpcmVjdGl2ZX0gdGhhdCB0YXJnZXRzIGEgbmFtZWQgYXR0cmlidXRlIG9yIHByb3BlcnR5IG9uIGEgbm9kZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFRhcmdldGVkSFRNTERpcmVjdGl2ZSBleHRlbmRzIEhUTUxEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIHBsYWNlaG9sZGVyIHN0cmluZyBiYXNlZCBvbiB0aGUgZGlyZWN0aXZlJ3MgaW5kZXggd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBkaXJlY3RpdmUgd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhY2Vob2xkZXIgPSBET00uY3JlYXRlSW50ZXJwb2xhdGlvblBsYWNlaG9sZGVyO1xuICAgIH1cbn1cbi8qKlxuICogQSBkaXJlY3RpdmUgdGhhdCBhdHRhY2hlcyBzcGVjaWFsIGJlaGF2aW9yIHRvIGFuIGVsZW1lbnQgdmlhIGEgY3VzdG9tIGF0dHJpYnV0ZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlIGV4dGVuZHMgSFRNTERpcmVjdGl2ZSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBiZWhhdmlvcjsgdXNlZCBhcyBhIGN1c3RvbSBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGJlaGF2aW9yIC0gVGhlIGJlaGF2aW9yIHRvIGluc3RhbnRpYXRlIGFuZCBhdHRhY2ggdG8gdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHRvIHBhc3MgdG8gdGhlIGJlaGF2aW9yIGR1cmluZyBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBiZWhhdmlvciwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmJlaGF2aW9yID0gYmVoYXZpb3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwbGFjZWhvbGRlciBzdHJpbmcgYmFzZWQgb24gdGhlIGRpcmVjdGl2ZSdzIGluZGV4IHdpdGhpbiB0aGUgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBkaXJlY3RpdmUgd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIENyZWF0ZXMgYSBjdXN0b20gYXR0cmlidXRlIHBsYWNlaG9sZGVyLlxuICAgICAqL1xuICAgIGNyZWF0ZVBsYWNlaG9sZGVyKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBET00uY3JlYXRlQ3VzdG9tQXR0cmlidXRlUGxhY2Vob2xkZXIodGhpcy5uYW1lLCBpbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiZWhhdmlvciBmb3IgdGhlIHByb3ZpZGVkIHRhcmdldCBub2RlLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgbm9kZSBpbnN0YW5jZSB0byBjcmVhdGUgdGhlIGJlaGF2aW9yIGZvci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIGBiZWhhdmlvcmAgdHlwZSB0aGlzIGRpcmVjdGl2ZSB3YXMgY29uc3RydWN0ZWQgd2l0aFxuICAgICAqIGFuZCBwYXNzZXMgdGhlIHRhcmdldCBhbmQgb3B0aW9ucyB0byB0aGF0IGBiZWhhdmlvcmAncyBjb25zdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBjcmVhdGVCZWhhdmlvcih0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmJlaGF2aW9yKHRhcmdldCwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBFeGVjdXRpb25Db250ZXh0LCBPYnNlcnZhYmxlLCB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBUYXJnZXRlZEhUTUxEaXJlY3RpdmUgfSBmcm9tIFwiLi9odG1sLWRpcmVjdGl2ZS5qc1wiO1xuZnVuY3Rpb24gbm9ybWFsQmluZChzb3VyY2UsIGNvbnRleHQpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIGlmICh0aGlzLmJpbmRpbmdPYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlciA9IE9ic2VydmFibGUuYmluZGluZyh0aGlzLmJpbmRpbmcsIHRoaXMsIHRoaXMuaXNCaW5kaW5nVm9sYXRpbGUpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVRhcmdldCh0aGlzLmJpbmRpbmdPYnNlcnZlci5vYnNlcnZlKHNvdXJjZSwgY29udGV4dCkpO1xufVxuZnVuY3Rpb24gdHJpZ2dlckJpbmQoc291cmNlLCBjb250ZXh0KSB7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRoaXMudGFyZ2V0TmFtZSwgdGhpcyk7XG59XG5mdW5jdGlvbiBub3JtYWxVbmJpbmQoKSB7XG4gICAgdGhpcy5iaW5kaW5nT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xufVxuZnVuY3Rpb24gY29udGVudFVuYmluZCgpIHtcbiAgICB0aGlzLmJpbmRpbmdPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgY29uc3QgdmlldyA9IHRoaXMudGFyZ2V0LiRmYXN0VmlldztcbiAgICBpZiAodmlldyAhPT0gdm9pZCAwICYmIHZpZXcuaXNDb21wb3NlZCkge1xuICAgICAgICB2aWV3LnVuYmluZCgpO1xuICAgICAgICB2aWV3Lm5lZWRzQmluZE9ubHkgPSB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJVbmJpbmQoKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnRhcmdldE5hbWUsIHRoaXMpO1xuICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xufVxuZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlVGFyZ2V0KHZhbHVlKSB7XG4gICAgRE9NLnNldEF0dHJpYnV0ZSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXROYW1lLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiB1cGRhdGVCb29sZWFuQXR0cmlidXRlVGFyZ2V0KHZhbHVlKSB7XG4gICAgRE9NLnNldEJvb2xlYW5BdHRyaWJ1dGUodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0TmFtZSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29udGVudFRhcmdldCh2YWx1ZSkge1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gYWN0dWFsIHZhbHVlLCB0aGVuIHRoaXMgZXF1YXRlcyB0byB0aGVcbiAgICAvLyBlbXB0eSBzdHJpbmcgZm9yIHRoZSBwdXJwb3NlcyBvZiBjb250ZW50IGJpbmRpbmdzLlxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHZhbHVlIGhhcyBhIFwiY3JlYXRlXCIgbWV0aG9kLCB0aGVuIGl0J3MgYSB0ZW1wbGF0ZS1saWtlLlxuICAgIGlmICh2YWx1ZS5jcmVhdGUpIHtcbiAgICAgICAgdGhpcy50YXJnZXQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMudGFyZ2V0LiRmYXN0VmlldztcbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBwcmV2aW91cyB2aWV3IHRoYXQgd2UgbWlnaHQgYmUgYWJsZSB0b1xuICAgICAgICAvLyByZXVzZSB0aGVuIGNyZWF0ZSBhIG5ldyB2aWV3IGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICBpZiAodmlldyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2aWV3ID0gdmFsdWUuY3JlYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHByZXZpb3VzIHZpZXcsIGJ1dCBpdCB3YXNuJ3QgY3JlYXRlZFxuICAgICAgICAgICAgLy8gZnJvbSB0aGUgc2FtZSB0ZW1wbGF0ZSBhcyB0aGUgbmV3IHZhbHVlLCB0aGVuIHdlXG4gICAgICAgICAgICAvLyBuZWVkIHRvIHJlbW92ZSB0aGUgb2xkIHZpZXcgaWYgaXQncyBzdGlsbCBpbiB0aGUgRE9NXG4gICAgICAgICAgICAvLyBhbmQgY3JlYXRlIGEgbmV3IHZpZXcgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQuJGZhc3RUZW1wbGF0ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0NvbXBvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcudW5iaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2YWx1ZS5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHRoZSBwcmV2aW91cyB0ZW1wbGF0ZVxuICAgICAgICAvLyBhbmQgdGhhdCB0aGVyZSdzIGFjdHVhbGx5IG5vIG5lZWQgdG8gY29tcG9zZSBpdC5cbiAgICAgICAgaWYgKCF2aWV3LmlzQ29tcG9zZWQpIHtcbiAgICAgICAgICAgIHZpZXcuaXNDb21wb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2aWV3LmJpbmQodGhpcy5zb3VyY2UsIHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICB2aWV3Lmluc2VydEJlZm9yZSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC4kZmFzdFZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuJGZhc3RUZW1wbGF0ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZpZXcubmVlZHNCaW5kT25seSkge1xuICAgICAgICAgICAgdmlldy5uZWVkc0JpbmRPbmx5ID0gZmFsc2U7XG4gICAgICAgICAgICB2aWV3LmJpbmQodGhpcy5zb3VyY2UsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnRhcmdldC4kZmFzdFZpZXc7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgdmlldyBhbmQgaXQncyBjdXJyZW50bHkgY29tcG9zZWQgaW50b1xuICAgICAgICAvLyB0aGUgRE9NLCB0aGVuIHdlIG5lZWQgdG8gcmVtb3ZlIGl0LlxuICAgICAgICBpZiAodmlldyAhPT0gdm9pZCAwICYmIHZpZXcuaXNDb21wb3NlZCkge1xuICAgICAgICAgICAgdmlldy5pc0NvbXBvc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2aWV3LnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKHZpZXcubmVlZHNCaW5kT25seSkge1xuICAgICAgICAgICAgICAgIHZpZXcubmVlZHNCaW5kT25seSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlldy51bmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5VGFyZ2V0KHZhbHVlKSB7XG4gICAgdGhpcy50YXJnZXRbdGhpcy50YXJnZXROYW1lXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gdXBkYXRlQ2xhc3NUYXJnZXQodmFsdWUpIHtcbiAgICBjb25zdCBjbGFzc1ZlcnNpb25zID0gdGhpcy5jbGFzc1ZlcnNpb25zIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gICAgbGV0IHZlcnNpb24gPSB0aGlzLnZlcnNpb24gfHwgMDtcbiAgICAvLyBBZGQgdGhlIGNsYXNzZXMsIHRyYWNraW5nIHRoZSB2ZXJzaW9uIGF0IHdoaWNoIHRoZXkgd2VyZSBhZGRlZC5cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSB2YWx1ZS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGFzc1ZlcnNpb25zW2N1cnJlbnROYW1lXSA9IHZlcnNpb247XG4gICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChjdXJyZW50TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jbGFzc1ZlcnNpb25zID0gY2xhc3NWZXJzaW9ucztcbiAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uICsgMTtcbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsIHRvIGFkZCBjbGFzc2VzLCB0aGVyZSdzIG5vIG5lZWQgdG8gcmVtb3ZlIG9sZCBvbmVzLlxuICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGNsYXNzZXMgZnJvbSB0aGUgcHJldmlvdXMgdmVyc2lvbi5cbiAgICB2ZXJzaW9uIC09IDE7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGNsYXNzVmVyc2lvbnMpIHtcbiAgICAgICAgaWYgKGNsYXNzVmVyc2lvbnNbbmFtZV0gPT09IHZlcnNpb24pIHtcbiAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGNvbmZpZ3VyZXMgZGF0YSBiaW5kaW5nIHRvIGVsZW1lbnQgY29udGVudCBhbmQgYXR0cmlidXRlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEhUTUxCaW5kaW5nRGlyZWN0aXZlIGV4dGVuZHMgVGFyZ2V0ZWRIVE1MRGlyZWN0aXZlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJpbmRpbmdEaXJlY3RpdmUuXG4gICAgICogQHBhcmFtIGJpbmRpbmcgLSBBIGJpbmRpbmcgdGhhdCByZXR1cm5zIHRoZSBkYXRhIHVzZWQgdG8gdXBkYXRlIHRoZSBET00uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmluZGluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJpbmRpbmcgPSBiaW5kaW5nO1xuICAgICAgICB0aGlzLmJpbmQgPSBub3JtYWxCaW5kO1xuICAgICAgICB0aGlzLnVuYmluZCA9IG5vcm1hbFVuYmluZDtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQgPSB1cGRhdGVBdHRyaWJ1dGVUYXJnZXQ7XG4gICAgICAgIHRoaXMuaXNCaW5kaW5nVm9sYXRpbGUgPSBPYnNlcnZhYmxlLmlzVm9sYXRpbGVCaW5kaW5nKHRoaXMuYmluZGluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMvc2V0cyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIG9yIHByb3BlcnR5IHRoYXQgdGhpc1xuICAgICAqIGJpbmRpbmcgaXMgdGFyZ2V0aW5nLlxuICAgICAqL1xuICAgIGdldCB0YXJnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbFRhcmdldE5hbWU7XG4gICAgfVxuICAgIHNldCB0YXJnZXROYW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxUYXJnZXROYW1lID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh2YWx1ZVswXSkge1xuICAgICAgICAgICAgY2FzZSBcIjpcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFuZWRUYXJnZXROYW1lID0gdmFsdWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0ID0gdXBkYXRlUHJvcGVydHlUYXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xlYW5lZFRhcmdldE5hbWUgPT09IFwiaW5uZXJIVE1MXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuYmluZGluZztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nID0gKHMsIGMpID0+IERPTS5jcmVhdGVIVE1MKGJpbmRpbmcocywgYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbmVkVGFyZ2V0TmFtZSA9IHZhbHVlLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldCA9IHVwZGF0ZUJvb2xlYW5BdHRyaWJ1dGVUYXJnZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQFwiOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5lZFRhcmdldE5hbWUgPSB2YWx1ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kID0gdHJpZ2dlckJpbmQ7XG4gICAgICAgICAgICAgICAgdGhpcy51bmJpbmQgPSB0cmlnZ2VyVW5iaW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFuZWRUYXJnZXROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQgPSB1cGRhdGVDbGFzc1RhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhpcyBiaW5kaW5nIHRhcmdldCB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IHJhdGhlciB0aGFuXG4gICAgICogYSBwYXJ0aWN1bGFyIGF0dHJpYnV0ZSBvciBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICB0YXJnZXRBdENvbnRlbnQoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0ID0gdXBkYXRlQ29udGVudFRhcmdldDtcbiAgICAgICAgdGhpcy51bmJpbmQgPSBjb250ZW50VW5iaW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBydW50aW1lIEJpbmRpbmdCZWhhdmlvciBpbnN0YW5jZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvblxuICAgICAqIGluZm9ybWF0aW9uIHN0b3JlZCBpbiB0aGUgQmluZGluZ0RpcmVjdGl2ZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIHRhcmdldCBub2RlIHRoYXQgdGhlIGJpbmRpbmcgYmVoYXZpb3Igc2hvdWxkIGF0dGFjaCB0by5cbiAgICAgKi9cbiAgICBjcmVhdGVCZWhhdmlvcih0YXJnZXQpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZSAqL1xuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmdCZWhhdmlvcih0YXJnZXQsIHRoaXMuYmluZGluZywgdGhpcy5pc0JpbmRpbmdWb2xhdGlsZSwgdGhpcy5iaW5kLCB0aGlzLnVuYmluZCwgdGhpcy51cGRhdGVUYXJnZXQsIHRoaXMuY2xlYW5lZFRhcmdldE5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogQSBiZWhhdmlvciB0aGF0IHVwZGF0ZXMgY29udGVudCBhbmQgYXR0cmlidXRlcyBiYXNlZCBvbiBhIGNvbmZpZ3VyZWRcbiAqIEJpbmRpbmdEaXJlY3RpdmUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBCaW5kaW5nQmVoYXZpb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQmluZGluZ0JlaGF2aW9yLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBkYXRhIHVwZGF0ZXMuXG4gICAgICogQHBhcmFtIGJpbmRpbmcgLSBUaGUgYmluZGluZyB0aGF0IHJldHVybnMgdGhlIGxhdGVzdCB2YWx1ZSBmb3IgYW4gdXBkYXRlLlxuICAgICAqIEBwYXJhbSBpc0JpbmRpbmdWb2xhdGlsZSAtIEluZGljYXRlcyB3aGV0aGVyIHRoZSBiaW5kaW5nIGhhcyB2b2xhdGlsZSBkZXBlbmRlbmNpZXMuXG4gICAgICogQHBhcmFtIGJpbmQgLSBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0gZHVyaW5nIGJpbmRpbmcuXG4gICAgICogQHBhcmFtIHVuYmluZCAtIFRoZSBvcGVyYXRpb24gdG8gcGVyZm9ybSBkdXJpbmcgdW5iaW5kaW5nLlxuICAgICAqIEBwYXJhbSB1cGRhdGVUYXJnZXQgLSBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0gd2hlbiB1cGRhdGluZy5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgYXR0cmlidXRlIG9yIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGJpbmRpbmcsIGlzQmluZGluZ1ZvbGF0aWxlLCBiaW5kLCB1bmJpbmQsIHVwZGF0ZVRhcmdldCwgdGFyZ2V0TmFtZSkge1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuYmluZGluZyA9IGJpbmRpbmc7XG4gICAgICAgIHRoaXMuaXNCaW5kaW5nVm9sYXRpbGUgPSBpc0JpbmRpbmdWb2xhdGlsZTtcbiAgICAgICAgdGhpcy5iaW5kID0gYmluZDtcbiAgICAgICAgdGhpcy51bmJpbmQgPSB1bmJpbmQ7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0ID0gdXBkYXRlVGFyZ2V0O1xuICAgICAgICB0aGlzLnRhcmdldE5hbWUgPSB0YXJnZXROYW1lO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldCh0aGlzLmJpbmRpbmdPYnNlcnZlci5vYnNlcnZlKHRoaXMuc291cmNlLCB0aGlzLmNvbnRleHQpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIEV4ZWN1dGlvbkNvbnRleHQuc2V0RXZlbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJpbmRpbmcodGhpcy5zb3VyY2UsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIEV4ZWN1dGlvbkNvbnRleHQuc2V0RXZlbnQobnVsbCk7XG4gICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfaW50ZXJwb2xhdGlvbkVuZCwgX2ludGVycG9sYXRpb25TdGFydCwgRE9NIH0gZnJvbSBcIi4uL2RvbS5qc1wiO1xuaW1wb3J0IHsgSFRNTEJpbmRpbmdEaXJlY3RpdmUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCI7XG5sZXQgc2hhcmVkQ29udGV4dCA9IG51bGw7XG5jbGFzcyBDb21waWxhdGlvbkNvbnRleHQge1xuICAgIGFkZEZhY3RvcnkoZmFjdG9yeSkge1xuICAgICAgICBmYWN0b3J5LnRhcmdldEluZGV4ID0gdGhpcy50YXJnZXRJbmRleDtcbiAgICAgICAgdGhpcy5iZWhhdmlvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIH1cbiAgICBjYXB0dXJlQ29udGVudEJpbmRpbmcoZGlyZWN0aXZlKSB7XG4gICAgICAgIGRpcmVjdGl2ZS50YXJnZXRBdENvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5hZGRGYWN0b3J5KGRpcmVjdGl2ZSk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmJlaGF2aW9yRmFjdG9yaWVzID0gW107XG4gICAgICAgIHRoaXMudGFyZ2V0SW5kZXggPSAtMTtcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzICovXG4gICAgICAgIHNoYXJlZENvbnRleHQgPSB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgYm9ycm93KGRpcmVjdGl2ZXMpIHtcbiAgICAgICAgY29uc3Qgc2hhcmVhYmxlID0gc2hhcmVkQ29udGV4dCB8fCBuZXcgQ29tcGlsYXRpb25Db250ZXh0KCk7XG4gICAgICAgIHNoYXJlYWJsZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgc2hhcmVhYmxlLnJlc2V0KCk7XG4gICAgICAgIHNoYXJlZENvbnRleHQgPSBudWxsO1xuICAgICAgICByZXR1cm4gc2hhcmVhYmxlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0ZUJpbmRpbmcocGFydHMpIHtcbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBwYXJ0c1swXTtcbiAgICB9XG4gICAgbGV0IHRhcmdldE5hbWU7XG4gICAgY29uc3QgcGFydENvdW50ID0gcGFydHMubGVuZ3RoO1xuICAgIGNvbnN0IGZpbmFsUGFydHMgPSBwYXJ0cy5tYXAoKHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geDtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROYW1lID0geC50YXJnZXROYW1lIHx8IHRhcmdldE5hbWU7XG4gICAgICAgIHJldHVybiB4LmJpbmRpbmc7XG4gICAgfSk7XG4gICAgY29uc3QgYmluZGluZyA9IChzY29wZSwgY29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0Q291bnQ7ICsraSkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGZpbmFsUGFydHNbaV0oc2NvcGUsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbiAgICBjb25zdCBkaXJlY3RpdmUgPSBuZXcgSFRNTEJpbmRpbmdEaXJlY3RpdmUoYmluZGluZyk7XG4gICAgZGlyZWN0aXZlLnRhcmdldE5hbWUgPSB0YXJnZXROYW1lO1xuICAgIHJldHVybiBkaXJlY3RpdmU7XG59XG5jb25zdCBpbnRlcnBvbGF0aW9uRW5kTGVuZ3RoID0gX2ludGVycG9sYXRpb25FbmQubGVuZ3RoO1xuZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRleHQsIHZhbHVlKSB7XG4gICAgY29uc3QgdmFsdWVQYXJ0cyA9IHZhbHVlLnNwbGl0KF9pbnRlcnBvbGF0aW9uU3RhcnQpO1xuICAgIGlmICh2YWx1ZVBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYmluZGluZ1BhcnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gdmFsdWVQYXJ0cy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB2YWx1ZVBhcnRzW2ldO1xuICAgICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnQuaW5kZXhPZihfaW50ZXJwb2xhdGlvbkVuZCk7XG4gICAgICAgIGxldCBsaXRlcmFsO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICBsaXRlcmFsID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZUluZGV4ID0gcGFyc2VJbnQoY3VycmVudC5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgICAgIGJpbmRpbmdQYXJ0cy5wdXNoKGNvbnRleHQuZGlyZWN0aXZlc1tkaXJlY3RpdmVJbmRleF0pO1xuICAgICAgICAgICAgbGl0ZXJhbCA9IGN1cnJlbnQuc3Vic3RyaW5nKGluZGV4ICsgaW50ZXJwb2xhdGlvbkVuZExlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpdGVyYWwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIGJpbmRpbmdQYXJ0cy5wdXNoKGxpdGVyYWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiaW5kaW5nUGFydHM7XG59XG5mdW5jdGlvbiBjb21waWxlQXR0cmlidXRlcyhjb250ZXh0LCBub2RlLCBpbmNsdWRlQmFzaWNWYWx1ZXMgPSBmYWxzZSkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHBhcnNlQ29udGVudChjb250ZXh0LCBhdHRyVmFsdWUpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKHBhcnNlUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZUJhc2ljVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEhUTUxCaW5kaW5nRGlyZWN0aXZlKCgpID0+IGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnRhcmdldE5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjcmVhdGVBZ2dyZWdhdGVCaW5kaW5nKHBhcnNlUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYXR0cik7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBpaS0tO1xuICAgICAgICAgICAgY29udGV4dC5hZGRGYWN0b3J5KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21waWxlQ29udGVudChjb250ZXh0LCBub2RlLCB3YWxrZXIpIHtcbiAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHBhcnNlQ29udGVudChjb250ZXh0LCBub2RlLnRleHRDb250ZW50KTtcbiAgICBpZiAocGFyc2VSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IGxhc3ROb2RlID0gbm9kZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gcGFyc2VSZXN1bHQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhcnQgPSBwYXJzZVJlc3VsdFtpXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gaSA9PT0gMFxuICAgICAgICAgICAgICAgID8gbm9kZVxuICAgICAgICAgICAgICAgIDogbGFzdE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksIGxhc3ROb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudFBhcnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IGN1cnJlbnRQYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUudGV4dENvbnRlbnQgPSBcIiBcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNhcHR1cmVDb250ZW50QmluZGluZyhjdXJyZW50UGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Tm9kZSA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlICE9PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC50YXJnZXRJbmRleC0tO1xuICAgIH1cbn1cbi8qKlxuICogQ29tcGlsZXMgYSB0ZW1wbGF0ZSBhbmQgYXNzb2NpYXRlZCBkaXJlY3RpdmVzIGludG8gYSByYXcgY29tcGlsYXRpb25cbiAqIHJlc3VsdCB3aGljaCBpbmNsdWRlIGEgY2xvbmVhYmxlIERvY3VtZW50RnJhZ21lbnQgYW5kIGZhY3RvcmllcyBjYXBhYmxlXG4gKiBvZiBhdHRhY2hpbmcgcnVudGltZSBiZWhhdmlvciB0byBub2RlcyB3aXRoaW4gdGhlIGZyYWdtZW50LlxuICogQHBhcmFtIHRlbXBsYXRlIC0gVGhlIHRlbXBsYXRlIHRvIGNvbXBpbGUuXG4gKiBAcGFyYW0gZGlyZWN0aXZlcyAtIFRoZSBkaXJlY3RpdmVzIHJlZmVyZW5jZWQgYnkgdGhlIHRlbXBsYXRlLlxuICogQHJlbWFya3NcbiAqIFRoZSB0ZW1wbGF0ZSB0aGF0IGlzIHByb3ZpZGVkIGZvciBjb21waWxhdGlvbiBpcyBhbHRlcmVkIGluLXBsYWNlXG4gKiBhbmQgY2Fubm90IGJlIGNvbXBpbGVkIGFnYWluLiBJZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgbXVzdCBiZSBwcmVzZXJ2ZWQsXG4gKiBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBjbG9uZSB0aGUgb3JpZ2luYWwgYW5kIHBhc3MgdGhlIGNsb25lIHRvIHRoaXMgQVBJLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlKHRlbXBsYXRlLCBkaXJlY3RpdmVzKSB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTExMTE4NjRcbiAgICBkb2N1bWVudC5hZG9wdE5vZGUoZnJhZ21lbnQpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBDb21waWxhdGlvbkNvbnRleHQuYm9ycm93KGRpcmVjdGl2ZXMpO1xuICAgIGNvbXBpbGVBdHRyaWJ1dGVzKGNvbnRleHQsIHRlbXBsYXRlLCB0cnVlKTtcbiAgICBjb25zdCBob3N0QmVoYXZpb3JGYWN0b3JpZXMgPSBjb250ZXh0LmJlaGF2aW9yRmFjdG9yaWVzO1xuICAgIGNvbnRleHQucmVzZXQoKTtcbiAgICBjb25zdCB3YWxrZXIgPSBET00uY3JlYXRlVGVtcGxhdGVXYWxrZXIoZnJhZ21lbnQpO1xuICAgIGxldCBub2RlO1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSkge1xuICAgICAgICBjb250ZXh0LnRhcmdldEluZGV4Kys7XG4gICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBlbGVtZW50IG5vZGVcbiAgICAgICAgICAgICAgICBjb21waWxlQXR0cmlidXRlcyhjb250ZXh0LCBub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzogLy8gdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgY29tcGlsZUNvbnRlbnQoY29udGV4dCwgbm9kZSwgd2Fsa2VyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgODogLy8gY29tbWVudFxuICAgICAgICAgICAgICAgIGlmIChET00uaXNNYXJrZXIobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hZGRGYWN0b3J5KGRpcmVjdGl2ZXNbRE9NLmV4dHJhY3REaXJlY3RpdmVJbmRleEZyb21NYXJrZXIobm9kZSldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHRhcmdldE9mZnNldCA9IDA7XG4gICAgaWYgKFxuICAgIC8vIElmIHRoZSBmaXJzdCBub2RlIGluIGEgZnJhZ21lbnQgaXMgYSBtYXJrZXIsIHRoYXQgbWVhbnMgaXQncyBhbiB1bnN0YWJsZSBmaXJzdCBub2RlLFxuICAgIC8vIGJlY2F1c2Ugc29tZXRoaW5nIGxpa2UgYSB3aGVuLCByZXBlYXQsIGV0Yy4gY291bGQgYWRkIG5vZGVzIGJlZm9yZSB0aGUgbWFya2VyLlxuICAgIC8vIFRvIG1pdGlnYXRlIHRoaXMsIHdlIGluc2VydCBhIHN0YWJsZSBmaXJzdCBub2RlLiBIb3dldmVyLCBpZiB3ZSBpbnNlcnQgYSBub2RlLFxuICAgIC8vIHRoYXQgd2lsbCBhbHRlciB0aGUgcmVzdWx0IG9mIHRoZSBUcmVlV2Fsa2VyLiBTbywgd2UgYWxzbyBuZWVkIHRvIG9mZnNldCB0aGUgdGFyZ2V0IGluZGV4LlxuICAgIERPTS5pc01hcmtlcihmcmFnbWVudC5maXJzdENoaWxkKSB8fFxuICAgICAgICAvLyBPciBpZiB0aGVyZSBpcyBvbmx5IG9uZSBub2RlIGFuZCBhIGRpcmVjdGl2ZSwgaXQgbWVhbnMgdGhlIHRlbXBsYXRlJ3MgY29udGVudFxuICAgICAgICAvLyBpcyAqb25seSogdGhlIGRpcmVjdGl2ZS4gSW4gdGhhdCBjYXNlLCBIVE1MVmlldy5kaXNwb3NlKCkgbWlzc2VzIGFueSBub2RlcyBpbnNlcnRlZCBieVxuICAgICAgICAvLyB0aGUgZGlyZWN0aXZlLiBJbnNlcnRpbmcgYSBuZXcgbm9kZSBlbnN1cmVzIHByb3BlciBkaXNwb3NhbCBvZiBub2RlcyBhZGRlZCBieSB0aGUgZGlyZWN0aXZlLlxuICAgICAgICAoZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgJiYgZGlyZWN0aXZlcy5sZW5ndGgpKSB7XG4gICAgICAgIGZyYWdtZW50Lmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpLCBmcmFnbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gLTE7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdCZWhhdmlvckZhY3RvcmllcyA9IGNvbnRleHQuYmVoYXZpb3JGYWN0b3JpZXM7XG4gICAgY29udGV4dC5yZWxlYXNlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgIHZpZXdCZWhhdmlvckZhY3RvcmllcyxcbiAgICAgICAgaG9zdEJlaGF2aW9yRmFjdG9yaWVzLFxuICAgICAgICB0YXJnZXRPZmZzZXQsXG4gICAgfTtcbn1cbiIsIi8vIEEgc2luZ2xldG9uIFJhbmdlIGluc3RhbmNlIHVzZWQgdG8gZWZmaWNpZW50bHkgcmVtb3ZlIHJhbmdlcyBvZiBET00gbm9kZXMuXG4vLyBTZWUgdGhlIGltcGxlbWVudGF0aW9uIG9mIEhUTUxWaWV3IGJlbG93IGZvciBmdXJ0aGVyIGRldGFpbHMuXG5jb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4vKipcbiAqIFRoZSBzdGFuZGFyZCBWaWV3IGltcGxlbWVudGF0aW9uLCB3aGljaCBhbHNvIGltcGxlbWVudHMgRWxlbWVudFZpZXcgYW5kIFN5bnRoZXRpY1ZpZXcuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBIVE1MVmlldyB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhbiBpbnN0YW5jZSBvZiBIVE1MVmlldy5cbiAgICAgKiBAcGFyYW0gZnJhZ21lbnQgLSBUaGUgaHRtbCBmcmFnbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBub2RlcyBmb3IgdGhpcyB2aWV3LlxuICAgICAqIEBwYXJhbSBiZWhhdmlvcnMgLSBUaGUgYmVoYXZpb3JzIHRvIGJlIGFwcGxpZWQgdG8gdGhpcyB2aWV3LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50LCBiZWhhdmlvcnMpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50O1xuICAgICAgICB0aGlzLmJlaGF2aW9ycyA9IGJlaGF2aW9ycztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgdGhlIHZpZXcgaXMgYm91bmQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhlY3V0aW9uIGNvbnRleHQgdGhlIHZpZXcgaXMgcnVubmluZyB3aXRoaW4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpcnN0Q2hpbGQgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuICAgICAgICB0aGlzLmxhc3RDaGlsZCA9IGZyYWdtZW50Lmxhc3RDaGlsZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgdmlldydzIERPTSBub2RlcyB0byB0aGUgcmVmZXJlbmNlZCBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlIC0gVGhlIHBhcmVudCBub2RlIHRvIGFwcGVuZCB0aGUgdmlldydzIERPTSBub2RlcyB0by5cbiAgICAgKi9cbiAgICBhcHBlbmRUbyhub2RlKSB7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5mcmFnbWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHZpZXcncyBET00gbm9kZXMgYmVmb3JlIHRoZSByZWZlcmVuY2VkIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBpbnNlcnQgdGhlIHZpZXcncyBET00gYmVmb3JlLlxuICAgICAqL1xuICAgIGluc2VydEJlZm9yZShub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmZyYWdtZW50LCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHRoaXMubGFzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY3VycmVudCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbmQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHZpZXcncyBET00gbm9kZXMuXG4gICAgICogVGhlIG5vZGVzIGFyZSBub3QgZGlzcG9zZWQgYW5kIHRoZSB2aWV3IGNhbiBsYXRlciBiZSByZS1pbnNlcnRlZC5cbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IGVuZCkge1xuICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHZpZXcgYW5kIHVuYmluZHMgaXRzIGJlaGF2aW9ycywgZGlzcG9zaW5nIG9mIERPTSBub2RlcyBhZnRlcndhcmQuXG4gICAgICogT25jZSBhIHZpZXcgaGFzIGJlZW4gZGlzcG9zZWQsIGl0IGNhbm5vdCBiZSBpbnNlcnRlZCBvciBib3VuZCBhZ2Fpbi5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmZpcnN0Q2hpbGQucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5sYXN0Q2hpbGQ7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdENoaWxkO1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IGVuZCkge1xuICAgICAgICAgICAgbmV4dCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZW5kKTtcbiAgICAgICAgY29uc3QgYmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGNvbnN0IG9sZFNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBiZWhhdmlvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgYmVoYXZpb3JzW2ldLnVuYmluZChvbGRTb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmRzIGEgdmlldydzIGJlaGF2aW9ycyB0byBpdHMgYmluZGluZyBzb3VyY2UuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBiaW5kaW5nIHNvdXJjZSBmb3IgdGhlIHZpZXcncyBiaW5kaW5nIGJlaGF2aW9ycy5cbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBleGVjdXRpb24gY29udGV4dCB0byBydW4gdGhlIGJlaGF2aW9ycyB3aXRoaW4uXG4gICAgICovXG4gICAgYmluZChzb3VyY2UsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgYmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSA9PT0gc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYmVoYXZpb3JzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gYmVoYXZpb3JzW2ldO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQudW5iaW5kKG9sZFNvdXJjZSk7XG4gICAgICAgICAgICAgICAgY3VycmVudC5iaW5kKHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBiZWhhdmlvcnMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yc1tpXS5iaW5kKHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBhIHZpZXcncyBiZWhhdmlvcnMgZnJvbSBpdHMgYmluZGluZyBzb3VyY2UuXG4gICAgICovXG4gICAgdW5iaW5kKCkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiZWhhdmlvcnMgPSB0aGlzLmJlaGF2aW9ycztcbiAgICAgICAgY29uc3Qgb2xkU291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGJlaGF2aW9ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBiZWhhdmlvcnNbaV0udW5iaW5kKG9sZFNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFZmZpY2llbnRseSBkaXNwb3NlcyBvZiBhIGNvbnRpZ3VvdXMgcmFuZ2Ugb2Ygc3ludGhldGljIHZpZXcgaW5zdGFuY2VzLlxuICAgICAqIEBwYXJhbSB2aWV3cyAtIEEgY29udGlndW91cyByYW5nZSBvZiB2aWV3cyB0byBiZSBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZGlzcG9zZUNvbnRpZ3VvdXNCYXRjaCh2aWV3cykge1xuICAgICAgICBpZiAodmlld3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUodmlld3NbMF0uZmlyc3RDaGlsZCk7XG4gICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKHZpZXdzW3ZpZXdzLmxlbmd0aCAtIDFdLmxhc3RDaGlsZCk7XG4gICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHZpZXdzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB2aWV3c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJlaGF2aW9ycyA9IHZpZXcuYmVoYXZpb3JzO1xuICAgICAgICAgICAgY29uc3Qgb2xkU291cmNlID0gdmlldy5zb3VyY2U7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgamogPSBiZWhhdmlvcnMubGVuZ3RoOyBqIDwgamo7ICsraikge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yc1tqXS51bmJpbmQob2xkU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IERPTSB9IGZyb20gXCIuLi9kb20uanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFeGVjdXRpb25Db250ZXh0IH0gZnJvbSBcIi4uL29ic2VydmF0aW9uL29ic2VydmFibGUuanNcIjtcbmltcG9ydCB7IGNvbXBpbGVUZW1wbGF0ZSB9IGZyb20gXCIuL2NvbXBpbGVyLmpzXCI7XG5pbXBvcnQgeyBIVE1MVmlldyB9IGZyb20gXCIuL3ZpZXcuanNcIjtcbmltcG9ydCB7IEhUTUxEaXJlY3RpdmUsIFRhcmdldGVkSFRNTERpcmVjdGl2ZSwgfSBmcm9tIFwiLi9odG1sLWRpcmVjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgSFRNTEJpbmRpbmdEaXJlY3RpdmUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCI7XG4vKipcbiAqIEEgdGVtcGxhdGUgY2FwYWJsZSBvZiBjcmVhdGluZyBIVE1MVmlldyBpbnN0YW5jZXMgb3IgcmVuZGVyaW5nIGRpcmVjdGx5IHRvIERPTS5cbiAqIEBwdWJsaWNcbiAqL1xuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuZXhwb3J0IGNsYXNzIFZpZXdUZW1wbGF0ZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBWaWV3VGVtcGxhdGUuXG4gICAgICogQHBhcmFtIGh0bWwgLSBUaGUgaHRtbCByZXByZXNlbnRpbmcgd2hhdCB0aGlzIHRlbXBsYXRlIHdpbGwgaW5zdGFudGlhdGUsIGluY2x1ZGluZyBwbGFjZWhvbGRlcnMgZm9yIGRpcmVjdGl2ZXMuXG4gICAgICogQHBhcmFtIGRpcmVjdGl2ZXMgLSBUaGUgZGlyZWN0aXZlcyB0aGF0IHdpbGwgYmUgY29ubmVjdGVkIHRvIHBsYWNlaG9sZGVycyBpbiB0aGUgaHRtbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihodG1sLCBkaXJlY3RpdmVzKSB7XG4gICAgICAgIHRoaXMuYmVoYXZpb3JDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaGFzSG9zdEJlaGF2aW9ycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnZpZXdCZWhhdmlvckZhY3RvcmllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9zdEJlaGF2aW9yRmFjdG9yaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5odG1sID0gaHRtbDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBIVE1MVmlldyBpbnN0YW5jZSBiYXNlZCBvbiB0aGlzIHRlbXBsYXRlIGRlZmluaXRpb24uXG4gICAgICogQHBhcmFtIGhvc3RCaW5kaW5nVGFyZ2V0IC0gVGhlIGVsZW1lbnQgdGhhdCBob3N0IGJlaGF2aW9ycyB3aWxsIGJlIGJvdW5kIHRvLlxuICAgICAqL1xuICAgIGNyZWF0ZShob3N0QmluZGluZ1RhcmdldCkge1xuICAgICAgICBpZiAodGhpcy5mcmFnbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHRlbXBsYXRlO1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IERPTS5jcmVhdGVIVE1MKGh0bWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZlYyA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGZlYyAhPT0gbnVsbCAmJiBmZWMudGFnTmFtZSA9PT0gXCJURU1QTEFURVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZmVjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gaHRtbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBpbGVUZW1wbGF0ZSh0ZW1wbGF0ZSwgdGhpcy5kaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSByZXN1bHQuZnJhZ21lbnQ7XG4gICAgICAgICAgICB0aGlzLnZpZXdCZWhhdmlvckZhY3RvcmllcyA9IHJlc3VsdC52aWV3QmVoYXZpb3JGYWN0b3JpZXM7XG4gICAgICAgICAgICB0aGlzLmhvc3RCZWhhdmlvckZhY3RvcmllcyA9IHJlc3VsdC5ob3N0QmVoYXZpb3JGYWN0b3JpZXM7XG4gICAgICAgICAgICB0aGlzLnRhcmdldE9mZnNldCA9IHJlc3VsdC50YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmJlaGF2aW9yQ291bnQgPVxuICAgICAgICAgICAgICAgIHRoaXMudmlld0JlaGF2aW9yRmFjdG9yaWVzLmxlbmd0aCArIHRoaXMuaG9zdEJlaGF2aW9yRmFjdG9yaWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuaGFzSG9zdEJlaGF2aW9ycyA9IHRoaXMuaG9zdEJlaGF2aW9yRmFjdG9yaWVzLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3Qgdmlld0ZhY3RvcmllcyA9IHRoaXMudmlld0JlaGF2aW9yRmFjdG9yaWVzO1xuICAgICAgICBjb25zdCBiZWhhdmlvcnMgPSBuZXcgQXJyYXkodGhpcy5iZWhhdmlvckNvdW50KTtcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gRE9NLmNyZWF0ZVRlbXBsYXRlV2Fsa2VyKGZyYWdtZW50KTtcbiAgICAgICAgbGV0IGJlaGF2aW9ySW5kZXggPSAwO1xuICAgICAgICBsZXQgdGFyZ2V0SW5kZXggPSB0aGlzLnRhcmdldE9mZnNldDtcbiAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSB2aWV3RmFjdG9yaWVzLmxlbmd0aDsgYmVoYXZpb3JJbmRleCA8IGlpOyArK2JlaGF2aW9ySW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSB2aWV3RmFjdG9yaWVzW2JlaGF2aW9ySW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yeUluZGV4ID0gZmFjdG9yeS50YXJnZXRJbmRleDtcbiAgICAgICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZGV4ID09PSBmYWN0b3J5SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3JzW2JlaGF2aW9ySW5kZXhdID0gZmFjdG9yeS5jcmVhdGVCZWhhdmlvcihub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0hvc3RCZWhhdmlvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RGYWN0b3JpZXMgPSB0aGlzLmhvc3RCZWhhdmlvckZhY3RvcmllcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGhvc3RGYWN0b3JpZXMubGVuZ3RoOyBpIDwgaWk7ICsraSwgKytiZWhhdmlvckluZGV4KSB7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3JzW2JlaGF2aW9ySW5kZXhdID0gaG9zdEZhY3Rvcmllc1tpXS5jcmVhdGVCZWhhdmlvcihob3N0QmluZGluZ1RhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBIVE1MVmlldyhmcmFnbWVudCwgYmVoYXZpb3JzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBIVE1MVmlldyBmcm9tIHRoaXMgdGVtcGxhdGUsIGJpbmRzIGl0IHRvIHRoZSBzb3VyY2UsIGFuZCB0aGVuIGFwcGVuZHMgaXQgdG8gdGhlIGhvc3QuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBkYXRhIHNvdXJjZSB0byBiaW5kIHRoZSB0ZW1wbGF0ZSB0by5cbiAgICAgKiBAcGFyYW0gaG9zdCAtIFRoZSBFbGVtZW50IHdoZXJlIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSBob3N0QmluZGluZ1RhcmdldCAtIEFuIEhUTUwgZWxlbWVudCB0byB0YXJnZXQgdGhlIGhvc3QgYmluZGluZ3MgYXQgaWYgZGlmZmVyZW50IGZyb20gdGhlXG4gICAgICogaG9zdCB0aGF0IHRoZSB0ZW1wbGF0ZSBpcyBiZWluZyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICByZW5kZXIoc291cmNlLCBob3N0LCBob3N0QmluZGluZ1RhcmdldCkge1xuICAgICAgICBpZiAodHlwZW9mIGhvc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGhvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChob3N0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9zdEJpbmRpbmdUYXJnZXQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaG9zdEJpbmRpbmdUYXJnZXQgPSBob3N0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmNyZWF0ZShob3N0QmluZGluZ1RhcmdldCk7XG4gICAgICAgIHZpZXcuYmluZChzb3VyY2UsIGRlZmF1bHRFeGVjdXRpb25Db250ZXh0KTtcbiAgICAgICAgdmlldy5hcHBlbmRUbyhob3N0KTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxufVxuLy8gTXVjaCB0aGFua3MgdG8gTGl0SFRNTCBmb3Igd29ya2luZyB0aGlzIG91dCFcbmNvbnN0IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXggPSBcbi8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4ICovXG4vKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbi8qKlxuICogVHJhbnNmb3JtcyBhIHRlbXBsYXRlIGxpdGVyYWwgc3RyaW5nIGludG8gYSByZW5kZXJhYmxlIFZpZXdUZW1wbGF0ZS5cbiAqIEBwYXJhbSBzdHJpbmdzIC0gVGhlIHN0cmluZyBmcmFnbWVudHMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIHdpdGggdGhlIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgYXJlIGludGVycG9sYXRlZCB3aXRoIHRoZSBzdHJpbmcgZnJhZ21lbnRzLlxuICogQHJlbWFya3NcbiAqIFRoZSBodG1sIGhlbHBlciBzdXBwb3J0cyBpbnRlcnBvbGF0aW9uIG9mIHN0cmluZ3MsIG51bWJlcnMsIGJpbmRpbmcgZXhwcmVzc2lvbnMsXG4gKiBvdGhlciB0ZW1wbGF0ZSBpbnN0YW5jZXMsIGFuZCBEaXJlY3RpdmUgaW5zdGFuY2VzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaHRtbChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zdCBkaXJlY3RpdmVzID0gW107XG4gICAgbGV0IGh0bWwgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0cmluZyA9IHN0cmluZ3NbaV07XG4gICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaHRtbCArPSBjdXJyZW50U3RyaW5nO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWaWV3VGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9ICgpID0+IHRlbXBsYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgSFRNTEJpbmRpbmdEaXJlY3RpdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRhcmdldGVkSFRNTERpcmVjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMoY3VycmVudFN0cmluZyk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS50YXJnZXROYW1lID0gbWF0Y2hbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSFRNTERpcmVjdGl2ZSkge1xuICAgICAgICAgICAgLy8gU2luY2Ugbm90IGFsbCB2YWx1ZXMgYXJlIGRpcmVjdGl2ZXMsIHdlIGNhbid0IHVzZSBpXG4gICAgICAgICAgICAvLyBhcyB0aGUgaW5kZXggZm9yIHRoZSBwbGFjZWhvbGRlci4gSW5zdGVhZCwgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gdXNlIGRpcmVjdGl2ZXMubGVuZ3RoIHRvIGdldCB0aGUgbmV4dCBpbmRleC5cbiAgICAgICAgICAgIGh0bWwgKz0gdmFsdWUuY3JlYXRlUGxhY2Vob2xkZXIoZGlyZWN0aXZlcy5sZW5ndGgpO1xuICAgICAgICAgICAgZGlyZWN0aXZlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGh0bWwgKz0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaHRtbCArPSBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIG5ldyBWaWV3VGVtcGxhdGUoaHRtbCwgZGlyZWN0aXZlcyk7XG59XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG4vKipcbiAqIFJlcHJlc2VudHMgc3R5bGVzIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gYSBjdXN0b20gZWxlbWVudC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEVsZW1lbnRTdHlsZXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhcmdldHMgPSBuZXcgV2Vha1NldCgpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYWRkU3R5bGVzVG8odGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0cy5hZGQodGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlbW92ZVN0eWxlc0Zyb20odGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0cy5kZWxldGUodGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGlzQXR0YWNoZWRUbyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5oYXModGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlcyBiZWhhdmlvcnMgd2l0aCB0aGlzIHNldCBvZiBzdHlsZXMuXG4gICAgICogQHBhcmFtIGJlaGF2aW9ycyAtIFRoZSBiZWhhdmlvcnMgdG8gYXNzb2NpYXRlLlxuICAgICAqL1xuICAgIHdpdGhCZWhhdmlvcnMoLi4uYmVoYXZpb3JzKSB7XG4gICAgICAgIHRoaXMuYmVoYXZpb3JzID1cbiAgICAgICAgICAgIHRoaXMuYmVoYXZpb3JzID09PSBudWxsID8gYmVoYXZpb3JzIDogdGhpcy5iZWhhdmlvcnMuY29uY2F0KGJlaGF2aW9ycyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIEVsZW1lbnRTdHlsZXMgZnJvbSBDb21wb3NhYmxlU3R5bGVzLlxuICovXG5FbGVtZW50U3R5bGVzLmNyZWF0ZSA9ICgoKSA9PiB7XG4gICAgaWYgKERPTS5zdXBwb3J0c0Fkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0Q2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiAoc3R5bGVzKSA9PiBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICBuZXcgQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzKHN0eWxlcywgc3R5bGVTaGVldENhY2hlKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiAoc3R5bGVzKSA9PiBuZXcgU3R5bGVFbGVtZW50U3R5bGVzKHN0eWxlcyk7XG59KSgpO1xuZnVuY3Rpb24gcmVkdWNlU3R5bGVzKHN0eWxlcykge1xuICAgIHJldHVybiBzdHlsZXNcbiAgICAgICAgLm1hcCgoeCkgPT4geCBpbnN0YW5jZW9mIEVsZW1lbnRTdHlsZXMgPyByZWR1Y2VTdHlsZXMoeC5zdHlsZXMpIDogW3hdKVxuICAgICAgICAucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBwcmV2LmNvbmNhdChjdXJyKSwgW10pO1xufVxuZnVuY3Rpb24gcmVkdWNlQmVoYXZpb3JzKHN0eWxlcykge1xuICAgIHJldHVybiBzdHlsZXNcbiAgICAgICAgLm1hcCgoeCkgPT4gKHggaW5zdGFuY2VvZiBFbGVtZW50U3R5bGVzID8geC5iZWhhdmlvcnMgOiBudWxsKSlcbiAgICAgICAgLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICBpZiAoY3VyciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXYgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldi5jb25jYXQoY3Vycik7XG4gICAgfSwgbnVsbCk7XG59XG4vKipcbiAqIEEgU3ltYm9sIHRoYXQgY2FuIGJlIGFkZGVkIHRvIGEgQ1NTU3R5bGVTaGVldCB0byBjYXVzZSBpdCB0byBiZSBwcmVwZW5kZWQgKHJhdGhlciB0aGFuIGFwcGVuZGVkKSB0byBhZG9wdGVkU3R5bGVTaGVldHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2wgPSBTeW1ib2woXCJwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNcIik7XG5mdW5jdGlvbiBzZXBhcmF0ZVNoZWV0c1RvUHJlcGVuZChzaGVldHMpIHtcbiAgICBjb25zdCBwcmVwZW5kID0gW107XG4gICAgY29uc3QgYXBwZW5kID0gW107XG4gICAgc2hlZXRzLmZvckVhY2goeCA9PiAoeFtwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2xdID8gcHJlcGVuZCA6IGFwcGVuZCkucHVzaCh4KSk7XG4gICAgcmV0dXJuIHsgcHJlcGVuZCwgYXBwZW5kIH07XG59XG5sZXQgYWRkQWRvcHRlZFN0eWxlU2hlZXRzID0gKHRhcmdldCwgc2hlZXRzKSA9PiB7XG4gICAgY29uc3QgeyBwcmVwZW5kLCBhcHBlbmQgfSA9IHNlcGFyYXRlU2hlZXRzVG9QcmVwZW5kKHNoZWV0cyk7XG4gICAgdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFsuLi5wcmVwZW5kLCAuLi50YXJnZXQuYWRvcHRlZFN0eWxlU2hlZXRzLCAuLi5hcHBlbmRdO1xufTtcbmxldCByZW1vdmVBZG9wdGVkU3R5bGVTaGVldHMgPSAodGFyZ2V0LCBzaGVldHMpID0+IHtcbiAgICB0YXJnZXQuYWRvcHRlZFN0eWxlU2hlZXRzID0gdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cy5maWx0ZXIoKHgpID0+IHNoZWV0cy5pbmRleE9mKHgpID09PSAtMSk7XG59O1xuaWYgKERPTS5zdXBwb3J0c0Fkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFRlc3QgaWYgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiB1c2VzIEZyb3plbkFycmF5LlxuICAgICAgICAvLyBJZiBub3QsIHVzZSBwdXNoIC8gc3BsaWNlIHRvIGFsdGVyIHRoZSBzdHlsZXNoZWV0c1xuICAgICAgICAvLyBpbiBwbGFjZS4gVGhpcyBjaXJjdW12ZW50cyBhIGJ1ZyBpbiBTYWZhcmkgMTYuNCB3aGVyZVxuICAgICAgICAvLyBwZXJpb2RpY2FsbHksIGFzc2lnbmluZyB0aGUgYXJyYXkgd291bGQgcHJldmlvdXNseVxuICAgICAgICAvLyBjYXVzZSBzaGVldHMgdG8gYmUgcmVtb3ZlZC5cbiAgICAgICAgZG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzLnB1c2goKTtcbiAgICAgICAgZG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzLnNwbGljZSgpO1xuICAgICAgICBhZGRBZG9wdGVkU3R5bGVTaGVldHMgPSAodGFyZ2V0LCBzaGVldHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJlcGVuZCwgYXBwZW5kIH0gPSBzZXBhcmF0ZVNoZWV0c1RvUHJlcGVuZChzaGVldHMpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cy5zcGxpY2UoMCwgMCwgLi4ucHJlcGVuZCk7XG4gICAgICAgICAgICB0YXJnZXQuYWRvcHRlZFN0eWxlU2hlZXRzLnB1c2goLi4uYXBwZW5kKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVtb3ZlQWRvcHRlZFN0eWxlU2hlZXRzID0gKHRhcmdldCwgc2hlZXRzKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNoZWV0IG9mIHNoZWV0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGFyZ2V0LmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmRleE9mKHNoZWV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZG9wdGVkU3R5bGVTaGVldHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgYW4gZXJyb3IgaXMgdGhyb3duLCB0aGUgZGVmYXVsdFxuICAgICAgICAvLyBjYXNlIGhhbmRsZXMgRnJvemVuQXJyYXkuXG4gICAgfVxufVxuLyoqXG4gKiBodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy9cbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTkvMDIvY29uc3RydWN0YWJsZS1zdHlsZXNoZWV0c1xuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzIGV4dGVuZHMgRWxlbWVudFN0eWxlcyB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGVzLCBzdHlsZVNoZWV0Q2FjaGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuc3R5bGVTaGVldENhY2hlID0gc3R5bGVTaGVldENhY2hlO1xuICAgICAgICB0aGlzLl9zdHlsZVNoZWV0cyA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5iZWhhdmlvcnMgPSByZWR1Y2VCZWhhdmlvcnMoc3R5bGVzKTtcbiAgICB9XG4gICAgZ2V0IHN0eWxlU2hlZXRzKCkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVTaGVldHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgICAgICBjb25zdCBzdHlsZVNoZWV0Q2FjaGUgPSB0aGlzLnN0eWxlU2hlZXRDYWNoZTtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXRzID0gcmVkdWNlU3R5bGVzKHN0eWxlcykubWFwKCh4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHggaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc2hlZXQgPSBzdHlsZVNoZWV0Q2FjaGUuZ2V0KHgpO1xuICAgICAgICAgICAgICAgIGlmIChzaGVldCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgc2hlZXQucmVwbGFjZVN5bmMoeCk7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlU2hlZXRDYWNoZS5zZXQoeCwgc2hlZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc2hlZXQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldHM7XG4gICAgfVxuICAgIGFkZFN0eWxlc1RvKHRhcmdldCkge1xuICAgICAgICBhZGRBZG9wdGVkU3R5bGVTaGVldHModGFyZ2V0LCB0aGlzLnN0eWxlU2hlZXRzKTtcbiAgICAgICAgc3VwZXIuYWRkU3R5bGVzVG8odGFyZ2V0KTtcbiAgICB9XG4gICAgcmVtb3ZlU3R5bGVzRnJvbSh0YXJnZXQpIHtcbiAgICAgICAgcmVtb3ZlQWRvcHRlZFN0eWxlU2hlZXRzKHRhcmdldCwgdGhpcy5zdHlsZVNoZWV0cyk7XG4gICAgICAgIHN1cGVyLnJlbW92ZVN0eWxlc0Zyb20odGFyZ2V0KTtcbiAgICB9XG59XG5sZXQgc3R5bGVDbGFzc0lkID0gMDtcbmZ1bmN0aW9uIGdldE5leHRTdHlsZUNsYXNzKCkge1xuICAgIHJldHVybiBgZmFzdC1zdHlsZS1jbGFzcy0keysrc3R5bGVDbGFzc0lkfWA7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVzIGV4dGVuZHMgRWxlbWVudFN0eWxlcyB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gc3R5bGVzO1xuICAgICAgICB0aGlzLmJlaGF2aW9ycyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmVoYXZpb3JzID0gcmVkdWNlQmVoYXZpb3JzKHN0eWxlcyk7XG4gICAgICAgIHRoaXMuc3R5bGVTaGVldHMgPSByZWR1Y2VTdHlsZXMoc3R5bGVzKTtcbiAgICAgICAgdGhpcy5zdHlsZUNsYXNzID0gZ2V0TmV4dFN0eWxlQ2xhc3MoKTtcbiAgICB9XG4gICAgYWRkU3R5bGVzVG8odGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXRzID0gdGhpcy5zdHlsZVNoZWV0cztcbiAgICAgICAgY29uc3Qgc3R5bGVDbGFzcyA9IHRoaXMuc3R5bGVDbGFzcztcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5ub3JtYWxpemVUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZVNoZWV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc3R5bGVTaGVldHNbaV07XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHN0eWxlQ2xhc3M7XG4gICAgICAgICAgICB0YXJnZXQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmFkZFN0eWxlc1RvKHRhcmdldCk7XG4gICAgfVxuICAgIHJlbW92ZVN0eWxlc0Zyb20odGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IHRoaXMubm9ybWFsaXplVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLnN0eWxlQ2xhc3N9YCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0eWxlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoc3R5bGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5yZW1vdmVTdHlsZXNGcm9tKHRhcmdldCk7XG4gICAgfVxuICAgIGlzQXR0YWNoZWRUbyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzQXR0YWNoZWRUbyh0aGlzLm5vcm1hbGl6ZVRhcmdldCh0YXJnZXQpKTtcbiAgICB9XG4gICAgbm9ybWFsaXplVGFyZ2V0KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0ID09PSBkb2N1bWVudCA/IGRvY3VtZW50LmJvZHkgOiB0YXJnZXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRhZGF0YUxvY2F0b3IgfSBmcm9tIFwiLi4vcGxhdGZvcm0uanNcIjtcbi8qKlxuICogTWV0YWRhdGEgdXNlZCB0byBjb25maWd1cmUgYSBjdXN0b20gYXR0cmlidXRlJ3MgYmVoYXZpb3IuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBBdHRyaWJ1dGVDb25maWd1cmF0aW9uID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogTG9jYXRlcyBhbGwgYXR0cmlidXRlIGNvbmZpZ3VyYXRpb25zIGFzc29jaWF0ZWQgd2l0aCBhIHR5cGUuXG4gICAgICovXG4gICAgbG9jYXRlOiBjcmVhdGVNZXRhZGF0YUxvY2F0b3IoKSxcbn0pO1xuLyoqXG4gKiBBIHtAbGluayBWYWx1ZUNvbnZlcnRlcn0gdGhhdCBjb252ZXJ0cyB0byBhbmQgZnJvbSBgYm9vbGVhbmAgdmFsdWVzLlxuICogQHJlbWFya3NcbiAqIFVzZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYm9vbGVhbmAge0BsaW5rIEF0dHJpYnV0ZU1vZGV9IGlzIHNlbGVjdGVkLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYm9vbGVhbkNvbnZlcnRlciA9IHtcbiAgICB0b1ZpZXcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgfSxcbiAgICBmcm9tVmlldyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHZhbHVlID09PSB2b2lkIDAgfHxcbiAgICAgICAgICAgIHZhbHVlID09PSBcImZhbHNlXCIgfHxcbiAgICAgICAgICAgIHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgdmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxufTtcbi8qKlxuICogQSB7QGxpbmsgVmFsdWVDb252ZXJ0ZXJ9IHRoYXQgY29udmVydHMgdG8gYW5kIGZyb20gYG51bWJlcmAgdmFsdWVzLlxuICogQHJlbWFya3NcbiAqIFRoaXMgY29udmVydGVyIGFsbG93cyBmb3IgbnVsbGFibGUgbnVtYmVycywgcmV0dXJuaW5nIGBudWxsYCBpZiB0aGVcbiAqIGlucHV0IHdhcyBgbnVsbGAsIGB1bmRlZmluZWRgLCBvciBgTmFOYC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG51bGxhYmxlTnVtYmVyQ29udmVydGVyID0ge1xuICAgIHRvVmlldyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtYmVyID0gdmFsdWUgKiAxO1xuICAgICAgICByZXR1cm4gaXNOYU4obnVtYmVyKSA/IG51bGwgOiBudW1iZXIudG9TdHJpbmcoKTtcbiAgICB9LFxuICAgIGZyb21WaWV3KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW1iZXIgPSB2YWx1ZSAqIDE7XG4gICAgICAgIHJldHVybiBpc05hTihudW1iZXIpID8gbnVsbCA6IG51bWJlcjtcbiAgICB9LFxufTtcbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIEFjY2Vzc29yfSB0aGF0IHN1cHBvcnRzIHJlYWN0aXZpdHksXG4gKiBjaGFuZ2UgY2FsbGJhY2tzLCBhdHRyaWJ1dGUgcmVmbGVjdGlvbiwgYW5kIHR5cGUgY29udmVyc2lvbiBmb3JcbiAqIGN1c3RvbSBlbGVtZW50cy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZURlZmluaXRpb24ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQXR0cmlidXRlRGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gT3duZXIgLSBUaGUgY2xhc3MgY29uc3RydWN0b3IgdGhhdCBvd25zIHRoaXMgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGUgLSBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIGluIEhUTUwuXG4gICAgICogQHBhcmFtIG1vZGUgLSBUaGUge0BsaW5rIEF0dHJpYnV0ZU1vZGV9IHRoYXQgZGVzY3JpYmVzIHRoZSBiZWhhdmlvciBvZiB0aGlzIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gY29udmVydGVyIC0gQSB7QGxpbmsgVmFsdWVDb252ZXJ0ZXJ9IHRoYXQgaW50ZWdyYXRlcyB3aXRoIHRoZSBwcm9wZXJ0eSBnZXR0ZXIvc2V0dGVyXG4gICAgICogdG8gY29udmVydCB2YWx1ZXMgdG8gYW5kIGZyb20gYSBET00gc3RyaW5nLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKE93bmVyLCBuYW1lLCBhdHRyaWJ1dGUgPSBuYW1lLnRvTG93ZXJDYXNlKCksIG1vZGUgPSBcInJlZmxlY3RcIiwgY29udmVydGVyKSB7XG4gICAgICAgIHRoaXMuZ3VhcmRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLk93bmVyID0gT3duZXI7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlID0gYXR0cmlidXRlO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IGNvbnZlcnRlcjtcbiAgICAgICAgdGhpcy5maWVsZE5hbWUgPSBgXyR7bmFtZX1gO1xuICAgICAgICB0aGlzLmNhbGxiYWNrTmFtZSA9IGAke25hbWV9Q2hhbmdlZGA7XG4gICAgICAgIHRoaXMuaGFzQ2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrTmFtZSBpbiBPd25lci5wcm90b3R5cGU7XG4gICAgICAgIGlmIChtb2RlID09PSBcImJvb2xlYW5cIiAmJiBjb252ZXJ0ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSBib29sZWFuQ29udmVydGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUvcHJvcGVydHkgb24gdGhlIHNvdXJjZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgc291cmNlIGVsZW1lbnQgdG8gYWNjZXNzLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZS9wcm9wZXJ0eSB0by5cbiAgICAgKi9cbiAgICBzZXRWYWx1ZShzb3VyY2UsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc291cmNlW3RoaXMuZmllbGROYW1lXTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gdGhpcy5jb252ZXJ0ZXI7XG4gICAgICAgIGlmIChjb252ZXJ0ZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb252ZXJ0ZXIuZnJvbVZpZXcobmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHNvdXJjZVt0aGlzLmZpZWxkTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMudHJ5UmVmbGVjdFRvQXR0cmlidXRlKHNvdXJjZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNvdXJjZVt0aGlzLmNhbGxiYWNrTmFtZV0ob2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZS4kZmFzdENvbnRyb2xsZXIubm90aWZ5KHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS9wcm9wZXJ0eSBvbiB0aGUgc291cmNlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBzb3VyY2UgZWxlbWVudCB0byBhY2Nlc3MuXG4gICAgICovXG4gICAgZ2V0VmFsdWUoc291cmNlKSB7XG4gICAgICAgIE9ic2VydmFibGUudHJhY2soc291cmNlLCB0aGlzLm5hbWUpO1xuICAgICAgICByZXR1cm4gc291cmNlW3RoaXMuZmllbGROYW1lXTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG9uQXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmd1YXJkcy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmd1YXJkcy5hZGQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICB0aGlzLmd1YXJkcy5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICAgIHRyeVJlZmxlY3RUb0F0dHJpYnV0ZShlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICAgIGNvbnN0IGd1YXJkcyA9IHRoaXMuZ3VhcmRzO1xuICAgICAgICBpZiAoZ3VhcmRzLmhhcyhlbGVtZW50KSB8fCBtb2RlID09PSBcImZyb21WaWV3XCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgZ3VhcmRzLmFkZChlbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGxhdGVzdFZhbHVlID0gZWxlbWVudFt0aGlzLmZpZWxkTmFtZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVmbGVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSB0aGlzLmNvbnZlcnRlcjtcbiAgICAgICAgICAgICAgICAgICAgRE9NLnNldEF0dHJpYnV0ZShlbGVtZW50LCB0aGlzLmF0dHJpYnV0ZSwgY29udmVydGVyICE9PSB2b2lkIDAgPyBjb252ZXJ0ZXIudG9WaWV3KGxhdGVzdFZhbHVlKSA6IGxhdGVzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgRE9NLnNldEJvb2xlYW5BdHRyaWJ1dGUoZWxlbWVudCwgdGhpcy5hdHRyaWJ1dGUsIGxhdGVzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29sbGVjdHMgYWxsIGF0dHJpYnV0ZSBkZWZpbml0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIG93bmVyLlxuICAgICAqIEBwYXJhbSBPd25lciAtIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciB0byBjb2xsZWN0IGF0dHJpYnV0ZSBmb3IuXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZUxpc3RzIC0gQW55IGV4aXN0aW5nIGF0dHJpYnV0ZXMgdG8gY29sbGVjdCBhbmQgbWVyZ2Ugd2l0aCB0aG9zZSBhc3NvY2lhdGVkIHdpdGggdGhlIG93bmVyLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHN0YXRpYyBjb2xsZWN0KE93bmVyLCAuLi5hdHRyaWJ1dGVMaXN0cykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIGF0dHJpYnV0ZUxpc3RzLnB1c2goQXR0cmlidXRlQ29uZmlndXJhdGlvbi5sb2NhdGUoT3duZXIpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRlTGlzdHMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdCA9IGF0dHJpYnV0ZUxpc3RzW2ldO1xuICAgICAgICAgICAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGpqID0gbGlzdC5sZW5ndGg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbGlzdFtqXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2gobmV3IEF0dHJpYnV0ZURlZmluaXRpb24oT3duZXIsIGNvbmZpZykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5ldyBBdHRyaWJ1dGVEZWZpbml0aW9uKE93bmVyLCBjb25maWcucHJvcGVydHksIGNvbmZpZy5hdHRyaWJ1dGUsIGNvbmZpZy5tb2RlLCBjb25maWcuY29udmVydGVyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKGNvbmZpZ09yVGFyZ2V0LCBwcm9wKSB7XG4gICAgbGV0IGNvbmZpZztcbiAgICBmdW5jdGlvbiBkZWNvcmF0b3IoJHRhcmdldCwgJHByb3ApIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBOb24gaW52b2NhdGlvbjpcbiAgICAgICAgICAgIC8vIC0gQGF0dHJcbiAgICAgICAgICAgIC8vIEludm9jYXRpb24gd2l0aCBvciB3L28gb3B0czpcbiAgICAgICAgICAgIC8vIC0gQGF0dHIoKVxuICAgICAgICAgICAgLy8gLSBAYXR0cih7Li4ub3B0c30pXG4gICAgICAgICAgICBjb25maWcucHJvcGVydHkgPSAkcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLmxvY2F0ZSgkdGFyZ2V0LmNvbnN0cnVjdG9yKS5wdXNoKGNvbmZpZyk7XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBOb24gaW52b2NhdGlvbjpcbiAgICAgICAgLy8gLSBAYXR0clxuICAgICAgICBjb25maWcgPSB7fTtcbiAgICAgICAgZGVjb3JhdG9yKGNvbmZpZ09yVGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJbnZvY2F0aW9uIHdpdGggb3Igdy9vIG9wdHM6XG4gICAgLy8gLSBAYXR0cigpXG4gICAgLy8gLSBAYXR0cih7Li4ub3B0c30pXG4gICAgY29uZmlnID0gY29uZmlnT3JUYXJnZXQgPT09IHZvaWQgMCA/IHt9IDogY29uZmlnT3JUYXJnZXQ7XG4gICAgcmV0dXJuIGRlY29yYXRvcjtcbn1cbiIsImltcG9ydCB7IEZBU1QgfSBmcm9tIFwiLi4vcGxhdGZvcm0uanNcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi4vb2JzZXJ2YXRpb24vb2JzZXJ2YWJsZS5qc1wiO1xuaW1wb3J0IHsgRWxlbWVudFN0eWxlcyB9IGZyb20gXCIuLi9zdHlsZXMvZWxlbWVudC1zdHlsZXMuanNcIjtcbmltcG9ydCB7IEF0dHJpYnV0ZURlZmluaXRpb24gfSBmcm9tIFwiLi9hdHRyaWJ1dGVzLmpzXCI7XG5jb25zdCBkZWZhdWx0U2hhZG93T3B0aW9ucyA9IHsgbW9kZTogXCJvcGVuXCIgfTtcbmNvbnN0IGRlZmF1bHRFbGVtZW50T3B0aW9ucyA9IHt9O1xuY29uc3QgZmFzdFJlZ2lzdHJ5ID0gRkFTVC5nZXRCeUlkKDQgLyogZWxlbWVudFJlZ2lzdHJ5ICovLCAoKSA9PiB7XG4gICAgY29uc3QgdHlwZVRvRGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIHJlZ2lzdGVyKGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIGlmICh0eXBlVG9EZWZpbml0aW9uLmhhcyhkZWZpbml0aW9uLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHlwZVRvRGVmaW5pdGlvbi5zZXQoZGVmaW5pdGlvbi50eXBlLCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBnZXRCeVR5cGUoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZVRvRGVmaW5pdGlvbi5nZXQoa2V5KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuLyoqXG4gKiBEZWZpbmVzIG1ldGFkYXRhIGZvciBhIEZBU1RFbGVtZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRkFTVEVsZW1lbnREZWZpbml0aW9uIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEZBU1RFbGVtZW50RGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIHRoaXMgZGVmaW5pdGlvbiBpcyBiZWluZyBjcmVhdGVkIGZvci5cbiAgICAgKiBAcGFyYW0gbmFtZU9yQ29uZmlnIC0gVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgdG8gZGVmaW5lIG9yIGEgY29uZmlnIG9iamVjdFxuICAgICAqIHRoYXQgZGVzY3JpYmVzIHRoZSBlbGVtZW50IHRvIGRlZmluZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBuYW1lT3JDb25maWcgPSB0eXBlLmRlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lT3JDb25maWcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIG5hbWVPckNvbmZpZyA9IHsgbmFtZTogbmFtZU9yQ29uZmlnIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZU9yQ29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBuYW1lT3JDb25maWcudGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVEZWZpbml0aW9uLmNvbGxlY3QodHlwZSwgbmFtZU9yQ29uZmlnLmF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBvYnNlcnZlZEF0dHJpYnV0ZXMgPSBuZXcgQXJyYXkoYXR0cmlidXRlcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBwcm9wZXJ0eUxvb2t1cCA9IHt9O1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXAgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlpID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIG9ic2VydmVkQXR0cmlidXRlc1tpXSA9IGN1cnJlbnQuYXR0cmlidXRlO1xuICAgICAgICAgICAgcHJvcGVydHlMb29rdXBbY3VycmVudC5uYW1lXSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBhdHRyaWJ1dGVMb29rdXBbY3VycmVudC5hdHRyaWJ1dGVdID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLm9ic2VydmVkQXR0cmlidXRlcyA9IG9ic2VydmVkQXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUxvb2t1cCA9IHByb3BlcnR5TG9va3VwO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxvb2t1cCA9IGF0dHJpYnV0ZUxvb2t1cDtcbiAgICAgICAgdGhpcy5zaGFkb3dPcHRpb25zID1cbiAgICAgICAgICAgIG5hbWVPckNvbmZpZy5zaGFkb3dPcHRpb25zID09PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRTaGFkb3dPcHRpb25zXG4gICAgICAgICAgICAgICAgOiBuYW1lT3JDb25maWcuc2hhZG93T3B0aW9ucyA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNoYWRvd09wdGlvbnMpLCBuYW1lT3JDb25maWcuc2hhZG93T3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZWxlbWVudE9wdGlvbnMgPVxuICAgICAgICAgICAgbmFtZU9yQ29uZmlnLmVsZW1lbnRPcHRpb25zID09PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRFbGVtZW50T3B0aW9uc1xuICAgICAgICAgICAgICAgIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RWxlbWVudE9wdGlvbnMpLCBuYW1lT3JDb25maWcuZWxlbWVudE9wdGlvbnMpO1xuICAgICAgICB0aGlzLnN0eWxlcyA9XG4gICAgICAgICAgICBuYW1lT3JDb25maWcuc3R5bGVzID09PSB2b2lkIDBcbiAgICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICAgIDogQXJyYXkuaXNBcnJheShuYW1lT3JDb25maWcuc3R5bGVzKVxuICAgICAgICAgICAgICAgICAgICA/IEVsZW1lbnRTdHlsZXMuY3JlYXRlKG5hbWVPckNvbmZpZy5zdHlsZXMpXG4gICAgICAgICAgICAgICAgICAgIDogbmFtZU9yQ29uZmlnLnN0eWxlcyBpbnN0YW5jZW9mIEVsZW1lbnRTdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmFtZU9yQ29uZmlnLnN0eWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBFbGVtZW50U3R5bGVzLmNyZWF0ZShbbmFtZU9yQ29uZmlnLnN0eWxlc10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhpcyBlbGVtZW50IGhhcyBiZWVuIGRlZmluZWQgaW4gYXQgbGVhc3Qgb25lIHJlZ2lzdHJ5LlxuICAgICAqL1xuICAgIGdldCBpc0RlZmluZWQoKSB7XG4gICAgICAgIHJldHVybiAhIWZhc3RSZWdpc3RyeS5nZXRCeVR5cGUodGhpcy50eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhIGN1c3RvbSBlbGVtZW50IGJhc2VkIG9uIHRoaXMgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gcmVnaXN0cnkgLSBUaGUgZWxlbWVudCByZWdpc3RyeSB0byBkZWZpbmUgdGhlIGVsZW1lbnQgaW4uXG4gICAgICovXG4gICAgZGVmaW5lKHJlZ2lzdHJ5ID0gY3VzdG9tRWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgaWYgKGZhc3RSZWdpc3RyeS5yZWdpc3Rlcih0aGlzKSkge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IHByb3RvID0gdHlwZS5wcm90b3R5cGU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgICAgICBPYnNlcnZhYmxlLmRlZmluZVByb3BlcnR5KHByb3RvLCBhdHRyaWJ1dGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJvYnNlcnZlZEF0dHJpYnV0ZXNcIiwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLm9ic2VydmVkQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWdpc3RyeS5nZXQodGhpcy5uYW1lKSkge1xuICAgICAgICAgICAgcmVnaXN0cnkuZGVmaW5lKHRoaXMubmFtZSwgdHlwZSwgdGhpcy5lbGVtZW50T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuLyoqXG4gKiBHZXRzIHRoZSBlbGVtZW50IGRlZmluaXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAqIEBwYXJhbSB0eXBlIC0gVGhlIGN1c3RvbSBlbGVtZW50IHR5cGUgdG8gcmV0cmlldmUgdGhlIGRlZmluaXRpb24gZm9yLlxuICovXG5GQVNURWxlbWVudERlZmluaXRpb24uZm9yVHlwZSA9IGZhc3RSZWdpc3RyeS5nZXRCeVR5cGU7XG4iLCJpbXBvcnQgeyBET00gfSBmcm9tIFwiLi4vZG9tLmpzXCI7XG5pbXBvcnQgeyBQcm9wZXJ0eUNoYW5nZU5vdGlmaWVyIH0gZnJvbSBcIi4uL29ic2VydmF0aW9uL25vdGlmaWVyLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCwgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBGQVNURWxlbWVudERlZmluaXRpb24gfSBmcm9tIFwiLi9mYXN0LWRlZmluaXRpb25zLmpzXCI7XG5jb25zdCBzaGFkb3dSb290cyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBkZWZhdWx0RXZlbnRPcHRpb25zID0ge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWUsXG4gICAgY2FuY2VsYWJsZTogdHJ1ZSxcbn07XG5mdW5jdGlvbiBnZXRTaGFkb3dSb290KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5zaGFkb3dSb290IHx8IHNoYWRvd1Jvb3RzLmdldChlbGVtZW50KSB8fCBudWxsO1xufVxuLyoqXG4gKiBDb250cm9scyB0aGUgbGlmZWN5Y2xlIGFuZCByZW5kZXJpbmcgb2YgYSBgRkFTVEVsZW1lbnRgLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIFByb3BlcnR5Q2hhbmdlTm90aWZpZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb250cm9sbGVyIHRvIGNvbnRyb2wgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gYmUgY29udHJvbGxlZCBieSB0aGlzIGNvbnRyb2xsZXIuXG4gICAgICogQHBhcmFtIGRlZmluaXRpb24gLSBUaGUgZWxlbWVudCBkZWZpbml0aW9uIG1ldGFkYXRhIHRoYXQgaW5zdHJ1Y3RzIHRoaXNcbiAgICAgKiBjb250cm9sbGVyIGluIGhvdyB0byBoYW5kbGUgcmVuZGVyaW5nIGFuZCBvdGhlciBwbGF0Zm9ybSBpbnRlZ3JhdGlvbnMuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5ib3VuZE9ic2VydmFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iZWhhdmlvcnMgPSBudWxsO1xuICAgICAgICB0aGlzLm5lZWRzSW5pdGlhbGl6YXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0eWxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGFsbG93cyBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKC4uLikgdG8gcmV0dXJuIHRoZSBDb250cm9sbGVyXG4gICAgICAgICAqIHdoZW4gdGhlIG5vdGlmaWVyIGZvciB0aGUgQ29udHJvbGxlciBpdHNlbGYgaXMgYmVpbmcgcmVxdWVzdGVkLiBUaGVcbiAgICAgICAgICogcmVzdWx0IGlzIHRoYXQgdGhlIE9ic2VydmFibGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gY3JlYXRlIGEgc2VwYXJhdGVcbiAgICAgICAgICogaW5zdGFuY2Ugb2YgTm90aWZpZXIgZm9yIG9ic2VydmFibGVzIG9uIHRoZSBDb250cm9sbGVyLiBUaGUgY29tcG9uZW50IGFuZFxuICAgICAgICAgKiB0aGUgY29udHJvbGxlciB3aWxsIG5vdyBzaGFyZSB0aGUgc2FtZSBub3RpZmllciwgcmVtb3Zpbmcgb25lLW9iamVjdCBjb25zdHJ1Y3RcbiAgICAgICAgICogcGVyIHdlYiBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRmYXN0Q29udHJvbGxlciA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1c3RvbSBlbGVtZW50LlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBgbnVsbGAgdGhlbiB0aGUgZWxlbWVudCBpcyBtYW5hZ2luZyBpdHMgb3duIHJlbmRlcmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgICAgIGNvbnN0IHNoYWRvd09wdGlvbnMgPSBkZWZpbml0aW9uLnNoYWRvd09wdGlvbnM7XG4gICAgICAgIGlmIChzaGFkb3dPcHRpb25zICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBlbGVtZW50LmF0dGFjaFNoYWRvdyhzaGFkb3dPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChzaGFkb3dPcHRpb25zLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICAgICAgICAgICAgICBzaGFkb3dSb290cy5zZXQoZWxlbWVudCwgc2hhZG93Um9vdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FwdHVyZSBhbnkgb2JzZXJ2YWJsZSB2YWx1ZXMgdGhhdCB3ZXJlIHNldCBieSB0aGUgYmluZGluZyBlbmdpbmUgYmVmb3JlXG4gICAgICAgIC8vIHRoZSBicm93c2VyIHVwZ3JhZGVkIHRoZSBlbGVtZW50LiBUaGVuIGRlbGV0ZSB0aGUgcHJvcGVydHkgc2luY2UgaXQgd2lsbFxuICAgICAgICAvLyBzaGFkb3cgdGhlIGdldHRlci9zZXR0ZXIgdGhhdCBpcyByZXF1aXJlZCB0byBtYWtlIHRoZSBvYnNlcnZhYmxlIG9wZXJhdGUuXG4gICAgICAgIC8vIExhdGVyLCBpbiB0aGUgY29ubmVjdCBjYWxsYmFjaywgd2UnbGwgcmUtYXBwbHkgdGhlIHZhbHVlcy5cbiAgICAgICAgY29uc3QgYWNjZXNzb3JzID0gT2JzZXJ2YWJsZS5nZXRBY2Nlc3NvcnMoZWxlbWVudCk7XG4gICAgICAgIGlmIChhY2Nlc3NvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYm91bmRPYnNlcnZhYmxlcyA9ICh0aGlzLmJvdW5kT2JzZXJ2YWJsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGFjY2Vzc29ycy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gYWNjZXNzb3JzW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50W3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnRbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRPYnNlcnZhYmxlc1twcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaGFzIGJlZW5cbiAgICAgKiBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGdldCBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCBcImlzQ29ubmVjdGVkXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHNldElzQ29ubmVjdGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gdmFsdWU7XG4gICAgICAgIE9ic2VydmFibGUubm90aWZ5KHRoaXMsIFwiaXNDb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMvc2V0cyB0aGUgdGVtcGxhdGUgdXNlZCB0byByZW5kZXIgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgdmFsdWUgY2FuIG9ubHkgYmUgYWNjdXJhdGVseSByZWFkIGFmdGVyIGNvbm5lY3QgYnV0IGNhbiBiZSBzZXQgYXQgYW55IHRpbWUuXG4gICAgICovXG4gICAgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGU7XG4gICAgfVxuICAgIHNldCB0ZW1wbGF0ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRzSW5pdGlhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGVtcGxhdGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMvc2V0cyB0aGUgcHJpbWFyeSBzdHlsZXMgdXNlZCBmb3IgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgdmFsdWUgY2FuIG9ubHkgYmUgYWNjdXJhdGVseSByZWFkIGFmdGVyIGNvbm5lY3QgYnV0IGNhbiBiZSBzZXQgYXQgYW55IHRpbWUuXG4gICAgICovXG4gICAgZ2V0IHN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlcztcbiAgICB9XG4gICAgc2V0IHN0eWxlcyh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVzID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU3R5bGVzKHRoaXMuX3N0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3R5bGVzID0gdmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5uZWVkc0luaXRpYWxpemF0aW9uICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0eWxlcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBzdHlsZXMgdG8gdGhpcyBlbGVtZW50LiBQcm92aWRpbmcgYW4gSFRNTFN0eWxlRWxlbWVudCB3aWxsIGF0dGFjaCB0aGUgZWxlbWVudCBpbnN0YW5jZSB0byB0aGUgc2hhZG93Um9vdC5cbiAgICAgKiBAcGFyYW0gc3R5bGVzIC0gVGhlIHN0eWxlcyB0byBhZGQuXG4gICAgICovXG4gICAgYWRkU3R5bGVzKHN0eWxlcykge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRTaGFkb3dSb290KHRoaXMuZWxlbWVudCkgfHxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5nZXRSb290Tm9kZSgpO1xuICAgICAgICBpZiAoc3R5bGVzIGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCkge1xuICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZChzdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzdHlsZXMuaXNBdHRhY2hlZFRvKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUJlaGF2aW9ycyA9IHN0eWxlcy5iZWhhdmlvcnM7XG4gICAgICAgICAgICBzdHlsZXMuYWRkU3R5bGVzVG8odGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VCZWhhdmlvcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJlaGF2aW9ycyhzb3VyY2VCZWhhdmlvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgc3R5bGVzIGZyb20gdGhpcyBlbGVtZW50LiBQcm92aWRpbmcgYW4gSFRNTFN0eWxlRWxlbWVudCB3aWxsIGRldGFjaCB0aGUgZWxlbWVudCBpbnN0YW5jZSBmcm9tIHRoZSBzaGFkb3dSb290LlxuICAgICAqIEBwYXJhbSBzdHlsZXMgLSB0aGUgc3R5bGVzIHRvIHJlbW92ZS5cbiAgICAgKi9cbiAgICByZW1vdmVTdHlsZXMoc3R5bGVzKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGdldFNoYWRvd1Jvb3QodGhpcy5lbGVtZW50KSB8fFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICAgIGlmIChzdHlsZXMgaW5zdGFuY2VvZiBIVE1MU3R5bGVFbGVtZW50KSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoc3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZXMuaXNBdHRhY2hlZFRvKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUJlaGF2aW9ycyA9IHN0eWxlcy5iZWhhdmlvcnM7XG4gICAgICAgICAgICBzdHlsZXMucmVtb3ZlU3R5bGVzRnJvbSh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUJlaGF2aW9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQmVoYXZpb3JzKHNvdXJjZUJlaGF2aW9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBiZWhhdmlvcnMgdG8gdGhpcyBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBiZWhhdmlvcnMgLSBUaGUgYmVoYXZpb3JzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRCZWhhdmlvcnMoYmVoYXZpb3JzKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEJlaGF2aW9ycyA9IHRoaXMuYmVoYXZpb3JzIHx8ICh0aGlzLmJlaGF2aW9ycyA9IG5ldyBNYXAoKSk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGJlaGF2aW9ycy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJlaGF2aW9yc1RvQmluZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IGJlaGF2aW9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRCZWhhdmlvcnMuaGFzKGJlaGF2aW9yKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldEJlaGF2aW9ycy5zZXQoYmVoYXZpb3IsIHRhcmdldEJlaGF2aW9ycy5nZXQoYmVoYXZpb3IpICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRCZWhhdmlvcnMuc2V0KGJlaGF2aW9yLCAxKTtcbiAgICAgICAgICAgICAgICBiZWhhdmlvcnNUb0JpbmQucHVzaChiZWhhdmlvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWhhdmlvcnNUb0JpbmQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBiZWhhdmlvcnNUb0JpbmRbaV0uYmluZChlbGVtZW50LCBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBiZWhhdmlvcnMgZnJvbSB0aGlzIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGJlaGF2aW9ycyAtIFRoZSBiZWhhdmlvcnMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSBmb3JjZSAtIEZvcmNlcyB1bmJpbmRpbmcgb2YgYmVoYXZpb3JzLlxuICAgICAqL1xuICAgIHJlbW92ZUJlaGF2aW9ycyhiZWhhdmlvcnMsIGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0QmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGlmICh0YXJnZXRCZWhhdmlvcnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW5ndGggPSBiZWhhdmlvcnMubGVuZ3RoO1xuICAgICAgICBjb25zdCBiZWhhdmlvcnNUb1VuYmluZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IGJlaGF2aW9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRCZWhhdmlvcnMuaGFzKGJlaGF2aW9yKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGFyZ2V0QmVoYXZpb3JzLmdldChiZWhhdmlvcikgLSAxO1xuICAgICAgICAgICAgICAgIGNvdW50ID09PSAwIHx8IGZvcmNlXG4gICAgICAgICAgICAgICAgICAgID8gdGFyZ2V0QmVoYXZpb3JzLmRlbGV0ZShiZWhhdmlvcikgJiYgYmVoYXZpb3JzVG9VbmJpbmQucHVzaChiZWhhdmlvcilcbiAgICAgICAgICAgICAgICAgICAgOiB0YXJnZXRCZWhhdmlvcnMuc2V0KGJlaGF2aW9yLCBjb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWhhdmlvcnNUb1VuYmluZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yc1RvVW5iaW5kW2ldLnVuYmluZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIGNvbm5lY3RlZCBsaWZlY3ljbGUgYmVoYXZpb3Igb24gdGhlIGFzc29jaWF0ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBvbkNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5uZWVkc0luaXRpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaEluaXRpYWxpemF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy52aWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuYmluZChlbGVtZW50LCBkZWZhdWx0RXhlY3V0aW9uQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmVoYXZpb3JzID0gdGhpcy5iZWhhdmlvcnM7XG4gICAgICAgIGlmIChiZWhhdmlvcnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2JlaGF2aW9yXSBvZiBiZWhhdmlvcnMpIHtcbiAgICAgICAgICAgICAgICBiZWhhdmlvci5iaW5kKGVsZW1lbnQsIGRlZmF1bHRFeGVjdXRpb25Db250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldElzQ29ubmVjdGVkKHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIGRpc2Nvbm5lY3RlZCBsaWZlY3ljbGUgYmVoYXZpb3Igb24gdGhlIGFzc29jaWF0ZWQgZWxlbWVudC5cbiAgICAgKi9cbiAgICBvbkRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXc7XG4gICAgICAgIGlmICh2aWV3ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2aWV3LnVuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJlaGF2aW9ycyA9IHRoaXMuYmVoYXZpb3JzO1xuICAgICAgICBpZiAoYmVoYXZpb3JzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZm9yIChjb25zdCBbYmVoYXZpb3JdIG9mIGJlaGF2aW9ycykge1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yLnVuYmluZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSBhdHRyaWJ1dGUgY2hhbmdlZCBjYWxsYmFjayBmb3IgdGhlIGFzc29jaWF0ZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSAtIFRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSAtIFRoZSBuZXcgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBvbkF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgY29uc3QgYXR0ckRlZiA9IHRoaXMuZGVmaW5pdGlvbi5hdHRyaWJ1dGVMb29rdXBbbmFtZV07XG4gICAgICAgIGlmIChhdHRyRGVmICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGF0dHJEZWYub25BdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodGhpcy5lbGVtZW50LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYSBjdXN0b20gSFRNTCBldmVudC5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBkZXRhaWwgLSBUaGUgZXZlbnQgZGV0YWlsIG9iamVjdCB0byBzZW5kIHdpdGggdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGV2ZW50IG9wdGlvbnMuIEJ5IGRlZmF1bHQgYnViYmxlcyBhbmQgY29tcG9zZWQuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBPbmx5IGVtaXRzIGV2ZW50cyBpZiBjb25uZWN0ZWQuXG4gICAgICovXG4gICAgZW1pdCh0eXBlLCBkZXRhaWwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHR5cGUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGRldGFpbCB9LCBkZWZhdWx0RXZlbnRPcHRpb25zKSwgb3B0aW9ucykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZpbmlzaEluaXRpYWxpemF0aW9uKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBib3VuZE9ic2VydmFibGVzID0gdGhpcy5ib3VuZE9ic2VydmFibGVzO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFueSBvYnNlcnZhYmxlcyB0aGF0IHdlcmUgYm91bmQsIHJlLWFwcGx5IHRoZWlyIHZhbHVlcy5cbiAgICAgICAgaWYgKGJvdW5kT2JzZXJ2YWJsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBPYmplY3Qua2V5cyhib3VuZE9ic2VydmFibGVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgICAgICAgICAgICAgZWxlbWVudFtwcm9wZXJ0eU5hbWVdID0gYm91bmRPYnNlcnZhYmxlc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib3VuZE9ic2VydmFibGVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5kZWZpbml0aW9uO1xuICAgICAgICAvLyAxLiBUZW1wbGF0ZSBvdmVycmlkZXMgdGFrZSB0b3AgcHJlY2VkZW5jZS5cbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LnJlc29sdmVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIDIuIEFsbG93IGZvciBlbGVtZW50IGluc3RhbmNlIG92ZXJyaWRlcyBuZXh0LlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGhpcy5lbGVtZW50LnJlc29sdmVUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVmaW5pdGlvbi50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIDMuIERlZmF1bHQgdG8gdGhlIHN0YXRpYyBkZWZpbml0aW9uLlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlID0gZGVmaW5pdGlvbi50ZW1wbGF0ZSB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSB0ZW1wbGF0ZSBhZnRlciB0aGUgYWJvdmUgcHJvY2VzcywgcmVuZGVyIGl0LlxuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHRlbXBsYXRlLCB0aGVuIHRoZSBlbGVtZW50IGF1dGhvciBoYXMgb3B0ZWQgaW50b1xuICAgICAgICAvLyBjdXN0b20gcmVuZGVyaW5nIGFuZCB0aGV5IHdpbGwgbWFuYWdlZCB0aGUgc2hhZG93IHJvb3QncyBjb250ZW50IHRoZW1zZWx2ZXMuXG4gICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMS4gU3R5bGVzIG92ZXJyaWRlcyB0YWtlIHRvcCBwcmVjZWRlbmNlLlxuICAgICAgICBpZiAodGhpcy5fc3R5bGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LnJlc29sdmVTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyAyLiBBbGxvdyBmb3IgZWxlbWVudCBpbnN0YW5jZSBvdmVycmlkZXMgbmV4dC5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMgPSB0aGlzLmVsZW1lbnQucmVzb2x2ZVN0eWxlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVmaW5pdGlvbi5zdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAvLyAzLiBEZWZhdWx0IHRvIHRoZSBzdGF0aWMgZGVmaW5pdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMgPSBkZWZpbml0aW9uLnN0eWxlcyB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhhdmUgc3R5bGVzIGFmdGVyIHRoZSBhYm92ZSBwcm9jZXNzLCBhZGQgdGhlbS5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRTdHlsZXModGhpcy5fc3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5lZWRzSW5pdGlhbGl6YXRpb24gPSBmYWxzZTtcbiAgICB9XG4gICAgcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgLy8gV2hlbiBnZXR0aW5nIHRoZSBob3N0IHRvIHJlbmRlciB0bywgd2Ugc3RhcnQgYnkgbG9va2luZ1xuICAgICAgICAvLyB1cCB0aGUgc2hhZG93IHJvb3QuIElmIHRoZXJlIGlzbid0IG9uZSwgdGhlbiB0aGF0IG1lYW5zXG4gICAgICAgIC8vIHdlJ3JlIGRvaW5nIGEgTGlnaHQgRE9NIHJlbmRlciB0byB0aGUgZWxlbWVudCdzIGRpcmVjdCBjaGlsZHJlbi5cbiAgICAgICAgY29uc3QgaG9zdCA9IGdldFNoYWRvd1Jvb3QoZWxlbWVudCkgfHwgZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMudmlldyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IGEgdmlldywgd2UgbmVlZCB0byB1bmJpbmQgYW5kIHJlbW92ZSB0aHJvdWdoIGRpc3Bvc2UuXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5uZWVkc0luaXRpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgcHJldmlvdXMgY3VzdG9tIHJlbmRlcmluZywgd2UgbmVlZCB0byBjbGVhciBvdXQgdGhlIGhvc3QuXG4gICAgICAgICAgICBET00ucmVtb3ZlQ2hpbGROb2Rlcyhob3N0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgIC8vIElmIGEgbmV3IHRlbXBsYXRlIHdhcyBwcm92aWRlZCwgcmVuZGVyIGl0LlxuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGVtcGxhdGUucmVuZGVyKGVsZW1lbnQsIGhvc3QsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2F0ZXMgb3IgY3JlYXRlcyBhIGNvbnRyb2xsZXIgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIHJldHVybiB0aGUgY29udHJvbGxlciBmb3IuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbXVzdCBoYXZlIGEge0BsaW5rIEZBU1RFbGVtZW50RGVmaW5pdGlvbn1cbiAgICAgKiByZWdpc3RlcmVkIGVpdGhlciB0aHJvdWdoIHRoZSB1c2Ugb2YgdGhlIHtAbGluayBjdXN0b21FbGVtZW50fVxuICAgICAqIGRlY29yYXRvciBvciBhIGNhbGwgdG8gYEZBU1RFbGVtZW50LmRlZmluZWAuXG4gICAgICovXG4gICAgc3RhdGljIGZvckN1c3RvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gZWxlbWVudC4kZmFzdENvbnRyb2xsZXI7XG4gICAgICAgIGlmIChjb250cm9sbGVyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSBGQVNURWxlbWVudERlZmluaXRpb24uZm9yVHlwZShlbGVtZW50LmNvbnN0cnVjdG9yKTtcbiAgICAgICAgaWYgKGRlZmluaXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBGQVNURWxlbWVudCBkZWZpbml0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGVsZW1lbnQuJGZhc3RDb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoZWxlbWVudCwgZGVmaW5pdGlvbikpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyLmpzXCI7XG5pbXBvcnQgeyBGQVNURWxlbWVudERlZmluaXRpb24sIH0gZnJvbSBcIi4vZmFzdC1kZWZpbml0aW9ucy5qc1wiO1xuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqL1xuZnVuY3Rpb24gY3JlYXRlRkFTVEVsZW1lbnQoQmFzZVR5cGUpIHtcbiAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBCYXNlVHlwZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICovXG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgQ29udHJvbGxlci5mb3JDdXN0b21FbGVtZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgICRlbWl0KHR5cGUsIGRldGFpbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGZhc3RDb250cm9sbGVyLmVtaXQodHlwZSwgZGV0YWlsLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoaXMuJGZhc3RDb250cm9sbGVyLm9uQ29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoaXMuJGZhc3RDb250cm9sbGVyLm9uRGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLiRmYXN0Q29udHJvbGxlci5vbkF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQSBtaW5pbWFsIGJhc2UgY2xhc3MgZm9yIEZBU1RFbGVtZW50cyB0aGF0IGFsc28gcHJvdmlkZXNcbiAqIHN0YXRpYyBoZWxwZXJzIGZvciB3b3JraW5nIHdpdGggRkFTVEVsZW1lbnRzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRkFTVEVsZW1lbnQgPSBPYmplY3QuYXNzaWduKGNyZWF0ZUZBU1RFbGVtZW50KEhUTUxFbGVtZW50KSwge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgRkFTVEVsZW1lbnQgYmFzZSBjbGFzcyBpbmhlcml0ZWQgZnJvbSB0aGVcbiAgICAgKiBwcm92aWRlZCBiYXNlIHR5cGUuXG4gICAgICogQHBhcmFtIEJhc2VUeXBlIC0gVGhlIGJhc2UgZWxlbWVudCB0eXBlIHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKi9cbiAgICBmcm9tKEJhc2VUeXBlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGQVNURWxlbWVudChCYXNlVHlwZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGEgcGxhdGZvcm0gY3VzdG9tIGVsZW1lbnQgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHR5cGUgYW5kIGRlZmluaXRpb24uXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgY3VzdG9tIGVsZW1lbnQgdHlwZSB0byBkZWZpbmUuXG4gICAgICogQHBhcmFtIG5hbWVPckRlZiAtIFRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IHRvIGRlZmluZSBvciBhIGRlZmluaXRpb24gb2JqZWN0XG4gICAgICogdGhhdCBkZXNjcmliZXMgdGhlIGVsZW1lbnQgdG8gZGVmaW5lLlxuICAgICAqL1xuICAgIGRlZmluZSh0eXBlLCBuYW1lT3JEZWYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGQVNURWxlbWVudERlZmluaXRpb24odHlwZSwgbmFtZU9yRGVmKS5kZWZpbmUoKS50eXBlO1xuICAgIH0sXG59KTtcbi8qKlxuICogRGVjb3JhdG9yOiBEZWZpbmVzIGEgcGxhdGZvcm0gY3VzdG9tIGVsZW1lbnQgYmFzZWQgb24gYEZBU1RFbGVtZW50YC5cbiAqIEBwYXJhbSBuYW1lT3JEZWYgLSBUaGUgbmFtZSBvZiB0aGUgZWxlbWVudCB0byBkZWZpbmUgb3IgYSBkZWZpbml0aW9uIG9iamVjdFxuICogdGhhdCBkZXNjcmliZXMgdGhlIGVsZW1lbnQgdG8gZGVmaW5lLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tRWxlbWVudChuYW1lT3JEZWYpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LWZ1bmN0aW9uLXJldHVybi10eXBlICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIG5ldyBGQVNURWxlbWVudERlZmluaXRpb24odHlwZSwgbmFtZU9yRGVmKS5kZWZpbmUoKTtcbiAgICB9O1xufVxuIiwiLyoqXG4gKiBEaXJlY3RpdmUgZm9yIHVzZSBpbiB7QGxpbmsgY3NzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBDU1NEaXJlY3RpdmUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDU1MgZnJhZ21lbnQgdG8gaW50ZXJwb2xhdGUgaW50byB0aGUgQ1NTIGRvY3VtZW50LlxuICAgICAqIEByZXR1cm5zIC0gdGhlIHN0cmluZyB0byBpbnRlcnBvbGF0ZSBpbnRvIENTU1xuICAgICAqL1xuICAgIGNyZWF0ZUNTUygpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiZWhhdmlvciB0byBiaW5kIHRvIHRoZSBob3N0IGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgLSB0aGUgYmVoYXZpb3IgdG8gYmluZCB0byB0aGUgaG9zdCBlbGVtZW50LCBvciB1bmRlZmluZWQuXG4gICAgICovXG4gICAgY3JlYXRlQmVoYXZpb3IoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ1NTRGlyZWN0aXZlIH0gZnJvbSBcIi4vY3NzLWRpcmVjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgRWxlbWVudFN0eWxlcyB9IGZyb20gXCIuL2VsZW1lbnQtc3R5bGVzLmpzXCI7XG5mdW5jdGlvbiBjb2xsZWN0U3R5bGVzKHN0cmluZ3MsIHZhbHVlcykge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIGxldCBjc3NTdHJpbmcgPSBcIlwiO1xuICAgIGNvbnN0IGJlaGF2aW9ycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgY3NzU3RyaW5nICs9IHN0cmluZ3NbaV07XG4gICAgICAgIGxldCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBiZWhhdmlvciA9IHZhbHVlLmNyZWF0ZUJlaGF2aW9yKCk7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmNyZWF0ZUNTUygpO1xuICAgICAgICAgICAgaWYgKGJlaGF2aW9yKSB7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3JzLnB1c2goYmVoYXZpb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnRTdHlsZXMgfHwgdmFsdWUgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICBpZiAoY3NzU3RyaW5nLnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKGNzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgY3NzU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNzc1N0cmluZyArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjc3NTdHJpbmcgKz0gc3RyaW5nc1tzdHJpbmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChjc3NTdHJpbmcudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKGNzc1N0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlcyxcbiAgICAgICAgYmVoYXZpb3JzLFxuICAgIH07XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHN0cmluZyBpbnRvIHN0eWxlcy5cbiAqIEBwYXJhbSBzdHJpbmdzIC0gVGhlIHN0cmluZyBmcmFnbWVudHMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIHdpdGggdGhlIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgYXJlIGludGVycG9sYXRlZCB3aXRoIHRoZSBzdHJpbmcgZnJhZ21lbnRzLlxuICogQHJlbWFya3NcbiAqIFRoZSBjc3MgaGVscGVyIHN1cHBvcnRzIGludGVycG9sYXRpb24gb2Ygc3RyaW5ncyBhbmQgRWxlbWVudFN0eWxlIGluc3RhbmNlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzcyhzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zdCB7IHN0eWxlcywgYmVoYXZpb3JzIH0gPSBjb2xsZWN0U3R5bGVzKHN0cmluZ3MsIHZhbHVlcyk7XG4gICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IEVsZW1lbnRTdHlsZXMuY3JlYXRlKHN0eWxlcyk7XG4gICAgaWYgKGJlaGF2aW9ycy5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcy53aXRoQmVoYXZpb3JzKC4uLmJlaGF2aW9ycyk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50U3R5bGVzO1xufVxuY2xhc3MgQ1NTUGFydGlhbCBleHRlbmRzIENTU0RpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Ioc3R5bGVzLCBiZWhhdmlvcnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iZWhhdmlvcnMgPSBiZWhhdmlvcnM7XG4gICAgICAgIHRoaXMuY3NzID0gXCJcIjtcbiAgICAgICAgY29uc3Qgc3R5bGVzaGVldHMgPSBzdHlsZXMucmVkdWNlKChhY2N1bXVsYXRlZCwgY3VycmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jc3MgKz0gY3VycmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjdW11bGF0ZWQ7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgaWYgKHN0eWxlc2hlZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXMgPSBFbGVtZW50U3R5bGVzLmNyZWF0ZShzdHlsZXNoZWV0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQmVoYXZpb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjcmVhdGVDU1MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNzcztcbiAgICB9XG4gICAgYmluZChlbCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZXMpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5hZGRTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJlaGF2aW9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5hZGRCZWhhdmlvcnModGhpcy5iZWhhdmlvcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuYmluZChlbCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZXMpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5yZW1vdmVTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJlaGF2aW9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsLiRmYXN0Q29udHJvbGxlci5yZW1vdmVCZWhhdmlvcnModGhpcy5iZWhhdmlvcnMpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgdGVtcGxhdGUgbGl0ZXJhbCBzdHJpbmcgaW50byBwYXJ0aWFsIENTUy5cbiAqIEBwYXJhbSBzdHJpbmdzIC0gVGhlIHN0cmluZyBmcmFnbWVudHMgdGhhdCBhcmUgaW50ZXJwb2xhdGVkIHdpdGggdGhlIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRoYXQgYXJlIGludGVycG9sYXRlZCB3aXRoIHRoZSBzdHJpbmcgZnJhZ21lbnRzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzUGFydGlhbChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBjb25zdCB7IHN0eWxlcywgYmVoYXZpb3JzIH0gPSBjb2xsZWN0U3R5bGVzKHN0cmluZ3MsIHZhbHVlcyk7XG4gICAgcmV0dXJuIG5ldyBDU1NQYXJ0aWFsKHN0eWxlcywgYmVoYXZpb3JzKTtcbn1cbiIsImltcG9ydCB7IEF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlIH0gZnJvbSBcIi4vaHRtbC1kaXJlY3RpdmUuanNcIjtcbi8qKlxuICogVGhlIHJ1bnRpbWUgYmVoYXZpb3IgZm9yIHRlbXBsYXRlIHJlZmVyZW5jZXMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZCZWhhdmlvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBSZWZCZWhhdmlvci5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGVsZW1lbnQgdG8gcmVmZXJlbmNlLlxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduIHRoZSByZWZlcmVuY2UgdG8uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoaXMgYmVoYXZpb3IgdG8gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBiaW5kIHRvLlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGV4ZWN1dGlvbiBjb250ZXh0IHRoYXQgdGhlIGJpbmRpbmcgaXMgb3BlcmF0aW5nIHdpdGhpbi5cbiAgICAgKi9cbiAgICBiaW5kKHNvdXJjZSkge1xuICAgICAgICBzb3VyY2VbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdGhpcy50YXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgdGhpcyBiZWhhdmlvciBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gdW5iaW5kIGZyb20uXG4gICAgICovXG4gICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuICAgIHVuYmluZCgpIHsgfVxufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IG9ic2VydmVzIHRoZSB1cGRhdGVzIGEgcHJvcGVydHkgd2l0aCBhIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduIHRoZSByZWZlcmVuY2UgdG8uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWYocHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBBdHRhY2hlZEJlaGF2aW9ySFRNTERpcmVjdGl2ZShcImZhc3QtcmVmXCIsIFJlZkJlaGF2aW9yLCBwcm9wZXJ0eU5hbWUpO1xufVxuIiwiLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IGFuIG9iamVjdCBpcyBhIGZ1bmN0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbiA9IChvYmplY3QpID0+IHR5cGVvZiBvYmplY3QgPT09IFwiZnVuY3Rpb25cIjtcbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy5qc1wiO1xuY29uc3Qgbm9UZW1wbGF0ZSA9ICgpID0+IG51bGw7XG5mdW5jdGlvbiBub3JtYWxpemVCaW5kaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBub1RlbXBsYXRlIDogaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZSA6ICgpID0+IHZhbHVlO1xufVxuLyoqXG4gKiBBIGRpcmVjdGl2ZSB0aGF0IGVuYWJsZXMgYmFzaWMgY29uZGl0aW9uYWwgcmVuZGVyaW5nIGluIGEgdGVtcGxhdGUuXG4gKiBAcGFyYW0gYmluZGluZyAtIFRoZSBjb25kaXRpb24gdG8gdGVzdCBmb3IgcmVuZGVyaW5nLlxuICogQHBhcmFtIHRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmcgLSBUaGUgdGVtcGxhdGUgb3IgYSBiaW5kaW5nIHRoYXQgZ2V0c1xuICogdGhlIHRlbXBsYXRlIHRvIHJlbmRlciB3aGVuIHRoZSBjb25kaXRpb24gaXMgdHJ1ZS5cbiAqIEBwYXJhbSBlbHNlVGVtcGxhdGVPclRlbXBsYXRlQmluZGluZyAtIE9wdGlvbmFsIHRlbXBsYXRlIG9yIGJpbmRpbmcgdGhhdCB0aGF0XG4gKiBnZXRzIHRoZSB0ZW1wbGF0ZSB0byByZW5kZXIgd2hlbiB0aGUgY29uZGl0aW9uYWwgaXMgZmFsc2UuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuKGJpbmRpbmcsIHRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmcsIGVsc2VUZW1wbGF0ZU9yVGVtcGxhdGVCaW5kaW5nKSB7XG4gICAgY29uc3QgZGF0YUJpbmRpbmcgPSBpc0Z1bmN0aW9uKGJpbmRpbmcpID8gYmluZGluZyA6ICgpID0+IGJpbmRpbmc7XG4gICAgY29uc3QgdGVtcGxhdGVCaW5kaW5nID0gbm9ybWFsaXplQmluZGluZyh0ZW1wbGF0ZU9yVGVtcGxhdGVCaW5kaW5nKTtcbiAgICBjb25zdCBlbHNlQmluZGluZyA9IG5vcm1hbGl6ZUJpbmRpbmcoZWxzZVRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmcpO1xuICAgIHJldHVybiAoc291cmNlLCBjb250ZXh0KSA9PiBkYXRhQmluZGluZyhzb3VyY2UsIGNvbnRleHQpXG4gICAgICAgID8gdGVtcGxhdGVCaW5kaW5nKHNvdXJjZSwgY29udGV4dClcbiAgICAgICAgOiBlbHNlQmluZGluZyhzb3VyY2UsIGNvbnRleHQpO1xufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi9vYnNlcnZhdGlvbi9vYnNlcnZhYmxlLmpzXCI7XG5pbXBvcnQgeyBlbXB0eUFycmF5IH0gZnJvbSBcIi4uL3BsYXRmb3JtLmpzXCI7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBhIE5vZGUgYXJyYXksIHNlbGVjdGluZyBvbmx5IGVsZW1lbnRzLlxuICogQHBhcmFtIHNlbGVjdG9yIC0gQW4gb3B0aW9uYWwgc2VsZWN0b3IgdG8gcmVzdHJpY3QgdGhlIGZpbHRlciB0by5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm5vZGVUeXBlID09PSAxICYmIHZhbHVlLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm5vZGVUeXBlID09PSAxO1xuICAgIH07XG59XG4vKipcbiAqIEEgYmFzZSBjbGFzcyBmb3Igbm9kZSBvYnNlcnZhdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTm9kZU9ic2VydmF0aW9uQmVoYXZpb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgTm9kZU9ic2VydmF0aW9uQmVoYXZpb3IuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgdG8gYXNzaWduIHRoZSBub2RlcyBwcm9wZXJ0eSBvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHRvIHVzZSBpbiBjb25maWd1cmluZyBub2RlIG9ic2VydmF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoaXMgYmVoYXZpb3IgdG8gdGhlIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIHNvdXJjZSB0byBiaW5kIHRvLlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGV4ZWN1dGlvbiBjb250ZXh0IHRoYXQgdGhlIGJpbmRpbmcgaXMgb3BlcmF0aW5nIHdpdGhpbi5cbiAgICAgKi9cbiAgICBiaW5kKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5vcHRpb25zLnByb3BlcnR5O1xuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IE9ic2VydmFibGUuZ2V0QWNjZXNzb3JzKHNvdXJjZSkuc29tZSgoeCkgPT4geC5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KHRoaXMuY29tcHV0ZU5vZGVzKCkpO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgdGhpcyBiZWhhdmlvciBmcm9tIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gdW5iaW5kIGZyb20uXG4gICAgICovXG4gICAgdW5iaW5kKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldChlbXB0eUFycmF5KTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBoYW5kbGVFdmVudCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXQodGhpcy5jb21wdXRlTm9kZXMoKSk7XG4gICAgfVxuICAgIGNvbXB1dGVOb2RlcygpIHtcbiAgICAgICAgbGV0IG5vZGVzID0gdGhpcy5nZXROb2RlcygpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpbHRlciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub2RlcyA9IG5vZGVzLmZpbHRlcih0aGlzLm9wdGlvbnMuZmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvdXJjZVt0aGlzLm9wdGlvbnMucHJvcGVydHldID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXR0YWNoZWRCZWhhdmlvckhUTUxEaXJlY3RpdmUgfSBmcm9tIFwiLi9odG1sLWRpcmVjdGl2ZS5qc1wiO1xuaW1wb3J0IHsgTm9kZU9ic2VydmF0aW9uQmVoYXZpb3IgfSBmcm9tIFwiLi9ub2RlLW9ic2VydmF0aW9uLmpzXCI7XG4vKipcbiAqIFRoZSBydW50aW1lIGJlaGF2aW9yIGZvciBzbG90dGVkIG5vZGUgb2JzZXJ2YXRpb24uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTbG90dGVkQmVoYXZpb3IgZXh0ZW5kcyBOb2RlT2JzZXJ2YXRpb25CZWhhdmlvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBTbG90dGVkQmVoYXZpb3IuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSBzbG90IGVsZW1lbnQgdGFyZ2V0IHRvIG9ic2VydmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyB0byB1c2Ugd2hlbiBvYnNlcnZpbmcgdGhlIHNsb3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2lucyBvYnNlcnZhdGlvbiBvZiB0aGUgbm9kZXMuXG4gICAgICovXG4gICAgb2JzZXJ2ZSgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInNsb3RjaGFuZ2VcIiwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIG9ic2VydmF0aW9uIG9mIHRoZSBub2Rlcy5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2xvdGNoYW5nZVwiLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBub2RlcyB0aGF0IHNob3VsZCBiZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxuICAgICAqL1xuICAgIGdldE5vZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuYXNzaWduZWROb2Rlcyh0aGlzLm9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogQSBkaXJlY3RpdmUgdGhhdCBvYnNlcnZlcyB0aGUgYGFzc2lnbmVkTm9kZXMoKWAgb2YgYSBzbG90IGFuZCB1cGRhdGVzIGEgcHJvcGVydHlcbiAqIHdoZW5ldmVyIHRoZXkgY2hhbmdlLlxuICogQHBhcmFtIHByb3BlcnR5T3JPcHRpb25zIC0gVGhlIG9wdGlvbnMgdXNlZCB0byBjb25maWd1cmUgc2xvdHRlZCBub2RlIG9ic2VydmF0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2xvdHRlZChwcm9wZXJ0eU9yT3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgcHJvcGVydHlPck9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcHJvcGVydHlPck9wdGlvbnMgPSB7IHByb3BlcnR5OiBwcm9wZXJ0eU9yT3B0aW9ucyB9O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlKFwiZmFzdC1zbG90dGVkXCIsIFNsb3R0ZWRCZWhhdmlvciwgcHJvcGVydHlPck9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IHsgaHRtbCwgcmVmIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG4vKipcbiAqIEEgbWl4aW4gY2xhc3MgaW1wbGVtZW50aW5nIHN0YXJ0IGFuZCBlbmQgZWxlbWVudHMuXG4gKiBUaGVzZSBhcmUgZ2VuZXJhbGx5IHVzZWQgdG8gZGVjb3JhdGUgdGV4dCBlbGVtZW50cyB3aXRoIGljb25zIG9yIG90aGVyIHZpc3VhbCBpbmRpY2F0b3JzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU3RhcnRFbmQge1xuICAgIGhhbmRsZVN0YXJ0Q29udGVudENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydENvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwic3RhcnRcIiwgdGhpcy5zdGFydC5hc3NpZ25lZE5vZGVzKCkubGVuZ3RoID4gMCk7XG4gICAgfVxuICAgIGhhbmRsZUVuZENvbnRlbnRDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZW5kQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJlbmRcIiwgdGhpcy5lbmQuYXNzaWduZWROb2RlcygpLmxlbmd0aCA+IDApO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUgZW5kIGVsZW1lbnQuXG4gKiBGb3IgdXNlIHdpdGgge0BsaW5rIFN0YXJ0RW5kfVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGVuZFNsb3RUZW1wbGF0ZSA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBodG1sIGBcbiAgICA8c3BhblxuICAgICAgICBwYXJ0PVwiZW5kXCJcbiAgICAgICAgJHtyZWYoXCJlbmRDb250YWluZXJcIil9XG4gICAgICAgIGNsYXNzPSR7eCA9PiAoZGVmaW5pdGlvbi5lbmQgPyBcImVuZFwiIDogdm9pZCAwKX1cbiAgICA+XG4gICAgICAgIDxzbG90IG5hbWU9XCJlbmRcIiAke3JlZihcImVuZFwiKX0gQHNsb3RjaGFuZ2U9XCIke3ggPT4geC5oYW5kbGVFbmRDb250ZW50Q2hhbmdlKCl9XCI+XG4gICAgICAgICAgICAke2RlZmluaXRpb24uZW5kIHx8IFwiXCJ9XG4gICAgICAgIDwvc2xvdD5cbiAgICA8L3NwYW4+XG5gO1xuLyoqXG4gKiBUaGUgdGVtcGxhdGUgZm9yIHRoZSBzdGFydCBlbGVtZW50LlxuICogRm9yIHVzZSB3aXRoIHtAbGluayBTdGFydEVuZH1cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFydFNsb3RUZW1wbGF0ZSA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBodG1sIGBcbiAgICA8c3BhblxuICAgICAgICBwYXJ0PVwic3RhcnRcIlxuICAgICAgICAke3JlZihcInN0YXJ0Q29udGFpbmVyXCIpfVxuICAgICAgICBjbGFzcz1cIiR7eCA9PiAoZGVmaW5pdGlvbi5zdGFydCA/IFwic3RhcnRcIiA6IHZvaWQgMCl9XCJcbiAgICA+XG4gICAgICAgIDxzbG90XG4gICAgICAgICAgICBuYW1lPVwic3RhcnRcIlxuICAgICAgICAgICAgJHtyZWYoXCJzdGFydFwiKX1cbiAgICAgICAgICAgIEBzbG90Y2hhbmdlPVwiJHt4ID0+IHguaGFuZGxlU3RhcnRDb250ZW50Q2hhbmdlKCl9XCJcbiAgICAgICAgPlxuICAgICAgICAgICAgJHtkZWZpbml0aW9uLnN0YXJ0IHx8IFwiXCJ9XG4gICAgICAgIDwvc2xvdD5cbiAgICA8L3NwYW4+XG5gO1xuLyoqXG4gKiBUaGUgdGVtcGxhdGUgZm9yIHRoZSBlbmQgZWxlbWVudC5cbiAqIEZvciB1c2Ugd2l0aCB7QGxpbmsgU3RhcnRFbmR9XG4gKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgLSB1c2UgZW5kU2xvdFRlbXBsYXRlXG4gKi9cbmV4cG9ydCBjb25zdCBlbmRUZW1wbGF0ZSA9IGh0bWwgYFxuICAgIDxzcGFuIHBhcnQ9XCJlbmRcIiAke3JlZihcImVuZENvbnRhaW5lclwiKX0+XG4gICAgICAgIDxzbG90XG4gICAgICAgICAgICBuYW1lPVwiZW5kXCJcbiAgICAgICAgICAgICR7cmVmKFwiZW5kXCIpfVxuICAgICAgICAgICAgQHNsb3RjaGFuZ2U9XCIke3ggPT4geC5oYW5kbGVFbmRDb250ZW50Q2hhbmdlKCl9XCJcbiAgICAgICAgPjwvc2xvdD5cbiAgICA8L3NwYW4+XG5gO1xuLyoqXG4gKiBUaGUgdGVtcGxhdGUgZm9yIHRoZSBzdGFydCBlbGVtZW50LlxuICogRm9yIHVzZSB3aXRoIHtAbGluayBTdGFydEVuZH1cbiAqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCAtIHVzZSBzdGFydFNsb3RUZW1wbGF0ZVxuICovXG5leHBvcnQgY29uc3Qgc3RhcnRUZW1wbGF0ZSA9IGh0bWwgYFxuICAgIDxzcGFuIHBhcnQ9XCJzdGFydFwiICR7cmVmKFwic3RhcnRDb250YWluZXJcIil9PlxuICAgICAgICA8c2xvdFxuICAgICAgICAgICAgbmFtZT1cInN0YXJ0XCJcbiAgICAgICAgICAgICR7cmVmKFwic3RhcnRcIil9XG4gICAgICAgICAgICBAc2xvdGNoYW5nZT1cIiR7eCA9PiB4LmhhbmRsZVN0YXJ0Q29udGVudENoYW5nZSgpfVwiXG4gICAgICAgID48L3Nsb3Q+XG4gICAgPC9zcGFuPlxuYDtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8qKlxuICogQmlnIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vZmtsZXV2ZXIgYW5kIHRoZSBodHRwczovL2dpdGh1Yi5jb20vYXVyZWxpYS9hdXJlbGlhIHByb2plY3RcbiAqIGZvciB0aGUgYnVsayBvZiB0aGlzIGNvZGUgYW5kIG1hbnkgb2YgdGhlIGFzc29jaWF0ZWQgdGVzdHMuXG4gKi9cbmltcG9ydCB7IGVtcHR5QXJyYXksIEZBU1RFbGVtZW50IH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG4vLyBUaW55IHBvbHlmaWxsIGZvciBUeXBlU2NyaXB0J3MgUmVmbGVjdCBtZXRhZGF0YSBBUEkuXG5jb25zdCBtZXRhZGF0YUJ5VGFyZ2V0ID0gbmV3IE1hcCgpO1xuaWYgKCEoXCJtZXRhZGF0YVwiIGluIFJlZmxlY3QpKSB7XG4gICAgUmVmbGVjdC5tZXRhZGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKGtleSwgdmFsdWUsIHRhcmdldCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHRhcmdldCkge1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSBtZXRhZGF0YUJ5VGFyZ2V0LmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAobWV0YWRhdGEgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbWV0YWRhdGFCeVRhcmdldC5zZXQodGFyZ2V0LCAobWV0YWRhdGEgPSBuZXcgTWFwKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBtZXRhZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZWZsZWN0LmdldE93bk1ldGFkYXRhID0gZnVuY3Rpb24gKGtleSwgdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gbWV0YWRhdGFCeVRhcmdldC5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKG1ldGFkYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH07XG59XG4vKipcbiAqIEEgdXRpbGl0eSBjbGFzcyB1c2VkIHRoYXQgY29uc3RydWN0cyBhbmQgcmVnaXN0ZXJzIHJlc29sdmVycyBmb3IgYSBkZXBlbmRlbmN5XG4gKiBpbmplY3Rpb24gY29udGFpbmVyLiBTdXBwb3J0cyBhIHN0YW5kYXJkIHNldCBvZiBvYmplY3QgbGlmZXRpbWVzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUmVzb2x2ZXJCdWlsZGVyIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIGNyZWF0ZSByZXNvbHZlcnMgZm9yLlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIHJlZ2lzdGVyIHJlc29sdmVycyB1bmRlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIGtleSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZXNvbHZlciBmb3IgYW4gZXhpc3Rpbmcgb2JqZWN0IGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBpbnN0YW5jZSB0byByZXNvbHZlLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBpbnN0YW5jZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDAgLyogaW5zdGFuY2UgKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgZW5mb3JjZXMgYSBzaW5nbGV0b24gbGlmZXRpbWUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHR5cGUgdG8gY3JlYXRlIGFuZCBjYWNoZSB0aGUgc2luZ2xldG9uIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzb2x2ZXIuXG4gICAgICovXG4gICAgc2luZ2xldG9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoMSAvKiBzaW5nbGV0b24gKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBmb3IgZXZlcnkgZGVwZW5kZW5jeSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB0eXBlIHRvIGNyZWF0ZSBpbnN0YW5jZXMgb2YuXG4gICAgICogQHJldHVybnMgLSBUaGUgcmVzb2x2ZXIuXG4gICAgICovXG4gICAgdHJhbnNpZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoMiAvKiB0cmFuc2llbnQgKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgaW52b2tlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBldmVyeSBkZXBlbmRlbmN5IHJlc29sdXRpb25cbiAgICAgKiByZXF1ZXN0LCBhbGxvd2luZyBjdXN0b20gbG9naWMgdG8gcmV0dXJuIHRoZSBkZXBlbmRlbmN5LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBjYWxsYmFjayB0byBjYWxsIGR1cmluZyByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBjYWxsYmFjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDMgLyogY2FsbGJhY2sgKi8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc29sdmVyIHRoYXQgaW52b2tlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRoZSBmaXJzdCB0aW1lIHRoYXQgYSBkZXBlbmRlbmN5XG4gICAgICogcmVzb2x1dGlvbiBpcyByZXF1ZXN0ZWQuIFRoZSByZXR1cm5lZCB2YWx1ZSBpcyB0aGVuIGNhY2hlZCBhbmQgcHJvdmlkZWQgZm9yIGFsbFxuICAgICAqIHN1YnNlcXVlbnQgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGNhbGxiYWNrIHRvIGNhbGwgZHVyaW5nIHRoZSBmaXJzdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBjYWNoZWRDYWxsYmFjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclJlc29sdmVyKDMgLyogY2FsbGJhY2sgKi8sIGNhY2hlQ2FsbGJhY2tSZXN1bHQodmFsdWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXNlcyB0aGUgY3VycmVudCBrZXkgdG8gYSBkaWZmZXJlbnQga2V5LlxuICAgICAqIEBwYXJhbSBkZXN0aW5hdGlvbktleSAtIFRoZSBrZXkgdG8gcG9pbnQgdGhlIGFsaWFzIHRvLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBhbGlhc1RvKGRlc3RpbmF0aW9uS2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoNSAvKiBhbGlhcyAqLywgZGVzdGluYXRpb25LZXkpO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKHN0cmF0ZWd5LCBzdGF0ZSkge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciwga2V5IH0gPSB0aGlzO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMua2V5ID0gKHZvaWQgMCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcihrZXksIG5ldyBSZXNvbHZlckltcGwoa2V5LCBzdHJhdGVneSwgc3RhdGUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoc291cmNlKSB7XG4gICAgY29uc3QgY2xvbmUgPSBzb3VyY2Uuc2xpY2UoKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKCFpc0FycmF5SW5kZXgoa2V5KSkge1xuICAgICAgICAgICAgY2xvbmVba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbn1cbi8qKlxuICogQSBzZXQgb2YgZGVmYXVsdCByZXNvbHZlcnMgdXNlZnVsIGluIGNvbmZpZ3VyaW5nIGEgY29udGFpbmVyLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdFJlc29sdmVyID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYXV0by1yZWdpc3RyYXRpb24gYW5kIHRocm93cyBmb3IgYWxsIHVuLXJlZ2lzdGVyZWQgZGVwZW5kZW5jaWVzLlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIGNyZWF0ZSB0aGUgcmVzb2x2ZXIgZm9yLlxuICAgICAqL1xuICAgIG5vbmUoa2V5KSB7XG4gICAgICAgIHRocm93IEVycm9yKGAke2tleS50b1N0cmluZygpfSBub3QgcmVnaXN0ZXJlZCwgZGlkIHlvdSBmb3JnZXQgdG8gYWRkIEBzaW5nbGV0b24oKT9gKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGRlZmF1bHQgc2luZ2xldG9uIHJlc29sdXRpb24gYmVoYXZpb3IgZHVyaW5nIGF1dG8tcmVnaXN0cmF0aW9uLlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIGNyZWF0ZSB0aGUgcmVzb2x2ZXIgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlci5cbiAgICAgKi9cbiAgICBzaW5nbGV0b24oa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMSAvKiBzaW5nbGV0b24gKi8sIGtleSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBkZWZhdWx0IHRyYW5zaWVudCByZXNvbHV0aW9uIGJlaGF2aW9yIGR1cmluZyBhdXRvLXJlZ2lzdHJhdGlvbi5cbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBjcmVhdGUgdGhlIHJlc29sdmVyIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzb2x2ZXIuXG4gICAgICovXG4gICAgdHJhbnNpZW50KGtleSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc29sdmVySW1wbChrZXksIDIgLyogdHJhbnNpZW50ICovLCBrZXkpO1xuICAgIH0sXG59KTtcbi8qKlxuICogQ29uZmlndXJhdGlvbiBmb3IgYSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBDb250YWluZXJDb25maWd1cmF0aW9uID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiB1c2VkIHdoZW4gY3JlYXRpbmcgYSBET00tZGlzY29ubmVjdGVkIGNvbnRhaW5lci5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoZSBkZWZhdWx0IGNyZWF0ZXMgYSByb290IGNvbnRhaW5lciwgd2l0aCBubyBwYXJlbnQgY29udGFpbmVyLiBJdCBkb2VzIG5vdCBoYW5kbGVcbiAgICAgKiBvd25lciByZXF1ZXN0cyBhbmQgaXQgdXNlcyBzaW5nbGV0b24gcmVzb2x1dGlvbiBiZWhhdmlvciBmb3IgYXV0by1yZWdpc3RyYXRpb24uXG4gICAgICovXG4gICAgZGVmYXVsdDogT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIHBhcmVudExvY2F0b3I6ICgpID0+IG51bGwsXG4gICAgICAgIHJlc3BvbnNpYmxlRm9yT3duZXJSZXF1ZXN0czogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRSZXNvbHZlcjogRGVmYXVsdFJlc29sdmVyLnNpbmdsZXRvbixcbiAgICB9KSxcbn0pO1xuY29uc3QgZGVwZW5kZW5jeUxvb2t1cCA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldFBhcmFtVHlwZXMoa2V5KSB7XG4gICAgcmV0dXJuIChUeXBlKSA9PiB7XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldE93bk1ldGFkYXRhKGtleSwgVHlwZSk7XG4gICAgfTtcbn1cbmxldCByb290RE9NQ29udGFpbmVyID0gbnVsbDtcbi8qKlxuICogVGhlIGdhdGV3YXkgdG8gZGVwZW5kZW5jeSBpbmplY3Rpb24gQVBJcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERJID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIEEgbmV3bHkgY3JlYXRlZCBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIuXG4gICAgICovXG4gICAgY3JlYXRlQ29udGFpbmVyKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IENvbnRhaW5lckltcGwobnVsbCwgT2JqZWN0LmFzc2lnbih7fSwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5kZWZhdWx0LCBjb25maWcpKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyBkZXBlbmRlbmNpZXNcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBmaW5kIHRoZSByZXNwb25zaWJsZSBjb250YWluZXIgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb250YWluZXIgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyBkZXBlbmRlbmNpZXMgdG8gdGhlIG5vZGUuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHBhcmVudCBjb250YWluZXIgaWYgdGhlIHNwZWNpZmllZCBub2RlXG4gICAgICogZG9lcyBub3QgaXRzZWxmIGhvc3QgYSBjb250YWluZXIgY29uZmlndXJlZCB3aXRoIHJlc3BvbnNpYmxlRm9yT3duZXJSZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBmaW5kUmVzcG9uc2libGVDb250YWluZXIobm9kZSkge1xuICAgICAgICBjb25zdCBvd25lZCA9IG5vZGUuJCRjb250YWluZXIkJDtcbiAgICAgICAgaWYgKG93bmVkICYmIG93bmVkLnJlc3BvbnNpYmxlRm9yT3duZXJSZXF1ZXN0cykge1xuICAgICAgICAgICAgcmV0dXJuIG93bmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBESS5maW5kUGFyZW50Q29udGFpbmVyKG5vZGUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIHVwIHRoZSBET00gdHJlZSBmcm9tIHRoaXMgbm9kZS5cbiAgICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIHRvIGZpbmQgdGhlIHBhcmVudCBjb250YWluZXIgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBwYXJlbnQgY29udGFpbmVyIG9mIHRoaXMgbm9kZS5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgcmVzcG9uc2libGUgY29udGFpbmVyIGlmIHRoZSBzcGVjaWZpZWQgbm9kZVxuICAgICAqIGRvZXMgbm90IGl0c2VsZiBob3N0IGEgY29udGFpbmVyIGNvbmZpZ3VyZWQgd2l0aCByZXNwb25zaWJsZUZvck93bmVyUmVxdWVzdHMuXG4gICAgICovXG4gICAgZmluZFBhcmVudENvbnRhaW5lcihub2RlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KERJTG9jYXRlUGFyZW50RXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7IGNvbnRhaW5lcjogdm9pZCAwIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gZXZlbnQuZGV0YWlsLmNvbnRhaW5lciB8fCBESS5nZXRPckNyZWF0ZURPTUNvbnRhaW5lcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciBpZiBvbmUgaXMgZXhwbGljaXRseSBvd25lZCBieSB0aGUgc3BlY2lmaWVkXG4gICAgICogbm9kZS4gSWYgb25lIGlzIG5vdCBvd25lZCwgdGhlbiBhIG5ldyBjb250YWluZXIgaXMgY3JlYXRlZCBhbmQgYXNzaWduZWQgdG8gdGhlIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSB0byBmaW5kIG9yIGNyZWF0ZSB0aGUgY29udGFpbmVyIGZvci5cbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gVGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb250YWluZXIgaWYgb25lIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gICAgICogQHJldHVybnMgVGhlIGxvY2F0ZWQgb3IgY3JlYXRlZCBjb250YWluZXIuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGlzIEFQSSBkb2VzIG5vdCBzZWFyY2ggZm9yIGEgcmVzcG9uc2libGUgb3IgcGFyZW50IGNvbnRhaW5lci4gSXQgbG9va3Mgb25seSBmb3IgYSBjb250YWluZXJcbiAgICAgKiBkaXJlY3RseSBkZWZpbmVkIG9uIHRoZSBzcGVjaWZpZWQgbm9kZSBhbmQgY3JlYXRlcyBvbmUgYXQgdGhhdCBsb2NhdGlvbiBpZiBvbmUgZG9lcyBub3RcbiAgICAgKiBhbHJlYWR5IGV4aXN0LlxuICAgICAqL1xuICAgIGdldE9yQ3JlYXRlRE9NQ29udGFpbmVyKG5vZGUsIGNvbmZpZykge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAocm9vdERPTUNvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAgIChyb290RE9NQ29udGFpbmVyID0gbmV3IENvbnRhaW5lckltcGwobnVsbCwgT2JqZWN0LmFzc2lnbih7fSwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5kZWZhdWx0LCBjb25maWcsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50TG9jYXRvcjogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG5vZGUuJCRjb250YWluZXIkJCB8fFxuICAgICAgICAgICAgbmV3IENvbnRhaW5lckltcGwobm9kZSwgT2JqZWN0LmFzc2lnbih7fSwgQ29udGFpbmVyQ29uZmlndXJhdGlvbi5kZWZhdWx0LCBjb25maWcsIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRMb2NhdG9yOiBESS5maW5kUGFyZW50Q29udGFpbmVyLFxuICAgICAgICAgICAgfSkpKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIFwiZGVzaWduOnBhcmFtdHlwZXNcIiBtZXRhZGF0YSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlLlxuICAgICAqIEBwYXJhbSBUeXBlIC0gVGhlIHR5cGUgdG8gZ2V0IHRoZSBtZXRhZGF0YSBmb3IuXG4gICAgICogQHJldHVybnMgVGhlIG1ldGFkYXRhIGFycmF5IG9yIHVuZGVmaW5lZCBpZiBubyBtZXRhZGF0YSBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBnZXREZXNpZ25QYXJhbXR5cGVzOiBnZXRQYXJhbVR5cGVzKFwiZGVzaWduOnBhcmFtdHlwZXNcIiksXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgXCJkaTpwYXJhbXR5cGVzXCIgbWV0YWRhdGEgZm9yIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAgICAgKiBAcGFyYW0gVHlwZSAtIFRoZSB0eXBlIHRvIGdldCB0aGUgbWV0YWRhdGEgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSBhcnJheSBvciB1bmRlZmluZWQgaWYgbm8gbWV0YWRhdGEgaXMgZm91bmQuXG4gICAgICovXG4gICAgZ2V0QW5ub3RhdGlvblBhcmFtdHlwZXM6IGdldFBhcmFtVHlwZXMoXCJkaTpwYXJhbXR5cGVzXCIpLFxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIFR5cGUgLSBHZXRzIHRoZSBcImRpOnBhcmFtdHlwZXNcIiBtZXRhZGF0YSBmb3IgdGhlIHNwZWNpZmllZCB0eXBlLiBJZiBub25lIGlzIGZvdW5kLFxuICAgICAqIGFuIGVtcHR5IG1ldGFkYXRhIGFycmF5IGlzIGNyZWF0ZWQgYW5kIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSBhcnJheS5cbiAgICAgKi9cbiAgICBnZXRPckNyZWF0ZUFubm90YXRpb25QYXJhbVR5cGVzKFR5cGUpIHtcbiAgICAgICAgbGV0IGFubm90YXRpb25QYXJhbXR5cGVzID0gdGhpcy5nZXRBbm5vdGF0aW9uUGFyYW10eXBlcyhUeXBlKTtcbiAgICAgICAgaWYgKGFubm90YXRpb25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJkaTpwYXJhbXR5cGVzXCIsIChhbm5vdGF0aW9uUGFyYW10eXBlcyA9IFtdKSwgVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFubm90YXRpb25QYXJhbXR5cGVzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVwZW5kZW5jeSBrZXlzIHJlcHJlc2VudGluZyB3aGF0IGlzIG5lZWRlZCB0byBpbnN0YW50aWF0ZSB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gICAgICogQHBhcmFtIFR5cGUgLSBUaGUgdHlwZSB0byBnZXQgdGhlIGRlcGVuZGVuY2llcyBmb3IuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgZGVwZW5kZW5jeSBrZXlzLlxuICAgICAqL1xuICAgIGdldERlcGVuZGVuY2llcyhUeXBlKSB7XG4gICAgICAgIC8vIE5vdGU6IEV2ZXJ5IGRldGFpbCBvZiB0aGlzIGdldERlcGVuZGVuY2llcyBtZXRob2QgaXMgcHJldHR5IGRlbGliZXJhdGUgYXQgdGhlIG1vbWVudCwgYW5kIHByb2JhYmx5IG5vdCB5ZXQgMTAwJSB0ZXN0ZWQgZnJvbSBldmVyeSBwb3NzaWJsZSBhbmdsZSxcbiAgICAgICAgLy8gc28gYmUgY2FyZWZ1bCB3aXRoIG1ha2luZyBjaGFuZ2VzIGhlcmUgYXMgaXQgY2FuIGhhdmUgYSBodWdlIGltcGFjdCBvbiBjb21wbGV4IGVuZCB1c2VyIGFwcHMuXG4gICAgICAgIC8vIFByZWZlcmFibHksIG9ubHkgbWFrZSBjaGFuZ2VzIHRvIHRoZSBkZXBlbmRlbmN5IHJlc29sdXRpb24gcHJvY2VzcyB2aWEgYSBSRkMuXG4gICAgICAgIGxldCBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmN5TG9va3VwLmdldChUeXBlKTtcbiAgICAgICAgaWYgKGRlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAvLyBUeXBlLmxlbmd0aCBpcyB0aGUgbnVtYmVyIG9mIGNvbnN0cnVjdG9yIHBhcmFtZXRlcnMuIElmIHRoaXMgaXMgMCwgaXQgY291bGQgbWVhbiB0aGUgY2xhc3MgaGFzIGFuIGVtcHR5IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAvLyBidXQgaXQgY291bGQgYWxzbyBtZWFuIHRoZSBjbGFzcyBoYXMgbm8gY29uc3RydWN0b3IgYXQgYWxsIChpbiB3aGljaCBjYXNlIGl0IGluaGVyaXRzIHRoZSBjb25zdHJ1Y3RvciBmcm9tIHRoZSBwcm90b3R5cGUpLlxuICAgICAgICAgICAgLy8gTm9uLXplcm8gY29uc3RydWN0b3IgbGVuZ3RoICsgbm8gcGFyYW10eXBlcyBtZWFucyBlbWl0RGVjb3JhdG9yTWV0YWRhdGEgaXMgb2ZmLCBvciB0aGUgY2xhc3MgaGFzIG5vIGRlY29yYXRvci5cbiAgICAgICAgICAgIC8vIFdlJ3JlIG5vdCBkb2luZyBhbnl0aGluZyB3aXRoIHRoZSBhYm92ZSByaWdodCBub3csIGJ1dCBpdCdzIGdvb2QgdG8ga2VlcCBpbiBtaW5kIGZvciBhbnkgZnV0dXJlIGlzc3Vlcy5cbiAgICAgICAgICAgIGNvbnN0IGluamVjdCA9IFR5cGUuaW5qZWN0O1xuICAgICAgICAgICAgaWYgKGluamVjdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVzaWduOnBhcmFtdHlwZXMgaXMgc2V0IGJ5IHRzYyB3aGVuIGVtaXREZWNvcmF0b3JNZXRhZGF0YSBpcyBlbmFibGVkLlxuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2lnblBhcmFtdHlwZXMgPSBESS5nZXREZXNpZ25QYXJhbXR5cGVzKFR5cGUpO1xuICAgICAgICAgICAgICAgIC8vIGRpOnBhcmFtdHlwZXMgaXMgc2V0IGJ5IHRoZSBwYXJhbWV0ZXIgZGVjb3JhdG9yIGZyb20gREkuY3JlYXRlSW50ZXJmYWNlIG9yIGJ5IEBpbmplY3RcbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IERJLmdldEFubm90YXRpb25QYXJhbXR5cGVzKFR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChkZXNpZ25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb25QYXJhbXR5cGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgZ28gdXAgdGhlIHByb3RvdHlwZSBpZiBuZWl0aGVyIHN0YXRpYyBpbmplY3Qgbm9yIGFueSBvZiB0aGUgcGFyYW10eXBlcyBpcyBkZWZpbmVkLCBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gc291bmQgd2F5IHRvIG1lcmdlIGEgdHlwZSdzIGRlcHMgd2l0aCBpdHMgcHJvdG90eXBlJ3MgZGVwc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIFByb3RvID09PSBcImZ1bmN0aW9uXCIgJiYgUHJvdG8gIT09IEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhESS5nZXREZXBlbmRlbmNpZXMoUHJvdG8pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gZGVzaWduOnBhcmFtdHlwZXMgc28ganVzdCB1c2UgdGhlIGRpOnBhcmFtdHlwZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llcyA9IGNsb25lQXJyYXlXaXRoUG9zc2libGVQcm9wcyhhbm5vdGF0aW9uUGFyYW10eXBlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYW5ub3RhdGlvblBhcmFtdHlwZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBkaTpwYXJhbXR5cGVzIHNvIGp1c3QgdXNlIHRoZSBkZXNpZ246cGFyYW10eXBlc1xuICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoZGVzaWduUGFyYW10eXBlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSd2ZSBnb3QgYm90aCwgc28gbWVyZ2UgdGhlbSAoaW4gY2FzZSBvZiBjb25mbGljdCBvbiBzYW1lIGluZGV4LCBkaTpwYXJhbXR5cGVzIHRha2UgcHJlY2VkZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gY2xvbmVBcnJheVdpdGhQb3NzaWJsZVByb3BzKGRlc2lnblBhcmFtdHlwZXMpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuID0gYW5ub3RhdGlvblBhcmFtdHlwZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXVBbm5vdGF0aW9uUGFyYW10eXBlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdUFubm90YXRpb25QYXJhbXR5cGUgPSBhbm5vdGF0aW9uUGFyYW10eXBlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdUFubm90YXRpb25QYXJhbXR5cGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY2llc1tpXSA9IGF1QW5ub3RhdGlvblBhcmFtdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYW5ub3RhdGlvblBhcmFtdHlwZXMpO1xuICAgICAgICAgICAgICAgICAgICBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBcnJheUluZGV4KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXNba2V5XSA9IGFubm90YXRpb25QYXJhbXR5cGVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcGFyYW10eXBlcyBpZiB3ZSBoYXZlIHN0YXRpYyBpbmplY3RcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMoaW5qZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlcGVuZGVuY3lMb29rdXAuc2V0KFR5cGUsIGRlcGVuZGVuY2llcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBwcm9wZXJ0eSBvbiBhIHdlYiBjb21wb25lbnQgY2xhc3MuIFRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IHdpbGxcbiAgICAgKiBiZSByZXNvbHZlZCBmcm9tIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgcmVzcG9uc2libGUgZm9yIHRoZSBlbGVtZW50XG4gICAgICogaW5zdGFuY2UsIGJhc2VkIG9uIHdoZXJlIGl0IGlzIGNvbm5lY3RlZCBpbiB0aGUgRE9NLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IHRvIGRlZmluZSB0aGUgcHJvcGVydHkgb24uXG4gICAgICogQHBhcmFtIHByb3BlcnR5TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBkZWZpbmUuXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBrZXkuXG4gICAgICogQHBhcmFtIHJlc3BlY3RDb25uZWN0aW9uIC0gSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRvIHVwZGF0ZSB0aGUgcHJvcGVydHkgdmFsdWUgaWYgdGhlXG4gICAgICogaG9zdGluZyBjb21wb25lbnQgaXMgZGlzY29ubmVjdGVkIGFuZCB0aGVuIHJlLWNvbm5lY3RlZCBhdCBhIGRpZmZlcmVudCBsb2NhdGlvbiBpbiB0aGUgRE9NLlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhlIHJlc3BlY3RDb25uZWN0aW9uIG9wdGlvbiBpcyBvbmx5IGFwcGxpY2FibGUgdG8gZWxlbWVudHMgdGhhdCBkZXNjZW5kIGZyb20gRkFTVEVsZW1lbnQuXG4gICAgICovXG4gICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGtleSwgcmVzcGVjdENvbm5lY3Rpb24gPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBkaVByb3BlcnR5S2V5ID0gYCRkaV8ke3Byb3BlcnR5TmFtZX1gO1xuICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzW2RpUHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBESS5maW5kUmVzcG9uc2libGVDb250YWluZXIodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogREkuZ2V0T3JDcmVhdGVET01Db250YWluZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjb250YWluZXIuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZGlQcm9wZXJ0eUtleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BlY3RDb25uZWN0aW9uICYmIHRoaXMgaW5zdGFuY2VvZiBGQVNURWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSB0aGlzLiRmYXN0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDb250YWluZXIgPSBESS5maW5kUmVzcG9uc2libGVDb250YWluZXIodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdDb250YWluZXIuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW2RpUHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tkaVByb3BlcnR5S2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmllci5ub3RpZnkocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKHsgaGFuZGxlQ2hhbmdlIH0sIFwiaXNDb25uZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVwZW5kZW5jeSBpbmplY3Rpb24ga2V5LlxuICAgICAqIEBwYXJhbSBuYW1lQ29uZmlnT3JDYWxsYmFjayAtIEEgZnJpZW5kbHkgbmFtZSBmb3IgdGhlIGtleSBvciBhIGxhbWJkYSB0aGF0IGNvbmZpZ3VyZXMgYVxuICAgICAqIGRlZmF1bHQgcmVzb2x1dGlvbiBmb3IgdGhlIGRlcGVuZGVuY3kuXG4gICAgICogQHBhcmFtIGNvbmZpZ3Vyb3IgLSBJZiBhIGZyaWVuZGx5IG5hbWUgd2FzIHByb3ZpZGVkIGZvciB0aGUgZmlyc3QgcGFyYW1ldGVyLCB0aGVuIGFuIG9wdGlvbmFsXG4gICAgICogbGFtYmRhIHRoYXQgY29uZmlndXJlcyBhIGRlZmF1bHQgcmVzb2x1dGlvbiBmb3IgdGhlIGRlcGVuZGVuY3kgY2FuIGJlIHByb3ZpZGVkIHNlY29uZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBrZXkuXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUaGUgY3JlYXRlZCBrZXkgY2FuIGJlIHVzZWQgYXMgYSBwcm9wZXJ0eSBkZWNvcmF0b3Igb3IgY29uc3RydWN0b3IgcGFyYW1ldGVyIGRlY29yYXRvcixcbiAgICAgKiBpbiBhZGRpdGlvbiB0byBpdHMgc3RhbmRhcmQgdXNlIGluIGFuIGluamVjdCBhcnJheSBvciB0aHJvdWdoIGRpcmVjdCBjb250YWluZXIgQVBJcy5cbiAgICAgKi9cbiAgICBjcmVhdGVJbnRlcmZhY2UobmFtZUNvbmZpZ09yQ2FsbGJhY2ssIGNvbmZpZ3Vyb3IpIHtcbiAgICAgICAgY29uc3QgY29uZmlndXJlID0gdHlwZW9mIG5hbWVDb25maWdPckNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gbmFtZUNvbmZpZ09yQ2FsbGJhY2tcbiAgICAgICAgICAgIDogY29uZmlndXJvcjtcbiAgICAgICAgY29uc3QgZnJpZW5kbHlOYW1lID0gdHlwZW9mIG5hbWVDb25maWdPckNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IG5hbWVDb25maWdPckNhbGxiYWNrXG4gICAgICAgICAgICA6IG5hbWVDb25maWdPckNhbGxiYWNrICYmIFwiZnJpZW5kbHlOYW1lXCIgaW4gbmFtZUNvbmZpZ09yQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICA/IG5hbWVDb25maWdPckNhbGxiYWNrLmZyaWVuZGx5TmFtZSB8fCBkZWZhdWx0RnJpZW5kbHlOYW1lXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0RnJpZW5kbHlOYW1lO1xuICAgICAgICBjb25zdCByZXNwZWN0Q29ubmVjdGlvbiA9IHR5cGVvZiBuYW1lQ29uZmlnT3JDYWxsYmFjayA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiBuYW1lQ29uZmlnT3JDYWxsYmFjayAmJiBcInJlc3BlY3RDb25uZWN0aW9uXCIgaW4gbmFtZUNvbmZpZ09yQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICA/IG5hbWVDb25maWdPckNhbGxiYWNrLnJlc3BlY3RDb25uZWN0aW9uIHx8IGZhbHNlXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgSW50ZXJmYWNlID0gZnVuY3Rpb24gKHRhcmdldCwgcHJvcGVydHksIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwgfHwgbmV3LnRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyByZWdpc3RyYXRpb24gZm9yIGludGVyZmFjZTogJyR7SW50ZXJmYWNlLmZyaWVuZGx5TmFtZX0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBESS5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBJbnRlcmZhY2UsIHJlc3BlY3RDb25uZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25QYXJhbXR5cGVzID0gREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2luZGV4XSA9IEludGVyZmFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgSW50ZXJmYWNlLiRpc0ludGVyZmFjZSA9IHRydWU7XG4gICAgICAgIEludGVyZmFjZS5mcmllbmRseU5hbWUgPSBmcmllbmRseU5hbWUgPT0gbnVsbCA/IFwiKGFub255bW91cylcIiA6IGZyaWVuZGx5TmFtZTtcbiAgICAgICAgaWYgKGNvbmZpZ3VyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBJbnRlcmZhY2UucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlndXJlKG5ldyBSZXNvbHZlckJ1aWxkZXIoY29udGFpbmVyLCBrZXkgIT09IG51bGwgJiYga2V5ICE9PSB2b2lkIDAgPyBrZXkgOiBJbnRlcmZhY2UpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgSW50ZXJmYWNlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYEludGVyZmFjZVN5bWJvbDwke0ludGVyZmFjZS5mcmllbmRseU5hbWV9PmA7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBJbnRlcmZhY2U7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBBIGRlY29yYXRvciB0aGF0IHNwZWNpZmllcyB3aGF0IHRvIGluamVjdCBpbnRvIGl0cyB0YXJnZXQuXG4gICAgICogQHBhcmFtIGRlcGVuZGVuY2llcyAtIFRoZSBkZXBlbmRlbmNpZXMgdG8gaW5qZWN0LlxuICAgICAqIEByZXR1cm5zIFRoZSBkZWNvcmF0b3IgdG8gYmUgYXBwbGllZCB0byB0aGUgdGFyZ2V0IGNsYXNzLlxuICAgICAqIEByZW1hcmtzXG4gICAgICogVGhlIGRlY29yYXRvciBjYW4gYmUgdXNlZCB0byBkZWNvcmF0ZSBhIGNsYXNzLCBsaXN0aW5nIGFsbCBvZiB0aGUgY2xhc3NlcyBkZXBlbmRlbmNpZXMuXG4gICAgICogT3IgaXQgY2FuIGJlIHVzZWQgdG8gZGVjb3JhdGUgYSBjb25zdHJ1Y3RvciBwYXJhbXRlciwgaW5kaWNhdGluZyB3aGF0IHRvIGluamVjdCBmb3IgdGhhdFxuICAgICAqIHBhcmFtZXRlci5cbiAgICAgKiBPciBpdCBjYW4gYmUgdXNlZCBmb3IgYSB3ZWIgY29tcG9uZW50IHByb3BlcnR5LCBpbmRpY2F0aW5nIHdoYXQgdGhhdCBwcm9wZXJ0eSBzaG91bGQgcmVzb2x2ZSB0by5cbiAgICAgKi9cbiAgICBpbmplY3QoLi4uZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvciA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBwYXJhbWV0ZXIgZGVjb3JhdG9yLlxuICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25QYXJhbXR5cGVzID0gREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcCA9IGRlcGVuZGVuY2llc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvblBhcmFtdHlwZXNbZGVzY3JpcHRvcl0gPSBkZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgREkuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlcGVuZGVuY2llc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9uUGFyYW10eXBlcyA9IGRlc2NyaXB0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBESS5nZXRPckNyZWF0ZUFubm90YXRpb25QYXJhbVR5cGVzKGRlc2NyaXB0b3IudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogREkuZ2V0T3JDcmVhdGVBbm5vdGF0aW9uUGFyYW1UeXBlcyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGxldCBkZXA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25QYXJhbXR5cGVzW2ldID0gZGVwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIHRoZSBgdGFyZ2V0YCBjbGFzcyBhcyBhIHRyYW5zaWVudCBkZXBlbmRlbmN5OyBlYWNoIHRpbWUgdGhlIGRlcGVuZGVuY3kgaXMgcmVzb2x2ZWRcbiAgICAgKiBhIG5ldyBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGNsYXNzIC8gY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYXMgdHJhbnNpZW50LlxuICAgICAqIEByZXR1cm5zIFRoZSBzYW1lIGNsYXNzLCB3aXRoIGEgc3RhdGljIGByZWdpc3RlcmAgbWV0aG9kIHRoYXQgdGFrZXMgYSBjb250YWluZXIgYW5kIHJldHVybnMgdGhlIGFwcHJvcHJpYXRlIHJlc29sdmVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBPbiBhbiBleGlzdGluZyBjbGFzc1xuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgRm9vIHsgfVxuICAgICAqIERJLnRyYW5zaWVudChGb28pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBJbmxpbmUgZGVjbGFyYXRpb25cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgRm9vID0gREkudHJhbnNpZW50KGNsYXNzIHsgfSk7XG4gICAgICogLy8gRm9vIGlzIG5vdyBzdHJvbmdseSB0eXBlZCB3aXRoIHJlZ2lzdGVyXG4gICAgICogRm9vLnJlZ2lzdGVyKGNvbnRhaW5lcik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgdHJhbnNpZW50KHRhcmdldCkge1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IFJlZ2lzdHJhdGlvbi50cmFuc2llbnQodGFyZ2V0LCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICB9O1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXJJblJlcXVlc3RvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIHRoZSBgdGFyZ2V0YCBjbGFzcyBhcyBhIHNpbmdsZXRvbiBkZXBlbmRlbmN5OyB0aGUgY2xhc3Mgd2lsbCBvbmx5IGJlIGNyZWF0ZWQgb25jZS4gRWFjaFxuICAgICAqIGNvbnNlY3V0aXZlIHRpbWUgdGhlIGRlcGVuZGVuY3kgaXMgcmVzb2x2ZWQsIHRoZSBzYW1lIGluc3RhbmNlIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGNsYXNzIC8gY29uc3RydWN0b3IgZnVuY3Rpb24gdG8gcmVnaXN0ZXIgYXMgYSBzaW5nbGV0b24uXG4gICAgICogQHJldHVybnMgVGhlIHNhbWUgY2xhc3MsIHdpdGggYSBzdGF0aWMgYHJlZ2lzdGVyYCBtZXRob2QgdGhhdCB0YWtlcyBhIGNvbnRhaW5lciBhbmQgcmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgcmVzb2x2ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBPbiBhbiBleGlzdGluZyBjbGFzc1xuICAgICAqIGBgYHRzXG4gICAgICogY2xhc3MgRm9vIHsgfVxuICAgICAqIERJLnNpbmdsZXRvbihGb28pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBJbmxpbmUgZGVjbGFyYXRpb25cbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IEZvbyA9IERJLnNpbmdsZXRvbihjbGFzcyB7IH0pO1xuICAgICAqIC8vIEZvbyBpcyBub3cgc3Ryb25nbHkgdHlwZWQgd2l0aCByZWdpc3RlclxuICAgICAqIEZvby5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNpbmdsZXRvbih0YXJnZXQsIG9wdGlvbnMgPSBkZWZhdWx0U2luZ2xldG9uT3B0aW9ucykge1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcihjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IFJlZ2lzdHJhdGlvbi5zaW5nbGV0b24odGFyZ2V0LCB0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5yZWdpc3Rlcihjb250YWluZXIpO1xuICAgICAgICB9O1xuICAgICAgICB0YXJnZXQucmVnaXN0ZXJJblJlcXVlc3RvciA9IG9wdGlvbnMuc2NvcGVkO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG59KTtcbi8qKlxuICogVGhlIGludGVyZmFjZSBrZXkgdGhhdCByZXNvbHZlcyB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIGl0c2VsZi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IERJLmNyZWF0ZUludGVyZmFjZShcIkNvbnRhaW5lclwiKTtcbi8qKlxuICogVGhlIGludGVyZmFjZSBrZXkgdGhhdCByZXNvbHZlcyB0aGUgc2VydmljZSBsb2NhdG9yIGl0c2VsZi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNlcnZpY2VMb2NhdG9yID0gQ29udGFpbmVyO1xuZnVuY3Rpb24gY3JlYXRlUmVzb2x2ZXIoZ2V0dGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgREkuaW5qZWN0KHJlc29sdmVyKSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVzb2x2ZXIuJGlzUmVzb2x2ZXIgPSB0cnVlO1xuICAgICAgICByZXNvbHZlci5yZXNvbHZlID0gZnVuY3Rpb24gKGhhbmRsZXIsIHJlcXVlc3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGdldHRlcihrZXksIGhhbmRsZXIsIHJlcXVlc3Rvcik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICB9O1xufVxuLyoqXG4gKiBBIGRlY29yYXRvciB0aGF0IHNwZWNpZmllcyB3aGF0IHRvIGluamVjdCBpbnRvIGl0cyB0YXJnZXQuXG4gKiBAcGFyYW0gZGVwZW5kZW5jaWVzIC0gVGhlIGRlcGVuZGVuY2llcyB0byBpbmplY3QuXG4gKiBAcmV0dXJucyBUaGUgZGVjb3JhdG9yIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHRhcmdldCBjbGFzcy5cbiAqIEByZW1hcmtzXG4gKiBUaGUgZGVjb3JhdG9yIGNhbiBiZSB1c2VkIHRvIGRlY29yYXRlIGEgY2xhc3MsIGxpc3RpbmcgYWxsIG9mIHRoZSBjbGFzc2VzIGRlcGVuZGVuY2llcy5cbiAqIE9yIGl0IGNhbiBiZSB1c2VkIHRvIGRlY29yYXRlIGEgY29uc3RydWN0b3IgcGFyYW10ZXIsIGluZGljYXRpbmcgd2hhdCB0byBpbmplY3QgZm9yIHRoYXRcbiAqIHBhcmFtZXRlci5cbiAqIE9yIGl0IGNhbiBiZSB1c2VkIGZvciBhIHdlYiBjb21wb25lbnQgcHJvcGVydHksIGluZGljYXRpbmcgd2hhdCB0aGF0IHByb3BlcnR5IHNob3VsZCByZXNvbHZlIHRvLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGluamVjdCA9IERJLmluamVjdDtcbmZ1bmN0aW9uIHRyYW5zaWVudERlY29yYXRvcih0YXJnZXQpIHtcbiAgICByZXR1cm4gREkudHJhbnNpZW50KHRhcmdldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpZW50KHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQgPT0gbnVsbCA/IHRyYW5zaWVudERlY29yYXRvciA6IHRyYW5zaWVudERlY29yYXRvcih0YXJnZXQpO1xufVxuY29uc3QgZGVmYXVsdFNpbmdsZXRvbk9wdGlvbnMgPSB7IHNjb3BlZDogZmFsc2UgfTtcbmZ1bmN0aW9uIHNpbmdsZXRvbkRlY29yYXRvcih0YXJnZXQpIHtcbiAgICByZXR1cm4gREkuc2luZ2xldG9uKHRhcmdldCk7XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZXRvbih0YXJnZXRPck9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHRhcmdldE9yT3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBESS5zaW5nbGV0b24odGFyZ2V0T3JPcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBESS5zaW5nbGV0b24oJHRhcmdldCwgdGFyZ2V0T3JPcHRpb25zKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQWxsUmVzb2x2ZXIoZ2V0dGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHNlYXJjaEFuY2VzdG9ycykge1xuICAgICAgICBzZWFyY2hBbmNlc3RvcnMgPSAhIXNlYXJjaEFuY2VzdG9ycztcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgREkuaW5qZWN0KHJlc29sdmVyKSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVzb2x2ZXIuJGlzUmVzb2x2ZXIgPSB0cnVlO1xuICAgICAgICByZXNvbHZlci5yZXNvbHZlID0gZnVuY3Rpb24gKGhhbmRsZXIsIHJlcXVlc3Rvcikge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbiAgICAgICAgICAgIHJldHVybiBnZXR0ZXIoa2V5LCBoYW5kbGVyLCByZXF1ZXN0b3IsIHNlYXJjaEFuY2VzdG9ycyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICB9O1xufVxuLyoqXG4gKiBBIGRlY29yYXRvciBhbmQgREkgcmVzb2x2ZXIgdGhhdCB3aWxsIHJlc29sdmUgYW4gYXJyYXkgb2YgYWxsIGRlcGVuZGVuY2llc1xuICogcmVnaXN0ZXJlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LlxuICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gcmVzb2x2ZSBhbGwgZGVwZW5kZW5jaWVzIGZvci5cbiAqIEBwYXJhbSBzZWFyY2hBbmNlc3RvcnMgLSBbb3B0aW9uYWxdIEluZGljYXRlcyB3aGV0aGVyIHRvIHNlYXJjaCBhbmNlc3RvciBjb250YWluZXJzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYWxsID0gY3JlYXRlQWxsUmVzb2x2ZXIoKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yLCBzZWFyY2hBbmNlc3RvcnMpID0+IHJlcXVlc3Rvci5nZXRBbGwoa2V5LCBzZWFyY2hBbmNlc3RvcnMpKTtcbi8qKlxuICogQSBkZWNvcmF0b3IgdGhhdCBsYXppbHkgaW5qZWN0cyBhIGRlcGVuZGVuY3kgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGBLZXlgIGlzIHByZXNlbnQgYXQgdGhlIHRpbWUgb2YgZnVuY3Rpb24gY2FsbC5cbiAqXG4gKiBAZXhhbXBsZVxuICogWW91IG5lZWQgdG8gbWFrZSB5b3VyIGFyZ3VtZW50IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB0eXBlLCBmb3IgZXhhbXBsZVxuICogYGBgdHNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGNvbnN0cnVjdG9yKCBAbGF6eSgncmFuZG9tJykgcHVibGljIHJhbmRvbTogKCkgPT4gbnVtYmVyIClcbiAqIH1cbiAqIGNvbnN0IGZvbyA9IGNvbnRhaW5lci5nZXQoRm9vKTsgLy8gaW5zdGFuY2VvZiBGb29cbiAqIGZvby5yYW5kb20oKTsgLy8gdGhyb3dzXG4gKiBgYGBcbiAqIHdvdWxkIHRocm93IGFuIGV4Y2VwdGlvbiBiZWNhdXNlIHlvdSBoYXZlbid0IHJlZ2lzdGVyZWQgYCdyYW5kb20nYCBiZWZvcmUgY2FsbGluZyB0aGUgbWV0aG9kLlxuICogQGV4YW1wbGVcbiAqIFRoaXMsIHdvdWxkIGdpdmUgeW91IGEgbmV3ICdNYXRoLnJhbmRvbSgpJyBudW1iZXIgZWFjaCB0aW1lLlxuICogYGBgdHNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGNvbnN0cnVjdG9yKCBAbGF6eSgncmFuZG9tJykgcHVibGljIHJhbmRvbTogKCkgPT4gcmFuZG9tIClcbiAqIH1cbiAqIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uY2FsbGJhY2soJ3JhbmRvbScsIE1hdGgucmFuZG9tICkpO1xuICogY29udGFpbmVyLmdldChGb28pLnJhbmRvbSgpOyAvLyBzb21lIHJhbmRvbSBudW1iZXJcbiAqIGNvbnRhaW5lci5nZXQoRm9vKS5yYW5kb20oKTsgLy8gYW5vdGhlciByYW5kb20gbnVtYmVyXG4gKiBgYGBcbiAqXG4gKiBgQGxhenlgIGRvZXMgbm90IG1hbmFnZSB0aGUgbGlmZWN5Y2xlIG9mIHRoZSB1bmRlcmx5aW5nIGtleS4gSWYgeW91IHdhbnQgYSBzaW5nbGV0b24sIHlvdSBoYXZlIHRvIHJlZ2lzdGVyIGFzIGFcbiAqIGBzaW5nbGV0b25gLCBgdHJhbnNpZW50YCB3b3VsZCBhbHNvIGJlaGF2ZSBhcyB5b3Ugd291bGQgZXhwZWN0LCBwcm92aWRpbmcgeW91IGEgbmV3IGluc3RhbmNlIGVhY2ggdGltZS5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBsYXppbHkgcmVzb2x2ZS5cbiAqIHNlZSB7QGxpbmsgREkuY3JlYXRlSW50ZXJmYWNlfSBvbiBpbnRlcmFjdGlvbnMgd2l0aCBpbnRlcmZhY2VzXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbGF6eSA9IGNyZWF0ZVJlc29sdmVyKChrZXksIGhhbmRsZXIsIHJlcXVlc3RvcikgPT4ge1xuICAgIHJldHVybiAoKSA9PiByZXF1ZXN0b3IuZ2V0KGtleSk7XG59KTtcbi8qKlxuICogQSBkZWNvcmF0b3IgdGhhdCBhbGxvd3MgeW91IHRvIG9wdGlvbmFsbHkgaW5qZWN0IGEgZGVwZW5kZW5jeSBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgW1tgS2V5YF1dIGlzIHByZXNlbnQsIGZvciBleGFtcGxlOlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjbGFzcyBGb28ge1xuICogICBjb25zdHJ1Y3RvciggQGluamVjdCgnbXlzdHJpbmcnKSBwdWJsaWMgc3RyOiBzdHJpbmcgPSAnc29tZXN0cmluZycgKVxuICogfVxuICogY29udGFpbmVyLmdldChGb28pOyAvLyB0aHJvd3NcbiAqIGBgYFxuICogd291bGQgZmFpbFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY2xhc3MgRm9vIHtcbiAqICAgY29uc3RydWN0b3IoIEBvcHRpb25hbCgnbXlzdHJpbmcnKSBwdWJsaWMgc3RyOiBzdHJpbmcgPSAnc29tZXN0cmluZycgKVxuICogfVxuICogY29udGFpbmVyLmdldChGb28pLnN0ciAvLyBzb21lc3RyaW5nXG4gKiBgYGBcbiAqIGlmIHlvdSB1c2UgaXQgd2l0aG91dCBhIGRlZmF1bHQgaXQgd2lsbCBpbmplY3QgYHVuZGVmaW5lZGAsIHNvIHJlbWVtYmVyIHRvIG1hcmsgeW91ciBpbnB1dCB0eXBlIGFzXG4gKiBwb3NzaWJseSBgdW5kZWZpbmVkYCFcbiAqXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byBvcHRpb25hbGx5IHJlc29sdmUuXG4gKiBzZWUge0BsaW5rIERJLmNyZWF0ZUludGVyZmFjZX0gb24gaW50ZXJhY3Rpb25zIHdpdGggaW50ZXJmYWNlc1xuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG9wdGlvbmFsID0gY3JlYXRlUmVzb2x2ZXIoKGtleSwgaGFuZGxlciwgcmVxdWVzdG9yKSA9PiB7XG4gICAgaWYgKHJlcXVlc3Rvci5oYXMoa2V5LCB0cnVlKSkge1xuICAgICAgICByZXR1cm4gcmVxdWVzdG9yLmdldChrZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59KTtcbi8qKlxuICogQSBkZWNvcmF0b3IgdGhhdCB0ZWxscyB0aGUgY29udGFpbmVyIG5vdCB0byB0cnkgdG8gaW5qZWN0IGEgZGVwZW5kZW5jeS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZ25vcmUodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgIERJLmluamVjdChpZ25vcmUpKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpO1xufVxuLy8gSGFjazogY2FzdGluZyBiZWxvdyB1c2VkIHRvIHByZXZlbnQgVFMgZnJvbSBnZW5lcmF0ZSBhIG5hbWVzcGFjZSB3aGljaCBjYW4ndCBiZSBjb21tZW50ZWRcbi8vIGFuZCByZXN1bHRzIGluIGRvY3VtZW50YXRpb24gdmFsaWRhdGlvbiBlcnJvcnMuXG5pZ25vcmUuJGlzUmVzb2x2ZXIgPSB0cnVlO1xuaWdub3JlLnJlc29sdmUgPSAoKSA9PiB1bmRlZmluZWQ7XG4vKipcbiAqIEEgZGVjb3JhdG9yIHRoYXQgaW5kaWNhdGVzIHRoYXQgYSBuZXcgaW5zdGFuY2Ugc2hvdWxkIGJlIGluamVjdGVkIHNjb3BlZCB0byB0aGVcbiAqIGNvbnRhaW5lciB0aGF0IHJlcXVlc3RlZCB0aGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ga2V5IC0gVGhlIGRlcGVuZGVuY3kga2V5IGZvciB0aGUgbmV3IGluc3RhbmNlLlxuICogQHJlbWFya3NcbiAqIFRoaXMgY3JlYXRlcyBhIHJlc29sdmVyIHdpdGggYW4gaW5zdGFuY2Ugc3RyYXRlZ3kgcG9pbnRpbmcgdG8gdGhlIG5ldyBpbnN0YW5jZSwgZWZmZWN0aXZlbHlcbiAqIG1ha2luZyB0aGlzIGEgc2luZ2xldG9uLCBzY29wZWQgdG8gdGhlIGNvbnRhaW5lciBvciBET00ncyBzdWJ0cmVlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG5ld0luc3RhbmNlRm9yU2NvcGUgPSBjcmVhdGVSZXNvbHZlcigoa2V5LCBoYW5kbGVyLCByZXF1ZXN0b3IpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGNyZWF0ZU5ld0luc3RhbmNlKGtleSwgaGFuZGxlcik7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMCAvKiBpbnN0YW5jZSAqLywgaW5zdGFuY2UpO1xuICAgIHJlcXVlc3Rvci5yZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn0pO1xuLyoqXG4gKiBBIGRlY29yYXRvciB0aGF0IGluZGljYXRlcyB0aGF0IGEgbmV3IGluc3RhbmNlIHNob3VsZCBiZSBpbmplY3RlZC5cbiAqIEBwYXJhbSBrZXkgLSBUaGUgZGVwZW5kZW5jeSBrZXkgZm9yIHRoZSBuZXcgaW5zdGFuY2UuXG4gKiBAcmVtYXJrc1xuICogVGhlIGluc3RhbmNlIGlzIG5vdCBpbnRlcm5hbGx5IGNhY2hlZCB3aXRoIGEgcmVzb2x2ZXIgYXMgbmV3SW5zdGFuY2VGb3JTY29wZSBkb2VzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG5ld0luc3RhbmNlT2YgPSBjcmVhdGVSZXNvbHZlcigoa2V5LCBoYW5kbGVyLCBfcmVxdWVzdG9yKSA9PiBjcmVhdGVOZXdJbnN0YW5jZShrZXksIGhhbmRsZXIpKTtcbmZ1bmN0aW9uIGNyZWF0ZU5ld0luc3RhbmNlKGtleSwgaGFuZGxlcikge1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uICovXG4gICAgcmV0dXJuIGhhbmRsZXIuZ2V0RmFjdG9yeShrZXkpLmNvbnN0cnVjdChoYW5kbGVyKTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBSZXNvbHZlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGtleSwgc3RyYXRlZ3ksIHN0YXRlKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0ICRpc1Jlc29sdmVyKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVnaXN0ZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIucmVnaXN0ZXJSZXNvbHZlcih0aGlzLmtleSwgdGhpcyk7XG4gICAgfVxuICAgIHJlc29sdmUoaGFuZGxlciwgcmVxdWVzdG9yKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIGluc3RhbmNlICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgY2FzZSAxIC8qIHNpbmdsZXRvbiAqLzoge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEN5Y2xpYyBkZXBlbmRlbmN5IGZvdW5kOiAke3RoaXMuc3RhdGUubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBoYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRGYWN0b3J5KHRoaXMuc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIC5jb25zdHJ1Y3QocmVxdWVzdG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gMCAvKiBpbnN0YW5jZSAqLztcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAyIC8qIHRyYW5zaWVudCAqLzoge1xuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBjcmVhdGUgdHJhbnNpZW50cyBmcm9tIHRoZSByZXF1ZXN0aW5nIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBoYW5kbGVyLmdldEZhY3RvcnkodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhY3RvcnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXNvbHZlciBmb3IgJHtTdHJpbmcodGhpcy5rZXkpfSByZXR1cm5lZCBhIG51bGwgZmFjdG9yeWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5jb25zdHJ1Y3QocmVxdWVzdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMyAvKiBjYWxsYmFjayAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZShoYW5kbGVyLCByZXF1ZXN0b3IsIHRoaXMpO1xuICAgICAgICAgICAgY2FzZSA0IC8qIGFycmF5ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlWzBdLnJlc29sdmUoaGFuZGxlciwgcmVxdWVzdG9yKTtcbiAgICAgICAgICAgIGNhc2UgNSAvKiBhbGlhcyAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdG9yLmdldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc29sdmVyIHN0cmF0ZWd5IHNwZWNpZmllZDogJHt0aGlzLnN0cmF0ZWd5fS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRGYWN0b3J5KGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogc2luZ2xldG9uICovOlxuICAgICAgICAgICAgY2FzZSAyIC8qIHRyYW5zaWVudCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmdldEZhY3RvcnkodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICBjYXNlIDUgLyogYWxpYXMgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9IGNvbnRhaW5lci5nZXRSZXNvbHZlcih0aGlzLnN0YXRlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEZhY3RvcnkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBjb250YWluZXIpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBudWxsO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnRhaW5lckdldEtleShkKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGQpO1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtSW5zdGFuY2UoaW5zdCwgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShpbnN0KTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBGYWN0b3J5SW1wbCB7XG4gICAgY29uc3RydWN0b3IoVHlwZSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuVHlwZSA9IFR5cGU7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVycyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0cnVjdChjb250YWluZXIsIGR5bmFtaWNEZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgbGV0IGluc3RhbmNlO1xuICAgICAgICBpZiAoZHluYW1pY0RlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgY29udGFpbmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyB0aGlzLlR5cGUoLi4udGhpcy5kZXBlbmRlbmNpZXMubWFwKGNvbnRhaW5lckdldEtleSwgY29udGFpbmVyKSwgLi4uZHluYW1pY0RlcGVuZGVuY2llcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtZXJzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1lcnMucmVkdWNlKHRyYW5zZm9ybUluc3RhbmNlLCBpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyVHJhbnNmb3JtZXIodHJhbnNmb3JtZXIpIHtcbiAgICAgICAgKHRoaXMudHJhbnNmb3JtZXJzIHx8ICh0aGlzLnRyYW5zZm9ybWVycyA9IFtdKSkucHVzaCh0cmFuc2Zvcm1lcik7XG4gICAgfVxufVxuY29uc3QgY29udGFpbmVyUmVzb2x2ZXIgPSB7XG4gICAgJGlzUmVzb2x2ZXI6IHRydWUsXG4gICAgcmVzb2x2ZShoYW5kbGVyLCByZXF1ZXN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RvcjtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGlzUmVnaXN0cnkob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmoucmVnaXN0ZXIgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzU2VsZlJlZ2lzdHJ5KG9iaikge1xuICAgIHJldHVybiBpc1JlZ2lzdHJ5KG9iaikgJiYgdHlwZW9mIG9iai5yZWdpc3RlckluUmVxdWVzdG9yID09PSBcImJvb2xlYW5cIjtcbn1cbmZ1bmN0aW9uIGlzUmVnaXN0ZXJJblJlcXVlc3RlcihvYmopIHtcbiAgICByZXR1cm4gaXNTZWxmUmVnaXN0cnkob2JqKSAmJiBvYmoucmVnaXN0ZXJJblJlcXVlc3Rvcjtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3Mob2JqKSB7XG4gICAgcmV0dXJuIG9iai5wcm90b3R5cGUgIT09IHZvaWQgMDtcbn1cbmNvbnN0IEluc3RyaW5zaWNUeXBlTmFtZXMgPSBuZXcgU2V0KFtcbiAgICBcIkFycmF5XCIsXG4gICAgXCJBcnJheUJ1ZmZlclwiLFxuICAgIFwiQm9vbGVhblwiLFxuICAgIFwiRGF0YVZpZXdcIixcbiAgICBcIkRhdGVcIixcbiAgICBcIkVycm9yXCIsXG4gICAgXCJFdmFsRXJyb3JcIixcbiAgICBcIkZsb2F0MzJBcnJheVwiLFxuICAgIFwiRmxvYXQ2NEFycmF5XCIsXG4gICAgXCJGdW5jdGlvblwiLFxuICAgIFwiSW50OEFycmF5XCIsXG4gICAgXCJJbnQxNkFycmF5XCIsXG4gICAgXCJJbnQzMkFycmF5XCIsXG4gICAgXCJNYXBcIixcbiAgICBcIk51bWJlclwiLFxuICAgIFwiT2JqZWN0XCIsXG4gICAgXCJQcm9taXNlXCIsXG4gICAgXCJSYW5nZUVycm9yXCIsXG4gICAgXCJSZWZlcmVuY2VFcnJvclwiLFxuICAgIFwiUmVnRXhwXCIsXG4gICAgXCJTZXRcIixcbiAgICBcIlNoYXJlZEFycmF5QnVmZmVyXCIsXG4gICAgXCJTdHJpbmdcIixcbiAgICBcIlN5bnRheEVycm9yXCIsXG4gICAgXCJUeXBlRXJyb3JcIixcbiAgICBcIlVpbnQ4QXJyYXlcIixcbiAgICBcIlVpbnQ4Q2xhbXBlZEFycmF5XCIsXG4gICAgXCJVaW50MTZBcnJheVwiLFxuICAgIFwiVWludDMyQXJyYXlcIixcbiAgICBcIlVSSUVycm9yXCIsXG4gICAgXCJXZWFrTWFwXCIsXG4gICAgXCJXZWFrU2V0XCIsXG5dKTtcbmNvbnN0IERJTG9jYXRlUGFyZW50RXZlbnRUeXBlID0gXCJfX0RJX0xPQ0FURV9QQVJFTlRfX1wiO1xuY29uc3QgZmFjdG9yaWVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnRhaW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gdm9pZCAwO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRGVwdGggPSAwO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG93bmVyLiQkY29udGFpbmVyJCQgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzb2x2ZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnJlc29sdmVycy5zZXQoQ29udGFpbmVyLCBjb250YWluZXJSZXNvbHZlcik7XG4gICAgICAgIGlmIChvd25lciBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIG93bmVyLmFkZEV2ZW50TGlzdGVuZXIoRElMb2NhdGVQYXJlbnRFdmVudFR5cGUsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUuY29tcG9zZWRQYXRoKClbMF0gIT09IHRoaXMub3duZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kZXRhaWwuY29udGFpbmVyID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fcGFyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHRoaXMuY29uZmlnLnBhcmVudExvY2F0b3IodGhpcy5vd25lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgICB9XG4gICAgZ2V0IGRlcHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPT09IG51bGwgPyAwIDogdGhpcy5wYXJlbnQuZGVwdGggKyAxO1xuICAgIH1cbiAgICBnZXQgcmVzcG9uc2libGVGb3JPd25lclJlcXVlc3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcucmVzcG9uc2libGVGb3JPd25lclJlcXVlc3RzO1xuICAgIH1cbiAgICByZWdpc3RlcldpdGhDb250ZXh0KGNvbnRleHQsIC4uLnBhcmFtcykge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnJlZ2lzdGVyKC4uLnBhcmFtcyk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlciguLi5wYXJhbXMpIHtcbiAgICAgICAgaWYgKCsrdGhpcy5yZWdpc3RlckRlcHRoID09PSAxMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBhdXRvcmVnaXN0ZXIgZGVwZW5kZW5jeVwiKTtcbiAgICAgICAgICAgIC8vIE1vc3QgbGlrZWx5IGNhdXNlIGlzIHRyeWluZyB0byByZWdpc3RlciBhIHBsYWluIG9iamVjdCB0aGF0IGRvZXMgbm90IGhhdmUgYVxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgbWV0aG9kIGFuZCBpcyBub3QgYSBjbGFzcyBjb25zdHJ1Y3RvclxuICAgICAgICB9XG4gICAgICAgIGxldCBjdXJyZW50O1xuICAgICAgICBsZXQga2V5cztcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBsZXQgajtcbiAgICAgICAgbGV0IGpqO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaWkgPSBwYXJhbXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgY3VycmVudCA9IHBhcmFtc1tpXTtcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1JlZ2lzdHJ5KGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5yZWdpc3Rlcih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQ2xhc3MoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24uc2luZ2xldG9uKGN1cnJlbnQsIGN1cnJlbnQpLnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgICAgIGpqID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGogPCBqajsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY3VycmVudFtrZXlzW2pdXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGNvdWxkIHJlbW92ZSB0aGlzIGlmLWJyYW5jaCBhbmQgY2FsbCB0aGlzLnJlZ2lzdGVyIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gdGhlIGV4dHJhIGNoZWNrIGlzIGp1c3QgYSBwZXJmIHR3ZWFrIHRvIGNyZWF0ZSBmZXdlciB1bm5lY2Vzc2FyeSBhcnJheXMgYnkgdGhlIHNwcmVhZCBvcGVyYXRvclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWdpc3RyeSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnJlZ2lzdGVyKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLS10aGlzLnJlZ2lzdGVyRGVwdGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlclJlc29sdmVyKGtleSwgcmVzb2x2ZXIpIHtcbiAgICAgICAgdmFsaWRhdGVLZXkoa2V5KTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXJzID0gdGhpcy5yZXNvbHZlcnM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc29sdmVycy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlcnMuc2V0KGtleSwgcmVzb2x2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlc29sdmVySW1wbCAmJlxuICAgICAgICAgICAgcmVzdWx0LnN0cmF0ZWd5ID09PSA0IC8qIGFycmF5ICovKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdGUucHVzaChyZXNvbHZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlcnMuc2V0KGtleSwgbmV3IFJlc29sdmVySW1wbChrZXksIDQgLyogYXJyYXkgKi8sIFtyZXN1bHQsIHJlc29sdmVyXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICB9XG4gICAgcmVnaXN0ZXJUcmFuc2Zvcm1lcihrZXksIHRyYW5zZm9ybWVyKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpcy5nZXRSZXNvbHZlcihrZXkpO1xuICAgICAgICBpZiAocmVzb2x2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvbHZlci5nZXRGYWN0b3J5KSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcmVzb2x2ZXIuZ2V0RmFjdG9yeSh0aGlzKTtcbiAgICAgICAgICAgIGlmIChmYWN0b3J5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHR5cGUgY2FzdCBpcyBhIGJpdCBvZiBhIGhhY2t5IG9uZSwgbmVjZXNzYXJ5IGR1ZSB0byB0aGUgZHVwbGljaXR5IG9mIElSZXNvbHZlckxpa2UuXG4gICAgICAgICAgICAvLyBQcm9ibGVtIGlzIHRoYXQgdGhhdCBpbnRlcmZhY2UncyB0eXBlIGFyZyBjYW4gYmUgb2YgdHlwZSBLZXksIGJ1dCB0aGUgZ2V0RmFjdG9yeSBtZXRob2Qgb25seSB3b3JrcyBvblxuICAgICAgICAgICAgLy8gdHlwZSBDb25zdHJ1Y3RhYmxlLiBTbyB0aGUgcmV0dXJuIHR5cGUgb2YgdGhhdCBvcHRpb25hbCBtZXRob2QgaGFzIHRoaXMgYWRkaXRpb25hbCBjb25zdHJhaW50LCB3aGljaFxuICAgICAgICAgICAgLy8gc2VlbXMgdG8gY29uZnVzZSB0aGUgdHlwZSBjaGVja2VyLlxuICAgICAgICAgICAgZmFjdG9yeS5yZWdpc3RlclRyYW5zZm9ybWVyKHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UmVzb2x2ZXIoa2V5LCBhdXRvUmVnaXN0ZXIgPSB0cnVlKSB7XG4gICAgICAgIHZhbGlkYXRlS2V5KGtleSk7XG4gICAgICAgIGlmIChrZXkucmVzb2x2ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhcyAqL1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXM7XG4gICAgICAgIGxldCByZXNvbHZlcjtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzb2x2ZXIgPSBjdXJyZW50LnJlc29sdmVycy5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQucGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGlzUmVnaXN0ZXJJblJlcXVlc3RlcihrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dG9SZWdpc3RlciA/IHRoaXMuaml0UmVnaXN0ZXIoa2V5LCBoYW5kbGVyKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaGFzKGtleSwgc2VhcmNoQW5jZXN0b3JzID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZXJzLmhhcyhrZXkpXG4gICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgIDogc2VhcmNoQW5jZXN0b3JzICYmIHRoaXMucGFyZW50ICE9IG51bGxcbiAgICAgICAgICAgICAgICA/IHRoaXMucGFyZW50LmhhcyhrZXksIHRydWUpXG4gICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICB2YWxpZGF0ZUtleShrZXkpO1xuICAgICAgICBpZiAoa2V5LiRpc1Jlc29sdmVyKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5LnJlc29sdmUodGhpcywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzICovXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcztcbiAgICAgICAgbGV0IHJlc29sdmVyO1xuICAgICAgICB3aGlsZSAoY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXNvbHZlciA9IGN1cnJlbnQucmVzb2x2ZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5wYXJlbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNSZWdpc3RlckluUmVxdWVzdGVyKGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlciA9IHRoaXMuaml0UmVnaXN0ZXIoa2V5LCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyLnJlc29sdmUoY3VycmVudCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlci5yZXNvbHZlKGN1cnJlbnQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlc29sdmUga2V5OiAke1N0cmluZyhrZXkpfWApO1xuICAgIH1cbiAgICBnZXRBbGwoa2V5LCBzZWFyY2hBbmNlc3RvcnMgPSBmYWxzZSkge1xuICAgICAgICB2YWxpZGF0ZUtleShrZXkpO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgKi9cbiAgICAgICAgY29uc3QgcmVxdWVzdG9yID0gdGhpcztcbiAgICAgICAgbGV0IGN1cnJlbnQgPSByZXF1ZXN0b3I7XG4gICAgICAgIGxldCByZXNvbHZlcjtcbiAgICAgICAgaWYgKHNlYXJjaEFuY2VzdG9ycykge1xuICAgICAgICAgICAgbGV0IHJlc29sdXRpb25zID0gZW1wdHlBcnJheTtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlciA9IGN1cnJlbnQucmVzb2x2ZXJzLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdXRpb25zID0gcmVzb2x1dGlvbnMuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICBidWlsZEFsbFJlc3BvbnNlKHJlc29sdmVyLCBjdXJyZW50LCByZXF1ZXN0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdXRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyID0gY3VycmVudC5yZXNvbHZlcnMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkQWxsUmVzcG9uc2UocmVzb2x2ZXIsIGN1cnJlbnQsIHJlcXVlc3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbXB0eUFycmF5O1xuICAgIH1cbiAgICBnZXRGYWN0b3J5KFR5cGUpIHtcbiAgICAgICAgbGV0IGZhY3RvcnkgPSBmYWN0b3JpZXMuZ2V0KFR5cGUpO1xuICAgICAgICBpZiAoZmFjdG9yeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVGdW5jdGlvbihUeXBlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtUeXBlLm5hbWV9IGlzIGEgbmF0aXZlIGZ1bmN0aW9uIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHNhZmVseSBjb25zdHJ1Y3RlZCBieSBESS4gSWYgdGhpcyBpcyBpbnRlbnRpb25hbCwgcGxlYXNlIHVzZSBhIGNhbGxiYWNrIG9yIGNhY2hlZENhbGxiYWNrIHJlc29sdmVyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmFjdG9yaWVzLnNldChUeXBlLCAoZmFjdG9yeSA9IG5ldyBGYWN0b3J5SW1wbChUeXBlLCBESS5nZXREZXBlbmRlbmNpZXMoVHlwZSkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfVxuICAgIHJlZ2lzdGVyRmFjdG9yeShrZXksIGZhY3RvcnkpIHtcbiAgICAgICAgZmFjdG9yaWVzLnNldChrZXksIGZhY3RvcnkpO1xuICAgIH1cbiAgICBjcmVhdGVDaGlsZChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb250YWluZXJJbXBsKG51bGwsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLCBjb25maWcsIHsgcGFyZW50TG9jYXRvcjogKCkgPT4gdGhpcyB9KSk7XG4gICAgfVxuICAgIGppdFJlZ2lzdGVyKGtleUFzVmFsdWUsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlBc1ZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGppdFJlZ2lzdGVyIHNvbWV0aGluZyB0aGF0IGlzIG5vdCBhIGNvbnN0cnVjdG9yOiAnJHtrZXlBc1ZhbHVlfScuIERpZCB5b3UgZm9yZ2V0IHRvIHJlZ2lzdGVyIHRoaXMgZGVwZW5kZW5jeT9gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSW5zdHJpbnNpY1R5cGVOYW1lcy5oYXMoa2V5QXNWYWx1ZS5uYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gaml0UmVnaXN0ZXIgYW4gaW50cmluc2ljIHR5cGU6ICR7a2V5QXNWYWx1ZS5uYW1lfS4gRGlkIHlvdSBmb3JnZXQgdG8gYWRkIEBpbmplY3QoS2V5KWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZ2lzdHJ5KGtleUFzVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25SZXNvbHZlciA9IGtleUFzVmFsdWUucmVnaXN0ZXIoaGFuZGxlcik7XG4gICAgICAgICAgICBpZiAoIShyZWdpc3RyYXRpb25SZXNvbHZlciBpbnN0YW5jZW9mIE9iamVjdCkgfHxcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25SZXNvbHZlci5yZXNvbHZlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXNvbHZlciA9IGhhbmRsZXIucmVzb2x2ZXJzLmdldChrZXlBc1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UmVzb2x2ZXIgIT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdSZXNvbHZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB2YWxpZCByZXNvbHZlciB3YXMgbm90IHJldHVybmVkIGZyb20gdGhlIHN0YXRpYyByZWdpc3RlciBtZXRob2RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uUmVzb2x2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5QXNWYWx1ZS4kaXNJbnRlcmZhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdGVkIHRvIGppdFJlZ2lzdGVyIGFuIGludGVyZmFjZTogJHtrZXlBc1ZhbHVlLmZyaWVuZGx5TmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpcy5jb25maWcuZGVmYXVsdFJlc29sdmVyKGtleUFzVmFsdWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgaGFuZGxlci5yZXNvbHZlcnMuc2V0KGtleUFzVmFsdWUsIHJlc29sdmVyKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGNhY2hlQ2FsbGJhY2tSZXN1bHQoZnVuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyLCByZXF1ZXN0b3IsIHJlc29sdmVyKSB7XG4gICAgICAgIGlmIChjYWNoZS5oYXMocmVzb2x2ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KHJlc29sdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ID0gZnVuKGhhbmRsZXIsIHJlcXVlc3RvciwgcmVzb2x2ZXIpO1xuICAgICAgICBjYWNoZS5zZXQocmVzb2x2ZXIsIHQpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xufVxuLyoqXG4gKiBZb3UgY2FuIHVzZSB0aGUgcmVzdWx0aW5nIFJlZ2lzdHJhdGlvbiBvZiBhbnkgb2YgdGhlIGZhY3RvcnkgbWV0aG9kc1xuICogdG8gcmVnaXN0ZXIgd2l0aCB0aGUgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIEZvbyB7fVxuICogY29uc3QgY29udGFpbmVyID0gREkuY3JlYXRlQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKEZvbywgbmV3IEZvbygpKSk7XG4gKiBjb250YWluZXIuZ2V0KEZvbyk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBSZWdpc3RyYXRpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgeW91IHRvIHBhc3MgYW4gaW5zdGFuY2UuXG4gICAgICogRXZlcnkgdGltZSB5b3UgcmVxdWVzdCB0aGlzIHtAbGluayBLZXl9IHlvdSB3aWxsIGdldCB0aGlzIGluc3RhbmNlIGJhY2suXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShGb28sIG5ldyBGb28oKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gcmVnaXN0ZXIgdGhlIGluc3RhbmNlIHVuZGVyLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBpbnN0YW5jZSB0byByZXR1cm4gd2hlbiB0aGUga2V5IGlzIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBpbnN0YW5jZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMCAvKiBpbnN0YW5jZSAqLywgdmFsdWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBmcm9tIHRoZSBjbGFzcy5cbiAgICAgKiBFdmVyeSB0aW1lIHlvdSByZXF1ZXN0IHRoaXMge0BsaW5rIEtleX0geW91IHdpbGwgZ2V0IHRoZSBzYW1lIG9uZSBiYWNrLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBSZWdpc3RyYXRpb24uc2luZ2xldG9uKEZvbywgRm9vKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIHJlZ2lzdGVyIHRoZSBzaW5nbGV0b24gdW5kZXIuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGNsYXNzIHRvIGluc3RhbnRpYXRlIGFzIGEgc2luZ2xldG9uIHdoZW4gZmlyc3QgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIHNpbmdsZXRvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMSAvKiBzaW5nbGV0b24gKi8sIHZhbHVlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2UgZnJvbSBhIGNsYXNzLlxuICAgICAqIEV2ZXJ5IHRpbWUgeW91IHJlcXVlc3QgdGhpcyB7QGxpbmsgS2V5fSB5b3Ugd2lsbCBnZXQgYSBuZXcgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIFJlZ2lzdHJhdGlvbi5pbnN0YW5jZShGb28sIEZvbyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIGtleSB0byByZWdpc3RlciB0aGUgaW5zdGFuY2UgdHlwZSB1bmRlci5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgY2xhc3MgdG8gaW5zdGFudGlhdGUgZWFjaCB0aW1lIHRoZSBrZXkgaXMgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIHRyYW5zaWVudChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZXJJbXBsKGtleSwgMiAvKiB0cmFuc2llbnQgKi8sIHZhbHVlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlbGVnYXRlcyB0byBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHByb3ZpZGUgdGhlIGRlcGVuZGVuY3kuXG4gICAgICogRXZlcnkgdGltZSB5b3UgcmVxdWVzdCB0aGlzIHtAbGluayBLZXl9IHRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgdG8gcHJvdmlkZVxuICAgICAqIHRoZSBkZXBlbmRlbmN5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBSZWdpc3RyYXRpb24uY2FsbGJhY2soRm9vLCAoKSA9PiBuZXcgRm9vKCkpO1xuICAgICAqIFJlZ2lzdHJhdGlvbi5jYWxsYmFjayhCYXIsIChjOiBDb250YWluZXIpID0+IG5ldyBCYXIoYy5nZXQoRm9vKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gcmVnaXN0ZXIgdGhlIGNhbGxiYWNrIGZvci5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBpcyBleHBlY3RlZCB0byByZXR1cm4gdGhlIGRlcGVuZGVuY3kuXG4gICAgICovXG4gICAgY2FsbGJhY2soa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gbmV3IFJlc29sdmVySW1wbChrZXksIDMgLyogY2FsbGJhY2sgKi8sIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIERlbGVnYXRlcyB0byBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHByb3ZpZGUgdGhlIGRlcGVuZGVuY3kgYW5kIHRoZW4gY2FjaGVzIHRoZVxuICAgICAqIGRlcGVuZGVuY3kgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogUmVnaXN0cmF0aW9uLmNhY2hlZENhbGxiYWNrKEZvbywgKCkgPT4gbmV3IEZvbygpKTtcbiAgICAgKiBSZWdpc3RyYXRpb24uY2FjaGVkQ2FsbGJhY2soQmFyLCAoYzogQ29udGFpbmVyKSA9PiBuZXcgQmFyKGMuZ2V0KEZvbykpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUga2V5IHRvIHJlZ2lzdGVyIHRoZSBjYWxsYmFjayBmb3IuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRoYXQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIHRoZSBkZXBlbmRlbmN5LlxuICAgICAqIEByZW1hcmtzXG4gICAgICogSWYgeW91IHBhc3MgdGhlIHNhbWUgUmVnaXN0cmF0aW9uIHRvIGFub3RoZXIgY29udGFpbmVyLCB0aGUgc2FtZSBjYWNoZWQgdmFsdWUgd2lsbCBiZSB1c2VkLlxuICAgICAqIFNob3VsZCBhbGwgcmVmZXJlbmNlcyB0byB0aGUgcmVzb2x2ZXIgcmV0dXJuZWQgYmUgcmVtb3ZlZCwgdGhlIGNhY2hlIHdpbGwgZXhwaXJlLlxuICAgICAqL1xuICAgIGNhY2hlZENhbGxiYWNrKGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlckltcGwoa2V5LCAzIC8qIGNhbGxiYWNrICovLCBjYWNoZUNhbGxiYWNrUmVzdWx0KGNhbGxiYWNrKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFsdGVybmF0ZSB7QGxpbmsgS2V5fSB0byByZXRyaWV2ZSBhbiBpbnN0YW5jZSBieS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogUmVnaXN0ZXIuc2luZ2xldG9uKEZvbywgRm9vKVxuICAgICAqIFJlZ2lzdGVyLmFsaWFzVG8oRm9vLCBNeUZvb3MpO1xuICAgICAqXG4gICAgICogY29udGFpbmVyLmdldEFsbChNeUZvb3MpIC8vIGNvbnRhaW5zIGFuIGluc3RhbmNlIG9mIEZvb1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIG9yaWdpbmFsS2V5IC0gVGhlIG9yaWdpbmFsIGtleSB0aGF0IGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gICAgICogQHBhcmFtIGFsaWFzS2V5IC0gVGhlIGFsaWFzIHRvIHRoZSBvcmlnaW5hbCBrZXkuXG4gICAgICovXG4gICAgYWxpYXNUbyhvcmlnaW5hbEtleSwgYWxpYXNLZXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZlckltcGwoYWxpYXNLZXksIDUgLyogYWxpYXMgKi8sIG9yaWdpbmFsS2V5KTtcbiAgICB9LFxufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVLZXkoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gbnVsbCB8fCBrZXkgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJrZXkvdmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLiBBcmUgeW91IHRyeWluZyB0byBpbmplY3QvcmVnaXN0ZXIgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBleGlzdCB3aXRoIERJP1wiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBidWlsZEFsbFJlc3BvbnNlKHJlc29sdmVyLCBoYW5kbGVyLCByZXF1ZXN0b3IpIHtcbiAgICBpZiAocmVzb2x2ZXIgaW5zdGFuY2VvZiBSZXNvbHZlckltcGwgJiZcbiAgICAgICAgcmVzb2x2ZXIuc3RyYXRlZ3kgPT09IDQgLyogYXJyYXkgKi8pIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSByZXNvbHZlci5zdGF0ZTtcbiAgICAgICAgbGV0IGkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdHNbaV0gPSBzdGF0ZVtpXS5yZXNvbHZlKGhhbmRsZXIsIHJlcXVlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBbcmVzb2x2ZXIucmVzb2x2ZShoYW5kbGVyLCByZXF1ZXN0b3IpXTtcbn1cbmNvbnN0IGRlZmF1bHRGcmllbmRseU5hbWUgPSBcIihhbm9ueW1vdXMpXCI7XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpcyB0aGUgZnVuY3Rpb24gaXMgYSBuYXRpdmUgZnVuY3Rpb24sIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbmNvbnN0IGlzTmF0aXZlRnVuY3Rpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGxvb2t1cCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgbGV0IGlzTmF0aXZlID0gZmFsc2U7XG4gICAgbGV0IHNvdXJjZVRleHQgPSBcIlwiO1xuICAgIGxldCBpID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGlzTmF0aXZlID0gbG9va3VwLmdldChmbik7XG4gICAgICAgIGlmIChpc05hdGl2ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBzb3VyY2VUZXh0ID0gZm4udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGkgPSBzb3VyY2VUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi8jcHJvZC1OYXRpdmVGdW5jdGlvblxuICAgICAgICAgICAgaXNOYXRpdmUgPVxuICAgICAgICAgICAgICAgIC8vIDI5IGlzIHRoZSBsZW5ndGggb2YgJ2Z1bmN0aW9uICgpIHsgW25hdGl2ZSBjb2RlXSB9JyB3aGljaCBpcyB0aGUgc21hbGxlc3QgbGVuZ3RoIG9mIGEgbmF0aXZlIGZ1bmN0aW9uIHN0cmluZ1xuICAgICAgICAgICAgICAgIGkgPj0gMjkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gMTAwIHNlZW1zIHRvIGJlIGEgc2FmZSB1cHBlciBib3VuZCBvZiB0aGUgbWF4IGxlbmd0aCBvZiBhIG5hdGl2ZSBmdW5jdGlvbi4gSW4gQ2hyb21lIGFuZCBGRiBpdCdzIDU2LCBpbiBFZGdlIGl0J3MgNjEuXG4gICAgICAgICAgICAgICAgICAgIGkgPD0gMTAwICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2hvbGUgaGV1cmlzdGljICpjb3VsZCogYmUgdHJpY2tlZCBieSBhIGNvbW1lbnQuIERvIHdlIG5lZWQgdG8gY2FyZSBhYm91dCB0aGF0P1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDEpID09PSAweDdkICYmIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGhlIHNwZWMgaXMgYSBsaXR0bGUgdmFndWUgYWJvdXQgdGhlIHByZWNpc2UgY29uc3RyYWludHMsIHNvIHdlIGRvIG5lZWQgdG8gdGVzdCB0aGlzIGFjcm9zcyB2YXJpb3VzIGJyb3dzZXJzIHRvIG1ha2Ugc3VyZSBqdXN0IG9uZSB3aGl0ZXNwYWNlIGlzIGEgc2FmZSBhc3N1bXB0aW9uLlxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDIpIDw9IDB4MjAgJiYgLy8gd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDMpID09PSAweDVkICYmIC8vIF1cbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSA0KSA9PT0gMHg2NSAmJiAvLyBlXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gNSkgPT09IDB4NjQgJiYgLy8gZFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDYpID09PSAweDZmICYmIC8vIG9cbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSA3KSA9PT0gMHg2MyAmJiAvLyBjXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gOCkgPT09IDB4MjAgJiYgLy9cbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSA5KSA9PT0gMHg2NSAmJiAvLyBlXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMTApID09PSAweDc2ICYmIC8vIHZcbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSAxMSkgPT09IDB4NjkgJiYgLy8gaVxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDEyKSA9PT0gMHg3NCAmJiAvLyB0XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVRleHQuY2hhckNvZGVBdChpIC0gMTMpID09PSAweDYxICYmIC8vIGFcbiAgICAgICAgICAgICAgICAgICAgc291cmNlVGV4dC5jaGFyQ29kZUF0KGkgLSAxNCkgPT09IDB4NmUgJiYgLy8gblxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VUZXh0LmNoYXJDb2RlQXQoaSAtIDE1KSA9PT0gMHg1ODsgLy8gW1xuICAgICAgICAgICAgbG9va3VwLnNldChmbiwgaXNOYXRpdmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc05hdGl2ZTtcbiAgICB9O1xufSkoKTtcbmNvbnN0IGlzTnVtZXJpY0xvb2t1cCA9IHt9O1xuZnVuY3Rpb24gaXNBcnJheUluZGV4KHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID49IDAgJiYgKHZhbHVlIHwgMCkgPT09IHZhbHVlO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGlzTnVtZXJpY0xvb2t1cFt2YWx1ZV07XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoaXNOdW1lcmljTG9va3VwW3ZhbHVlXSA9IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY2ggPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgICAgIGlmICgoaSA9PT0gMCAmJiBjaCA9PT0gMHgzMCAmJiBsZW5ndGggPiAxKSAvKiBtdXN0IG5vdCBzdGFydCB3aXRoIDAgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgY2ggPCAweDMwIC8qIDAgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgY2ggPiAweDM5IC8qIDkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc051bWVyaWNMb29rdXBbdmFsdWVdID0gZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoaXNOdW1lcmljTG9va3VwW3ZhbHVlXSA9IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRWxlbWVudFN0eWxlcywgfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbmltcG9ydCB7IERJLCBSZWdpc3RyYXRpb24gfSBmcm9tIFwiLi4vZGkvZGkuanNcIjtcbmZ1bmN0aW9uIHByZXNlbnRhdGlvbktleUZyb21UYWcodGFnTmFtZSkge1xuICAgIHJldHVybiBgJHt0YWdOYW1lLnRvTG93ZXJDYXNlKCl9OnByZXNlbnRhdGlvbmA7XG59XG5jb25zdCBwcmVzZW50YXRpb25SZWdpc3RyeSA9IG5ldyBNYXAoKTtcbi8qKlxuICogQW4gQVBJIGdhdGV3YXkgdG8gY29tcG9uZW50IHByZXNlbnRhdGlvbiBmZWF0dXJlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFByZXNlbnRhdGlvbiA9IE9iamVjdC5mcmVlemUoe1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBjb21wb25lbnQgcHJlc2VudGF0aW9uIGZvciBhbiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB0YWdOYW1lIC0gVGhlIGVsZW1lbnQgbmFtZSB0byBkZWZpbmUgdGhlIHByZXNlbnRhdGlvbiBmb3IuXG4gICAgICogQHBhcmFtIHByZXNlbnRhdGlvbiAtIFRoZSBwcmVzZW50YXRpb24gdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gbWF0Y2hpbmcgZWxlbWVudHMuXG4gICAgICogQHBhcmFtIGNvbnRhaW5lciAtIFRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgdG8gcmVnaXN0ZXIgdGhlIGNvbmZpZ3VyYXRpb24gaW4uXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGRlZmluZSh0YWdOYW1lLCBwcmVzZW50YXRpb24sIGNvbnRhaW5lcikge1xuICAgICAgICBjb25zdCBrZXkgPSBwcmVzZW50YXRpb25LZXlGcm9tVGFnKHRhZ05hbWUpO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHByZXNlbnRhdGlvblJlZ2lzdHJ5LmdldChrZXkpO1xuICAgICAgICBpZiAoZXhpc3RpbmcgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcHJlc2VudGF0aW9uUmVnaXN0cnkuc2V0KGtleSwgcHJlc2VudGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZhbHNlIGluZGljYXRlcyB0aGF0IHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBwcmVzZW50YXRpb25cbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyZWQgZm9yIGEgdGFnTmFtZSBhbmQgd2UgbXVzdCByZXNvbHZlIHRocm91Z2ggRElcbiAgICAgICAgICAgIHByZXNlbnRhdGlvblJlZ2lzdHJ5LnNldChrZXksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucmVnaXN0ZXIoUmVnaXN0cmF0aW9uLmluc3RhbmNlKGtleSwgcHJlc2VudGF0aW9uKSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhIGNvbXBvbmVudCBwcmVzZW50YXRpb24gZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBuYW1lLFxuICAgICAqIHNlYXJjaGluZyB0aGUgRE9NIGhpZXJhcmNoeSBzdGFydGluZyBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB0YWdOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgdG8gbG9jYXRlIHRoZSBwcmVzZW50YXRpb24gZm9yLlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gYmVnaW4gdGhlIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIFRoZSBjb21wb25lbnQgcHJlc2VudGF0aW9uIG9yIG51bGwgaWYgbm9uZSBpcyBmb3VuZC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZm9yVGFnKHRhZ05hbWUsIGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcHJlc2VudGF0aW9uS2V5RnJvbVRhZyh0YWdOYW1lKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBwcmVzZW50YXRpb25SZWdpc3RyeS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gREkuZmluZFJlc3BvbnNpYmxlQ29udGFpbmVyKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhpc3RpbmcgfHwgbnVsbDtcbiAgICB9LFxufSk7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIENvbXBvbmVudFByZXNlbnRhdGlvbiwgdXNlZCBieSBGb3VuZGF0aW9uRWxlbWVudC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRDb21wb25lbnRQcmVzZW50YXRpb24ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgRGVmYXVsdENvbXBvbmVudFByZXNlbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGUgLSBUaGUgdGVtcGxhdGUgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHN0eWxlcyAtIFRoZSBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBzdHlsZXMpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuc3R5bGVzID1cbiAgICAgICAgICAgIHN0eWxlcyA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgOiBBcnJheS5pc0FycmF5KHN0eWxlcylcbiAgICAgICAgICAgICAgICAgICAgPyBFbGVtZW50U3R5bGVzLmNyZWF0ZShzdHlsZXMpXG4gICAgICAgICAgICAgICAgICAgIDogc3R5bGVzIGluc3RhbmNlb2YgRWxlbWVudFN0eWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogRWxlbWVudFN0eWxlcy5jcmVhdGUoW3N0eWxlc10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBwcmVzZW50YXRpb24gZGV0YWlscyB0byB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBhcHBseSB0aGUgcHJlc2VudGF0aW9uIGRldGFpbHMgdG8uXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGFwcGx5VG8oZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gZWxlbWVudC4kZmFzdENvbnRyb2xsZXI7XG4gICAgICAgIGlmIChjb250cm9sbGVyLnRlbXBsYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLnRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udHJvbGxlci5zdHlsZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBGQVNURWxlbWVudCwgb2JzZXJ2YWJsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UHJlc2VudGF0aW9uLCBEZWZhdWx0Q29tcG9uZW50UHJlc2VudGF0aW9uLCB9IGZyb20gXCIuLi9kZXNpZ24tc3lzdGVtL2NvbXBvbmVudC1wcmVzZW50YXRpb24uanNcIjtcbi8qKlxuICogRGVmaW5lcyBhIGZvdW5kYXRpb24gZWxlbWVudCBjbGFzcyB0aGF0OlxuICogMS4gQ29ubmVjdHMgdGhlIGVsZW1lbnQgdG8gaXRzIENvbXBvbmVudFByZXNlbnRhdGlvblxuICogMi4gQWxsb3dzIHJlc29sdmluZyB0aGUgZWxlbWVudCB0ZW1wbGF0ZSBmcm9tIHRoZSBpbnN0YW5jZSBvciBDb21wb25lbnRQcmVzZW50YXRpb25cbiAqIDMuIEFsbG93cyByZXNvbHZpbmcgdGhlIGVsZW1lbnQgc3R5bGVzIGZyb20gdGhlIGluc3RhbmNlIG9yIENvbXBvbmVudFByZXNlbnRhdGlvblxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEZvdW5kYXRpb25FbGVtZW50IGV4dGVuZHMgRkFTVEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9wcmVzZW50YXRpb24gPSB2b2lkIDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvcGVydHkgd2hpY2ggcmVzb2x2ZXMgdGhlIENvbXBvbmVudFByZXNlbnRhdGlvbiBpbnN0YW5jZVxuICAgICAqIGZvciB0aGUgY3VycmVudCBjb21wb25lbnQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldCAkcHJlc2VudGF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fcHJlc2VudGF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZXNlbnRhdGlvbiA9IENvbXBvbmVudFByZXNlbnRhdGlvbi5mb3JUYWcodGhpcy50YWdOYW1lLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlc2VudGF0aW9uO1xuICAgIH1cbiAgICB0ZW1wbGF0ZUNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJGZhc3RDb250cm9sbGVyLnRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHlsZXNDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy4kZmFzdENvbnRyb2xsZXIuc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbm5lY3RlZCBjYWxsYmFjayBmb3IgdGhpcyBGQVNURWxlbWVudC5cbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgYnkgdGhlIHBsYXRmb3JtIHdoZW5ldmVyIHRoaXMgRm91bmRhdGlvbkVsZW1lbnRcbiAgICAgKiBiZWNvbWVzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy4kcHJlc2VudGF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLiRwcmVzZW50YXRpb24uYXBwbHlUbyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGFuIGVsZW1lbnQgcmVnaXN0cnkgZnVuY3Rpb24gd2l0aCBhIHNldCBvZiBlbGVtZW50IGRlZmluaXRpb24gZGVmYXVsdHMuXG4gICAgICogQHBhcmFtIGVsZW1lbnREZWZpbml0aW9uIC0gVGhlIGRlZmluaXRpb24gb2YgdGhlIGVsZW1lbnQgdG8gY3JlYXRlIHRoZSByZWdpc3RyeVxuICAgICAqIGZ1bmN0aW9uIGZvci5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3RhdGljIGNvbXBvc2UoZWxlbWVudERlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIChvdmVycmlkZURlZmluaXRpb24gPSB7fSkgPT4gbmV3IEZvdW5kYXRpb25FbGVtZW50UmVnaXN0cnkodGhpcyA9PT0gRm91bmRhdGlvbkVsZW1lbnRcbiAgICAgICAgICAgID8gY2xhc3MgZXh0ZW5kcyBGb3VuZGF0aW9uRWxlbWVudCB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHRoaXMsIGVsZW1lbnREZWZpbml0aW9uLCBvdmVycmlkZURlZmluaXRpb24pO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIEZvdW5kYXRpb25FbGVtZW50LnByb3RvdHlwZSwgXCJ0ZW1wbGF0ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgRm91bmRhdGlvbkVsZW1lbnQucHJvdG90eXBlLCBcInN0eWxlc1wiLCB2b2lkIDApO1xuZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbihvcHRpb24sIGNvbnRleHQsIGRlZmluaXRpb24pIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBvcHRpb24oY29udGV4dCwgZGVmaW5pdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb247XG59XG4vKipcbiAqIFJlZ2lzdHJ5IGNhcGFibGUgb2YgZGVmaW5pbmcgcHJlc2VudGF0aW9uIHByb3BlcnRpZXMgZm9yIGEgRE9NIENvbnRhaW5lciBoaWVyYXJjaHkuXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuZXhwb3J0IGNsYXNzIEZvdW5kYXRpb25FbGVtZW50UmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIGVsZW1lbnREZWZpbml0aW9uLCBvdmVycmlkZURlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5lbGVtZW50RGVmaW5pdGlvbiA9IGVsZW1lbnREZWZpbml0aW9uO1xuICAgICAgICB0aGlzLm92ZXJyaWRlRGVmaW5pdGlvbiA9IG92ZXJyaWRlRGVmaW5pdGlvbjtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVsZW1lbnREZWZpbml0aW9uKSwgdGhpcy5vdmVycmlkZURlZmluaXRpb24pO1xuICAgIH1cbiAgICByZWdpc3Rlcihjb250YWluZXIsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHRoaXMuZGVmaW5pdGlvbjtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVEZWZpbml0aW9uID0gdGhpcy5vdmVycmlkZURlZmluaXRpb247XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGRlZmluaXRpb24ucHJlZml4IHx8IGNvbnRleHQuZWxlbWVudFByZWZpeDtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke3ByZWZpeH0tJHtkZWZpbml0aW9uLmJhc2VOYW1lfWA7XG4gICAgICAgIGNvbnRleHQudHJ5RGVmaW5lRWxlbWVudCh7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgYmFzZUNsYXNzOiB0aGlzLmVsZW1lbnREZWZpbml0aW9uLmJhc2VDbGFzcyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB4ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVzZW50YXRpb24gPSBuZXcgRGVmYXVsdENvbXBvbmVudFByZXNlbnRhdGlvbihyZXNvbHZlT3B0aW9uKGRlZmluaXRpb24udGVtcGxhdGUsIHgsIGRlZmluaXRpb24pLCByZXNvbHZlT3B0aW9uKGRlZmluaXRpb24uc3R5bGVzLCB4LCBkZWZpbml0aW9uKSk7XG4gICAgICAgICAgICAgICAgeC5kZWZpbmVQcmVzZW50YXRpb24ocHJlc2VudGF0aW9uKTtcbiAgICAgICAgICAgICAgICBsZXQgc2hhZG93T3B0aW9ucyA9IHJlc29sdmVPcHRpb24oZGVmaW5pdGlvbi5zaGFkb3dPcHRpb25zLCB4LCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoeC5zaGFkb3dSb290TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGVzaWduIHN5c3RlbSBoYXMgb3ZlcnJpZGRlbiB0aGUgc2hhZG93IHJvb3QgbW9kZSwgd2UgbmVlZCBzcGVjaWFsIGhhbmRsaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93T3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHNoYWRvdyBvcHRpb25zIHByZXNlbnQgaW4gdGhlIGRlZmluaXRpb24sIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciB0aGUgY29tcG9uZW50IGl0c2VsZiBoYXMgc3BlY2lmaWVkIGFuIG9wdGlvbiBvciB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ2lzdHJ5IGZ1bmN0aW9uIGhhcyBvdmVycmlkZGVuIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdmVycmlkZURlZmluaXRpb24uc2hhZG93T3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdlcmUgc2hhZG93IG9wdGlvbnMgcHJvdmlkZWQgYnkgdGhlIGNvbXBvbmVudCBhbmQgbm90IG92ZXJyaWRkZW4gYnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVnaXN0cnkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93T3B0aW9ucy5tb2RlID0geC5zaGFkb3dSb290TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFkb3dPcHRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY29tcG9uZW50IGF1dGhvciBkaWQgbm90IHByb3ZpZGUgc2hhZG93IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZGlkIG5vdCBudWxsIHRoZW0gb3V0IChsaWdodCBkb20gb3B0LWluKSB0aGVuIHRoZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlcmUgcmVseWluZyBvbiB0aGUgRkFTVEVsZW1lbnQgZGVmYXVsdC4gU28sIGlmIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVzaWduIHN5c3RlbSBwcm92aWRlcyBhIG1vZGUsIHdlIG5lZWQgdG8gY3JlYXRlIHRoZSBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd09wdGlvbnMgPSB7IG1vZGU6IHguc2hhZG93Um9vdE1vZGUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4LmRlZmluZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50T3B0aW9uczogcmVzb2x2ZU9wdGlvbihkZWZpbml0aW9uLmVsZW1lbnRPcHRpb25zLCB4LCBkZWZpbml0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogcmVzb2x2ZU9wdGlvbihkZWZpbml0aW9uLmF0dHJpYnV0ZXMsIHgsIGRlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiIsImltcG9ydCB7IEF0dHJpYnV0ZUNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbi8qKlxuICogQXBwbHkgbWl4aW5zIHRvIGEgY29uc3RydWN0b3IuXG4gKiBTb3VyY2VkIGZyb20ge0BsaW5rIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL21peGlucy5odG1sIHwgVHlwZVNjcmlwdCBEb2N1bWVudGF0aW9uIH0uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseU1peGlucyhkZXJpdmVkQ3RvciwgLi4uYmFzZUN0b3JzKSB7XG4gICAgY29uc3QgZGVyaXZlZEF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLmxvY2F0ZShkZXJpdmVkQ3Rvcik7XG4gICAgYmFzZUN0b3JzLmZvckVhY2goYmFzZUN0b3IgPT4ge1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlQ3Rvci5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgbmFtZSwgXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2VDdG9yLnByb3RvdHlwZSwgbmFtZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmFzZUF0dHJpYnV0ZXMgPSBBdHRyaWJ1dGVDb25maWd1cmF0aW9uLmxvY2F0ZShiYXNlQ3Rvcik7XG4gICAgICAgIGJhc2VBdHRyaWJ1dGVzLmZvckVhY2goeCA9PiBkZXJpdmVkQXR0cmlidXRlcy5wdXNoKHgpKTtcbiAgICB9KTtcbn1cbiIsIi8qKlxuICogU3RhbmRhcmQgb3JpZW50YXRpb24gdmFsdWVzXG4gKi9cbmV4cG9ydCBjb25zdCBPcmllbnRhdGlvbiA9IHtcbiAgICBob3Jpem9udGFsOiBcImhvcml6b250YWxcIixcbiAgICB2ZXJ0aWNhbDogXCJ2ZXJ0aWNhbFwiLFxufTtcbiIsIi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgYXJyYXkgd2hlcmUgcHJlZGljYXRlIGlzIHRydWUsIGFuZCAtMSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIHRlc3RcbiAqIEBwYXJhbSBwcmVkaWNhdGUgLSBmaW5kIGNhbGxzIHByZWRpY2F0ZSBvbmNlIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5LCBpbiBkZXNjZW5kaW5nIG9yZGVyLCB1bnRpbCBpdCBmaW5kcyBvbmUgd2hlcmUgcHJlZGljYXRlIHJldHVybnMgdHJ1ZS4gSWYgc3VjaCBhbiBlbGVtZW50IGlzIGZvdW5kLCBmaW5kTGFzdEluZGV4IGltbWVkaWF0ZWx5IHJldHVybnMgdGhhdCBlbGVtZW50IGluZGV4LiBPdGhlcndpc2UsIGZpbmRJbmRleCByZXR1cm5zIC0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgbGV0IGsgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGstLSkge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2tdLCBrLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbiIsIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBET00gaXMgYXZhaWxhYmxlIHRvIGFjY2VzcyBhbmQgdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5Vc2VET00oKSB7XG4gICAgcmV0dXJuICEhKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbn1cbiIsImltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gXCJleGVudi1lczZcIjtcbi8qKlxuICogQSB0ZXN0IHRoYXQgZW5zdXJlcyB0aGF0IGFsbCBhcmd1bWVudHMgYXJlIEhUTUwgRWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQoLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLmV2ZXJ5KChhcmcpID0+IGFyZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgZGlzcGxheWVkIGVsZW1lbnRzIGluc2lkZSBvZiBhIHJvb3Qgbm9kZSB0aGF0IG1hdGNoIGEgcHJvdmlkZWQgc2VsZWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3BsYXllZE5vZGVzKHJvb3ROb2RlLCBzZWxlY3Rvcikge1xuICAgIGlmICghcm9vdE5vZGUgfHwgIXNlbGVjdG9yIHx8ICFpc0hUTUxFbGVtZW50KHJvb3ROb2RlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vZGVzID0gQXJyYXkuZnJvbShyb290Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgLy8gb2Zmc2V0UGFyZW50IHdpbGwgYmUgbnVsbCBpZiB0aGUgZWxlbWVudCBpc24ndCBjdXJyZW50bHkgZGlzcGxheWVkLFxuICAgIC8vIHNvIHRoaXMgd2lsbCBhbGxvdyB1cyB0byBvcGVyYXRlIG9ubHkgb24gdmlzaWJsZSBub2Rlc1xuICAgIHJldHVybiBub2Rlcy5maWx0ZXIoKG5vZGUpID0+IG5vZGUub2Zmc2V0UGFyZW50ICE9PSBudWxsKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgbnVtZXJpYyBrZXkgY29kZSBhc3NvY2lhdGVkIHdpdGggYSBrZXlib2FyZCBldmVudC4gVGhpcyBtZXRob2QgaXMgZm9yIHVzZSB3aXRoIERPTSBsZXZlbCAzIGV2ZW50c1xuICogdGhhdCBzdGlsbCB1c2UgdGhlIGRlcHJlY2F0ZWQga2V5Q29kZSBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEtleUNvZGUoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQgPT09IG51bGwgPyBudWxsIDogZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSB8fCBldmVudC5jaGFyQ29kZTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbm9uY2UgdXNlZCBpbiB0aGUgcGFnZSwgaWYgYW55LlxuICpcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9jc3NpbmpzL2pzcy9ibG9iL21hc3Rlci9wYWNrYWdlcy9qc3Mvc3JjL0RvbVJlbmRlcmVyLmpzXG4gKi9cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogVGVzdCBpZiB0aGUgZG9jdW1lbnQgc3VwcG9ydHMgOmZvY3VzLXZpc2libGVcbiAqL1xubGV0IF9jYW5Vc2VGb2N1c1Zpc2libGU7XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlRm9jdXNWaXNpYmxlKCkge1xuICAgIGlmICh0eXBlb2YgX2NhblVzZUZvY3VzVmlzaWJsZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jYW5Vc2VGb2N1c1Zpc2libGU7XG4gICAgfVxuICAgIGlmICghY2FuVXNlRE9NKCkpIHtcbiAgICAgICAgX2NhblVzZUZvY3VzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX2NhblVzZUZvY3VzVmlzaWJsZTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBkb2N1bWVudCBzdXBwb3J0cyB0aGUgZm9jdXMtdmlzaWJsZSBlbGVtZW50XG4gICAgY29uc3Qgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIC8vIElmIG5vbmNlcyBhcmUgcHJlc2VudCBvbiB0aGUgcGFnZSwgdXNlIGl0IHdoZW4gY3JlYXRpbmcgdGhlIHN0eWxlIGVsZW1lbnRcbiAgICAvLyB0byB0ZXN0IGZvY3VzLXZpc2libGUgc3VwcG9ydC5cbiAgICBjb25zdCBzdHlsZU5vbmNlID0gZ2V0Tm9uY2UoKTtcbiAgICBpZiAoc3R5bGVOb25jZSAhPT0gbnVsbCkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgc3R5bGVOb25jZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB0cnkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuc2hlZXQuaW5zZXJ0UnVsZShcImZvbzpmb2N1cy12aXNpYmxlIHtjb2xvcjppbmhlcml0fVwiLCAwKTtcbiAgICAgICAgX2NhblVzZUZvY3VzVmlzaWJsZSA9IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIF9jYW5Vc2VGb2N1c1Zpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIF9jYW5Vc2VGb2N1c1Zpc2libGU7XG59XG5sZXQgX2NhblVzZUNzc0dyaWQ7XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlQ3NzR3JpZCgpIHtcbiAgICBpZiAodHlwZW9mIF9jYW5Vc2VDc3NHcmlkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gX2NhblVzZUNzc0dyaWQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIF9jYW5Vc2VDc3NHcmlkID0gQ1NTLnN1cHBvcnRzKFwiZGlzcGxheVwiLCBcImdyaWRcIik7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICBfY2FuVXNlQ3NzR3JpZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX2NhblVzZUNzc0dyaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlRm9yY2VkQ29sb3JzKCkge1xuICAgIHJldHVybiAoY2FuVXNlRE9NKCkgJiZcbiAgICAgICAgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKGZvcmNlZC1jb2xvcnM6IG5vbmUpXCIpLm1hdGNoZXMgfHxcbiAgICAgICAgICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSlcIikubWF0Y2hlcykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RG9jdW1lbnRDYWNoZSgpIHtcbiAgICBfY2FuVXNlQ3NzR3JpZCA9IHVuZGVmaW5lZDtcbiAgICBfY2FuVXNlRm9jdXNWaXNpYmxlID0gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgJ2NhblVzZUZvcmNlZENvbG9ycycgaW5zdGVhZFxuICovXG5leHBvcnQgY29uc3QgY2FuVXNlZEZvcmNlZENvbG9ycyA9IGNhblVzZUZvcmNlZENvbG9ycztcbiIsIi8qKlxuICogS2V5IENvZGUgdmFsdWVzXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2UgaW5kaXZpZHVhbCBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IHZhciBLZXlDb2RlcztcbihmdW5jdGlvbiAoS2V5Q29kZXMpIHtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImFsdFwiXSA9IDE4XSA9IFwiYWx0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJhcnJvd0Rvd25cIl0gPSA0MF0gPSBcImFycm93RG93blwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiYXJyb3dMZWZ0XCJdID0gMzddID0gXCJhcnJvd0xlZnRcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImFycm93UmlnaHRcIl0gPSAzOV0gPSBcImFycm93UmlnaHRcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImFycm93VXBcIl0gPSAzOF0gPSBcImFycm93VXBcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImJhY2tcIl0gPSA4XSA9IFwiYmFja1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiYmFja1NsYXNoXCJdID0gMjIwXSA9IFwiYmFja1NsYXNoXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJicmVha1wiXSA9IDE5XSA9IFwiYnJlYWtcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImNhcHNMb2NrXCJdID0gMjBdID0gXCJjYXBzTG9ja1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiY2xvc2VCcmFja2V0XCJdID0gMjIxXSA9IFwiY2xvc2VCcmFja2V0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJjb2xvblwiXSA9IDE4Nl0gPSBcImNvbG9uXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJjb2xvbjJcIl0gPSA1OV0gPSBcImNvbG9uMlwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiY29tbWFcIl0gPSAxODhdID0gXCJjb21tYVwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiY3RybFwiXSA9IDE3XSA9IFwiY3RybFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZGVsZXRlXCJdID0gNDZdID0gXCJkZWxldGVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImVuZFwiXSA9IDM1XSA9IFwiZW5kXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJlbnRlclwiXSA9IDEzXSA9IFwiZW50ZXJcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImVxdWFsc1wiXSA9IDE4N10gPSBcImVxdWFsc1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZXF1YWxzMlwiXSA9IDYxXSA9IFwiZXF1YWxzMlwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZXF1YWxzM1wiXSA9IDEwN10gPSBcImVxdWFsczNcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImVzY2FwZVwiXSA9IDI3XSA9IFwiZXNjYXBlXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmb3J3YXJkU2xhc2hcIl0gPSAxOTFdID0gXCJmb3J3YXJkU2xhc2hcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uMVwiXSA9IDExMl0gPSBcImZ1bmN0aW9uMVwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb24xMFwiXSA9IDEyMV0gPSBcImZ1bmN0aW9uMTBcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uMTFcIl0gPSAxMjJdID0gXCJmdW5jdGlvbjExXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjEyXCJdID0gMTIzXSA9IFwiZnVuY3Rpb24xMlwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb24yXCJdID0gMTEzXSA9IFwiZnVuY3Rpb24yXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjNcIl0gPSAxMTRdID0gXCJmdW5jdGlvbjNcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uNFwiXSA9IDExNV0gPSBcImZ1bmN0aW9uNFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb241XCJdID0gMTE2XSA9IFwiZnVuY3Rpb241XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjZcIl0gPSAxMTddID0gXCJmdW5jdGlvbjZcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImZ1bmN0aW9uN1wiXSA9IDExOF0gPSBcImZ1bmN0aW9uN1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wiZnVuY3Rpb244XCJdID0gMTE5XSA9IFwiZnVuY3Rpb244XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJmdW5jdGlvbjlcIl0gPSAxMjBdID0gXCJmdW5jdGlvbjlcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImhvbWVcIl0gPSAzNl0gPSBcImhvbWVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcImluc2VydFwiXSA9IDQ1XSA9IFwiaW5zZXJ0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJtZW51XCJdID0gOTNdID0gXCJtZW51XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJtaW51c1wiXSA9IDE4OV0gPSBcIm1pbnVzXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJtaW51czJcIl0gPSAxMDldID0gXCJtaW51czJcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bUxvY2tcIl0gPSAxNDRdID0gXCJudW1Mb2NrXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQwXCJdID0gOTZdID0gXCJudW1QYWQwXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQxXCJdID0gOTddID0gXCJudW1QYWQxXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQyXCJdID0gOThdID0gXCJudW1QYWQyXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQzXCJdID0gOTldID0gXCJudW1QYWQzXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQ0XCJdID0gMTAwXSA9IFwibnVtUGFkNFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkNVwiXSA9IDEwMV0gPSBcIm51bVBhZDVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bVBhZDZcIl0gPSAxMDJdID0gXCJudW1QYWQ2XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWQ3XCJdID0gMTAzXSA9IFwibnVtUGFkN1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkOFwiXSA9IDEwNF0gPSBcIm51bVBhZDhcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bVBhZDlcIl0gPSAxMDVdID0gXCJudW1QYWQ5XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJudW1QYWREaXZpZGVcIl0gPSAxMTFdID0gXCJudW1QYWREaXZpZGVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm51bVBhZERvdFwiXSA9IDExMF0gPSBcIm51bVBhZERvdFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkTWludXNcIl0gPSAxMDldID0gXCJudW1QYWRNaW51c1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkTXVsdGlwbHlcIl0gPSAxMDZdID0gXCJudW1QYWRNdWx0aXBseVwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wibnVtUGFkUGx1c1wiXSA9IDEwN10gPSBcIm51bVBhZFBsdXNcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIm9wZW5CcmFja2V0XCJdID0gMjE5XSA9IFwib3BlbkJyYWNrZXRcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInBhZ2VEb3duXCJdID0gMzRdID0gXCJwYWdlRG93blwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wicGFnZVVwXCJdID0gMzNdID0gXCJwYWdlVXBcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInBlcmlvZFwiXSA9IDE5MF0gPSBcInBlcmlvZFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wicHJpbnRcIl0gPSA0NF0gPSBcInByaW50XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJxdW90ZVwiXSA9IDIyMl0gPSBcInF1b3RlXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJzY3JvbGxMb2NrXCJdID0gMTQ1XSA9IFwic2Nyb2xsTG9ja1wiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wic2hpZnRcIl0gPSAxNl0gPSBcInNoaWZ0XCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJzcGFjZVwiXSA9IDMyXSA9IFwic3BhY2VcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInRhYlwiXSA9IDldID0gXCJ0YWJcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcInRpbGRlXCJdID0gMTkyXSA9IFwidGlsZGVcIjtcbiAgICBLZXlDb2Rlc1tLZXlDb2Rlc1tcIndpbmRvd3NMZWZ0XCJdID0gOTFdID0gXCJ3aW5kb3dzTGVmdFwiO1xuICAgIEtleUNvZGVzW0tleUNvZGVzW1wid2luZG93c09wZXJhXCJdID0gMjE5XSA9IFwid2luZG93c09wZXJhXCI7XG4gICAgS2V5Q29kZXNbS2V5Q29kZXNbXCJ3aW5kb3dzUmlnaHRcIl0gPSA5Ml0gPSBcIndpbmRvd3NSaWdodFwiO1xufSkoS2V5Q29kZXMgfHwgKEtleUNvZGVzID0ge30pKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUFsdCA9IDE4O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQXJyb3dEb3duID0gNDA7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVBcnJvd0xlZnQgPSAzNztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUFycm93UmlnaHQgPSAzOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUFycm93VXAgPSAzODtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUJhY2sgPSA4O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQmFja1NsYXNoID0gMjIwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQnJlYWsgPSAxOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUNhcHNMb2NrID0gMjA7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVDbG9zZUJyYWNrZXQgPSAyMjE7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVDb2xvbiA9IDE4Njtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUNvbG9uMiA9IDU5OyAvLyBPcGVyYSBhbmQgRmlyZWZveFxuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlQ29tbWEgPSAxODg7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVDdHJsID0gMTc7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVEZWxldGUgPSA0Njtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVuZCA9IDM1O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRW50ZXIgPSAxMztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVxdWFscyA9IDE4Nztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVxdWFsczIgPSA2MTsgLy8gT3BlcmFcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVxdWFsczMgPSAxMDc7IC8vIEZpcmVmb3hcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUVzY2FwZSA9IDI3O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRm9yd2FyZFNsYXNoID0gMTkxO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24xID0gMTEyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24xMCA9IDEyMTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZUZ1bmN0aW9uMTEgPSAxMjI7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVGdW5jdGlvbjEyID0gMTIzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24yID0gMTEzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb24zID0gMTE0O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb240ID0gMTE1O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb241ID0gMTE2O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb242ID0gMTE3O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb243ID0gMTE4O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb244ID0gMTE5O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlRnVuY3Rpb245ID0gMTIwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlSG9tZSA9IDM2O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlSW5zZXJ0ID0gNDU7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVNZW51ID0gOTM7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVNaW51cyA9IDE4OTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU1pbnVzMiA9IDEwOTsgLy8gT3BlcmEgYW5kIEZpcmVmb3hcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bUxvY2sgPSAxNDQ7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQwID0gOTY7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQxID0gOTc7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQyID0gOTg7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQzID0gOTk7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQ0ID0gMTAwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlTnVtUGFkNSA9IDEwMTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bVBhZDYgPSAxMDI7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWQ3ID0gMTAzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlTnVtUGFkOCA9IDEwNDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bVBhZDkgPSAxMDU7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWREaXZpZGUgPSAxMTE7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWREb3QgPSAxMTA7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVOdW1QYWRNaW51cyA9IDEwOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU51bVBhZE11bHRpcGx5ID0gMTA2O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlTnVtUGFkUGx1cyA9IDEwNztcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZU9wZW5CcmFja2V0ID0gMjE5O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlUGFnZURvd24gPSAzNDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVBhZ2VVcCA9IDMzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlUGVyaW9kID0gMTkwO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlUHJpbnQgPSA0NDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVF1b3RlID0gMjIyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlU2Nyb2xsTG9jayA9IDE0NTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVNoaWZ0ID0gMTY7XG4vKipcbiAqIEBkZXByZWNhdGVkIC0gS2V5Q29kZXMgYXJlIGRlcHJlY2F0ZWQsIHVzZSBzdHJpbmcga2V5IGV4cG9ydHNcbiAqL1xuZXhwb3J0IGNvbnN0IGtleUNvZGVTcGFjZSA9IDMyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlVGFiID0gOTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVRpbGRlID0gMTkyO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCAtIEtleUNvZGVzIGFyZSBkZXByZWNhdGVkLCB1c2Ugc3RyaW5nIGtleSBleHBvcnRzXG4gKi9cbmV4cG9ydCBjb25zdCBrZXlDb2RlV2luZG93c0xlZnQgPSA5MTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVdpbmRvd3NPcGVyYSA9IDIxOTsgLy8gT3BlcmFcbi8qKlxuICogQGRlcHJlY2F0ZWQgLSBLZXlDb2RlcyBhcmUgZGVwcmVjYXRlZCwgdXNlIHN0cmluZyBrZXkgZXhwb3J0c1xuICovXG5leHBvcnQgY29uc3Qga2V5Q29kZVdpbmRvd3NSaWdodCA9IDkyO1xuLyoqXG4gKiBTdHJpbmcgdmFsdWVzIGZvciB1c2Ugd2l0aCBLZXlib2FyZEV2ZW50LmtleVxuICovXG5leHBvcnQgY29uc3Qga2V5QXJyb3dEb3duID0gXCJBcnJvd0Rvd25cIjtcbmV4cG9ydCBjb25zdCBrZXlBcnJvd0xlZnQgPSBcIkFycm93TGVmdFwiO1xuZXhwb3J0IGNvbnN0IGtleUFycm93UmlnaHQgPSBcIkFycm93UmlnaHRcIjtcbmV4cG9ydCBjb25zdCBrZXlBcnJvd1VwID0gXCJBcnJvd1VwXCI7XG5leHBvcnQgY29uc3Qga2V5RW50ZXIgPSBcIkVudGVyXCI7XG5leHBvcnQgY29uc3Qga2V5RXNjYXBlID0gXCJFc2NhcGVcIjtcbmV4cG9ydCBjb25zdCBrZXlIb21lID0gXCJIb21lXCI7XG5leHBvcnQgY29uc3Qga2V5RW5kID0gXCJFbmRcIjtcbmV4cG9ydCBjb25zdCBrZXlGdW5jdGlvbjIgPSBcIkYyXCI7XG5leHBvcnQgY29uc3Qga2V5UGFnZURvd24gPSBcIlBhZ2VEb3duXCI7XG5leHBvcnQgY29uc3Qga2V5UGFnZVVwID0gXCJQYWdlVXBcIjtcbmV4cG9ydCBjb25zdCBrZXlTcGFjZSA9IFwiIFwiO1xuZXhwb3J0IGNvbnN0IGtleVRhYiA9IFwiVGFiXCI7XG5leHBvcnQgY29uc3Qga2V5QmFja3NwYWNlID0gXCJCYWNrc3BhY2VcIjtcbmV4cG9ydCBjb25zdCBrZXlEZWxldGUgPSBcIkRlbGV0ZVwiO1xuZXhwb3J0IGNvbnN0IEFycm93S2V5cyA9IHtcbiAgICBBcnJvd0Rvd246IGtleUFycm93RG93bixcbiAgICBBcnJvd0xlZnQ6IGtleUFycm93TGVmdCxcbiAgICBBcnJvd1JpZ2h0OiBrZXlBcnJvd1JpZ2h0LFxuICAgIEFycm93VXA6IGtleUFycm93VXAsXG59O1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCBrZWVwcyBhIGdpdmVuIHZhbHVlIHdpdGhpbiB0aGUgYm91bmRzIG9mIGEgbWluIGFuZCBtYXggdmFsdWUuIElmIHRoZSB2YWx1ZVxuICogaXMgbGFyZ2VyIHRoYW4gdGhlIG1heCwgdGhlIG1pbmltdW0gdmFsdWUgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhlIHZhbHVlIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSxcbiAqIHRoZSBtYXhpbXVtIHdpbGwgYmUgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIHZhbHVlIGlzIHJldHVybmVkIHVuLWNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSW5Cb3VuZHMobWluLCBtYXgsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID4gbWF4KSB7XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogRW5zdXJlcyB0aGF0IGEgdmFsdWUgaXMgYmV0d2VlbiBhIG1pbiBhbmQgbWF4IHZhbHVlLiBJZiB2YWx1ZSBpcyBsb3dlciB0aGFuIG1pbiwgbWluIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBJZiB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gbWF4LCBtYXggd2lsbCBiZSByZXR1cm5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbWl0KG1pbiwgbWF4LCB2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIG51bWJlciB2YWx1ZSBpcyB3aXRoaW4gYSBzcGVjaWZpZWQgcmFuZ2UuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNoZWNrXG4gKiBAcGFyYW0gbWluIC0gdGhlIHJhbmdlIHN0YXJ0XG4gKiBAcGFyYW0gbWF4IC0gdGhlIHJhbmdlIGVuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5SYW5nZSh2YWx1ZSwgbWluLCBtYXggPSAwKSB7XG4gICAgW21pbiwgbWF4XSA9IFttaW4sIG1heF0uc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgIHJldHVybiBtaW4gPD0gdmFsdWUgJiYgdmFsdWUgPCBtYXg7XG59XG4iLCJsZXQgdW5pcXVlSWRDb3VudGVyID0gMDtcbi8qKlxuICogR2VuZXJhdGVzIGEgdW5pcXVlIElEIGJhc2VkIG9uIGluY3JlbWVudGluZyBhIGNvdW50ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXggPSBcIlwiKSB7XG4gICAgcmV0dXJuIGAke3ByZWZpeH0ke3VuaXF1ZUlkQ291bnRlcisrfWA7XG59XG4vKipcbiAqIEJ1aWxkcyBhIHN0cmluZyBmcm9tIGEgZm9ybWF0IHNwZWNpZmllciBhbmQgcmVwbGFjZW1lbnQgcGFyYW1ldGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChmb3JtYXRTcGVjaWZpZXIsIC4uLnBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gZm9ybWF0U3BlY2lmaWVyLnJlcGxhY2UoL3soXFxkKyl9L2csIGZ1bmN0aW9uIChtYXRjaCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID49IHBhcmFtZXRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbWV0ZXJzW2luZGV4XTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIG9uZSBzdHJpbmcgc3RhcnRzIHdpdGggYW5vdGhlclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmdUb1NlYXJjaCwgc2VhcmNoRm9yLCBwb3NpdGlvbiA9IDApIHtcbiAgICBpZiAoIXN0cmluZ1RvU2VhcmNoIHx8ICFzZWFyY2hGb3IpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nVG9TZWFyY2guc3Vic3RyKHBvc2l0aW9uLCBzZWFyY2hGb3IubGVuZ3RoKSA9PT0gc2VhcmNoRm9yO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBzcGVjaWZpZWQgc3RyaW5nIGlzIHVuZGVmaW5lZCwgbnVsbCwgZW1wdHksIG9yIHdoaXRlc3BhY2UuXG4gKiBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG51bGwsIGVtcHR5LCBvciB3aGl0ZXNwYWNlLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc051bGxPcldoaXRlU3BhY2UodmFsdWUpIHtcbiAgICByZXR1cm4gIXZhbHVlIHx8ICF2YWx1ZS50cmltKCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIFBhc2NhbCBDYXNlXG4gKiB3aGVyZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggY29tcG91bmQgd29yZCBpcyBjYXBpdGFsaXplZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhc2NhbENhc2UodmFsdWUpIHtcbiAgICBsZXQgbmV3VmFsdWUgPSBgJHt2YWx1ZX1gXG4gICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoL1stX10rLywgXCJnXCIpLCBcIiBcIilcbiAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgvW15cXHdcXHNdLywgXCJnXCIpLCBcIlwiKVxuICAgICAgICAucmVwbGFjZSgvXlxccyt8XFxzKyR8XFxzKyg/PVxccykvZywgXCJcIilcbiAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgvXFxzKyguKShcXHcqKS8sIFwiZ1wiKSwgKCQxLCAkMiwgJDMpID0+IGAkeyQyLnRvVXBwZXJDYXNlKCkgKyAkMy50b0xvd2VyQ2FzZSgpfWApXG4gICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoL1xcdy8pLCBzID0+IHMudG9VcHBlckNhc2UoKSk7XG4gICAgbGV0IGZpcnN0TG93ZXJJZHggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VyckNoYXIgPSBuZXdWYWx1ZS5jaGFyQXQoaSk7XG4gICAgICAgIGlmIChjdXJyQ2hhciA9PSBjdXJyQ2hhci50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBmaXJzdExvd2VySWR4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmaXJzdExvd2VySWR4ID4gMSkge1xuICAgICAgICBuZXdWYWx1ZSA9XG4gICAgICAgICAgICBgJHtuZXdWYWx1ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke25ld1ZhbHVlXG4gICAgICAgICAgICAgICAgLnNsaWNlKDEsIGZpcnN0TG93ZXJJZHggLSAxKVxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpfWAgKyBuZXdWYWx1ZS5zbGljZShmaXJzdExvd2VySWR4IC0gMSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbi8qKlxuICogY29udmVydHMgYSBzdHJpbmcgZnJvbSBjYW1lbENhc2Ugb3IgcGFzY2FsQ2FzZSB0byBzcGluYWwtY2FzZVxuICogd2hpY2ggaXMgYW4gbG93ZXJjYXNlIGRhc2ggc2VwYXJhdGVkIG5hbWluZyBzdHlsZS5cbiAqXG4gKiBBbiBleGFtcGxlIG9mIHNwaW5hbCBjYXNlOiBmb28tYmFyLWJhdFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BpbmFsQ2FzZSh2YWx1ZSkge1xuICAgIGNvbnN0IHZhbHVlV2l0aExvd2VyQ2FzZUZpcnN0TGV0dGVyID0gYCR7dmFsdWVcbiAgICAgICAgLmNoYXJBdCgwKVxuICAgICAgICAudG9Mb3dlckNhc2UoKX0ke3ZhbHVlLnNsaWNlKDEpfWA7XG4gICAgcmV0dXJuIHZhbHVlV2l0aExvd2VyQ2FzZUZpcnN0TGV0dGVyLnJlcGxhY2UoLyhbQS1aXXxbMC05XSkvZywgZnVuY3Rpb24gKG1hdGNoLCBncm91cDEpIHtcbiAgICAgICAgcmV0dXJuIGAtJHtncm91cDEudG9Mb3dlckNhc2UoKX1gO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuLyoqXG4gKiBTb21lIHN0YXRlcyBhbmQgcHJvcGVydGllcyBhcmUgYXBwbGljYWJsZSB0byBhbGwgaG9zdCBsYW5ndWFnZSBlbGVtZW50cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgYSByb2xlIGlzIGFwcGxpZWQuXG4gKiBUaGUgZm9sbG93aW5nIGdsb2JhbCBzdGF0ZXMgYW5kIHByb3BlcnRpZXMgYXJlIHN1cHBvcnRlZCBieSBhbGwgcm9sZXMgYW5kIGJ5IGFsbCBiYXNlIG1hcmt1cCBlbGVtZW50cy5cbiAqIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNnbG9iYWxfc3RhdGVzfVxuICpcbiAqIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBhcyBhIG1peGluLiBCZSBzdXJlIHlvdSBleHRlbmQgRkFTVEVsZW1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMge1xufVxuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWF0b21pY1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUF0b21pY1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWJ1c3lcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFCdXN5XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtY29udHJvbHNcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFDb250cm9sc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWN1cnJlbnRcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFDdXJyZW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtZGVzY3JpYmVkYnlcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFEZXNjcmliZWRieVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWRldGFpbHNcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFEZXRhaWxzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtZGlzYWJsZWRcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFEaXNhYmxlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWVycm9ybWVzc2FnZVwiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUVycm9ybWVzc2FnZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWZsb3d0b1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUZsb3d0b1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWhhc3BvcHVwXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhSGFzcG9wdXBcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1oaWRkZW5cIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFIaWRkZW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1pbnZhbGlkXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhSW52YWxpZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWtleXNob3J0Y3V0c1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYUtleXNob3J0Y3V0c1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWxhYmVsXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhTGFiZWxcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1sYWJlbGxlZGJ5XCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhTGFiZWxsZWRieVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWxpdmVcIiB9KVxuXSwgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMucHJvdG90eXBlLCBcImFyaWFMaXZlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtb3duc1wiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYU93bnNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwiYXJpYS1yZWxldmFudFwiIH0pXG5dLCBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcy5wcm90b3R5cGUsIFwiYXJpYVJlbGV2YW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCIgfSlcbl0sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzLnByb3RvdHlwZSwgXCJhcmlhUm9sZWRlc2NyaXB0aW9uXCIsIHZvaWQgMCk7XG4iLCJpbXBvcnQgeyBodG1sLCByZWYsIHNsb3R0ZWQgfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbmltcG9ydCB7IGVuZFNsb3RUZW1wbGF0ZSwgc3RhcnRTbG90VGVtcGxhdGUgfSBmcm9tIFwiLi4vcGF0dGVybnMvc3RhcnQtZW5kLmpzXCI7XG4vKipcbiAqIFRoZSB0ZW1wbGF0ZSBmb3IgdGhlIHtAbGluayBAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbiMoQnV0dG9uOmNsYXNzKX0gY29tcG9uZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYnV0dG9uVGVtcGxhdGUgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gaHRtbCBgXG4gICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cImNvbnRyb2xcIlxuICAgICAgICBwYXJ0PVwiY29udHJvbFwiXG4gICAgICAgID9hdXRvZm9jdXM9XCIke3ggPT4geC5hdXRvZm9jdXN9XCJcbiAgICAgICAgP2Rpc2FibGVkPVwiJHt4ID0+IHguZGlzYWJsZWR9XCJcbiAgICAgICAgZm9ybT1cIiR7eCA9PiB4LmZvcm1JZH1cIlxuICAgICAgICBmb3JtYWN0aW9uPVwiJHt4ID0+IHguZm9ybWFjdGlvbn1cIlxuICAgICAgICBmb3JtZW5jdHlwZT1cIiR7eCA9PiB4LmZvcm1lbmN0eXBlfVwiXG4gICAgICAgIGZvcm1tZXRob2Q9XCIke3ggPT4geC5mb3JtbWV0aG9kfVwiXG4gICAgICAgIGZvcm1ub3ZhbGlkYXRlPVwiJHt4ID0+IHguZm9ybW5vdmFsaWRhdGV9XCJcbiAgICAgICAgZm9ybXRhcmdldD1cIiR7eCA9PiB4LmZvcm10YXJnZXR9XCJcbiAgICAgICAgbmFtZT1cIiR7eCA9PiB4Lm5hbWV9XCJcbiAgICAgICAgdHlwZT1cIiR7eCA9PiB4LnR5cGV9XCJcbiAgICAgICAgdmFsdWU9XCIke3ggPT4geC52YWx1ZX1cIlxuICAgICAgICBhcmlhLWF0b21pYz1cIiR7eCA9PiB4LmFyaWFBdG9taWN9XCJcbiAgICAgICAgYXJpYS1idXN5PVwiJHt4ID0+IHguYXJpYUJ1c3l9XCJcbiAgICAgICAgYXJpYS1jb250cm9scz1cIiR7eCA9PiB4LmFyaWFDb250cm9sc31cIlxuICAgICAgICBhcmlhLWN1cnJlbnQ9XCIke3ggPT4geC5hcmlhQ3VycmVudH1cIlxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiJHt4ID0+IHguYXJpYURlc2NyaWJlZGJ5fVwiXG4gICAgICAgIGFyaWEtZGV0YWlscz1cIiR7eCA9PiB4LmFyaWFEZXRhaWxzfVwiXG4gICAgICAgIGFyaWEtZGlzYWJsZWQ9XCIke3ggPT4geC5hcmlhRGlzYWJsZWR9XCJcbiAgICAgICAgYXJpYS1lcnJvcm1lc3NhZ2U9XCIke3ggPT4geC5hcmlhRXJyb3JtZXNzYWdlfVwiXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCIke3ggPT4geC5hcmlhRXhwYW5kZWR9XCJcbiAgICAgICAgYXJpYS1mbG93dG89XCIke3ggPT4geC5hcmlhRmxvd3RvfVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCIke3ggPT4geC5hcmlhSGFzcG9wdXB9XCJcbiAgICAgICAgYXJpYS1oaWRkZW49XCIke3ggPT4geC5hcmlhSGlkZGVufVwiXG4gICAgICAgIGFyaWEtaW52YWxpZD1cIiR7eCA9PiB4LmFyaWFJbnZhbGlkfVwiXG4gICAgICAgIGFyaWEta2V5c2hvcnRjdXRzPVwiJHt4ID0+IHguYXJpYUtleXNob3J0Y3V0c31cIlxuICAgICAgICBhcmlhLWxhYmVsPVwiJHt4ID0+IHguYXJpYUxhYmVsfVwiXG4gICAgICAgIGFyaWEtbGFiZWxsZWRieT1cIiR7eCA9PiB4LmFyaWFMYWJlbGxlZGJ5fVwiXG4gICAgICAgIGFyaWEtbGl2ZT1cIiR7eCA9PiB4LmFyaWFMaXZlfVwiXG4gICAgICAgIGFyaWEtb3ducz1cIiR7eCA9PiB4LmFyaWFPd25zfVwiXG4gICAgICAgIGFyaWEtcHJlc3NlZD1cIiR7eCA9PiB4LmFyaWFQcmVzc2VkfVwiXG4gICAgICAgIGFyaWEtcmVsZXZhbnQ9XCIke3ggPT4geC5hcmlhUmVsZXZhbnR9XCJcbiAgICAgICAgYXJpYS1yb2xlZGVzY3JpcHRpb249XCIke3ggPT4geC5hcmlhUm9sZWRlc2NyaXB0aW9ufVwiXG4gICAgICAgICR7cmVmKFwiY29udHJvbFwiKX1cbiAgICA+XG4gICAgICAgICR7c3RhcnRTbG90VGVtcGxhdGUoY29udGV4dCwgZGVmaW5pdGlvbil9XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY29udGVudFwiIHBhcnQ9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8c2xvdCAke3Nsb3R0ZWQoXCJkZWZhdWx0U2xvdHRlZENvbnRlbnRcIil9Pjwvc2xvdD5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICAke2VuZFNsb3RUZW1wbGF0ZShjb250ZXh0LCBkZWZpbml0aW9uKX1cbiAgICA8L2J1dHRvbj5cbmA7XG4iLCJpbXBvcnQgeyBhdHRyLCBib29sZWFuQ29udmVydGVyLCBET00sIGVtcHR5QXJyYXksIG9ic2VydmFibGUsIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBrZXlFbnRlciB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuY29uc3QgcHJveHlTbG90TmFtZSA9IFwiZm9ybS1hc3NvY2lhdGVkLXByb3h5XCI7XG5jb25zdCBFbGVtZW50SW50ZXJuYWxzS2V5ID0gXCJFbGVtZW50SW50ZXJuYWxzXCI7XG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3Qgc3VwcG9ydHNFbGVtZW50SW50ZXJuYWxzID0gRWxlbWVudEludGVybmFsc0tleSBpbiB3aW5kb3cgJiZcbiAgICBcInNldEZvcm1WYWx1ZVwiIGluIHdpbmRvd1tFbGVtZW50SW50ZXJuYWxzS2V5XS5wcm90b3R5cGU7XG5jb25zdCBJbnRlcm5hbHNNYXAgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBCYXNlIGZ1bmN0aW9uIGZvciBwcm92aWRpbmcgQ3VzdG9tIEVsZW1lbnQgRm9ybSBBc3NvY2lhdGlvbi5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZvcm1Bc3NvY2lhdGVkKEJhc2VDdG9yKSB7XG4gICAgY29uc3QgQyA9IGNsYXNzIGV4dGVuZHMgQmFzZUN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJhY2sgd2hldGhlciB0aGUgdmFsdWUgaGFzIGJlZW4gY2hhbmdlZCBmcm9tIHRoZSBpbml0aWFsIHZhbHVlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIHRoZSBlbGVtZW50J3MgZGlzYWJsZWQgc3RhdGUuIEEgZGlzYWJsZWQgZWxlbWVudCB3aWxsIG5vdCBiZSBpbmNsdWRlZCBkdXJpbmcgZm9ybSBzdWJtaXNzaW9uLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAgICAgKiBIVE1MIEF0dHJpYnV0ZTogZGlzYWJsZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGVzZSBhcmUgZXZlbnRzIHRoYXQgYXJlIHN0aWxsIGZpcmVkIGJ5IHRoZSBwcm94eVxuICAgICAgICAgICAgICogZWxlbWVudCBiYXNlZCBvbiB1c2VyIC8gcHJvZ3JhbW1hdGljIGludGVyYWN0aW9uLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRoZSBwcm94eSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgYmUgdHJhbnNwYXJlbnQgdG9cbiAgICAgICAgICAgICAqIHRoZSBhcHAgYXV0aG9yLCBzbyBibG9jayB0aGVzZSBldmVudHMgZnJvbSBlbWl0dGluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5wcm94eUV2ZW50c1RvQmxvY2sgPSBbXCJjaGFuZ2VcIiwgXCJjbGlja1wiXTtcbiAgICAgICAgICAgIHRoaXMucHJveHlJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSB0aGlzLmluaXRpYWxWYWx1ZSB8fCBcIlwiO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRJbnRlcm5hbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIGVsZW1lbnRJbnRlcm5hbHMgaXMgbm90IHN1cHBvcnRlZCwgZm9ybVJlc2V0Q2FsbGJhY2sgaXNcbiAgICAgICAgICAgICAgICAvLyBib3VuZCB0byBhbiBldmVudCBsaXN0ZW5lciwgc28gZW5zdXJlIHRoZSBoYW5kbGVyJ3MgYHRoaXNgXG4gICAgICAgICAgICAgICAgLy8gY29udGV4dCBpcyBjb3JyZWN0LlxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybVJlc2V0Q2FsbGJhY2sgPSB0aGlzLmZvcm1SZXNldENhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11c3QgZXZhbHVhdGUgdG8gdHJ1ZSB0byBlbmFibGUgZWxlbWVudEludGVybmFscy5cbiAgICAgICAgICogRmVhdHVyZSBkZXRlY3RzIEFQSSBzdXBwb3J0IGFuZCByZXNvbHZlIHJlc3BlY3RpdmVseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBnZXQgZm9ybUFzc29jaWF0ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwcG9ydHNFbGVtZW50SW50ZXJuYWxzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB2YWxpZGl0eSBzdGF0ZSBvZiB0aGUgZWxlbWVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAYWxwaGFcbiAgICAgICAgICovXG4gICAgICAgIGdldCB2YWxpZGl0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnRlcm5hbHNcbiAgICAgICAgICAgICAgICA/IHRoaXMuZWxlbWVudEludGVybmFscy52YWxpZGl0eVxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm94eS52YWxpZGl0eTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmUgYSByZWZlcmVuY2UgdG8gdGhlIGFzc29jaWF0ZWQgZm9ybS5cbiAgICAgICAgICogUmV0dXJucyBudWxsIGlmIG5vdCBhc3NvY2lhdGVkIHRvIGFueSBmb3JtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAYWxwaGFcbiAgICAgICAgICovXG4gICAgICAgIGdldCBmb3JtKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFscyA/IHRoaXMuZWxlbWVudEludGVybmFscy5mb3JtIDogdGhpcy5wcm94eS5mb3JtO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgbG9jYWxpemVkIHZhbGlkYXRpb24gbWVzc2FnZSxcbiAgICAgICAgICogb3IgY3VzdG9tIHZhbGlkYXRpb24gbWVzc2FnZSBpZiBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBhbHBoYVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHZhbGlkYXRpb25NZXNzYWdlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFsc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50SW50ZXJuYWxzLnZhbGlkYXRpb25NZXNzYWdlXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3h5LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBlbGVtZW50IHdpbGwgYmUgdmFsaWRhdGVkIHdoZW4gdGhlXG4gICAgICAgICAqIGZvcm0gaXMgc3VibWl0dGVkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgd2lsbFZhbGlkYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFsc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50SW50ZXJuYWxzLndpbGxWYWxpZGF0ZVxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm94eS53aWxsVmFsaWRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIGFsbCBhc3NvY2lhdGVkIGxhYmVsIGVsZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgbGFiZWxzKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEludGVybmFscykge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKEFycmF5LmZyb20odGhpcy5lbGVtZW50SW50ZXJuYWxzLmxhYmVscykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5vd25lckRvY3VtZW50ICYmXG4gICAgICAgICAgICAgICAgdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIC8vIExhYmVscyBhc3NvY2lhdGVkIGJ5IHdyYXBwaW5nIHRoZSBlbGVtZW50OiA8bGFiZWw+PGN1c3RvbS1lbGVtZW50PjwvY3VzdG9tLWVsZW1lbnQ+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRMYWJlbHMgPSB0aGlzLnByb3h5LmxhYmVscztcbiAgICAgICAgICAgICAgICAvLyBMYWJlbHMgYXNzb2NpYXRlZCB1c2luZyB0aGUgYGZvcmAgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgY29uc3QgZm9yTGFiZWxzID0gQXJyYXkuZnJvbSh0aGlzLnByb3h5LmdldFJvb3ROb2RlKCkucXVlcnlTZWxlY3RvckFsbChgW2Zvcj0nJHt0aGlzLmlkfSddYCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVscyA9IHBhcmVudExhYmVsc1xuICAgICAgICAgICAgICAgICAgICA/IGZvckxhYmVscy5jb25jYXQoQXJyYXkuZnJvbShwYXJlbnRMYWJlbHMpKVxuICAgICAgICAgICAgICAgICAgICA6IGZvckxhYmVscztcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShsYWJlbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgYHZhbHVlYCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICAgICAqIEBwYXJhbSBwcmV2aW91cyAtIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgZWxlbWVudHMgZXh0ZW5kaW5nIGBGb3JtQXNzb2NpYXRlZGAgaW1wbGVtZW50IGEgYHZhbHVlQ2hhbmdlZGAgbWV0aG9kXG4gICAgICAgICAqIFRoZXkgbXVzdCBiZSBzdXJlIHRvIGludm9rZSBgc3VwZXIudmFsdWVDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KWAgdG8gZW5zdXJlXG4gICAgICAgICAqIHByb3BlciBmdW5jdGlvbmluZyBvZiBgRm9ybUFzc29jaWF0ZWRgXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZUNoYW5nZWQocHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnNldEZvcm1WYWx1ZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50VmFsdWVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuY3VycmVudFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGBpbml0aWFsVmFsdWVgIHByb3BlcnR5IGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZXZpb3VzIC0gdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBlbGVtZW50cyBleHRlbmRpbmcgYEZvcm1Bc3NvY2lhdGVkYCBpbXBsZW1lbnQgYSBgaW5pdGlhbFZhbHVlQ2hhbmdlZGAgbWV0aG9kXG4gICAgICAgICAqIFRoZXkgbXVzdCBiZSBzdXJlIHRvIGludm9rZSBgc3VwZXIuaW5pdGlhbFZhbHVlQ2hhbmdlZChwcmV2aW91cywgbmV4dClgIHRvIGVuc3VyZVxuICAgICAgICAgKiBwcm9wZXIgZnVuY3Rpb25pbmcgb2YgYEZvcm1Bc3NvY2lhdGVkYFxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdGlhbFZhbHVlQ2hhbmdlZChwcmV2aW91cywgbmV4dCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGNsZWFuIGFuZCB0aGUgY29tcG9uZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgRE9NXG4gICAgICAgICAgICAvLyB0aGVuIHNldCB2YWx1ZSBlcXVhbCB0byB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgICAgICAgaWYgKCF0aGlzLmRpcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbml0aWFsVmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eVZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgYGRpc2FibGVkYCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwcmV2aW91cyAtIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgZWxlbWVudHMgZXh0ZW5kaW5nIGBGb3JtQXNzb2NpYXRlZGAgaW1wbGVtZW50IGEgYGRpc2FibGVkQ2hhbmdlZGAgbWV0aG9kXG4gICAgICAgICAqIFRoZXkgbXVzdCBiZSBzdXJlIHRvIGludm9rZSBgc3VwZXIuZGlzYWJsZWRDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KWAgdG8gZW5zdXJlXG4gICAgICAgICAqIHByb3BlciBmdW5jdGlvbmluZyBvZiBgRm9ybUFzc29jaWF0ZWRgXG4gICAgICAgICAqL1xuICAgICAgICBkaXNhYmxlZENoYW5nZWQocHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlZFwiLCB0aGlzLmRpc2FibGVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiB0aGUgYG5hbWVgIHByb3BlcnR5IGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZXZpb3VzIC0gdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBlbGVtZW50cyBleHRlbmRpbmcgYEZvcm1Bc3NvY2lhdGVkYCBpbXBsZW1lbnQgYSBgbmFtZUNoYW5nZWRgIG1ldGhvZFxuICAgICAgICAgKiBUaGV5IG11c3QgYmUgc3VyZSB0byBpbnZva2UgYHN1cGVyLm5hbWVDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KWAgdG8gZW5zdXJlXG4gICAgICAgICAqIHByb3BlciBmdW5jdGlvbmluZyBvZiBgRm9ybUFzc29jaWF0ZWRgXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lQ2hhbmdlZChwcmV2aW91cywgbmV4dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHkubmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlZCB3aGVuIHRoZSBgcmVxdWlyZWRgIHByb3BlcnR5IGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZXZpb3VzIC0gdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgKiBJZiBlbGVtZW50cyBleHRlbmRpbmcgYEZvcm1Bc3NvY2lhdGVkYCBpbXBsZW1lbnQgYSBgcmVxdWlyZWRDaGFuZ2VkYCBtZXRob2RcbiAgICAgICAgICogVGhleSBtdXN0IGJlIHN1cmUgdG8gaW52b2tlIGBzdXBlci5yZXF1aXJlZENoYW5nZWQocHJldmlvdXMsIG5leHQpYCB0byBlbnN1cmVcbiAgICAgICAgICogcHJvcGVyIGZ1bmN0aW9uaW5nIG9mIGBGb3JtQXNzb2NpYXRlZGBcbiAgICAgICAgICovXG4gICAgICAgIHJlcXVpcmVkQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5yZXF1aXJlZCA9IHRoaXMucmVxdWlyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4gdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwicmVxdWlyZWRcIiwgdGhpcy5yZXF1aXJlZCkpO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZWxlbWVudCBpbnRlcm5hbHMgb2JqZWN0LiBXaWxsIG9ubHkgZXhpc3RcbiAgICAgICAgICogaW4gYnJvd3NlcnMgc3VwcG9ydGluZyB0aGUgYXR0YWNoSW50ZXJuYWxzIEFQSVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGVsZW1lbnRJbnRlcm5hbHMoKSB7XG4gICAgICAgICAgICBpZiAoIXN1cHBvcnRzRWxlbWVudEludGVybmFscykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGludGVybmFscyA9IEludGVybmFsc01hcC5nZXQodGhpcyk7XG4gICAgICAgICAgICBpZiAoIWludGVybmFscykge1xuICAgICAgICAgICAgICAgIGludGVybmFscyA9IHRoaXMuYXR0YWNoSW50ZXJuYWxzKCk7XG4gICAgICAgICAgICAgICAgSW50ZXJuYWxzTWFwLnNldCh0aGlzLCBpbnRlcm5hbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFscztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCB0aGlzLl9rZXlwcmVzc0hhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRJbnRlcm5hbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaFByb3h5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIHRoaXMuZm9ybVJlc2V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzLnByb3h5RXZlbnRzVG9CbG9jay5mb3JFYWNoKG5hbWUgPT4gdGhpcy5wcm94eS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHRoaXMuc3RvcFByb3BhZ2F0aW9uKSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWxlbWVudEludGVybmFscyAmJiB0aGlzLmZvcm0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIHRoaXMuZm9ybVJlc2V0Q2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgdmFsaWRpdHkgb2YgdGhlIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjaGVja1ZhbGlkaXR5KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEludGVybmFsc1xuICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50SW50ZXJuYWxzLmNoZWNrVmFsaWRpdHkoKVxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm94eS5jaGVja1ZhbGlkaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiB0aGUgY3VycmVudCB2YWxpZGl0eSBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgICogSWYgZmFsc2UsIGZpcmVzIGFuIGludmFsaWQgZXZlbnQgYXQgdGhlIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICByZXBvcnRWYWxpZGl0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJbnRlcm5hbHNcbiAgICAgICAgICAgICAgICA/IHRoaXMuZWxlbWVudEludGVybmFscy5yZXBvcnRWYWxpZGl0eSgpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3h5LnJlcG9ydFZhbGlkaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgdmFsaWRpdHkgb2YgdGhlIGNvbnRyb2wuIEluIGNhc2VzIHdoZW4gdGhlIGVsZW1lbnRJbnRlcm5hbHMgb2JqZWN0IGlzIG5vdFxuICAgICAgICAgKiBhdmFpbGFibGUgKGFuZCB0aGUgcHJveHkgZWxlbWVudCBpcyB1c2VkIHRvIHJlcG9ydCB2YWxpZGl0eSksIHRoaXMgZnVuY3Rpb24gd2lsbFxuICAgICAgICAgKiBkbyBub3RoaW5nIHVubGVzcyBhIG1lc3NhZ2UgaXMgcHJvdmlkZWQsIGF0IHdoaWNoIHBvaW50IHRoZSBzZXRDdXN0b21WYWxpZGl0eSBtZXRob2RcbiAgICAgICAgICogb2YgdGhlIHByb3h5IGVsZW1lbnQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIHByb3ZpZGVkIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSBmbGFncyAtIFZhbGlkaXR5IGZsYWdzXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gT3B0aW9uYWwgbWVzc2FnZSB0byBzdXBwbHlcbiAgICAgICAgICogQHBhcmFtIGFuY2hvciAtIE9wdGlvbmFsIGVsZW1lbnQgdXNlZCBieSBVQSB0byBkaXNwbGF5IGFuIGludGVyYWN0aXZlIHZhbGlkYXRpb24gVUlcbiAgICAgICAgICovXG4gICAgICAgIHNldFZhbGlkaXR5KGZsYWdzLCBtZXNzYWdlLCBhbmNob3IpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRJbnRlcm5hbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRJbnRlcm5hbHMuc2V0VmFsaWRpdHkoZmxhZ3MsIG1lc3NhZ2UsIGFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHkuc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZWQgd2hlbiBhIGNvbm5lY3RlZCBjb21wb25lbnQncyBmb3JtIG9yIGZpZWxkc2V0IGhhcyBpdHMgZGlzYWJsZWRcbiAgICAgICAgICogc3RhdGUgY2hhbmdlZC5cbiAgICAgICAgICogQHBhcmFtIGRpc2FibGVkIC0gdGhlIGRpc2FibGVkIHZhbHVlIG9mIHRoZSBmb3JtIC8gZmllbGRzZXRcbiAgICAgICAgICovXG4gICAgICAgIGZvcm1EaXNhYmxlZENhbGxiYWNrKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybVJlc2V0Q2FsbGJhY2soKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbml0aWFsVmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIHRoZSBwcm94eSBlbGVtZW50IHRvIHRoZSBET01cbiAgICAgICAgICovXG4gICAgICAgIGF0dGFjaFByb3h5KCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByb3h5SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHlFdmVudHNUb0Jsb2NrLmZvckVhY2gobmFtZSA9PiB0aGlzLnByb3h5LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgdGhpcy5zdG9wUHJvcGFnYXRpb24pKTtcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgdHlwaWNhbGx5IG1hcHBlZCB0byB0aGUgcHJveHkgZHVyaW5nXG4gICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgY2hhbmdlIGNhbGxiYWNrcywgYnV0IGR1cmluZyBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBpbml0aWFsIGNhbGwgb2YgdGhlIGNhbGxiYWNrLCB0aGUgcHJveHkgaXNcbiAgICAgICAgICAgICAgICAvLyBzdGlsbCB1bmRlZmluZWQuIFdlIHNob3VsZCBmaW5kIGEgYmV0dGVyIHdheSB0byBhZGRyZXNzIHRoaXMuXG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5kaXNhYmxlZCA9IHRoaXMuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5yZXF1aXJlZCA9IHRoaXMucmVxdWlyZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eS5uYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eS52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucHJveHkuc2V0QXR0cmlidXRlKFwic2xvdFwiLCBwcm94eVNsb3ROYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3h5U2xvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzbG90XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJveHlTbG90LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgcHJveHlTbG90TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcHBlbmRDaGlsZCh0aGlzLnByb3h5U2xvdCk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMucHJveHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhY2ggdGhlIHByb3h5IGVsZW1lbnQgZnJvbSB0aGUgRE9NXG4gICAgICAgICAqL1xuICAgICAgICBkZXRhY2hQcm94eSgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5wcm94eSk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLnByb3h5U2xvdCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIHtAaW5oZXJpdERvYyAoRm9ybUFzc29jaWF0ZWQ6aW50ZXJmYWNlKS52YWxpZGF0ZX0gKi9cbiAgICAgICAgdmFsaWRhdGUoYW5jaG9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYWxpZGl0eSh0aGlzLnByb3h5LnZhbGlkaXR5LCB0aGlzLnByb3h5LnZhbGlkYXRpb25NZXNzYWdlLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBc3NvY2lhdGVzIHRoZSBwcm92aWRlZCB2YWx1ZSAoYW5kIG9wdGlvbmFsIHN0YXRlKSB3aXRoIHRoZSBwYXJlbnQgZm9ybS5cbiAgICAgICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldFxuICAgICAgICAgKiBAcGFyYW0gc3RhdGUgLSBUaGUgc3RhdGUgb2JqZWN0IHByb3ZpZGVkIHRvIGR1cmluZyBzZXNzaW9uIHJlc3RvcmVzIGFuZCB3aGVuIGF1dG9maWxsaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0Rm9ybVZhbHVlKHZhbHVlLCBzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEludGVybmFscykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudEludGVybmFscy5zZXRGb3JtVmFsdWUodmFsdWUsIHN0YXRlIHx8IHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfa2V5cHJlc3NIYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGtleUVudGVyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbXBsaWNpdCBzdWJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0QnV0dG9uID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbdHlwZT1zdWJtaXRdXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEJ1dHRvbiA9PT0gbnVsbCB8fCBkZWZhdWx0QnV0dG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gc3RvcCBwcm9wYWdhdGlvbiBvZiBwcm94eSBlbGVtZW50IGV2ZW50c1xuICAgICAgICAgKiBAcGFyYW0gZSAtIEV2ZW50IG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGF0dHIoeyBtb2RlOiBcImJvb2xlYW5cIiB9KShDLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiKTtcbiAgICBhdHRyKHsgbW9kZTogXCJmcm9tVmlld1wiLCBhdHRyaWJ1dGU6IFwidmFsdWVcIiB9KShDLnByb3RvdHlwZSwgXCJpbml0aWFsVmFsdWVcIik7XG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJjdXJyZW50LXZhbHVlXCIgfSkoQy5wcm90b3R5cGUsIFwiY3VycmVudFZhbHVlXCIpO1xuICAgIGF0dHIoQy5wcm90b3R5cGUsIFwibmFtZVwiKTtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSkoQy5wcm90b3R5cGUsIFwicmVxdWlyZWRcIik7XG4gICAgb2JzZXJ2YWJsZShDLnByb3RvdHlwZSwgXCJ2YWx1ZVwiKTtcbiAgICByZXR1cm4gQztcbn1cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDaGVja2FibGVGb3JtQXNzb2NpYXRlZChCYXNlQ3Rvcikge1xuICAgIGNsYXNzIEMgZXh0ZW5kcyBGb3JtQXNzb2NpYXRlZChCYXNlQ3Rvcikge1xuICAgIH1cbiAgICBjbGFzcyBEIGV4dGVuZHMgQyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHN1cGVyKGFyZ3MpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmFja3Mgd2hldGhlciB0aGUgXCJjaGVja2VkXCIgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIHByb3ZpZGUgY29uc2lzdGVudCBiZWhhdmlvciB3aXRoXG4gICAgICAgICAgICAgKiBub3JtYWwgaW5wdXQgY2hlY2tib3hlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmRpcnR5Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm92aWRlcyB0aGUgZGVmYXVsdCBjaGVja2VkbmVzcyBvZiB0aGUgaW5wdXQgZWxlbWVudFxuICAgICAgICAgICAgICogUGFzc2VkIGRvd24gdG8gcHJveHlcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAgICAgKiBAcmVtYXJrc1xuICAgICAgICAgICAgICogSFRNTCBBdHRyaWJ1dGU6IGNoZWNrZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkQXR0cmlidXRlID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBjaGVja2VkIHN0YXRlIG9mIHRoZSBjb250cm9sLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBSZS1pbml0aWFsaXplIGRpcnR5Q2hlY2tlZCBiZWNhdXNlIGluaXRpYWxpemF0aW9uIG9mIG90aGVyIHZhbHVlc1xuICAgICAgICAgICAgLy8gY2F1c2VzIGl0IHRvIGJlY29tZSB0cnVlXG4gICAgICAgICAgICB0aGlzLmRpcnR5Q2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrZWRBdHRyaWJ1dGVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0Q2hlY2tlZCA9IHRoaXMuY2hlY2tlZEF0dHJpYnV0ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICBkZWZhdWx0Q2hlY2tlZENoYW5nZWQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlydHlDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0dGluZyB0aGlzLmNoZWNrZWQgd2lsbCBjYXVzZSB1cyB0byBlbnRlciBhIGRpcnR5IHN0YXRlLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCBpZiB3ZSBhcmUgY2xlYW4gd2hlbiBkZWZhdWx0Q2hlY2tlZCBpcyBjaGFuZ2VkLCB3ZSB3YW50IHRvIHN0YXlcbiAgICAgICAgICAgICAgICAvLyBpbiBhIGNsZWFuIHN0YXRlLCBzbyByZXNldCB0aGlzLmRpcnR5Q2hlY2tlZFxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuZGVmYXVsdENoZWNrZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGVja2VkQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlydHlDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hlY2tlZCA9IHRoaXMuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9ybSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5jaGVja2VkID0gdGhpcy5jaGVja2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJjaGFuZ2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudENoZWNrZWRDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuY3VycmVudENoZWNrZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlRm9ybSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jaGVja2VkID8gdGhpcy52YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNldEZvcm1WYWx1ZSh2YWx1ZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1SZXNldENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuZm9ybVJlc2V0Q2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9ICEhdGhpcy5jaGVja2VkQXR0cmlidXRlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImNoZWNrZWRcIiwgbW9kZTogXCJib29sZWFuXCIgfSkoRC5wcm90b3R5cGUsIFwiY2hlY2tlZEF0dHJpYnV0ZVwiKTtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImN1cnJlbnQtY2hlY2tlZFwiLCBjb252ZXJ0ZXI6IGJvb2xlYW5Db252ZXJ0ZXIgfSkoRC5wcm90b3R5cGUsIFwiY3VycmVudENoZWNrZWRcIik7XG4gICAgb2JzZXJ2YWJsZShELnByb3RvdHlwZSwgXCJkZWZhdWx0Q2hlY2tlZFwiKTtcbiAgICBvYnNlcnZhYmxlKEQucHJvdG90eXBlLCBcImNoZWNrZWRcIik7XG4gICAgcmV0dXJuIEQ7XG59XG4iLCJpbXBvcnQgeyBGb3JtQXNzb2NpYXRlZCB9IGZyb20gXCIuLi9mb3JtLWFzc29jaWF0ZWQvZm9ybS1hc3NvY2lhdGVkLmpzXCI7XG5pbXBvcnQgeyBGb3VuZGF0aW9uRWxlbWVudCB9IGZyb20gXCIuLi9mb3VuZGF0aW9uLWVsZW1lbnQvZm91bmRhdGlvbi1lbGVtZW50LmpzXCI7XG5jbGFzcyBfQnV0dG9uIGV4dGVuZHMgRm91bmRhdGlvbkVsZW1lbnQge1xufVxuLyoqXG4gKiBBIGZvcm0tYXNzb2NpYXRlZCBiYXNlIGNsYXNzIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhCdXR0b246Y2xhc3MpfSBjb21wb25lbnQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3JtQXNzb2NpYXRlZEJ1dHRvbiBleHRlbmRzIEZvcm1Bc3NvY2lhdGVkKF9CdXR0b24pIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wcm94eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhdHRyLCBvYnNlcnZhYmxlIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcywgU3RhcnRFbmQsIH0gZnJvbSBcIi4uL3BhdHRlcm5zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXBwbHktbWl4aW5zLmpzXCI7XG5pbXBvcnQgeyBGb3JtQXNzb2NpYXRlZEJ1dHRvbiB9IGZyb20gXCIuL2J1dHRvbi5mb3JtLWFzc29jaWF0ZWQuanNcIjtcbi8qKlxuICogQSBCdXR0b24gQ3VzdG9tIEhUTUwgRWxlbWVudC5cbiAqIEJhc2VkIGxhcmdlbHkgb24gdGhlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvYnV0dG9uIHwgPGJ1dHRvbj4gZWxlbWVudCB9LlxuICpcbiAqIEBzbG90IHN0YXJ0IC0gQ29udGVudCB3aGljaCBjYW4gYmUgcHJvdmlkZWQgYmVmb3JlIHRoZSBidXR0b24gY29udGVudFxuICogQHNsb3QgZW5kIC0gQ29udGVudCB3aGljaCBjYW4gYmUgcHJvdmlkZWQgYWZ0ZXIgdGhlIGJ1dHRvbiBjb250ZW50XG4gKiBAc2xvdCAtIFRoZSBkZWZhdWx0IHNsb3QgZm9yIGJ1dHRvbiBjb250ZW50XG4gKiBAY3NzcGFydCBjb250cm9sIC0gVGhlIGJ1dHRvbiBlbGVtZW50XG4gKiBAY3NzcGFydCBjb250ZW50IC0gVGhlIGVsZW1lbnQgd3JhcHBpbmcgYnV0dG9uIGNvbnRlbnRcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBGb3JtQXNzb2NpYXRlZEJ1dHRvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmV2ZW50IGV2ZW50cyB0byBwcm9wYWdhdGUgaWYgZGlzYWJsZWQgYW5kIGhhcyBubyBzbG90dGVkIGNvbnRlbnQgd3JhcHBlZCBpbiBIVE1MIGVsZW1lbnRzXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVDbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCAmJiAoKF9hID0gdGhpcy5kZWZhdWx0U2xvdHRlZENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIDw9IDEpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogU3VibWl0cyB0aGUgcGFyZW50IGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFuZGxlU3VibWlzc2lvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5mb3JtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXR0YWNoZWQgPSB0aGlzLnByb3h5LmlzQ29ubmVjdGVkO1xuICAgICAgICAgICAgaWYgKCFhdHRhY2hlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoUHJveHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJyb3dzZXIgc3VwcG9ydCBmb3IgcmVxdWVzdFN1Ym1pdCBpcyBub3QgY29tcHJlaGVuc2l2ZVxuICAgICAgICAgICAgLy8gc28gY2xpY2sgdGhlIHByb3h5IGlmIGl0IGlzbid0IHN1cHBvcnRlZFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuZm9ybS5yZXF1ZXN0U3VibWl0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICA/IHRoaXMuZm9ybS5yZXF1ZXN0U3VibWl0KHRoaXMucHJveHkpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnByb3h5LmNsaWNrKCk7XG4gICAgICAgICAgICBpZiAoIWF0dGFjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhY2hQcm94eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzZXRzIHRoZSBwYXJlbnQgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVGb3JtUmVzZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZvcm0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNldCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBmb2N1cyBjYWxsIGZvciB3aGVyZSBkZWxlZ2F0ZXNGb2N1cyBpcyB1bnN1cHBvcnRlZC5cbiAgICAgICAgICogVGhpcyBjaGVjayB3b3JrcyBmb3IgQ2hyb21lLCBFZGdlIENocm9taXVtLCBGaXJlRm94LCBhbmQgU2FmYXJpXG4gICAgICAgICAqIFJlbGV2YW50IFBSIG9uIHRoZSBGaXJlZm94IGJyb3dzZXI6IGh0dHBzOi8vcGhhYnJpY2F0b3Iuc2VydmljZXMubW96aWxsYS5jb20vRDEyMzg1OFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYW5kbGVVbnN1cHBvcnRlZERlbGVnYXRlc0ZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGRlbGVnYXRlc0ZvY3VzIGlzIHN1cHBvcnRlZFxuICAgICAgICAgICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmXG4gICAgICAgICAgICAgICAgIXdpbmRvdy5TaGFkb3dSb290LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcImRlbGVnYXRlc0ZvY3VzXCIpICYmXG4gICAgICAgICAgICAgICAgKChfYSA9IHRoaXMuJGZhc3RDb250cm9sbGVyLmRlZmluaXRpb24uc2hhZG93T3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlbGVnYXRlc0ZvY3VzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvcm1hY3Rpb25DaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucHJveHkuZm9ybUFjdGlvbiA9IHRoaXMuZm9ybWFjdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JtZW5jdHlwZUNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5mb3JtRW5jdHlwZSA9IHRoaXMuZm9ybWVuY3R5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9ybW1ldGhvZENoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5mb3JtTWV0aG9kID0gdGhpcy5mb3JtbWV0aG9kO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcm1ub3ZhbGlkYXRlQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LmZvcm1Ob1ZhbGlkYXRlID0gdGhpcy5mb3Jtbm92YWxpZGF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JtdGFyZ2V0Q2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LmZvcm1UYXJnZXQgPSB0aGlzLmZvcm10YXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHlwZUNoYW5nZWQocHJldmlvdXMsIG5leHQpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCA9PT0gXCJzdWJtaXRcIiAmJiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVN1Ym1pc3Npb24pO1xuICAgICAgICBwcmV2aW91cyA9PT0gXCJzdWJtaXRcIiAmJiB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZVN1Ym1pc3Npb24pO1xuICAgICAgICBuZXh0ID09PSBcInJlc2V0XCIgJiYgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVGb3JtUmVzZXQpO1xuICAgICAgICBwcmV2aW91cyA9PT0gXCJyZXNldFwiICYmIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlRm9ybVJlc2V0KTtcbiAgICB9XG4gICAgLyoqIHtAaW5oZXJpdERvYyAoRm9ybUFzc29jaWF0ZWQ6aW50ZXJmYWNlKS52YWxpZGF0ZX0gKi9cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgc3VwZXIudmFsaWRhdGUodGhpcy5jb250cm9sKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5wcm94eS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlVW5zdXBwb3J0ZWREZWxlZ2F0ZXNGb2N1cygpO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oKF9hID0gdGhpcy5jb250cm9sKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKHNwYW4pID0+IHtcbiAgICAgICAgICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbSgoX2EgPSB0aGlzLmNvbnRyb2wpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jaGlsZHJlbik7XG4gICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoc3BhbikgPT4ge1xuICAgICAgICAgICAgICAgIHNwYW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiYXV0b2ZvY3VzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcImZvcm1cIiB9KVxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtSWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHJcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybWFjdGlvblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0clxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtZW5jdHlwZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0clxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtbWV0aG9kXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybW5vdmFsaWRhdGVcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHJcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybXRhcmdldFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0clxuXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJ0eXBlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBCdXR0b24ucHJvdG90eXBlLCBcImRlZmF1bHRTbG90dGVkQ29udGVudFwiLCB2b2lkIDApO1xuLyoqXG4gKiBJbmNsdWRlcyBBUklBIHN0YXRlcyBhbmQgcHJvcGVydGllcyByZWxhdGluZyB0byB0aGUgQVJJQSBidXR0b24gcm9sZVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIERlbGVnYXRlc0FSSUFCdXR0b24ge1xufVxuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLWV4cGFuZGVkXCIgfSlcbl0sIERlbGVnYXRlc0FSSUFCdXR0b24ucHJvdG90eXBlLCBcImFyaWFFeHBhbmRlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJhcmlhLXByZXNzZWRcIiB9KVxuXSwgRGVsZWdhdGVzQVJJQUJ1dHRvbi5wcm90b3R5cGUsIFwiYXJpYVByZXNzZWRcIiwgdm9pZCAwKTtcbmFwcGx5TWl4aW5zKERlbGVnYXRlc0FSSUFCdXR0b24sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzKTtcbmFwcGx5TWl4aW5zKEJ1dHRvbiwgU3RhcnRFbmQsIERlbGVnYXRlc0FSSUFCdXR0b24pO1xuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciwgb2JzZXJ2YWJsZSwgT2JzZXJ2YWJsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuaW1wb3J0IHsgRm91bmRhdGlvbkVsZW1lbnQgfSBmcm9tIFwiLi4vZm91bmRhdGlvbi1lbGVtZW50L2ZvdW5kYXRpb24tZWxlbWVudC5qc1wiO1xuaW1wb3J0IHsgQVJJQUdsb2JhbFN0YXRlc0FuZFByb3BlcnRpZXMgfSBmcm9tIFwiLi4vcGF0dGVybnMvYXJpYS1nbG9iYWwuanNcIjtcbmltcG9ydCB7IFN0YXJ0RW5kIH0gZnJvbSBcIi4uL3BhdHRlcm5zL3N0YXJ0LWVuZC5qc1wiO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2FwcGx5LW1peGlucy5qc1wiO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBlbGVtZW50IGlzIGEge0BsaW5rIChMaXN0Ym94T3B0aW9uOmNsYXNzKX1cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIHRlc3QuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpc3Rib3hPcHRpb24oZWwpIHtcbiAgICByZXR1cm4gKGlzSFRNTEVsZW1lbnQoZWwpICYmXG4gICAgICAgIChlbC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09PSBcIm9wdGlvblwiIHx8XG4gICAgICAgICAgICBlbCBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSk7XG59XG4vKipcbiAqIEFuIE9wdGlvbiBDdXN0b20gSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB7QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLTEuMS8jb3B0aW9uIHwgQVJJQSBvcHRpb24gfS5cbiAqXG4gKiBAc2xvdCBzdGFydCAtIENvbnRlbnQgd2hpY2ggY2FuIGJlIHByb3ZpZGVkIGJlZm9yZSB0aGUgbGlzdGJveCBvcHRpb24gY29udGVudFxuICogQHNsb3QgZW5kIC0gQ29udGVudCB3aGljaCBjYW4gYmUgcHJvdmlkZWQgYWZ0ZXIgdGhlIGxpc3Rib3ggb3B0aW9uIGNvbnRlbnRcbiAqIEBzbG90IC0gVGhlIGRlZmF1bHQgc2xvdCBmb3IgbGlzdGJveCBvcHRpb24gY29udGVudFxuICogQGNzc3BhcnQgY29udGVudCAtIFdyYXBzIHRoZSBsaXN0Ym94IG9wdGlvbiBjb250ZW50XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgTGlzdGJveE9wdGlvbiBleHRlbmRzIEZvdW5kYXRpb25FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCB2YWx1ZSwgZGVmYXVsdFNlbGVjdGVkLCBzZWxlY3RlZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHRTZWxlY3RlZCBzdGF0ZSBvZiB0aGUgb3B0aW9uLlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIHdoZXRoZXIgdGhlIFwic2VsZWN0ZWRcIiBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoZWNrZWQgc3RhdGUgb2YgdGhlIGNvbnRyb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLmRlZmF1bHRTZWxlY3RlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrIHdoZXRoZXIgdGhlIHZhbHVlIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSB0aGUgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVZhbHVlID0gZmFsc2U7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0ZWQgPSBkZWZhdWx0U2VsZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm94eSA9IG5ldyBPcHRpb24oYCR7dGhpcy50ZXh0Q29udGVudH1gLCB0aGlzLmluaXRpYWxWYWx1ZSwgdGhpcy5kZWZhdWx0U2VsZWN0ZWQsIHRoaXMuc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnByb3h5LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYXJpYUNoZWNrZWQgcHJvcGVydHkgd2hlbiB0aGUgY2hlY2tlZCBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgY2hlY2tlZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgY2hlY2tlZCB2YWx1ZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGNoZWNrZWRDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhpcy5hcmlhQ2hlY2tlZCA9IG5leHQgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyaWFDaGVja2VkID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJveHkncyB0ZXh0IGNvbnRlbnQgd2hlbiB0aGUgZGVmYXVsdCBzbG90IGNoYW5nZXMuXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgY29udGVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgY29udGVudCB2YWx1ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29udGVudENoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRlbWl0KFwiY29udGVudGNoYW5nZVwiLCBudWxsLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG4gICAgfVxuICAgIGRlZmF1bHRTZWxlY3RlZENoYW5nZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaXJ0eVNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5kZWZhdWx0U2VsZWN0ZWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm94eS5zZWxlY3RlZCA9IHRoaXMuZGVmYXVsdFNlbGVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2FibGVkQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHRoaXMuYXJpYURpc2FibGVkID0gdGhpcy5kaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RlZEF0dHJpYnV0ZUNoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEF0dHJpYnV0ZTtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MT3B0aW9uRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5kZWZhdWx0U2VsZWN0ZWQgPSB0aGlzLmRlZmF1bHRTZWxlY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RlZENoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMuYXJpYVNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICBpZiAoIXRoaXMuZGlydHlTZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm94eSBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0aWFsVmFsdWVDaGFuZ2VkKHByZXZpb3VzLCBuZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBjbGVhbiBhbmQgdGhlIGNvbXBvbmVudCBpcyBjb25uZWN0ZWQgdG8gdGhlIERPTVxuICAgICAgICAvLyB0aGVuIHNldCB2YWx1ZSBlcXVhbCB0byB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgICBpZiAoIXRoaXMuZGlydHlWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGxhYmVsKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnZhbHVlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRleHQ7XG4gICAgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxhY2UoL1xccysvZywgXCIgXCIpLnRyaW0oKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJcIjtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5leHQpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBgJHtuZXh0ICE9PSBudWxsICYmIG5leHQgIT09IHZvaWQgMCA/IG5leHQgOiBcIlwifWA7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHlWYWx1ZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnByb3h5IGluc3RhbmNlb2YgSFRNTE9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucHJveHkudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBPYnNlcnZhYmxlLm5vdGlmeSh0aGlzLCBcInZhbHVlXCIpO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCBcInZhbHVlXCIpO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGV4dDtcbiAgICB9XG4gICAgZ2V0IGZvcm0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5ID8gdGhpcy5wcm94eS5mb3JtIDogbnVsbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJjaGVja2VkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJkZWZhdWx0U2VsZWN0ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBtb2RlOiBcImJvb2xlYW5cIiB9KVxuXSwgTGlzdGJveE9wdGlvbi5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwic2VsZWN0ZWRcIiwgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIExpc3Rib3hPcHRpb24ucHJvdG90eXBlLCBcInNlbGVjdGVkQXR0cmlidXRlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJzZWxlY3RlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IGF0dHJpYnV0ZTogXCJ2YWx1ZVwiLCBtb2RlOiBcImZyb21WaWV3XCIgfSlcbl0sIExpc3Rib3hPcHRpb24ucHJvdG90eXBlLCBcImluaXRpYWxWYWx1ZVwiLCB2b2lkIDApO1xuLyoqXG4gKiBTdGF0ZXMgYW5kIHByb3BlcnRpZXMgcmVsYXRpbmcgdG8gdGhlIEFSSUEgYG9wdGlvbmAgcm9sZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxlZ2F0ZXNBUklBTGlzdGJveE9wdGlvbiB7XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveE9wdGlvbi5wcm90b3R5cGUsIFwiYXJpYUNoZWNrZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJhcmlhUG9zSW5TZXRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJhcmlhU2VsZWN0ZWRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlbGVnYXRlc0FSSUFMaXN0Ym94T3B0aW9uLnByb3RvdHlwZSwgXCJhcmlhU2V0U2l6ZVwiLCB2b2lkIDApO1xuYXBwbHlNaXhpbnMoRGVsZWdhdGVzQVJJQUxpc3Rib3hPcHRpb24sIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzKTtcbmFwcGx5TWl4aW5zKExpc3Rib3hPcHRpb24sIFN0YXJ0RW5kLCBEZWxlZ2F0ZXNBUklBTGlzdGJveE9wdGlvbik7XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhdHRyLCBvYnNlcnZhYmxlLCBPYnNlcnZhYmxlIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBmaW5kTGFzdEluZGV4LCBrZXlBcnJvd0Rvd24sIGtleUFycm93VXAsIGtleUVuZCwga2V5RW50ZXIsIGtleUVzY2FwZSwga2V5SG9tZSwga2V5U3BhY2UsIGtleVRhYiwgdW5pcXVlSWQsIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC13ZWItdXRpbGl0aWVzXCI7XG5pbXBvcnQgeyBGb3VuZGF0aW9uRWxlbWVudCB9IGZyb20gXCIuLi9mb3VuZGF0aW9uLWVsZW1lbnQvZm91bmRhdGlvbi1lbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBpc0xpc3Rib3hPcHRpb24gfSBmcm9tIFwiLi4vbGlzdGJveC1vcHRpb24vbGlzdGJveC1vcHRpb24uanNcIjtcbmltcG9ydCB7IEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4uL3BhdHRlcm5zL2FyaWEtZ2xvYmFsLmpzXCI7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gXCIuLi91dGlsaXRpZXMvYXBwbHktbWl4aW5zLmpzXCI7XG4vKipcbiAqIEEgTGlzdGJveCBDdXN0b20gSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI2xpc3Rib3ggfCBBUklBIGxpc3Rib3ggfS5cbiAqXG4gKiBAc2xvdCAtIFRoZSBkZWZhdWx0IHNsb3QgZm9yIHRoZSBsaXN0Ym94IG9wdGlvbnNcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0Ym94IGV4dGVuZHMgRm91bmRhdGlvbkVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGludGVybmFsIHVuZmlsdGVyZWQgbGlzdCBvZiBzZWxlY3RhYmxlIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBvcHRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9uIG9mIHRoZSBzZWxlY3RlZCBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzdGFuZGFyZCBgY2xpY2tgIGV2ZW50IGNyZWF0ZXMgYSBgZm9jdXNgIGV2ZW50IGJlZm9yZSBmaXJpbmcsIHNvIGFcbiAgICAgICAgICogYG1vdXNlZG93bmAgZXZlbnQgaXMgdXNlZCB0byBza2lwIHRoYXQgaW5pdGlhbCBmb2N1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNob3VsZFNraXBGb2N1cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgdHlwZWFoZWFkIGJ1ZmZlciBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlYWhlYWRCdWZmZXIgPSBcIlwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBmb3IgdGhlIHR5cGVhaGVhZCB0aW1lb3V0IGV4cGlyYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlYWhlYWRFeHBpcmVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lb3V0IElEIGZvciB0aGUgdHlwZWFoZWFkIGhhbmRsZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlYWhlYWRUaW1lb3V0ID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgZmlyc3RTZWxlY3RlZE9wdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5zZWxlY3RlZE9wdGlvbnNbMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBpcyBvbmUgb3IgbW9yZSBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGdldCBoYXNTZWxlY3RhYmxlT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sZW5ndGggPiAwICYmICF0aGlzLm9wdGlvbnMuZXZlcnkobyA9PiBvLmRpc2FibGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIE9ic2VydmFibGUudHJhY2sodGhpcywgXCJvcHRpb25zXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgICB9XG4gICAgc2V0IG9wdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHZhbHVlO1xuICAgICAgICBPYnNlcnZhYmxlLm5vdGlmeSh0aGlzLCBcIm9wdGlvbnNcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsYWcgZm9yIHRoZSB0eXBlYWhlYWQgdGltZW91dCBleHBpcmF0aW9uLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBMaXN0Ym94LnR5cGVhaGVhZEV4cGlyZWRgXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZ2V0IHR5cGVBaGVhZEV4cGlyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGVhaGVhZEV4cGlyZWQ7XG4gICAgfVxuICAgIHNldCB0eXBlQWhlYWRFeHBpcmVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZWFoZWFkRXhwaXJlZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgY2xpY2sgZXZlbnRzIGZvciBsaXN0Ym94IG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjbGlja0hhbmRsZXIoZSkge1xuICAgICAgICBjb25zdCBjYXB0dXJlZCA9IGUudGFyZ2V0LmNsb3Nlc3QoYG9wdGlvbixbcm9sZT1vcHRpb25dYCk7XG4gICAgICAgIGlmIChjYXB0dXJlZCAmJiAhY2FwdHVyZWQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKGNhcHR1cmVkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgcHJvdmlkZWQgb3B0aW9uIGlzIGZvY3VzZWQgYW5kIHNjcm9sbGVkIGludG8gdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25Ub0ZvY3VzIC0gVGhlIG9wdGlvbiB0byBmb2N1c1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcob3B0aW9uVG9Gb2N1cyA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikge1xuICAgICAgICAvLyBUbyBlbnN1cmUgdGhhdCB0aGUgYnJvd3NlciBoYW5kbGVzIGJvdGggYGZvY3VzKClgIGFuZCBgc2Nyb2xsSW50b1ZpZXcoKWAsIHRoZVxuICAgICAgICAvLyB0aW1pbmcgaGVyZSBuZWVkcyB0byBndWFyYW50ZWUgdGhhdCB0aGV5IGhhcHBlbiBvbiBkaWZmZXJlbnQgZnJhbWVzLiBTaW5jZSB0aGlzXG4gICAgICAgIC8vIGZ1bmN0aW9uIGlzIHR5cGljYWxseSBjYWxsZWQgZnJvbSB0aGUgYG9wZW5DaGFuZ2VkYCBvYnNlcnZlciwgYERPTS5xdWV1ZVVwZGF0ZWBcbiAgICAgICAgLy8gY2F1c2VzIHRoZSBjYWxscyB0byBiZSBncm91cGVkIGludG8gdGhlIHNhbWUgZnJhbWUuIFRvIHByZXZlbnQgdGhpcyxcbiAgICAgICAgLy8gYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgaXMgdXNlZCBpbnN0ZWFkIG9mIGBET00ucXVldWVVcGRhdGVgLlxuICAgICAgICBpZiAodGhpcy5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSAmJiBvcHRpb25Ub0ZvY3VzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvcHRpb25Ub0ZvY3VzLmZvY3VzKCk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wdGlvblRvRm9jdXMuc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogXCJuZWFyZXN0XCIgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGBmb2N1c2luYCBhY3Rpb25zIGZvciB0aGUgY29tcG9uZW50LiBXaGVuIHRoZSBjb21wb25lbnQgcmVjZWl2ZXMgZm9jdXMsXG4gICAgICogdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBpcyByZWZyZXNoZWQgYW5kIHRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24gaXMgc2Nyb2xsZWRcbiAgICAgKiBpbnRvIHZpZXcuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmb2N1c2luSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRTa2lwRm9jdXMgJiYgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdWxkU2tpcEZvY3VzID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9wdGlvbnMgd2hpY2ggbWF0Y2ggdGhlIGN1cnJlbnQgdHlwZWFoZWFkIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGdldFR5cGVhaGVhZE1hdGNoZXMoKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnR5cGVhaGVhZEJ1ZmZlci5yZXBsYWNlKC9bLiorXFwtP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgXiR7cGF0dGVybn1gLCBcImdpXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbHRlcigobykgPT4gby50ZXh0LnRyaW0oKS5tYXRjaChyZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBvcHRpb24gd2hpY2ggaXMgc2VsZWN0YWJsZSwgaWYgYW55LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgc2VsZWN0ZWQgaW5kZXhcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXh0IGluZGV4IHRvIHNlbGVjdFxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZ2V0U2VsZWN0YWJsZUluZGV4KHByZXYgPSB0aGlzLnNlbGVjdGVkSW5kZXgsIG5leHQpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gcHJldiA+IG5leHQgPyAtMSA6IHByZXYgPCBuZXh0ID8gMSA6IDA7XG4gICAgICAgIGNvbnN0IHBvdGVudGlhbERpcmVjdGlvbiA9IHByZXYgKyBkaXJlY3Rpb247XG4gICAgICAgIGxldCBuZXh0U2VsZWN0YWJsZU9wdGlvbiA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIC0xOiB7XG4gICAgICAgICAgICAgICAgbmV4dFNlbGVjdGFibGVPcHRpb24gPSB0aGlzLm9wdGlvbnMucmVkdWNlUmlnaHQoKG5leHRTZWxlY3RhYmxlT3B0aW9uLCB0aGlzT3B0aW9uLCBpbmRleCkgPT4gIW5leHRTZWxlY3RhYmxlT3B0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzT3B0aW9uLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluZGV4IDwgcG90ZW50aWFsRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gdGhpc09wdGlvblxuICAgICAgICAgICAgICAgICAgICA6IG5leHRTZWxlY3RhYmxlT3B0aW9uLCBuZXh0U2VsZWN0YWJsZU9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICAgICAgICBuZXh0U2VsZWN0YWJsZU9wdGlvbiA9IHRoaXMub3B0aW9ucy5yZWR1Y2UoKG5leHRTZWxlY3RhYmxlT3B0aW9uLCB0aGlzT3B0aW9uLCBpbmRleCkgPT4gIW5leHRTZWxlY3RhYmxlT3B0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzT3B0aW9uLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID4gcG90ZW50aWFsRGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gdGhpc09wdGlvblxuICAgICAgICAgICAgICAgICAgICA6IG5leHRTZWxlY3RhYmxlT3B0aW9uLCBuZXh0U2VsZWN0YWJsZU9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmRleE9mKG5leHRTZWxlY3RhYmxlT3B0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBleHRlcm5hbCBjaGFuZ2VzIHRvIGNoaWxkIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIC0gdGhlIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2Uoc291cmNlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKExpc3Rib3guc2xvdHRlZE9wdGlvbkZpbHRlcihzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZXMgZm9jdXMgdG8gYW4gb3B0aW9uIHdob3NlIGxhYmVsIG1hdGNoZXMgY2hhcmFjdGVycyB0eXBlZCBieSB0aGUgdXNlci5cbiAgICAgKiBDb25zZWN1dGl2ZSBrZXlzdHJva2VzIGFyZSBiYXRjaGVkIGludG8gYSBidWZmZXIgb2Ygc2VhcmNoIHRleHQgdXNlZFxuICAgICAqIHRvIG1hdGNoIGFnYWluc3QgdGhlIHNldCBvZiBvcHRpb25zLiAgSWYgYFRZUEVfQUhFQURfVElNRU9VVF9NU2AgcGFzc2VzXG4gICAgICogYmV0d2VlbiBjb25zZWN1dGl2ZSBrZXlzdHJva2VzLCB0aGUgc2VhcmNoIHJlc3RhcnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIHRoZSBrZXkgdG8gYmUgZXZhbHVhdGVkXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBoYW5kbGVUeXBlQWhlYWQoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50eXBlYWhlYWRUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR5cGVhaGVhZFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiAodGhpcy50eXBlYWhlYWRFeHBpcmVkID0gdHJ1ZSksIExpc3Rib3guVFlQRV9BSEVBRF9USU1FT1VUX01TKTtcbiAgICAgICAgaWYgKGtleS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eXBlYWhlYWRCdWZmZXIgPSBgJHt0aGlzLnR5cGVhaGVhZEV4cGlyZWQgPyBcIlwiIDogdGhpcy50eXBlYWhlYWRCdWZmZXJ9JHtrZXl9YDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBga2V5ZG93bmAgYWN0aW9ucyBmb3IgbGlzdGJveCBuYXZpZ2F0aW9uIGFuZCB0eXBlYWhlYWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNob3VsZFNraXBGb2N1cyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBrZXkgPSBlLmtleTtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgZmlyc3QgYXZhaWxhYmxlIG9wdGlvblxuICAgICAgICAgICAgY2FzZSBrZXlIb21lOiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RGaXJzdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbmV4dCBzZWxlY3RhYmxlIG9wdGlvblxuICAgICAgICAgICAgY2FzZSBrZXlBcnJvd0Rvd246IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE5leHRPcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIHByZXZpb3VzIHNlbGVjdGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUFycm93VXA6IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFByZXZpb3VzT3B0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBsYXN0IGF2YWlsYWJsZSBvcHRpb25cbiAgICAgICAgICAgIGNhc2Uga2V5RW5kOiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TGFzdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlUYWI6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2Uga2V5RW50ZXI6XG4gICAgICAgICAgICBjYXNlIGtleUVzY2FwZToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlTcGFjZToge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VuZCBrZXkgdG8gVHlwZWFoZWFkIGhhbmRsZXJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVR5cGVBaGVhZChgJHtrZXl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGBmb2N1c2luYCBldmVudHMgZnJvbSBmaXJpbmcgYmVmb3JlIGBjbGlja2AgZXZlbnRzIHdoZW4gdGhlXG4gICAgICogZWxlbWVudCBpcyB1bmZvY3VzZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBtb3VzZWRvd25IYW5kbGVyKGUpIHtcbiAgICAgICAgdGhpcy5zaG91bGRTa2lwRm9jdXMgPSAhdGhpcy5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIGJldHdlZW4gc2luZ2xlLXNlbGVjdGlvbiBhbmQgbXVsdGktc2VsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJldiAtIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXh0IHZhbHVlIG9mIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgbXVsdGlwbGVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdGhpcy5hcmlhTXVsdGlTZWxlY3RhYmxlID0gbmV4dCA/IFwidHJ1ZVwiIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbGlzdCBvZiBzZWxlY3RlZCBvcHRpb25zIHdoZW4gdGhlIGBzZWxlY3RlZEluZGV4YCBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgc2VsZWN0ZWQgaW5kZXggdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IHNlbGVjdGVkIGluZGV4IHZhbHVlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3RlZEluZGV4Q2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1NlbGVjdGFibGVPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKChfYSA9IHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzYWJsZWQpICYmIHR5cGVvZiBwcmV2ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RhYmxlSW5kZXggPSB0aGlzLmdldFNlbGVjdGFibGVJbmRleChwcmV2LCBuZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld05leHQgPSBzZWxlY3RhYmxlSW5kZXggPiAtMSA/IHNlbGVjdGFibGVJbmRleCA6IHByZXY7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBuZXdOZXh0O1xuICAgICAgICAgICAgaWYgKG5leHQgPT09IG5ld05leHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXhDaGFuZ2VkKG5leHQsIG5ld05leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHNlbGVjdGVkbmVzcyBvZiBlYWNoIG9wdGlvbiB3aGVuIHRoZSBsaXN0IG9mIHNlbGVjdGVkIG9wdGlvbnMgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIGxpc3Qgb2Ygc2VsZWN0ZWQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgbGlzdCBvZiBzZWxlY3RlZCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3RlZE9wdGlvbnNDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE5leHQgPSBuZXh0LmZpbHRlcihMaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIpO1xuICAgICAgICAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKG8gPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKG8pO1xuICAgICAgICAgICAgbm90aWZpZXIudW5zdWJzY3JpYmUodGhpcywgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIG8uc2VsZWN0ZWQgPSBmaWx0ZXJlZE5leHQuaW5jbHVkZXMobyk7XG4gICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUodGhpcywgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGZvY3VzIHRvIHRoZSBmaXJzdCBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZWxlY3RGaXJzdE9wdGlvbigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5kSW5kZXgobyA9PiAhby5kaXNhYmxlZCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGZvY3VzIHRvIHRoZSBsYXN0IHNlbGVjdGFibGUgb3B0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2VsZWN0TGFzdE9wdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBmaW5kTGFzdEluZGV4KHRoaXMub3B0aW9ucywgbyA9PiAhby5kaXNhYmxlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZXMgZm9jdXMgdG8gdGhlIG5leHQgc2VsZWN0YWJsZSBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3ROZXh0T3B0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5zZWxlY3RlZEluZGV4IDwgdGhpcy5vcHRpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGZvY3VzIHRvIHRoZSBwcmV2aW91cyBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNlbGVjdFByZXZpb3VzT3B0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5zZWxlY3RlZEluZGV4ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZEluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZWxlY3RlZCBpbmRleCB0byBtYXRjaCB0aGUgZmlyc3Qgc2VsZWN0ZWQgb3B0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2V0RGVmYXVsdFNlbGVjdGVkT3B0aW9uKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5kSW5kZXgoZWwgPT4gZWwuZGVmYXVsdFNlbGVjdGVkKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYW4gb3B0aW9uIGFzIHNlbGVjdGVkIGFuZCBnaXZlcyBpdCBmb2N1cy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXRTZWxlY3RlZE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9ucyA9IFt0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XV07XG4gICAgICAgICAgICB0aGlzLmFyaWFBY3RpdmVEZXNjZW5kYW50ID0gKF9jID0gKF9iID0gdGhpcy5maXJzdFNlbGVjdGVkT3B0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsaXN0IG9mIG9wdGlvbnMgYW5kIHJlc2V0cyB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdoZW4gdGhlIHNsb3R0ZWQgb3B0aW9uIGNvbnRlbnQgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIGxpc3Qgb2Ygc2xvdHRlZCBvcHRpb25zXG4gICAgICogQHBhcmFtIG5leHQgLSB0aGUgY3VycmVudCBsaXN0IG9mIHNsb3R0ZWQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2xvdHRlZE9wdGlvbnNDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gbmV4dC5yZWR1Y2UoKG9wdGlvbnMsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpc0xpc3Rib3hPcHRpb24oaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBjb25zdCBzZXRTaXplID0gYCR7dGhpcy5vcHRpb25zLmxlbmd0aH1gO1xuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvcHRpb24uaWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uaWQgPSB1bmlxdWVJZChcIm9wdGlvbi1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb24uYXJpYVBvc0luU2V0ID0gYCR7aW5kZXggKyAxfWA7XG4gICAgICAgICAgICBvcHRpb24uYXJpYVNldFNpemUgPSBzZXRTaXplO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuJGZhc3RDb250cm9sbGVyLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0U2VsZWN0ZWRPcHRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBmaWx0ZXJlZCBsaXN0IG9mIG9wdGlvbnMgd2hlbiB0aGUgdHlwZWFoZWFkIGJ1ZmZlciBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgdHlwZWFoZWFkIGJ1ZmZlciB2YWx1ZVxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIGN1cnJlbnQgdHlwZWFoZWFkIGJ1ZmZlciB2YWx1ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdHlwZWFoZWFkQnVmZmVyQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc3QgdHlwZWFoZWFkTWF0Y2hlcyA9IHRoaXMuZ2V0VHlwZWFoZWFkTWF0Y2hlcygpO1xuICAgICAgICAgICAgaWYgKHR5cGVhaGVhZE1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKHR5cGVhaGVhZE1hdGNoZXNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnR5cGVhaGVhZEV4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBzdGF0aWMgZmlsdGVyIHRvIGluY2x1ZGUgb25seSBzZWxlY3RhYmxlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIG4gLSBlbGVtZW50IHRvIGZpbHRlclxuICogQHB1YmxpY1xuICovXG5MaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIgPSAobikgPT4gaXNMaXN0Ym94T3B0aW9uKG4pICYmICFuLmhpZGRlbjtcbi8qKlxuICogVHlwZWFoZWFkIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5MaXN0Ym94LlRZUEVfQUhFQURfVElNRU9VVF9NUyA9IDEwMDA7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIExpc3Rib3gucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94LnByb3RvdHlwZSwgXCJzZWxlY3RlZEluZGV4XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94LnByb3RvdHlwZSwgXCJzZWxlY3RlZE9wdGlvbnNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIExpc3Rib3gucHJvdG90eXBlLCBcInNsb3R0ZWRPcHRpb25zXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94LnByb3RvdHlwZSwgXCJ0eXBlYWhlYWRCdWZmZXJcIiwgdm9pZCAwKTtcbi8qKlxuICogSW5jbHVkZXMgQVJJQSBzdGF0ZXMgYW5kIHByb3BlcnRpZXMgcmVsYXRpbmcgdG8gdGhlIEFSSUEgbGlzdGJveCByb2xlXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGVsZWdhdGVzQVJJQUxpc3Rib3gge1xufVxuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgRGVsZWdhdGVzQVJJQUxpc3Rib3gucHJvdG90eXBlLCBcImFyaWFBY3RpdmVEZXNjZW5kYW50XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveC5wcm90b3R5cGUsIFwiYXJpYURpc2FibGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveC5wcm90b3R5cGUsIFwiYXJpYUV4cGFuZGVkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBTGlzdGJveC5wcm90b3R5cGUsIFwiYXJpYU11bHRpU2VsZWN0YWJsZVwiLCB2b2lkIDApO1xuYXBwbHlNaXhpbnMoRGVsZWdhdGVzQVJJQUxpc3Rib3gsIEFSSUFHbG9iYWxTdGF0ZXNBbmRQcm9wZXJ0aWVzKTtcbmFwcGx5TWl4aW5zKExpc3Rib3gsIERlbGVnYXRlc0FSSUFMaXN0Ym94KTtcbiIsIi8qKlxuICogUG9zaXRpb25pbmcgZGlyZWN0aW9ucyBmb3IgdGhlIGxpc3Rib3ggd2hlbiBhIHNlbGVjdCBpcyBvcGVuLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2VsZWN0UG9zaXRpb24gPSB7XG4gICAgYWJvdmU6IFwiYWJvdmVcIixcbiAgICBiZWxvdzogXCJiZWxvd1wiLFxufTtcbiIsIi8qKlxuICogUmV0cmlldmVzIHRoZSBcImNvbXBvc2VkIHBhcmVudFwiIGVsZW1lbnQgb2YgYSBub2RlLCBpZ25vcmluZyBET00gdHJlZSBib3VuZGFyaWVzLlxuICogV2hlbiB0aGUgcGFyZW50IG9mIGEgbm9kZSBpcyBhIHNoYWRvdy1yb290LCBpdCB3aWxsIHJldHVybiB0aGUgaG9zdFxuICogZWxlbWVudCBvZiB0aGUgc2hhZG93IHJvb3QuIE90aGVyd2lzZSBpdCB3aWxsIHJldHVybiB0aGUgcGFyZW50IG5vZGUgb3IgbnVsbCBpZlxuICogbm8gcGFyZW50IG5vZGUgZXhpc3RzLlxuICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlIGNvbXBvc2VkIHBhcmVudFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2VkUGFyZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCBwYXJlbnROb2RlID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICAgIGlmIChyb290Tm9kZS5ob3N0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc2hhZG93LXJvb3RcbiAgICAgICAgICAgIHJldHVybiByb290Tm9kZS5ob3N0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuIiwiaW1wb3J0IHsgY29tcG9zZWRQYXJlbnQgfSBmcm9tIFwiLi9jb21wb3NlZC1wYXJlbnQuanNcIjtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgY29udGFpbnMgdGhlIHRlc3QgZWxlbWVudCBpbiBhIFwiY29tcG9zZWRcIiBET00gdHJlZSB0aGF0XG4gKiBpZ25vcmVzIHNoYWRvdyBET00gYm91bmRhcmllcy5cbiAqXG4gKiBSZXR1cm5zIHRydWUgb2YgdGhlIHRlc3QgZWxlbWVudCBpcyBhIGRlc2NlbmRlbnQgb2YgdGhlIHJlZmVyZW5jZSwgb3IgZXhpc3QgaW5cbiAqIGEgc2hhZG93IERPTSB0aGF0IGlzIGEgbG9naWNhbCBkZXNjZW5kZW50IG9mIHRoZSByZWZlcmVuY2UuIE90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIFRoZSBlbGVtZW50IHRvIHRlc3QgZm9yIGNvbnRhaW5tZW50IGFnYWluc3QuXG4gKiBAcGFyYW0gdGVzdCAtIFRoZSBlbGVtZW50IGJlaW5nIHRlc3RlZCBmb3IgY29udGFpbm1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZWRDb250YWlucyhyZWZlcmVuY2UsIHRlc3QpIHtcbiAgICBsZXQgY3VycmVudCA9IHRlc3Q7XG4gICAgd2hpbGUgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHJlZmVyZW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGNvbXBvc2VkUGFyZW50KGN1cnJlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBET00sIEVsZW1lbnRTdHlsZXMsIEZBU1RFbGVtZW50LCBvYnNlcnZhYmxlLCBPYnNlcnZhYmxlLCBwcmVwZW5kVG9BZG9wdGVkU3R5bGVTaGVldHNTeW1ib2wsIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuZnVuY3Rpb24gaXNGYXN0RWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBGQVNURWxlbWVudDtcbn1cbmNsYXNzIFF1ZXVlZFN0eWxlU2hlZXRUYXJnZXQge1xuICAgIHNldFByb3BlcnR5KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB0aGlzLnRhcmdldC5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSkpO1xuICAgIH1cbiAgICByZW1vdmVQcm9wZXJ0eShuYW1lKSB7XG4gICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB0aGlzLnRhcmdldC5yZW1vdmVQcm9wZXJ0eShuYW1lKSk7XG4gICAgfVxufVxuLyoqXG4gKiBIYW5kbGVzIHNldHRpbmcgcHJvcGVydGllcyBmb3IgYSBGQVNURWxlbWVudCB1c2luZyBDb25zdHJ1Y3RhYmxlIFN0eWxlc2hlZXRzXG4gKi9cbmNsYXNzIENvbnN0cnVjdGFibGVTdHlsZVNoZWV0VGFyZ2V0IGV4dGVuZHMgUXVldWVkU3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgc2hlZXRbcHJlcGVuZFRvQWRvcHRlZFN0eWxlU2hlZXRzU3ltYm9sXSA9IHRydWU7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gc2hlZXQuY3NzUnVsZXNbc2hlZXQuaW5zZXJ0UnVsZShcIjpob3N0e31cIildLnN0eWxlO1xuICAgICAgICBzb3VyY2UuJGZhc3RDb250cm9sbGVyLmFkZFN0eWxlcyhFbGVtZW50U3R5bGVzLmNyZWF0ZShbc2hlZXRdKSk7XG4gICAgfVxufVxuY2xhc3MgRG9jdW1lbnRTdHlsZVNoZWV0VGFyZ2V0IGV4dGVuZHMgUXVldWVkU3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGNvbnN0IHNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBzaGVldC5jc3NSdWxlc1tzaGVldC5pbnNlcnRSdWxlKFwiOnJvb3R7fVwiKV0uc3R5bGU7XG4gICAgICAgIGRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFtcbiAgICAgICAgICAgIC4uLmRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cyxcbiAgICAgICAgICAgIHNoZWV0LFxuICAgICAgICBdO1xuICAgIH1cbn1cbmNsYXNzIEhlYWRTdHlsZUVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0IGV4dGVuZHMgUXVldWVkU3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSk7XG4gICAgICAgIGNvbnN0IHsgc2hlZXQgfSA9IHRoaXMuc3R5bGU7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIEhUTUxTdHlsZUVsZW1lbnQgaGFzIGJlZW4gYXBwZW5kZWQsXG4gICAgICAgIC8vIHRoZXJlIHNob3VsZG4ndCBleGlzdCBhIGNhc2Ugd2hlcmUgYHNoZWV0YCBpcyBudWxsLFxuICAgICAgICAvLyBidXQgaWYtY2hlY2sgaXQganVzdCBpbiBjYXNlLlxuICAgICAgICBpZiAoc2hlZXQpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvbS9qc2RvbSB1c2VzIGh0dHBzOi8vZ2l0aHViLmNvbS9OVi9DU1NPTSBmb3IgaXQncyBDU1NPTSBpbXBsZW1lbnRhdGlvbixcbiAgICAgICAgICAgIC8vIHdoaWNoIGltcGxlbWVudHMgdGhlIERPTSBMZXZlbCAyIHNwZWMgZm9yIENTU1N0eWxlU2hlZXQgd2hlcmUgaW5zZXJ0UnVsZSgpIHJlcXVpcmVzIGFuIGluZGV4IGFyZ3VtZW50LlxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzaGVldC5pbnNlcnRSdWxlKFwiOnJvb3R7fVwiLCBzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBzaGVldC5jc3NSdWxlc1tpbmRleF0uc3R5bGU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEhhbmRsZXMgc2V0dGluZyBwcm9wZXJ0aWVzIGZvciBhIEZBU1RFbGVtZW50IHVzaW5nIGFuIEhUTUxTdHlsZUVsZW1lbnRcbiAqL1xuY2xhc3MgU3R5bGVFbGVtZW50U3R5bGVTaGVldFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRhcmdldC4kZmFzdENvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGNvbnRyb2xsZXIuYWRkU3R5bGVzKHRoaXMuc3R5bGUpO1xuICAgICAgICBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKGNvbnRyb2xsZXIpLnN1YnNjcmliZSh0aGlzLCBcImlzQ29ubmVjdGVkXCIpO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZShjb250cm9sbGVyLCBcImlzQ29ubmVjdGVkXCIpO1xuICAgIH1cbiAgICB0YXJnZXRDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuc3RvcmUuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlUHJvcGVydHkobmFtZSkge1xuICAgICAgICB0aGlzLnN0b3JlLmRlbGV0ZShuYW1lKTtcbiAgICAgICAgRE9NLnF1ZXVlVXBkYXRlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHNvdXJjZSwga2V5KSB7XG4gICAgICAgIC8vIEhUTUxTdHlsZUVsZW1lbnQuc2hlZXQgaXMgbnVsbCBpZiB0aGUgZWxlbWVudCBpc24ndCBjb25uZWN0ZWQgdG8gdGhlIERPTSxcbiAgICAgICAgLy8gc28gdGhpcyBtZXRob2QgcmVhY3RzIHRvIGNoYW5nZXMgaW4gRE9NIGNvbm5lY3Rpb24gZm9yIHRoZSBlbGVtZW50IGhvc3RpbmdcbiAgICAgICAgLy8gdGhlIEhUTUxTdHlsZUVsZW1lbnQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFsbCBydWxlcyBhcHBsaWVkIHZpYSB0aGUgQ1NTT00gYWxzbyBnZXQgY2xlYXJlZCB3aGVuIHRoZSBlbGVtZW50IGRpc2Nvbm5lY3RzLFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGFkZCBhIG5ldyBydWxlIGVhY2ggdGltZSBhbmQgcG9wdWxhdGUgaXQgd2l0aCB0aGUgc3RvcmVkIHByb3BlcnRpZXNcbiAgICAgICAgY29uc3QgeyBzaGVldCB9ID0gdGhpcy5zdHlsZTtcbiAgICAgICAgaWYgKHNoZWV0KSB7XG4gICAgICAgICAgICAvLyBTYWZhcmkgd2lsbCB0aHJvdyBpZiB3ZSB0cnkgdG8gdXNlIHRoZSByZXR1cm4gcmVzdWx0IG9mIGluc2VydFJ1bGUoKVxuICAgICAgICAgICAgLy8gdG8gaW5kZXggdGhlIHJ1bGUgaW5saW5lLCBzbyBzdG9yZSBhcyBhIGNvbnN0IHByaW9yIHRvIGluZGV4aW5nLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pzZG9tL2pzZG9tIHVzZXMgaHR0cHM6Ly9naXRodWIuY29tL05WL0NTU09NIGZvciBpdCdzIENTU09NIGltcGxlbWVudGF0aW9uLFxuICAgICAgICAgICAgLy8gd2hpY2ggaW1wbGVtZW50cyB0aGUgRE9NIExldmVsIDIgc3BlYyBmb3IgQ1NTU3R5bGVTaGVldCB3aGVyZSBpbnNlcnRSdWxlKCkgcmVxdWlyZXMgYW4gaW5kZXggYXJndW1lbnQuXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNoZWV0Lmluc2VydFJ1bGUoXCI6aG9zdHt9XCIsIHNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHNoZWV0LmNzc1J1bGVzW2luZGV4XS5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIFN0eWxlRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQucHJvdG90eXBlLCBcInRhcmdldFwiLCB2b2lkIDApO1xuLyoqXG4gKiBIYW5kbGVzIHNldHRpbmcgcHJvcGVydGllcyBmb3IgYSBub3JtYWwgSFRNTEVsZW1lbnRcbiAqL1xuY2xhc3MgRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHNvdXJjZS5zdHlsZTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgRE9NLnF1ZXVlVXBkYXRlKCgpID0+IHRoaXMudGFyZ2V0LnNldFByb3BlcnR5KG5hbWUsIHZhbHVlKSk7XG4gICAgfVxuICAgIHJlbW92ZVByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgRE9NLnF1ZXVlVXBkYXRlKCgpID0+IHRoaXMudGFyZ2V0LnJlbW92ZVByb3BlcnR5KG5hbWUpKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnRyb2xzIGVtaXNzaW9uIGZvciBkZWZhdWx0IHZhbHVlcy4gVGhpcyBjb250cm9sIGlzIGNhcGFibGVcbiAqIG9mIGVtaXR0aW5nIHRvIG11bHRpcGxlIHtAbGluayBQcm9wZXJ0eVRhcmdldCB8IFByb3BlcnR5VGFyZ2V0c30sXG4gKiBhbmQgb25seSBlbWl0cyBpZiBpdCBoYXMgYXQgbGVhc3Qgb25lIHJvb3QuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBSb290U3R5bGVTaGVldFRhcmdldCB7XG4gICAgc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgUm9vdFN0eWxlU2hlZXRUYXJnZXQucHJvcGVydGllc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBSb290U3R5bGVTaGVldFRhcmdldC5yb290cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgUHJvcGVydHlUYXJnZXRNYW5hZ2VyLmdldE9yQ3JlYXRlKFJvb3RTdHlsZVNoZWV0VGFyZ2V0Lm5vcm1hbGl6ZVJvb3QodGFyZ2V0KSkuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZVByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgZGVsZXRlIFJvb3RTdHlsZVNoZWV0VGFyZ2V0LnByb3BlcnRpZXNbbmFtZV07XG4gICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIFJvb3RTdHlsZVNoZWV0VGFyZ2V0LnJvb3RzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBQcm9wZXJ0eVRhcmdldE1hbmFnZXIuZ2V0T3JDcmVhdGUoUm9vdFN0eWxlU2hlZXRUYXJnZXQubm9ybWFsaXplUm9vdCh0YXJnZXQpKS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcmVnaXN0ZXJSb290KHJvb3QpIHtcbiAgICAgICAgY29uc3QgeyByb290cyB9ID0gUm9vdFN0eWxlU2hlZXRUYXJnZXQ7XG4gICAgICAgIGlmICghcm9vdHMuaGFzKHJvb3QpKSB7XG4gICAgICAgICAgICByb290cy5hZGQocm9vdCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBQcm9wZXJ0eVRhcmdldE1hbmFnZXIuZ2V0T3JDcmVhdGUodGhpcy5ub3JtYWxpemVSb290KHJvb3QpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIFJvb3RTdHlsZVNoZWV0VGFyZ2V0LnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0UHJvcGVydHkoa2V5LCBSb290U3R5bGVTaGVldFRhcmdldC5wcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB1bnJlZ2lzdGVyUm9vdChyb290KSB7XG4gICAgICAgIGNvbnN0IHsgcm9vdHMgfSA9IFJvb3RTdHlsZVNoZWV0VGFyZ2V0O1xuICAgICAgICBpZiAocm9vdHMuaGFzKHJvb3QpKSB7XG4gICAgICAgICAgICByb290cy5kZWxldGUocm9vdCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBQcm9wZXJ0eVRhcmdldE1hbmFnZXIuZ2V0T3JDcmVhdGUoUm9vdFN0eWxlU2hlZXRUYXJnZXQubm9ybWFsaXplUm9vdChyb290KSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBSb290U3R5bGVTaGVldFRhcmdldC5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZVByb3BlcnR5KGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQgd2hlbiBwcm92aWRlZCB0aGUgZGVmYXVsdCBlbGVtZW50LFxuICAgICAqIG90aGVyd2lzZSBpcyBhIG5vLW9wXG4gICAgICogQHBhcmFtIHJvb3QgLSB0aGUgcm9vdCB0byBub3JtYWxpemVcbiAgICAgKi9cbiAgICBzdGF0aWMgbm9ybWFsaXplUm9vdChyb290KSB7XG4gICAgICAgIHJldHVybiByb290ID09PSBkZWZhdWx0RWxlbWVudCA/IGRvY3VtZW50IDogcm9vdDtcbiAgICB9XG59XG5Sb290U3R5bGVTaGVldFRhcmdldC5yb290cyA9IG5ldyBTZXQoKTtcblJvb3RTdHlsZVNoZWV0VGFyZ2V0LnByb3BlcnRpZXMgPSB7fTtcbi8vIENhY2hlcyBQcm9wZXJ0eVRhcmdldCBpbnN0YW5jZXNcbmNvbnN0IHByb3BlcnR5VGFyZ2V0Q2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuLy8gVXNlIENvbnN0cnVjdGFibGUgU3R5bGVTaGVldHMgZm9yIEZBU1QgZWxlbWVudHMgd2hlbiBzdXBwb3J0ZWQsIG90aGVyd2lzZSB1c2Vcbi8vIEhUTUxTdHlsZUVsZW1lbnQgaW5zdGFuY2VzXG5jb25zdCBwcm9wZXJ0eVRhcmdldEN0b3IgPSBET00uc3VwcG9ydHNBZG9wdGVkU3R5bGVTaGVldHNcbiAgICA/IENvbnN0cnVjdGFibGVTdHlsZVNoZWV0VGFyZ2V0XG4gICAgOiBTdHlsZUVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0O1xuLyoqXG4gKiBNYW5hZ2VzIGNyZWF0aW9uIGFuZCBjYWNoaW5nIG9mIFByb3BlcnR5VGFyZ2V0IGluc3RhbmNlcy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5VGFyZ2V0TWFuYWdlciA9IE9iamVjdC5mcmVlemUoe1xuICAgIGdldE9yQ3JlYXRlKHNvdXJjZSkge1xuICAgICAgICBpZiAocHJvcGVydHlUYXJnZXRDYWNoZS5oYXMoc291cmNlKSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eVRhcmdldENhY2hlLmdldChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YXJnZXQ7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IGRlZmF1bHRFbGVtZW50KSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBuZXcgUm9vdFN0eWxlU2hlZXRUYXJnZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gRE9NLnN1cHBvcnRzQWRvcHRlZFN0eWxlU2hlZXRzXG4gICAgICAgICAgICAgICAgPyBuZXcgRG9jdW1lbnRTdHlsZVNoZWV0VGFyZ2V0KClcbiAgICAgICAgICAgICAgICA6IG5ldyBIZWFkU3R5bGVFbGVtZW50U3R5bGVTaGVldFRhcmdldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRmFzdEVsZW1lbnQoc291cmNlKSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IHByb3BlcnR5VGFyZ2V0Q3Rvcihzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEVsZW1lbnRTdHlsZVNoZWV0VGFyZ2V0KHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydHlUYXJnZXRDYWNoZS5zZXQoc291cmNlLCB0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG59KTtcbiIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IENTU0RpcmVjdGl2ZSwgZGVmYXVsdEV4ZWN1dGlvbkNvbnRleHQsIEZBU1RFbGVtZW50LCBvYnNlcnZhYmxlLCBPYnNlcnZhYmxlLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgY29tcG9zZWRQYXJlbnQgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NvbXBvc2VkLXBhcmVudC5qc1wiO1xuaW1wb3J0IHsgY29tcG9zZWRDb250YWlucyB9IGZyb20gXCIuLi91dGlsaXRpZXMvY29tcG9zZWQtY29udGFpbnMuanNcIjtcbmltcG9ydCB7IFByb3BlcnR5VGFyZ2V0TWFuYWdlciwgUm9vdFN0eWxlU2hlZXRUYXJnZXQsIH0gZnJvbSBcIi4vY3VzdG9tLXByb3BlcnR5LW1hbmFnZXIuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFbGVtZW50IH0gZnJvbSBcIi4vY3VzdG9tLXByb3BlcnR5LW1hbmFnZXIuanNcIjtcbi8qKlxuICogSW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIChEZXNpZ25Ub2tlbjppbnRlcmZhY2UpfVxuICovXG5jbGFzcyBEZXNpZ25Ub2tlbkltcGwgZXh0ZW5kcyBDU1NEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuX2FwcGxpZWRUbyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gY29uZmlndXJhdGlvbi5uYW1lO1xuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5jc3NDdXN0b21Qcm9wZXJ0eU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzQ3VzdG9tUHJvcGVydHkgPSBgLS0ke2NvbmZpZ3VyYXRpb24uY3NzQ3VzdG9tUHJvcGVydHlOYW1lfWA7XG4gICAgICAgICAgICB0aGlzLmNzc1ZhciA9IGB2YXIoJHt0aGlzLmNzc0N1c3RvbVByb3BlcnR5fSlgO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWQgPSBEZXNpZ25Ub2tlbkltcGwudW5pcXVlSWQoKTtcbiAgICAgICAgRGVzaWduVG9rZW5JbXBsLnRva2Vuc0J5SWQuc2V0KHRoaXMuaWQsIHRoaXMpO1xuICAgIH1cbiAgICBnZXQgYXBwbGllZFRvKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuX2FwcGxpZWRUb107XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKG5hbWVPckNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IERlc2lnblRva2VuSW1wbCh7XG4gICAgICAgICAgICBuYW1lOiB0eXBlb2YgbmFtZU9yQ29uZmlnID09PSBcInN0cmluZ1wiID8gbmFtZU9yQ29uZmlnIDogbmFtZU9yQ29uZmlnLm5hbWUsXG4gICAgICAgICAgICBjc3NDdXN0b21Qcm9wZXJ0eU5hbWU6IHR5cGVvZiBuYW1lT3JDb25maWcgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICA/IG5hbWVPckNvbmZpZ1xuICAgICAgICAgICAgICAgIDogbmFtZU9yQ29uZmlnLmNzc0N1c3RvbVByb3BlcnR5TmFtZSA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgID8gbmFtZU9yQ29uZmlnLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiBuYW1lT3JDb25maWcuY3NzQ3VzdG9tUHJvcGVydHlOYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGlzQ1NTRGVzaWduVG9rZW4odG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0b2tlbi5jc3NDdXN0b21Qcm9wZXJ0eSA9PT0gXCJzdHJpbmdcIjtcbiAgICB9XG4gICAgc3RhdGljIGlzRGVyaXZlZERlc2lnblRva2VuVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdG9rZW4gYnkgSUQuIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZSB0b2tlbiB3YXMgbm90IGZvdW5kLlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBJRCBvZiB0aGUgdG9rZW5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRUb2tlbkJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIERlc2lnblRva2VuSW1wbC50b2tlbnNCeUlkLmdldChpZCk7XG4gICAgfVxuICAgIGdldE9yQ3JlYXRlU3Vic2NyaWJlclNldCh0YXJnZXQgPSB0aGlzKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdWJzY3JpYmVycy5nZXQodGFyZ2V0KSB8fFxuICAgICAgICAgICAgKHRoaXMuc3Vic2NyaWJlcnMuc2V0KHRhcmdldCwgbmV3IFNldCgpKSAmJiB0aGlzLnN1YnNjcmliZXJzLmdldCh0YXJnZXQpKSk7XG4gICAgfVxuICAgIGNyZWF0ZUNTUygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NzVmFyIHx8IFwiXCI7XG4gICAgfVxuICAgIGdldFZhbHVlRm9yKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUoZWxlbWVudCkuZ2V0KHRoaXMpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgY291bGQgbm90IGJlIHJldHJpZXZlZCBmb3IgdG9rZW4gbmFtZWQgXCIke3RoaXMubmFtZX1cIi4gRW5zdXJlIHRoZSB2YWx1ZSBpcyBzZXQgZm9yICR7ZWxlbWVudH0gb3IgYW4gYW5jZXN0b3Igb2YgJHtlbGVtZW50fS5gKTtcbiAgICB9XG4gICAgc2V0VmFsdWVGb3IoZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXBwbGllZFRvLmFkZChlbGVtZW50KTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGVzaWduVG9rZW5JbXBsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuYWxpYXModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIERlc2lnblRva2VuTm9kZS5nZXRPckNyZWF0ZShlbGVtZW50KS5zZXQodGhpcywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVsZXRlVmFsdWVGb3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9hcHBsaWVkVG8uZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICBpZiAoRGVzaWduVG9rZW5Ob2RlLmV4aXN0c0ZvcihlbGVtZW50KSkge1xuICAgICAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmdldE9yQ3JlYXRlKGVsZW1lbnQpLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aERlZmF1bHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZUZvcihkZWZhdWx0RWxlbWVudCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3Vic2NyaWJlKHN1YnNjcmliZXIsIHRhcmdldCkge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVyU2V0ID0gdGhpcy5nZXRPckNyZWF0ZVN1YnNjcmliZXJTZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKHRhcmdldCAmJiAhRGVzaWduVG9rZW5Ob2RlLmV4aXN0c0Zvcih0YXJnZXQpKSB7XG4gICAgICAgICAgICBEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN1YnNjcmliZXJTZXQuaGFzKHN1YnNjcmliZXIpKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyU2V0LmFkZChzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnN1YnNjcmliZShzdWJzY3JpYmVyLCB0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuc3Vic2NyaWJlcnMuZ2V0KHRhcmdldCB8fCB0aGlzKTtcbiAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5oYXMoc3Vic2NyaWJlcikpIHtcbiAgICAgICAgICAgIGxpc3QuZGVsZXRlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIHN1YnNjcmliZXJzIHRoYXQgdGhlIHZhbHVlIGZvciBhbiBlbGVtZW50IGhhcyBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gZW1pdCBhIG5vdGlmaWNhdGlvbiBmb3JcbiAgICAgKi9cbiAgICBub3RpZnkoZWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWNvcmQgPSBPYmplY3QuZnJlZXplKHsgdG9rZW46IHRoaXMsIHRhcmdldDogZWxlbWVudCB9KTtcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnMuaGFzKHRoaXMpKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmdldCh0aGlzKS5mb3JFYWNoKHN1YiA9PiBzdWIuaGFuZGxlQ2hhbmdlKHJlY29yZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmliZXJzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5nZXQoZWxlbWVudCkuZm9yRWFjaChzdWIgPT4gc3ViLmhhbmRsZUNoYW5nZShyZWNvcmQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyB0aGUgdG9rZW4gdG8gdGhlIHByb3ZpZGVkIHRva2VuLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIHRoZSB0b2tlbiB0byBhbGlhcyB0b1xuICAgICAqL1xuICAgIGFsaWFzKHRva2VuKSB7XG4gICAgICAgIHJldHVybiAoKHRhcmdldCkgPT4gdG9rZW4uZ2V0VmFsdWVGb3IodGFyZ2V0KSk7XG4gICAgfVxufVxuRGVzaWduVG9rZW5JbXBsLnVuaXF1ZUlkID0gKCgpID0+IHtcbiAgICBsZXQgaWQgPSAwO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlkKys7XG4gICAgICAgIHJldHVybiBpZC50b1N0cmluZygxNik7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIFRva2VuIHN0b3JhZ2UgYnkgdG9rZW4gSURcbiAqL1xuRGVzaWduVG9rZW5JbXBsLnRva2Vuc0J5SWQgPSBuZXcgTWFwKCk7XG5jbGFzcyBDdXN0b21Qcm9wZXJ0eVJlZmxlY3RvciB7XG4gICAgc3RhcnRSZWZsZWN0aW9uKHRva2VuLCB0YXJnZXQpIHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHRoaXMsIHRhcmdldCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHsgdG9rZW4sIHRhcmdldCB9KTtcbiAgICB9XG4gICAgc3RvcFJlZmxlY3Rpb24odG9rZW4sIHRhcmdldCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZSh0aGlzLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLnJlbW92ZSh0b2tlbiwgdGFyZ2V0KTtcbiAgICB9XG4gICAgaGFuZGxlQ2hhbmdlKHJlY29yZCkge1xuICAgICAgICBjb25zdCB7IHRva2VuLCB0YXJnZXQgfSA9IHJlY29yZDtcbiAgICAgICAgdGhpcy5hZGQodG9rZW4sIHRhcmdldCk7XG4gICAgfVxuICAgIGFkZCh0b2tlbiwgdGFyZ2V0KSB7XG4gICAgICAgIFByb3BlcnR5VGFyZ2V0TWFuYWdlci5nZXRPckNyZWF0ZSh0YXJnZXQpLnNldFByb3BlcnR5KHRva2VuLmNzc0N1c3RvbVByb3BlcnR5LCB0aGlzLnJlc29sdmVDU1NWYWx1ZShEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUodGFyZ2V0KS5nZXQodG9rZW4pKSk7XG4gICAgfVxuICAgIHJlbW92ZSh0b2tlbiwgdGFyZ2V0KSB7XG4gICAgICAgIFByb3BlcnR5VGFyZ2V0TWFuYWdlci5nZXRPckNyZWF0ZSh0YXJnZXQpLnJlbW92ZVByb3BlcnR5KHRva2VuLmNzc0N1c3RvbVByb3BlcnR5KTtcbiAgICB9XG4gICAgcmVzb2x2ZUNTU1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuY3JlYXRlQ1NTID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZS5jcmVhdGVDU1MoKSA6IHZhbHVlO1xuICAgIH1cbn1cbi8qKlxuICogQSBsaWdodCB3cmFwcGVyIGFyb3VuZCBCaW5kaW5nT2JzZXJ2ZXIgdG8gaGFuZGxlIHZhbHVlIGNhY2hpbmcgYW5kXG4gKiB0b2tlbiBub3RpZmljYXRpb25cbiAqL1xuY2xhc3MgRGVzaWduVG9rZW5CaW5kaW5nT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgdG9rZW4sIG5vZGUpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBPYnNlcnZhYmxlLmJpbmRpbmcoc291cmNlLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBsaXR0bGUgYml0IGhhY2t5IGJlY2F1c2UgaXQncyB1c2luZyBpbnRlcm5hbCBBUElzIG9mIEJpbmRpbmdPYnNlcnZlckltcGwuXG4gICAgICAgIC8vIEJpbmRpbmdPYnNlcnZlckltcGwgcXVldWVzIHVwZGF0ZXMgdG8gYmF0Y2ggaXQncyBub3RpZmljYXRpb25zIHdoaWNoIGRvZXNuJ3Qgd29yayBmb3IgdGhpc1xuICAgICAgICAvLyBzY2VuYXJpbyBiZWNhdXNlIHRoZSBEZXNpZ25Ub2tlbi5nZXRWYWx1ZUZvciBBUEkgaXMgbm90IGFzeW5jLiBXaXRob3V0IHRoaXMsIHVzaW5nIERlc2lnblRva2VuLmdldFZhbHVlRm9yKClcbiAgICAgICAgLy8gYWZ0ZXIgRGVzaWduVG9rZW4uc2V0VmFsdWVGb3IoKSB3aGVuIHNldHRpbmcgYSBkZXBlbmRlbmN5IG9mIHRoZSB2YWx1ZSBiZWluZyByZXRyaWV2ZWQgY2FuIHJldHVybiBhIHN0YWxlXG4gICAgICAgIC8vIHZhbHVlLiBBc3NpZ25pbmcgLmhhbmRsZUNoYW5nZSB0byAuY2FsbCBmb3JjZXMgaW1tZWRpYXRlIGludm9jYXRpb24gb2YgdGhpcyBjbGFzc2VzIGhhbmRsZUNoYW5nZSgpIG1ldGhvZCxcbiAgICAgICAgLy8gYWxsb3dpbmcgcmVzb2x1dGlvbiBvZiB2YWx1ZXMgc3luY2hyb25vdXNseS5cbiAgICAgICAgLy8gVE9ETzogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9mYXN0L2lzc3Vlcy81MTEwXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuaGFuZGxlQ2hhbmdlID0gdGhpcy5vYnNlcnZlci5jYWxsO1xuICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgaGFuZGxlQ2hhbmdlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnN0b3JlLnNldCh0aGlzLnRva2VuLCB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5ub2RlLnRhcmdldCwgZGVmYXVsdEV4ZWN1dGlvbkNvbnRleHQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogU3RvcmVzIHJlc29sdmVkIHRva2VuL3ZhbHVlIHBhaXJzIGFuZCBub3RpZmllcyBvbiBjaGFuZ2VzXG4gKi9cbmNsYXNzIFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHNldCh0b2tlbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzLmdldCh0b2tlbikgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcy5zZXQodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgIE9ic2VydmFibGUuZ2V0Tm90aWZpZXIodGhpcykubm90aWZ5KHRva2VuLmlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQodG9rZW4pIHtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCB0b2tlbi5pZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5nZXQodG9rZW4pO1xuICAgIH1cbiAgICBkZWxldGUodG9rZW4pIHtcbiAgICAgICAgdGhpcy52YWx1ZXMuZGVsZXRlKHRva2VuKTtcbiAgICAgICAgT2JzZXJ2YWJsZS5nZXROb3RpZmllcih0aGlzKS5ub3RpZnkodG9rZW4uaWQpO1xuICAgIH1cbiAgICBhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5lbnRyaWVzKCk7XG4gICAgfVxufVxuY29uc3Qgbm9kZUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGNoaWxkVG9QYXJlbnQgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBBIG5vZGUgcmVzcG9uc2libGUgZm9yIHNldHRpbmcgYW5kIGdldHRpbmcgdG9rZW4gdmFsdWVzLFxuICogZW1pdHRpbmcgdmFsdWVzIHRvIENTUyBjdXN0b20gcHJvcGVydGllcywgYW5kIG1haW50YWluaW5nXG4gKiBpbmhlcml0YW5jZSBzdHJ1Y3R1cmVzLlxuICovXG5jbGFzcyBEZXNpZ25Ub2tlbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBhbGwgcmVzb2x2ZWQgdG9rZW4gdmFsdWVzIGZvciBhIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU3RvcmUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBjaGlsZHJlbiBhc3NpZ25lZCB0byB0aGUgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHZhbHVlcyBleHBsaWNpdGx5IGFzc2lnbmVkIHRvIHRoZSBub2RlIGluIHRoZWlyIHJhdyBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFzc2lnbmVkVmFsdWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVG9rZW5zIGN1cnJlbnRseSBiZWluZyByZWZsZWN0ZWQgdG8gQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZmxlY3RpbmcgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCaW5kaW5nIG9ic2VydmVycyBmb3IgYXNzaWduZWQgYW5kIGluaGVyaXRlZCBkZXJpdmVkIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVtaXRzIG5vdGlmaWNhdGlvbnMgdG8gdG9rZW4gd2hlbiB0b2tlbiB2YWx1ZXNcbiAgICAgICAgICogY2hhbmdlIHRoZSBEZXNpZ25Ub2tlbk5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG9rZW5WYWx1ZUNoYW5nZUhhbmRsZXIgPSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2U6IChzb3VyY2UsIGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gRGVzaWduVG9rZW5JbXBsLmdldFRva2VuQnlJZChhcmcpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3RpZnkgYW55IHRva2VuIHN1YnNjcmliZXJzXG4gICAgICAgICAgICAgICAgICAgIHRva2VuLm5vdGlmeSh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ1NTVG9rZW5SZWZsZWN0aW9uKHNvdXJjZSwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG5vZGVDYWNoZS5zZXQodGFyZ2V0LCB0aGlzKTtcbiAgICAgICAgLy8gTWFwIHN0b3JlIGNoYW5nZSBub3RpZmljYXRpb25zIHRvIHRva2VuIGNoYW5nZSBub3RpZmljYXRpb25zXG4gICAgICAgIE9ic2VydmFibGUuZ2V0Tm90aWZpZXIodGhpcy5zdG9yZSkuc3Vic2NyaWJlKHRoaXMudG9rZW5WYWx1ZUNoYW5nZUhhbmRsZXIpO1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRkFTVEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRhcmdldC4kZmFzdENvbnRyb2xsZXIuYWRkQmVoYXZpb3JzKFt0aGlzXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0LmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgRGVzaWduVG9rZW5Ob2RlIGZvciBhbiBlbGVtZW50LlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2UgaWYgb25lIGRvZXMgbm90IGFscmVhZHkgZXhpc3QgZm9yIGEgbm9kZSxcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJucyB0aGUgY2FjaGVkIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIEhUTUwgZWxlbWVudCB0byByZXRyaWV2ZSBhIERlc2lnblRva2VuTm9kZSBmb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0T3JDcmVhdGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBub2RlQ2FjaGUuZ2V0KHRhcmdldCkgfHwgbmV3IERlc2lnblRva2VuTm9kZSh0YXJnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgRGVzaWduVG9rZW5Ob2RlIGhhcyBiZWVuIGNyZWF0ZWQgZm9yIGEgdGFyZ2V0XG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSBlbGVtZW50IHRvIHRlc3RcbiAgICAgKi9cbiAgICBzdGF0aWMgZXhpc3RzRm9yKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gbm9kZUNhY2hlLmhhcyh0YXJnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBmb3IgYW5kIHJldHVybiB0aGUgbmVhcmVzdCBwYXJlbnQgRGVzaWduVG9rZW5Ob2RlLlxuICAgICAqIE51bGwgaXMgcmV0dXJuZWQgaWYgbm8gbm9kZSBpcyBmb3VuZCBvciB0aGUgbm9kZSBwcm92aWRlZCBpcyBmb3IgYSBkZWZhdWx0IGVsZW1lbnQuXG4gICAgICovXG4gICAgc3RhdGljIGZpbmRQYXJlbnQobm9kZSkge1xuICAgICAgICBpZiAoIShkZWZhdWx0RWxlbWVudCA9PT0gbm9kZS50YXJnZXQpKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gY29tcG9zZWRQYXJlbnQobm9kZS50YXJnZXQpO1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlQ2FjaGUuaGFzKHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVDYWNoZS5nZXQocGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gY29tcG9zZWRQYXJlbnQocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBEZXNpZ25Ub2tlbk5vZGUuZ2V0T3JDcmVhdGUoZGVmYXVsdEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgY2xvc2VzdCBub2RlIHdpdGggYSB2YWx1ZSBleHBsaWNpdGx5IGFzc2lnbmVkIGZvciBhIHRva2VuLCBvdGhlcndpc2UgbnVsbC5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gbG9vayBmb3JcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBUaGUgbm9kZSB0byBzdGFydCBsb29raW5nIGZvciB2YWx1ZSBhc3NpZ25tZW50XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluZENsb3Nlc3RBc3NpZ25lZE5vZGUodG9rZW4sIHN0YXJ0KSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Lmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudFxuICAgICAgICAgICAgICAgID8gY3VycmVudC5wYXJlbnRcbiAgICAgICAgICAgICAgICA6IGN1cnJlbnQudGFyZ2V0ICE9PSBkZWZhdWx0RWxlbWVudFxuICAgICAgICAgICAgICAgICAgICA/IERlc2lnblRva2VuTm9kZS5nZXRPckNyZWF0ZShkZWZhdWx0RWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB9IHdoaWxlIChjdXJyZW50ICE9PSBudWxsKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgRGVzaWduVG9rZW5Ob2RlLCBvciBudWxsLlxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiBjaGlsZFRvUGFyZW50LmdldCh0aGlzKSB8fCBudWxsO1xuICAgIH1cbiAgICB1cGRhdGVDU1NUb2tlblJlZmxlY3Rpb24oc291cmNlLCB0b2tlbikge1xuICAgICAgICBpZiAoRGVzaWduVG9rZW5JbXBsLmlzQ1NTRGVzaWduVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgICAgIGNvbnN0IHJlZmxlY3RpbmcgPSB0aGlzLmlzUmVmbGVjdGluZyh0b2tlbik7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VmFsdWUgPSBwYXJlbnQuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZSA9IHNvdXJjZS5nZXQodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRWYWx1ZSAhPT0gc291cmNlVmFsdWUgJiYgIXJlZmxlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZsZWN0VG9DU1ModG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJlbnRWYWx1ZSA9PT0gc291cmNlVmFsdWUgJiYgcmVmbGVjdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BSZWZsZWN0VG9DU1ModG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZWZsZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZsZWN0VG9DU1ModG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHRva2VuIGhhcyBiZWVuIGFzc2lnbmVkIGFuIGV4cGxpY2l0IHZhbHVlIHRoZSBub2RlLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIHRoZSB0b2tlbiB0byBjaGVjay5cbiAgICAgKi9cbiAgICBoYXModG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzaWduZWRWYWx1ZXMuaGFzKHRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYSB0b2tlbiBmb3IgYSBub2RlXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIHRva2VuIHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBmb3JcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldCh0b2tlbikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RvcmUuZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXcgPSB0aGlzLmdldFJhdyh0b2tlbik7XG4gICAgICAgIGlmIChyYXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5oeWRyYXRlKHRva2VuLCByYXcpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHJhdyBhc3NpZ25lZCB2YWx1ZSBvZiBhIHRva2VuIGZyb20gdGhlIG5lYXJlc3QgYXNzaWduZWQgbm9kZS5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gcmV0cmlldmUgYSByYXcgdmFsdWUgZm9yXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRSYXcodG9rZW4pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5hc3NpZ25lZFZhbHVlcy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc3NpZ25lZFZhbHVlcy5nZXQodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSBEZXNpZ25Ub2tlbk5vZGUuZmluZENsb3Nlc3RBc3NpZ25lZE5vZGUodG9rZW4sIHRoaXMpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UmF3KHRva2VuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHRva2VuIHRvIGEgdmFsdWUgZm9yIGEgbm9kZVxuICAgICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBzZXRcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0IHRoZSB0b2tlbiB0b1xuICAgICAqL1xuICAgIHNldCh0b2tlbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKERlc2lnblRva2VuSW1wbC5pc0Rlcml2ZWREZXNpZ25Ub2tlblZhbHVlKHRoaXMuYXNzaWduZWRWYWx1ZXMuZ2V0KHRva2VuKSkpIHtcbiAgICAgICAgICAgIHRoaXMudGVhckRvd25CaW5kaW5nT2JzZXJ2ZXIodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzaWduZWRWYWx1ZXMuc2V0KHRva2VuLCB2YWx1ZSk7XG4gICAgICAgIGlmIChEZXNpZ25Ub2tlbkltcGwuaXNEZXJpdmVkRGVzaWduVG9rZW5WYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBCaW5kaW5nT2JzZXJ2ZXIodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0KHRva2VuLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHRva2VuIHZhbHVlIGZvciB0aGUgbm9kZS5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gZGVsZXRlIHRoZSB2YWx1ZSBmb3JcbiAgICAgKi9cbiAgICBkZWxldGUodG9rZW4pIHtcbiAgICAgICAgdGhpcy5hc3NpZ25lZFZhbHVlcy5kZWxldGUodG9rZW4pO1xuICAgICAgICB0aGlzLnRlYXJEb3duQmluZGluZ09ic2VydmVyKHRva2VuKTtcbiAgICAgICAgY29uc3QgdXBzdHJlYW0gPSB0aGlzLmdldFJhdyh0b2tlbik7XG4gICAgICAgIGlmICh1cHN0cmVhbSkge1xuICAgICAgICAgICAgdGhpcy5oeWRyYXRlKHRva2VuLCB1cHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRlbGV0ZSh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBEZXNpZ25Ub2tlbk5vZGUudGFyZ2V0IGlzIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIGJpbmQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IERlc2lnblRva2VuTm9kZS5maW5kUGFyZW50KHRoaXMpO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5hc3NpZ25lZFZhbHVlcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGtleS5ub3RpZnkodGhpcy50YXJnZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgRGVzaWduVG9rZW5Ob2RlLnRhcmdldCBpcyBkZXRhY2hlZCBmcm9tIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIHVuYmluZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZFRvUGFyZW50LmdldCh0aGlzKTtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRoaXMuYmluZGluZ09ic2VydmVycy5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGVhckRvd25CaW5kaW5nT2JzZXJ2ZXIodG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBjaGlsZCB0byBhIHBhcmVudCBEZXNpZ25Ub2tlbk5vZGUuXG4gICAgICogQHBhcmFtIGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFwcGVuZCB0byB0aGUgbm9kZVxuICAgICAqL1xuICAgIGFwcGVuZENoaWxkKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkVG9QYXJlbnQuZ2V0KGNoaWxkKS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVQYXJlbnQgPSB0aGlzLmNoaWxkcmVuLmZpbHRlcih4ID0+IGNoaWxkLmNvbnRhaW5zKHgpKTtcbiAgICAgICAgY2hpbGRUb1BhcmVudC5zZXQoY2hpbGQsIHRoaXMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICByZVBhcmVudC5mb3JFYWNoKHggPT4gY2hpbGQuYXBwZW5kQ2hpbGQoeCkpO1xuICAgICAgICBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKHRoaXMuc3RvcmUpLnN1YnNjcmliZShjaGlsZCk7XG4gICAgICAgIC8vIEhvdyBjYW4gd2Ugbm90IG5vdGlmeSAqZXZlcnkqIHN1YnNjcmliZXI/XG4gICAgICAgIGZvciAoY29uc3QgW3Rva2VuLCB2YWx1ZV0gb2YgdGhpcy5zdG9yZS5hbGwoKSkge1xuICAgICAgICAgICAgY2hpbGQuaHlkcmF0ZSh0b2tlbiwgdGhpcy5iaW5kaW5nT2JzZXJ2ZXJzLmhhcyh0b2tlbikgPyB0aGlzLmdldFJhdyh0b2tlbikgOiB2YWx1ZSk7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHN0b3AgcmVmbGVjdGluZyBhbnkgdG9rZW5zIHRoYXQgY2FuIG5vdyBiZSBpbmhlcml0ZWRcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUNTU1Rva2VuUmVmbGVjdGlvbihjaGlsZC5zdG9yZSwgdG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIGEgbm9kZS5cbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHJlbW92ZUNoaWxkKGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIE9ic2VydmFibGUuZ2V0Tm90aWZpZXIodGhpcy5zdG9yZSkudW5zdWJzY3JpYmUoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGQucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVsZXRlZCA9IGNoaWxkVG9QYXJlbnQuZGVsZXRlKGNoaWxkKTtcbiAgICAgICAgZm9yIChjb25zdCBbdG9rZW5dIG9mIHRoaXMuc3RvcmUuYWxsKCkpIHtcbiAgICAgICAgICAgIGNoaWxkLmh5ZHJhdGUodG9rZW4sIGNoaWxkLmdldFJhdyh0b2tlbikpO1xuICAgICAgICAgICAgLy8gTmVlZCB0byBzdGFydCByZWZsZWN0aW5nIGFueSBhc3NpZ25lZCB2YWx1ZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgaW5oZXJpdGVkXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVDU1NUb2tlblJlZmxlY3Rpb24oY2hpbGQuc3RvcmUsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVsZXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdHMgd2hldGhlciBhIHByb3ZpZGVkIG5vZGUgaXMgY29udGFpbmVkIGJ5XG4gICAgICogdGhlIGNhbGxpbmcgbm9kZS5cbiAgICAgKiBAcGFyYW0gdGVzdCAtIFRoZSBub2RlIHRvIHRlc3RcbiAgICAgKi9cbiAgICBjb250YWlucyh0ZXN0KSB7XG4gICAgICAgIHJldHVybiBjb21wb3NlZENvbnRhaW5zKHRoaXMudGFyZ2V0LCB0ZXN0LnRhcmdldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RydWN0cyB0aGUgbm9kZSB0byByZWZsZWN0IGEgZGVzaWduIHRva2VuIGZvciB0aGUgcHJvdmlkZWQgdG9rZW4uXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIGRlc2lnbiB0b2tlbiB0byByZWZsZWN0XG4gICAgICovXG4gICAgcmVmbGVjdFRvQ1NTKHRva2VuKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlZmxlY3RpbmcodG9rZW4pKSB7XG4gICAgICAgICAgICB0aGlzLnJlZmxlY3RpbmcuYWRkKHRva2VuKTtcbiAgICAgICAgICAgIERlc2lnblRva2VuTm9kZS5jc3NDdXN0b21Qcm9wZXJ0eVJlZmxlY3Rvci5zdGFydFJlZmxlY3Rpb24odG9rZW4sIHRoaXMudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyByZWZsZWN0aW5nIGEgRGVzaWduVG9rZW4gdG8gQ1NTXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIGRlc2lnbiB0b2tlbiB0byBzdG9wIHJlZmxlY3RpbmdcbiAgICAgKi9cbiAgICBzdG9wUmVmbGVjdFRvQ1NTKHRva2VuKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVmbGVjdGluZyh0b2tlbikpIHtcbiAgICAgICAgICAgIHRoaXMucmVmbGVjdGluZy5kZWxldGUodG9rZW4pO1xuICAgICAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmNzc0N1c3RvbVByb3BlcnR5UmVmbGVjdG9yLnN0b3BSZWZsZWN0aW9uKHRva2VuLCB0aGlzLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHRva2VuIGlzIGJlaW5nIHJlZmxlY3RlZCB0byBDU1MgZm9yIGEgbm9kZS5cbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gY2hlY2sgZm9yIHJlZmxlY3Rpb25cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGlzUmVmbGVjdGluZyh0b2tlbikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW5nLmhhcyh0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjaGFuZ2VzIHRvIHVwc3RyZWFtIHRva2Vuc1xuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgcGFyZW50IERlc2lnblRva2VuTm9kZVxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSAtIFRoZSB0b2tlbiBJRCB0aGF0IGNoYW5nZWRcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2Uoc291cmNlLCBwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IERlc2lnblRva2VuSW1wbC5nZXRUb2tlbkJ5SWQocHJvcGVydHkpO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oeWRyYXRlKHRva2VuLCB0aGlzLmdldFJhdyh0b2tlbikpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNTU1Rva2VuUmVmbGVjdGlvbih0aGlzLnN0b3JlLCB0b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEh5ZHJhdGVzIGEgdG9rZW4gd2l0aCBhIERlc2lnblRva2VuVmFsdWUsIG1ha2luZyByZXRyaWV2YWwgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBoeWRyYXRlXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGh5ZHJhdGVcbiAgICAgKi9cbiAgICBoeWRyYXRlKHRva2VuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLmJpbmRpbmdPYnNlcnZlcnMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChEZXNpZ25Ub2tlbkltcGwuaXNEZXJpdmVkRGVzaWduVG9rZW5WYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJpbmRpbmcgc291cmNlIGRvZXNuJ3QgbWF0Y2gsIHdlIG5lZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gdXBkYXRlIHRoZSBiaW5kaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlci5zb3VyY2UgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlYXJEb3duQmluZGluZ09ic2VydmVyKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBCaW5kaW5nT2JzZXJ2ZXIodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cEJpbmRpbmdPYnNlcnZlcih0b2tlbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlYXJEb3duQmluZGluZ09ic2VydmVyKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXQodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgYmluZGluZyBvYnNlcnZlciBmb3IgYSBkZXJpdmVkIHRva2VuIHZhbHVlIHRoYXQgbm90aWZpZXMgdG9rZW5cbiAgICAgKiBzdWJzY3JpYmVycyBvbiBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUaGUgdG9rZW4gdG8gbm90aWZ5IHdoZW4gdGhlIGJpbmRpbmcgdXBkYXRlc1xuICAgICAqIEBwYXJhbSBzb3VyY2UgLSBUaGUgYmluZGluZyBzb3VyY2VcbiAgICAgKi9cbiAgICBzZXR1cEJpbmRpbmdPYnNlcnZlcih0b2tlbiwgc291cmNlKSB7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBuZXcgRGVzaWduVG9rZW5CaW5kaW5nT2JzZXJ2ZXIoc291cmNlLCB0b2tlbiwgdGhpcyk7XG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycy5zZXQodG9rZW4sIGJpbmRpbmcpO1xuICAgICAgICByZXR1cm4gYmluZGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVhciBkb3duIGEgYmluZGluZyBvYnNlcnZlciBmb3IgYSB0b2tlbi5cbiAgICAgKi9cbiAgICB0ZWFyRG93bkJpbmRpbmdPYnNlcnZlcih0b2tlbikge1xuICAgICAgICBpZiAodGhpcy5iaW5kaW5nT2JzZXJ2ZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycy5nZXQodG9rZW4pLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVycy5kZWxldGUodG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogUmVzcG9uc2libGUgZm9yIHJlZmxlY3RpbmcgdG9rZW5zIHRvIENTUyBjdXN0b20gcHJvcGVydGllc1xuICovXG5EZXNpZ25Ub2tlbk5vZGUuY3NzQ3VzdG9tUHJvcGVydHlSZWZsZWN0b3IgPSBuZXcgQ3VzdG9tUHJvcGVydHlSZWZsZWN0b3IoKTtcbl9fZGVjb3JhdGUoW1xuICAgIG9ic2VydmFibGVcbl0sIERlc2lnblRva2VuTm9kZS5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwgdm9pZCAwKTtcbmZ1bmN0aW9uIGNyZWF0ZShuYW1lT3JDb25maWcpIHtcbiAgICByZXR1cm4gRGVzaWduVG9rZW5JbXBsLmZyb20obmFtZU9yQ29uZmlnKTtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG4vKipcbiAqIEZhY3Rvcnkgb2JqZWN0IGZvciBjcmVhdGluZyB7QGxpbmsgKERlc2lnblRva2VuOmludGVyZmFjZSl9IGluc3RhbmNlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERlc2lnblRva2VuID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgY3JlYXRlLFxuICAgIC8qKlxuICAgICAqIEluZm9ybXMgRGVzaWduVG9rZW4gdGhhdCBhbiBIVE1MRWxlbWVudCBmb3Igd2hpY2ggdG9rZW5zIGhhdmVcbiAgICAgKiBiZWVuIHNldCBoYXMgYmVlbiBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogVGhlIGJyb3dzZXIgZG9lcyBub3QgcHJvdmlkZSBhIHJlbGlhYmxlIG1lY2hhbmlzbSB0byBvYnNlcnZlIGFuIEhUTUxFbGVtZW50J3MgY29ubmVjdGVkbmVzc1xuICAgICAqIGluIGFsbCBzY2VuYXJpb3MsIHNvIGludm9raW5nIHRoaXMgbWV0aG9kIG1hbnVhbGx5IGlzIG5lY2Vzc2FyeSB3aGVuOlxuICAgICAqXG4gICAgICogMS4gVG9rZW4gdmFsdWVzIGFyZSBzZXQgZm9yIGFuIEhUTUxFbGVtZW50LlxuICAgICAqIDIuIFRoZSBIVE1MRWxlbWVudCBkb2VzIG5vdCBpbmhlcml0IGZyb20gRkFTVEVsZW1lbnQuXG4gICAgICogMy4gVGhlIEhUTUxFbGVtZW50IGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIGRvY3VtZW50IHdoZW4gdG9rZW4gdmFsdWVzIGFyZSBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIG5vdGlmeVxuICAgICAqIEByZXR1cm5zIC0gdHJ1ZSBpZiBub3RpZmljYXRpb24gd2FzIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBub3RpZnlDb25uZWN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50LmlzQ29ubmVjdGVkIHx8ICFEZXNpZ25Ub2tlbk5vZGUuZXhpc3RzRm9yKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmdldE9yQ3JlYXRlKGVsZW1lbnQpLmJpbmQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBJbmZvcm1zIERlc2lnblRva2VuIHRoYXQgYW4gSFRNTEVsZW1lbnQgZm9yIHdoaWNoIHRva2VucyBoYXZlXG4gICAgICogYmVlbiBzZXQgaGFzIGJlZW4gZGlzY29ubmVjdGVkIHRvIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBicm93c2VyIGRvZXMgbm90IHByb3ZpZGUgYSByZWxpYWJsZSBtZWNoYW5pc20gdG8gb2JzZXJ2ZSBhbiBIVE1MRWxlbWVudCdzIGNvbm5lY3RlZG5lc3NcbiAgICAgKiBpbiBhbGwgc2NlbmFyaW9zLCBzbyBpbnZva2luZyB0aGlzIG1ldGhvZCBtYW51YWxseSBpcyBuZWNlc3Nhcnkgd2hlbjpcbiAgICAgKlxuICAgICAqIDEuIFRva2VuIHZhbHVlcyBhcmUgc2V0IGZvciBhbiBIVE1MRWxlbWVudC5cbiAgICAgKiAyLiBUaGUgSFRNTEVsZW1lbnQgZG9lcyBub3QgaW5oZXJpdCBmcm9tIEZBU1RFbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBub3RpZnlcbiAgICAgKiBAcmV0dXJucyAtIHRydWUgaWYgbm90aWZpY2F0aW9uIHdhcyBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICovXG4gICAgbm90aWZ5RGlzY29ubmVjdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmlzQ29ubmVjdGVkIHx8ICFEZXNpZ25Ub2tlbk5vZGUuZXhpc3RzRm9yKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgRGVzaWduVG9rZW5Ob2RlLmdldE9yQ3JlYXRlKGVsZW1lbnQpLnVuYmluZCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbmQgZWxlbWVudCBvciBkb2N1bWVudCBhcyBhIERlc2lnblRva2VuIHJvb3QuXG4gICAgICoge0BsaW5rIENTU0Rlc2lnblRva2VuIHwgQ1NTRGVzaWduVG9rZW5zfSB3aXRoIGRlZmF1bHQgdmFsdWVzIGFzc2lnbmVkIHZpYVxuICAgICAqIHtAbGluayAoRGVzaWduVG9rZW46aW50ZXJmYWNlKS53aXRoRGVmYXVsdH0gd2lsbCBlbWl0IENTUyBjdXN0b20gcHJvcGVydGllcyB0byBhbGxcbiAgICAgKiByZWdpc3RlcmVkIHJvb3RzLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgcm9vdCB0byByZWdpc3RlclxuICAgICAqL1xuICAgIHJlZ2lzdGVyUm9vdCh0YXJnZXQgPSBkZWZhdWx0RWxlbWVudCkge1xuICAgICAgICBSb290U3R5bGVTaGVldFRhcmdldC5yZWdpc3RlclJvb3QodGFyZ2V0KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXIgYW4gZWxlbWVudCBvciBkb2N1bWVudCBhcyBhIERlc2lnblRva2VuIHJvb3QuXG4gICAgICogQHBhcmFtIHRhcmdldCAtIFRoZSByb290IHRvIGRlcmVnaXN0ZXJcbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyUm9vdCh0YXJnZXQgPSBkZWZhdWx0RWxlbWVudCkge1xuICAgICAgICBSb290U3R5bGVTaGVldFRhcmdldC51bnJlZ2lzdGVyUm9vdCh0YXJnZXQpO1xuICAgIH0sXG59KTtcbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xuIiwiaW1wb3J0IHsgRkFTVEVsZW1lbnREZWZpbml0aW9uIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBGb3VuZGF0aW9uRWxlbWVudCB9IGZyb20gXCIuLi9mb3VuZGF0aW9uLWVsZW1lbnQvZm91bmRhdGlvbi1lbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBESSwgUmVnaXN0cmF0aW9uIH0gZnJvbSBcIi4uL2RpL2RpLmpzXCI7XG5pbXBvcnQgeyBEZXNpZ25Ub2tlbiB9IGZyb20gXCIuLi9kZXNpZ24tdG9rZW4vZGVzaWduLXRva2VuLmpzXCI7XG5pbXBvcnQgeyBDb21wb25lbnRQcmVzZW50YXRpb24gfSBmcm9tIFwiLi9jb21wb25lbnQtcHJlc2VudGF0aW9uLmpzXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uICovXG4vKipcbiAqIEluZGljYXRlcyB3aGF0IHRvIGRvIHdpdGggYW4gYW1iaWd1b3VzIChkdXBsaWNhdGUpIGVsZW1lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBFbGVtZW50RGlzYW1iaWd1YXRpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgICAvKipcbiAgICAgKiBTa2lwIGRlZmluaW5nIHRoZSBlbGVtZW50IGJ1dCBzdGlsbCBjYWxsIHRoZSBwcm92aWRlZCBjYWxsYmFjayBwYXNzZWRcbiAgICAgKiB0byBEZXNpZ25TeXN0ZW1SZWdpc3RyYXRpb25Db250ZXh0LnRyeURlZmluZUVsZW1lbnRcbiAgICAgKi9cbiAgICBkZWZpbml0aW9uQ2FsbGJhY2tPbmx5OiBudWxsLFxuICAgIC8qKlxuICAgICAqIElnbm9yZSB0aGUgZHVwbGljYXRlIGVsZW1lbnQgZW50aXJlbHkuXG4gICAgICovXG4gICAgaWdub3JlRHVwbGljYXRlOiBTeW1ib2woKSxcbn0pO1xuY29uc3QgZWxlbWVudFR5cGVzQnlUYWcgPSBuZXcgTWFwKCk7XG5jb25zdCBlbGVtZW50VGFnc0J5VHlwZSA9IG5ldyBNYXAoKTtcbmxldCByb290RGVzaWduU3lzdGVtID0gbnVsbDtcbmNvbnN0IGRlc2lnblN5c3RlbUtleSA9IERJLmNyZWF0ZUludGVyZmFjZSh4ID0+IHguY2FjaGVkQ2FsbGJhY2soaGFuZGxlciA9PiB7XG4gICAgaWYgKHJvb3REZXNpZ25TeXN0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgcm9vdERlc2lnblN5c3RlbSA9IG5ldyBEZWZhdWx0RGVzaWduU3lzdGVtKG51bGwsIGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdERlc2lnblN5c3RlbTtcbn0pKTtcbi8qKlxuICogQW4gQVBJIGdhdGV3YXkgdG8gZGVzaWduIHN5c3RlbSBmZWF0dXJlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERlc2lnblN5c3RlbSA9IE9iamVjdC5mcmVlemUoe1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCBuYW1lIHRoYXQgdGhlIHR5cGUgaXMgZGVmaW5lZCBhcy5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIHRvIGxvb2t1cC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgdGFnRm9yKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRUYWdzQnlUeXBlLmdldCh0eXBlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIHRoZSBET00gaGllcmFyY2h5IGZvciB0aGUgZGVzaWduIHN5c3RlbSB0aGF0IGlzIHJlc3BvbnNpYmxlXG4gICAgICogZm9yIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gbG9jYXRlIHRoZSBkZXNpZ24gc3lzdGVtIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgbG9jYXRlZCBkZXNpZ24gc3lzdGVtLlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICByZXNwb25zaWJsZUZvcihlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG93bmVkID0gZWxlbWVudC4kJGRlc2lnblN5c3RlbSQkO1xuICAgICAgICBpZiAob3duZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvd25lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBESS5maW5kUmVzcG9uc2libGVDb250YWluZXIoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZ2V0KGRlc2lnblN5c3RlbUtleSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBEZXNpZ25TeXN0ZW0gaWYgb25lIGlzIGV4cGxpY2l0bHkgZGVmaW5lZCBvbiB0aGUgcHJvdmlkZWQgZWxlbWVudDtcbiAgICAgKiBvdGhlcndpc2UgY3JlYXRlcyBhIGRlc2lnbiBzeXN0ZW0gZGVmaW5lZCBkaXJlY3RseSBvbiB0aGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGdldCBvciBjcmVhdGUgYSBkZXNpZ24gc3lzdGVtIGZvci5cbiAgICAgKiBAcmV0dXJucyBUaGUgZGVzaWduIHN5c3RlbS5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0T3JDcmVhdGUobm9kZSkge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIGlmIChyb290RGVzaWduU3lzdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcm9vdERlc2lnblN5c3RlbSA9IERJLmdldE9yQ3JlYXRlRE9NQ29udGFpbmVyKCkuZ2V0KGRlc2lnblN5c3RlbUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm9vdERlc2lnblN5c3RlbTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvd25lZCA9IG5vZGUuJCRkZXNpZ25TeXN0ZW0kJDtcbiAgICAgICAgaWYgKG93bmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3duZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gREkuZ2V0T3JDcmVhdGVET01Db250YWluZXIobm9kZSk7XG4gICAgICAgIGlmIChjb250YWluZXIuaGFzKGRlc2lnblN5c3RlbUtleSwgZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmdldChkZXNpZ25TeXN0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3lzdGVtID0gbmV3IERlZmF1bHREZXNpZ25TeXN0ZW0obm9kZSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZWdpc3RlcihSZWdpc3RyYXRpb24uaW5zdGFuY2UoZGVzaWduU3lzdGVtS2V5LCBzeXN0ZW0pKTtcbiAgICAgICAgICAgIHJldHVybiBzeXN0ZW07XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5mdW5jdGlvbiBleHRyYWN0VHJ5RGVmaW5lRWxlbWVudFBhcmFtcyhwYXJhbXMsIGVsZW1lbnREZWZpbml0aW9uVHlwZSwgZWxlbWVudERlZmluaXRpb25DYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBwYXJhbXMsXG4gICAgICAgICAgICB0eXBlOiBlbGVtZW50RGVmaW5pdGlvblR5cGUsXG4gICAgICAgICAgICBjYWxsYmFjazogZWxlbWVudERlZmluaXRpb25DYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxufVxuY2xhc3MgRGVmYXVsdERlc2lnblN5c3RlbSB7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmRlc2lnblRva2Vuc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJlZml4ID0gXCJmYXN0XCI7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdE1vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGlzYW1iaWd1YXRlID0gKCkgPT4gRWxlbWVudERpc2FtYmlndWF0aW9uLmRlZmluaXRpb25DYWxsYmFja09ubHk7XG4gICAgICAgIGlmIChvd25lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgb3duZXIuJCRkZXNpZ25TeXN0ZW0kJCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2l0aFByZWZpeChwcmVmaXgpIHtcbiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2hhZG93Um9vdE1vZGUobW9kZSkge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3RNb2RlID0gbW9kZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhFbGVtZW50RGlzYW1iaWd1YXRpb24oY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5kaXNhbWJpZ3VhdGUgPSBjYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhEZXNpZ25Ub2tlblJvb3Qocm9vdCkge1xuICAgICAgICB0aGlzLmRlc2lnblRva2VuUm9vdCA9IHJvb3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlciguLi5yZWdpc3RyYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBlbGVtZW50RGVmaW5pdGlvbkVudHJpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZGlzYW1iaWd1YXRlID0gdGhpcy5kaXNhbWJpZ3VhdGU7XG4gICAgICAgIGNvbnN0IHNoYWRvd1Jvb3RNb2RlID0gdGhpcy5zaGFkb3dSb290TW9kZTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGVsZW1lbnRQcmVmaXg6IHRoaXMucHJlZml4LFxuICAgICAgICAgICAgdHJ5RGVmaW5lRWxlbWVudChwYXJhbXMsIGVsZW1lbnREZWZpbml0aW9uVHlwZSwgZWxlbWVudERlZmluaXRpb25DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhY3RlZFBhcmFtcyA9IGV4dHJhY3RUcnlEZWZpbmVFbGVtZW50UGFyYW1zKHBhcmFtcywgZWxlbWVudERlZmluaXRpb25UeXBlLCBlbGVtZW50RGVmaW5pdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGNhbGxiYWNrLCBiYXNlQ2xhc3MgfSA9IGV4dHJhY3RlZFBhcmFtcztcbiAgICAgICAgICAgICAgICBsZXQgeyB0eXBlIH0gPSBleHRyYWN0ZWRQYXJhbXM7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICBsZXQgdHlwZUZvdW5kQnlOYW1lID0gZWxlbWVudFR5cGVzQnlUYWcuZ2V0KGVsZW1lbnROYW1lKTtcbiAgICAgICAgICAgICAgICBsZXQgbmVlZHNEZWZpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0eXBlRm91bmRCeU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGlzYW1iaWd1YXRlKGVsZW1lbnROYW1lLCB0eXBlLCB0eXBlRm91bmRCeU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFbGVtZW50RGlzYW1iaWd1YXRpb24uaWdub3JlRHVwbGljYXRlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRWxlbWVudERpc2FtYmlndWF0aW9uLmRlZmluaXRpb25DYWxsYmFja09ubHk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNEZWZpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlRm91bmRCeU5hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnROYW1lID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVGb3VuZEJ5TmFtZSA9IGVsZW1lbnRUeXBlc0J5VGFnLmdldChlbGVtZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzRGVmaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50VGFnc0J5VHlwZS5oYXModHlwZSkgfHwgdHlwZSA9PT0gRm91bmRhdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBjbGFzcyBleHRlbmRzIHR5cGUge1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50VHlwZXNCeVRhZy5zZXQoZWxlbWVudE5hbWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50VGFnc0J5VHlwZS5zZXQodHlwZSwgZWxlbWVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VGFnc0J5VHlwZS5zZXQoYmFzZUNsYXNzLCBlbGVtZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudERlZmluaXRpb25FbnRyaWVzLnB1c2gobmV3IEVsZW1lbnREZWZpbml0aW9uRW50cnkoY29udGFpbmVyLCBlbGVtZW50TmFtZSwgdHlwZSwgc2hhZG93Um9vdE1vZGUsIGNhbGxiYWNrLCBuZWVkc0RlZmluZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLmRlc2lnblRva2Vuc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc2lnblRva2Vuc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc2lnblRva2VuUm9vdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIERlc2lnblRva2VuLnJlZ2lzdGVyUm9vdCh0aGlzLmRlc2lnblRva2VuUm9vdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnJlZ2lzdGVyV2l0aENvbnRleHQoY29udGV4dCwgLi4ucmVnaXN0cmF0aW9ucyk7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZWxlbWVudERlZmluaXRpb25FbnRyaWVzKSB7XG4gICAgICAgICAgICBlbnRyeS5jYWxsYmFjayhlbnRyeSk7XG4gICAgICAgICAgICBpZiAoZW50cnkud2lsbERlZmluZSAmJiBlbnRyeS5kZWZpbml0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZW50cnkuZGVmaW5pdGlvbi5kZWZpbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5jbGFzcyBFbGVtZW50RGVmaW5pdGlvbkVudHJ5IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG5hbWUsIHR5cGUsIHNoYWRvd1Jvb3RNb2RlLCBjYWxsYmFjaywgd2lsbERlZmluZSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290TW9kZSA9IHNoYWRvd1Jvb3RNb2RlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMud2lsbERlZmluZSA9IHdpbGxEZWZpbmU7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGRlZmluZVByZXNlbnRhdGlvbihwcmVzZW50YXRpb24pIHtcbiAgICAgICAgQ29tcG9uZW50UHJlc2VudGF0aW9uLmRlZmluZSh0aGlzLm5hbWUsIHByZXNlbnRhdGlvbiwgdGhpcy5jb250YWluZXIpO1xuICAgIH1cbiAgICBkZWZpbmVFbGVtZW50KGRlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gbmV3IEZBU1RFbGVtZW50RGVmaW5pdGlvbih0aGlzLnR5cGUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmaW5pdGlvbiksIHsgbmFtZTogdGhpcy5uYW1lIH0pKTtcbiAgICB9XG4gICAgdGFnRm9yKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIERlc2lnblN5c3RlbS50YWdGb3IodHlwZSk7XG4gICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uICovXG4iLCJpbXBvcnQgeyBodG1sIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG4vKipcbiAqIFRoZSB0ZW1wbGF0ZSBmb3IgdGhlIHtAbGluayBAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbiNEaXZpZGVyfSBjb21wb25lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBkaXZpZGVyVGVtcGxhdGUgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gaHRtbCBgXG4gICAgPHRlbXBsYXRlIHJvbGU9XCIke3ggPT4geC5yb2xlfVwiIGFyaWEtb3JpZW50YXRpb249XCIke3ggPT4geC5vcmllbnRhdGlvbn1cIj48L3RlbXBsYXRlPlxuYDtcbiIsIi8qKlxuICogRGl2aWRlciByb2xlc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRGl2aWRlclJvbGUgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIGRpdmlkZXIgc2VtYW50aWNhbGx5IHNlcGFyYXRlcyBjb250ZW50XG4gICAgICovXG4gICAgc2VwYXJhdG9yOiBcInNlcGFyYXRvclwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBkaXZpZGVyIGhhcyBubyBzZW1hbnRpYyB2YWx1ZSBhbmQgaXMgZm9yIHZpc3VhbCBwcmVzZW50YXRpb24gb25seS5cbiAgICAgKi9cbiAgICBwcmVzZW50YXRpb246IFwicHJlc2VudGF0aW9uXCIsXG59O1xuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LXdlYi11dGlsaXRpZXNcIjtcbmltcG9ydCB7IEZvdW5kYXRpb25FbGVtZW50IH0gZnJvbSBcIi4uL2ZvdW5kYXRpb24tZWxlbWVudC9mb3VuZGF0aW9uLWVsZW1lbnQuanNcIjtcbmltcG9ydCB7IERpdmlkZXJSb2xlIH0gZnJvbSBcIi4vZGl2aWRlci5vcHRpb25zLmpzXCI7XG5leHBvcnQgeyBEaXZpZGVyUm9sZSB9O1xuLyoqXG4gKiBBIERpdmlkZXIgQ3VzdG9tIEhUTUwgRWxlbWVudC5cbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNzZXBhcmF0b3IgfCBBUklBIHNlcGFyYXRvciB9IG9yIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNwcmVzZW50YXRpb24gfCBBUklBIHByZXNlbnRhdGlvbn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGl2aWRlciBleHRlbmRzIEZvdW5kYXRpb25FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIEhUTUwgQXR0cmlidXRlOiByb2xlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvbGUgPSBEaXZpZGVyUm9sZS5zZXBhcmF0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZW50YXRpb24gb2YgdGhlIGRpdmlkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSFRNTCBBdHRyaWJ1dGU6IG9yaWVudGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uaG9yaXpvbnRhbDtcbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyXG5dLCBEaXZpZGVyLnByb3RvdHlwZSwgXCJyb2xlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyXG5dLCBEaXZpZGVyLnByb3RvdHlwZSwgXCJvcmllbnRhdGlvblwiLCB2b2lkIDApO1xuIiwiaW1wb3J0IHsgaHRtbCwgc2xvdHRlZCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgZW5kU2xvdFRlbXBsYXRlLCBzdGFydFNsb3RUZW1wbGF0ZSB9IGZyb20gXCIuLi9wYXR0ZXJucy9zdGFydC1lbmQuanNcIjtcbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhMaXN0Ym94T3B0aW9uOmNsYXNzKX0gY29tcG9uZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbGlzdGJveE9wdGlvblRlbXBsYXRlID0gKGNvbnRleHQsIGRlZmluaXRpb24pID0+IGh0bWwgYFxuICAgIDx0ZW1wbGF0ZVxuICAgICAgICBhcmlhLWNoZWNrZWQ9XCIke3ggPT4geC5hcmlhQ2hlY2tlZH1cIlxuICAgICAgICBhcmlhLWRpc2FibGVkPVwiJHt4ID0+IHguYXJpYURpc2FibGVkfVwiXG4gICAgICAgIGFyaWEtcG9zaW5zZXQ9XCIke3ggPT4geC5hcmlhUG9zSW5TZXR9XCJcbiAgICAgICAgYXJpYS1zZWxlY3RlZD1cIiR7eCA9PiB4LmFyaWFTZWxlY3RlZH1cIlxuICAgICAgICBhcmlhLXNldHNpemU9XCIke3ggPT4geC5hcmlhU2V0U2l6ZX1cIlxuICAgICAgICBjbGFzcz1cIiR7eCA9PiBbeC5jaGVja2VkICYmIFwiY2hlY2tlZFwiLCB4LnNlbGVjdGVkICYmIFwic2VsZWN0ZWRcIiwgeC5kaXNhYmxlZCAmJiBcImRpc2FibGVkXCJdXG4gICAgLmZpbHRlcihCb29sZWFuKVxuICAgIC5qb2luKFwiIFwiKX1cIlxuICAgICAgICByb2xlPVwib3B0aW9uXCJcbiAgICA+XG4gICAgICAgICR7c3RhcnRTbG90VGVtcGxhdGUoY29udGV4dCwgZGVmaW5pdGlvbil9XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY29udGVudFwiIHBhcnQ9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8c2xvdCAke3Nsb3R0ZWQoXCJjb250ZW50XCIpfT48L3Nsb3Q+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgJHtlbmRTbG90VGVtcGxhdGUoY29udGV4dCwgZGVmaW5pdGlvbil9XG4gICAgPC90ZW1wbGF0ZT5cbmA7XG4iLCJpbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhdHRyLCBET00sIG51bGxhYmxlTnVtYmVyQ29udmVydGVyLCBvYnNlcnZhYmxlIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBpblJhbmdlLCBrZXlBcnJvd0Rvd24sIGtleUFycm93VXAsIGtleUVuZCwga2V5RXNjYXBlLCBrZXlIb21lLCBrZXlTcGFjZSwga2V5VGFiLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuaW1wb3J0IHsgTGlzdGJveCB9IGZyb20gXCIuL2xpc3Rib3guanNcIjtcbi8qKlxuICogQSBMaXN0Ym94IEN1c3RvbSBIVE1MIEVsZW1lbnQuXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2FyaWEvI2xpc3Rib3ggfCBBUklBIGxpc3Rib3ggfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0Ym94RWxlbWVudCBleHRlbmRzIExpc3Rib3gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGV4IG9mIHRoZSBtb3N0IHJlY2VudGx5IGNoZWNrZWQgb3B0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogTXVsdGlwbGUtc2VsZWN0aW9uIG1vZGUgb25seS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFydCBpbmRleCB3aGVuIGNoZWNraW5nIGEgcmFuZ2Ugb2Ygb3B0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhbmdlU3RhcnRJbmRleCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGNoZWNrZWQgb3B0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZU9wdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBjaGVja2VkIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgY2hlY2tlZE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbHRlcihvID0+IG8uY2hlY2tlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzZWxlY3RlZCBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgZmlyc3RTZWxlY3RlZE9wdGlvbkluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmluZGV4T2YodGhpcy5maXJzdFNlbGVjdGVkT3B0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYGFyaWFBY3RpdmVEZXNjZW5kYW50YCBwcm9wZXJ0eSB3aGVuIHRoZSBhY3RpdmUgaW5kZXggY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIGFjdGl2ZSBpbmRleFxuICAgICAqIEBwYXJhbSBuZXh0IC0gdGhlIG5leHQgYWN0aXZlIGluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhY3RpdmVJbmRleENoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmFyaWFBY3RpdmVEZXNjZW5kYW50ID0gKF9iID0gKF9hID0gdGhpcy5vcHRpb25zW25leHRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiXCI7XG4gICAgICAgIHRoaXMuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHRoZSBjaGVja2VkIHN0YXRlIGZvciB0aGUgY3VycmVudGx5IGFjdGl2ZSBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE11bHRpcGxlLXNlbGVjdGlvbiBtb2RlIG9ubHkuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjaGVja0FjdGl2ZUluZGV4KCkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVJdGVtID0gdGhpcy5hY3RpdmVPcHRpb247XG4gICAgICAgIGlmIChhY3RpdmVJdGVtKSB7XG4gICAgICAgICAgICBhY3RpdmVJdGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBpbmRleCB0byB0aGUgZmlyc3Qgb3B0aW9uIGFuZCBtYXJrcyBpdCBhcyBjaGVja2VkLlxuICAgICAqXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBNdWx0aS1zZWxlY3Rpb24gbW9kZSBvbmx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXNlcnZlQ2hlY2tlZCAtIG1hcmsgYWxsIG9wdGlvbnMgdW5jaGVja2VkIGJlZm9yZSBjaGFuZ2luZyB0aGUgYWN0aXZlIGluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjaGVja0ZpcnN0T3B0aW9uKHByZXNlcnZlQ2hlY2tlZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChwcmVzZXJ2ZUNoZWNrZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlU3RhcnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlU3RhcnRJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBvLmNoZWNrZWQgPSBpblJhbmdlKGksIHRoaXMucmFuZ2VTdGFydEluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bmNoZWNrQWxsT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjcmVtZW50cyB0aGUgYWN0aXZlIGluZGV4IGFuZCBzZXRzIHRoZSBtYXRjaGluZyBvcHRpb24gYXMgY2hlY2tlZC5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogTXVsdGktc2VsZWN0aW9uIG1vZGUgb25seS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmVzZXJ2ZUNoZWNrZWQgLSBtYXJrIGFsbCBvcHRpb25zIHVuY2hlY2tlZCBiZWZvcmUgY2hhbmdpbmcgdGhlIGFjdGl2ZSBpbmRleFxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY2hlY2tMYXN0T3B0aW9uKHByZXNlcnZlQ2hlY2tlZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChwcmVzZXJ2ZUNoZWNrZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlU3RhcnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlU3RhcnRJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgobywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIG8uY2hlY2tlZCA9IGluUmFuZ2UoaSwgdGhpcy5yYW5nZVN0YXJ0SW5kZXgsIHRoaXMub3B0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMub3B0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHRoaXMuZm9jdXNvdXRIYW5kbGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHRoaXMuZm9jdXNvdXRIYW5kbGVyKTtcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVtZW50cyB0aGUgYWN0aXZlIGluZGV4IGFuZCBtYXJrcyB0aGUgbWF0Y2hpbmcgb3B0aW9uIGFzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE11bHRpcGxlLXNlbGVjdGlvbiBtb2RlIG9ubHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJlc2VydmVDaGVja2VkIC0gbWFyayBhbGwgb3B0aW9ucyB1bmNoZWNrZWQgYmVmb3JlIGNoYW5naW5nIHRoZSBhY3RpdmUgaW5kZXhcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNoZWNrTmV4dE9wdGlvbihwcmVzZXJ2ZUNoZWNrZWQgPSBmYWxzZSkge1xuICAgICAgICBpZiAocHJlc2VydmVDaGVja2VkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5nZVN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZVN0YXJ0SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBvLmNoZWNrZWQgPSBpblJhbmdlKGksIHRoaXMucmFuZ2VTdGFydEluZGV4LCB0aGlzLmFjdGl2ZUluZGV4ICsgMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5jaGVja0FsbE9wdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ICs9IHRoaXMuYWN0aXZlSW5kZXggPCB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMSA/IDEgOiAwO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjcmVtZW50cyB0aGUgYWN0aXZlIGluZGV4IGFuZCBtYXJrcyB0aGUgbWF0Y2hpbmcgb3B0aW9uIGFzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIE11bHRpcGxlLXNlbGVjdGlvbiBtb2RlIG9ubHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJlc2VydmVDaGVja2VkIC0gbWFyayBhbGwgb3B0aW9ucyB1bmNoZWNrZWQgYmVmb3JlIGNoYW5naW5nIHRoZSBhY3RpdmUgaW5kZXhcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNoZWNrUHJldmlvdXNPcHRpb24ocHJlc2VydmVDaGVja2VkID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHByZXNlcnZlQ2hlY2tlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VTdGFydEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VTdGFydEluZGV4ID0gdGhpcy5hY3RpdmVJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWRPcHRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VTdGFydEluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgobywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIG8uY2hlY2tlZCA9IGluUmFuZ2UoaSwgdGhpcy5hY3RpdmVJbmRleCwgdGhpcy5yYW5nZVN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCAtPSB0aGlzLmFjdGl2ZUluZGV4ID4gMCA/IDEgOiAwO1xuICAgICAgICB0aGlzLmNoZWNrQWN0aXZlSW5kZXgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBjbGljayBldmVudHMgZm9yIGxpc3Rib3ggb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlIC0gdGhlIGV2ZW50IG9iamVjdFxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY2xpY2tIYW5kbGVyKGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5jbGlja0hhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FwdHVyZWQgPSAoX2EgPSBlLnRhcmdldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3Nlc3QoYFtyb2xlPW9wdGlvbl1gKTtcbiAgICAgICAgaWYgKCFjYXB0dXJlZCB8fCBjYXB0dXJlZC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5jaGVja0FsbE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKGNhcHR1cmVkKTtcbiAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgIHRoaXMudG9nZ2xlU2VsZWN0ZWRGb3JBbGxDaGVja2VkT3B0aW9ucygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpIHtcbiAgICAgICAgc3VwZXIuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldyh0aGlzLmFjdGl2ZU9wdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluIG11bHRpcGxlLXNlbGVjdGlvbiBtb2RlOlxuICAgICAqIElmIGFueSBvcHRpb25zIGFyZSBzZWxlY3RlZCwgdGhlIGZpcnN0IHNlbGVjdGVkIG9wdGlvbiBpcyBjaGVja2VkIHdoZW5cbiAgICAgKiB0aGUgbGlzdGJveCByZWNlaXZlcyBmb2N1cy4gSWYgbm8gb3B0aW9ucyBhcmUgc2VsZWN0ZWQsIHRoZSBmaXJzdFxuICAgICAqIHNlbGVjdGFibGUgb3B0aW9uIGlzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmb2N1c2luSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmZvY3VzaW5IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRTa2lwRm9jdXMgJiYgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy51bmNoZWNrQWxsT3B0aW9ucygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbkluZGV4ICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmZpcnN0U2VsZWN0ZWRPcHRpb25JbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c0FuZFNjcm9sbE9wdGlvbkludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG91bGRTa2lwRm9jdXMgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5jaGVja3MgYWxsIG9wdGlvbnMgd2hlbiB0aGUgbGlzdGJveCBsb3NlcyBmb2N1cy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZvY3Vzb3V0SGFuZGxlcihlKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBrZXlkb3duIGFjdGlvbnMgZm9yIGxpc3Rib3ggbmF2aWdhdGlvbiBhbmQgdHlwZWFoZWFkXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmtleWRvd25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGtleSwgc2hpZnRLZXkgfSA9IGU7XG4gICAgICAgIHRoaXMuc2hvdWxkU2tpcEZvY3VzID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGZpcnN0IGF2YWlsYWJsZSBvcHRpb25cbiAgICAgICAgICAgIGNhc2Uga2V5SG9tZToge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tGaXJzdE9wdGlvbihzaGlmdEtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBuZXh0IHNlbGVjdGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUFycm93RG93bjoge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tOZXh0T3B0aW9uKHNoaWZ0S2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIHByZXZpb3VzIHNlbGVjdGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUFycm93VXA6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUHJldmlvdXNPcHRpb24oc2hpZnRLZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbGFzdCBhdmFpbGFibGUgb3B0aW9uXG4gICAgICAgICAgICBjYXNlIGtleUVuZDoge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tMYXN0T3B0aW9uKHNoaWZ0S2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGtleVRhYjoge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNBbmRTY3JvbGxPcHRpb25JbnRvVmlldygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlFc2NhcGU6IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGtleVNwYWNlOiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVBaGVhZEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTZWxlY3RlZEZvckFsbENoZWNrZWRPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZW5kIGtleSB0byBUeXBlYWhlYWQgaGFuZGxlclxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVHlwZUFoZWFkKGAke2tleX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgYGZvY3VzaW5gIGV2ZW50cyBmcm9tIGZpcmluZyBiZWZvcmUgYGNsaWNrYCBldmVudHMgd2hlbiB0aGVcbiAgICAgKiBlbGVtZW50IGlzIHVuZm9jdXNlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG1vdXNlZG93bkhhbmRsZXIoZSkge1xuICAgICAgICBpZiAoZS5vZmZzZXRYID49IDAgJiYgZS5vZmZzZXRYIDw9IHRoaXMuc2Nyb2xsV2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5tb3VzZWRvd25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIGJldHdlZW4gc2luZ2xlLXNlbGVjdGlvbiBhbmQgbXVsdGktc2VsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBtdWx0aXBsZUNoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuYXJpYU11bHRpU2VsZWN0YWJsZSA9IG5leHQgPyBcInRydWVcIiA6IG51bGw7XG4gICAgICAgIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2gobyA9PiB7XG4gICAgICAgICAgICBvLmNoZWNrZWQgPSBuZXh0ID8gZmFsc2UgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIG9wdGlvbiBhcyBzZWxlY3RlZCBhbmQgZ2l2ZXMgaXQgZm9jdXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2V0U2VsZWN0ZWRPcHRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgIHN1cGVyLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCAmJiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb25zID0gdGhpcy5vcHRpb25zLmZpbHRlcihvID0+IG8uc2VsZWN0ZWQpO1xuICAgICAgICAgICAgdGhpcy5mb2N1c0FuZFNjcm9sbE9wdGlvbkludG9WaWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGUgc2l6ZSBpcyBhIHBvc2l0aXZlIGludGVnZXIgd2hlbiB0aGUgcHJvcGVydHkgaXMgdXBkYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIHNpemUgdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IHNpemUgdmFsdWVcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNpemVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBzaXplID0gTWF0aC5tYXgoMCwgcGFyc2VJbnQoKF9hID0gbmV4dCA9PT0gbnVsbCB8fCBuZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0LnRvRml4ZWQoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIiwgMTApKTtcbiAgICAgICAgaWYgKHNpemUgIT09IG5leHQpIHtcbiAgICAgICAgICAgIERPTS5xdWV1ZVVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgdGhlIHNlbGVjdGVkIHN0YXRlIG9mIHRoZSBwcm92aWRlZCBvcHRpb25zLiBJZiBhbnkgcHJvdmlkZWQgaXRlbXNcbiAgICAgKiBhcmUgaW4gYW4gdW5zZWxlY3RlZCBzdGF0ZSwgYWxsIGl0ZW1zIGFyZSBzZXQgdG8gc2VsZWN0ZWQuIElmIGV2ZXJ5XG4gICAgICogcHJvdmlkZWQgaXRlbSBpcyBzZWxlY3RlZCwgdGhleSBhcmUgYWxsIHVuc2VsZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0b2dnbGVTZWxlY3RlZEZvckFsbENoZWNrZWRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBlbmFibGVkQ2hlY2tlZE9wdGlvbnMgPSB0aGlzLmNoZWNrZWRPcHRpb25zLmZpbHRlcihvID0+ICFvLmRpc2FibGVkKTtcbiAgICAgICAgY29uc3QgZm9yY2UgPSAhZW5hYmxlZENoZWNrZWRPcHRpb25zLmV2ZXJ5KG8gPT4gby5zZWxlY3RlZCk7XG4gICAgICAgIGVuYWJsZWRDaGVja2VkT3B0aW9ucy5mb3JFYWNoKG8gPT4gKG8uc2VsZWN0ZWQgPSBmb3JjZSkpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLm9wdGlvbnMuaW5kZXhPZihlbmFibGVkQ2hlY2tlZE9wdGlvbnNbZW5hYmxlZENoZWNrZWRPcHRpb25zLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdHlwZWFoZWFkQnVmZmVyQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xuICAgICAgICAgICAgc3VwZXIudHlwZWFoZWFkQnVmZmVyQ2hhbmdlZChwcmV2LCBuZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4kZmFzdENvbnRyb2xsZXIuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVhaGVhZE1hdGNoZXMgPSB0aGlzLmdldFR5cGVhaGVhZE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5vcHRpb25zLmluZGV4T2YodHlwZWFoZWFkTWF0Y2hlc1swXSk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnVuY2hlY2tBbGxPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0FjdGl2ZUluZGV4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnR5cGVBaGVhZEV4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbmNoZWNrcyBhbGwgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogTXVsdGlwbGUtc2VsZWN0aW9uIG1vZGUgb25seS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmVzZXJ2ZUNoZWNrZWQgLSByZXNldCB0aGUgcmFuZ2VTdGFydEluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB1bmNoZWNrQWxsT3B0aW9ucyhwcmVzZXJ2ZUNoZWNrZWQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChvID0+IChvLmNoZWNrZWQgPSB0aGlzLm11bHRpcGxlID8gZmFsc2UgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgaWYgKCFwcmVzZXJ2ZUNoZWNrZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VTdGFydEluZGV4ID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBMaXN0Ym94RWxlbWVudC5wcm90b3R5cGUsIFwiYWN0aXZlSW5kZXhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBtb2RlOiBcImJvb2xlYW5cIiB9KVxuXSwgTGlzdGJveEVsZW1lbnQucHJvdG90eXBlLCBcIm11bHRpcGxlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgY29udmVydGVyOiBudWxsYWJsZU51bWJlckNvbnZlcnRlciB9KVxuXSwgTGlzdGJveEVsZW1lbnQucHJvdG90eXBlLCBcInNpemVcIiwgdm9pZCAwKTtcbiIsImltcG9ydCB7IGh0bWwsIHdoZW4gfSBmcm9tIFwiQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnRcIjtcbmNvbnN0IHByb2dyZXNzU2VnbWVudHMgPSA0NDtcbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uI0Jhc2VQcm9ncmVzc30gY29tcG9uZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NSaW5nVGVtcGxhdGUgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gaHRtbCBgXG4gICAgPHRlbXBsYXRlXG4gICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgIGFyaWEtdmFsdWVub3c9XCIke3ggPT4geC52YWx1ZX1cIlxuICAgICAgICBhcmlhLXZhbHVlbWluPVwiJHt4ID0+IHgubWlufVwiXG4gICAgICAgIGFyaWEtdmFsdWVtYXg9XCIke3ggPT4geC5tYXh9XCJcbiAgICAgICAgY2xhc3M9XCIke3ggPT4gKHgucGF1c2VkID8gXCJwYXVzZWRcIiA6IFwiXCIpfVwiXG4gICAgPlxuICAgICAgICAke3doZW4oeCA9PiB0eXBlb2YgeC52YWx1ZSA9PT0gXCJudW1iZXJcIiwgaHRtbCBgXG4gICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInByb2dyZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgcGFydD1cInByb2dyZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxNiAxNlwiXG4gICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJkZXRlcm1pbmF0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydD1cImJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3g9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3k9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcj1cIjdweFwiXG4gICAgICAgICAgICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkZXRlcm1pbmF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0PVwiZGV0ZXJtaW5hdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJzdHJva2UtZGFzaGFycmF5OiAke3ggPT4gKHByb2dyZXNzU2VnbWVudHMgKiB4LnBlcmNlbnRDb21wbGV0ZSkgL1xuICAgIDEwMH1weCAke3Byb2dyZXNzU2VnbWVudHN9cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3g9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY3k9XCI4cHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcj1cIjdweFwiXG4gICAgICAgICAgICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIGAsIGh0bWwgYFxuICAgICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJpbmRldGVybWluYXRlXCIgc2xvdD1cImluZGV0ZXJtaW5hdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtkZWZpbml0aW9uLmluZGV0ZXJtaW5hdGVJbmRpY2F0b3IgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICBgKX1cbiAgICA8L3RlbXBsYXRlPlxuYDtcbiIsImltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGF0dHIsIG51bGxhYmxlTnVtYmVyQ29udmVydGVyLCBvYnNlcnZhYmxlLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsgRm91bmRhdGlvbkVsZW1lbnQsIH0gZnJvbSBcIi4uL2ZvdW5kYXRpb24tZWxlbWVudC9mb3VuZGF0aW9uLWVsZW1lbnQuanNcIjtcbi8qKlxuICogQW4gUHJvZ3Jlc3MgSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI3Byb2dyZXNzYmFyIHwgQVJJQSBwcm9ncmVzc2JhciB9LlxuICpcbiAqIEBzbG90IGluZGV0ZXJtaW5hdGUgLSBUaGUgc2xvdCBmb3IgYSBjdXN0b20gaW5kZXRlcm1pbmF0ZSBpbmRpY2F0b3JcbiAqIEBjc3NwYXJ0IHByb2dyZXNzIC0gUmVwcmVzZW50cyB0aGUgcHJvZ3Jlc3MgZWxlbWVudFxuICogQGNzc3BhcnQgZGV0ZXJtaW5hdGUgLSBUaGUgZGV0ZXJtaW5hdGUgaW5kaWNhdG9yXG4gKiBAY3NzcGFydCBpbmRldGVybWluYXRlIC0gVGhlIGluZGV0ZXJtaW5hdGUgaW5kaWNhdG9yXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQmFzZVByb2dyZXNzIGV4dGVuZHMgRm91bmRhdGlvbkVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHByb2dyZXNzIGluICVcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlcmNlbnRDb21wbGV0ZSA9IDA7XG4gICAgfVxuICAgIHZhbHVlQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuJGZhc3RDb250cm9sbGVyLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBlcmNlbnRDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbkNoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQZXJjZW50Q29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXhDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy4kZmFzdENvbnRyb2xsZXIuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGVyY2VudENvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMudXBkYXRlUGVyY2VudENvbXBsZXRlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVBlcmNlbnRDb21wbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgbWluID0gdHlwZW9mIHRoaXMubWluID09PSBcIm51bWJlclwiID8gdGhpcy5taW4gOiAwO1xuICAgICAgICBjb25zdCBtYXggPSB0eXBlb2YgdGhpcy5tYXggPT09IFwibnVtYmVyXCIgPyB0aGlzLm1heCA6IDEwMDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgdGhpcy52YWx1ZSA9PT0gXCJudW1iZXJcIiA/IHRoaXMudmFsdWUgOiAwO1xuICAgICAgICBjb25zdCByYW5nZSA9IG1heCAtIG1pbjtcbiAgICAgICAgdGhpcy5wZXJjZW50Q29tcGxldGUgPVxuICAgICAgICAgICAgcmFuZ2UgPT09IDAgPyAwIDogTWF0aC5mcm91bmQoKCh2YWx1ZSAtIG1pbikgLyByYW5nZSkgKiAxMDApO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBjb252ZXJ0ZXI6IG51bGxhYmxlTnVtYmVyQ29udmVydGVyIH0pXG5dLCBCYXNlUHJvZ3Jlc3MucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgY29udmVydGVyOiBudWxsYWJsZU51bWJlckNvbnZlcnRlciB9KVxuXSwgQmFzZVByb2dyZXNzLnByb3RvdHlwZSwgXCJtaW5cIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBjb252ZXJ0ZXI6IG51bGxhYmxlTnVtYmVyQ29udmVydGVyIH0pXG5dLCBCYXNlUHJvZ3Jlc3MucHJvdG90eXBlLCBcIm1heFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgYXR0cih7IG1vZGU6IFwiYm9vbGVhblwiIH0pXG5dLCBCYXNlUHJvZ3Jlc3MucHJvdG90eXBlLCBcInBhdXNlZFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgQmFzZVByb2dyZXNzLnByb3RvdHlwZSwgXCJwZXJjZW50Q29tcGxldGVcIiwgdm9pZCAwKTtcbiIsImltcG9ydCB7IExpc3Rib3hFbGVtZW50IH0gZnJvbSBcIi4uL2xpc3Rib3gvbGlzdGJveC5lbGVtZW50LmpzXCI7XG5pbXBvcnQgeyBGb3JtQXNzb2NpYXRlZCB9IGZyb20gXCIuLi9mb3JtLWFzc29jaWF0ZWQvZm9ybS1hc3NvY2lhdGVkLmpzXCI7XG5jbGFzcyBfU2VsZWN0IGV4dGVuZHMgTGlzdGJveEVsZW1lbnQge1xufVxuLyoqXG4gKiBBIGZvcm0tYXNzb2NpYXRlZCBiYXNlIGNsYXNzIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhTZWxlY3Q6Y2xhc3MpfSBjb21wb25lbnQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3JtQXNzb2NpYXRlZFNlbGVjdCBleHRlbmRzIEZvcm1Bc3NvY2lhdGVkKF9TZWxlY3QpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wcm94eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciwgRE9NLCBPYnNlcnZhYmxlLCBvYnNlcnZhYmxlLCB2b2xhdGlsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3QtZWxlbWVudFwiO1xuaW1wb3J0IHsga2V5QXJyb3dEb3duLCBrZXlBcnJvd1VwLCBrZXlFbmQsIGtleUVudGVyLCBrZXlFc2NhcGUsIGtleUhvbWUsIGtleVNwYWNlLCBrZXlUYWIsIHVuaXF1ZUlkLCB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuaW1wb3J0IHsgRGVsZWdhdGVzQVJJQUxpc3Rib3gsIExpc3Rib3ggfSBmcm9tIFwiLi4vbGlzdGJveC9saXN0Ym94LmpzXCI7XG5pbXBvcnQgeyBTdGFydEVuZCB9IGZyb20gXCIuLi9wYXR0ZXJucy9zdGFydC1lbmQuanNcIjtcbmltcG9ydCB7IGFwcGx5TWl4aW5zIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9hcHBseS1taXhpbnMuanNcIjtcbmltcG9ydCB7IEZvcm1Bc3NvY2lhdGVkU2VsZWN0IH0gZnJvbSBcIi4vc2VsZWN0LmZvcm0tYXNzb2NpYXRlZC5qc1wiO1xuaW1wb3J0IHsgU2VsZWN0UG9zaXRpb24gfSBmcm9tIFwiLi9zZWxlY3Qub3B0aW9ucy5qc1wiO1xuLyoqXG4gKiBBIFNlbGVjdCBDdXN0b20gSFRNTCBFbGVtZW50LlxuICogSW1wbGVtZW50cyB0aGUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI3NlbGVjdCB8IEFSSUEgc2VsZWN0IH0uXG4gKlxuICogQHNsb3Qgc3RhcnQgLSBDb250ZW50IHdoaWNoIGNhbiBiZSBwcm92aWRlZCBiZWZvcmUgdGhlIGJ1dHRvbiBjb250ZW50XG4gKiBAc2xvdCBlbmQgLSBDb250ZW50IHdoaWNoIGNhbiBiZSBwcm92aWRlZCBhZnRlciB0aGUgYnV0dG9uIGNvbnRlbnRcbiAqIEBzbG90IGJ1dHRvbi1jb250YWluZXIgLSBUaGUgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIHNlbGVjdCBidXR0b25cbiAqIEBzbG90IHNlbGVjdGVkLXZhbHVlIC0gVGhlIHNlbGVjdGVkIHZhbHVlXG4gKiBAc2xvdCBpbmRpY2F0b3IgLSBUaGUgdmlzdWFsIGluZGljYXRvciBmb3IgdGhlIGV4cGFuZC9jb2xsYXBzZSBzdGF0ZSBvZiB0aGUgYnV0dG9uXG4gKiBAc2xvdCAtIFRoZSBkZWZhdWx0IHNsb3QgZm9yIHNsb3R0ZWQgb3B0aW9uc1xuICogQGNzc3BhcnQgY29udHJvbCAtIFRoZSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgc2VsZWN0IGludm9raW5nIGVsZW1lbnRcbiAqIEBjc3NwYXJ0IHNlbGVjdGVkLXZhbHVlIC0gVGhlIGVsZW1lbnQgd3JhcHBpbmcgdGhlIHNlbGVjdGVkIHZhbHVlXG4gKiBAY3NzcGFydCBpbmRpY2F0b3IgLSBUaGUgZWxlbWVudCB3cmFwcGluZyB0aGUgdmlzdWFsIGluZGljYXRvclxuICogQGNzc3BhcnQgbGlzdGJveCAtIFRoZSBsaXN0Ym94IGVsZW1lbnRcbiAqIEBmaXJlcyBpbnB1dCAtIEZpcmVzIGEgY3VzdG9tICdpbnB1dCcgZXZlbnQgd2hlbiB0aGUgdmFsdWUgdXBkYXRlc1xuICogQGZpcmVzIGNoYW5nZSAtIEZpcmVzIGEgY3VzdG9tICdjaGFuZ2UnIGV2ZW50IHdoZW4gdGhlIHZhbHVlIHVwZGF0ZXNcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWxlY3QgZXh0ZW5kcyBGb3JtQXNzb2NpYXRlZFNlbGVjdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BlbiBhdHRyaWJ1dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSFRNTCBBdHRyaWJ1dGU6IG9wZW5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBwb3NpdGlvbiBhdHRyaWJ1dGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb3JjZWRQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXF1ZSBpZCBmb3IgdGhlIGludGVybmFsIGxpc3Rib3ggZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpc3Rib3hJZCA9IHVuaXF1ZUlkKFwibGlzdGJveC1cIik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGhlaWdodCBmb3IgdGhlIGxpc3Rib3ggd2hlbiBvcGVuZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGZvY3VzIGFuZCBzeW5jaHJvbml6ZXMgQVJJQSBhdHRyaWJ1dGVzIHdoZW4gdGhlIG9wZW4gcHJvcGVydHkgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIG9wZW4gdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IG9wZW4gdmFsdWVcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9wZW5DaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5hcmlhQ29udHJvbHMgPSB0aGlzLmxpc3Rib3hJZDtcbiAgICAgICAgICAgIHRoaXMuYXJpYUV4cGFuZGVkID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzQW5kU2Nyb2xsT3B0aW9uSW50b1ZpZXcoKTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhXaGVuT3BlbmVkID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgLy8gZm9jdXMgaXMgZGlyZWN0ZWQgdG8gdGhlIGVsZW1lbnQgd2hlbiBgb3BlbmAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICAgICAgICBET00ucXVldWVVcGRhdGUoKCkgPT4gdGhpcy5mb2N1cygpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyaWFDb250cm9scyA9IFwiXCI7XG4gICAgICAgIHRoaXMuYXJpYUV4cGFuZGVkID0gXCJmYWxzZVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29tcG9uZW50IGlzIGNvbGxhcHNpYmxlIHdoZW4gaW4gc2luZ2xlLXNlbGVjdGlvbiBtb2RlIHdpdGggbm8gc2l6ZSBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBnZXQgY29sbGFwc2libGUoKSB7XG4gICAgICAgIHJldHVybiAhKHRoaXMubXVsdGlwbGUgfHwgdHlwZW9mIHRoaXMuc2l6ZSA9PT0gXCJudW1iZXJcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIE9ic2VydmFibGUudHJhY2sodGhpcywgXCJ2YWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUobmV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgIGNvbnN0IHByZXYgPSBgJHt0aGlzLl92YWx1ZX1gO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHRoaXMuX29wdGlvbnMuZmluZEluZGV4KGVsID0+IGVsLnZhbHVlID09PSBuZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZTZWxlY3RlZFZhbHVlID0gKF9jID0gKF9iID0gdGhpcy5fb3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFsdWUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBuZXh0U2VsZWN0ZWRWYWx1ZSA9IChfZSA9IChfZCA9IHRoaXMuX29wdGlvbnNbc2VsZWN0ZWRJbmRleF0pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC52YWx1ZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID09PSAtMSB8fCBwcmV2U2VsZWN0ZWRWYWx1ZSAhPT0gbmV4dFNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCA9IChfZyA9IChfZiA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhbHVlKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5leHQ7XG4gICAgICAgICAgICBzdXBlci52YWx1ZUNoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgICAgICBPYnNlcnZhYmxlLm5vdGlmeSh0aGlzLCBcInZhbHVlXCIpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNwbGF5VmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhbmQgZGlzcGxheSB2YWx1ZSB0byBtYXRjaCB0aGUgZmlyc3Qgc2VsZWN0ZWQgb3B0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNob3VsZEVtaXQgLSBpZiB0cnVlLCB0aGUgaW5wdXQgYW5kIGNoYW5nZSBldmVudHMgd2lsbCBiZSBlbWl0dGVkXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB1cGRhdGVWYWx1ZShzaG91bGRFbWl0KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLiRmYXN0Q29udHJvbGxlci5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IChfYiA9IChfYSA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRFbWl0KSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiaW5wdXRcIik7XG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2hhbmdlXCIsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbXBvc2VkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm94eSB2YWx1ZSB3aGVuIHRoZSBzZWxlY3RlZCBpbmRleCBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgc2VsZWN0ZWQgaW5kZXhcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBuZXh0IHNlbGVjdGVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZWxlY3RlZEluZGV4Q2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHN1cGVyLnNlbGVjdGVkSW5kZXhDaGFuZ2VkKHByZXYsIG5leHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgfVxuICAgIHBvc2l0aW9uQ2hhbmdlZChwcmV2LCBuZXh0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb25BdHRyaWJ1dGUgPSBuZXh0O1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBhbmQgYXBwbHkgbGlzdGJveCBwb3NpdGlvbmluZyBiYXNlZCBvbiBhdmFpbGFibGUgdmlld3BvcnQgc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2V0UG9zaXRpb25pbmcoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCb3ggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlQm90dG9tID0gdmlld3BvcnRIZWlnaHQgLSBjdXJyZW50Qm94LmJvdHRvbTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMuZm9yY2VkUG9zaXRpb25cbiAgICAgICAgICAgID8gdGhpcy5wb3NpdGlvbkF0dHJpYnV0ZVxuICAgICAgICAgICAgOiBjdXJyZW50Qm94LnRvcCA+IGF2YWlsYWJsZUJvdHRvbVxuICAgICAgICAgICAgICAgID8gU2VsZWN0UG9zaXRpb24uYWJvdmVcbiAgICAgICAgICAgICAgICA6IFNlbGVjdFBvc2l0aW9uLmJlbG93O1xuICAgICAgICB0aGlzLnBvc2l0aW9uQXR0cmlidXRlID0gdGhpcy5mb3JjZWRQb3NpdGlvblxuICAgICAgICAgICAgPyB0aGlzLnBvc2l0aW9uQXR0cmlidXRlXG4gICAgICAgICAgICA6IHRoaXMucG9zaXRpb247XG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID1cbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPT09IFNlbGVjdFBvc2l0aW9uLmFib3ZlID8gfn5jdXJyZW50Qm94LnRvcCA6IH5+YXZhaWxhYmxlQm90dG9tO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgZGlzcGxheWVkIG9uIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgT2JzZXJ2YWJsZS50cmFjayh0aGlzLCBcImRpc3BsYXlWYWx1ZVwiKTtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuZmlyc3RTZWxlY3RlZE9wdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRleHQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplIHRoZSBgYXJpYS1kaXNhYmxlZGAgcHJvcGVydHkgd2hlbiB0aGUgYGRpc2FibGVkYCBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSBUaGUgcHJldmlvdXMgZGlzYWJsZWQgdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIFRoZSBuZXh0IGRpc2FibGVkIHZhbHVlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBkaXNhYmxlZENoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICBpZiAoc3VwZXIuZGlzYWJsZWRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBzdXBlci5kaXNhYmxlZENoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmlhRGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBlbGVtZW50IHRvIGl0cyBmaXJzdCBzZWxlY3RhYmxlIG9wdGlvbiB3aGVuIGl0cyBwYXJlbnQgZm9ybSBpcyByZXNldC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZvcm1SZXNldENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnNldFByb3h5T3B0aW9ucygpO1xuICAgICAgICAvLyBDYWxsIHRoZSBiYXNlIGNsYXNzJ3MgaW1wbGVtZW50YXRpb24gc2V0RGVmYXVsdFNlbGVjdGVkT3B0aW9uIGluc3RlYWQgb2YgdGhlIHNlbGVjdCdzXG4gICAgICAgIC8vIG92ZXJyaWRlLCBpbiBvcmRlciB0byByZXNldCB0aGUgc2VsZWN0ZWRJbmRleCB3aXRob3V0IHVzaW5nIHRoZSB2YWx1ZSBwcm9wZXJ0eS5cbiAgICAgICAgc3VwZXIuc2V0RGVmYXVsdFNlbGVjdGVkT3B0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBvcGVuaW5nIGFuZCBjbG9zaW5nIHRoZSBsaXN0Ym94IHdoZW4gdGhlIHNlbGVjdCBpcyBjbGlja2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGUgLSB0aGUgbW91c2UgZXZlbnRcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjbGlja0hhbmRsZXIoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nIGlmIHRoZSBzZWxlY3QgaXMgZGlzYWJsZWRcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlZCA9IGUudGFyZ2V0LmNsb3Nlc3QoYG9wdGlvbixbcm9sZT1vcHRpb25dYCk7XG4gICAgICAgICAgICBpZiAoY2FwdHVyZWQgJiYgY2FwdHVyZWQuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuY2xpY2tIYW5kbGVyKGUpO1xuICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLmNvbGxhcHNpYmxlICYmICF0aGlzLm9wZW47XG4gICAgICAgIGlmICghdGhpcy5vcGVuICYmIHRoaXMuaW5kZXhXaGVuT3BlbmVkICE9PSB0aGlzLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmFsdWUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZm9jdXMgc3RhdGUgd2hlbiB0aGUgZWxlbWVudCBvciBpdHMgY2hpbGRyZW4gbG9zZSBmb2N1cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlIC0gVGhlIGZvY3VzIGV2ZW50XG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZm9jdXNvdXRIYW5kbGVyKGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5mb2N1c291dEhhbmRsZXIoZSk7XG4gICAgICAgIGlmICghdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb2N1c1RhcmdldCA9IGUucmVsYXRlZFRhcmdldDtcbiAgICAgICAgaWYgKHRoaXMuaXNTYW1lTm9kZShmb2N1c1RhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISgoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhmb2N1c1RhcmdldCkpKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4V2hlbk9wZW5lZCAhPT0gdGhpcy5zZWxlY3RlZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSB3aGVuIGFuIG9wdGlvbidzIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIC0gdGhlIHByb3BlcnR5IHRvIGV2YWx1YXRlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBoYW5kbGVDaGFuZ2Uoc291cmNlLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgc3VwZXIuaGFuZGxlQ2hhbmdlKHNvdXJjZSwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemUgdGhlIGZvcm0tYXNzb2NpYXRlZCBwcm94eSBhbmQgdXBkYXRlcyB0aGUgdmFsdWUgcHJvcGVydHkgb2YgdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJldiAtIHRoZSBwcmV2aW91cyBjb2xsZWN0aW9uIG9mIHNsb3R0ZWQgb3B0aW9uIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIG5leHQgLSB0aGUgbmV4dCBjb2xsZWN0aW9uIG9mIHNsb3R0ZWQgb3B0aW9uIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzbG90dGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaChvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyID0gT2JzZXJ2YWJsZS5nZXROb3RpZmllcihvKTtcbiAgICAgICAgICAgIG5vdGlmaWVyLnVuc3Vic2NyaWJlKHRoaXMsIFwidmFsdWVcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlci5zbG90dGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKG8gPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm90aWZpZXIgPSBPYnNlcnZhYmxlLmdldE5vdGlmaWVyKG8pO1xuICAgICAgICAgICAgbm90aWZpZXIuc3Vic2NyaWJlKHRoaXMsIFwidmFsdWVcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFByb3h5T3B0aW9ucygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGZvY3VzIHdoZW4gc2l6ZSBpcyBzZXQgYW5kIGEgc2Nyb2xsYmFyIGlzIGNsaWNrZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZSAtIHRoZSBtb3VzZSBldmVudCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG1vdXNlZG93bkhhbmRsZXIoZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChlLm9mZnNldFggPj0gMCAmJiBlLm9mZnNldFggPD0gKChfYSA9IHRoaXMubGlzdGJveCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNjcm9sbFdpZHRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm1vdXNlZG93bkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2libGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG11bHRpcGxlIHByb3BlcnR5IG9uIHRoZSBwcm94eSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgbXVsdGlwbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IG11bHRpcGxlIHZhbHVlXG4gICAgICovXG4gICAgbXVsdGlwbGVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgc3VwZXIubXVsdGlwbGVDaGFuZ2VkKHByZXYsIG5leHQpO1xuICAgICAgICBpZiAodGhpcy5wcm94eSkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5tdWx0aXBsZSA9IG5leHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc2VsZWN0ZWRuZXNzIG9mIGVhY2ggb3B0aW9uIHdoZW4gdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByZXYgLSB0aGUgcHJldmlvdXMgbGlzdCBvZiBzZWxlY3RlZCBvcHRpb25zXG4gICAgICogQHBhcmFtIG5leHQgLSB0aGUgY3VycmVudCBsaXN0IG9mIHNlbGVjdGVkIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNlbGVjdGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLnNlbGVjdGVkT3B0aW9uc0NoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHByb3h5T3B0aW9uID0gKF9hID0gdGhpcy5wcm94eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wdGlvbnMuaXRlbShpKTtcbiAgICAgICAgICAgIGlmIChwcm94eU9wdGlvbikge1xuICAgICAgICAgICAgICAgIHByb3h5T3B0aW9uLnNlbGVjdGVkID0gby5zZWxlY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNlbGVjdGVkIGluZGV4IHRvIG1hdGNoIHRoZSBmaXJzdCBvcHRpb24gd2l0aCB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlLCBvclxuICAgICAqIHRoZSBmaXJzdCBzZWxlY3RhYmxlIG9wdGlvbi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldERlZmF1bHRTZWxlY3RlZE9wdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKF9hID0gdGhpcy5vcHRpb25zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBBcnJheS5mcm9tKHRoaXMuY2hpbGRyZW4pLmZpbHRlcihMaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmZpbmRJbmRleChlbCA9PiBlbC5oYXNBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSB8fCBlbC5zZWxlY3RlZCB8fCBlbC52YWx1ZSA9PT0gdGhpcy52YWx1ZSk7XG4gICAgICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW5kIGZpbGxzIHRoZSBwcm94eSB0byBtYXRjaCB0aGUgY29tcG9uZW50J3Mgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldFByb3h5T3B0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHkgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCAmJiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucHJveHkub3B0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eU9wdGlvbiA9IG9wdGlvbi5wcm94eSB8fFxuICAgICAgICAgICAgICAgICAgICAob3B0aW9uIGluc3RhbmNlb2YgSFRNTE9wdGlvbkVsZW1lbnQgPyBvcHRpb24uY2xvbmVOb2RlKCkgOiBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAocHJveHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm94eS5vcHRpb25zLmFkZChwcm94eU9wdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGtleWJvYXJkIGludGVyYWN0aW9uIGZvciB0aGUgc2VsZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGUgLSB0aGUga2V5Ym9hcmQgZXZlbnRcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgICAgIHN1cGVyLmtleWRvd25IYW5kbGVyKGUpO1xuICAgICAgICBjb25zdCBrZXkgPSBlLmtleSB8fCBlLmtleS5jaGFyQ29kZUF0KDApO1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSBrZXlTcGFjZToge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZSAmJiB0aGlzLnR5cGVBaGVhZEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIGtleUhvbWU6XG4gICAgICAgICAgICBjYXNlIGtleUVuZDoge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2Uga2V5RW50ZXI6IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2Uga2V5RXNjYXBlOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2libGUgJiYgdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBrZXlUYWI6IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZSAmJiB0aGlzLm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm9wZW4gJiYgdGhpcy5pbmRleFdoZW5PcGVuZWQgIT09IHRoaXMuc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhXaGVuT3BlbmVkID0gdGhpcy5zZWxlY3RlZEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhKGtleSA9PT0ga2V5QXJyb3dEb3duIHx8IGtleSA9PT0ga2V5QXJyb3dVcCk7XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLmZvcmNlZFBvc2l0aW9uID0gISF0aGlzLnBvc2l0aW9uQXR0cmlidXRlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZW50Y2hhbmdlXCIsIHRoaXMudXBkYXRlRGlzcGxheVZhbHVlKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRlbnRjaGFuZ2VcIiwgdGhpcy51cGRhdGVEaXNwbGF5VmFsdWUpO1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm94eSdzIHNpemUgcHJvcGVydHkgd2hlbiB0aGUgc2l6ZSBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcmV2IC0gdGhlIHByZXZpb3VzIHNpemVcbiAgICAgKiBAcGFyYW0gbmV4dCAtIHRoZSBjdXJyZW50IHNpemVcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNpemVDaGFuZ2VkKHByZXYsIG5leHQpIHtcbiAgICAgICAgc3VwZXIuc2l6ZUNoYW5nZWQocHJldiwgbmV4dCk7XG4gICAgICAgIGlmICh0aGlzLnByb3h5KSB7XG4gICAgICAgICAgICB0aGlzLnByb3h5LnNpemUgPSBuZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdXBkYXRlRGlzcGxheVZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZSkge1xuICAgICAgICAgICAgT2JzZXJ2YWJsZS5ub3RpZnkodGhpcywgXCJkaXNwbGF5VmFsdWVcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBhdHRyKHsgYXR0cmlidXRlOiBcIm9wZW5cIiwgbW9kZTogXCJib29sZWFuXCIgfSlcbl0sIFNlbGVjdC5wcm90b3R5cGUsIFwib3BlblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgdm9sYXRpbGVcbl0sIFNlbGVjdC5wcm90b3R5cGUsIFwiY29sbGFwc2libGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBTZWxlY3QucHJvdG90eXBlLCBcImNvbnRyb2xcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIGF0dHIoeyBhdHRyaWJ1dGU6IFwicG9zaXRpb25cIiB9KVxuXSwgU2VsZWN0LnByb3RvdHlwZSwgXCJwb3NpdGlvbkF0dHJpYnV0ZVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgU2VsZWN0LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgb2JzZXJ2YWJsZVxuXSwgU2VsZWN0LnByb3RvdHlwZSwgXCJtYXhIZWlnaHRcIiwgdm9pZCAwKTtcbi8qKlxuICogSW5jbHVkZXMgQVJJQSBzdGF0ZXMgYW5kIHByb3BlcnRpZXMgcmVsYXRpbmcgdG8gdGhlIEFSSUEgc2VsZWN0IHJvbGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGVsZWdhdGVzQVJJQVNlbGVjdCB7XG59XG5fX2RlY29yYXRlKFtcbiAgICBvYnNlcnZhYmxlXG5dLCBEZWxlZ2F0ZXNBUklBU2VsZWN0LnByb3RvdHlwZSwgXCJhcmlhQ29udHJvbHNcIiwgdm9pZCAwKTtcbmFwcGx5TWl4aW5zKERlbGVnYXRlc0FSSUFTZWxlY3QsIERlbGVnYXRlc0FSSUFMaXN0Ym94KTtcbmFwcGx5TWl4aW5zKFNlbGVjdCwgU3RhcnRFbmQsIERlbGVnYXRlc0FSSUFTZWxlY3QpO1xuIiwiaW1wb3J0IHsgaHRtbCwgcmVmLCBzbG90dGVkLCB3aGVuIH0gZnJvbSBcIkBtaWNyb3NvZnQvZmFzdC1lbGVtZW50XCI7XG5pbXBvcnQgeyBMaXN0Ym94IH0gZnJvbSBcIi4uL2xpc3Rib3gvbGlzdGJveC5qc1wiO1xuaW1wb3J0IHsgZW5kU2xvdFRlbXBsYXRlLCBzdGFydFNsb3RUZW1wbGF0ZSB9IGZyb20gXCIuLi9wYXR0ZXJucy9zdGFydC1lbmQuanNcIjtcbi8qKlxuICogVGhlIHRlbXBsYXRlIGZvciB0aGUge0BsaW5rIEBtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uIyhTZWxlY3Q6Y2xhc3MpfSBjb21wb25lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzZWxlY3RUZW1wbGF0ZSA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBodG1sIGBcbiAgICA8dGVtcGxhdGVcbiAgICAgICAgY2xhc3M9XCIke3ggPT4gW1xuICAgIHguY29sbGFwc2libGUgJiYgXCJjb2xsYXBzaWJsZVwiLFxuICAgIHguY29sbGFwc2libGUgJiYgeC5vcGVuICYmIFwib3BlblwiLFxuICAgIHguZGlzYWJsZWQgJiYgXCJkaXNhYmxlZFwiLFxuICAgIHguY29sbGFwc2libGUgJiYgeC5wb3NpdGlvbixcbl1cbiAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgLmpvaW4oXCIgXCIpfVwiXG4gICAgICAgIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cIiR7eCA9PiB4LmFyaWFBY3RpdmVEZXNjZW5kYW50fVwiXG4gICAgICAgIGFyaWEtY29udHJvbHM9XCIke3ggPT4geC5hcmlhQ29udHJvbHN9XCJcbiAgICAgICAgYXJpYS1kaXNhYmxlZD1cIiR7eCA9PiB4LmFyaWFEaXNhYmxlZH1cIlxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwiJHt4ID0+IHguYXJpYUV4cGFuZGVkfVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCIke3ggPT4gKHguY29sbGFwc2libGUgPyBcImxpc3Rib3hcIiA6IG51bGwpfVwiXG4gICAgICAgIGFyaWEtbXVsdGlzZWxlY3RhYmxlPVwiJHt4ID0+IHguYXJpYU11bHRpU2VsZWN0YWJsZX1cIlxuICAgICAgICA/b3Blbj1cIiR7eCA9PiB4Lm9wZW59XCJcbiAgICAgICAgcm9sZT1cImNvbWJvYm94XCJcbiAgICAgICAgdGFiaW5kZXg9XCIke3ggPT4gKCF4LmRpc2FibGVkID8gXCIwXCIgOiBudWxsKX1cIlxuICAgICAgICBAY2xpY2s9XCIkeyh4LCBjKSA9PiB4LmNsaWNrSGFuZGxlcihjLmV2ZW50KX1cIlxuICAgICAgICBAZm9jdXNpbj1cIiR7KHgsIGMpID0+IHguZm9jdXNpbkhhbmRsZXIoYy5ldmVudCl9XCJcbiAgICAgICAgQGZvY3Vzb3V0PVwiJHsoeCwgYykgPT4geC5mb2N1c291dEhhbmRsZXIoYy5ldmVudCl9XCJcbiAgICAgICAgQGtleWRvd249XCIkeyh4LCBjKSA9PiB4LmtleWRvd25IYW5kbGVyKGMuZXZlbnQpfVwiXG4gICAgICAgIEBtb3VzZWRvd249XCIkeyh4LCBjKSA9PiB4Lm1vdXNlZG93bkhhbmRsZXIoYy5ldmVudCl9XCJcbiAgICA+XG4gICAgICAgICR7d2hlbih4ID0+IHguY29sbGFwc2libGUsIGh0bWwgYFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgcGFydD1cImNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICA/ZGlzYWJsZWQ9XCIke3ggPT4geC5kaXNhYmxlZH1cIlxuICAgICAgICAgICAgICAgICAgICAke3JlZihcImNvbnRyb2xcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAke3N0YXJ0U2xvdFRlbXBsYXRlKGNvbnRleHQsIGRlZmluaXRpb24pfVxuICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdGVkLXZhbHVlXCIgcGFydD1cInNlbGVjdGVkLXZhbHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cInNlbGVjdGVkLXZhbHVlXCI+JHt4ID0+IHguZGlzcGxheVZhbHVlfTwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzcz1cImluZGljYXRvclwiIHBhcnQ9XCJpbmRpY2F0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGVmaW5pdGlvbi5pbmRpY2F0b3IgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Nsb3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9zbG90PlxuICAgICAgICAgICAgICAgICAgICAke2VuZFNsb3RUZW1wbGF0ZShjb250ZXh0LCBkZWZpbml0aW9uKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGApfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImxpc3Rib3hcIlxuICAgICAgICAgICAgaWQ9XCIke3ggPT4geC5saXN0Ym94SWR9XCJcbiAgICAgICAgICAgIHBhcnQ9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCJcbiAgICAgICAgICAgID9kaXNhYmxlZD1cIiR7eCA9PiB4LmRpc2FibGVkfVwiXG4gICAgICAgICAgICA/aGlkZGVuPVwiJHt4ID0+ICh4LmNvbGxhcHNpYmxlID8gIXgub3BlbiA6IGZhbHNlKX1cIlxuICAgICAgICAgICAgJHtyZWYoXCJsaXN0Ym94XCIpfVxuICAgICAgICA+XG4gICAgICAgICAgICA8c2xvdFxuICAgICAgICAgICAgICAgICR7c2xvdHRlZCh7XG4gICAgZmlsdGVyOiBMaXN0Ym94LnNsb3R0ZWRPcHRpb25GaWx0ZXIsXG4gICAgZmxhdHRlbjogdHJ1ZSxcbiAgICBwcm9wZXJ0eTogXCJzbG90dGVkT3B0aW9uc1wiLFxufSl9XG4gICAgICAgICAgICA+PC9zbG90PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L3RlbXBsYXRlPlxuYDtcbiIsIi8qKlxuICogVGhlIENTUyB2YWx1ZSBmb3IgZGlzYWJsZWQgY3Vyc29ycy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGRpc2FibGVkQ3Vyc29yID0gXCJub3QtYWxsb3dlZFwiO1xuIiwiLyoqXG4gKiBBIENTUyBmcmFnbWVudCB0byBzZXQgYGRpc3BsYXk6IG5vbmU7YCB3aGVuIHRoZSBob3N0IGlzIGhpZGRlbiB1c2luZyB0aGUgW2hpZGRlbl0gYXR0cmlidXRlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaGlkZGVuID0gYDpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9YDtcbi8qKlxuICogQXBwbGllcyBhIENTUyBkaXNwbGF5IHByb3BlcnR5LlxuICogQWxzbyBhZGRzIENTUyBydWxlcyB0byBub3QgZGlzcGxheSB0aGUgZWxlbWVudCB3aGVuIHRoZSBbaGlkZGVuXSBhdHRyaWJ1dGUgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSBkaXNwbGF5IC0gVGhlIENTUyBkaXNwbGF5IHByb3BlcnR5IHZhbHVlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5KGRpc3BsYXlWYWx1ZSkge1xuICAgIHJldHVybiBgJHtoaWRkZW59Omhvc3R7ZGlzcGxheToke2Rpc3BsYXlWYWx1ZX19YDtcbn1cbiIsImltcG9ydCB7IGNhblVzZUZvY3VzVmlzaWJsZSB9IGZyb20gXCJAbWljcm9zb2Z0L2Zhc3Qtd2ViLXV0aWxpdGllc1wiO1xuLyoqXG4gKiBUaGUgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZm9jdXMgc2VsZWN0b3IgdG8gYmUgdXNlZC4gVmFsdWVcbiAqIHdpbGwgYmUgXCJmb2N1cy12aXNpYmxlXCIgd2hlbiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvc2VsZWN0b3JzLTQvI3RoZS1mb2N1cy12aXNpYmxlLXBzZXVkb1xuICogaXMgc3VwcG9ydGVkIGFuZCBcImZvY3VzXCIgd2hlbiBpdCBpcyBub3QuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZm9jdXNWaXNpYmxlID0gY2FuVXNlRm9jdXNWaXNpYmxlKCkgPyBcImZvY3VzLXZpc2libGVcIiA6IFwiZm9jdXNcIjtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgRGVzaWduU3lzdGVtIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuLyoqXG4gKiBQcm92aWRlcyBhIGRlc2lnbiBzeXN0ZW0gZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBlaXRoZXIgYnkgcmV0dXJuaW5nIG9uZSB0aGF0IHdhc1xuICogYWxyZWFkeSBjcmVhdGVkIGZvciB0aGF0IGVsZW1lbnQgb3IgY3JlYXRpbmcgb25lLlxuICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byByb290IHRoZSBkZXNpZ24gc3lzdGVtIGF0LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSBib2R5LlxuICogQHJldHVybnMgQSBWU0NvZGUgRGVzaWduIFN5c3RlbVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZVZTQ29kZURlc2lnblN5c3RlbShlbGVtZW50KSB7XG4gICAgcmV0dXJuIERlc2lnblN5c3RlbS5nZXRPckNyZWF0ZShlbGVtZW50KS53aXRoUHJlZml4KCd2c2NvZGUnKTtcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuLyoqXG4gKiBDb25maWd1cmVzIGEgTXV0YXRpb25PYnNlcnZlciB0byB3YXRjaCBmb3IgVmlzdWFsIFN0dWRpbyBDb2RlIHRoZW1lIGNoYW5nZXMgYW5kXG4gKiBhcHBsaWVzIHRoZSBjdXJyZW50IFZpc3VhbCBTdHVkaW8gQ29kZSB0aGVtZSB0byB0aGUgdG9vbGtpdCBjb21wb25lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRoZW1lQ2hhbmdlTGlzdGVuZXIodG9rZW5NYXBwaW5ncykge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIGFwcGx5Q3VycmVudFRoZW1lKHRva2VuTWFwcGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbJ2NsYXNzJ10sXG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseUN1cnJlbnRUaGVtZSh0b2tlbk1hcHBpbmdzKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQXBwbGllcyB0aGUgY3VycmVudCBWaXN1YWwgU3R1ZGlvIENvZGUgdGhlbWUgdG8gdGhlIHRvb2xraXQgY29tcG9uZW50cy5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDdXJyZW50VGhlbWUodG9rZW5NYXBwaW5ncykge1xuICAgIC8vIEdldCBhbGwgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSA8Ym9keT4gdGFnIGluIHRoZSB3ZWJ2aWV3IEhUTUxcbiAgICAvLyBJbXBvcnRhbnRseSB0aGlzIGluY2x1ZGVzIGFsbCB0aGUgQ1NTIHZhcmlhYmxlcyBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgLy8gY3VycmVudCBWaXN1YWwgU3R1ZGlvIENvZGUgdGhlbWVcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpO1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgaWYgKGJvZHkpIHtcbiAgICAgICAgY29uc3QgdGhlbWVLaW5kID0gYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdnNjb2RlLXRoZW1lLWtpbmQnKTtcbiAgICAgICAgZm9yIChjb25zdCBbdnNjb2RlVG9rZW5OYW1lLCB0b29sa2l0VG9rZW5dIG9mIHRva2VuTWFwcGluZ3MpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKHZzY29kZVRva2VuTmFtZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBhIGNvdXBsZSBvZiBzdHlsaW5nIGVkZ2UgY2FzZXMgd2hlbiBhIGhpZ2ggY29udHJhc3QgdGhlbWUgaXMgYXBwbGllZFxuICAgICAgICAgICAgaWYgKHRoZW1lS2luZCA9PT0gJ3ZzY29kZS1oaWdoLWNvbnRyYXN0Jykge1xuICAgICAgICAgICAgICAgIC8vIERldmVsb3BlciBub3RlOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIGEgaGFuZGZ1bCBvZiBWUyBDb2RlIHRoZW1lIHRva2VucyB0aGF0IGhhdmUgbm8gdmFsdWUgd2hlbiBhIGhpZ2hcbiAgICAgICAgICAgICAgICAvLyBjb250cmFzdCB0aGVtZSBpcyBhcHBsaWVkLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBpc3N1ZSBiZWNhdXNlIHdoZW4gbm8gdmFsdWUgaXMgc2V0IHRoZSB0b29sa2l0IHRva2VucyB3aWxsIGZhbGxcbiAgICAgICAgICAgICAgICAvLyBiYWNrIHRvIHRoZWlyIGRlZmF1bHQgY29sb3IgdmFsdWVzIChha2EgdGhlIFZTIENvZGUgZGFyayB0aGVtZSBjb2xvciBwYWxldHRlKS5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIHJlc3VsdHMgaW4gdGhlIGJhY2tncm91bmRzIG9mIGEgY291cGxlIG9mIGNvbXBvbmVudHMgaGF2aW5nIGRlZmF1bHQgZGFya1xuICAgICAgICAgICAgICAgIC8vIHRoZW1lIGNvbG9yc+KAk+KAk3RodXMgYnJlYWtpbmcgdGhlIGhpZ2ggY29udHJhc3QgdGhlbWUuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBUaGUgYmVsb3cgY29kZSwgY2F0Y2hlcyB0aGVzZSB0b2tlbnMgd2hpY2ggaGF2ZSBubyB2YWx1ZSBhbmQgYXJlIGFsc28gYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgIC8vIHRva2VucywgdGhlbiBvdmVycmlkZXMgdGhlaXIgdmFsdWUgdG8gYmUgdHJhbnNwYXJlbnQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICB0b29sa2l0VG9rZW4ubmFtZS5pbmNsdWRlcygnYmFja2dyb3VuZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IGljb24gYnV0dG9uIGhvdmVyIHRvIGJlIHRyYW5zcGFyZW50IGluIGhpZ2ggY29udHJhc3QgdGhlbWVzXG4gICAgICAgICAgICAgICAgaWYgKHRvb2xraXRUb2tlbi5uYW1lID09PSAnYnV0dG9uLWljb24taG92ZXItYmFja2dyb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoZW1lS2luZCA9PT0gJ3ZzY29kZS1oaWdoLWNvbnRyYXN0LWxpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgdG9vbGtpdFRva2VuLm5hbWUuaW5jbHVkZXMoJ2JhY2tncm91bmQnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgYnV0dG9uIHZhcmlhbnQgaG92ZXIgYmFja2dyb3VuZHMgdG8gY29ycmVjdCB2YWx1ZXMgYmFzZWQgb24gVlMgQ29kZSBjb3JlIHNvdXJjZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvYmxvYi9mZDBlZTRmNzdlMzU0ZGUxMGFlNTkxYzllOTdmZTVhZDQxYjM5OGZjL3NyYy92cy9wbGF0Zm9ybS90aGVtZS9jb21tb24vY29sb3JSZWdpc3RyeS50cyNMMjcwLUwyNzZcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b29sa2l0VG9rZW4ubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYnV0dG9uLXByaW1hcnktaG92ZXItYmFja2dyb3VuZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnIzBGNEE4NSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdidXR0b24tc2Vjb25kYXJ5LWhvdmVyLWJhY2tncm91bmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J1dHRvbi1pY29uLWhvdmVyLWJhY2tncm91bmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNldCBjb250cmFzdC1hY3RpdmUtYm9yZGVyIHRva2VuIHRvIGJlIHRyYW5zcGFyZW50IGluIG5vbi1oaWdoLWNvbnRyYXN0IHRoZW1lc1xuICAgICAgICAgICAgICAgIGlmICh0b29sa2l0VG9rZW4ubmFtZSA9PT0gJ2NvbnRyYXN0LWFjdGl2ZS1ib3JkZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b29sa2l0VG9rZW4uc2V0VmFsdWVGb3IoYm9keSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBEZXNpZ25Ub2tlbiB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uJztcbmltcG9ydCB7IGluaXRUaGVtZUNoYW5nZUxpc3RlbmVyIH0gZnJvbSAnLi4vdGhlbWUvYXBwbHlUaGVtZS5qcyc7XG4vKipcbiAqIEEgbWFwcGluZyBvZiBhbGwgdGhlIFZpc3VhbCBTdHVkaW8gQ29kZSB0aGVtZSBDU1MgdmFyaWFibGVzIG1hcHBlZCB0byB0aGVcbiAqIHRvb2xraXQgZGVzaWduIHRva2Vucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRva2VuTWFwcGluZ3MgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEJvb2xlYW4gZmxhZyB0aGF0IGVuc3VyZXMgdGhlIFZTIENvZGUgdGhlbWUgbGlzdGVuZXIgaXMgaW5pdGlhbGl6ZWQgb25jZS5cbiAqL1xubGV0IGlzVGhlbWVMaXN0ZW5lckluaXRpYWxpemVkID0gZmFsc2U7XG4vKipcbiAqIEdpdmVuIGEgZGVzaWduIHRva2VuIG5hbWUsIHJldHVybiBhIG5ldyBGQVNUIENTU0Rlc2lnblRva2VuLlxuICpcbiAqIEByZW1hcmtzIEEgVlMgQ29kZSB0aGVtZSBDU1MgdmFyaWFibGUgY2FuIGJlIG9wdGlvbmFsbHkgcGFzc2VkIHRvIGJlXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhlIGRlc2lnbiB0b2tlbi5cbiAqXG4gKiBAcmVtYXJrcyBPbiB0aGUgZmlyc3QgZXhlY3V0aW9uIHRoZSBWUyBDb2RlIHRoZW1lIGxpc3RlbmVyIHdpbGwgYWxzbyBiZVxuICogaW5pdGlhbGl6ZWQuXG4gKlxuICogQHBhcmFtIG5hbWUgQSBkZXNpZ24gdG9rZW4gbmFtZS5cbiAqIEBwYXJhbSB2c2NvZGVUaGVtZVZhciBBIFZTIENvZGUgdGhlbWUgQ1NTIHZhcmlhYmxlIG5hbWUgdG8gYmUgYXNzb2NpYXRlZCB3aXRoXG4gKiB0aGUgZGVzaWduIHRva2VuLlxuICogQHJldHVybnMgQSBGQVNUIENTU0Rlc2lnblRva2VuIHRoYXQgZW1pdHMgYSBDU1MgY3VzdG9tIHByb3BlcnR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKG5hbWUsIHZzY29kZVRoZW1lVmFyKSB7XG4gICAgY29uc3QgZGVzaWduVG9rZW4gPSBEZXNpZ25Ub2tlbi5jcmVhdGUobmFtZSk7XG4gICAgaWYgKHZzY29kZVRoZW1lVmFyKSB7XG4gICAgICAgIC8vIElmIHRoZSBmYWtlIHZzY29kZSB0b2tlbiBpcyBwYXNzZWQgaW4sIGF0dGFjaCBhIHVuaXF1ZSBJRCB0byBpdCBzbyB0aGF0IGl0IGNhblxuICAgICAgICAvLyBiZSBhZGRlZCB0byB0aGUgdG9rZW5NYXBwaW5ncyBtYXAgd2l0aG91dCBvdmVycmlkaW5nIGEgcHJldmlvdXMgZmFrZSB0b2tlbiB2YWx1ZVxuICAgICAgICBpZiAodnNjb2RlVGhlbWVWYXIuaW5jbHVkZXMoJy0tZmFrZS12c2NvZGUtdG9rZW4nKSkge1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlSWQgPSAnaWQnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMik7XG4gICAgICAgICAgICB2c2NvZGVUaGVtZVZhciA9IGAke3ZzY29kZVRoZW1lVmFyfS0ke3VuaXF1ZUlkfWA7XG4gICAgICAgIH1cbiAgICAgICAgdG9rZW5NYXBwaW5ncy5zZXQodnNjb2RlVGhlbWVWYXIsIGRlc2lnblRva2VuKTtcbiAgICB9XG4gICAgaWYgKCFpc1RoZW1lTGlzdGVuZXJJbml0aWFsaXplZCkge1xuICAgICAgICBpbml0VGhlbWVDaGFuZ2VMaXN0ZW5lcih0b2tlbk1hcHBpbmdzKTtcbiAgICAgICAgaXNUaGVtZUxpc3RlbmVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGVzaWduVG9rZW47XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJy4vdXRpbGl0aWVzL2Rlc2lnbi10b2tlbnMvY3JlYXRlLmpzJztcbi8qKlxuICogRGV2ZWxvcGVyIG5vdGU6XG4gKlxuICogVGhlcmUgYXJlIHNvbWUgdG9rZW5zIGRlZmluZWQgaW4gdGhpcyBmaWxlIHRoYXQgbWFrZSB1c2Ugb2YgYC0tZmFrZS12c2NvZGUtdG9rZW5gLiBUaGlzIGlzXG4gKiBkb25lIHdoZW4gYSB0b29sa2l0IHRva2VuIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgdG9rZW5NYXBwaW5ncyBtYXAgKGFuZCBzdWJzZXF1ZW50bHkgYWx0ZXJlZFxuICogaW4gdGhlIGFwcGx5VGhlbWUgZnVuY3Rpb24pIGJ1dCBkb2VzIG5vdCBoYXZlIGEgY29ycmVzcG9uZGluZyBWUyBDb2RlIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQuXG4gKlxuICogQW4gZXhhbXBsZSBpcyBidXR0b25JY29uSG92ZXJCYWNrZ3JvdW5kIHRva2VuIHdoaWNoIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nIFZTIENvZGUgdG9rZW5cbiAqIGF0IHRoaXMgdGltZSAoaXQncyBhIGhhcmRjb2RlZCB2YWx1ZSBpbiBWUyBDb2RlKSwgYnV0IG5lZWRzIHRvIGJlIGFkanVzdGVkIHRvIGJlIHRyYW5zcGFyZW50IHdoZW4gYVxuICogaGlnaCBjb250cmFzdCB0aGVtZSBpcyBhcHBsaWVkLlxuICpcbiAqIEFzIGEgcnVsZSBvZiB0aHVtYiwgaWYgdGhlcmUgYXJlIHNwZWNpYWwgY2FzZXMgd2hlcmUgYSB0b2tlbiBuZWVkcyB0byBiZSBhZGp1c3RlZCBiYXNlZCBvbiB0aGVcbiAqIFZTIENvZGUgdGhlbWUgYW5kIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nIFZTIENvZGUgdG9rZW4sIGAtLWZha2UtdnNjb2RlLXRva2VuYCBjYW4gYmUgdXNlZFxuICogdG8gaW5kaWNhdGUgdGhhdCBpdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHRva2VuTWFwcGluZ3MgbWFwIGFuZCB0aHVzIG1ha2UgaXQgYWNjZXNzaWJsZSB0byB0aGVcbiAqIGFwcGx5VGhlbWUgZnVuY3Rpb24gd2hlcmUgaXQgY2FuIGJlIGR5bmFtaWNhbGx5IGFkanVzdGVkLlxuICovXG4vKipcbiAqIEdsb2JhbCBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZCA9IGNyZWF0ZSgnYmFja2dyb3VuZCcsICctLXZzY29kZS1lZGl0b3ItYmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjMWUxZTFlJyk7XG5leHBvcnQgY29uc3QgYm9yZGVyV2lkdGggPSBjcmVhdGUoJ2JvcmRlci13aWR0aCcpLndpdGhEZWZhdWx0KDEpO1xuZXhwb3J0IGNvbnN0IGNvbnRyYXN0QWN0aXZlQm9yZGVyID0gY3JlYXRlKCdjb250cmFzdC1hY3RpdmUtYm9yZGVyJywgJy0tdnNjb2RlLWNvbnRyYXN0QWN0aXZlQm9yZGVyJykud2l0aERlZmF1bHQoJyNmMzg1MTgnKTtcbmV4cG9ydCBjb25zdCBjb250cmFzdEJvcmRlciA9IGNyZWF0ZSgnY29udHJhc3QtYm9yZGVyJywgJy0tdnNjb2RlLWNvbnRyYXN0Qm9yZGVyJykud2l0aERlZmF1bHQoJyM2ZmMzZGYnKTtcbmV4cG9ydCBjb25zdCBjb3JuZXJSYWRpdXMgPSBjcmVhdGUoJ2Nvcm5lci1yYWRpdXMnKS53aXRoRGVmYXVsdCgwKTtcbmV4cG9ydCBjb25zdCBjb3JuZXJSYWRpdXNSb3VuZCA9IGNyZWF0ZSgnY29ybmVyLXJhZGl1cy1yb3VuZCcpLndpdGhEZWZhdWx0KDIpO1xuZXhwb3J0IGNvbnN0IGRlc2lnblVuaXQgPSBjcmVhdGUoJ2Rlc2lnbi11bml0Jykud2l0aERlZmF1bHQoNCk7XG5leHBvcnQgY29uc3QgZGlzYWJsZWRPcGFjaXR5ID0gY3JlYXRlKCdkaXNhYmxlZC1vcGFjaXR5Jykud2l0aERlZmF1bHQoMC40KTtcbmV4cG9ydCBjb25zdCBmb2N1c0JvcmRlciA9IGNyZWF0ZSgnZm9jdXMtYm9yZGVyJywgJy0tdnNjb2RlLWZvY3VzQm9yZGVyJykud2l0aERlZmF1bHQoJyMwMDdmZDQnKTtcbmV4cG9ydCBjb25zdCBmb250RmFtaWx5ID0gY3JlYXRlKCdmb250LWZhbWlseScsICctLXZzY29kZS1mb250LWZhbWlseScpLndpdGhEZWZhdWx0KCctYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIEFwcGxlIENvbG9yIEVtb2ppLCBTZWdvZSBVSSBFbW9qaSwgU2Vnb2UgVUkgU3ltYm9sJyk7XG5leHBvcnQgY29uc3QgZm9udFdlaWdodCA9IGNyZWF0ZSgnZm9udC13ZWlnaHQnLCAnLS12c2NvZGUtZm9udC13ZWlnaHQnKS53aXRoRGVmYXVsdCgnNDAwJyk7XG5leHBvcnQgY29uc3QgZm9yZWdyb3VuZCA9IGNyZWF0ZSgnZm9yZWdyb3VuZCcsICctLXZzY29kZS1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNjY2NjY2MnKTtcbmV4cG9ydCBjb25zdCBpbnB1dEhlaWdodCA9IGNyZWF0ZSgnaW5wdXQtaGVpZ2h0Jykud2l0aERlZmF1bHQoJzI2Jyk7XG5leHBvcnQgY29uc3QgaW5wdXRNaW5XaWR0aCA9IGNyZWF0ZSgnaW5wdXQtbWluLXdpZHRoJykud2l0aERlZmF1bHQoJzEwMHB4Jyk7XG5leHBvcnQgY29uc3QgdHlwZVJhbXBCYXNlRm9udFNpemUgPSBjcmVhdGUoJ3R5cGUtcmFtcC1iYXNlLWZvbnQtc2l6ZScsICctLXZzY29kZS1mb250LXNpemUnKS53aXRoRGVmYXVsdCgnMTNweCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wQmFzZUxpbmVIZWlnaHQgPSBjcmVhdGUoJ3R5cGUtcmFtcC1iYXNlLWxpbmUtaGVpZ2h0Jykud2l0aERlZmF1bHQoJ25vcm1hbCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wTWludXMxRm9udFNpemUgPSBjcmVhdGUoJ3R5cGUtcmFtcC1taW51czEtZm9udC1zaXplJykud2l0aERlZmF1bHQoJzExcHgnKTtcbmV4cG9ydCBjb25zdCB0eXBlUmFtcE1pbnVzMUxpbmVIZWlnaHQgPSBjcmVhdGUoJ3R5cGUtcmFtcC1taW51czEtbGluZS1oZWlnaHQnKS53aXRoRGVmYXVsdCgnMTZweCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wTWludXMyRm9udFNpemUgPSBjcmVhdGUoJ3R5cGUtcmFtcC1taW51czItZm9udC1zaXplJykud2l0aERlZmF1bHQoJzlweCcpO1xuZXhwb3J0IGNvbnN0IHR5cGVSYW1wTWludXMyTGluZUhlaWdodCA9IGNyZWF0ZSgndHlwZS1yYW1wLW1pbnVzMi1saW5lLWhlaWdodCcpLndpdGhEZWZhdWx0KCcxNnB4Jyk7XG5leHBvcnQgY29uc3QgdHlwZVJhbXBQbHVzMUZvbnRTaXplID0gY3JlYXRlKCd0eXBlLXJhbXAtcGx1czEtZm9udC1zaXplJykud2l0aERlZmF1bHQoJzE2cHgnKTtcbmV4cG9ydCBjb25zdCB0eXBlUmFtcFBsdXMxTGluZUhlaWdodCA9IGNyZWF0ZSgndHlwZS1yYW1wLXBsdXMxLWxpbmUtaGVpZ2h0Jykud2l0aERlZmF1bHQoJzI0cHgnKTtcbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IGNyZWF0ZSgnc2Nyb2xsYmFyV2lkdGgnKS53aXRoRGVmYXVsdCgnMTBweCcpO1xuZXhwb3J0IGNvbnN0IHNjcm9sbGJhckhlaWdodCA9IGNyZWF0ZSgnc2Nyb2xsYmFySGVpZ2h0Jykud2l0aERlZmF1bHQoJzEwcHgnKTtcbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJTbGlkZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdzY3JvbGxiYXItc2xpZGVyLWJhY2tncm91bmQnLCAnLS12c2NvZGUtc2Nyb2xsYmFyU2xpZGVyLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzc5Nzk3OTY2Jyk7XG5leHBvcnQgY29uc3Qgc2Nyb2xsYmFyU2xpZGVySG92ZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdzY3JvbGxiYXItc2xpZGVyLWhvdmVyLWJhY2tncm91bmQnLCAnLS12c2NvZGUtc2Nyb2xsYmFyU2xpZGVyLWhvdmVyQmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjNjQ2NDY0YjMnKTtcbmV4cG9ydCBjb25zdCBzY3JvbGxiYXJTbGlkZXJBY3RpdmVCYWNrZ3JvdW5kID0gY3JlYXRlKCdzY3JvbGxiYXItc2xpZGVyLWFjdGl2ZS1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLXNjcm9sbGJhclNsaWRlci1hY3RpdmVCYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyNiZmJmYmY2NicpO1xuLyoqXG4gKiBCYWRnZSBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgYmFkZ2VCYWNrZ3JvdW5kID0gY3JlYXRlKCdiYWRnZS1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLWJhZGdlLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzRkNGQ0ZCcpO1xuZXhwb3J0IGNvbnN0IGJhZGdlRm9yZWdyb3VuZCA9IGNyZWF0ZSgnYmFkZ2UtZm9yZWdyb3VuZCcsICctLXZzY29kZS1iYWRnZS1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbi8qKlxuICogQnV0dG9uIGRlc2lnbiB0b2tlbnMuXG4gKi9cbi8vIE5vdGU6IEJ1dHRvbiBib3JkZXIgaXMgdXNlZCBvbmx5IGZvciBoaWdoIGNvbnRyYXN0IHRoZW1lcyBhbmQgc2hvdWxkIGJlIGxlZnQgYXMgdHJhbnNwYXJlbnQgb3RoZXJ3aXNlLlxuZXhwb3J0IGNvbnN0IGJ1dHRvbkJvcmRlciA9IGNyZWF0ZSgnYnV0dG9uLWJvcmRlcicsICctLXZzY29kZS1idXR0b24tYm9yZGVyJykud2l0aERlZmF1bHQoJ3RyYW5zcGFyZW50Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uSWNvbkJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1pY29uLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgndHJhbnNwYXJlbnQnKTtcbmV4cG9ydCBjb25zdCBidXR0b25JY29uQ29ybmVyUmFkaXVzID0gY3JlYXRlKCdidXR0b24taWNvbi1jb3JuZXItcmFkaXVzJykud2l0aERlZmF1bHQoJzVweCcpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkljb25Gb2N1c0JvcmRlck9mZnNldCA9IGNyZWF0ZSgnYnV0dG9uLWljb24tb3V0bGluZS1vZmZzZXQnKS53aXRoRGVmYXVsdCgwKTtcbi8vIE5vdGUgdXNhZ2Ugb2YgYC0tZmFrZS12c2NvZGUtdG9rZW5gIChyZWZlciB0byBkb2MgY29tbWVudCBhdCB0b3Agb2YgZmlsZSBmb3IgZXhwbGFuYXRpb24pLlxuZXhwb3J0IGNvbnN0IGJ1dHRvbkljb25Ib3ZlckJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1pY29uLWhvdmVyLWJhY2tncm91bmQnLCAnLS1mYWtlLXZzY29kZS10b2tlbicpLndpdGhEZWZhdWx0KCdyZ2JhKDkwLCA5MywgOTQsIDAuMzEpJyk7XG5leHBvcnQgY29uc3QgYnV0dG9uSWNvblBhZGRpbmcgPSBjcmVhdGUoJ2J1dHRvbi1pY29uLXBhZGRpbmcnKS53aXRoRGVmYXVsdCgnM3B4Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uUHJpbWFyeUJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1wcmltYXJ5LWJhY2tncm91bmQnLCAnLS12c2NvZGUtYnV0dG9uLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzBlNjM5YycpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblByaW1hcnlGb3JlZ3JvdW5kID0gY3JlYXRlKCdidXR0b24tcHJpbWFyeS1mb3JlZ3JvdW5kJywgJy0tdnNjb2RlLWJ1dHRvbi1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbmV4cG9ydCBjb25zdCBidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdidXR0b24tcHJpbWFyeS1ob3Zlci1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLWJ1dHRvbi1ob3ZlckJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzExNzdiYicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblNlY29uZGFyeUJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1zZWNvbmRhcnktYmFja2dyb3VuZCcsICctLXZzY29kZS1idXR0b24tc2Vjb25kYXJ5QmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjM2EzZDQxJyk7XG5leHBvcnQgY29uc3QgYnV0dG9uU2Vjb25kYXJ5Rm9yZWdyb3VuZCA9IGNyZWF0ZSgnYnV0dG9uLXNlY29uZGFyeS1mb3JlZ3JvdW5kJywgJy0tdnNjb2RlLWJ1dHRvbi1zZWNvbmRhcnlGb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbmV4cG9ydCBjb25zdCBidXR0b25TZWNvbmRhcnlIb3ZlckJhY2tncm91bmQgPSBjcmVhdGUoJ2J1dHRvbi1zZWNvbmRhcnktaG92ZXItYmFja2dyb3VuZCcsICctLXZzY29kZS1idXR0b24tc2Vjb25kYXJ5SG92ZXJCYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyM0NTQ5NGUnKTtcbmV4cG9ydCBjb25zdCBidXR0b25QYWRkaW5nSG9yaXpvbnRhbCA9IGNyZWF0ZSgnYnV0dG9uLXBhZGRpbmctaG9yaXpvbnRhbCcpLndpdGhEZWZhdWx0KCcxMXB4Jyk7XG5leHBvcnQgY29uc3QgYnV0dG9uUGFkZGluZ1ZlcnRpY2FsID0gY3JlYXRlKCdidXR0b24tcGFkZGluZy12ZXJ0aWNhbCcpLndpdGhEZWZhdWx0KCc0cHgnKTtcbi8qKlxuICogQ2hlY2tib3ggZGVzaWduIHRva2Vucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrYm94QmFja2dyb3VuZCA9IGNyZWF0ZSgnY2hlY2tib3gtYmFja2dyb3VuZCcsICctLXZzY29kZS1jaGVja2JveC1iYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyMzYzNjM2MnKTtcbmV4cG9ydCBjb25zdCBjaGVja2JveEJvcmRlciA9IGNyZWF0ZSgnY2hlY2tib3gtYm9yZGVyJywgJy0tdnNjb2RlLWNoZWNrYm94LWJvcmRlcicpLndpdGhEZWZhdWx0KCcjM2MzYzNjJyk7XG5leHBvcnQgY29uc3QgY2hlY2tib3hDb3JuZXJSYWRpdXMgPSBjcmVhdGUoJ2NoZWNrYm94LWNvcm5lci1yYWRpdXMnKS53aXRoRGVmYXVsdCgzKTtcbmV4cG9ydCBjb25zdCBjaGVja2JveEZvcmVncm91bmQgPSBjcmVhdGUoJ2NoZWNrYm94LWZvcmVncm91bmQnLCAnLS12c2NvZGUtY2hlY2tib3gtZm9yZWdyb3VuZCcpLndpdGhEZWZhdWx0KCcjZjBmMGYwJyk7XG4vKipcbiAqIERhdGEgR3JpZCBkZXNpZ24gdG9rZW5zXG4gKi9cbmV4cG9ydCBjb25zdCBsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZCA9IGNyZWF0ZSgnbGlzdC1hY3RpdmUtc2VsZWN0aW9uLWJhY2tncm91bmQnLCAnLS12c2NvZGUtbGlzdC1hY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kJykud2l0aERlZmF1bHQoJyMwOTQ3NzEnKTtcbmV4cG9ydCBjb25zdCBsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZCA9IGNyZWF0ZSgnbGlzdC1hY3RpdmUtc2VsZWN0aW9uLWZvcmVncm91bmQnLCAnLS12c2NvZGUtbGlzdC1hY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmZmZmZmYnKTtcbmV4cG9ydCBjb25zdCBsaXN0SG92ZXJCYWNrZ3JvdW5kID0gY3JlYXRlKCdsaXN0LWhvdmVyLWJhY2tncm91bmQnLCAnLS12c2NvZGUtbGlzdC1ob3ZlckJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzJhMmQyZScpO1xuLyoqXG4gKiBEaXZpZGVyIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBkaXZpZGVyQmFja2dyb3VuZCA9IGNyZWF0ZSgnZGl2aWRlci1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLXNldHRpbmdzLWRyb3Bkb3duTGlzdEJvcmRlcicpLndpdGhEZWZhdWx0KCcjNDU0NTQ1Jyk7XG4vKipcbiAqIERyb3Bkb3duIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBkcm9wZG93bkJhY2tncm91bmQgPSBjcmVhdGUoJ2Ryb3Bkb3duLWJhY2tncm91bmQnLCAnLS12c2NvZGUtZHJvcGRvd24tYmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjM2MzYzNjJyk7XG5leHBvcnQgY29uc3QgZHJvcGRvd25Cb3JkZXIgPSBjcmVhdGUoJ2Ryb3Bkb3duLWJvcmRlcicsICctLXZzY29kZS1kcm9wZG93bi1ib3JkZXInKS53aXRoRGVmYXVsdCgnIzNjM2MzYycpO1xuZXhwb3J0IGNvbnN0IGRyb3Bkb3duRm9yZWdyb3VuZCA9IGNyZWF0ZSgnZHJvcGRvd24tZm9yZWdyb3VuZCcsICctLXZzY29kZS1kcm9wZG93bi1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNmMGYwZjAnKTtcbmV4cG9ydCBjb25zdCBkcm9wZG93bkxpc3RNYXhIZWlnaHQgPSBjcmVhdGUoJ2Ryb3Bkb3duLWxpc3QtbWF4LWhlaWdodCcpLndpdGhEZWZhdWx0KCcyMDBweCcpO1xuLyoqXG4gKiBUZXh0IEZpZWxkICYgQXJlYSBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgaW5wdXRCYWNrZ3JvdW5kID0gY3JlYXRlKCdpbnB1dC1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLWlucHV0LWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzNjM2MzYycpO1xuZXhwb3J0IGNvbnN0IGlucHV0Rm9yZWdyb3VuZCA9IGNyZWF0ZSgnaW5wdXQtZm9yZWdyb3VuZCcsICctLXZzY29kZS1pbnB1dC1mb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyNjY2NjY2MnKTtcbmV4cG9ydCBjb25zdCBpbnB1dFBsYWNlaG9sZGVyRm9yZWdyb3VuZCA9IGNyZWF0ZSgnaW5wdXQtcGxhY2Vob2xkZXItZm9yZWdyb3VuZCcsICctLXZzY29kZS1pbnB1dC1wbGFjZWhvbGRlckZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnI2NjY2NjYycpO1xuLyoqXG4gKiBMaW5rIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBsaW5rQWN0aXZlRm9yZWdyb3VuZCA9IGNyZWF0ZSgnbGluay1hY3RpdmUtZm9yZWdyb3VuZCcsICctLXZzY29kZS10ZXh0TGluay1hY3RpdmVGb3JlZ3JvdW5kJykud2l0aERlZmF1bHQoJyMzNzk0ZmYnKTtcbmV4cG9ydCBjb25zdCBsaW5rRm9yZWdyb3VuZCA9IGNyZWF0ZSgnbGluay1mb3JlZ3JvdW5kJywgJy0tdnNjb2RlLXRleHRMaW5rLWZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnIzM3OTRmZicpO1xuLyoqXG4gKiBQcm9ncmVzcyByaW5nIGRlc2lnbiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0JhY2tncm91bmQgPSBjcmVhdGUoJ3Byb2dyZXNzLWJhY2tncm91bmQnLCAnLS12c2NvZGUtcHJvZ3Jlc3NCYXItYmFja2dyb3VuZCcpLndpdGhEZWZhdWx0KCcjMGU3MGMwJyk7XG4vKipcbiAqIFBhbmVscyBkZXNpZ24gdG9rZW5zLlxuICovXG5leHBvcnQgY29uc3QgcGFuZWxUYWJBY3RpdmVCb3JkZXIgPSBjcmVhdGUoJ3BhbmVsLXRhYi1hY3RpdmUtYm9yZGVyJywgJy0tdnNjb2RlLXBhbmVsVGl0bGUtYWN0aXZlQm9yZGVyJykud2l0aERlZmF1bHQoJyNlN2U3ZTcnKTtcbmV4cG9ydCBjb25zdCBwYW5lbFRhYkFjdGl2ZUZvcmVncm91bmQgPSBjcmVhdGUoJ3BhbmVsLXRhYi1hY3RpdmUtZm9yZWdyb3VuZCcsICctLXZzY29kZS1wYW5lbFRpdGxlLWFjdGl2ZUZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnI2U3ZTdlNycpO1xuZXhwb3J0IGNvbnN0IHBhbmVsVGFiRm9yZWdyb3VuZCA9IGNyZWF0ZSgncGFuZWwtdGFiLWZvcmVncm91bmQnLCAnLS12c2NvZGUtcGFuZWxUaXRsZS1pbmFjdGl2ZUZvcmVncm91bmQnKS53aXRoRGVmYXVsdCgnI2U3ZTdlNzk5Jyk7XG5leHBvcnQgY29uc3QgcGFuZWxWaWV3QmFja2dyb3VuZCA9IGNyZWF0ZSgncGFuZWwtdmlldy1iYWNrZ3JvdW5kJywgJy0tdnNjb2RlLXBhbmVsLWJhY2tncm91bmQnKS53aXRoRGVmYXVsdCgnIzFlMWUxZScpO1xuZXhwb3J0IGNvbnN0IHBhbmVsVmlld0JvcmRlciA9IGNyZWF0ZSgncGFuZWwtdmlldy1ib3JkZXInLCAnLS12c2NvZGUtcGFuZWwtYm9yZGVyJykud2l0aERlZmF1bHQoJyM4MDgwODA1OScpO1xuLyoqXG4gKiBUYWcgZGVzaWduIHRva2Vucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRhZ0Nvcm5lclJhZGl1cyA9IGNyZWF0ZSgndGFnLWNvcm5lci1yYWRpdXMnKS53aXRoRGVmYXVsdCgnMnB4Jyk7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IGRpc2FibGVkQ3Vyc29yLCBkaXNwbGF5LCBmb2N1c1Zpc2libGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgYm9yZGVyV2lkdGgsIGJ1dHRvbkJvcmRlciwgYnV0dG9uSWNvbkJhY2tncm91bmQsIGJ1dHRvbkljb25Db3JuZXJSYWRpdXMsIGJ1dHRvbkljb25Gb2N1c0JvcmRlck9mZnNldCwgYnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZCwgYnV0dG9uSWNvblBhZGRpbmcsIGJ1dHRvblBhZGRpbmdIb3Jpem9udGFsLCBidXR0b25QYWRkaW5nVmVydGljYWwsIGJ1dHRvblByaW1hcnlCYWNrZ3JvdW5kLCBidXR0b25QcmltYXJ5Rm9yZWdyb3VuZCwgYnV0dG9uUHJpbWFyeUhvdmVyQmFja2dyb3VuZCwgYnV0dG9uU2Vjb25kYXJ5QmFja2dyb3VuZCwgYnV0dG9uU2Vjb25kYXJ5Rm9yZWdyb3VuZCwgYnV0dG9uU2Vjb25kYXJ5SG92ZXJCYWNrZ3JvdW5kLCBjb250cmFzdEFjdGl2ZUJvcmRlciwgY29ybmVyUmFkaXVzUm91bmQsIGRlc2lnblVuaXQsIGRpc2FibGVkT3BhY2l0eSwgZm9jdXNCb3JkZXIsIGZvbnRGYW1pbHksIGZvcmVncm91bmQsIHR5cGVSYW1wQmFzZUZvbnRTaXplLCB0eXBlUmFtcEJhc2VMaW5lSGVpZ2h0LCB9IGZyb20gJy4uL2Rlc2lnbi10b2tlbnMuanMnO1xuLyoqXG4gKiBEZXZlbG9wZXIgbm90ZTpcbiAqXG4gKiBUaGUgcHJldHRpZXItaWdub3JlIGNvbW1hbmQgaXMgdXNlZCBvbiB0aGlzIGJsb2NrIG9mIGNvZGUgYmVjYXVzZSB3aGVuIHJlbW92ZWQgdGhlXG4gKiAnLmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9JyBDU1Mgc2VsZWN0b3Igd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHJlZm9ybWF0dGVkIHRvXG4gKiAnLmNvbnRyb2w6ICR7Zm9jdXNWaXNpYmxlfScgKG5vdGUgdGhlIHNwYWNlIGJldHdlZW4gdGhlIGNvbG9uIGFuZCBkb2xsYXIgc2lnbikuXG4gKlxuICogVGhpcyByZXN1bHRzIGluIG5vbi12YWxpZCBDU1MgdGhhdCB3aWxsIG5vdCByZW5kZXIgYSBmb2N1cyBvdXRsaW5lIG9uIGJhc2UgYnV0dG9ucy5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHRoaXMgcHJldHRpZXIgY29tbWFuZCBtdXN0IGJlIGRlY2xhcmVkIG9uIHRoZSBlbnRpcmUgY29kZSBibG9jayBhbmQgbm90XG4gKiBkaXJlY3RseSBhYm92ZSB0aGUgQ1NTIHNlbGVjdG9yIGxpbmUgYmVjYXVzZSB0aGUgYmVsb3cgY29kZSBibG9jayBpcyBhIHRlbXBsYXRlIGxpdGVyYWxcbiAqIHN0cmluZyB3aGljaCB3aWxsIGVuZCB1cCBiZWluZyB1c2VkIGRpcmVjdGx5IGluIHRoZSBmaW5hbCBjb21wb25lbnQgQ1NTLlxuICpcbiAqIFRodXMgaGF2aW5nICcvLyBwcmV0dGllci1pZ25vcmUnIGRpcmVjdGx5IGluIHRoZSBmaW5hbCBDU1Mgd2lsbCBhbHNvIGJyZWFrIHRoZSBjb21wb25lbnRcbiAqIHN0eWxpbmcuXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgQmFzZUJ1dHRvblN0eWxlcyA9IGNzcyBgXG5cdCR7ZGlzcGxheSgnaW5saW5lLWZsZXgnKX0gOmhvc3Qge1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0Zm9udC1mYW1pbHk6ICR7Zm9udEZhbWlseX07XG5cdFx0Zm9udC1zaXplOiAke3R5cGVSYW1wQmFzZUZvbnRTaXplfTtcblx0XHRsaW5lLWhlaWdodDogJHt0eXBlUmFtcEJhc2VMaW5lSGVpZ2h0fTtcblx0XHRjb2xvcjogJHtidXR0b25QcmltYXJ5Rm9yZWdyb3VuZH07XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5QmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyLXJhZGl1czogY2FsYygke2Nvcm5lclJhZGl1c1JvdW5kfSAqIDFweCk7XG5cdFx0ZmlsbDogY3VycmVudENvbG9yO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxuXHQuY29udHJvbCB7XG5cdFx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG5cdFx0aGVpZ2h0OiBpbmhlcml0O1xuXHRcdGZsZXgtZ3JvdzogMTtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0cGFkZGluZzogJHtidXR0b25QYWRkaW5nVmVydGljYWx9ICR7YnV0dG9uUGFkZGluZ0hvcml6b250YWx9O1xuXHRcdHdoaXRlLXNwYWNlOiB3cmFwO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtidXR0b25Cb3JkZXJ9O1xuXHRcdGNvbG9yOiBpbmhlcml0O1xuXHRcdGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XG5cdFx0ZmlsbDogaW5oZXJpdDtcblx0XHRjdXJzb3I6IGluaGVyaXQ7XG5cdFx0Zm9udC1mYW1pbHk6IGluaGVyaXQ7XG5cdH1cblx0Omhvc3QoOmhvdmVyKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdCg6YWN0aXZlKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5QmFja2dyb3VuZH07XG5cdH1cblx0LmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9IHtcblx0XHRvdXRsaW5lOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCAke2ZvY3VzQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogY2FsYygke2JvcmRlcldpZHRofSAqIDJweCk7XG5cdH1cblx0LmNvbnRyb2w6Oi1tb3otZm9jdXMtaW5uZXIge1xuXHRcdGJvcmRlcjogMDtcblx0fVxuXHQ6aG9zdChbZGlzYWJsZWRdKSB7XG5cdFx0b3BhY2l0eTogJHtkaXNhYmxlZE9wYWNpdHl9O1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uUHJpbWFyeUJhY2tncm91bmR9O1xuXHRcdGN1cnNvcjogJHtkaXNhYmxlZEN1cnNvcn07XG5cdH1cblx0LmNvbnRlbnQge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdH1cblx0LnN0YXJ0IHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHR9XG5cdDo6c2xvdHRlZChzdmcpLFxuXHQ6OnNsb3R0ZWQoc3Bhbikge1xuXHRcdHdpZHRoOiBjYWxjKCR7ZGVzaWduVW5pdH0gKiA0cHgpO1xuXHRcdGhlaWdodDogY2FsYygke2Rlc2lnblVuaXR9ICogNHB4KTtcblx0fVxuXHQuc3RhcnQge1xuXHRcdG1hcmdpbi1pbmxpbmUtZW5kOiA4cHg7XG5cdH1cbmA7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBQcmltYXJ5QnV0dG9uU3R5bGVzID0gY3NzIGBcblx0Omhvc3QoW2FwcGVhcmFuY2U9J3ByaW1hcnknXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uUHJpbWFyeUJhY2tncm91bmR9O1xuXHRcdGNvbG9yOiAke2J1dHRvblByaW1hcnlGb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddOmhvdmVyKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25QcmltYXJ5SG92ZXJCYWNrZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddOmFjdGl2ZSkgLmNvbnRyb2w6YWN0aXZlIHtcblx0XHRiYWNrZ3JvdW5kOiAke2J1dHRvblByaW1hcnlCYWNrZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddKSAuY29udHJvbDoke2ZvY3VzVmlzaWJsZX0ge1xuXHRcdG91dGxpbmU6IGNhbGMoJHtib3JkZXJXaWR0aH0gKiAxcHgpIHNvbGlkICR7Zm9jdXNCb3JkZXJ9O1xuXHRcdG91dGxpbmUtb2Zmc2V0OiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMnB4KTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0ncHJpbWFyeSddW2Rpc2FibGVkXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uUHJpbWFyeUJhY2tncm91bmR9O1xuXHR9XG5gO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgU2Vjb25kYXJ5QnV0dG9uU3R5bGVzID0gY3NzIGBcblx0Omhvc3QoW2FwcGVhcmFuY2U9J3NlY29uZGFyeSddKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25TZWNvbmRhcnlCYWNrZ3JvdW5kfTtcblx0XHRjb2xvcjogJHtidXR0b25TZWNvbmRhcnlGb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0nc2Vjb25kYXJ5J106aG92ZXIpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2J1dHRvblNlY29uZGFyeUhvdmVyQmFja2dyb3VuZH07XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J3NlY29uZGFyeSddOmFjdGl2ZSkgLmNvbnRyb2w6YWN0aXZlIHtcblx0XHRiYWNrZ3JvdW5kOiAke2J1dHRvblNlY29uZGFyeUJhY2tncm91bmR9O1xuXHR9XG5cdDpob3N0KFthcHBlYXJhbmNlPSdzZWNvbmRhcnknXSkgLmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9IHtcblx0XHRvdXRsaW5lOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCAke2ZvY3VzQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogY2FsYygke2JvcmRlcldpZHRofSAqIDJweCk7XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J3NlY29uZGFyeSddW2Rpc2FibGVkXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uU2Vjb25kYXJ5QmFja2dyb3VuZH07XG5cdH1cbmA7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBJY29uQnV0dG9uU3R5bGVzID0gY3NzIGBcblx0Omhvc3QoW2FwcGVhcmFuY2U9J2ljb24nXSkge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uSWNvbkJhY2tncm91bmR9O1xuXHRcdGJvcmRlci1yYWRpdXM6ICR7YnV0dG9uSWNvbkNvcm5lclJhZGl1c307XG5cdFx0Y29sb3I6ICR7Zm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J2ljb24nXTpob3Zlcikge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZH07XG5cdFx0b3V0bGluZTogMXB4IGRvdHRlZCAke2NvbnRyYXN0QWN0aXZlQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogLTFweDtcblx0fVxuXHQ6aG9zdChbYXBwZWFyYW5jZT0naWNvbiddKSAuY29udHJvbCB7XG5cdFx0cGFkZGluZzogJHtidXR0b25JY29uUGFkZGluZ307XG5cdFx0Ym9yZGVyOiBub25lO1xuXHR9XG5cdDpob3N0KFthcHBlYXJhbmNlPSdpY29uJ106YWN0aXZlKSAuY29udHJvbDphY3RpdmUge1xuXHRcdGJhY2tncm91bmQ6ICR7YnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZH07XG5cdH1cblx0Omhvc3QoW2FwcGVhcmFuY2U9J2ljb24nXSkgLmNvbnRyb2w6JHtmb2N1c1Zpc2libGV9IHtcblx0XHRvdXRsaW5lOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCAke2ZvY3VzQm9yZGVyfTtcblx0XHRvdXRsaW5lLW9mZnNldDogJHtidXR0b25JY29uRm9jdXNCb3JkZXJPZmZzZXR9O1xuXHR9XG5cdDpob3N0KFthcHBlYXJhbmNlPSdpY29uJ11bZGlzYWJsZWRdKSB7XG5cdFx0YmFja2dyb3VuZDogJHtidXR0b25JY29uQmFja2dyb3VuZH07XG5cdH1cbmA7XG5leHBvcnQgY29uc3QgYnV0dG9uU3R5bGVzID0gKGNvbnRleHQsIGRlZmluaXRpb24pID0+IGNzcyBgXG5cdCR7QmFzZUJ1dHRvblN0eWxlc31cblx0JHtQcmltYXJ5QnV0dG9uU3R5bGVzfVxuXHQke1NlY29uZGFyeUJ1dHRvblN0eWxlc31cblx0JHtJY29uQnV0dG9uU3R5bGVzfVxuYDtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXR0ciB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IEJ1dHRvbiBhcyBGb3VuZGF0aW9uQnV0dG9uLCBidXR0b25UZW1wbGF0ZSBhcyB0ZW1wbGF0ZSwgfSBmcm9tICdAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbic7XG5pbXBvcnQgeyBidXR0b25TdHlsZXMgYXMgc3R5bGVzIH0gZnJvbSAnLi9idXR0b24uc3R5bGVzLmpzJztcbi8qKlxuICogVGhlIFZpc3VhbCBTdHVkaW8gQ29kZSBidXR0b24gY2xhc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgRm91bmRhdGlvbkJ1dHRvbiB7XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBpbnNlcnRlZFxuICAgICAqIGludG8gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAvLyBJZiB0aGUgYXBwZWFyYW5jZSBwcm9wZXJ0eSBoYXMgbm90IGJlZW4gc2V0LCBzZXQgaXQgdG8gdGhlXG4gICAgICAgIC8vIHZhbHVlIG9mIHRoZSBhcHBlYXJhbmNlIGF0dHJpYnV0ZS5cbiAgICAgICAgaWYgKCF0aGlzLmFwcGVhcmFuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcGVhcmFuY2VWYWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcHBlYXJhbmNlJyk7XG4gICAgICAgICAgICB0aGlzLmFwcGVhcmFuY2UgPSBhcHBlYXJhbmNlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2QgdGhhdCBydW5zIHdoZW4gYW4gYXR0cmlidXRlIG9mIHRoZVxuICAgICAqIGVsZW1lbnQgaXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhdHRyTmFtZSAtIFRoZSBhdHRyaWJ1dGUgdGhhdCB3YXMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSBvbGRWYWwgLSBUaGUgb2xkIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gbmV3VmFsIC0gVGhlIG5ldyB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ck5hbWUsIG9sZFZhbCwgbmV3VmFsKSB7XG4gICAgICAgIC8vIEluIHRoZSBjYXNlIHdoZW4gYW4gaWNvbiBvbmx5IGJ1dHRvbiBpcyBjcmVhdGVkIGFkZCBhIGRlZmF1bHQgQVJJQVxuICAgICAgICAvLyBsYWJlbCB0byB0aGUgYnV0dG9uIHNpbmNlIHRoZXJlIGlzIG5vIGxvbmdlciBidXR0b24gdGV4dCB0byB1c2VcbiAgICAgICAgLy8gYXMgdGhlIGxhYmVsXG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2FwcGVhcmFuY2UnICYmIG5ld1ZhbCA9PT0gJ2ljb24nKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHNldCB0aGUgQVJJQSBsYWJlbCB0byB0aGUgZGVmYXVsdCB0ZXh0IGlmIGFuIGFyaWEtbGFiZWwgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBleGlzdCBvbiB0aGUgYnV0dG9uXG4gICAgICAgICAgICBjb25zdCBhcmlhTGFiZWxWYWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICAgICAgICBpZiAoIWFyaWFMYWJlbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcmlhTGFiZWwgPSAnSWNvbiBCdXR0b24nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEluIHRoZSBjYXNlIHdoZW4gdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIGhhcyBiZWVuIGRlZmluZWQgb24gdGhlXG4gICAgICAgIC8vIDx2c2NvZGUtYnV0dG9uPiwgdGhpcyB3aWxsIHByb2dyYW1tYXRpY2FsbHkgcHJvcG9nYXRlIHRoZSB2YWx1ZSB0b1xuICAgICAgICAvLyB0aGUgPGJ1dHRvbj4gSFRNTCBlbGVtZW50IHRoYXQgbGl2ZXMgaW4gdGhlIFNoYWRvdyBET01cbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnYXJpYS1sYWJlbCcpIHtcbiAgICAgICAgICAgIHRoaXMuYXJpYUxhYmVsID0gbmV3VmFsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IG5ld1ZhbCAhPT0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGF0dHJcbl0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiYXBwZWFyYW5jZVwiLCB2b2lkIDApO1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIGJ1dHRvbiBjb21wb25lbnQgcmVnaXN0cmF0aW9uLlxuICpcbiAqIEByZW1hcmtzXG4gKiBIVE1MIEVsZW1lbnQ6IGA8dnNjb2RlLWJ1dHRvbj5gXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdnNDb2RlQnV0dG9uID0gQnV0dG9uLmNvbXBvc2Uoe1xuICAgIGJhc2VOYW1lOiAnYnV0dG9uJyxcbiAgICB0ZW1wbGF0ZSxcbiAgICBzdHlsZXMsXG4gICAgc2hhZG93T3B0aW9uczoge1xuICAgICAgICBkZWxlZ2F0ZXNGb2N1czogdHJ1ZSxcbiAgICB9LFxufSk7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IGRpc3BsYXksIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgYm9yZGVyV2lkdGgsIGRlc2lnblVuaXQsIGRpdmlkZXJCYWNrZ3JvdW5kIH0gZnJvbSAnLi4vZGVzaWduLXRva2Vucy5qcyc7XG5leHBvcnQgY29uc3QgZGl2aWRlclN0eWxlcyA9IChjb250ZXh0LCBkZWZpbml0aW9uKSA9PiBjc3MgYFxuXHQke2Rpc3BsYXkoJ2Jsb2NrJyl9IDpob3N0IHtcblx0XHRib3JkZXI6IG5vbmU7XG5cdFx0Ym9yZGVyLXRvcDogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtkaXZpZGVyQmFja2dyb3VuZH07XG5cdFx0Ym94LXNpemluZzogY29udGVudC1ib3g7XG5cdFx0aGVpZ2h0OiAwO1xuXHRcdG1hcmdpbjogY2FsYygke2Rlc2lnblVuaXR9ICogMXB4KSAwO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHR9XG5gO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBEaXZpZGVyUm9sZSwgRGl2aWRlciBhcyBGb3VuZGF0aW9uRGl2aWRlciwgZGl2aWRlclRlbXBsYXRlIGFzIHRlbXBsYXRlLCB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uJztcbmltcG9ydCB7IGRpdmlkZXJTdHlsZXMgYXMgc3R5bGVzIH0gZnJvbSAnLi9kaXZpZGVyLnN0eWxlcy5qcyc7XG5leHBvcnQgeyBEaXZpZGVyUm9sZSB9O1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIGRpdmlkZXIgY2xhc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRGl2aWRlciBleHRlbmRzIEZvdW5kYXRpb25EaXZpZGVyIHtcbn1cbi8qKlxuICogVGhlIFZpc3VhbCBTdHVkaW8gQ29kZSBkaXZpZGVyIGNvbXBvbmVudCByZWdpc3RyYXRpb24uXG4gKlxuICogQHJlbWFya3NcbiAqIEhUTUwgRWxlbWVudDogYDx2c2NvZGUtZGl2aWRlcj5gXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdnNDb2RlRGl2aWRlciA9IERpdmlkZXIuY29tcG9zZSh7XG4gICAgYmFzZU5hbWU6ICdkaXZpZGVyJyxcbiAgICB0ZW1wbGF0ZSxcbiAgICBzdHlsZXMsXG59KTtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZGlzYWJsZWRDdXJzb3IsIGRpc3BsYXksIGZvY3VzVmlzaWJsZSwgfSBmcm9tICdAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbic7XG5pbXBvcnQgeyBib3JkZXJXaWR0aCwgY29ybmVyUmFkaXVzUm91bmQsIGRlc2lnblVuaXQsIGRpc2FibGVkT3BhY2l0eSwgZHJvcGRvd25CYWNrZ3JvdW5kLCBkcm9wZG93bkJvcmRlciwgZHJvcGRvd25MaXN0TWF4SGVpZ2h0LCBmb2N1c0JvcmRlciwgZm9udEZhbWlseSwgZm9yZWdyb3VuZCwgaW5wdXRIZWlnaHQsIGlucHV0TWluV2lkdGgsIGxpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kLCBsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZCwgdHlwZVJhbXBCYXNlRm9udFNpemUsIHR5cGVSYW1wQmFzZUxpbmVIZWlnaHQsIH0gZnJvbSAnLi4vZGVzaWduLXRva2Vucy5qcyc7XG5leHBvcnQgY29uc3QgZHJvcGRvd25TdHlsZXMgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gY3NzIGBcblx0JHtkaXNwbGF5KCdpbmxpbmUtZmxleCcpfSA6aG9zdCB7XG5cdFx0YmFja2dyb3VuZDogJHtkcm9wZG93bkJhY2tncm91bmR9O1xuXHRcdGJvcmRlci1yYWRpdXM6IGNhbGMoJHtjb3JuZXJSYWRpdXNSb3VuZH0gKiAxcHgpO1xuXHRcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdFx0Y29sb3I6ICR7Zm9yZWdyb3VuZH07XG5cdFx0Y29udGFpbjogY29udGVudHM7XG5cdFx0Zm9udC1mYW1pbHk6ICR7Zm9udEZhbWlseX07XG5cdFx0aGVpZ2h0OiBjYWxjKCR7aW5wdXRIZWlnaHR9ICogMXB4KTtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0dXNlci1zZWxlY3Q6IG5vbmU7XG5cdFx0bWluLXdpZHRoOiAke2lucHV0TWluV2lkdGh9O1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0dmVydGljYWwtYWxpZ246IHRvcDtcblx0fVxuXHQuY29udHJvbCB7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtkcm9wZG93bkJvcmRlcn07XG5cdFx0Ym9yZGVyLXJhZGl1czogY2FsYygke2Nvcm5lclJhZGl1c1JvdW5kfSAqIDFweCk7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0Zm9udC1mYW1pbHk6IGluaGVyaXQ7XG5cdFx0Zm9udC1zaXplOiAke3R5cGVSYW1wQmFzZUZvbnRTaXplfTtcblx0XHRsaW5lLWhlaWdodDogJHt0eXBlUmFtcEJhc2VMaW5lSGVpZ2h0fTtcblx0XHRtaW4taGVpZ2h0OiAxMDAlO1xuXHRcdHBhZGRpbmc6IDJweCA2cHggMnB4IDhweDtcblx0XHR3aWR0aDogMTAwJTtcblx0fVxuXHQubGlzdGJveCB7XG5cdFx0YmFja2dyb3VuZDogJHtkcm9wZG93bkJhY2tncm91bmR9O1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgJHtmb2N1c0JvcmRlcn07XG5cdFx0Ym9yZGVyLXJhZGl1czogY2FsYygke2Nvcm5lclJhZGl1c1JvdW5kfSAqIDFweCk7XG5cdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcblx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRcdGxlZnQ6IDA7XG5cdFx0bWF4LWhlaWdodDogJHtkcm9wZG93bkxpc3RNYXhIZWlnaHR9O1xuXHRcdHBhZGRpbmc6IDA7XG5cdFx0b3ZlcmZsb3cteTogYXV0bztcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0ei1pbmRleDogMTtcblx0fVxuXHQubGlzdGJveFtoaWRkZW5dIHtcblx0XHRkaXNwbGF5OiBub25lO1xuXHR9XG5cdDpob3N0KDoke2ZvY3VzVmlzaWJsZX0pIC5jb250cm9sIHtcblx0XHRib3JkZXItY29sb3I6ICR7Zm9jdXNCb3JkZXJ9O1xuXHR9XG5cdDpob3N0KDpub3QoW2Rpc2FibGVkXSk6aG92ZXIpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2Ryb3Bkb3duQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyLWNvbG9yOiAke2Ryb3Bkb3duQm9yZGVyfTtcblx0fVxuXHQ6aG9zdCg6JHtmb2N1c1Zpc2libGV9KSA6OnNsb3R0ZWQoW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdW3JvbGU9XCJvcHRpb25cIl06bm90KFtkaXNhYmxlZF0pKSB7XG5cdFx0YmFja2dyb3VuZDogJHtsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogJHtsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoW2Rpc2FibGVkXSkge1xuXHRcdGN1cnNvcjogJHtkaXNhYmxlZEN1cnNvcn07XG5cdFx0b3BhY2l0eTogJHtkaXNhYmxlZE9wYWNpdHl9O1xuXHR9XG5cdDpob3N0KFtkaXNhYmxlZF0pIC5jb250cm9sIHtcblx0XHRjdXJzb3I6ICR7ZGlzYWJsZWRDdXJzb3J9O1xuXHRcdHVzZXItc2VsZWN0OiBub25lO1xuXHR9XG5cdDpob3N0KFtkaXNhYmxlZF06aG92ZXIpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2Ryb3Bkb3duQmFja2dyb3VuZH07XG5cdFx0Y29sb3I6ICR7Zm9yZWdyb3VuZH07XG5cdFx0ZmlsbDogY3VycmVudGNvbG9yO1xuXHR9XG5cdDpob3N0KDpub3QoW2Rpc2FibGVkXSkpIC5jb250cm9sOmFjdGl2ZSB7XG5cdFx0Ym9yZGVyLWNvbG9yOiAke2ZvY3VzQm9yZGVyfTtcblx0fVxuXHQ6aG9zdCg6ZW1wdHkpIC5saXN0Ym94IHtcblx0XHRkaXNwbGF5OiBub25lO1xuXHR9XG5cdDpob3N0KFtvcGVuXSkgLmNvbnRyb2wge1xuXHRcdGJvcmRlci1jb2xvcjogJHtmb2N1c0JvcmRlcn07XG5cdH1cblx0Omhvc3QoW29wZW5dW3Bvc2l0aW9uPSdhYm92ZSddKSAubGlzdGJveCB7XG5cdFx0Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcblx0XHRib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcblx0fVxuXHQ6aG9zdChbb3Blbl1bcG9zaXRpb249J2JlbG93J10pIC5saXN0Ym94IHtcblx0XHRib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuXHRcdGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuXHR9XG5cdDpob3N0KFtvcGVuXVtwb3NpdGlvbj0nYWJvdmUnXSkgLmxpc3Rib3gge1xuXHRcdGJvdHRvbTogY2FsYygke2lucHV0SGVpZ2h0fSAqIDFweCk7XG5cdH1cblx0Omhvc3QoW29wZW5dW3Bvc2l0aW9uPSdiZWxvdyddKSAubGlzdGJveCB7XG5cdFx0dG9wOiBjYWxjKCR7aW5wdXRIZWlnaHR9ICogMXB4KTtcblx0fVxuXHQuc2VsZWN0ZWQtdmFsdWUge1xuXHRcdGZsZXg6IDEgMSBhdXRvO1xuXHRcdGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuXHRcdG92ZXJmbG93OiBoaWRkZW47XG5cdFx0dGV4dC1hbGlnbjogc3RhcnQ7XG5cdFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0fVxuXHQuaW5kaWNhdG9yIHtcblx0XHRmbGV4OiAwIDAgYXV0bztcblx0XHRtYXJnaW4taW5saW5lLXN0YXJ0OiAxZW07XG5cdH1cblx0c2xvdFtuYW1lPSdsaXN0Ym94J10ge1xuXHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdH1cblx0Omhvc3QoW29wZW5dKSBzbG90W25hbWU9J2xpc3Rib3gnXSB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdH1cblx0LmVuZCB7XG5cdFx0bWFyZ2luLWlubGluZS1zdGFydDogYXV0bztcblx0fVxuXHQuc3RhcnQsXG5cdC5lbmQsXG5cdC5pbmRpY2F0b3IsXG5cdC5zZWxlY3QtaW5kaWNhdG9yLFxuXHQ6OnNsb3R0ZWQoc3ZnKSxcblx0OjpzbG90dGVkKHNwYW4pIHtcblx0XHRmaWxsOiBjdXJyZW50Y29sb3I7XG5cdFx0aGVpZ2h0OiAxZW07XG5cdFx0bWluLWhlaWdodDogY2FsYygke2Rlc2lnblVuaXR9ICogNHB4KTtcblx0XHRtaW4td2lkdGg6IGNhbGMoJHtkZXNpZ25Vbml0fSAqIDRweCk7XG5cdFx0d2lkdGg6IDFlbTtcblx0fVxuXHQ6OnNsb3R0ZWQoW3JvbGU9J29wdGlvbiddKSxcblx0OjpzbG90dGVkKG9wdGlvbikge1xuXHRcdGZsZXg6IDAgMCBhdXRvO1xuXHR9XG5gO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBTZWxlY3RQb3NpdGlvbiBhcyBEcm9wZG93blBvc2l0aW9uLCBTZWxlY3QgYXMgRm91bmRhdGlvblNlbGVjdCwgc2VsZWN0VGVtcGxhdGUgYXMgdGVtcGxhdGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgZHJvcGRvd25TdHlsZXMgYXMgc3R5bGVzIH0gZnJvbSAnLi9kcm9wZG93bi5zdHlsZXMuanMnO1xuZXhwb3J0IHsgRHJvcGRvd25Qb3NpdGlvbiB9O1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIGRyb3Bkb3duIGNsYXNzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIERyb3Bkb3duIGV4dGVuZHMgRm91bmRhdGlvblNlbGVjdCB7XG59XG4vKipcbiAqIFRoZSBWaXN1YWwgU3R1ZGlvIENvZGUgbGluayBkcm9wZG93biByZWdpc3RyYXRpb24uXG4gKlxuICogQHJlbWFya3NcbiAqIEhUTUwgRWxlbWVudDogYDx2c2NvZGUtZHJvcGRvd24+YFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHZzQ29kZURyb3Bkb3duID0gRHJvcGRvd24uY29tcG9zZSh7XG4gICAgYmFzZU5hbWU6ICdkcm9wZG93bicsXG4gICAgdGVtcGxhdGUsXG4gICAgc3R5bGVzLFxuICAgIGluZGljYXRvcjogYFxuXHRcdDxzdmcgXG5cdFx0XHRjbGFzcz1cInNlbGVjdC1pbmRpY2F0b3JcIlxuXHRcdFx0cGFydD1cInNlbGVjdC1pbmRpY2F0b3JcIlxuXHRcdFx0d2lkdGg9XCIxNlwiIFxuXHRcdFx0aGVpZ2h0PVwiMTZcIiBcblx0XHRcdHZpZXdCb3g9XCIwIDAgMTYgMTZcIiBcblx0XHRcdHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBcblx0XHRcdGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuXHRcdD5cblx0XHRcdDxwYXRoIFxuXHRcdFx0XHRmaWxsLXJ1bGU9XCJldmVub2RkXCIgXG5cdFx0XHRcdGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBcblx0XHRcdFx0ZD1cIk03Ljk3NiAxMC4wNzJsNC4zNTctNC4zNTcuNjIuNjE4TDguMjg0IDExaC0uNjE4TDMgNi4zMzNsLjYxOS0uNjE4IDQuMzU3IDQuMzU3elwiXG5cdFx0XHQvPlxuXHRcdDwvc3ZnPlxuXHRgLFxufSk7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1lbGVtZW50JztcbmltcG9ydCB7IGRpc2FibGVkQ3Vyc29yLCBkaXNwbGF5LCBmb2N1c1Zpc2libGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgYm9yZGVyV2lkdGgsIGNvcm5lclJhZGl1cywgZGVzaWduVW5pdCwgZGlzYWJsZWRPcGFjaXR5LCBmb2N1c0JvcmRlciwgZm9yZWdyb3VuZCwgbGlzdEFjdGl2ZVNlbGVjdGlvbkJhY2tncm91bmQsIGxpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kLCB0eXBlUmFtcEJhc2VGb250U2l6ZSwgdHlwZVJhbXBCYXNlTGluZUhlaWdodCwgfSBmcm9tICcuLi9kZXNpZ24tdG9rZW5zLmpzJztcbmV4cG9ydCBjb25zdCBvcHRpb25TdHlsZXMgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gY3NzIGBcblx0JHtkaXNwbGF5KCdpbmxpbmUtZmxleCcpfSA6aG9zdCB7XG5cdFx0Zm9udC1mYW1pbHk6IHZhcigtLWJvZHktZm9udCk7XG5cdFx0Ym9yZGVyLXJhZGl1czogJHtjb3JuZXJSYWRpdXN9O1xuXHRcdGJvcmRlcjogY2FsYygke2JvcmRlcldpZHRofSAqIDFweCkgc29saWQgdHJhbnNwYXJlbnQ7XG5cdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcblx0XHRjb2xvcjogJHtmb3JlZ3JvdW5kfTtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0ZmlsbDogY3VycmVudGNvbG9yO1xuXHRcdGZvbnQtc2l6ZTogJHt0eXBlUmFtcEJhc2VGb250U2l6ZX07XG5cdFx0bGluZS1oZWlnaHQ6ICR7dHlwZVJhbXBCYXNlTGluZUhlaWdodH07XG5cdFx0bWFyZ2luOiAwO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHRwYWRkaW5nOiAwIGNhbGMoKCR7ZGVzaWduVW5pdH0gLyAyKSAqIDFweClcblx0XHRcdGNhbGMoKCR7ZGVzaWduVW5pdH0gLyA0KSAqIDFweCk7XG5cdFx0dXNlci1zZWxlY3Q6IG5vbmU7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0fVxuXHQ6aG9zdCg6JHtmb2N1c1Zpc2libGV9KSB7XG5cdFx0Ym9yZGVyLWNvbG9yOiAke2ZvY3VzQm9yZGVyfTtcblx0XHRiYWNrZ3JvdW5kOiAke2xpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kfTtcblx0XHRjb2xvcjogJHtmb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbYXJpYS1zZWxlY3RlZD0ndHJ1ZSddKSB7XG5cdFx0YmFja2dyb3VuZDogJHtsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogJHtsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoOmFjdGl2ZSkge1xuXHRcdGJhY2tncm91bmQ6ICR7bGlzdEFjdGl2ZVNlbGVjdGlvbkJhY2tncm91bmR9O1xuXHRcdGNvbG9yOiAke2xpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdCg6bm90KFthcmlhLXNlbGVjdGVkPSd0cnVlJ10pOmhvdmVyKSB7XG5cdFx0YmFja2dyb3VuZDogJHtsaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZH07XG5cdFx0Ym9yZGVyOiBjYWxjKCR7Ym9yZGVyV2lkdGh9ICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogJHtsaXN0QWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZH07XG5cdH1cblx0Omhvc3QoOm5vdChbYXJpYS1zZWxlY3RlZD0ndHJ1ZSddKTphY3RpdmUpIHtcblx0XHRiYWNrZ3JvdW5kOiAke2xpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kfTtcblx0XHRjb2xvcjogJHtmb3JlZ3JvdW5kfTtcblx0fVxuXHQ6aG9zdChbZGlzYWJsZWRdKSB7XG5cdFx0Y3Vyc29yOiAke2Rpc2FibGVkQ3Vyc29yfTtcblx0XHRvcGFjaXR5OiAke2Rpc2FibGVkT3BhY2l0eX07XG5cdH1cblx0Omhvc3QoW2Rpc2FibGVkXTpob3Zlcikge1xuXHRcdGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG5cdH1cblx0LmNvbnRlbnQge1xuXHRcdGdyaWQtY29sdW1uLXN0YXJ0OiAyO1xuXHRcdGp1c3RpZnktc2VsZjogc3RhcnQ7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcblx0fVxuYDtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgTGlzdGJveE9wdGlvbiBhcyBGb3VuZGF0aW9uTGlzdGJveE9wdGlvbiwgbGlzdGJveE9wdGlvblRlbXBsYXRlIGFzIHRlbXBsYXRlLCB9IGZyb20gJ0BtaWNyb3NvZnQvZmFzdC1mb3VuZGF0aW9uJztcbmltcG9ydCB7IG9wdGlvblN0eWxlcyBhcyBzdHlsZXMgfSBmcm9tICcuL29wdGlvbi5zdHlsZXMuanMnO1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIG9wdGlvbiBjbGFzcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPcHRpb24gZXh0ZW5kcyBGb3VuZGF0aW9uTGlzdGJveE9wdGlvbiB7XG4gICAgLyoqXG4gICAgICogQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBpbnNlcnRlZFxuICAgICAqIGludG8gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICBpZiAodGhpcy50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLnRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHRoZSBsYWJlbCBpZiB0aGVyZSBpcyBubyB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ09wdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIG9wdGlvbiBjb21wb25lbnQgcmVnaXN0cmF0aW9uLlxuICpcbiAqIEByZW1hcmtzXG4gKiBIVE1MIEVsZW1lbnQ6IGA8dnNjb2RlLW9wdGlvbj5gXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdnNDb2RlT3B0aW9uID0gT3B0aW9uLmNvbXBvc2Uoe1xuICAgIGJhc2VOYW1lOiAnb3B0aW9uJyxcbiAgICB0ZW1wbGF0ZSxcbiAgICBzdHlsZXMsXG59KTtcbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZGlzcGxheSwgfSBmcm9tICdAbWljcm9zb2Z0L2Zhc3QtZm91bmRhdGlvbic7XG5pbXBvcnQgeyBkZXNpZ25Vbml0LCBwcm9ncmVzc0JhY2tncm91bmQgfSBmcm9tICcuLi9kZXNpZ24tdG9rZW5zLmpzJztcbmV4cG9ydCBjb25zdCBwcm9ncmVzc1JpbmdTdHlsZXMgPSAoY29udGV4dCwgZGVmaW5pdGlvbikgPT4gY3NzIGBcblx0JHtkaXNwbGF5KCdmbGV4Jyl9IDpob3N0IHtcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0aGVpZ2h0OiBjYWxjKCR7ZGVzaWduVW5pdH0gKiA3cHgpO1xuXHRcdHdpZHRoOiBjYWxjKCR7ZGVzaWduVW5pdH0gKiA3cHgpO1xuXHRcdG1hcmdpbjogMDtcblx0fVxuXHQucHJvZ3Jlc3Mge1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHR3aWR0aDogMTAwJTtcblx0fVxuXHQuYmFja2dyb3VuZCB7XG5cdFx0ZmlsbDogbm9uZTtcblx0XHRzdHJva2U6IHRyYW5zcGFyZW50O1xuXHRcdHN0cm9rZS13aWR0aDogY2FsYygke2Rlc2lnblVuaXR9IC8gMiAqIDFweCk7XG5cdH1cblx0LmluZGV0ZXJtaW5hdGUtaW5kaWNhdG9yLTEge1xuXHRcdGZpbGw6IG5vbmU7XG5cdFx0c3Ryb2tlOiAke3Byb2dyZXNzQmFja2dyb3VuZH07XG5cdFx0c3Ryb2tlLXdpZHRoOiBjYWxjKCR7ZGVzaWduVW5pdH0gLyAyICogMXB4KTtcblx0XHRzdHJva2UtbGluZWNhcDogc3F1YXJlO1xuXHRcdHRyYW5zZm9ybS1vcmlnaW46IDUwJSA1MCU7XG5cdFx0dHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcblx0XHR0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcblx0XHRhbmltYXRpb246IHNwaW4taW5maW5pdGUgMnMgbGluZWFyIGluZmluaXRlO1xuXHR9XG5cdEBrZXlmcmFtZXMgc3Bpbi1pbmZpbml0ZSB7XG5cdFx0MCUge1xuXHRcdFx0c3Ryb2tlLWRhc2hhcnJheTogMC4wMXB4IDQzLjk3cHg7XG5cdFx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcblx0XHR9XG5cdFx0NTAlIHtcblx0XHRcdHN0cm9rZS1kYXNoYXJyYXk6IDIxLjk5cHggMjEuOTlweDtcblx0XHRcdHRyYW5zZm9ybTogcm90YXRlKDQ1MGRlZyk7XG5cdFx0fVxuXHRcdDEwMCUge1xuXHRcdFx0c3Ryb2tlLWRhc2hhcnJheTogMC4wMXB4IDQzLjk3cHg7XG5cdFx0XHR0cmFuc2Zvcm06IHJvdGF0ZSgxMDgwZGVnKTtcblx0XHR9XG5cdH1cbmA7XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IEJhc2VQcm9ncmVzcywgcHJvZ3Jlc3NSaW5nVGVtcGxhdGUgYXMgdGVtcGxhdGUsIH0gZnJvbSAnQG1pY3Jvc29mdC9mYXN0LWZvdW5kYXRpb24nO1xuaW1wb3J0IHsgcHJvZ3Jlc3NSaW5nU3R5bGVzIGFzIHN0eWxlcyB9IGZyb20gJy4vcHJvZ3Jlc3MtcmluZy5zdHlsZXMuanMnO1xuLyoqXG4gKiBUaGUgVmlzdWFsIFN0dWRpbyBDb2RlIHByb2dyZXNzIHJpbmcgY2xhc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NSaW5nIGV4dGVuZHMgQmFzZVByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBDb21wb25lbnQgbGlmZWN5Y2xlIG1ldGhvZCB0aGF0IHJ1bnMgd2hlbiB0aGUgY29tcG9uZW50IGlzIGluc2VydGVkXG4gICAgICogaW50byB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBvdmVycmlkZSBhbnkgdXNhZ2Ugb2YgdGhlIHBhdXNlZCBhdHRyaWJ1dGVcbiAgICAgICAgLy8gaW5oZXJpdGVkIGJ5IHRoZSBGQVNUIEZvdW5kYXRpb24gQmFzZVByb2dyZXNzIGNvbXBvbmVudFxuICAgICAgICAvLyBzbyB0aGF0IFZTQ29kZVByb2dyZXNzUmluZyBjYW4gbmV2ZXIgYmUgcGF1c2VkXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZpbmVzIGEgZGVmYXVsdCBhcmlhIGxhYmVsIHRoYXQgc2NyZWVuIHJlYWRlcnMgY2FuIGFjY2Vzc1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdMb2FkaW5nJyk7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBvbmVudCBsaWZlY3ljbGUgbWV0aG9kIHRoYXQgcnVucyB3aGVuIGFuIGF0dHJpYnV0ZSBvZiB0aGVcbiAgICAgKiBlbGVtZW50IGlzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXR0ck5hbWUgLSBUaGUgYXR0cmlidXRlIHRoYXQgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gb2xkVmFsIC0gVGhlIG9sZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgICogQHBhcmFtIG5ld1ZhbCAtIFRoZSBuZXcgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHJOYW1lLCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBvdmVycmlkZSBhbnkgdXNhZ2Ugb2YgdGhlIHZhbHVlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gaW5oZXJpdGVkIGJ5IHRoZSBGQVNUIEZvdW5kYXRpb24gQmFzZVByb2dyZXNzIGNvbXBvbmVudFxuICAgICAgICAgICAgLy8gc28gdGhhdCBWU0NvZGVQcm9ncmVzc1JpbmcgY2FuIG5ldmVyIHNldCB0byBiZSBhXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmF0ZSBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoZSBWaXN1YWwgU3R1ZGlvIENvZGUgcHJvZ3Jlc3MgcmluZyBjb21wb25lbnQgcmVnaXN0cmF0aW9uLlxuICpcbiAqIEByZW1hcmtzXG4gKiBIVE1MIEVsZW1lbnQ6IGA8dnNjb2RlLXByb2dyZXNzLXJpbmc+YFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHZzQ29kZVByb2dyZXNzUmluZyA9IFByb2dyZXNzUmluZy5jb21wb3NlKHtcbiAgICBiYXNlTmFtZTogJ3Byb2dyZXNzLXJpbmcnLFxuICAgIHRlbXBsYXRlLFxuICAgIHN0eWxlcyxcbiAgICBpbmRldGVybWluYXRlSW5kaWNhdG9yOiBgXG5cdFx0PHN2ZyBjbGFzcz1cInByb2dyZXNzXCIgcGFydD1cInByb2dyZXNzXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuXHRcdFx0PGNpcmNsZVxuXHRcdFx0XHRjbGFzcz1cImJhY2tncm91bmRcIlxuXHRcdFx0XHRwYXJ0PVwiYmFja2dyb3VuZFwiXG5cdFx0XHRcdGN4PVwiOHB4XCJcblx0XHRcdFx0Y3k9XCI4cHhcIlxuXHRcdFx0XHRyPVwiN3B4XCJcblx0XHRcdD48L2NpcmNsZT5cblx0XHRcdDxjaXJjbGVcblx0XHRcdFx0Y2xhc3M9XCJpbmRldGVybWluYXRlLWluZGljYXRvci0xXCJcblx0XHRcdFx0cGFydD1cImluZGV0ZXJtaW5hdGUtaW5kaWNhdG9yLTFcIlxuXHRcdFx0XHRjeD1cIjhweFwiXG5cdFx0XHRcdGN5PVwiOHB4XCJcblx0XHRcdFx0cj1cIjdweFwiXG5cdFx0XHQ+PC9jaXJjbGU+XG5cdFx0PC9zdmc+XG5cdGAsXG59KTtcbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgIDxkaXYgdi1pZj1cImFjdGl2YXRlT3ZlcmxheVwiIGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PlxuICAgIDxzbG90IC8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmRlZmluZVByb3BzPHtcbiAgYWN0aXZhdGVPdmVybGF5OiBib29sZWFuO1xufT4oKTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4uY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxO1xufVxuLm92ZXJsYXkge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1kcm9wZG93bi1iYWNrZ3JvdW5kKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBpbnNldDogMDtcbiAgei1pbmRleDogMztcbiAgb3BhY2l0eTogdmFyKC0tZGlzYWJsZWQtb3BhY2l0eSk7XG59XG48L3N0eWxlPlxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZSBhIGJvdW5kIHZlcnNpb24gb2YgYSBmdW5jdGlvbiB3aXRoIGEgc3BlY2lmaWVkIGB0aGlzYCBjb250ZXh0XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gYmluZFxuICogQHBhcmFtIHsqfSB0aGlzQXJnIC0gVGhlIHZhbHVlIHRvIGJlIHBhc3NlZCBhcyB0aGUgYHRoaXNgIHBhcmFtZXRlclxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGB0aGlzYCBjb250ZXh0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxuY29uc3Qge3RvU3RyaW5nfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCB7Z2V0UHJvdG90eXBlT2Z9ID0gT2JqZWN0O1xuY29uc3Qge2l0ZXJhdG9yLCB0b1N0cmluZ1RhZ30gPSBTeW1ib2w7XG5cbmNvbnN0IGtpbmRPZiA9IChjYWNoZSA9PiB0aGluZyA9PiB7XG4gICAgY29uc3Qgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGtpbmRPZlRlc3QgPSAodHlwZSkgPT4ge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKHRoaW5nKSA9PiBraW5kT2YodGhpbmcpID09PSB0eXBlXG59XG5cbmNvbnN0IHR5cGVPZlRlc3QgPSB0eXBlID0+IHRoaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gdHlwZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IHtpc0FycmF5fSA9IEFycmF5O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gdHlwZU9mVGVzdCgndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgaXNGdW5jdGlvbih2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIpICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmluZyA9IHR5cGVPZlRlc3QoJ3N0cmluZycpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlT2ZUZXN0KCdmdW5jdGlvbicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzTnVtYmVyID0gdHlwZU9mVGVzdCgnbnVtYmVyJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQm9vbGVhblxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQm9vbGVhbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9IHRoaW5nID0+IHRoaW5nID09PSB0cnVlIHx8IHRoaW5nID09PSBmYWxzZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4ge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKHRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShpdGVyYXRvciBpbiB2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIGVtcHR5IG9iamVjdCAoc2FmZWx5IGhhbmRsZXMgQnVmZmVycylcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIGVtcHR5IG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRW1wdHlPYmplY3QgPSAodmFsKSA9PiB7XG4gIC8vIEVhcmx5IHJldHVybiBmb3Igbm9uLW9iamVjdHMgb3IgQnVmZmVycyB0byBwcmV2ZW50IFJhbmdlRXJyb3JcbiAgaWYgKCFpc09iamVjdCh2YWwpIHx8IGlzQnVmZmVyKHZhbCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEZhbGxiYWNrIGZvciBhbnkgb3RoZXIgb2JqZWN0cyB0aGF0IG1pZ2h0IGNhdXNlIFJhbmdlRXJyb3Igd2l0aCBPYmplY3Qua2V5cygpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0RhdGUgPSBraW5kT2ZUZXN0KCdEYXRlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGUgPSBraW5kT2ZUZXN0KCdGaWxlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jsb2IgPSBraW5kT2ZUZXN0KCdCbG9iJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlTGlzdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlTGlzdCA9IGtpbmRPZlRlc3QoJ0ZpbGVMaXN0Jyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJlYW0gPSAodmFsKSA9PiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Zvcm1EYXRhID0gKHRoaW5nKSA9PiB7XG4gIGxldCBraW5kO1xuICByZXR1cm4gdGhpbmcgJiYgKFxuICAgICh0eXBlb2YgRm9ybURhdGEgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcgaW5zdGFuY2VvZiBGb3JtRGF0YSkgfHwgKFxuICAgICAgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIChcbiAgICAgICAgKGtpbmQgPSBraW5kT2YodGhpbmcpKSA9PT0gJ2Zvcm1kYXRhJyB8fFxuICAgICAgICAvLyBkZXRlY3QgZm9ybS1kYXRhIGluc3RhbmNlXG4gICAgICAgIChraW5kID09PSAnb2JqZWN0JyAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRvU3RyaW5nKSAmJiB0aGluZy50b1N0cmluZygpID09PSAnW29iamVjdCBGb3JtRGF0YV0nKVxuICAgICAgKVxuICAgIClcbiAgKVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuY29uc3QgW2lzUmVhZGFibGVTdHJlYW0sIGlzUmVxdWVzdCwgaXNSZXNwb25zZSwgaXNIZWFkZXJzXSA9IFsnUmVhZGFibGVTdHJlYW0nLCAnUmVxdWVzdCcsICdSZXNwb25zZScsICdIZWFkZXJzJ10ubWFwKGtpbmRPZlRlc3QpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5jb25zdCB0cmltID0gKHN0cikgPT4gc3RyLnRyaW0gP1xuICBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzID0gZmFsc2VdXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIHthbGxPd25LZXlzID0gZmFsc2V9ID0ge30pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaTtcbiAgbGV0IGw7XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEJ1ZmZlciBjaGVja1xuICAgIGlmIChpc0J1ZmZlcihvYmopKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGlmIChpc0J1ZmZlcihvYmopKXtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzLCBza2lwVW5kZWZpbmVkfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIGlmICghc2tpcFVuZGVmaW5lZCB8fCAhaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtpdGVyYXRvcl07XG5cbiAgY29uc3QgX2l0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gX2l0ZXJhdG9yLm5leHQoKSkgJiYgIXJlc3VsdC5kb25lKSB7XG4gICAgY29uc3QgcGFpciA9IHJlc3VsdC52YWx1ZTtcbiAgICBmbi5jYWxsKG9iaiwgcGFpclswXSwgcGFpclsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgYSBzdHJpbmcsIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdFeHAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBzZWFyY2guXG4gKlxuICogQHJldHVybnMge0FycmF5PGJvb2xlYW4+fVxuICovXG5jb25zdCBtYXRjaEFsbCA9IChyZWdFeHAsIHN0cikgPT4ge1xuICBsZXQgbWF0Y2hlcztcbiAgY29uc3QgYXJyID0gW107XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnRXhwLmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICBhcnIucHVzaChtYXRjaGVzKTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBsZXQgcmV0O1xuICAgIGlmICgocmV0ID0gcmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopKSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlZHVjZWREZXNjcmlwdG9yc1tuYW1lXSA9IHJldCB8fCBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufVxuXG4vKipcbiAqIE1ha2VzIGFsbCBtZXRob2RzIHJlYWQtb25seVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICovXG5cbmNvbnN0IGZyZWV6ZU1ldGhvZHMgPSAob2JqKSA9PiB7XG4gIHJlZHVjZURlc2NyaXB0b3JzKG9iaiwgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICAvLyBza2lwIHJlc3RyaWN0ZWQgcHJvcHMgaW4gc3RyaWN0IG1vZGVcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopICYmIFsnYXJndW1lbnRzJywgJ2NhbGxlcicsICdjYWxsZWUnXS5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gb2JqW25hbWVdO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZmFsc2U7XG5cbiAgICBpZiAoJ3dyaXRhYmxlJyBpbiBkZXNjcmlwdG9yKSB7XG4gICAgICBkZXNjcmlwdG9yLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW4gbm90IHJld3JpdGUgcmVhZC1vbmx5IG1ldGhvZCBcXCcnICsgbmFtZSArICdcXCcnKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgdG9PYmplY3RTZXQgPSAoYXJyYXlPclN0cmluZywgZGVsaW1pdGVyKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuXG4gIGNvbnN0IGRlZmluZSA9IChhcnIpID0+IHtcbiAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fVxuXG5jb25zdCB0b0Zpbml0ZU51bWJlciA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSA9ICt2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cblxuXG5cbi8qKlxuICogSWYgdGhlIHRoaW5nIGlzIGEgRm9ybURhdGEgb2JqZWN0LCByZXR1cm4gdHJ1ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHRoaW5nIC0gVGhlIHRoaW5nIHRvIGNoZWNrLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NwZWNDb21wbGlhbnRGb3JtKHRoaW5nKSB7XG4gIHJldHVybiAhISh0aGluZyAmJiBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgdGhpbmdbdG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW2l0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vQnVmZmVyIGNoZWNrXG4gICAgICBpZiAoaXNCdWZmZXIoc291cmNlKSkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICByZXR1cm4gdmlzaXQob2JqLCAwKTtcbn1cblxuY29uc3QgaXNBc3luY0ZuID0ga2luZE9mVGVzdCgnQXN5bmNGdW5jdGlvbicpO1xuXG5jb25zdCBpc1RoZW5hYmxlID0gKHRoaW5nKSA9PlxuICB0aGluZyAmJiAoaXNPYmplY3QodGhpbmcpIHx8IGlzRnVuY3Rpb24odGhpbmcpKSAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRoZW4pICYmIGlzRnVuY3Rpb24odGhpbmcuY2F0Y2gpO1xuXG4vLyBvcmlnaW5hbCBjb2RlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vRGlnaXRhbEJyYWluSlMvQXhpb3NQcm9taXNlL2Jsb2IvMTZkZWFiMTM3MTBlYzA5Nzc5OTIyMTMxZjNmYTU5NTQzMjBmODNhYi9saWIvdXRpbHMuanMjTDExLUwzNFxuXG5jb25zdCBfc2V0SW1tZWRpYXRlID0gKChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQsIHBvc3RNZXNzYWdlU3VwcG9ydGVkKSA9PiB7XG4gIGlmIChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gc2V0SW1tZWRpYXRlO1xuICB9XG5cbiAgcmV0dXJuIHBvc3RNZXNzYWdlU3VwcG9ydGVkID8gKCh0b2tlbiwgY2FsbGJhY2tzKSA9PiB7XG4gICAgX2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoe3NvdXJjZSwgZGF0YX0pID0+IHtcbiAgICAgIGlmIChzb3VyY2UgPT09IF9nbG9iYWwgJiYgZGF0YSA9PT0gdG9rZW4pIHtcbiAgICAgICAgY2FsbGJhY2tzLmxlbmd0aCAmJiBjYWxsYmFja3Muc2hpZnQoKSgpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIHJldHVybiAoY2IpID0+IHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICAgIF9nbG9iYWwucG9zdE1lc3NhZ2UodG9rZW4sIFwiKlwiKTtcbiAgICB9XG4gIH0pKGBheGlvc0Ake01hdGgucmFuZG9tKCl9YCwgW10pIDogKGNiKSA9PiBzZXRUaW1lb3V0KGNiKTtcbn0pKFxuICB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nLFxuICBpc0Z1bmN0aW9uKF9nbG9iYWwucG9zdE1lc3NhZ2UpXG4pO1xuXG5jb25zdCBhc2FwID0gdHlwZW9mIHF1ZXVlTWljcm90YXNrICE9PSAndW5kZWZpbmVkJyA/XG4gIHF1ZXVlTWljcm90YXNrLmJpbmQoX2dsb2JhbCkgOiAoIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5leHRUaWNrIHx8IF9zZXRJbW1lZGlhdGUpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKipcblxuXG5jb25zdCBpc0l0ZXJhYmxlID0gKHRoaW5nKSA9PiB0aGluZyAhPSBudWxsICYmIGlzRnVuY3Rpb24odGhpbmdbaXRlcmF0b3JdKTtcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc0VtcHR5T2JqZWN0LFxuICBpc1JlYWRhYmxlU3RyZWFtLFxuICBpc1JlcXVlc3QsXG4gIGlzUmVzcG9uc2UsXG4gIGlzSGVhZGVycyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGUsXG4gIHNldEltbWVkaWF0ZTogX3NldEltbWVkaWF0ZSxcbiAgYXNhcCxcbiAgaXNJdGVyYWJsZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWddIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIEF4aW9zRXJyb3IobWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBFcnJvci5jYWxsKHRoaXMpO1xuXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5uYW1lID0gJ0F4aW9zRXJyb3InO1xuICBjb2RlICYmICh0aGlzLmNvZGUgPSBjb2RlKTtcbiAgY29uZmlnICYmICh0aGlzLmNvbmZpZyA9IGNvbmZpZyk7XG4gIHJlcXVlc3QgJiYgKHRoaXMucmVxdWVzdCA9IHJlcXVlc3QpO1xuICBpZiAocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXMgPyByZXNwb25zZS5zdGF0dXMgOiBudWxsO1xuICB9XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHV0aWxzLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zRXJyb3IucHJvdG90eXBlO1xuY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcblxuW1xuICAnRVJSX0JBRF9PUFRJT05fVkFMVUUnLFxuICAnRVJSX0JBRF9PUFRJT04nLFxuICAnRUNPTk5BQk9SVEVEJyxcbiAgJ0VUSU1FRE9VVCcsXG4gICdFUlJfTkVUV09SSycsXG4gICdFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTJyxcbiAgJ0VSUl9ERVBSRUNBVEVEJyxcbiAgJ0VSUl9CQURfUkVTUE9OU0UnLFxuICAnRVJSX0JBRF9SRVFVRVNUJyxcbiAgJ0VSUl9DQU5DRUxFRCcsXG4gICdFUlJfTk9UX1NVUFBPUlQnLFxuICAnRVJSX0lOVkFMSURfVVJMJ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbl0uZm9yRWFjaChjb2RlID0+IHtcbiAgZGVzY3JpcHRvcnNbY29kZV0gPSB7dmFsdWU6IGNvZGV9O1xufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IChlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpID0+IHtcbiAgY29uc3QgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgY29uc3QgbXNnID0gZXJyb3IgJiYgZXJyb3IubWVzc2FnZSA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyb3InO1xuXG4gIC8vIFByZWZlciBleHBsaWNpdCBjb2RlOyBvdGhlcndpc2UgY29weSB0aGUgbG93LWxldmVsIGVycm9yJ3MgY29kZSAoZS5nLiBFQ09OTlJFRlVTRUQpXG4gIGNvbnN0IGVyckNvZGUgPSBjb2RlID09IG51bGwgJiYgZXJyb3IgPyBlcnJvci5jb2RlIDogY29kZTtcbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIG1zZywgZXJyQ29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgLy8gQ2hhaW4gdGhlIG9yaWdpbmFsIGVycm9yIG9uIHRoZSBzdGFuZGFyZCBmaWVsZDsgbm9uLWVudW1lcmFibGUgdG8gYXZvaWQgSlNPTiBub2lzZVxuICBpZiAoZXJyb3IgJiYgYXhpb3NFcnJvci5jYXVzZSA9PSBudWxsKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGF4aW9zRXJyb3IsICdjYXVzZScsIHsgdmFsdWU6IGVycm9yLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gIH1cblxuICBheGlvc0Vycm9yLm5hbWUgPSAoZXJyb3IgJiYgZXJyb3IubmFtZSkgfHwgJ0Vycm9yJztcblxuICBjdXN0b21Qcm9wcyAmJiBPYmplY3QuYXNzaWduKGF4aW9zRXJyb3IsIGN1c3RvbVByb3BzKTtcblxuICByZXR1cm4gYXhpb3NFcnJvcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zRXJyb3I7XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbi8vIHRlbXBvcmFyeSBob3RmaXggdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlcyB1bnRpbCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBpcyByZWZhY3RvcmVkXG5pbXBvcnQgUGxhdGZvcm1Gb3JtRGF0YSBmcm9tICcuLi9wbGF0Zm9ybS9ub2RlL2NsYXNzZXMvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzLmlzUGxhaW5PYmplY3QodGhpbmcpIHx8IHV0aWxzLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscy5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkoYXJyKSAmJiAhYXJyLnNvbWUoaXNWaXNpdGFibGUpO1xufVxuXG5jb25zdCBwcmVkaWNhdGVzID0gdXRpbHMudG9GbGF0T2JqZWN0KHV0aWxzLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChQbGF0Zm9ybUZvcm1EYXRhIHx8IEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscy5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIHV0aWxzLmlzU3BlY0NvbXBsaWFudEZvcm0oZm9ybURhdGEpO1xuXG4gIGlmICghdXRpbHMuaXNGdW5jdGlvbih2aXNpdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Zpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscy5pc0FycmF5KHZhbHVlKSAmJiBpc0ZsYXRBcnJheSh2YWx1ZSkpIHx8XG4gICAgICAgICgodXRpbHMuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSkgJiYgKGFyciA9IHV0aWxzLnRvQXJyYXkodmFsdWUpKVxuICAgICAgICApKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSByZW1vdmVCcmFja2V0cyhrZXkpO1xuXG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIGVhY2goZWwsIGluZGV4KSB7XG4gICAgICAgICAgISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGF0aC5qb2luKCcuJykpO1xuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gZWFjaChlbCwga2V5KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzLmlzU3RyaW5nKGtleSkgPyBrZXkudHJpbSgpIDoga2V5LCBwYXRoLCBleHBvc2VkSGVscGVyc1xuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICBidWlsZChlbCwgcGF0aCA/IHBhdGguY29uY2F0KGtleSkgOiBba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RhdGEgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIGJ1aWxkKG9iaik7XG5cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0Zvcm1EYXRhO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gez8ob2JqZWN0fEZ1bmN0aW9uKX0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBpZiAodXRpbHMuaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBzZXJpYWxpemU6IG9wdGlvbnNcbiAgICB9O1xuICB9IFxuXG4gIGNvbnN0IHNlcmlhbGl6ZUZuID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZTtcblxuICBsZXQgc2VyaWFsaXplZFBhcmFtcztcblxuICBpZiAoc2VyaWFsaXplRm4pIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gc2VyaWFsaXplRm4ocGFyYW1zLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gdXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iIDogbnVsbFxuIiwiaW1wb3J0IFVSTFNlYXJjaFBhcmFtcyBmcm9tICcuL2NsYXNzZXMvVVJMU2VhcmNoUGFyYW1zLmpzJ1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJy4vY2xhc3Nlcy9Gb3JtRGF0YS5qcydcbmltcG9ydCBCbG9iIGZyb20gJy4vY2xhc3Nlcy9CbG9iLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQnJvd3NlcjogdHJ1ZSxcbiAgY2xhc3Nlczoge1xuICAgIFVSTFNlYXJjaFBhcmFtcyxcbiAgICBGb3JtRGF0YSxcbiAgICBCbG9iXG4gIH0sXG4gIHByb3RvY29sczogWydodHRwJywgJ2h0dHBzJywgJ2ZpbGUnLCAnYmxvYicsICd1cmwnLCAnZGF0YSddXG59O1xuIiwiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gaGFzQnJvd3NlckVudiAmJlxuICAoIV9uYXZpZ2F0b3IgfHwgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCkgPCAwKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuY29uc3Qgb3JpZ2luID0gaGFzQnJvd3NlckVudiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52LFxuICBfbmF2aWdhdG9yIGFzIG5hdmlnYXRvcixcbiAgb3JpZ2luXG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi9ub2RlL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vY29tbW9uL3V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi51dGlscyxcbiAgLi4ucGxhdGZvcm1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRm9ybURhdGEoZGF0YSwgbmV3IHBsYXRmb3JtLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zKCksIHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIC4uLm9wdGlvbnNcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzLm1hdGNoQWxsKC9cXHcrfFxcWyhcXHcqKV0vZywgbmFtZSkubWFwKG1hdGNoID0+IHtcbiAgICByZXR1cm4gbWF0Y2hbMF0gPT09ICdbXScgPyAnJyA6IG1hdGNoWzFdIHx8IG1hdGNoWzBdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFycmF5IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjb252ZXJ0IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFuZCB2YWx1ZXMgYXMgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFycik7XG4gIGxldCBpO1xuICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgbGV0IGtleTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBvYmpba2V5XSA9IGFycltrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBGb3JtRGF0YSBvYmplY3QgYW5kIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGNvbnZlcnQgdG8gSlNPTi5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgYW55PiB8IG51bGx9IFRoZSBjb252ZXJ0ZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihmb3JtRGF0YSkge1xuICBmdW5jdGlvbiBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldCwgaW5kZXgpIHtcbiAgICBsZXQgbmFtZSA9IHBhdGhbaW5kZXgrK107XG5cbiAgICBpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gTnVtYmVyLmlzRmluaXRlKCtuYW1lKTtcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA+PSBwYXRoLmxlbmd0aDtcbiAgICBuYW1lID0gIW5hbWUgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMuaXNPYmplY3QodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXRbbmFtZV0sIGluZGV4KTtcblxuICAgIGlmIChyZXN1bHQgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMuaXNGdW5jdGlvbihmb3JtRGF0YS5lbnRyaWVzKSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZm9ybURhdGFUb0pTT047XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmICh1dGlscy5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSwgdGhpcy5wYXJzZVJldml2ZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIChtZXRob2QpID0+IHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLy8gUmF3QXhpb3NIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuY29uc3QgaWdub3JlRHVwbGljYXRlT2YgPSB1dGlscy50b09iamVjdFNldChbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXSk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCByYXdIZWFkZXJzID0+IHtcbiAgY29uc3QgcGFyc2VkID0ge307XG4gIGxldCBrZXk7XG4gIGxldCB2YWw7XG4gIGxldCBpO1xuXG4gIHJhd0hlYWRlcnMgJiYgcmF3SGVhZGVycy5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBpKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSBsaW5lLnN1YnN0cmluZyhpICsgMSkudHJpbSgpO1xuXG4gICAgaWYgKCFrZXkgfHwgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mW2tleV0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0pIHtcbiAgICAgICAgcGFyc2VkW2tleV0ucHVzaCh2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBbdmFsXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChoZWFkZXIpICYmIHV0aWxzLmlzSXRlcmFibGUoaGVhZGVyKSkge1xuICAgICAgbGV0IG9iaiA9IHt9LCBkZXN0LCBrZXk7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGhlYWRlcikge1xuICAgICAgICBpZiAoIXV0aWxzLmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdPYmplY3QgaXRlcmF0b3IgbXVzdCByZXR1cm4gYSBrZXktdmFsdWUgcGFpcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqW2tleSA9IGVudHJ5WzBdXSA9IChkZXN0ID0gb2JqW2tleV0pID9cbiAgICAgICAgICAodXRpbHMuaXNBcnJheShkZXN0KSA/IFsuLi5kZXN0LCBlbnRyeVsxXV0gOiBbZGVzdCwgZW50cnlbMV1dKSA6IGVudHJ5WzFdO1xuICAgICAgfVxuXG4gICAgICBzZXRIZWFkZXJzKG9iaiwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0U2V0Q29va2llKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcInNldC1jb29raWVcIikgfHwgW107XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsZWRFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9BeGlvc0Vycm9yLmpzJztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZVByb3RvY29sKHVybCkge1xuICBjb25zdCBtYXRjaCA9IC9eKFstK1xcd117MSwyNX0pKDo/XFwvXFwvfDopLy5leGVjKHVybCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDYWxjdWxhdGUgZGF0YSBtYXhSYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZXNDb3VudD0gMTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW21pbj0gMTAwMF1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3BlZWRvbWV0ZXIoc2FtcGxlc0NvdW50LCBtaW4pIHtcbiAgc2FtcGxlc0NvdW50ID0gc2FtcGxlc0NvdW50IHx8IDEwO1xuICBjb25zdCBieXRlcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGxldCBoZWFkID0gMDtcbiAgbGV0IHRhaWwgPSAwO1xuICBsZXQgZmlyc3RTYW1wbGVUUztcblxuICBtaW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1c2goY2h1bmtMZW5ndGgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3Qgc3RhcnRlZEF0ID0gdGltZXN0YW1wc1t0YWlsXTtcblxuICAgIGlmICghZmlyc3RTYW1wbGVUUykge1xuICAgICAgZmlyc3RTYW1wbGVUUyA9IG5vdztcbiAgICB9XG5cbiAgICBieXRlc1toZWFkXSA9IGNodW5rTGVuZ3RoO1xuICAgIHRpbWVzdGFtcHNbaGVhZF0gPSBub3c7XG5cbiAgICBsZXQgaSA9IHRhaWw7XG4gICAgbGV0IGJ5dGVzQ291bnQgPSAwO1xuXG4gICAgd2hpbGUgKGkgIT09IGhlYWQpIHtcbiAgICAgIGJ5dGVzQ291bnQgKz0gYnl0ZXNbaSsrXTtcbiAgICAgIGkgPSBpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGhlYWQgPSAoaGVhZCArIDEpICUgc2FtcGxlc0NvdW50O1xuXG4gICAgaWYgKGhlYWQgPT09IHRhaWwpIHtcbiAgICAgIHRhaWwgPSAodGFpbCArIDEpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGlmIChub3cgLSBmaXJzdFNhbXBsZVRTIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2VkID0gc3RhcnRlZEF0ICYmIG5vdyAtIHN0YXJ0ZWRBdDtcblxuICAgIHJldHVybiBwYXNzZWQgPyBNYXRoLnJvdW5kKGJ5dGVzQ291bnQgKiAxMDAwIC8gcGFzc2VkKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BlZWRvbWV0ZXI7XG4iLCIvKipcbiAqIFRocm90dGxlIGRlY29yYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBmcmVxXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGZyZXEpIHtcbiAgbGV0IHRpbWVzdGFtcCA9IDA7XG4gIGxldCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgdGltZXI7XG5cbiAgY29uc3QgaW52b2tlID0gKGFyZ3MsIG5vdyA9IERhdGUubm93KCkpID0+IHtcbiAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZm4oLi4uYXJncyk7XG4gIH1cblxuICBjb25zdCB0aHJvdHRsZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcGFzc2VkID0gbm93IC0gdGltZXN0YW1wO1xuICAgIGlmICggcGFzc2VkID49IHRocmVzaG9sZCkge1xuICAgICAgaW52b2tlKGFyZ3MsIG5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RBcmdzID0gYXJncztcbiAgICAgIGlmICghdGltZXIpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgICAgaW52b2tlKGxhc3RBcmdzKVxuICAgICAgICB9LCB0aHJlc2hvbGQgLSBwYXNzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4gbGFzdEFyZ3MgJiYgaW52b2tlKGxhc3RBcmdzKTtcblxuICByZXR1cm4gW3Rocm90dGxlZCwgZmx1c2hdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0aHJvdHRsZTtcbiIsImltcG9ydCBzcGVlZG9tZXRlciBmcm9tIFwiLi9zcGVlZG9tZXRlci5qc1wiO1xuaW1wb3J0IHRocm90dGxlIGZyb20gXCIuL3Rocm90dGxlLmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50UmVkdWNlciA9IChsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSwgZnJlcSA9IDMpID0+IHtcbiAgbGV0IGJ5dGVzTm90aWZpZWQgPSAwO1xuICBjb25zdCBfc3BlZWRvbWV0ZXIgPSBzcGVlZG9tZXRlcig1MCwgMjUwKTtcblxuICByZXR1cm4gdGhyb3R0bGUoZSA9PiB7XG4gICAgY29uc3QgbG9hZGVkID0gZS5sb2FkZWQ7XG4gICAgY29uc3QgdG90YWwgPSBlLmxlbmd0aENvbXB1dGFibGUgPyBlLnRvdGFsIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHByb2dyZXNzQnl0ZXMgPSBsb2FkZWQgLSBieXRlc05vdGlmaWVkO1xuICAgIGNvbnN0IHJhdGUgPSBfc3BlZWRvbWV0ZXIocHJvZ3Jlc3NCeXRlcyk7XG4gICAgY29uc3QgaW5SYW5nZSA9IGxvYWRlZCA8PSB0b3RhbDtcblxuICAgIGJ5dGVzTm90aWZpZWQgPSBsb2FkZWQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbG9hZGVkLFxuICAgICAgdG90YWwsXG4gICAgICBwcm9ncmVzczogdG90YWwgPyAobG9hZGVkIC8gdG90YWwpIDogdW5kZWZpbmVkLFxuICAgICAgYnl0ZXM6IHByb2dyZXNzQnl0ZXMsXG4gICAgICByYXRlOiByYXRlID8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGVzdGltYXRlZDogcmF0ZSAmJiB0b3RhbCAmJiBpblJhbmdlID8gKHRvdGFsIC0gbG9hZGVkKSAvIHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBldmVudDogZSxcbiAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRvdGFsICE9IG51bGwsXG4gICAgICBbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ106IHRydWVcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH0sIGZyZXEpO1xufVxuXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NFdmVudERlY29yYXRvciA9ICh0b3RhbCwgdGhyb3R0bGVkKSA9PiB7XG4gIGNvbnN0IGxlbmd0aENvbXB1dGFibGUgPSB0b3RhbCAhPSBudWxsO1xuXG4gIHJldHVybiBbKGxvYWRlZCkgPT4gdGhyb3R0bGVkWzBdKHtcbiAgICBsZW5ndGhDb21wdXRhYmxlLFxuICAgIHRvdGFsLFxuICAgIGxvYWRlZFxuICB9KSwgdGhyb3R0bGVkWzFdXTtcbn1cblxuZXhwb3J0IGNvbnN0IGFzeW5jRGVjb3JhdG9yID0gKGZuKSA9PiAoLi4uYXJncykgPT4gdXRpbHMuYXNhcCgoKSA9PiBmbiguLi5hcmdzKSk7XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgPyAoKG9yaWdpbiwgaXNNU0lFKSA9PiAodXJsKSA9PiB7XG4gIHVybCA9IG5ldyBVUkwodXJsLCBwbGF0Zm9ybS5vcmlnaW4pO1xuXG4gIHJldHVybiAoXG4gICAgb3JpZ2luLnByb3RvY29sID09PSB1cmwucHJvdG9jb2wgJiZcbiAgICBvcmlnaW4uaG9zdCA9PT0gdXJsLmhvc3QgJiZcbiAgICAoaXNNU0lFIHx8IG9yaWdpbi5wb3J0ID09PSB1cmwucG9ydClcbiAgKTtcbn0pKFxuICBuZXcgVVJMKHBsYXRmb3JtLm9yaWdpbiksXG4gIHBsYXRmb3JtLm5hdmlnYXRvciAmJiAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KHBsYXRmb3JtLm5hdmlnYXRvci51c2VyQWdlbnQpXG4pIDogKCkgPT4gdHJ1ZTtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUsIHNhbWVTaXRlKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuXG4gICAgICBjb25zdCBjb29raWUgPSBbYCR7bmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWBdO1xuXG4gICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgY29va2llLnB1c2goYGV4cGlyZXM9JHtuZXcgRGF0ZShleHBpcmVzKS50b1VUQ1N0cmluZygpfWApO1xuICAgICAgfVxuICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgIGNvb2tpZS5wdXNoKGBwYXRoPSR7cGF0aH1gKTtcbiAgICAgIH1cbiAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgIGNvb2tpZS5wdXNoKGBkb21haW49JHtkb21haW59YCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgIH1cbiAgICAgIGlmICh1dGlscy5pc1N0cmluZyhzYW1lU2l0ZSkpIHtcbiAgICAgICAgY29va2llLnB1c2goYFNhbWVTaXRlPSR7c2FtZVNpdGV9YCk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyg/Ol58OyApJyArIG5hbWUgKyAnPShbXjtdKiknKSk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pIDogbnVsbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKG5hbWUpIHtcbiAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCwgJy8nKTtcbiAgICB9XG4gIH1cblxuICA6XG5cbiAgLy8gTm9uLXN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICB7XG4gICAgd3JpdGUoKSB7fSxcbiAgICByZWFkKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByZW1vdmUoKSB7fVxuICB9O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLz9cXC8kLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0Fic29sdXRlVVJMIGZyb20gJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyc7XG5pbXBvcnQgY29tYmluZVVSTHMgZnJvbSAnLi4vaGVscGVycy9jb21iaW5lVVJMcy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCwgYWxsb3dBYnNvbHV0ZVVybHMpIHtcbiAgbGV0IGlzUmVsYXRpdmVVcmwgPSAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpO1xuICBpZiAoYmFzZVVSTCAmJiAoaXNSZWxhdGl2ZVVybCB8fCBhbGxvd0Fic29sdXRlVXJscyA9PSBmYWxzZSkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9BeGlvc0hlYWRlcnMuanNcIjtcblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyA/IHsgLi4udGhpbmcgfSA6IHRoaW5nO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICBjb25zdCBjb25maWcgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRNZXJnZWRWYWx1ZSh0YXJnZXQsIHNvdXJjZSwgcHJvcCwgY2FzZWxlc3MpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlLmNhbGwoe2Nhc2VsZXNzfSwgdGFyZ2V0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKGEsIGIsIHByb3AsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIHByb3AsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSwgcHJvcCwgY2FzZWxlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoYSwgYiwgcHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWVyZ2VNYXAgPSB7XG4gICAgdXJsOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIG1ldGhvZDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBkYXRhOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGJhc2VVUkw6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBwYXJhbXNTZXJpYWxpemVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dE1lc3NhZ2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aENyZWRlbnRpYWxzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhYU1JGVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYWRhcHRlcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZVR5cGU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkNvb2tpZU5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkhlYWRlck5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25VcGxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgZGVjb21wcmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhDb250ZW50TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heEJvZHlMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYmVmb3JlUmVkaXJlY3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNwb3J0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwc0FnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGNhbmNlbFRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHNvY2tldFBhdGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VFbmNvZGluZzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB2YWxpZGF0ZVN0YXR1czogbWVyZ2VEaXJlY3RLZXlzLFxuICAgIGhlYWRlcnM6IChhLCBiLCBwcm9wKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLCBwcm9wLCB0cnVlKVxuICB9O1xuXG4gIHV0aWxzLmZvckVhY2goT2JqZWN0LmtleXMoey4uLmNvbmZpZzEsIC4uLmNvbmZpZzJ9KSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgaXNVUkxTYW1lT3JpZ2luIGZyb20gXCIuL2lzVVJMU2FtZU9yaWdpbi5qc1wiO1xuaW1wb3J0IGNvb2tpZXMgZnJvbSBcIi4vY29va2llcy5qc1wiO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSBcIi4uL2NvcmUvYnVpbGRGdWxsUGF0aC5qc1wiO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gXCIuLi9jb3JlL21lcmdlQ29uZmlnLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gXCIuL2J1aWxkVVJMLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChjb25maWcpID0+IHtcbiAgY29uc3QgbmV3Q29uZmlnID0gbWVyZ2VDb25maWcoe30sIGNvbmZpZyk7XG5cbiAgbGV0IHsgZGF0YSwgd2l0aFhTUkZUb2tlbiwgeHNyZkhlYWRlck5hbWUsIHhzcmZDb29raWVOYW1lLCBoZWFkZXJzLCBhdXRoIH0gPSBuZXdDb25maWc7XG5cbiAgbmV3Q29uZmlnLmhlYWRlcnMgPSBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oaGVhZGVycyk7XG5cbiAgbmV3Q29uZmlnLnVybCA9IGJ1aWxkVVJMKGJ1aWxkRnVsbFBhdGgobmV3Q29uZmlnLmJhc2VVUkwsIG5ld0NvbmZpZy51cmwsIG5ld0NvbmZpZy5hbGxvd0Fic29sdXRlVXJscyksIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChhdXRoKSB7XG4gICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArXG4gICAgICBidG9hKChhdXRoLnVzZXJuYW1lIHx8ICcnKSArICc6JyArIChhdXRoLnBhc3N3b3JkID8gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgucGFzc3dvcmQpKSA6ICcnKSlcbiAgICApO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkpIHtcbiAgICBpZiAocGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52IHx8IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudikge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSh1bmRlZmluZWQpOyAvLyBicm93c2VyIGhhbmRsZXMgaXRcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZGF0YS5nZXRIZWFkZXJzKSkge1xuICAgICAgLy8gTm9kZS5qcyBGb3JtRGF0YSAobGlrZSBmb3JtLWRhdGEgcGFja2FnZSlcbiAgICAgIGNvbnN0IGZvcm1IZWFkZXJzID0gZGF0YS5nZXRIZWFkZXJzKCk7XG4gICAgICAvLyBPbmx5IHNldCBzYWZlIGhlYWRlcnMgdG8gYXZvaWQgb3ZlcndyaXRpbmcgc2VjdXJpdHkgaGVhZGVyc1xuICAgICAgY29uc3QgYWxsb3dlZEhlYWRlcnMgPSBbJ2NvbnRlbnQtdHlwZScsICdjb250ZW50LWxlbmd0aCddO1xuICAgICAgT2JqZWN0LmVudHJpZXMoZm9ybUhlYWRlcnMpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICAgICAgaWYgKGFsbG93ZWRIZWFkZXJzLmluY2x1ZGVzKGtleS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgIGhlYWRlcnMuc2V0KGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9ICBcblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4obmV3Q29uZmlnKSk7XG5cbiAgICBpZiAod2l0aFhTUkZUb2tlbiB8fCAod2l0aFhTUkZUb2tlbiAhPT0gZmFsc2UgJiYgaXNVUkxTYW1lT3JpZ2luKG5ld0NvbmZpZy51cmwpKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICBjb25zdCB4c3JmVmFsdWUgPSB4c3JmSGVhZGVyTmFtZSAmJiB4c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoeHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KHhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdDb25maWc7XG59XG5cbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBzZXR0bGUgZnJvbSAnLi8uLi9jb3JlL3NldHRsZS5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgcGFyc2VQcm90b2NvbCBmcm9tICcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IHtwcm9ncmVzc0V2ZW50UmVkdWNlcn0gZnJvbSAnLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qcyc7XG5pbXBvcnQgcmVzb2x2ZUNvbmZpZyBmcm9tIFwiLi4vaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzXCI7XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCAmJiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgX2NvbmZpZyA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcbiAgICBsZXQgcmVxdWVzdERhdGEgPSBfY29uZmlnLmRhdGE7XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShfY29uZmlnLmhlYWRlcnMpLm5vcm1hbGl6ZSgpO1xuICAgIGxldCB7cmVzcG9uc2VUeXBlLCBvblVwbG9hZFByb2dyZXNzLCBvbkRvd25sb2FkUHJvZ3Jlc3N9ID0gX2NvbmZpZztcbiAgICBsZXQgb25DYW5jZWxlZDtcbiAgICBsZXQgdXBsb2FkVGhyb3R0bGVkLCBkb3dubG9hZFRocm90dGxlZDtcbiAgICBsZXQgZmx1c2hVcGxvYWQsIGZsdXNoRG93bmxvYWQ7XG5cbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgZmx1c2hVcGxvYWQgJiYgZmx1c2hVcGxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG4gICAgICBmbHVzaERvd25sb2FkICYmIGZsdXNoRG93bmxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcblxuICAgICAgX2NvbmZpZy5zaWduYWwgJiYgX2NvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKF9jb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIF9jb25maWcudXJsLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gX2NvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcihldmVudCkge1xuICAgICAgIC8vIEJyb3dzZXJzIGRlbGl2ZXIgYSBQcm9ncmVzc0V2ZW50IGluIFhIUiBvbmVycm9yXG4gICAgICAgLy8gKG1lc3NhZ2UgbWF5IGJlIGVtcHR5OyB3aGVuIHByZXNlbnQsIHN1cmZhY2UgaXQpXG4gICAgICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9lcnJvcl9ldmVudFxuICAgICAgIGNvbnN0IG1zZyA9IGV2ZW50ICYmIGV2ZW50Lm1lc3NhZ2UgPyBldmVudC5tZXNzYWdlIDogJ05ldHdvcmsgRXJyb3InO1xuICAgICAgIGNvbnN0IGVyciA9IG5ldyBBeGlvc0Vycm9yKG1zZywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgICAvLyBhdHRhY2ggdGhlIHVuZGVybHlpbmcgZXZlbnQgZm9yIGNvbnN1bWVycyB3aG8gd2FudCBkZXRhaWxzXG4gICAgICAgZXJyLmV2ZW50ID0gZXZlbnQgfHwgbnVsbDtcbiAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgbGV0IHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgX2NvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IF9jb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoX2NvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhX2NvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChyZXNwb25zZVR5cGUgJiYgcmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gX2NvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmIChvbkRvd25sb2FkUHJvZ3Jlc3MpIHtcbiAgICAgIChbZG93bmxvYWRUaHJvdHRsZWQsIGZsdXNoRG93bmxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZG93bmxvYWRUaHJvdHRsZWQpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKG9uVXBsb2FkUHJvZ3Jlc3MgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIChbdXBsb2FkVGhyb3R0bGVkLCBmbHVzaFVwbG9hZF0gPSBwcm9ncmVzc0V2ZW50UmVkdWNlcihvblVwbG9hZFByb2dyZXNzKSk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdXBsb2FkVGhyb3R0bGVkKTtcblxuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZsdXNoVXBsb2FkKTtcbiAgICB9XG5cbiAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbiB8fCBfY29uZmlnLnNpZ25hbCkge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIG9uQ2FuY2VsZWQgPSBjYW5jZWwgPT4ge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgY2FuY2VsLnR5cGUgPyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcsIHJlcXVlc3QpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IF9jb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKF9jb25maWcudXJsKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tIFwiLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgY29uc3Qge2xlbmd0aH0gPSAoc2lnbmFscyA9IHNpZ25hbHMgPyBzaWduYWxzLmZpbHRlcihCb29sZWFuKSA6IFtdKTtcblxuICBpZiAodGltZW91dCB8fCBsZW5ndGgpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGxldCBhYm9ydGVkO1xuXG4gICAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmICghYWJvcnRlZCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24gOiB0aGlzLnJlYXNvbjtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yID8gZXJyIDogbmV3IENhbmNlbGVkRXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aW1lciA9IHRpbWVvdXQgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBvbmFib3J0KG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yLkVUSU1FRE9VVCkpXG4gICAgfSwgdGltZW91dClcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgaWYgKHNpZ25hbHMpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICBzaWduYWxzLmZvckVhY2goc2lnbmFsID0+IHtcbiAgICAgICAgICBzaWduYWwudW5zdWJzY3JpYmUgPyBzaWduYWwudW5zdWJzY3JpYmUob25hYm9ydCkgOiBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsKSA9PiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgICBzaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB1dGlscy5hc2FwKHVuc3Vic2NyaWJlKTtcblxuICAgIHJldHVybiBzaWduYWw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZVNpZ25hbHM7XG4iLCJcbmV4cG9ydCBjb25zdCBzdHJlYW1DaHVuayA9IGZ1bmN0aW9uKiAoY2h1bmssIGNodW5rU2l6ZSkge1xuICBsZXQgbGVuID0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICBpZiAoIWNodW5rU2l6ZSB8fCBsZW4gPCBjaHVua1NpemUpIHtcbiAgICB5aWVsZCBjaHVuaztcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcG9zID0gMDtcbiAgbGV0IGVuZDtcblxuICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgZW5kID0gcG9zICsgY2h1bmtTaXplO1xuICAgIHlpZWxkIGNodW5rLnNsaWNlKHBvcywgZW5kKTtcbiAgICBwb3MgPSBlbmQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlYWRCeXRlcyA9IGFzeW5jIGZ1bmN0aW9uKiAoaXRlcmFibGUsIGNodW5rU2l6ZSkge1xuICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJlYWRTdHJlYW0oaXRlcmFibGUpKSB7XG4gICAgeWllbGQqIHN0cmVhbUNodW5rKGNodW5rLCBjaHVua1NpemUpO1xuICB9XG59XG5cbmNvbnN0IHJlYWRTdHJlYW0gPSBhc3luYyBmdW5jdGlvbiogKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgIHlpZWxkKiBzdHJlYW07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIGZvciAoOzspIHtcbiAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB5aWVsZCB2YWx1ZTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgcmVhZGVyLmNhbmNlbCgpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFja1N0cmVhbSA9IChzdHJlYW0sIGNodW5rU2l6ZSwgb25Qcm9ncmVzcywgb25GaW5pc2gpID0+IHtcbiAgY29uc3QgaXRlcmF0b3IgPSByZWFkQnl0ZXMoc3RyZWFtLCBjaHVua1NpemUpO1xuXG4gIGxldCBieXRlcyA9IDA7XG4gIGxldCBkb25lO1xuICBsZXQgX29uRmluaXNoID0gKGUpID0+IHtcbiAgICBpZiAoIWRvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgb25GaW5pc2ggJiYgb25GaW5pc2goZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuXG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICBfb25GaW5pc2goKTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbiA9IHZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgICAgbGV0IGxvYWRlZEJ5dGVzID0gYnl0ZXMgKz0gbGVuO1xuICAgICAgICAgIG9uUHJvZ3Jlc3MobG9hZGVkQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShuZXcgVWludDhBcnJheSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9vbkZpbmlzaChlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICBfb25GaW5pc2gocmVhc29uKTtcbiAgICAgIHJldHVybiBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBoaWdoV2F0ZXJNYXJrOiAyXG4gIH0pXG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5pbXBvcnQgY29tcG9zZVNpZ25hbHMgZnJvbSBcIi4uL2hlbHBlcnMvY29tcG9zZVNpZ25hbHMuanNcIjtcbmltcG9ydCB7dHJhY2tTdHJlYW19IGZyb20gXCIuLi9oZWxwZXJzL3RyYWNrU3RyZWFtLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IHtwcm9ncmVzc0V2ZW50UmVkdWNlciwgcHJvZ3Jlc3NFdmVudERlY29yYXRvciwgYXN5bmNEZWNvcmF0b3J9IGZyb20gXCIuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzXCI7XG5pbXBvcnQgcmVzb2x2ZUNvbmZpZyBmcm9tIFwiLi4vaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzXCI7XG5pbXBvcnQgc2V0dGxlIGZyb20gXCIuLi9jb3JlL3NldHRsZS5qc1wiO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHtpc0Z1bmN0aW9ufSA9IHV0aWxzO1xuXG5jb25zdCBnbG9iYWxGZXRjaEFQSSA9ICgoe1JlcXVlc3QsIFJlc3BvbnNlfSkgPT4gKHtcbiAgUmVxdWVzdCwgUmVzcG9uc2Vcbn0pKSh1dGlscy5nbG9iYWwpO1xuXG5jb25zdCB7XG4gIFJlYWRhYmxlU3RyZWFtLCBUZXh0RW5jb2RlclxufSA9IHV0aWxzLmdsb2JhbDtcblxuXG5jb25zdCB0ZXN0ID0gKGZuLCAuLi5hcmdzKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZm4oLi4uYXJncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5jb25zdCBmYWN0b3J5ID0gKGVudikgPT4ge1xuICBlbnYgPSB1dGlscy5tZXJnZS5jYWxsKHtcbiAgICBza2lwVW5kZWZpbmVkOiB0cnVlXG4gIH0sIGdsb2JhbEZldGNoQVBJLCBlbnYpO1xuXG4gIGNvbnN0IHtmZXRjaDogZW52RmV0Y2gsIFJlcXVlc3QsIFJlc3BvbnNlfSA9IGVudjtcbiAgY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IGVudkZldGNoID8gaXNGdW5jdGlvbihlbnZGZXRjaCkgOiB0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbic7XG4gIGNvbnN0IGlzUmVxdWVzdFN1cHBvcnRlZCA9IGlzRnVuY3Rpb24oUmVxdWVzdCk7XG4gIGNvbnN0IGlzUmVzcG9uc2VTdXBwb3J0ZWQgPSBpc0Z1bmN0aW9uKFJlc3BvbnNlKTtcblxuICBpZiAoIWlzRmV0Y2hTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiBpc0Z1bmN0aW9uKFJlYWRhYmxlU3RyZWFtKTtcblxuICBjb25zdCBlbmNvZGVUZXh0ID0gaXNGZXRjaFN1cHBvcnRlZCAmJiAodHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nID9cbiAgICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICAgIGFzeW5jIChzdHIpID0+IG5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBSZXF1ZXN0KHN0cikuYXJyYXlCdWZmZXIoKSlcbiAgKTtcblxuICBjb25zdCBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gPSBpc1JlcXVlc3RTdXBwb3J0ZWQgJiYgaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgICBsZXQgZHVwbGV4QWNjZXNzZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGhhc0NvbnRlbnRUeXBlID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgZ2V0IGR1cGxleCgpIHtcbiAgICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJ2hhbGYnO1xuICAgICAgfSxcbiAgICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgICByZXR1cm4gZHVwbGV4QWNjZXNzZWQgJiYgIWhhc0NvbnRlbnRUeXBlO1xuICB9KTtcblxuICBjb25zdCBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtID0gaXNSZXNwb25zZVN1cHBvcnRlZCAmJiBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gICAgdGVzdCgoKSA9PiB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKG5ldyBSZXNwb25zZSgnJykuYm9keSkpO1xuXG4gIGNvbnN0IHJlc29sdmVycyA9IHtcbiAgICBzdHJlYW06IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKChyZXMpID0+IHJlcy5ib2R5KVxuICB9O1xuXG4gIGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKCgoKSA9PiB7XG4gICAgWyd0ZXh0JywgJ2FycmF5QnVmZmVyJywgJ2Jsb2InLCAnZm9ybURhdGEnLCAnc3RyZWFtJ10uZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IChyZXMsIGNvbmZpZykgPT4ge1xuICAgICAgICBsZXQgbWV0aG9kID0gcmVzICYmIHJlc1t0eXBlXTtcblxuICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihgUmVzcG9uc2UgdHlwZSAnJHt0eXBlfScgaXMgbm90IHN1cHBvcnRlZGAsIEF4aW9zRXJyb3IuRVJSX05PVF9TVVBQT1JULCBjb25maWcpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSkoKSk7XG5cbiAgY29uc3QgZ2V0Qm9keUxlbmd0aCA9IGFzeW5jIChib2R5KSA9PiB7XG4gICAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQmxvYihib2R5KSkge1xuICAgICAgcmV0dXJuIGJvZHkuc2l6ZTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgICAgY29uc3QgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoYXdhaXQgX3JlcXVlc3QuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkpIHtcbiAgICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzU3RyaW5nKGJvZHkpKSB7XG4gICAgICByZXR1cm4gKGF3YWl0IGVuY29kZVRleHQoYm9keSkpLmJ5dGVMZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVzb2x2ZUJvZHlMZW5ndGggPSBhc3luYyAoaGVhZGVycywgYm9keSkgPT4ge1xuICAgIGNvbnN0IGxlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICAgIHJldHVybiBsZW5ndGggPT0gbnVsbCA/IGdldEJvZHlMZW5ndGgoYm9keSkgOiBsZW5ndGg7XG4gIH1cblxuICByZXR1cm4gYXN5bmMgKGNvbmZpZykgPT4ge1xuICAgIGxldCB7XG4gICAgICB1cmwsXG4gICAgICBtZXRob2QsXG4gICAgICBkYXRhLFxuICAgICAgc2lnbmFsLFxuICAgICAgY2FuY2VsVG9rZW4sXG4gICAgICB0aW1lb3V0LFxuICAgICAgb25Eb3dubG9hZFByb2dyZXNzLFxuICAgICAgb25VcGxvYWRQcm9ncmVzcyxcbiAgICAgIHJlc3BvbnNlVHlwZSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHMgPSAnc2FtZS1vcmlnaW4nLFxuICAgICAgZmV0Y2hPcHRpb25zXG4gICAgfSA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcblxuICAgIGxldCBfZmV0Y2ggPSBlbnZGZXRjaCB8fCBmZXRjaDtcblxuICAgIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSA/IChyZXNwb25zZVR5cGUgKyAnJykudG9Mb3dlckNhc2UoKSA6ICd0ZXh0JztcblxuICAgIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gICAgbGV0IHJlcXVlc3QgPSBudWxsO1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBjb21wb3NlZFNpZ25hbCAmJiBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSAmJiAoKCkgPT4ge1xuICAgICAgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUoKTtcbiAgICB9KTtcblxuICAgIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoXG4gICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgICAgKHJlcXVlc3RDb250ZW50TGVuZ3RoID0gYXdhaXQgcmVzb2x2ZUJvZHlMZW5ndGgoaGVhZGVycywgZGF0YSkpICE9PSAwXG4gICAgICApIHtcbiAgICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBjb250ZW50VHlwZUhlYWRlcjtcblxuICAgICAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZShjb250ZW50VHlwZUhlYWRlcilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgICAgICByZXF1ZXN0Q29udGVudExlbmd0aCxcbiAgICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBkYXRhID0gdHJhY2tTdHJlYW0oX3JlcXVlc3QuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCBmbHVzaCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1dGlscy5pc1N0cmluZyh3aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdvbWl0JztcbiAgICAgIH1cblxuICAgICAgLy8gQ2xvdWRmbGFyZSBXb3JrZXJzIHRocm93cyB3aGVuIGNyZWRlbnRpYWxzIGFyZSBkZWZpbmVkXG4gICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvd29ya2VyZC9pc3N1ZXMvOTAyXG4gICAgICBjb25zdCBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID0gaXNSZXF1ZXN0U3VwcG9ydGVkICYmIFwiY3JlZGVudGlhbHNcIiBpbiBSZXF1ZXN0LnByb3RvdHlwZTtcblxuICAgICAgY29uc3QgcmVzb2x2ZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICAgIHNpZ25hbDogY29tcG9zZWRTaWduYWwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgIGR1cGxleDogXCJoYWxmXCIsXG4gICAgICAgIGNyZWRlbnRpYWxzOiBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID8gd2l0aENyZWRlbnRpYWxzIDogdW5kZWZpbmVkXG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0ID0gaXNSZXF1ZXN0U3VwcG9ydGVkICYmIG5ldyBSZXF1ZXN0KHVybCwgcmVzb2x2ZWRPcHRpb25zKTtcblxuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgKGlzUmVxdWVzdFN1cHBvcnRlZCA/IF9mZXRjaChyZXF1ZXN0LCBmZXRjaE9wdGlvbnMpIDogX2ZldGNoKHVybCwgcmVzb2x2ZWRPcHRpb25zKSk7XG5cbiAgICAgIGNvbnN0IGlzU3RyZWFtUmVzcG9uc2UgPSBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChyZXNwb25zZVR5cGUgPT09ICdzdHJlYW0nIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3Jlc3BvbnNlJyk7XG5cbiAgICAgIGlmIChzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChvbkRvd25sb2FkUHJvZ3Jlc3MgfHwgKGlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUpKSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge307XG5cbiAgICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgICBvcHRpb25zW3Byb3BdID0gcmVzcG9uc2VbcHJvcF07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgICBjb25zdCBbb25Qcm9ncmVzcywgZmx1c2hdID0gb25Eb3dubG9hZFByb2dyZXNzICYmIHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgICAgcmVzcG9uc2VDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICAgICkgfHwgW107XG5cbiAgICAgICAgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgICBmbHVzaCAmJiBmbHVzaCgpO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSB8fCAndGV4dCc7XG5cbiAgICAgIGxldCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNvbHZlcnNbdXRpbHMuZmluZEtleShyZXNvbHZlcnMsIHJlc3BvbnNlVHlwZSkgfHwgJ3RleHQnXShyZXNwb25zZSwgY29uZmlnKTtcblxuICAgICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwge1xuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICBoZWFkZXJzOiBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKSxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICByZXF1ZXN0XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgICAgaWYgKGVyciAmJiBlcnIubmFtZSA9PT0gJ1R5cGVFcnJvcicgJiYgL0xvYWQgZmFpbGVkfGZldGNoL2kudGVzdChlcnIubWVzc2FnZSkpIHtcbiAgICAgICAgdGhyb3cgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2F1c2U6IGVyci5jYXVzZSB8fCBlcnJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBzZWVkQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbmV4cG9ydCBjb25zdCBnZXRGZXRjaCA9IChjb25maWcpID0+IHtcbiAgbGV0IGVudiA9IChjb25maWcgJiYgY29uZmlnLmVudikgfHwge307XG4gIGNvbnN0IHtmZXRjaCwgUmVxdWVzdCwgUmVzcG9uc2V9ID0gZW52O1xuICBjb25zdCBzZWVkcyA9IFtcbiAgICBSZXF1ZXN0LCBSZXNwb25zZSwgZmV0Y2hcbiAgXTtcblxuICBsZXQgbGVuID0gc2VlZHMubGVuZ3RoLCBpID0gbGVuLFxuICAgIHNlZWQsIHRhcmdldCwgbWFwID0gc2VlZENhY2hlO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBzZWVkID0gc2VlZHNbaV07XG4gICAgdGFyZ2V0ID0gbWFwLmdldChzZWVkKTtcblxuICAgIHRhcmdldCA9PT0gdW5kZWZpbmVkICYmIG1hcC5zZXQoc2VlZCwgdGFyZ2V0ID0gKGkgPyBuZXcgTWFwKCkgOiBmYWN0b3J5KGVudikpKVxuXG4gICAgbWFwID0gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmNvbnN0IGFkYXB0ZXIgPSBnZXRGZXRjaCgpO1xuXG5leHBvcnQgZGVmYXVsdCBhZGFwdGVyO1xuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBodHRwQWRhcHRlciBmcm9tICcuL2h0dHAuanMnO1xuaW1wb3J0IHhockFkYXB0ZXIgZnJvbSAnLi94aHIuanMnO1xuaW1wb3J0ICogYXMgZmV0Y2hBZGFwdGVyIGZyb20gJy4vZmV0Y2guanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuXG4vKipcbiAqIEtub3duIGFkYXB0ZXJzIG1hcHBpbmcuXG4gKiBQcm92aWRlcyBlbnZpcm9ubWVudC1zcGVjaWZpYyBhZGFwdGVycyBmb3IgQXhpb3M6XG4gKiAtIGBodHRwYCBmb3IgTm9kZS5qc1xuICogLSBgeGhyYCBmb3IgYnJvd3NlcnNcbiAqIC0gYGZldGNoYCBmb3IgZmV0Y2ggQVBJLWJhc2VkIHJlcXVlc3RzXG4gKiBcbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBGdW5jdGlvbnxPYmplY3Q+fVxuICovXG5jb25zdCBrbm93bkFkYXB0ZXJzID0ge1xuICBodHRwOiBodHRwQWRhcHRlcixcbiAgeGhyOiB4aHJBZGFwdGVyLFxuICBmZXRjaDoge1xuICAgIGdldDogZmV0Y2hBZGFwdGVyLmdldEZldGNoLFxuICB9XG59O1xuXG4vLyBBc3NpZ24gYWRhcHRlciBuYW1lcyBmb3IgZWFzaWVyIGRlYnVnZ2luZyBhbmQgaWRlbnRpZmljYXRpb25cbnV0aWxzLmZvckVhY2goa25vd25BZGFwdGVycywgKGZuLCB2YWx1ZSkgPT4ge1xuICBpZiAoZm4pIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHsgdmFsdWUgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywgeyB2YWx1ZSB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogUmVuZGVyIGEgcmVqZWN0aW9uIHJlYXNvbiBzdHJpbmcgZm9yIHVua25vd24gb3IgdW5zdXBwb3J0ZWQgYWRhcHRlcnNcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuY29uc3QgcmVuZGVyUmVhc29uID0gKHJlYXNvbikgPT4gYC0gJHtyZWFzb259YDtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgYWRhcHRlciBpcyByZXNvbHZlZCAoZnVuY3Rpb24sIG51bGwsIG9yIGZhbHNlKVxuICogXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufG51bGx8ZmFsc2V9IGFkYXB0ZXJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuLyoqXG4gKiBHZXQgdGhlIGZpcnN0IHN1aXRhYmxlIGFkYXB0ZXIgZnJvbSB0aGUgcHJvdmlkZWQgbGlzdC5cbiAqIFRyaWVzIGVhY2ggYWRhcHRlciBpbiBvcmRlciB1bnRpbCBhIHN1cHBvcnRlZCBvbmUgaXMgZm91bmQuXG4gKiBUaHJvd3MgYW4gQXhpb3NFcnJvciBpZiBubyBhZGFwdGVyIGlzIHN1aXRhYmxlLlxuICogXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xGdW5jdGlvbj58c3RyaW5nfEZ1bmN0aW9ufSBhZGFwdGVycyAtIEFkYXB0ZXIocykgYnkgbmFtZSBvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBBeGlvcyByZXF1ZXN0IGNvbmZpZ3VyYXRpb25cbiAqIEB0aHJvd3Mge0F4aW9zRXJyb3J9IElmIG5vIHN1aXRhYmxlIGFkYXB0ZXIgaXMgYXZhaWxhYmxlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFRoZSByZXNvbHZlZCBhZGFwdGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldEFkYXB0ZXIoYWRhcHRlcnMsIGNvbmZpZykge1xuICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gIGNvbnN0IHsgbGVuZ3RoIH0gPSBhZGFwdGVycztcbiAgbGV0IG5hbWVPckFkYXB0ZXI7XG4gIGxldCBhZGFwdGVyO1xuXG4gIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBuYW1lT3JBZGFwdGVyID0gYWRhcHRlcnNbaV07XG4gICAgbGV0IGlkO1xuXG4gICAgYWRhcHRlciA9IG5hbWVPckFkYXB0ZXI7XG5cbiAgICBpZiAoIWlzUmVzb2x2ZWRIYW5kbGUobmFtZU9yQWRhcHRlcikpIHtcbiAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgIGlmIChhZGFwdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFVua25vd24gYWRhcHRlciAnJHtpZH0nYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFkYXB0ZXIgJiYgKHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgKGFkYXB0ZXIgPSBhZGFwdGVyLmdldChjb25maWcpKSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJlamVjdGVkUmVhc29uc1tpZCB8fCAnIycgKyBpXSA9IGFkYXB0ZXI7XG4gIH1cblxuICBpZiAoIWFkYXB0ZXIpIHtcbiAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgLm1hcCgoW2lkLCBzdGF0ZV0pID0+IGBhZGFwdGVyICR7aWR9IGAgK1xuICAgICAgICAoc3RhdGUgPT09IGZhbHNlID8gJ2lzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50JyA6ICdpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZCcpXG4gICAgICApO1xuXG4gICAgbGV0IHMgPSBsZW5ndGggP1xuICAgICAgKHJlYXNvbnMubGVuZ3RoID4gMSA/ICdzaW5jZSA6XFxuJyArIHJlYXNvbnMubWFwKHJlbmRlclJlYXNvbikuam9pbignXFxuJykgOiAnICcgKyByZW5kZXJSZWFzb24ocmVhc29uc1swXSkpIDpcbiAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgIGBUaGVyZSBpcyBubyBzdWl0YWJsZSBhZGFwdGVyIHRvIGRpc3BhdGNoIHRoZSByZXF1ZXN0IGAgKyBzLFxuICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbi8qKlxuICogRXhwb3J0cyBBeGlvcyBhZGFwdGVycyBhbmQgdXRpbGl0eSB0byByZXNvbHZlIGFuIGFkYXB0ZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogUmVzb2x2ZSBhbiBhZGFwdGVyIGZyb20gYSBsaXN0IG9mIGFkYXB0ZXIgbmFtZXMgb3IgZnVuY3Rpb25zLlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICBnZXRBZGFwdGVyLFxuXG4gIC8qKlxuICAgKiBFeHBvc2VzIGFsbCBrbm93biBhZGFwdGVyc1xuICAgKiBAdHlwZSB7T2JqZWN0PHN0cmluZywgRnVuY3Rpb258T2JqZWN0Pn1cbiAgICovXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHJhbnNmb3JtRGF0YSBmcm9tICcuL3RyYW5zZm9ybURhdGEuanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4uL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4uL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzXCI7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXIsIGNvbmZpZyk7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICByZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVhc29uLnJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIxLjEzLjJcIjsiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi4vZW52L2RhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHt9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuWydvYmplY3QnLCAnYm9vbGVhbicsICdudW1iZXInLCAnZnVuY3Rpb24nLCAnc3RyaW5nJywgJ3N5bWJvbCddLmZvckVhY2goKHR5cGUsIGkpID0+IHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuICh2YWx1ZSwgb3B0LCBvcHRzKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbnZhbGlkYXRvcnMuc3BlbGxpbmcgPSBmdW5jdGlvbiBzcGVsbGluZyhjb3JyZWN0U3BlbGxpbmcpIHtcbiAgcmV0dXJuICh2YWx1ZSwgb3B0KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oYCR7b3B0fSBpcyBsaWtlbHkgYSBtaXNzcGVsbGluZyBvZiAke2NvcnJlY3RTcGVsbGluZ31gKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlbWFcbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGFsbG93VW5rbm93blxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgY29uc3Qgb3B0ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdGlvbnMpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT04pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFzc2VydE9wdGlvbnMsXG4gIHZhbGlkYXRvcnNcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBidWlsZFVSTCBmcm9tICcuLi9oZWxwZXJzL2J1aWxkVVJMLmpzJztcbmltcG9ydCBJbnRlcmNlcHRvck1hbmFnZXIgZnJvbSAnLi9JbnRlcmNlcHRvck1hbmFnZXIuanMnO1xuaW1wb3J0IGRpc3BhdGNoUmVxdWVzdCBmcm9tICcuL2Rpc3BhdGNoUmVxdWVzdC5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tICcuL2J1aWxkRnVsbFBhdGguanMnO1xuaW1wb3J0IHZhbGlkYXRvciBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4vQXhpb3NIZWFkZXJzLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHZhbGlkYXRvci52YWxpZGF0b3JzO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5jbGFzcyBBeGlvcyB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnIHx8IHt9O1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gY29uZmlnT3JVcmwgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICAgKiBAcGFyYW0gez9PYmplY3R9IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gICAqL1xuICBhc3luYyByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbGV0IGR1bW15ID0ge307XG5cbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShkdW1teSkgOiAoZHVtbXkgPSBuZXcgRXJyb3IoKSk7XG5cbiAgICAgICAgLy8gc2xpY2Ugb2ZmIHRoZSBFcnJvcjogLi4uIGxpbmVcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBkdW1teS5zdGFjayA/IGR1bW15LnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sICcnKSA6ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghZXJyLnN0YWNrKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICAgIC8vIG1hdGNoIHdpdGhvdXQgdGhlIDIgdG9wIHN0YWNrIGxpbmVzXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFjayAmJiAhU3RyaW5nKGVyci5zdGFjaykuZW5kc1dpdGgoc3RhY2sucmVwbGFjZSgvXi4rXFxuLitcXG4vLCAnJykpKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgKz0gJ1xcbicgKyBzdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlnbm9yZSB0aGUgY2FzZSB3aGVyZSBcInN0YWNrXCIgaXMgYW4gdW4td3JpdGFibGUgcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPSBudWxsKSB7XG4gICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJhbXNTZXJpYWxpemVyKSkge1xuICAgICAgICBjb25maWcucGFyYW1zU2VyaWFsaXplciA9IHtcbiAgICAgICAgICBzZXJpYWxpemU6IHBhcmFtc1NlcmlhbGl6ZXJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgICBzZXJpYWxpemU6IHZhbGlkYXRvcnMuZnVuY3Rpb25cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5hbGxvd0Fic29sdXRlVXJsc1xuICAgIGlmIChjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0cy5hbGxvd0Fic29sdXRlVXJscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgPSB0aGlzLmRlZmF1bHRzLmFsbG93QWJzb2x1dGVVcmxzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKGNvbmZpZywge1xuICAgICAgYmFzZVVybDogdmFsaWRhdG9ycy5zcGVsbGluZygnYmFzZVVSTCcpLFxuICAgICAgd2l0aFhzcmZUb2tlbjogdmFsaWRhdG9ycy5zcGVsbGluZygnd2l0aFhTUkZUb2tlbicpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGxldCBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgaGVhZGVycyAmJiB1dGlscy5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0KC4uLnJlcXVlc3RJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGNoYWluLnB1c2goLi4ucmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGNvbnN0IG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3Q29uZmlnID0gb25GdWxmaWxsZWQobmV3Q29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG9uUmVqZWN0ZWQuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0LmNhbGwodGhpcywgbmV3Q29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpID0gMDtcbiAgICBsZW4gPSByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVyaShjb25maWcpIHtcbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCwgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzKTtcbiAgICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgfVxufVxuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9DYW5jZWxlZEVycm9yLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsVG9rZW59XG4gKi9cbmNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICB0b0Fib3J0U2lnbmFsKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICBjb25zdCBhYm9ydCA9IChlcnIpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoZXJyKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgY29udHJvbGxlci5zaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB0aGlzLnVuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIHJldHVybiBjb250cm9sbGVyLnNpZ25hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn1cbiIsImNvbnN0IEh0dHBTdGF0dXNDb2RlID0ge1xuICBDb250aW51ZTogMTAwLFxuICBTd2l0Y2hpbmdQcm90b2NvbHM6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBFYXJseUhpbnRzOiAxMDMsXG4gIE9rOiAyMDAsXG4gIENyZWF0ZWQ6IDIwMSxcbiAgQWNjZXB0ZWQ6IDIwMixcbiAgTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOiAyMDMsXG4gIE5vQ29udGVudDogMjA0LFxuICBSZXNldENvbnRlbnQ6IDIwNSxcbiAgUGFydGlhbENvbnRlbnQ6IDIwNixcbiAgTXVsdGlTdGF0dXM6IDIwNyxcbiAgQWxyZWFkeVJlcG9ydGVkOiAyMDgsXG4gIEltVXNlZDogMjI2LFxuICBNdWx0aXBsZUNob2ljZXM6IDMwMCxcbiAgTW92ZWRQZXJtYW5lbnRseTogMzAxLFxuICBGb3VuZDogMzAyLFxuICBTZWVPdGhlcjogMzAzLFxuICBOb3RNb2RpZmllZDogMzA0LFxuICBVc2VQcm94eTogMzA1LFxuICBVbnVzZWQ6IDMwNixcbiAgVGVtcG9yYXJ5UmVkaXJlY3Q6IDMwNyxcbiAgUGVybWFuZW50UmVkaXJlY3Q6IDMwOCxcbiAgQmFkUmVxdWVzdDogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgUGF5bWVudFJlcXVpcmVkOiA0MDIsXG4gIEZvcmJpZGRlbjogNDAzLFxuICBOb3RGb3VuZDogNDA0LFxuICBNZXRob2ROb3RBbGxvd2VkOiA0MDUsXG4gIE5vdEFjY2VwdGFibGU6IDQwNixcbiAgUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA0MDcsXG4gIFJlcXVlc3RUaW1lb3V0OiA0MDgsXG4gIENvbmZsaWN0OiA0MDksXG4gIEdvbmU6IDQxMCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IDQxMSxcbiAgUHJlY29uZGl0aW9uRmFpbGVkOiA0MTIsXG4gIFBheWxvYWRUb29MYXJnZTogNDEzLFxuICBVcmlUb29Mb25nOiA0MTQsXG4gIFVuc3VwcG9ydGVkTWVkaWFUeXBlOiA0MTUsXG4gIFJhbmdlTm90U2F0aXNmaWFibGU6IDQxNixcbiAgRXhwZWN0YXRpb25GYWlsZWQ6IDQxNyxcbiAgSW1BVGVhcG90OiA0MTgsXG4gIE1pc2RpcmVjdGVkUmVxdWVzdDogNDIxLFxuICBVbnByb2Nlc3NhYmxlRW50aXR5OiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBGYWlsZWREZXBlbmRlbmN5OiA0MjQsXG4gIFRvb0Vhcmx5OiA0MjUsXG4gIFVwZ3JhZGVSZXF1aXJlZDogNDI2LFxuICBQcmVjb25kaXRpb25SZXF1aXJlZDogNDI4LFxuICBUb29NYW55UmVxdWVzdHM6IDQyOSxcbiAgUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOiA0MzEsXG4gIFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOiA0NTEsXG4gIEludGVybmFsU2VydmVyRXJyb3I6IDUwMCxcbiAgTm90SW1wbGVtZW50ZWQ6IDUwMSxcbiAgQmFkR2F0ZXdheTogNTAyLFxuICBTZXJ2aWNlVW5hdmFpbGFibGU6IDUwMyxcbiAgR2F0ZXdheVRpbWVvdXQ6IDUwNCxcbiAgSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6IDUwNSxcbiAgVmFyaWFudEFsc29OZWdvdGlhdGVzOiA1MDYsXG4gIEluc3VmZmljaWVudFN0b3JhZ2U6IDUwNyxcbiAgTG9vcERldGVjdGVkOiA1MDgsXG4gIE5vdEV4dGVuZGVkOiA1MTAsXG4gIE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA1MTEsXG4gIFdlYlNlcnZlcklzRG93bjogNTIxLFxuICBDb25uZWN0aW9uVGltZWRPdXQ6IDUyMixcbiAgT3JpZ2luSXNVbnJlYWNoYWJsZTogNTIzLFxuICBUaW1lb3V0T2NjdXJyZWQ6IDUyNCxcbiAgU3NsSGFuZHNoYWtlRmFpbGVkOiA1MjUsXG4gIEludmFsaWRTc2xDZXJ0aWZpY2F0ZTogNTI2LFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSHR0cFN0YXR1c0NvZGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcbmltcG9ydCBBeGlvcyBmcm9tICcuL2NvcmUvQXhpb3MuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vY29yZS9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgZm9ybURhdGFUb0pTT04gZnJvbSAnLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IENhbmNlbFRva2VuIGZyb20gJy4vY2FuY2VsL0NhbmNlbFRva2VuLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQge1ZFUlNJT059IGZyb20gJy4vZW52L2RhdGEuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi9oZWxwZXJzL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHNwcmVhZCBmcm9tICcuL2hlbHBlcnMvc3ByZWFkLmpzJztcbmltcG9ydCBpc0F4aW9zRXJyb3IgZnJvbSAnLi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSAnLi9hZGFwdGVycy9hZGFwdGVycy5qcyc7XG5pbXBvcnQgSHR0cFN0YXR1c0NvZGUgZnJvbSAnLi9oZWxwZXJzL0h0dHBTdGF0dXNDb2RlLmpzJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm5zIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICBjb25zdCBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICBjb25zdCBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0LCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQsIG51bGwsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuICBpbnN0YW5jZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoZGVmYXVsdENvbmZpZywgaW5zdGFuY2VDb25maWcpKTtcbiAgfTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxuY29uc3QgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gQ2FuY2VsZWRFcnJvcjtcbmF4aW9zLkNhbmNlbFRva2VuID0gQ2FuY2VsVG9rZW47XG5heGlvcy5pc0NhbmNlbCA9IGlzQ2FuY2VsO1xuYXhpb3MuVkVSU0lPTiA9IFZFUlNJT047XG5heGlvcy50b0Zvcm1EYXRhID0gdG9Gb3JtRGF0YTtcblxuLy8gRXhwb3NlIEF4aW9zRXJyb3IgY2xhc3NcbmF4aW9zLkF4aW9zRXJyb3IgPSBBeGlvc0Vycm9yO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuYXhpb3Muc3ByZWFkID0gc3ByZWFkO1xuXG4vLyBFeHBvc2UgaXNBeGlvc0Vycm9yXG5heGlvcy5pc0F4aW9zRXJyb3IgPSBpc0F4aW9zRXJyb3I7XG5cbi8vIEV4cG9zZSBtZXJnZUNvbmZpZ1xuYXhpb3MubWVyZ2VDb25maWcgPSBtZXJnZUNvbmZpZztcblxuYXhpb3MuQXhpb3NIZWFkZXJzID0gQXhpb3NIZWFkZXJzO1xuXG5heGlvcy5mb3JtVG9KU09OID0gdGhpbmcgPT4gZm9ybURhdGFUb0pTT04odXRpbHMuaXNIVE1MRm9ybSh0aGluZykgPyBuZXcgRm9ybURhdGEodGhpbmcpIDogdGhpbmcpO1xuXG5heGlvcy5nZXRBZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcjtcblxuYXhpb3MuSHR0cFN0YXR1c0NvZGUgPSBIdHRwU3RhdHVzQ29kZTtcblxuYXhpb3MuZGVmYXVsdCA9IGF4aW9zO1xuXG4vLyB0aGlzIG1vZHVsZSBzaG91bGQgb25seSBoYXZlIGEgZGVmYXVsdCBleHBvcnRcbmV4cG9ydCBkZWZhdWx0IGF4aW9zXG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnLi9saWIvYXhpb3MuanMnO1xuXG4vLyBUaGlzIG1vZHVsZSBpcyBpbnRlbmRlZCB0byB1bndyYXAgQXhpb3MgZGVmYXVsdCBleHBvcnQgYXMgbmFtZWQuXG4vLyBLZWVwIHRvcC1sZXZlbCBleHBvcnQgc2FtZSB3aXRoIHN0YXRpYyBwcm9wZXJ0aWVzXG4vLyBzbyB0aGF0IGl0IGNhbiBrZWVwIHNhbWUgd2l0aCBlcyBtb2R1bGUgb3IgY2pzXG5jb25zdCB7XG4gIEF4aW9zLFxuICBBeGlvc0Vycm9yLFxuICBDYW5jZWxlZEVycm9yLFxuICBpc0NhbmNlbCxcbiAgQ2FuY2VsVG9rZW4sXG4gIFZFUlNJT04sXG4gIGFsbCxcbiAgQ2FuY2VsLFxuICBpc0F4aW9zRXJyb3IsXG4gIHNwcmVhZCxcbiAgdG9Gb3JtRGF0YSxcbiAgQXhpb3NIZWFkZXJzLFxuICBIdHRwU3RhdHVzQ29kZSxcbiAgZm9ybVRvSlNPTixcbiAgZ2V0QWRhcHRlcixcbiAgbWVyZ2VDb25maWdcbn0gPSBheGlvcztcblxuZXhwb3J0IHtcbiAgYXhpb3MgYXMgZGVmYXVsdCxcbiAgQXhpb3MsXG4gIEF4aW9zRXJyb3IsXG4gIENhbmNlbGVkRXJyb3IsXG4gIGlzQ2FuY2VsLFxuICBDYW5jZWxUb2tlbixcbiAgVkVSU0lPTixcbiAgYWxsLFxuICBDYW5jZWwsXG4gIGlzQXhpb3NFcnJvcixcbiAgc3ByZWFkLFxuICB0b0Zvcm1EYXRhLFxuICBBeGlvc0hlYWRlcnMsXG4gIEh0dHBTdGF0dXNDb2RlLFxuICBmb3JtVG9KU09OLFxuICBnZXRBZGFwdGVyLFxuICBtZXJnZUNvbmZpZ1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmV4cG9ydCBjb25zdCBkZXZlbG9wbWVudCA9IHtcbiAgY2xvdWRVUkw6IFwiaHR0cHM6Ly9sb2dpbi5zdGFnaW5nLnBvc2l0LmNsb3VkXCIsXG4gIGNvbm5lY3RDbG91ZFVSTDogXCJodHRwczovL2Rldi5jb25uZWN0LnBvc2l0LmNsb3VkXCIsXG59O1xuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0aW9uID0ge1xuICBjbG91ZFVSTDogXCJodHRwczovL2xvZ2luLnBvc2l0LmNsb3VkXCIsXG4gIGNvbm5lY3RDbG91ZFVSTDogXCJodHRwczovL2Nvbm5lY3QucG9zaXQuY2xvdWRcIixcbn07XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjUgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuZXhwb3J0IGNvbnN0IHN0YWdpbmcgPSB7XG4gIGNsb3VkVVJMOiBcImh0dHBzOi8vbG9naW4uc3RhZ2luZy5wb3NpdC5jbG91ZFwiLFxuICBjb25uZWN0Q2xvdWRVUkw6IFwiaHR0cHM6Ly9zdGFnaW5nLmNvbm5lY3QucG9zaXQuY2xvdWRcIixcbn07XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjUgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgZGV2ZWxvcG1lbnQgfSBmcm9tIFwiLi9kZXZlbG9wbWVudFwiO1xuaW1wb3J0IHsgcHJvZHVjdGlvbiB9IGZyb20gXCIuL3Byb2R1Y3Rpb25cIjtcbmltcG9ydCB7IHN0YWdpbmcgfSBmcm9tIFwiLi9zdGFnaW5nXCI7XG5cbmV4cG9ydCBlbnVtIGVudiB7XG4gIERFViA9IFwiZGV2ZWxvcG1lbnRcIixcbiAgU1RBR0lORyA9IFwic3RhZ2luZ1wiLFxuICBQUk9EID0gXCJwcm9kdWN0aW9uXCIsXG59XG5cbnR5cGUgQ29uZmlnID0ge1xuICBjbG91ZFVSTDogc3RyaW5nO1xuICBjb25uZWN0Q2xvdWRVUkw6IHN0cmluZztcbiAgZW52OiBlbnY7XG59O1xuXG5sZXQgY29uZmlnOiBDb25maWc7XG5cbmlmIChwcm9jZXNzLmVudi5DT05ORUNUX0NMT1VEX0VOViA9PT0gZW52LlNUQUdJTkcpIHtcbiAgY29uZmlnID0geyAuLi5zdGFnaW5nLCBlbnY6IGVudi5TVEFHSU5HIH07XG59IGVsc2UgaWYgKHByb2Nlc3MuZW52LkNPTk5FQ1RfQ0xPVURfRU5WID09PSBlbnYuREVWKSB7XG4gIGNvbmZpZyA9IHsgLi4uZGV2ZWxvcG1lbnQsIGVudjogZW52LkRFViB9O1xufSBlbHNlIHtcbiAgY29uZmlnID0geyAuLi5wcm9kdWN0aW9uLCBlbnY6IGVudi5QUk9EIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNSBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgUE9TSVRfRk9MREVSID0gXCIqKi8ucG9zaXRcIjtcbmV4cG9ydCBjb25zdCBQVUJMSVNIX0ZPTERFUiA9IFwiKiovLnBvc2l0L3B1Ymxpc2hcIjtcbmV4cG9ydCBjb25zdCBQVUJMSVNIX0RFUExPWU1FTlRTX0ZPTERFUiA9IFwiKiovLnBvc2l0L3B1Ymxpc2gvZGVwbG95bWVudHNcIjtcblxuZXhwb3J0IGNvbnN0IENPTkZJR1VSQVRJT05TX1BBVFRFUk4gPSBcIioqLy5wb3NpdC9wdWJsaXNoLyoudG9tbFwiO1xuZXhwb3J0IGNvbnN0IERFUExPWU1FTlRTX1BBVFRFUk4gPSBcIioqLy5wb3NpdC9wdWJsaXNoL2RlcGxveW1lbnRzLyoudG9tbFwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9QWVRIT05fUEFDS0FHRV9GSUxFID0gXCJyZXF1aXJlbWVudHMudHh0XCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SX1BBQ0tBR0VfRklMRSA9IFwicmVudi5sb2NrXCI7XG5cbi8vIHB1bGxlZCBmcm9tIC9pbnRlcm5hbC9zZXJ2aWNlcy9hcGkvZ2V0X2VudHJ5cG9pbnRzLmdvXG4vLyBzaG91bGQgYWxsIGJlIGxvd2VyY2FzZSFcbmV4cG9ydCBjb25zdCBFTlRSWVBPSU5UX0ZJTEVfRVhURU5TSU9OUyA9IFtcbiAgXCIuaHRtXCIsXG4gIFwiLmh0bWxcIixcbiAgXCIuaXB5bmJcIixcbiAgXCIucHlcIixcbiAgXCIucW1kXCIsXG4gIFwiLnJcIixcbiAgXCIucm1kXCIsXG4gIFwiLnltbFwiLFxuICBcIi55YW1sXCIsXG5dO1xuXG5leHBvcnQgZW51bSBCb29sZWFuQ29udGV4dFZhbHVlcyB7XG4gIFRydWUgPSBcInRydWVcIixcbiAgRmFsc2UgPSBcImZhbHNlXCIsXG59XG5cbmNvbnN0IGJhc2VDb21tYW5kcyA9IHtcbiAgSW5pdFByb2plY3Q6IFwicG9zaXQucHVibGlzaGVyLmluaXQtcHJvamVjdFwiLFxuICBTaG93T3V0cHV0Q2hhbm5lbDogXCJwb3NpdC5wdWJsaXNoZXIuc2hvd091dHB1dENoYW5uZWxcIixcbiAgU2hvd1B1Ymxpc2hpbmdMb2c6IFwicG9zaXQucHVibGlzaGVyLnNob3dQdWJsaXNoaW5nTG9nXCIsXG4gIERlcGxveVdpdGhFbnRyeXBvaW50OiBcInBvc2l0LnB1Ymxpc2hlci5kZXBsb3lXaXRoRW50cnlwb2ludFwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgYmFzZUNvbnRleHRzID0ge1xuICBBY3RpdmVGaWxlRW50cnlwb2ludDogXCJwb3NpdC5wdWJsaXNoLmFjdGl2ZUZpbGVFbnRyeXBvaW50XCIsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBsb2dzQ29tbWFuZHMgPSB7XG4gIFZpc2l0OiBcInBvc2l0LnB1Ymxpc2hlci5sb2dzLnZpc2l0XCIsXG4gIC8vIEFkZGVkIGF1dG9tYXRpY2FsbHkgYnkgVlNDb2RlIHdpdGggdmlldyByZWdpc3RyYXRpb25cbiAgRmlsZXZpZXc6IFwicG9zaXQucHVibGlzaGVyLmxvZ3MuZmlsZXZpZXdcIixcbiAgQ29weTogXCJwb3NpdC5wdWJsaXNoZXIubG9ncy5jb3B5XCIsXG4gIEZvY3VzOiBcInBvc2l0LnB1Ymxpc2hlci5sb2dzLmZvY3VzXCIsXG4gIFRvZ2dsZVZpc2liaWxpdHk6IFwicG9zaXQucHVibGlzaGVyLmxvZ3MudG9nZ2xlVmlzaWJpbGl0eVwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgY3JlZGVudGlhbHNDb250ZXh0cyA9IHtcbiAgS2V5Y2hhaW46IFwicG9zaXQucHVibGlzaGVyLmNyZWRlbnRpYWxzLnRyZWUuaXRlbS5rZXljaGFpblwiLFxuICBFbnZpcm9ubWVudFZhcnM6IFwicG9zaXQucHVibGlzaGVyLmNyZWRlbnRpYWxzLnRyZWUuaXRlbS5lbnZpcm9ubWVudFZhcnNcIixcbn07XG5cbmNvbnN0IGZpbGVzQ29tbWFuZHMgPSB7XG4gIFJlZnJlc2g6IFwicG9zaXQucHVibGlzaGVyLmZpbGVzLnJlZnJlc2hcIixcbiAgRXhjbHVkZTogXCJwb3NpdC5wdWJsaXNoZXIuZmlsZXMuZXhjbHVkZVwiLFxuICBJbmNsdWRlOiBcInBvc2l0LnB1Ymxpc2hlci5maWxlcy5pbmNsdWRlXCIsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBweXRob25QYWNrYWdlc0NvbW1hbmRzID0ge1xuICBFZGl0OiBcInBvc2l0LnB1Ymxpc2hlci5weXRob25QYWNrYWdlcy5lZGl0XCIsXG4gIFJlZnJlc2g6IFwicG9zaXQucHVibGlzaGVyLnB5dGhvblBhY2thZ2VzLnJlZnJlc2hcIixcbiAgU2NhbjogXCJwb3NpdC5wdWJsaXNoZXIucHl0aG9uUGFja2FnZXMuc2NhblwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgclBhY2thZ2VzQ29tbWFuZHMgPSB7XG4gIEVkaXQ6IFwicG9zaXQucHVibGlzaGVyLnJQYWNrYWdlcy5lZGl0XCIsXG4gIFJlZnJlc2g6IFwicG9zaXQucHVibGlzaGVyLnJQYWNrYWdlcy5yZWZyZXNoXCIsXG59IGFzIGNvbnN0O1xuXG5jb25zdCBob21lVmlld0NvbW1hbmRzID0ge1xuICBSZWZyZXNoOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5yZWZyZXNoXCIsXG4gIFNob3dTZWxlY3RDb25maWdGb3JEZXBsb3ltZW50OlxuICAgIFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LnNob3dTZWxlY3RDb25maWdGb3JEZXBsb3ltZW50XCIsXG4gIEFzc29jaWF0ZURlcGxveW1lbnQ6IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LmFzc29jaWF0ZURlcGxveW1lbnRcIixcbiAgQ3JlYXRlQ29uZmlnRm9yRGVwbG95bWVudDpcbiAgICBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5jcmVhdGVDb25maWdGb3JEZXBsb3ltZW50XCIsXG4gIFNlbGVjdERlcGxveW1lbnQ6IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LnNlbGVjdERlcGxveW1lbnRcIixcbiAgTmV3RGVwbG95bWVudDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcubmV3RGVwbG95bWVudFwiLFxuICBOYXZpZ2F0ZVRvRGVwbG95bWVudFNlcnZlcjpcbiAgICBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5uYXZpZ2F0ZVRvRGVwbG95bWVudC5TZXJ2ZXJcIixcbiAgTmF2aWdhdGVUb0RlcGxveW1lbnRDb250ZW50OlxuICAgIFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3Lm5hdmlnYXRlVG9EZXBsb3ltZW50LkNvbnRlbnRcIixcbiAgU2hvd0NvbnRlbnRMb2dzOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5uYXZpZ2F0ZVRvRGVwbG95bWVudC5Db250ZW50TG9nXCIsXG4gIE9wZW5GZWVkYmFjazogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcub3BlbkZlZWRiYWNrXCIsXG4gIE9wZW5HZXR0aW5nU3RhcnRlZDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuZ2V0dGluZ1N0YXJ0ZWRcIixcbiAgQWRkQ3JlZGVudGlhbDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuYWRkQ3JlZGVudGlhbFwiLFxuICBEZWxldGVDcmVkZW50aWFsOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5kZWxldGVDcmVkZW50aWFsXCIsXG4gIFJlZnJlc2hDcmVkZW50aWFsczogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcucmVmcmVzaENyZWRlbnRpYWxzXCIsXG4gIEFkZEludGVncmF0aW9uUmVxdWVzdDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuYWRkSW50ZWdyYXRpb25SZXF1ZXN0XCIsXG4gIFJlbW92ZVNlY3JldDogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcucmVtb3ZlU2VjcmV0XCIsXG4gIEVkaXRDdXJyZW50Q29uZmlndXJhdGlvbjogXCJwb3NpdC5wdWJsaXNoZXIuaG9tZVZpZXcuZWRpdC5Db25maWd1cmF0aW9uXCIsXG4gIENvcHlTeXN0ZW1JbmZvOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5jb3B5U3lzdGVtSW5mb1wiLFxuICAvLyBBZGRlZCBhdXRvbWF0aWNhbGx5IGJ5IFZTQ29kZSB3aXRoIHZpZXcgcmVnaXN0cmF0aW9uXG4gIEZvY3VzOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5mb2N1c1wiLFxufSBhcyBjb25zdDtcblxuY29uc3QgaG9tZVZpZXdDb250ZXh0cyA9IHtcbiAgSW5pdGlhbGl6ZWQ6IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LmluaXRpYWxpemVkXCIsXG4gIFVzZXJIYXNJbml0aWF0ZWREZXBsb3ltZW50OlxuICAgIFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3LnVzZXJIYXNJbml0aWF0ZWREZXBsb3ltZW50T3BlcmF0aW9uXCIsXG59O1xuXG5leHBvcnQgY29uc3QgTG9jYWxTdGF0ZSA9IHtcbiAgTGFzdFNlbGVjdGlvblN0YXRlOiBcInBvc2l0LnB1Ymxpc2hlci5ob21lVmlldy5sYXN0RGVwbG95bWVudFNlbGVjdGVkU3RhdGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBDb21tYW5kcyA9IHtcbiAgLi4uYmFzZUNvbW1hbmRzLFxuICBMb2dzOiBsb2dzQ29tbWFuZHMsXG4gIEZpbGVzOiBmaWxlc0NvbW1hbmRzLFxuICBQeXRob25QYWNrYWdlczogcHl0aG9uUGFja2FnZXNDb21tYW5kcyxcbiAgUlBhY2thZ2VzOiByUGFja2FnZXNDb21tYW5kcyxcbiAgSG9tZVZpZXc6IGhvbWVWaWV3Q29tbWFuZHMsXG59O1xuXG5leHBvcnQgY29uc3QgQ29udGV4dHMgPSB7XG4gIC4uLmJhc2VDb250ZXh0cyxcbiAgQ3JlZGVudGlhbHM6IGNyZWRlbnRpYWxzQ29udGV4dHMsXG4gIEhvbWVWaWV3OiBob21lVmlld0NvbnRleHRzLFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gVmlld3Mge1xuICBQcm9qZWN0ID0gXCJwb3NpdC5wdWJsaXNoZXIucHJvamVjdFwiLFxuICBIb21lVmlldyA9IFwicG9zaXQucHVibGlzaGVyLmhvbWVWaWV3XCIsXG4gIExvZ3MgPSBcInBvc2l0LnB1Ymxpc2hlci5sb2dzXCIsXG59XG5cbmV4cG9ydCBjb25zdCBEZWJvdW5jZURlbGF5c01TID0ge1xuICBmaWxlOiAxMDAwLFxuICByZWZyZXNoUlBhY2thZ2VzOiAxMDAwLFxuICByZWZyZXNoUHl0aG9uUGFja2FnZXM6IDEwMDAsXG59O1xuXG5leHBvcnQgY29uc3QgQ09OTkVDVF9DTE9VRF9FTlYgPSBjb25maWcuZW52O1xuZXhwb3J0IGNvbnN0IENPTk5FQ1RfQ0xPVURfU0lHTlVQX1VSTCA9IGAke2NvbmZpZy5jb25uZWN0Q2xvdWRVUkx9L2xvZ291dD9yZWRpcmVjdD0ke2NvbmZpZy5jbG91ZFVSTH0vcmVnaXN0ZXI/cmVkaXJlY3Q9YDtcbmV4cG9ydCBjb25zdCBDT05ORUNUX0NMT1VEX0FDQ09VTlRfVVJMID0gYCR7Y29uZmlnLmNvbm5lY3RDbG91ZFVSTH0vYWNjb3VudC9kb25lYDtcblxuZXhwb3J0IGNvbnN0IENPTk5FQ1RfQ0xPVURfRU5WX0hFQURFUiA9IHtcbiAgXCJDb25uZWN0LUNsb3VkLUVudmlyb25tZW50XCI6IENPTk5FQ1RfQ0xPVURfRU5WLFxufTtcbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBBZ2VudEVycm9yIH0gZnJvbSBcIi4vZXJyb3JcIjtcbmltcG9ydCB7IENvbm5lY3RDb25maWcgfSBmcm9tIFwiLi9jb25uZWN0XCI7XG5pbXBvcnQgeyBTY2hlbWFVUkwgfSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCB7IEludGVycHJldGVyRGVmYXVsdHMgfSBmcm9tIFwiLi9pbnRlcnByZXRlcnNcIjtcbmltcG9ydCB7IFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4vY29udGVudFJlY29yZHNcIjtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkxvY2F0aW9uID0ge1xuICBjb25maWd1cmF0aW9uTmFtZTogc3RyaW5nO1xuICBjb25maWd1cmF0aW9uUGF0aDogc3RyaW5nO1xuICBjb25maWd1cmF0aW9uUmVsUGF0aDogc3RyaW5nO1xuICBwcm9qZWN0RGlyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBDb25maWd1cmF0aW9uRXJyb3IgPSB7XG4gIGVycm9yOiBBZ2VudEVycm9yO1xufSAmIENvbmZpZ3VyYXRpb25Mb2NhdGlvbjtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbiA9IHtcbiAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbkRldGFpbHM7XG59ICYgQ29uZmlndXJhdGlvbkxvY2F0aW9uO1xuXG5leHBvcnQgdHlwZSBDb25maWd1cmF0aW9uSW5zcGVjdGlvblJlc3VsdCA9IHtcbiAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbkRldGFpbHM7XG4gIHByb2plY3REaXI6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBhcmVJbnNwZWN0aW9uUmVzdWx0c1NpbWlsYXJFbm91Z2ggPSAoXG4gIGluc3BlY3QxOiBDb25maWd1cmF0aW9uSW5zcGVjdGlvblJlc3VsdCxcbiAgaW5zcGVjdDI6IENvbmZpZ3VyYXRpb25JbnNwZWN0aW9uUmVzdWx0LFxuKSA9PiB7XG4gIC8vIE5vdCBjb21wYXJpbmcgQUxMIGF0dHJpYnV0ZXMsIGp1c3QgZW5vdWdoIHRvIG1haW50YWluIHVuaXF1ZW5lc3MgYW5kXG4gIC8vIGNvbmZpZGVuY2UgdGhhdCB0aGlzIGlzIGEgXCJzaW1pbGFyXCIgaW5zcGVjdGlvbiByZXN1bHRcbiAgcmV0dXJuIChcbiAgICBpbnNwZWN0MS5wcm9qZWN0RGlyID09PSBpbnNwZWN0Mi5wcm9qZWN0RGlyICYmXG4gICAgaW5zcGVjdDEuY29uZmlndXJhdGlvbi5lbnRyeXBvaW50ID09PSBpbnNwZWN0Mi5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnQgJiZcbiAgICBpbnNwZWN0MS5jb25maWd1cmF0aW9uLnR5cGUgPT09IGluc3BlY3QyLmNvbmZpZ3VyYXRpb24udHlwZVxuICApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZmlndXJhdGlvbkVycm9yKFxuICBjZmc6IENvbmZpZ3VyYXRpb24gfCBDb25maWd1cmF0aW9uRXJyb3IsXG4pOiBjZmcgaXMgQ29uZmlndXJhdGlvbkVycm9yIHtcbiAgcmV0dXJuIChjZmcgYXMgQ29uZmlndXJhdGlvbkVycm9yKS5lcnJvciAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZW51bSBDb250ZW50VHlwZSB7XG4gIEhUTUwgPSBcImh0bWxcIixcbiAgSlVQWVRFUl9OT1RFQk9PSyA9IFwianVweXRlci1ub3RlYm9va1wiLFxuICBKVVBZVEVSX1ZPSUxBID0gXCJqdXB5dGVyLXZvaWxhXCIsXG4gIFBZVEhPTl9CT0tFSCA9IFwicHl0aG9uLWJva2VoXCIsXG4gIFBZVEhPTl9EQVNIID0gXCJweXRob24tZGFzaFwiLFxuICBQWVRIT05fRkFTVEFQSSA9IFwicHl0aG9uLWZhc3RhcGlcIixcbiAgUFlUSE9OX0ZMQVNLID0gXCJweXRob24tZmxhc2tcIixcbiAgUFlUSE9OX1NISU5ZID0gXCJweXRob24tc2hpbnlcIixcbiAgUFlUSE9OX1NUUkVBTUxJVCA9IFwicHl0aG9uLXN0cmVhbWxpdFwiLFxuICBQWVRIT05fR1JBRElPID0gXCJweXRob24tZ3JhZGlvXCIsXG4gIFBZVEhPTl9QQU5FTCA9IFwicHl0aG9uLXBhbmVsXCIsXG4gIFFVQVJUT19TSElOWSA9IFwicXVhcnRvLXNoaW55XCIsXG4gIFFVQVJUTyA9IFwicXVhcnRvXCIsXG4gIFFVQVJUT19TVEFUSUMgPSBcInF1YXJ0by1zdGF0aWNcIixcbiAgUl9QTFVNQkVSID0gXCJyLXBsdW1iZXJcIixcbiAgUl9TSElOWSA9IFwici1zaGlueVwiLFxuICBSTURfU0hJTlkgPSBcInJtZC1zaGlueVwiLFxuICBSTUQgPSBcInJtZFwiLFxuICBVTktOT1dOID0gXCJ1bmtub3duXCIsXG59XG5cbmV4cG9ydCBjb25zdCBhbGxWYWxpZENvbnRlbnRUeXBlczogQ29udGVudFR5cGVbXSA9IFtcbiAgQ29udGVudFR5cGUuSFRNTCxcbiAgQ29udGVudFR5cGUuSlVQWVRFUl9OT1RFQk9PSyxcbiAgQ29udGVudFR5cGUuSlVQWVRFUl9WT0lMQSxcbiAgQ29udGVudFR5cGUuUFlUSE9OX0JPS0VILFxuICBDb250ZW50VHlwZS5QWVRIT05fREFTSCxcbiAgQ29udGVudFR5cGUuUFlUSE9OX0ZBU1RBUEksXG4gIENvbnRlbnRUeXBlLlBZVEhPTl9GTEFTSyxcbiAgQ29udGVudFR5cGUuUFlUSE9OX1NISU5ZLFxuICBDb250ZW50VHlwZS5QWVRIT05fU1RSRUFNTElULFxuICBDb250ZW50VHlwZS5QWVRIT05fR1JBRElPLFxuICBDb250ZW50VHlwZS5QWVRIT05fUEFORUwsXG4gIENvbnRlbnRUeXBlLlFVQVJUT19TSElOWSxcbiAgQ29udGVudFR5cGUuUVVBUlRPLFxuICBDb250ZW50VHlwZS5RVUFSVE9fU1RBVElDLFxuICBDb250ZW50VHlwZS5SX1BMVU1CRVIsXG4gIENvbnRlbnRUeXBlLlJfU0hJTlksXG4gIENvbnRlbnRUeXBlLlJNRF9TSElOWSxcbiAgQ29udGVudFR5cGUuUk1ELFxuXTtcblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlU3RyaW5ncyA9IHtcbiAgW0NvbnRlbnRUeXBlLkhUTUxdOiBcInNlcnZlIHByZS1yZW5kZXJlZCBIVE1MXCIsXG4gIFtDb250ZW50VHlwZS5KVVBZVEVSX05PVEVCT09LXTogXCJyZW5kZXIgd2l0aCBKdXB5dGVyIG5iY29udmVydFwiLFxuICBbQ29udGVudFR5cGUuSlVQWVRFUl9WT0lMQV06IFwicnVuIHdpdGggSnVweXRlciBWb2lsYVwiLFxuICBbQ29udGVudFR5cGUuUFlUSE9OX0JPS0VIXTogXCJydW4gd2l0aCBCb2tlaFwiLFxuICBbQ29udGVudFR5cGUuUFlUSE9OX0RBU0hdOiBcInJ1biB3aXRoIERhc2hcIixcbiAgW0NvbnRlbnRUeXBlLlBZVEhPTl9GQVNUQVBJXTogXCJydW4gd2l0aCBGYXN0QVBJXCIsXG4gIFtDb250ZW50VHlwZS5QWVRIT05fRkxBU0tdOiBcInJ1biB3aXRoIEZsYXNrXCIsXG4gIFtDb250ZW50VHlwZS5QWVRIT05fU0hJTlldOiBcInJ1biB3aXRoIFNoaW55IGZvciBQeXRob25cIixcbiAgW0NvbnRlbnRUeXBlLlBZVEhPTl9TVFJFQU1MSVRdOiBcInJ1biB3aXRoIFN0cmVhbWxpdFwiLFxuICBbQ29udGVudFR5cGUuUFlUSE9OX0dSQURJT106IFwicnVuIHdpdGggR3JhZGlvXCIsXG4gIFtDb250ZW50VHlwZS5QWVRIT05fUEFORUxdOiBcInJ1biB3aXRoIFBhbmVsXCIsXG4gIFtDb250ZW50VHlwZS5RVUFSVE9fU0hJTlldOiBcInJlbmRlciB3aXRoIFF1YXJ0byBhbmQgcnVuIGVtYmVkZGVkIFNoaW55IGFwcFwiLFxuICBbQ29udGVudFR5cGUuUVVBUlRPXTogXCJyZW5kZXIgd2l0aCBRdWFydG9cIixcbiAgW0NvbnRlbnRUeXBlLlFVQVJUT19TVEFUSUNdOiBcInJlbmRlciB3aXRoIFF1YXJ0b1wiLFxuICBbQ29udGVudFR5cGUuUl9QTFVNQkVSXTogXCJydW4gd2l0aCBQbHVtYmVyXCIsXG4gIFtDb250ZW50VHlwZS5SX1NISU5ZXTogXCJydW4gd2l0aCBTaGlueSBmb3IgUlwiLFxuICBbQ29udGVudFR5cGUuUk1EX1NISU5ZXTpcbiAgICBcInJlbmRlciB3aXRoIHJtYXJrZG93bi9rbml0ciBhbmQgcnVuIGVtYmVkZGVkIFNoaW55IGFwcFwiLFxuICBbQ29udGVudFR5cGUuUk1EXTogXCJyZW5kZXIgd2l0aCBybWFya2Rvd24va25pdHJcIixcbiAgW0NvbnRlbnRUeXBlLlVOS05PV05dOlxuICAgIFwidW5rbm93biBjb250ZW50IHR5cGU7IG1hbnVhbCBzZWxlY3Rpb24gbmVlZGVkIHRvIGRlcGxveVwiLFxufTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkRldGFpbHMgPSB7XG4gICRzY2hlbWE6IFNjaGVtYVVSTDtcbiAgYWx0ZXJuYXRpdmVzPzogQ29uZmlndXJhdGlvbkRldGFpbHNbXTtcbiAgcHJvZHVjdFR5cGU6IFByb2R1Y3RUeXBlO1xuICB0eXBlOiBDb250ZW50VHlwZTtcbiAgZW50cnlwb2ludD86IHN0cmluZztcbiAgc291cmNlPzogc3RyaW5nO1xuICB0aXRsZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHRodW1ibmFpbD86IHN0cmluZztcbiAgdGFncz86IHN0cmluZ1tdO1xuICBweXRob24/OiBQeXRob25Db25maWc7XG4gIHI/OiBSQ29uZmlnO1xuICBxdWFydG8/OiBRdWFydG9Db25maWc7XG4gIGVudmlyb25tZW50PzogRW52aXJvbm1lbnRDb25maWc7XG4gIHZhbGlkYXRlOiBib29sZWFuO1xuICBmaWxlcz86IHN0cmluZ1tdO1xuICBzZWNyZXRzPzogc3RyaW5nW107XG4gIGludGVncmF0aW9uUmVxdWVzdHM/OiBJbnRlZ3JhdGlvblJlcXVlc3RbXTtcbiAgc2NoZWR1bGVzPzogU2NoZWR1bGVDb25maWdbXTtcbiAgYWNjZXNzPzogQWNjZXNzQ29uZmlnO1xuICBjb25uZWN0PzogQ29ubmVjdENvbmZpZztcbn07XG5cbmV4cG9ydCB0eXBlIEludGVncmF0aW9uUmVxdWVzdCA9IHtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIGRpc3BsYXlEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZ3VpZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGF1dGhUeXBlPzogc3RyaW5nO1xuICB0eXBlPzogc3RyaW5nO1xuICBjb25maWc/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+O1xufTtcblxuZXhwb3J0IHR5cGUgUHl0aG9uQ29uZmlnID0ge1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIHBhY2thZ2VGaWxlOiBzdHJpbmc7XG4gIHBhY2thZ2VNYW5hZ2VyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBSQ29uZmlnID0ge1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIHBhY2thZ2VGaWxlOiBzdHJpbmc7XG4gIHBhY2thZ2VNYW5hZ2VyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBRdWFydG9Db25maWcgPSB7XG4gIHZlcnNpb246IHN0cmluZztcbiAgZW5naW5lcz86IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IHR5cGUgRW52aXJvbm1lbnRDb25maWcgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG5leHBvcnQgdHlwZSBTY2hlZHVsZUNvbmZpZyA9IHtcbiAgc3RhcnQ6IHN0cmluZztcbiAgcmVjdXJyZW5jZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IGVudW0gQWNjZXNzVHlwZSB7XG4gIEFOT05ZTU9VUyA9IFwiYWxsXCIsXG4gIExPR0dFRF9JTiA9IFwibG9nZ2VkLWluXCIsXG4gIEFDTCA9IFwiYWNsXCIsXG59XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc0NvbmZpZyA9IHtcbiAgdHlwZTogQWNjZXNzVHlwZTtcbiAgdXNlcnM/OiBVc2VyW107XG4gIGdyb3Vwcz86IEdyb3VwW107XG59O1xuXG5leHBvcnQgdHlwZSBVc2VyID0ge1xuICBpZD86IHN0cmluZztcbiAgZ3VpZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgcGVybWlzc2lvbnM6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEdyb3VwID0ge1xuICBpZD86IHN0cmluZztcbiAgZ3VpZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgcGVybWlzc2lvbnM6IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVBbGxDb25maWdzV2l0aERlZmF1bHRzKFxuICBjb25maWdzOiAoQ29uZmlndXJhdGlvbiB8IENvbmZpZ3VyYXRpb25FcnJvcilbXSxcbiAgZGVmYXVsdHM6IEludGVycHJldGVyRGVmYXVsdHMsXG4pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uZmlnc1tpXSA9IFVwZGF0ZUNvbmZpZ1dpdGhEZWZhdWx0cyhjb25maWdzW2ldLCBkZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIGNvbmZpZ3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVDb25maWdXaXRoRGVmYXVsdHMoXG4gIGNvbmZpZzogQ29uZmlndXJhdGlvbiB8IENvbmZpZ3VyYXRpb25FcnJvcixcbiAgZGVmYXVsdHM6IEludGVycHJldGVyRGVmYXVsdHMsXG4pIHtcbiAgaWYgKGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgLy8gRmlsbCBpbiBlbXB0eSBkZWZpbml0aW9ucyB3aXRoIHRoZSBjdXJyZW50IGRlZmF1bHRzXG4gIC8vIGJ1dCBvbmx5IGlmIHRoZSBzZWN0aW9uIGlzIGRlZmluZWQgKHdoaWNoIGluZGljYXRlcyB0aGUgZGVwZW5kZW5jeSlcbiAgaWYgKGNvbmZpZy5jb25maWd1cmF0aW9uLnIgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghY29uZmlnLmNvbmZpZ3VyYXRpb24uci52ZXJzaW9uKSB7XG4gICAgICBjb25maWcuY29uZmlndXJhdGlvbi5yLnZlcnNpb24gPSBkZWZhdWx0cy5yLnZlcnNpb247XG4gICAgfVxuICAgIGlmICghY29uZmlnLmNvbmZpZ3VyYXRpb24uci5wYWNrYWdlRmlsZSkge1xuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24uci5wYWNrYWdlRmlsZSA9IGRlZmF1bHRzLnIucGFja2FnZUZpbGU7XG4gICAgfVxuICAgIGlmICghY29uZmlnLmNvbmZpZ3VyYXRpb24uci5wYWNrYWdlTWFuYWdlcikge1xuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24uci5wYWNrYWdlTWFuYWdlciA9IGRlZmF1bHRzLnIucGFja2FnZU1hbmFnZXI7XG4gICAgfVxuICB9XG4gIGlmIChjb25maWcuY29uZmlndXJhdGlvbi5weXRob24gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghY29uZmlnLmNvbmZpZ3VyYXRpb24ucHl0aG9uLnZlcnNpb24pIHtcbiAgICAgIGNvbmZpZy5jb25maWd1cmF0aW9uLnB5dGhvbi52ZXJzaW9uID0gZGVmYXVsdHMucHl0aG9uLnZlcnNpb247XG4gICAgfVxuICAgIGlmICghY29uZmlnLmNvbmZpZ3VyYXRpb24ucHl0aG9uLnBhY2thZ2VGaWxlKSB7XG4gICAgICBjb25maWcuY29uZmlndXJhdGlvbi5weXRob24ucGFja2FnZUZpbGUgPSBkZWZhdWx0cy5weXRob24ucGFja2FnZUZpbGU7XG4gICAgfVxuICAgIGlmICghY29uZmlnLmNvbmZpZ3VyYXRpb24ucHl0aG9uLnBhY2thZ2VNYW5hZ2VyKSB7XG4gICAgICBjb25maWcuY29uZmlndXJhdGlvbi5weXRob24ucGFja2FnZU1hbmFnZXIgPVxuICAgICAgICBkZWZhdWx0cy5weXRob24ucGFja2FnZU1hbmFnZXI7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWc7XG59XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjUgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgQWdlbnRFcnJvciB9IGZyb20gXCIuL2Vycm9yXCI7XG5pbXBvcnQge1xuICBDb25maWd1cmF0aW9uLFxuICBDb25maWd1cmF0aW9uTG9jYXRpb24sXG4gIENvbnRlbnRUeXBlLFxufSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuaW1wb3J0IHsgU2NoZW1hVVJMIH0gZnJvbSBcIi4vc2NoZW1hXCI7XG5cbmV4cG9ydCBlbnVtIFNlcnZlclR5cGUge1xuICBDT05ORUNUID0gXCJjb25uZWN0XCIsXG4gIENPTk5FQ1RfQ0xPVUQgPSBcImNvbm5lY3RfY2xvdWRcIixcbiAgU05PV0ZMQUtFID0gXCJzbm93Zmxha2VcIixcbn1cblxuZXhwb3J0IGVudW0gUHJvZHVjdFR5cGUge1xuICBDT05ORUNUID0gXCJjb25uZWN0XCIsXG4gIENPTk5FQ1RfQ0xPVUQgPSBcImNvbm5lY3RfY2xvdWRcIixcbn1cblxuZXhwb3J0IGVudW0gUHJvZHVjdE5hbWUge1xuICBDT05ORUNUID0gXCJQb3NpdCBDb25uZWN0XCIsXG4gIENPTk5FQ1RfQ0xPVUQgPSBcIlBvc2l0IENvbm5lY3QgQ2xvdWRcIixcbn1cblxuZXhwb3J0IGVudW0gUHJvZHVjdERlc2NyaXB0aW9uIHtcbiAgQ09OTkVDVCA9IFwiRGVwbG95IGRhdGEgYXBwbGljYXRpb25zLCBkb2N1bWVudHMsIEFQSXMsIGFuZCBtb3JlIHRvIHlvdXIgc2VydmVyLlwiLFxuICBDT05ORUNUX0NMT1VEID0gXCJEZXBsb3kgZGF0YSBhcHBsaWNhdGlvbnMgYW5kIGRvY3VtZW50cyBvbmxpbmUuIEZyZWUgcGxhbiBhdmFpbGFibGUuXCIsXG59XG5cbmV4cG9ydCBlbnVtIENvbnRlbnRSZWNvcmRTdGF0ZSB7XG4gIE5FVyA9IFwibmV3XCIsXG4gIERFUExPWUVEID0gXCJkZXBsb3llZFwiLFxuICBFUlJPUiA9IFwiZXJyb3JcIixcbn1cblxuZXhwb3J0IHR5cGUgQ29udGVudFJlY29yZExvY2F0aW9uID0ge1xuICBkZXBsb3ltZW50TmFtZTogc3RyaW5nO1xuICBkZXBsb3ltZW50UGF0aDogc3RyaW5nO1xuICBwcm9qZWN0RGlyOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBDb250ZW50UmVjb3JkRXJyb3IgPSB7XG4gIGVycm9yOiBBZ2VudEVycm9yO1xuICBzdGF0ZTogQ29udGVudFJlY29yZFN0YXRlLkVSUk9SO1xufSAmIENvbnRlbnRSZWNvcmRMb2NhdGlvbjtcblxudHlwZSBPcHRpb25hbFByZURlcGxveW1lbnRGaWVsZHMgPSB7XG4gIGlkPzogc3RyaW5nO1xuICBidW5kbGVVcmw/OiBzdHJpbmc7XG4gIGRhc2hib2FyZFVybD86IHN0cmluZztcbiAgZGlyZWN0VXJsPzogc3RyaW5nO1xufTtcblxudHlwZSBDb25uZWN0Q2xvdWQgPSB7XG4gIGFjY291bnROYW1lOiBzdHJpbmc7XG59O1xuXG50eXBlIENvbnRlbnRSZWNvcmRSZWNvcmQgPSB7XG4gICRzY2hlbWE6IFNjaGVtYVVSTDtcbiAgc2VydmVyVHlwZTogU2VydmVyVHlwZTtcbiAgc2VydmVyVXJsOiBzdHJpbmc7XG4gIHNhdmVOYW1lOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBkaXNtaXNzZWRBdDogc3RyaW5nO1xuICBjb25maWd1cmF0aW9uTmFtZTogc3RyaW5nO1xuICB0eXBlOiBDb250ZW50VHlwZTtcbiAgZGVwbG95bWVudEVycm9yOiBBZ2VudEVycm9yIHwgbnVsbDtcbiAgY29ubmVjdENsb3VkOiBDb25uZWN0Q2xvdWQgfCBudWxsO1xufSAmIENvbnRlbnRSZWNvcmRMb2NhdGlvbjtcblxuZXhwb3J0IHR5cGUgUHJlQ29udGVudFJlY29yZCA9IHtcbiAgc3RhdGU6IENvbnRlbnRSZWNvcmRTdGF0ZS5ORVc7XG59ICYgQ29udGVudFJlY29yZFJlY29yZCAmXG4gIE9wdGlvbmFsUHJlRGVwbG95bWVudEZpZWxkcztcblxuZXhwb3J0IHR5cGUgUHJlQ29udGVudFJlY29yZFdpdGhDb25maWcgPSBQcmVDb250ZW50UmVjb3JkICZcbiAgQ29uZmlndXJhdGlvbkxvY2F0aW9uO1xuXG5leHBvcnQgdHlwZSBDb250ZW50UmVjb3JkID0ge1xuICBpZDogc3RyaW5nO1xuICBidW5kbGVJZDogc3RyaW5nO1xuICBidW5kbGVVcmw6IHN0cmluZztcbiAgZGFzaGJvYXJkVXJsOiBzdHJpbmc7XG4gIGRpcmVjdFVybDogc3RyaW5nO1xuICBsb2dzVXJsOiBzdHJpbmc7XG4gIGZpbGVzOiBzdHJpbmdbXTtcbiAgZGVwbG95ZWRBdDogc3RyaW5nO1xuICBzdGF0ZTogQ29udGVudFJlY29yZFN0YXRlLkRFUExPWUVEO1xufSAmIENvbnRlbnRSZWNvcmRSZWNvcmQgJlxuICBDb25maWd1cmF0aW9uO1xuXG5leHBvcnQgdHlwZSBBbGxDb250ZW50UmVjb3JkVHlwZXMgPVxuICB8IENvbnRlbnRSZWNvcmRcbiAgfCBQcmVDb250ZW50UmVjb3JkXG4gIHwgUHJlQ29udGVudFJlY29yZFdpdGhDb25maWdcbiAgfCBDb250ZW50UmVjb3JkRXJyb3I7XG5cbmV4cG9ydCB0eXBlIEVudmlyb25tZW50ID0gQXJyYXk8c3RyaW5nPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VjY2Vzc2Z1bChcbiAgZDogQWxsQ29udGVudFJlY29yZFR5cGVzIHwgdW5kZWZpbmVkLFxuKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gIGlmIChkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc0NvbnRlbnRSZWNvcmRFcnJvcihkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gQm9vbGVhbighZC5kZXBsb3ltZW50RXJyb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbnN1Y2Nlc3NmdWwoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGJvb2xlYW4gfCB1bmRlZmluZWQge1xuICBjb25zdCByZXN1bHQgPSBpc1N1Y2Nlc3NmdWwoZCk7XG4gIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuICFyZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRlbnRSZWNvcmRFcnJvcihcbiAgZDogQWxsQ29udGVudFJlY29yZFR5cGVzIHwgdW5kZWZpbmVkLFxuKTogZCBpcyBDb250ZW50UmVjb3JkRXJyb3Ige1xuICByZXR1cm4gQm9vbGVhbihkICYmIGQuc3RhdGUgPT09IENvbnRlbnRSZWNvcmRTdGF0ZS5FUlJPUik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZUNvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgUHJlQ29udGVudFJlY29yZCB7XG4gIHJldHVybiBCb29sZWFuKGQgJiYgZC5zdGF0ZSA9PT0gQ29udGVudFJlY29yZFN0YXRlLk5FVyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZUNvbnRlbnRSZWNvcmRXaXRoQ29uZmlnKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBkIGlzIFByZUNvbnRlbnRSZWNvcmRXaXRoQ29uZmlnIHtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgZCAmJlxuICAgICAgZC5zdGF0ZSA9PT0gQ29udGVudFJlY29yZFN0YXRlLk5FVyAmJlxuICAgICAgKGQgYXMgUHJlQ29udGVudFJlY29yZFdpdGhDb25maWcpLmNvbmZpZ3VyYXRpb25OYW1lICE9PSB1bmRlZmluZWQsXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1Y2Nlc3NmdWxQcmVDb250ZW50UmVjb3JkKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBkIGlzIFByZUNvbnRlbnRSZWNvcmQge1xuICBpZiAoaXNQcmVDb250ZW50UmVjb3JkKGQpKSB7XG4gICAgY29uc3Qgc3VjY2VzcyA9IGlzU3VjY2Vzc2Z1bChkKTtcbiAgICBpZiAoc3VjY2VzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbnN1Y2Nlc3NmdWxQcmVDb250ZW50UmVjb3JkKFxuICBkOiBBbGxDb250ZW50UmVjb3JkVHlwZXMgfCB1bmRlZmluZWQsXG4pOiBkIGlzIFByZUNvbnRlbnRSZWNvcmQge1xuICBpZiAoaXNQcmVDb250ZW50UmVjb3JkKGQpKSB7XG4gICAgY29uc3QgZmFpbHVyZSA9IGlzVW5zdWNjZXNzZnVsKGQpO1xuICAgIGlmIChmYWlsdXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWlsdXJlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZCB7XG4gIHJldHVybiBCb29sZWFuKGQgJiYgZC5zdGF0ZSA9PT0gQ29udGVudFJlY29yZFN0YXRlLkRFUExPWUVEKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VjY2Vzc2Z1bENvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZCB7XG4gIGlmIChpc0NvbnRlbnRSZWNvcmQoZCkpIHtcbiAgICBjb25zdCBzdWNjZXNzID0gaXNTdWNjZXNzZnVsKGQpO1xuICAgIGlmIChzdWNjZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Vuc3VjY2Vzc2Z1bENvbnRlbnRSZWNvcmQoXG4gIGQ6IEFsbENvbnRlbnRSZWNvcmRUeXBlcyB8IHVuZGVmaW5lZCxcbik6IGQgaXMgQ29udGVudFJlY29yZCB7XG4gIGlmIChpc0NvbnRlbnRSZWNvcmQoZCkpIHtcbiAgICBjb25zdCBmYWlsdXJlID0gaXNVbnN1Y2Nlc3NmdWwoZCk7XG4gICAgaWYgKGZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhaWx1cmU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5leHBvcnQgZW51bSBDb250ZW50UmVjb3JkRmlsZVR5cGUge1xuICBSRUdVTEFSID0gXCJSRUdVTEFSXCIsXG4gIERJUkVDVE9SWSA9IFwiRElSXCIsXG59XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRSZWNvcmRGaWxlID0ge1xuICBpZDogc3RyaW5nO1xuICBmaWxlVHlwZTogQ29udGVudFJlY29yZEZpbGVUeXBlO1xuICBiYXNlOiBzdHJpbmc7XG4gIHJlYXNvbjogRmlsZU1hdGNoIHwgbnVsbDsgLy8gcGF0dGVybiB0aGF0IG1hdGNoZWQgYSBmaWxlLCBudWxsIGlmIG5vIG1hdGNoXG4gIGZpbGVzOiBDb250ZW50UmVjb3JkRmlsZVtdO1xuICBpc0RpcjogYm9vbGVhbjtcbiAgaXNGaWxlOiBib29sZWFuO1xuICBtb2RpZmllZERhdGV0aW1lOiBzdHJpbmc7XG4gIHJlbDogc3RyaW5nO1xuICByZWxEaXI6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICBmaWxlQ291bnQ6IG51bWJlcjtcbiAgYWJzOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZW51bSBGaWxlTWF0Y2hTb3VyY2Uge1xuICBGSUxFID0gXCJmaWxlXCIsXG4gIEJVSUxUX0lOID0gXCJidWlsdC1pblwiLFxuICBQRVJNSVNTSU9OU19FUlJPUiA9IFwicGVybWlzc2lvbnNcIixcbn1cblxuZXhwb3J0IHR5cGUgRmlsZU1hdGNoID0ge1xuICBzb3VyY2U6IEZpbGVNYXRjaFNvdXJjZTtcbiAgcGF0dGVybjogc3RyaW5nO1xuICBmaWxlTmFtZTogc3RyaW5nO1xuICBmaWxlUGF0aDogc3RyaW5nO1xuICBleGNsdWRlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGVudW0gRmlsZUFjdGlvbiB7XG4gIElOQ0xVREUgPSBcImluY2x1ZGVcIixcbiAgRVhDTFVERSA9IFwiZXhjbHVkZVwiLFxufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmV4cG9ydCBlbnVtIEVycm9yTWVzc2FnZUFjdGlvbklkcyB7XG4gIEVkaXRDb25maWd1cmF0aW9uLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvck1lc3NhZ2VBY3Rpb25JZChcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgc2VhcmNoVmFsdWU6IGFueSxcbik6IHNlYXJjaFZhbHVlIGlzIEVycm9yTWVzc2FnZUFjdGlvbklkcyB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKEVycm9yTWVzc2FnZUFjdGlvbklkcykuaW5jbHVkZXMoc2VhcmNoVmFsdWUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uIHtcbiAgZGV0ZWN0aW9uU3RyOiBzdHJpbmc7XG4gIGFuY2hvclN0cj86IHN0cmluZztcbiAgYnV0dG9uU3RyPzogc3RyaW5nO1xuICBhY3Rpb25JZDogRXJyb3JNZXNzYWdlQWN0aW9uSWRzO1xufVxuXG5leHBvcnQgY29uc3QgRXJyb3JNZXNzYWdlU3BsaXRPcHRpb25zOiBFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbltdID0gW1xuICB7XG4gICAgZGV0ZWN0aW9uU3RyOiBcImVkaXRpbmcgeW91ciBjb25maWd1cmF0aW9uXCIsXG4gICAgYW5jaG9yU3RyOiBcImVkaXRpbmdcIixcbiAgICBidXR0b25TdHI6IFwiRWRpdCBDb25maWd1cmF0aW9uXCIsXG4gICAgYWN0aW9uSWQ6IEVycm9yTWVzc2FnZUFjdGlvbklkcy5FZGl0Q29uZmlndXJhdGlvbixcbiAgfSxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24oXG4gIGFjdGlvbklkOiBFcnJvck1lc3NhZ2VBY3Rpb25JZHMsXG4pOiBFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbiB8IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBmaW5kRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24oXG4gIGVycm9yTWVzc2FnZTogc3RyaW5nLFxuKTogRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24gfCB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gZmluZEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uKFxuICB0YXJnZXQ6IEVycm9yTWVzc2FnZUFjdGlvbklkcyB8IHN0cmluZyxcbik6IEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIEVycm9yTWVzc2FnZVNwbGl0T3B0aW9ucy5maW5kKChvcHRpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRhcmdldC5pbmNsdWRlcyhvcHRpb24uZGV0ZWN0aW9uU3RyKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3JNZXNzYWdlQWN0aW9uSWQodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIG9wdGlvbi5hY3Rpb25JZCA9PT0gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IEludGVncmF0aW9uUmVxdWVzdCB9IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IERlcGxveW1lbnRTZWxlY3RvciB9IGZyb20gXCIuLi9zaGFyZWRcIjtcblxuZXhwb3J0IGVudW0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIHtcbiAgLy8gU2VudCBmcm9tIHdlYnZpZXdWaWV3IHRvIGhvc3RcbiAgREVQTE9ZID0gXCJkZXBsb3lcIixcbiAgSU5JVElBTElaSU5HID0gXCJpbml0aWFsaXppbmdcIixcbiAgRURJVF9DT05GSUdVUkFUSU9OID0gXCJlZGl0Q29uZmlndXJhdGlvblwiLFxuICBTSE9XX1NFTEVDVF9DT05GSUdVUkFUSU9OID0gXCJzaG93U2VsZWN0Q29uZmlndXJhdGlvblwiLFxuICBOQVZJR0FURSA9IFwibmF2aWdhdGVcIixcbiAgU0FWRV9TRUxFQ1RJT05fU1RBVEUgPSBcInNhdmVTZWxlY3Rpb25TdGF0ZVwiLFxuICBWU0NPREVfT1BFTiA9IFwidnNDb2RlT3BlblwiLFxuICBJTkNMVURFX0ZJTEUgPSBcImluY2x1ZGVGaWxlXCIsXG4gIEVYQ0xVREVfRklMRSA9IFwiZXhjbHVkZUZpbGVcIixcbiAgUkVRVUVTVF9GSUxFU19MSVNUUyA9IFwicmVxdWVzdEZpbGVzTGlzdHNcIixcbiAgUkVRVUVTVF9DUkVERU5USUFMUyA9IFwicmVxdWVzdENyZWRlbnRpYWxzXCIsXG4gIFZTQ09ERV9PUEVOX1JFTEFUSVZFID0gXCJWU0NvZGVPcGVuUmVsYXRpdmVNc2dcIixcbiAgQUREX1NFQ1JFVCA9IFwiYWRkU2VjcmV0XCIsXG4gIEdFVF9JTlRFR1JBVElPTlMgPSBcImdldEludGVncmF0aW9uc1wiLFxuICBBRERfSU5URUdSQVRJT05fUkVRVUVTVCA9IFwiYWRkSW50ZWdyYXRpb25SZXF1ZXN0XCIsXG4gIERFTEVURV9JTlRFR1JBVElPTl9SRVFVRVNUID0gXCJkZWxldGVJbnRlZ3JhdGlvblJlcXVlc3RcIixcbiAgQ0xFQVJfQUxMX0lOVEVHUkFUSU9OX1JFUVVFU1RTID0gXCJjbGVhckFsbEludGVncmF0aW9uUmVxdWVzdHNcIixcbiAgUkVGUkVTSF9QWVRIT05fUEFDS0FHRVMgPSBcIlJlZnJlc2hQeXRob25QYWNrYWdlc01zZ1wiLFxuICBTQ0FOX1BZVEhPTl9QQUNLQUdFX1JFUVVJUkVNRU5UUyA9IFwiU2NhblB5dGhvblBhY2thZ2VSZXF1aXJlbWVudHNNc2dcIixcbiAgUkVGUkVTSF9SX1BBQ0tBR0VTID0gXCJSZWZyZXNoUlBhY2thZ2VzTXNnXCIsXG4gIFNDQU5fUl9QQUNLQUdFX1JFUVVJUkVNRU5UUyA9IFwiU2NhblJQYWNrYWdlUmVxdWlyZW1lbnRzTXNnXCIsXG4gIFNFTEVDVF9ERVBMT1lNRU5UID0gXCJzZWxlY3REZXBsb3ltZW50XCIsXG4gIE5FV19ERVBMT1lNRU5UID0gXCJuZXdEZXBsb3ltZW50XCIsXG4gIE5FV19DUkVERU5USUFMX0ZPUl9ERVBMT1lNRU5UID0gXCJuZXdDcmVkZW50aWFsRm9yRGVwbG95bWVudFwiLFxuICBORVdfQ1JFREVOVElBTCA9IFwibmV3Q3JlZGVudGlhbFwiLFxuICBERUxFVEVfQ1JFREVOVElBTCA9IFwiZGVsZXRlQ3JlZGVudGlhbFwiLFxuICBWSUVXX1BVQkxJU0hJTkdfTE9HID0gXCJ2aWV3UHVibGlzaGluZ0xvZ1wiLFxuICBTSE9XX0FTU09DSUFURV9HVUlEID0gXCJTaG93QXNzb2NpYXRlR1VJRFwiLFxuICBVUERBVEVfU0VMRUNUSU9OX0NSRURFTlRJQUxfU1RBVEUgPSBcIlVwZGF0ZVNlbGVjdGlvbkNyZWRlbnRpYWxTdGF0ZU1zZ1wiLFxuICBVUERBVEVfU0VMRUNUSU9OX0lTX1BSRV9DT05URU5UX1JFQ09SRCA9IFwiVXBkYXRlU2VsZWN0aW9uSXNQcmVDb250ZW50UmVjb3JkTXNnXCIsXG4gIENPUFlfU1lTVEVNX0lORk8gPSBcImNvcHlTeXN0ZW1JbmZvXCIsXG4gIFJFTkRFUl9DT05URU5UID0gXCJyZW5kZXJDb250ZW50XCIsXG59XG5cbmV4cG9ydCB0eXBlIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBUIGV4dGVuZHMgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLFxuICBVIGV4dGVuZHMgb2JqZWN0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuPiA9IFUgZXh0ZW5kcyB1bmRlZmluZWRcbiAgPyB7IGtpbmQ6IFQgfVxuICA6IHtcbiAgICAgIGtpbmQ6IFQ7XG4gICAgICBjb250ZW50OiBVO1xuICAgIH07XG5cbmV4cG9ydCB0eXBlIFdlYnZpZXdUb0hvc3RNZXNzYWdlID1cbiAgfCBEZXBsb3lNc2dcbiAgfCBJbml0aWFsaXppbmdNc2dcbiAgfCBFZGl0Q29uZmlndXJhdGlvbk1zZ1xuICB8IFNob3dTZWxlY3RDb25maWd1cmF0aW9uTXNnXG4gIHwgTmF2aWdhdGVNc2dcbiAgfCBTYXZlU2VsZWN0aW9uU3RhdGVkTXNnXG4gIHwgVlNDb2RlT3Blbk1zZ1xuICB8IEluY2x1ZGVGaWxlTXNnXG4gIHwgRXhjbHVkZUZpbGVNc2dcbiAgfCBSZXF1ZXN0RmlsZXNMaXN0c01zZ1xuICB8IFJlcXVlc3RDcmVkZW50aWFsc01zZ1xuICB8IEFkZFNlY3JldE1zZ1xuICB8IFJlZnJlc2hQeXRob25QYWNrYWdlc01zZ1xuICB8IFZTQ29kZU9wZW5SZWxhdGl2ZU1zZ1xuICB8IFNjYW5QeXRob25QYWNrYWdlUmVxdWlyZW1lbnRzTXNnXG4gIHwgUmVmcmVzaFJQYWNrYWdlc01zZ1xuICB8IFNjYW5SUGFja2FnZVJlcXVpcmVtZW50c01zZ1xuICB8IFNlbGVjdERlcGxveW1lbnRNc2dcbiAgfCBOZXdEZXBsb3ltZW50TXNnXG4gIHwgTmV3Q3JlZGVudGlhbEZvckRlcGxveW1lbnRNc2dcbiAgfCBOZXdDcmVkZW50aWFsTXNnXG4gIHwgRGVsZXRlQ3JlZGVudGlhbE1zZ1xuICB8IFZpZXdQdWJsaXNoaW5nTG9nXG4gIHwgU2hvd0Fzc29jaWF0ZUdVSURNc2dcbiAgfCBVcGRhdGVTZWxlY3Rpb25DcmVkZW50aWFsU3RhdGVNc2dcbiAgfCBVcGRhdGVTZWxlY3Rpb25Jc1ByZUNvbnRlbnRSZWNvcmRNc2dcbiAgfCBDb3B5U3lzdGVtSW5mb01zZ1xuICB8IEFkZEludGVncmF0aW9uUmVxdWVzdE1zZ1xuICB8IERlbGV0ZUludGVncmF0aW9uUmVxdWVzdE1zZ1xuICB8IENsZWFyQWxsSW50ZWdyYXRpb25SZXF1ZXN0c01zZ1xuICB8IFJlbmRlckNvbnRlbnRNc2c7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gaXNXZWJ2aWV3VG9Ib3N0TWVzc2FnZShtc2c6IGFueSk6IG1zZyBpcyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSB7XG4gIHJldHVybiAoXG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERVBMT1kgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkVESVRfQ09ORklHVVJBVElPTiB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuSU5JVElBTElaSU5HIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5OQVZJR0FURSB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19TRUxFQ1RfQ09ORklHVVJBVElPTiB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT05fU1RBVEUgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5JTkNMVURFX0ZJTEUgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkVYQ0xVREVfRklMRSB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVRVUVTVF9GSUxFU19MSVNUUyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVRVUVTVF9DUkVERU5USUFMUyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQUREX1NFQ1JFVCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9QWVRIT05fUEFDS0FHRVMgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQ0FOX1BZVEhPTl9QQUNLQUdFX1JFUVVJUkVNRU5UUyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9SX1BBQ0tBR0VTIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQ0FOX1JfUEFDS0FHRV9SRVFVSVJFTUVOVFMgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNFTEVDVF9ERVBMT1lNRU5UIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ORVdfREVQTE9ZTUVOVCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0NSRURFTlRJQUxfRk9SX0RFUExPWU1FTlQgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5FV19DUkVERU5USUFMIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfQ1JFREVOVElBTCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVklFV19QVUJMSVNISU5HX0xPRyB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19BU1NPQ0lBVEVfR1VJRCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9DUkVERU5USUFMX1NUQVRFIHx8XG4gICAgbXNnLmtpbmQgPT09XG4gICAgICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9JU19QUkVfQ09OVEVOVF9SRUNPUkQgfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkNPUFlfU1lTVEVNX0lORk8gfHxcbiAgICBtc2cua2luZCA9PT0gV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkFERF9JTlRFR1JBVElPTl9SRVFVRVNUIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfSU5URUdSQVRJT05fUkVRVUVTVCB8fFxuICAgIG1zZy5raW5kID09PSBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQ0xFQVJfQUxMX0lOVEVHUkFUSU9OX1JFUVVFU1RTIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5HRVRfSU5URUdSQVRJT05TIHx8XG4gICAgbXNnLmtpbmQgPT09IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRU5ERVJfQ09OVEVOVFxuICApO1xufVxuXG5leHBvcnQgdHlwZSBEZXBsb3lNc2cgPSBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkRFUExPWSxcbiAge1xuICAgIGRlcGxveW1lbnROYW1lOiBzdHJpbmc7XG4gICAgY3JlZGVudGlhbE5hbWU6IHN0cmluZztcbiAgICBjb25maWd1cmF0aW9uTmFtZTogc3RyaW5nO1xuICAgIHByb2plY3REaXI6IHN0cmluZztcbiAgICBzZWNyZXRzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6aW5nTXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLklOSVRJQUxJWklORz47XG5cbmV4cG9ydCB0eXBlIEVkaXRDb25maWd1cmF0aW9uU2VsZWN0aW9uID0ge1xuICAvLyBudW1iZXJzIGJlbG93IGFyZSBiYXNlLXplcm9cbiAgc3RhcnQ6IHtcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY2hhcmFjdGVyOiBudW1iZXI7XG4gIH07XG4gIGVuZD86IHtcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY2hhcmFjdGVyOiBudW1iZXI7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBFZGl0Q29uZmlndXJhdGlvbk1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuRURJVF9DT05GSUdVUkFUSU9OLFxuICB7XG4gICAgY29uZmlndXJhdGlvblBhdGg6IHN0cmluZztcbiAgICBzZWxlY3Rpb24/OiBFZGl0Q29uZmlndXJhdGlvblNlbGVjdGlvbjtcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgU2hvd1NlbGVjdENvbmZpZ3VyYXRpb25Nc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19TRUxFQ1RfQ09ORklHVVJBVElPTj47XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRlTXNnID0gQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5OQVZJR0FURSxcbiAge1xuICAgIHVyaVBhdGg6IHN0cmluZztcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgU2F2ZVNlbGVjdGlvblN0YXRlZE1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT05fU1RBVEUsXG4gIHtcbiAgICBzdGF0ZTogRGVwbG95bWVudFNlbGVjdG9yO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBWU0NvZGVPcGVuTXNnID0gQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5WU0NPREVfT1BFTixcbiAge1xuICAgIHVyaTogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBJbmNsdWRlRmlsZU1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuSU5DTFVERV9GSUxFLFxuICB7XG4gICAgcGF0aDogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBFeGNsdWRlRmlsZU1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuRVhDTFVERV9GSUxFLFxuICB7XG4gICAgcGF0aDogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBSZXF1ZXN0RmlsZXNMaXN0c01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRVFVRVNUX0ZJTEVTX0xJU1RTPjtcblxuZXhwb3J0IHR5cGUgUmVxdWVzdENyZWRlbnRpYWxzTXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlJFUVVFU1RfQ1JFREVOVElBTFM+O1xuXG5leHBvcnQgdHlwZSBBZGRTZWNyZXRNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQUREX1NFQ1JFVD47XG5cbmV4cG9ydCB0eXBlIEFkZEludGVncmF0aW9uUmVxdWVzdE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5BRERfSU5URUdSQVRJT05fUkVRVUVTVD47XG5cbmV4cG9ydCB0eXBlIERlbGV0ZUludGVncmF0aW9uUmVxdWVzdE1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuREVMRVRFX0lOVEVHUkFUSU9OX1JFUVVFU1QsXG4gIHtcbiAgICByZXF1ZXN0OiBJbnRlZ3JhdGlvblJlcXVlc3Q7XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIENsZWFyQWxsSW50ZWdyYXRpb25SZXF1ZXN0c01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5DTEVBUl9BTExfSU5URUdSQVRJT05fUkVRVUVTVFM+O1xuXG5leHBvcnQgdHlwZSBSZWZyZXNoUHl0aG9uUGFja2FnZXNNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVGUkVTSF9QWVRIT05fUEFDS0FHRVM+O1xuXG5leHBvcnQgdHlwZSBWU0NvZGVPcGVuUmVsYXRpdmVNc2cgPSBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFLFxuICB7XG4gICAgcmVsYXRpdmVQYXRoOiBzdHJpbmc7XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFNjYW5QeXRob25QYWNrYWdlUmVxdWlyZW1lbnRzTXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNDQU5fUFlUSE9OX1BBQ0tBR0VfUkVRVUlSRU1FTlRTPjtcblxuZXhwb3J0IHR5cGUgUmVmcmVzaFJQYWNrYWdlc01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRUZSRVNIX1JfUEFDS0FHRVM+O1xuXG5leHBvcnQgdHlwZSBTY2FuUlBhY2thZ2VSZXF1aXJlbWVudHNNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0NBTl9SX1BBQ0tBR0VfUkVRVUlSRU1FTlRTPjtcblxuZXhwb3J0IHR5cGUgU2VsZWN0RGVwbG95bWVudE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TRUxFQ1RfREVQTE9ZTUVOVD47XG5cbmV4cG9ydCB0eXBlIE5ld0RlcGxveW1lbnRNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0RFUExPWU1FTlQ+O1xuXG5leHBvcnQgdHlwZSBOZXdDcmVkZW50aWFsRm9yRGVwbG95bWVudE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ORVdfQ1JFREVOVElBTF9GT1JfREVQTE9ZTUVOVD47XG5cbmV4cG9ydCB0eXBlIE5ld0NyZWRlbnRpYWxNc2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0NSRURFTlRJQUw+O1xuXG5leHBvcnQgdHlwZSBEZWxldGVDcmVkZW50aWFsTXNnID0gQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfQ1JFREVOVElBTCxcbiAge1xuICAgIGNyZWRlbnRpYWxHVUlEOiBzdHJpbmc7XG4gICAgY3JlZGVudGlhbE5hbWU6IHN0cmluZztcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgVmlld1B1Ymxpc2hpbmdMb2cgPVxuICBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVklFV19QVUJMSVNISU5HX0xPRz47XG5cbmV4cG9ydCB0eXBlIFNob3dBc3NvY2lhdGVHVUlETXNnID1cbiAgQW55V2Vidmlld1RvSG9zdE1lc3NhZ2U8V2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNIT1dfQVNTT0NJQVRFX0dVSUQ+O1xuXG5leHBvcnQgdHlwZSBVcGRhdGVTZWxlY3Rpb25DcmVkZW50aWFsU3RhdGVNc2cgPSBBbnlXZWJ2aWV3VG9Ib3N0TWVzc2FnZTxcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlVQREFURV9TRUxFQ1RJT05fQ1JFREVOVElBTF9TVEFURSxcbiAge1xuICAgIHN0YXRlOiBzdHJpbmc7XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZVNlbGVjdGlvbklzUHJlQ29udGVudFJlY29yZE1zZyA9IEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9JU19QUkVfQ09OVEVOVF9SRUNPUkQsXG4gIHtcbiAgICBzdGF0ZTogc3RyaW5nO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBDb3B5U3lzdGVtSW5mb01zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5DT1BZX1NZU1RFTV9JTkZPPjtcblxuZXhwb3J0IHR5cGUgUmVuZGVyQ29udGVudE1zZyA9XG4gIEFueVdlYnZpZXdUb0hvc3RNZXNzYWdlPFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRU5ERVJfQ09OVEVOVD47XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHtcbiAgQ29uZmlndXJhdGlvbixcbiAgQ29uZmlndXJhdGlvbkVycm9yLFxuICBDb250ZW50UmVjb3JkLFxuICBpc0NvbmZpZ3VyYXRpb25FcnJvcixcbiAgUHJlQ29udGVudFJlY29yZCxcbn0gZnJvbSBcIi4uL2FwaVwiO1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlVGl0bGUgPSAoXG4gIGNvbnRlbnRSZWNvcmQ6IENvbnRlbnRSZWNvcmQgfCBQcmVDb250ZW50UmVjb3JkLFxuICBjb25maWc/OiBDb25maWd1cmF0aW9uIHwgQ29uZmlndXJhdGlvbkVycm9yLFxuKToge1xuICB0aXRsZTogc3RyaW5nO1xuICBwcm9ibGVtOiBib29sZWFuO1xufSA9PiB7XG4gIGxldCB0aXRsZSA9XG4gICAgY29uZmlnICYmIGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZylcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IGNvbmZpZz8uY29uZmlndXJhdGlvbi50aXRsZTtcbiAgaWYgKHRpdGxlKSB7XG4gICAgbGV0IGNvbmZpZ0NvZGUgPSAoY29uZmlnPy5jb25maWd1cmF0aW9uTmFtZSB8fCBcIlwiKS5zcGxpdChcIi1cIikuYXQoLTEpO1xuICAgIGNvbmZpZ0NvZGUgPSBjb25maWdDb2RlID8gYCAoJHtjb25maWdDb2RlfSlgIDogXCJcIjtcbiAgICB0aXRsZSArPSBjb25maWdDb2RlO1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZSxcbiAgICAgIHByb2JsZW06IGZhbHNlLFxuICAgIH07XG4gIH1cbiAgLy8gTm8gdGl0bGUuLi4gZGV0ZXJtaW5lIHdoYXQgaW5mbyB3ZSBjYW4gcHJvdmlkZVxuICBpZiAoIWNvbnRlbnRSZWNvcmQuY29uZmlndXJhdGlvbk5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IGBVbmtub3duIFRpdGxlIER1ZSBUbyBNaXNzaW5nIENvbmZpZyBFbnRyeSBpbiAke2NvbnRlbnRSZWNvcmQuc2F2ZU5hbWV9YCxcbiAgICAgIHByb2JsZW06IHRydWUsXG4gICAgfTtcbiAgfVxuICBpZiAoIWNvbmZpZykge1xuICAgIC8vIGlmIHdlIGhhZCBhIGNvbnRlbnRSZWNvcmQgY29uZmlndXJhdGlvbiBuYW1lLCAgYnV0IGRvIG5vdCBoYXZlIGEgY29uZmlnIG9iamVjdCxcbiAgICAvLyB0aGVuIHRoZSBjb25maWcgZmlsZSBpcyBtaXNzaW5nLlxuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogYFVua25vd24gVGl0bGUgRHVlIHRvIE1pc3NpbmcgQ29uZmlnICR7Y29udGVudFJlY29yZC5jb25maWd1cmF0aW9uTmFtZX1gLFxuICAgICAgcHJvYmxlbTogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IGBVbmtub3duIFRpdGxlIOKAoiBFcnJvciBpbiAke2NvbmZpZy5jb25maWd1cmF0aW9uTmFtZX1gLFxuICAgICAgcHJvYmxlbTogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgbGV0IGNvbmZpZ05hbWUgPSBjb25maWcuY29uZmlndXJhdGlvbk5hbWU7XG4gIGlmICghY29uZmlnTmFtZSkge1xuICAgIC8vIHdlJ3JlIGd1YXJhbnRlZWQgdG8gaGF2ZSBhIHZhbHVlIGJlY2F1c2Ugb2YgdGhlIGNoZWNrIGFib3ZlXG4gICAgY29uZmlnTmFtZSA9IGNvbnRlbnRSZWNvcmQuY29uZmlndXJhdGlvbk5hbWU7XG4gIH1cbiAgaWYgKGNvbmZpZ05hbWUpIHtcbiAgICB0aXRsZSA9IGBObyBUaXRsZSAoaW4gJHtjb25maWdOYW1lfSlgO1xuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gYE5vIFRpdGxlIGF2YWlsYWJsZWA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0aXRsZSxcbiAgICBwcm9ibGVtOiB0cnVlLFxuICB9O1xufTtcbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQge1xuICBDb25maWd1cmF0aW9uLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIENvbmZpZ3VyYXRpb25JbnNwZWN0aW9uUmVzdWx0LFxuICBDb250ZW50VHlwZSxcbiAgaXNDb25maWd1cmF0aW9uRXJyb3IsXG59IGZyb20gXCIuLi9hcGlcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckluc3BlY3Rpb25SZXN1bHRzVG9UeXBlKFxuICBpbnNwZWN0aW9uUmVzdWx0czogQ29uZmlndXJhdGlvbkluc3BlY3Rpb25SZXN1bHRbXSxcbiAgdHlwZTogQ29udGVudFR5cGUgfCB1bmRlZmluZWQsXG4pOiBDb25maWd1cmF0aW9uSW5zcGVjdGlvblJlc3VsdFtdIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IENvbnRlbnRUeXBlLlVOS05PV04pIHtcbiAgICByZXR1cm4gaW5zcGVjdGlvblJlc3VsdHM7XG4gIH1cbiAgcmV0dXJuIGluc3BlY3Rpb25SZXN1bHRzLmZpbHRlcigoY2ZnKSA9PiBpc0luc3BlY3Rpb25SZXN1bHRPZlR5cGUoY2ZnLCB0eXBlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0luc3BlY3Rpb25SZXN1bHRPZlR5cGUoXG4gIGluc3BlY3Rpb25SZXN1bHQ6IENvbmZpZ3VyYXRpb25JbnNwZWN0aW9uUmVzdWx0LFxuICB0eXBlPzogQ29udGVudFR5cGUsXG4pOiBib29sZWFuIHtcbiAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaW5zcGVjdGlvblJlc3VsdC5jb25maWd1cmF0aW9uLnR5cGUgPT09IHR5cGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJDb25maWd1cmF0aW9uc1RvVmFsaWRBbmRUeXBlKFxuICBjb25maWdzOiAoQ29uZmlndXJhdGlvbiB8IENvbmZpZ3VyYXRpb25FcnJvcilbXSxcbiAgdHlwZTogQ29udGVudFR5cGUgfCB1bmRlZmluZWQsXG4pOiBDb25maWd1cmF0aW9uW10ge1xuICBsZXQgcmVzdWx0ID0gY29uZmlncy5maWx0ZXIoXG4gICAgKGNmZyk6IGNmZyBpcyBDb25maWd1cmF0aW9uID0+ICFpc0NvbmZpZ3VyYXRpb25FcnJvcihjZmcpLFxuICApO1xuICBpZiAodHlwZSAmJiB0eXBlICE9PSBDb250ZW50VHlwZS5VTktOT1dOKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoY2ZnKSA9PiBpc0NvbmZpZ3VyYXRpb25PZlR5cGUoY2ZnLCB0eXBlKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29uZmlndXJhdGlvbk9mVHlwZShcbiAgY29uZmlnOiBDb25maWd1cmF0aW9uLFxuICB0eXBlPzogQ29udGVudFR5cGUsXG4pOiBib29sZWFuIHtcbiAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29uZmlnLmNvbmZpZ3VyYXRpb24udHlwZSA9PT0gdHlwZTtcbn1cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBSUGFja2FnZSB9IGZyb20gXCIuLi8uLi9hcGkvdHlwZXMvcGFja2FnZXNcIjtcbmltcG9ydCB7XG4gIENyZWRlbnRpYWwsXG4gIENvbmZpZ3VyYXRpb24sXG4gIENvbnRlbnRSZWNvcmQsXG4gIENvbnRlbnRSZWNvcmRGaWxlLFxuICBQcmVDb250ZW50UmVjb3JkLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIEludGVncmF0aW9uUmVxdWVzdCxcbiAgU2VydmVyU2V0dGluZ3MsXG59IGZyb20gXCIuLi8uLi9hcGlcIjtcbmltcG9ydCB7IERlcGxveW1lbnRTZWxlY3RvciB9IGZyb20gXCIuLi9zaGFyZWRcIjtcblxuZXhwb3J0IGVudW0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlIHtcbiAgLy8gU2VudCBmcm9tIGhvc3QgdG8gd2Vidmlld1ZpZXdcbiAgSU5JVElBTElaSU5HX1JFUVVFU1RfQ09NUExFVEUgPSBcImluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZVwiLFxuICBSRUZSRVNIX0NPTlRFTlRSRUNPUkRfREFUQSA9IFwicmVmcmVzaENvbnRlbnRSZWNvcmREYXRhXCIsXG4gIFJFRlJFU0hfQ09ORklHX0RBVEEgPSBcInJlZnJlc2hDb25maWdEYXRhXCIsXG4gIFJFRlJFU0hfQ1JFREVOVElBTF9EQVRBID0gXCJyZWZyZXNoQ3JlZGVudGlhbERhdGFcIixcbiAgUFVCTElTSF9DQU5DRUwgPSBcInB1Ymxpc2hDYW5jZWxcIixcbiAgUFVCTElTSF9JTklUID0gXCJwdWJsaXNoSW5pdFwiLFxuICBQVUJMSVNIX1NUQVJUID0gXCJwdWJsaXNoU3RhcnRcIixcbiAgUFVCTElTSF9GSU5JU0hfU1VDQ0VTUyA9IFwicHVibGlzaEZpbmlzaFN1Y2Nlc3NcIixcbiAgUFVCTElTSF9GSU5JU0hfRkFJTFVSRSA9IFwicHVibGlzaEZpbmlzaEZhaWx1cmVcIixcbiAgQ09OVEVOVF9SRU5ERVJfU1VDQ0VTUyA9IFwiY29udGVudFJlbmRlclN1Y2Nlc3NcIixcbiAgQ09OVEVOVF9SRU5ERVJfRkFJTFVSRSA9IFwiY29udGVudFJlbmRlckZhaWx1cmVcIixcbiAgVVBEQVRFX0NPTlRFTlRSRUNPUkRfU0VMRUNUSU9OID0gXCJ1cGRhdGVDb250ZW50UmVjb3JkU2VsZWN0aW9uXCIsXG4gIFNBVkVfU0VMRUNUSU9OID0gXCJzYXZlU2VsZWN0aW9uXCIsXG4gIFJFRlJFU0hfRklMRVMgPSBcInJlZnJlc2hGaWxlc1wiLFxuICBVUERBVEVfUFlUSE9OX1BBQ0tBR0VTID0gXCJ1cGRhdGVQeXRob25QYWNrYWdlc1wiLFxuICBVUERBVEVfUl9QQUNLQUdFUyA9IFwidXBkYXRlUlBhY2thZ2VzXCIsXG4gIFNIT1dfRElTQUJMRV9PVkVSTEFZID0gXCJzaG93RGlzYWJsZU92ZXJsYXlcIixcbiAgSElERV9ESVNBQkxFX09WRVJMQVkgPSBcImhpZGVEaXNhYmxlT3ZlcmxheVwiLFxuICBTRVRfUEFUSF9TRVBBUkFUT1IgPSBcInNldFBhdGhTZXBhcmF0b3JcIixcbiAgVVBEQVRFX1NFUlZFUl9FTlZJUk9OTUVOVCA9IFwidXBkYXRlU2VydmVyRW52aXJvbm1lbnRcIixcbiAgUkVGUkVTSF9JTlRFR1JBVElPTl9SRVFVRVNUUyA9IFwicmVmcmVzaEludGVncmF0aW9uUmVxdWVzdHNcIixcbiAgUkVGUkVTSF9TRVJWRVJfU0VUVElOR1MgPSBcInJlZnJlc2hTZXJ2ZXJTZXR0aW5nc1wiLFxufVxuXG5leHBvcnQgdHlwZSBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxcbiAgVCBleHRlbmRzIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZSxcbiAgVSBleHRlbmRzIG9iamVjdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbj4gPSBVIGV4dGVuZHMgdW5kZWZpbmVkXG4gID8geyBraW5kOiBUIH1cbiAgOiB7XG4gICAgICBraW5kOiBUO1xuICAgICAgY29udGVudDogVTtcbiAgICB9O1xuXG5leHBvcnQgdHlwZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZSA9XG4gIHwgSW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlXG4gIHwgUmVmcmVzaENvbnRlbnRSZWNvcmREYXRhTXNnXG4gIHwgUmVmcmVzaENvbmZpZ0RhdGFNc2dcbiAgfCBSZWZyZXNoQ3JlZGVudGlhbERhdGFNc2dcbiAgfCBQdWJsaXNoQ2FuY2VsTXNnXG4gIHwgUHVibGlzaEluaXRNc2dcbiAgfCBQdWJsaXNoU3RhcnRNc2dcbiAgfCBQdWJsaXNoRmluaXNoU3VjY2Vzc01zZ1xuICB8IFB1Ymxpc2hGaW5pc2hGYWlsdXJlTXNnXG4gIHwgQ29udGVudFJlbmRlclN1Y2Nlc3NNc2dcbiAgfCBDb250ZW50UmVuZGVyRmFpbHVyZU1zZ1xuICB8IFVwZGF0ZUNvbnRlbnRSZWNvcmRTZWxlY3Rpb25Nc2dcbiAgfCBTYXZlU2VsZWN0aW9uTXNnXG4gIHwgUmVmcmVzaEZpbGVzTXNnXG4gIHwgVXBkYXRlUHl0aG9uUGFja2FnZXNcbiAgfCBVcGRhdGVSUGFja2FnZXNcbiAgfCBTaG93RGlzYWJsZU92ZXJsYXlNc2dcbiAgfCBIaWRlRGlzYWJsZU92ZXJsYXlNc2dcbiAgfCBTZXRQYXRoU2VwYXJhdG9yTXNnXG4gIHwgVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2dcbiAgfCBSZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZ1xuICB8IFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBpc0hvc3RUb1dlYnZpZXdNZXNzYWdlKG1zZzogYW55KTogbXNnIGlzIEhvc3RUb1dlYnZpZXdNZXNzYWdlIHtcbiAgcmV0dXJuIChcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLklOSVRJQUxJWklOR19SRVFVRVNUX0NPTVBMRVRFIHx8XG4gICAgbXNnLmtpbmQgPT09IEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NPTlRFTlRSRUNPUkRfREFUQSB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DT05GSUdfREFUQSB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DUkVERU5USUFMX0RBVEEgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfQ0FOQ0VMIHx8XG4gICAgbXNnLmtpbmQgPT09IEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0lOSVQgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfU1RBUlQgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfRklOSVNIX1NVQ0NFU1MgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfRklOSVNIX0ZBSUxVUkUgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLkNPTlRFTlRfUkVOREVSX1NVQ0NFU1MgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLkNPTlRFTlRfUkVOREVSX0ZBSUxVUkUgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9DT05URU5UUkVDT1JEX1NFTEVDVElPTiB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT04gfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlJFRlJFU0hfRklMRVMgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9QWVRIT05fUEFDS0FHRVMgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9SX1BBQ0tBR0VTIHx8XG4gICAgbXNnLmtpbmQgPT09IEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5TSE9XX0RJU0FCTEVfT1ZFUkxBWSB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuSElERV9ESVNBQkxFX09WRVJMQVkgfHxcbiAgICBtc2cua2luZCA9PT0gSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlNFVF9QQVRIX1NFUEFSQVRPUiB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuVVBEQVRFX1NFUlZFUl9FTlZJUk9OTUVOVCB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9JTlRFR1JBVElPTl9SRVFVRVNUUyB8fFxuICAgIG1zZy5raW5kID09PSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9TRVJWRVJfU0VUVElOR1NcbiAgKTtcbn1cblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLklOSVRJQUxJWklOR19SRVFVRVNUX0NPTVBMRVRFPjtcblxuZXhwb3J0IHR5cGUgUmVmcmVzaENvbnRlbnRSZWNvcmREYXRhTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NPTlRFTlRSRUNPUkRfREFUQSxcbiAge1xuICAgIGNvbnRlbnRSZWNvcmRzOiAoQ29udGVudFJlY29yZCB8IFByZUNvbnRlbnRSZWNvcmQpW107XG4gICAgZGVwbG95bWVudFNlbGVjdGVkPzogRGVwbG95bWVudFNlbGVjdG9yIHwgbnVsbDtcbiAgfVxuPjtcbmV4cG9ydCB0eXBlIFJlZnJlc2hDb25maWdEYXRhTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NPTkZJR19EQVRBLFxuICB7XG4gICAgY29uZmlndXJhdGlvbnM6IENvbmZpZ3VyYXRpb25bXTtcbiAgICBjb25maWd1cmF0aW9uc0luRXJyb3I6IENvbmZpZ3VyYXRpb25FcnJvcltdO1xuICB9XG4+O1xuZXhwb3J0IHR5cGUgUmVmcmVzaENyZWRlbnRpYWxEYXRhTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0NSRURFTlRJQUxfREFUQSxcbiAge1xuICAgIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFsW107XG4gIH1cbj47XG5leHBvcnQgdHlwZSBQdWJsaXNoQ2FuY2VsTXNnID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfQ0FOQ0VMPjtcbmV4cG9ydCB0eXBlIFB1Ymxpc2hJbml0TXNnID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfSU5JVD47XG5leHBvcnQgdHlwZSBQdWJsaXNoU3RhcnRNc2cgPVxuICBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUFVCTElTSF9TVEFSVD47XG5leHBvcnQgdHlwZSBQdWJsaXNoRmluaXNoU3VjY2Vzc01zZyA9XG4gIEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9TVUNDRVNTPjtcbmV4cG9ydCB0eXBlIFB1Ymxpc2hGaW5pc2hGYWlsdXJlTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9GQUlMVVJFLFxuICB7XG4gICAgZGF0YToge1xuICAgICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIH07XG4gIH1cbj47XG5leHBvcnQgdHlwZSBDb250ZW50UmVuZGVyU3VjY2Vzc01zZyA9XG4gIEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9TVUNDRVNTPjtcbmV4cG9ydCB0eXBlIENvbnRlbnRSZW5kZXJGYWlsdXJlTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9GQUlMVVJFLFxuICB7XG4gICAgZXJyb3I6IHN0cmluZztcbiAgfVxuPjtcbmV4cG9ydCB0eXBlIFVwZGF0ZUNvbnRlbnRSZWNvcmRTZWxlY3Rpb25Nc2cgPSBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxcbiAgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9DT05URU5UUkVDT1JEX1NFTEVDVElPTixcbiAge1xuICAgIHByZUNvbnRlbnRSZWNvcmQ6IFByZUNvbnRlbnRSZWNvcmQ7XG4gICAgc2F2ZVNlbGVjdGlvbj86IGJvb2xlYW47XG4gIH1cbj47XG5leHBvcnQgdHlwZSBTYXZlU2VsZWN0aW9uTXNnID1cbiAgQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8SG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlNBVkVfU0VMRUNUSU9OPjtcblxuZXhwb3J0IHR5cGUgUmVmcmVzaEZpbGVzTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0ZJTEVTLFxuICB7XG4gICAgZmlsZXM6IENvbnRlbnRSZWNvcmRGaWxlO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBVcGRhdGVQeXRob25QYWNrYWdlcyA9IEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPFxuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuVVBEQVRFX1BZVEhPTl9QQUNLQUdFUyxcbiAge1xuICAgIHB5dGhvblByb2plY3Q6IGJvb2xlYW47XG4gICAgZmlsZT86IHN0cmluZztcbiAgICBtYW5hZ2VyPzogc3RyaW5nO1xuICAgIHBhY2thZ2VzPzogc3RyaW5nW107XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZVJQYWNrYWdlcyA9IEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPFxuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuVVBEQVRFX1JfUEFDS0FHRVMsXG4gIHtcbiAgICByUHJvamVjdDogYm9vbGVhbjtcbiAgICBmaWxlPzogc3RyaW5nO1xuICAgIG1hbmFnZXI/OiBzdHJpbmc7XG4gICAgclZlcnNpb24/OiBzdHJpbmc7XG4gICAgcGFja2FnZXM/OiBSUGFja2FnZVtdO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBTaG93RGlzYWJsZU92ZXJsYXlNc2cgPVxuICBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0hPV19ESVNBQkxFX09WRVJMQVk+O1xuXG5leHBvcnQgdHlwZSBIaWRlRGlzYWJsZU92ZXJsYXlNc2cgPVxuICBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuSElERV9ESVNBQkxFX09WRVJMQVk+O1xuXG5leHBvcnQgdHlwZSBTZXRQYXRoU2VwYXJhdG9yTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5TRVRfUEFUSF9TRVBBUkFUT1IsXG4gIHtcbiAgICBzZXBhcmF0b3I6IHN0cmluZztcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2cgPSBBbnlIb3N0VG9XZWJ2aWV3TWVzc2FnZTxcbiAgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9TRVJWRVJfRU5WSVJPTk1FTlQsXG4gIHtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nW107XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFJlZnJlc2hJbnRlZ3JhdGlvblJlcXVlc3RzTXNnID0gQW55SG9zdFRvV2Vidmlld01lc3NhZ2U8XG4gIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0lOVEVHUkFUSU9OX1JFUVVFU1RTLFxuICB7XG4gICAgaW50ZWdyYXRpb25SZXF1ZXN0czogSW50ZWdyYXRpb25SZXF1ZXN0W107XG4gIH1cbj47XG5cbmV4cG9ydCB0eXBlIFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyA9IEFueUhvc3RUb1dlYnZpZXdNZXNzYWdlPFxuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9TRVJWRVJfU0VUVElOR1MsXG4gIHtcbiAgICBzZXJ2ZXJTZXR0aW5nczogU2VydmVyU2V0dGluZ3M7XG4gIH1cbj47XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgSG9zdFRvV2Vidmlld01lc3NhZ2VDQiB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvY29uZHVpdFwiO1xuaW1wb3J0IHsgV2Vidmlld0FwaSB9IGZyb20gXCJ2c2NvZGUtd2Vidmlld1wiO1xuaW1wb3J0IHsgaXNIb3N0VG9XZWJ2aWV3TWVzc2FnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvaG9zdFRvV2Vidmlld01lc3NhZ2VzXCI7XG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbi8vIEEgSG9zdENvbmR1aXQgaXMgdXNlZCBieSBhIHdlYnZpZXcgdG8gY29ubmVjdCB0byBhIGhvc3Rcbi8vIGEgd2VidmlldyBzZW5kcyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVxuLy8gYW5kIHJlY2VpdmVzIEhvc3RUb1dlYnZpZXdNZXNzYWdlXG5cbmV4cG9ydCBjbGFzcyBIb3N0Q29uZHVpdCB7XG4gIHByaXZhdGUgZXh0ZXJuYWxNc2dDQjogSG9zdFRvV2Vidmlld01lc3NhZ2VDQiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdpbmRvdzogV2luZG93LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdnNDb2RlQXBpOiBXZWJ2aWV3QXBpPHVua25vd24+LFxuICApIHt9XG5cbiAgcHJpdmF0ZSByYXdNc2dDQiA9IChlOiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5leHRlcm5hbE1zZ0NCKSB7XG4gICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGUuZGF0YSk7XG4gICAgICBpZiAoaXNIb3N0VG9XZWJ2aWV3TWVzc2FnZShvYmopKSB7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxNc2dDQihvYmopO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgSG9zdENvbmR1aXQ6OnJhd01zZ0NCLCBOb25Db25kdWl0TWVzc2FnZSBSZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShlKX1gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHB1YmxpYyBvbk1zZyA9IChjYjogSG9zdFRvV2Vidmlld01lc3NhZ2VDQikgPT4ge1xuICAgIHRoaXMuZXh0ZXJuYWxNc2dDQiA9IGNiO1xuICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmF3TXNnQ0IpO1xuICB9O1xuXG4gIHB1YmxpYyBkZWFjdGl2YXRlKCkge1xuICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMucmF3TXNnQ0IpO1xuICB9XG5cbiAgcHVibGljIHNlbmRNc2cgPSAobXNnOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGUgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xuICAgIHRoaXMudnNDb2RlQXBpLnBvc3RNZXNzYWdlKGUpO1xuICB9O1xufVxuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCBjb25maWcgZnJvbSBcIi4uLy4uL3NyYy9jb25maWdcIjtcbmltcG9ydCB7IGV4dHJhY3RHVUlEIH0gZnJvbSBcIi4vZ3VpZFwiO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0VVJMID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAvLyBjaGVjayBpZiB0aGUgVVJMIHN0YXJ0cyB3aXRoIGEgc2NoZW1lXG4gIGlmICgvXlthLXpBLVpdKzpcXC9cXC8vLnRlc3QoaW5wdXQpKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIHJldHVybiBgaHR0cHM6Ly8ke2lucHV0fWA7XG59O1xuXG4vLyBDdXJyZW50bHkganVzdCBhZGRzIGEgdHJhaWxpbmcgc2xhc2hcbmV4cG9ydCBjb25zdCBub3JtYWxpemVVUkwgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGxldCByZXN1bHQgPSBpbnB1dDtcbiAgaWYgKCFyZXN1bHQuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgcmVzdWx0ICs9IFwiL1wiO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5jb25zdCBpc01hdGNoaW5nVVJMID0gKGlucHV0OiBzdHJpbmcsIHJlZ2V4OiBSZWdFeHApID0+IHtcbiAgY29uc3QgZ3VpZCA9IGV4dHJhY3RHVUlEKGlucHV0KT8uYXQoMCk7XG4gIGNvbnN0IGd1aWRsZXNzSW5wdXQgPSBndWlkID8gaW5wdXQuc3BsaXQoZ3VpZClbMF0gOiBcIlwiO1xuICByZXR1cm4gcmVnZXgudGVzdChndWlkbGVzc0lucHV0KTtcbn07XG5cbi8vIEFsbCB0aGUgZm9sbG93aW5nIGlucHV0cyB3aWxsIHJldHVybiBcInRydWVcIiAocHJvZHVjdGlvbiBlbnZpcm9ubWVudCk6XG4vLyAgIFwiaHR0cHM6Ly9jb25uZWN0LnBvc2l0LmNsb3VkL215LWFjY291bnQvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIlxuLy8gICBcImh0dHBzOi8vY29ubmVjdC5wb3NpdC5jbG91ZC91c2VyLXByb2ZpbGUtMTIzL2NvbnRlbnQvYWRmZmE1MDUtMDhjNy00NTBmLTg4ZDAtZjQyOTU3ZjU2ZWZmXCJcbi8vICAgXCJodHRwczovL2Nvbm5lY3QucG9zaXQuY2xvdWQvc2x1ZzEyMy9jb250ZW50L2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiXG4vLyBBbGwgdGhlIGZvbGxvd2luZyBpbnB1dHMgd2lsbCByZXR1cm4gXCJmYWxzZVwiOlxuLy8gICBcImh0dHBzOi8vY29ubmVjdC5wb3NpdC5jbG91ZC9zbHVnX3dpdGhfdW5kZXJzY29yZS9jb250ZW50L2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiIC8vIHVuZGVyc2NvcmVzXG4vLyAgIFwiaHR0cHM6Ly9jb25uZWN0LnBvc2l0LmNsb3VkL215IGFjY291bnQvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIiAvLyBzcGFjZVxuLy8gICBcImh0dHBzOi8vY29ubmVjdC5wb3NpdC5jbG91ZC9teS1hY2NvdW50L2ZvbGRlci9jb250ZW50L2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiIC8vIGV4dHJhIHBhdGggc2VnbWVudFxuZXhwb3J0IGNvbnN0IGlzQ29ubmVjdENsb3VkQ29udGVudFVSTCA9IChpbnB1dDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICBgXiR7Y29uZmlnLmNvbm5lY3RDbG91ZFVSTH0vW2EtekEtWjAtOS1dKy9jb250ZW50LyRgLFxuICApO1xuICByZXR1cm4gaXNNYXRjaGluZ1VSTChpbnB1dCwgcmVnZXgpO1xufTtcblxuLy8gQWxsIHRoZSBmb2xsb3dpbmcgaW5wdXRzIHdpbGwgcmV0dXJuIFwidHJ1ZVwiOlxuLy8gICBcImh0dHBzOi8vY29ubmVjdC5jb21wYW55LmNvL2Nvbm5lY3QvIy9hcHBzL2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiO1xuLy8gICBcImh0dHBzOi8vY29ubmVjdC5teV9zdWIuY29tcGFueS5jb20vY29ubmVjdC8jL2FwcHMvYWRmZmE1MDUtMDhjNy00NTBmLTg4ZDAtZjQyOTU3ZjU2ZWZmXCI7XG4vLyAgIFwiaHR0cHM6Ly9jb25uZWN0LmFub3RoZXIuZGVlcF9zdWIuZG9tYWluX25hbWUub3JnL2Nvbm5lY3QvIy9hcHBzL2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiO1xuLy8gICBcImh0dHBzOi8vY29ubmVjdC5vbmx5LW9uZS5jby9jb25uZWN0LyMvYXBwcy9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIjtcbi8vICAgXCJodHRwczovL2NvbXBhbnkuY28vZGF0YS1zY2llbmNlLzIwMjUvc3RhZ2luZy1zZXJ2ZXIvIy9hcHBzL2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiO1xuLy8gQWxsIHRoZSBmb2xsb3dpbmcgaW5wdXRzIHdpbGwgcmV0dXJuIFwiZmFsc2VcIjpcbi8vICAgXCJodHRwczovL2Nvbm5lY3QuY29tcGFueS5jby93cm9uZy9jb25uZWN0LyMvcGF0aC9hcHBzL2FkZmZhNTA1LTA4YzctNDUwZi04OGQwLWY0Mjk1N2Y1NmVmZlwiOyAvLyB3cm9uZyBwYXRoXG4vLyAgIFwiaHR0cHM6Ly9jb25uZWN0LmNvbXBhbnkuY28vY29ubmVjdC8jYXBwcy9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIjsgLy8gbWlzc2luZyBzbGFzaFxuLy8gICBcImh0dHBzOi8vY29ubmVjdC5pbnZhbGlkLmNvbS9jb25uZWN0LyMvQHBwcy9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIjsgLy8gaW52YWxpZCBjaGFyYWN0ZXJcbmV4cG9ydCBjb25zdCBpc0Nvbm5lY3RDb250ZW50VVJMID0gKGlucHV0OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcmVnZXggPSAvXmh0dHAocz8pOlxcL1xcLy4rXFwvI1xcL2FwcHNcXC8kLztcbiAgcmV0dXJuIGlzTWF0Y2hpbmdVUkwoaW5wdXQsIHJlZ2V4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q29ubmVjdENsb3VkQWNjb3VudCA9IChpbnB1dDogc3RyaW5nKSA9PiB7XG4gIC8vIHNhbXBsZSBVUkw6IFwiaHR0cHM6Ly9jb25uZWN0LnBvc2l0LmNsb3VkL215LWFjY291bnQvY29udGVudC9hZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIlxuICBjb25zdCB1cmwgPSBuZXcgVVJMKGlucHV0KTtcblxuICAvLyB0aGUgcGF0aG5hbWUgaXMgdGhlIHBhcnQgb2YgdGhlIFVSTCBhZnRlciB0aGUgZG9tYWluLCBlLmcuLCBcIi9teS1hY2NvdW50L2NvbnRlbnQvYWRmZmE1MDUtMDhjNy00NTBmLTg4ZDAtZjQyOTU3ZjU2ZWZmXCJcbiAgY29uc3QgcGF0aFNlZ21lbnRzID0gdXJsLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcblxuICAvLyBmb3IgdGhlIGdpdmVuIFVSTCwgdGhlIGFycmF5IHdpbGwgYmUgW1wiXCIsIFwibXktYWNjb3VudFwiLCBcImNvbnRlbnRcIiwgXCJhZGZmYTUwNS0wOGM3LTQ1MGYtODhkMC1mNDI5NTdmNTZlZmZcIl1cbiAgLy8gdGhlIGFjY291bnQgcGFydCBpcyBhdCBpbmRleCAxIG9mIHRoZSBhcnJheVxuICByZXR1cm4gcGF0aFNlZ21lbnRzLmF0KDEpO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vdXRpbHMvZXJyb3JUeXBlc1wiO1xuXG50eXBlIEFnZW50RXJyb3JCYXNlID0ge1xuICBjb2RlOiBFcnJvckNvZGU7XG4gIG1zZzogc3RyaW5nO1xuICBvcGVyYXRpb246IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0FnZW50RXJyb3IgPSAoZTogYW55KTogZSBpcyBBZ2VudEVycm9yID0+IHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGUpO1xuICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICBpZiAoXG4gICAgICBrZXlzLmluY2x1ZGVzKFwiY29kZVwiKSAmJlxuICAgICAga2V5cy5pbmNsdWRlcyhcIm1zZ1wiKSAmJlxuICAgICAga2V5cy5pbmNsdWRlcyhcIm9wZXJhdGlvblwiKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCB0eXBlIEFnZW50RXJyb3IgPVxuICB8IEFnZW50RXJyb3JCYXNlXG4gIHwgQWdlbnRFcnJvclR5cGVVbmtub3duXG4gIHwgQWdlbnRFcnJvckludmFsaWRUT01MXG4gIHwgQWdlbnRFcnJvckNvbnRlbnROb3RSdW5uaW5nO1xuXG5leHBvcnQgdHlwZSBBZ2VudEVycm9yVHlwZVVua25vd24gPSBBZ2VudEVycm9yQmFzZSAmIHtcbiAgZGF0YToge1xuICAgIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgaXNBZ2VudEVycm9yQmFzZSA9IChlOiBhbnkpOiBlIGlzIEFnZW50RXJyb3JCYXNlID0+IHtcbiAgaWYgKGlzQWdlbnRFcnJvcihlKSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhlKTtcbiAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgIGlmIChrZXlzLmluY2x1ZGVzKFwiZGF0YVwiKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gVGhpcyByZXByZXNlbnRzIHRoZSBBZ2VudCBFcnJvcnMgd2UgaGF2ZW4ndCBiZWVuIGFibGUgdG9cbi8vIG5hcnJvdyBkb3duIHRvIGEgc3BlY2lmaWMgdHlwZS5cbmV4cG9ydCBjb25zdCBpc0FnZW50RXJyb3JUeXBlVW5rbm93biA9IChlOiBhbnkpOiBlIGlzIEFnZW50RXJyb3JUeXBlVW5rbm93biA9PiB7XG4gIHJldHVybiAoXG4gICAgaXNBZ2VudEVycm9yQmFzZShlKSAmJlxuICAgICFpc0FnZW50RXJyb3JJbnZhbGlkVE9NTChlKSAmJlxuICAgICFpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nKGUpXG4gICk7XG59O1xuXG5leHBvcnQgdHlwZSBBZ2VudEVycm9ySW52YWxpZFRPTUwgPSBBZ2VudEVycm9yQmFzZSAmIHtcbiAgZGF0YToge1xuICAgIHByb2JsZW06IHN0cmluZztcbiAgICBmaWxlOiBzdHJpbmc7XG4gICAgbGluZTogbnVtYmVyO1xuICAgIGNvbHVtbjogbnVtYmVyO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQWdlbnRFcnJvckludmFsaWRUT01MID0gKGU6IGFueSk6IGUgaXMgQWdlbnRFcnJvckludmFsaWRUT01MID0+IHtcbiAgcmV0dXJuIChcbiAgICBpc0FnZW50RXJyb3JCYXNlKGUpICYmXG4gICAgKGUuY29kZSA9PT0gXCJpbnZhbGlkVE9NTFwiIHx8IGUuY29kZSA9PT0gXCJ1bmtub3duVE9NTEtleVwiKVxuICApO1xufTtcblxuZXhwb3J0IHR5cGUgQWdlbnRFcnJvckNvbnRlbnROb3RSdW5uaW5nID0gQWdlbnRFcnJvckJhc2U7XG5cbmV4cG9ydCBjb25zdCBpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nID0gKFxuICBlOiBhbnksXG4pOiBlIGlzIEFnZW50RXJyb3JDb250ZW50Tm90UnVubmluZyA9PiB7XG4gIHJldHVybiBpc0FnZW50RXJyb3JCYXNlKGUpICYmIGUuY29kZSA9PT0gXCJkZXBsb3llZENvbnRlbnROb3RSdW5uaW5nXCI7XG59O1xuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IFNlcnZlclR5cGUsIFByb2R1Y3RUeXBlLCBQcm9kdWN0TmFtZSB9IGZyb20gXCIuLi9hcGlcIjtcbmltcG9ydCB7IENvbm5lY3RDbG91ZEFjY291bnQgfSBmcm9tIFwiLi4vYXBpL3R5cGVzL2Nvbm5lY3RDbG91ZFwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTmV3Q3JlZGVudGlhbExhYmVsID0gXCJDcmVhdGUgYSBOZXcgQ3JlZGVudGlhbFwiO1xuXG5leHBvcnQgY29uc3QgaXNDb25uZWN0ID0gKHNlcnZlclR5cGU6IFNlcnZlclR5cGUpID0+IHtcbiAgcmV0dXJuIHNlcnZlclR5cGUgPT09IFNlcnZlclR5cGUuQ09OTkVDVDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Nvbm5lY3RDbG91ZCA9IChzZXJ2ZXJUeXBlOiBTZXJ2ZXJUeXBlKSA9PiB7XG4gIHJldHVybiBzZXJ2ZXJUeXBlID09PSBTZXJ2ZXJUeXBlLkNPTk5FQ1RfQ0xPVUQ7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTbm93Zmxha2UgPSAoc2VydmVyVHlwZTogU2VydmVyVHlwZSkgPT4ge1xuICByZXR1cm4gc2VydmVyVHlwZSA9PT0gU2VydmVyVHlwZS5TTk9XRkxBS0U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNDb25uZWN0UHJvZHVjdCA9IChwcm9kdWN0VHlwZTogUHJvZHVjdFR5cGUpID0+IHtcbiAgcmV0dXJuIHByb2R1Y3RUeXBlID09PSBQcm9kdWN0VHlwZS5DT05ORUNUO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29ubmVjdENsb3VkUHJvZHVjdCA9IChwcm9kdWN0VHlwZTogUHJvZHVjdFR5cGUpID0+IHtcbiAgcmV0dXJuIHByb2R1Y3RUeXBlID09PSBQcm9kdWN0VHlwZS5DT05ORUNUX0NMT1VEO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RUeXBlID0gKHNlcnZlclR5cGU6IFNlcnZlclR5cGUpOiBQcm9kdWN0VHlwZSA9PiB7XG4gIHN3aXRjaCAoc2VydmVyVHlwZSkge1xuICAgIGNhc2UgU2VydmVyVHlwZS5DT05ORUNUOlxuICAgICAgcmV0dXJuIFByb2R1Y3RUeXBlLkNPTk5FQ1Q7XG4gICAgY2FzZSBTZXJ2ZXJUeXBlLlNOT1dGTEFLRTpcbiAgICAgIHJldHVybiBQcm9kdWN0VHlwZS5DT05ORUNUO1xuICAgIGNhc2UgU2VydmVyVHlwZS5DT05ORUNUX0NMT1VEOlxuICAgICAgcmV0dXJuIFByb2R1Y3RUeXBlLkNPTk5FQ1RfQ0xPVUQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0TmFtZSA9IChwcm9kdWN0VHlwZTogUHJvZHVjdFR5cGUpID0+IHtcbiAgc3dpdGNoIChwcm9kdWN0VHlwZSkge1xuICAgIGNhc2UgUHJvZHVjdFR5cGUuQ09OTkVDVDpcbiAgICAgIHJldHVybiBQcm9kdWN0TmFtZS5DT05ORUNUO1xuICAgIGNhc2UgUHJvZHVjdFR5cGUuQ09OTkVDVF9DTE9VRDpcbiAgICAgIHJldHVybiBQcm9kdWN0TmFtZS5DT05ORUNUX0NMT1VEO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2VydmVyVHlwZSA9IChwcm9kdWN0TmFtZTogUHJvZHVjdE5hbWUpID0+IHtcbiAgc3dpdGNoIChwcm9kdWN0TmFtZSkge1xuICAgIGNhc2UgUHJvZHVjdE5hbWUuQ09OTkVDVDpcbiAgICAgIHJldHVybiBTZXJ2ZXJUeXBlLkNPTk5FQ1Q7XG4gICAgY2FzZSBQcm9kdWN0TmFtZS5DT05ORUNUX0NMT1VEOlxuICAgICAgcmV0dXJuIFNlcnZlclR5cGUuQ09OTkVDVF9DTE9VRDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFB1Ymxpc2hhYmxlQWNjb3VudHMgPSAoYWNjb3VudHM6IENvbm5lY3RDbG91ZEFjY291bnRbXSkgPT4ge1xuICByZXR1cm4gYWNjb3VudHMuZmlsdGVyKChhKSA9PiBhLnBlcm1pc3Npb25Ub1B1Ymxpc2gpO1xufTtcbiIsImltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHdhdGNoIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCIuLi8uLi9zcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBub3JtYWxpemVVUkwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL3VybFwiO1xuXG5pbXBvcnQge1xuICBDcmVkZW50aWFsLFxuICBDb250ZW50UmVjb3JkLFxuICBQcmVDb250ZW50UmVjb3JkLFxuICBDb25maWd1cmF0aW9uLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIGlzUHJlQ29udGVudFJlY29yZCxcbiAgU2VydmVyVHlwZSxcbiAgU2VydmVyU2V0dGluZ3MsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5pbXBvcnQge1xuICBJbnRlZ3JhdGlvblJlcXVlc3QsXG4gIGlzQ29uZmlndXJhdGlvbkVycm9yLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaS90eXBlcy9jb25maWd1cmF0aW9uc1wiO1xuaW1wb3J0IHsgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXNcIjtcbmltcG9ydCB7IFJQYWNrYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvcGFja2FnZXNcIjtcbmltcG9ydCB7IERlcGxveW1lbnRTZWxlY3RvciB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvc2hhcmVkXCI7XG5pbXBvcnQge1xuICBpc0FnZW50RXJyb3JJbnZhbGlkVE9NTCxcbiAgaXNBZ2VudEVycm9yVHlwZVVua25vd24sXG59IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2Vycm9yXCI7XG5pbXBvcnQge1xuICBnZXRQcm9kdWN0VHlwZSxcbiAgaXNDb25uZWN0Q2xvdWRQcm9kdWN0LFxuICBpc0Nvbm5lY3RQcm9kdWN0LFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL211bHRpU3RlcEhlbHBlcnNcIjtcblxuZXhwb3J0IGNvbnN0IHVzZUhvbWVTdG9yZSA9IGRlZmluZVN0b3JlKFwiaG9tZVwiLCAoKSA9PiB7XG4gIGNvbnN0IHBsYXRmb3JtRmlsZVNlcGFyYXRvciA9IHJlZjxzdHJpbmc+KFwiL1wiKTtcbiAgY29uc3QgcHVibGlzaEluUHJvZ3Jlc3MgPSByZWYoZmFsc2UpO1xuICBjb25zdCBwdWJsaXNoSW5pdGlhdGVkID0gcmVmKGZhbHNlKTtcbiAgY29uc3QgY29udGVudFJlbmRlckluUHJvZ3Jlc3MgPSByZWYoZmFsc2UpO1xuICBjb25zdCBjb250ZW50UmVuZGVyU3VjY2VzcyA9IHJlZjxib29sZWFuIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBjb25zdCBjb250ZW50UmVuZGVyRXJyb3IgPSByZWY8c3RyaW5nIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IGNvbnRlbnRSZWNvcmRzID0gcmVmPChDb250ZW50UmVjb3JkIHwgUHJlQ29udGVudFJlY29yZClbXT4oW10pO1xuICBjb25zdCBjb25maWd1cmF0aW9ucyA9IHJlZjxDb25maWd1cmF0aW9uW10+KFtdKTtcbiAgY29uc3QgY29uZmlndXJhdGlvbnNJbkVycm9yID0gcmVmPENvbmZpZ3VyYXRpb25FcnJvcltdPihbXSk7XG4gIGNvbnN0IGNyZWRlbnRpYWxzID0gcmVmPENyZWRlbnRpYWxbXT4oW10pO1xuICBjb25zdCBzb3J0ZWRDcmVkZW50aWFscyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gY3JlZGVudGlhbHMudmFsdWUuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG4gIH0pO1xuXG4gIGNvbnN0IHNlcnZlclNldHRpbmdzID0gcmVmPFNlcnZlclNldHRpbmdzIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IHNlcnZlclNlY3JldHMgPSByZWY8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IHNlY3JldHMgPSByZWYobmV3IE1hcDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4oKSk7XG5cbiAgY29uc3QgaW50ZWdyYXRpb25SZXF1ZXN0cyA9IHJlZjxJbnRlZ3JhdGlvblJlcXVlc3RbXT4oW10pO1xuXG4gIGNvbnN0IGVudmlyb25tZW50ID0gY29tcHV0ZWQoKCk6IE1hcDxzdHJpbmcsIHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgY29uc3QgY29uZmlnID0gc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlO1xuXG4gICAgaWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkIHx8IGlzQ29uZmlndXJhdGlvbkVycm9yKGNvbmZpZykpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmNvbmZpZ3VyYXRpb24uZW52aXJvbm1lbnQgfHwge30pLmZvckVhY2goXG4gICAgICAoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICByZXN1bHQuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIGNvbnN0IGR1cGxpY2F0ZWRFbnZpcm9ubWVudFZhcmlhYmxlcyA9IGNvbXB1dGVkKCgpOiBzdHJpbmdbXSA9PiB7XG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgIHNlY3JldHMudmFsdWUuZm9yRWFjaCgoXywgbmFtZSkgPT4ge1xuICAgICAgaWYgKGVudmlyb25tZW50LnZhbHVlLmhhcyhuYW1lKSkge1xuICAgICAgICByZXN1bHQucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICBjb25zdCBzaG93RGlzYWJsZWRPdmVybGF5ID0gcmVmKGZhbHNlKTtcblxuICBjb25zdCBzZWxlY3RlZENvbnRlbnRSZWNvcmQgPSByZWY8Q29udGVudFJlY29yZCB8IFByZUNvbnRlbnRSZWNvcmQ+KCk7XG5cbiAgLy8gQWx3YXlzIHVzZSB0aGUgY29udGVudCByZWNvcmQgYXMgdGhlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlXG4gIC8vIGNvbmZpZ3VyYXRpb24uIENhbiBiZSB1bmRlZmluZWQgaWYgYSBDb25maWd1cmF0aW9uIGlzIG5vdCBzcGVjaWZpZWQgb3JcbiAgLy8gZm91bmQuXG4gIGNvbnN0IHNlbGVjdGVkQ29uZmlndXJhdGlvbiA9IGNvbXB1dGVkKFxuICAgICgpOiBDb25maWd1cmF0aW9uIHwgQ29uZmlndXJhdGlvbkVycm9yIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgIGlmICghc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGNvbmZpZ3VyYXRpb25OYW1lLCBwcm9qZWN0RGlyIH0gPSBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU7XG4gICAgICBsZXQgcmVzdWx0O1xuICAgICAgcmVzdWx0ID0gY29uZmlndXJhdGlvbnMudmFsdWUuZmluZChcbiAgICAgICAgKGNmZykgPT5cbiAgICAgICAgICBjZmcuY29uZmlndXJhdGlvbk5hbWUgPT09IGNvbmZpZ3VyYXRpb25OYW1lICYmXG4gICAgICAgICAgY2ZnLnByb2plY3REaXIgPT09IHByb2plY3REaXIsXG4gICAgICApO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gY29uZmlndXJhdGlvbnNJbkVycm9yLnZhbHVlLmZpbmQoXG4gICAgICAgICAgKGNmZykgPT5cbiAgICAgICAgICAgIGNmZy5jb25maWd1cmF0aW9uTmFtZSA9PT0gY29uZmlndXJhdGlvbk5hbWUgJiZcbiAgICAgICAgICAgIGNmZy5wcm9qZWN0RGlyID09PSBwcm9qZWN0RGlyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICApO1xuXG4gIHdhdGNoKFxuICAgIFtzZWxlY3RlZENvbnRlbnRSZWNvcmQsIHNlbGVjdGVkQ29uZmlndXJhdGlvbl0sXG4gICAgKFtjb250ZW50UmVjb3JkLCBjb25maWddLCBbcHJldkNvbnRlbnRSZWNvcmRdKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPigpO1xuXG4gICAgICBpZiAoY29uZmlnID09PSB1bmRlZmluZWQgfHwgaXNDb25maWd1cmF0aW9uRXJyb3IoY29uZmlnKSkge1xuICAgICAgICBzZWNyZXRzLnZhbHVlID0gcmVzdWx0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzU2FtZUNvbnRlbnRSZWNvcmQgPSBCb29sZWFuKFxuICAgICAgICBjb250ZW50UmVjb3JkPy5zYXZlTmFtZSA9PT0gcHJldkNvbnRlbnRSZWNvcmQ/LnNhdmVOYW1lLFxuICAgICAgKTtcblxuICAgICAgY29uZmlnLmNvbmZpZ3VyYXRpb24uc2VjcmV0cz8uZm9yRWFjaCgoc2VjcmV0KSA9PiB7XG4gICAgICAgIGlmIChpc1NhbWVDb250ZW50UmVjb3JkICYmIHNlY3JldHMudmFsdWU/LmhhcyhzZWNyZXQpKSB7XG4gICAgICAgICAgcmVzdWx0LnNldChzZWNyZXQsIHNlY3JldHMudmFsdWUuZ2V0KHNlY3JldCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5zZXQoc2VjcmV0LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VjcmV0cy52YWx1ZSA9IHJlc3VsdDtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH0sXG4gICk7XG5cbiAgLy8gQWx3YXlzIHVzZSB0aGUgY29udGVudCByZWNvcmQgYXMgdGhlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlXG4gIC8vIGNyZWRlbnRpYWwuIENhbiBiZSB1bmRlZmluZWQgaWYgYSBDcmVkZW50aWFsIGlzIG5vdCBzcGVjaWZpZWQgb3IgZm91bmQuXG4gIGNvbnN0IHNlcnZlckNyZWRlbnRpYWwgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIGNyZWRlbnRpYWxzLnZhbHVlLmZpbmQoKGNmZykgPT4ge1xuICAgICAgLy8gZGVmYXVsdCB0byBDT05ORUNUIHdoZW4gdGhlIHNlcnZlciB0eXBlIGlzIG1pc3NpbmcgKGkuZS4gY291bGQgYmUgYW4gb2xkIGNvbm5lY3QgZGVwbG95bWVudClcbiAgICAgIGNvbnN0IHNlcnZlclR5cGUgPVxuICAgICAgICBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU/LnNlcnZlclR5cGUgfHwgU2VydmVyVHlwZS5DT05ORUNUO1xuICAgICAgY29uc3QgcHJvZHVjdFR5cGUgPSBnZXRQcm9kdWN0VHlwZShzZXJ2ZXJUeXBlKTtcbiAgICAgIGlmIChpc0Nvbm5lY3RDbG91ZFByb2R1Y3QocHJvZHVjdFR5cGUpKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxBY2NvdW50TmFtZSA9IGNmZy5hY2NvdW50TmFtZTtcbiAgICAgICAgY29uc3QgcmVjb3JkQWNjb3VudE5hbWUgPVxuICAgICAgICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZT8uY29ubmVjdENsb3VkPy5hY2NvdW50TmFtZTtcbiAgICAgICAgaWYgKCFyZWNvcmRBY2NvdW50TmFtZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlZGVudGlhbEFjY291bnROYW1lID09PSByZWNvcmRBY2NvdW50TmFtZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNDb25uZWN0UHJvZHVjdChwcm9kdWN0VHlwZSkpIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbFVybCA9IGNmZy51cmwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcmVjb3JkVXJsID0gc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlPy5zZXJ2ZXJVcmwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCFyZWNvcmRVcmwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVVSTChjcmVkZW50aWFsVXJsKSA9PT0gbm9ybWFsaXplVVJMKHJlY29yZFVybCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgbGFzdENvbnRlbnRSZWNvcmRSZXN1bHQgPSByZWY8c3RyaW5nPigpO1xuICBjb25zdCBsYXN0Q29udGVudFJlY29yZE1zZyA9IHJlZjxzdHJpbmc+KCk7XG5cbiAgY29uc3QgcHl0aG9uUHJvamVjdCA9IHJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IHB5dGhvblBhY2thZ2VzID0gcmVmPHN0cmluZ1tdPigpO1xuICBjb25zdCBweXRob25QYWNrYWdlRmlsZSA9IHJlZjxzdHJpbmc+KCk7XG4gIGNvbnN0IHB5dGhvblBhY2thZ2VNYW5hZ2VyID0gcmVmPHN0cmluZz4oKTtcblxuICBjb25zdCByUHJvamVjdCA9IHJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IHJQYWNrYWdlcyA9IHJlZjxSUGFja2FnZVtdPigpO1xuICBjb25zdCByUGFja2FnZUZpbGUgPSByZWY8c3RyaW5nPigpO1xuICBjb25zdCByUGFja2FnZU1hbmFnZXIgPSByZWY8c3RyaW5nPigpO1xuICBjb25zdCByVmVyc2lvbiA9IHJlZjxzdHJpbmc+KCk7XG5cbiAgY29uc3QgaW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlID0gcmVmPGJvb2xlYW4+KGZhbHNlKTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZCB0byBvbmUgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICogSWYgdGhlIG5hbWVkIGNvbnRlbnRSZWNvcmQgaXMgbm90IGZvdW5kLCB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZCBpcyBzZXQgdG8gdW5kZWZpbmVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgbmV3IGNvbnRlbnRSZWNvcmQgdG8gc2VsZWN0XG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHNlbGVjdGVkIGNvbnRlbnRSZWNvcmQgd2FzIHRoZSBzYW1lLCBmYWxzZSBpZiBub3RcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3IoXG4gICAgc2VsZWN0b3I/OiBEZXBsb3ltZW50U2VsZWN0b3IsXG4gICkge1xuICAgIGNvbnN0IHByZXZpb3VzU2VsZWN0ZWRDb250ZW50UmVjb3JkID0gc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlO1xuICAgIGNvbnN0IHByZXZpb3VzU2VsZWN0ZWRDb25maWcgPSBzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWU7XG5cbiAgICBjb25zdCBjb250ZW50UmVjb3JkID0gY29udGVudFJlY29yZHMudmFsdWUuZmluZChcbiAgICAgIChkKSA9PiBkLmRlcGxveW1lbnRQYXRoID09PSBzZWxlY3Rvcj8uZGVwbG95bWVudFBhdGgsXG4gICAgKTtcblxuICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSA9IGNvbnRlbnRSZWNvcmQ7XG5cbiAgICByZXR1cm4gKFxuICAgICAgcHJldmlvdXNTZWxlY3RlZENvbnRlbnRSZWNvcmQgPT09IHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSAmJlxuICAgICAgcHJldmlvdXNTZWxlY3RlZENvbmZpZyA9PT0gc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5T2JqZWN0KFxuICAgIGNvbnRlbnRSZWNvcmQ6IENvbnRlbnRSZWNvcmQgfCBQcmVDb250ZW50UmVjb3JkLFxuICApIHtcbiAgICBjb250ZW50UmVjb3Jkcy52YWx1ZS5wdXNoKGNvbnRlbnRSZWNvcmQpO1xuICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSA9IGNvbnRlbnRSZWNvcmQ7XG4gIH1cblxuICB3YXRjaChbc2VydmVyQ3JlZGVudGlhbF0sICgpID0+IHVwZGF0ZVNlbGVjdGlvbkNyZWRlbnRpYWxTdGF0dXMoKSk7XG5cbiAgY29uc3QgdXBkYXRlU2VsZWN0aW9uQ3JlZGVudGlhbFN0YXR1cyA9ICgpID0+IHtcbiAgICBjb25zdCBob3N0Q29uZHVpdCA9IHVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuICAgIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlVQREFURV9TRUxFQ1RJT05fQ1JFREVOVElBTF9TVEFURSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgc3RhdGU6IHNlcnZlckNyZWRlbnRpYWwudmFsdWUgIT09IHVuZGVmaW5lZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICB3YXRjaChbc2VsZWN0ZWRDb250ZW50UmVjb3JkXSwgKCkgPT5cbiAgICB1cGRhdGVTZWxlY3Rpb25Jc1ByZUNvbnRlbnRSZWNvcmRTdGF0ZSgpLFxuICApO1xuXG4gIGNvbnN0IHVwZGF0ZVNlbGVjdGlvbklzUHJlQ29udGVudFJlY29yZFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG4gICAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuVVBEQVRFX1NFTEVDVElPTl9JU19QUkVfQ09OVEVOVF9SRUNPUkQsXG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIHN0YXRlOiBpc1ByZUNvbnRlbnRSZWNvcmQoc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlKVxuICAgICAgICAgID8gXCJ0cnVlXCJcbiAgICAgICAgICA6IFwiZmFsc2VcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgd2F0Y2goW3NlbGVjdGVkQ29uZmlndXJhdGlvbl0sICgpID0+IHVwZGF0ZVBhcmVudFZpZXdTZWxlY3Rpb25TdGF0ZSgpKTtcblxuICBjb25zdCB1cGRhdGVQYXJlbnRWaWV3U2VsZWN0aW9uU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgaG9zdENvbmR1aXQgPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcbiAgICAvLyBza2lwIHNhdmluZyB0aGUgc2VsZWN0aW9uIGlmIHdlIGhhdmUgbm90IHlldFxuICAgIC8vIHNlbGVjdGVkIGEgY29udGVudCByZWNvcmQuIFRoaXMgaXMgcHJvYmFibHkgYW4gaW5pdFxuICAgIC8vIHNlcXVlbmNlLlxuICAgIGlmIChzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBkZXBsb3ltZW50TmFtZTogc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlLnNhdmVOYW1lLFxuICAgICAgICBwcm9qZWN0RGlyOiBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUucHJvamVjdERpcixcbiAgICAgICAgY29uZmlndXJhdGlvbk5hbWU6IHNlbGVjdGVkQ29uZmlndXJhdGlvbi52YWx1ZT8uY29uZmlndXJhdGlvbk5hbWUsXG4gICAgICAgIGRlcGxveW1lbnRQYXRoOiBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUuZGVwbG95bWVudFBhdGgsXG4gICAgICB9O1xuICAgICAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQVZFX1NFTEVDVElPTl9TVEFURSxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHN0YXRlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZVB5dGhvblBhY2thZ2VzID0gKFxuICAgIGlzcHl0aG9uUHJvamVjdDogYm9vbGVhbixcbiAgICBwYWNrYWdlcz86IHN0cmluZ1tdLFxuICAgIGZpbGU/OiBzdHJpbmcsXG4gICAgbWFuYWdlcj86IHN0cmluZyxcbiAgKSA9PiB7XG4gICAgcHl0aG9uUHJvamVjdC52YWx1ZSA9IGlzcHl0aG9uUHJvamVjdDtcbiAgICBweXRob25QYWNrYWdlcy52YWx1ZSA9IHBhY2thZ2VzO1xuICAgIHB5dGhvblBhY2thZ2VGaWxlLnZhbHVlID0gZmlsZTtcbiAgICBweXRob25QYWNrYWdlTWFuYWdlci52YWx1ZSA9IG1hbmFnZXI7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUlBhY2thZ2VzID0gKFxuICAgIGlzUlByb2plY3Q6IGJvb2xlYW4sXG4gICAgcGFja2FnZXM/OiBSUGFja2FnZVtdLFxuICAgIGZpbGU/OiBzdHJpbmcsXG4gICAgbWFuYWdlcj86IHN0cmluZyxcbiAgICB2ZXJzaW9uPzogc3RyaW5nLFxuICApID0+IHtcbiAgICByUHJvamVjdC52YWx1ZSA9IGlzUlByb2plY3Q7XG4gICAgclBhY2thZ2VzLnZhbHVlID0gcGFja2FnZXM7XG4gICAgclBhY2thZ2VGaWxlLnZhbHVlID0gZmlsZTtcbiAgICByUGFja2FnZU1hbmFnZXIudmFsdWUgPSBtYW5hZ2VyO1xuICAgIHJWZXJzaW9uLnZhbHVlID0gdmVyc2lvbjtcbiAgfTtcblxuICBjb25zdCBjbGVhclNlY3JldFZhbHVlcyA9ICgpID0+IHtcbiAgICBjb25zdCBjbGVhcmVkID0gbmV3IE1hcCgpO1xuXG4gICAgc2VjcmV0cy52YWx1ZS5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGNsZWFyZWQuc2V0KGtleSwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIHNlY3JldHMudmFsdWUgPSBjbGVhcmVkO1xuICB9O1xuXG4gIGNvbnN0IHNlY3JldHNXaXRoVmFsdWVDb3VudCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShzZWNyZXRzLnZhbHVlLnZhbHVlcygpKS5maWx0ZXIoKHYpID0+IHYgIT09IHVuZGVmaW5lZClcbiAgICAgIC5sZW5ndGg7XG4gIH0pO1xuXG4gIGNvbnN0IHB5dGhvbiA9IHtcbiAgICBhY3RpdmU6IHtcbiAgICAgIGlzRW1wdHlSZXF1aXJlbWVudHM6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBweXRob25Qcm9qZWN0LnZhbHVlICYmXG4gICAgICAgICAgcHl0aG9uUGFja2FnZUZpbGUudmFsdWUgJiZcbiAgICAgICAgICBweXRob25QYWNrYWdlcy52YWx1ZSAmJlxuICAgICAgICAgIHB5dGhvblBhY2thZ2VzLnZhbHVlLmxlbmd0aCA9PT0gMFxuICAgICAgICApO1xuICAgICAgfSksXG4gICAgICBpc01pc3NpbmdSZXF1aXJlbWVudHM6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHB5dGhvblByb2plY3QudmFsdWUgJiYgIXB5dGhvblBhY2thZ2VGaWxlLnZhbHVlO1xuICAgICAgfSksXG4gICAgICBpc0FsZXJ0QWN0aXZlOiBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcHl0aG9uLmFjdGl2ZS5pc0VtcHR5UmVxdWlyZW1lbnRzLnZhbHVlIHx8XG4gICAgICAgICAgcHl0aG9uLmFjdGl2ZS5pc01pc3NpbmdSZXF1aXJlbWVudHMudmFsdWVcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuICAgICAgaXNJblByb2plY3Q6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHB5dGhvblByb2plY3QudmFsdWU7XG4gICAgICB9KSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IHIgPSB7XG4gICAgYWN0aXZlOiB7XG4gICAgICBpc01pc3NpbmdQYWNrYWdlRmlsZTogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gclByb2plY3QudmFsdWUgJiYgIXJQYWNrYWdlRmlsZS52YWx1ZTtcbiAgICAgIH0pLFxuXG4gICAgICBpc0VtcHR5UmVxdWlyZW1lbnRzOiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgIHJQcm9qZWN0LnZhbHVlICYmXG4gICAgICAgICAgICByUGFja2FnZUZpbGUudmFsdWUgJiZcbiAgICAgICAgICAgIHJQYWNrYWdlcy52YWx1ZSAmJlxuICAgICAgICAgICAgclBhY2thZ2VzLnZhbHVlLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuXG4gICAgICBpc0luUHJvamVjdDogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gclByb2plY3QudmFsdWU7XG4gICAgICB9KSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNyZWRlbnRpYWwgPSB7XG4gICAgaXNBdmFpbGFibGU6IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBCb29sZWFuKHNvcnRlZENyZWRlbnRpYWxzLnZhbHVlLmxlbmd0aCk7XG4gICAgfSksXG5cbiAgICBhY3RpdmU6IHtcbiAgICAgIGlzTWlzc2luZzogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLmFjdGl2ZS5pc0NyZWRlbnRpYWxNaXNzaW5nLnZhbHVlO1xuICAgICAgfSksXG5cbiAgICAgIGlzQWxlcnRBY3RpdmU6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWwuYWN0aXZlLmlzTWlzc2luZy52YWx1ZTtcbiAgICAgIH0pLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgaXNDb25uZWN0Q2xvdWQgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qgc2VydmVyVHlwZSA9XG4gICAgICBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU/LnNlcnZlclR5cGUgfHwgU2VydmVyVHlwZS5DT05ORUNUO1xuICAgIGNvbnN0IHByb2R1Y3RUeXBlID0gZ2V0UHJvZHVjdFR5cGUoc2VydmVyVHlwZSk7XG4gICAgcmV0dXJuIGlzQ29ubmVjdENsb3VkUHJvZHVjdChwcm9kdWN0VHlwZSk7XG4gIH0pO1xuXG4gIGNvbnN0IGFueUFjdGl2ZUFsZXJ0cyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgIWNvbmZpZy5hY3RpdmUuaXNBbGVydEFjdGl2ZS52YWx1ZSAmJlxuICAgICAgKGNyZWRlbnRpYWwuYWN0aXZlLmlzQWxlcnRBY3RpdmUudmFsdWUgfHxcbiAgICAgICAgcHl0aG9uLmFjdGl2ZS5pc0FsZXJ0QWN0aXZlLnZhbHVlKVxuICAgICk7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICBhY3RpdmU6IHtcbiAgICAgIGlzRW50cnlNaXNzaW5nOiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICAgIHNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZSAmJlxuICAgICAgICAgICAgIXNlbGVjdGVkQ29udGVudFJlY29yZC52YWx1ZS5jb25maWd1cmF0aW9uTmFtZSxcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuXG4gICAgICBpc01pc3Npbmc6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgICAgc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlICYmXG4gICAgICAgICAgICAhc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlICYmXG4gICAgICAgICAgICAhY29uZmlnLmFjdGl2ZS5pc0luRXJyb3JMaXN0KFxuICAgICAgICAgICAgICBzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWU/LmNvbmZpZ3VyYXRpb25OYW1lLFxuICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgIWNvbmZpZy5hY3RpdmUuaXNFbnRyeU1pc3NpbmcudmFsdWUsXG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgaXNUT01MRXJyb3I6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgICAgc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlICYmXG4gICAgICAgICAgICBpc0NvbmZpZ3VyYXRpb25FcnJvcihzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUpICYmXG4gICAgICAgICAgICBpc0FnZW50RXJyb3JJbnZhbGlkVE9NTChzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUuZXJyb3IpLFxuICAgICAgICApO1xuICAgICAgfSksXG5cbiAgICAgIGlzVW5rbm93blR5cGU6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgICAgc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlICYmXG4gICAgICAgICAgICAhaXNDb25maWd1cmF0aW9uRXJyb3Ioc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlKSAmJlxuICAgICAgICAgICAgc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlLmNvbmZpZ3VyYXRpb24udHlwZSA9PT0gXCJ1bmtub3duXCIsXG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgaXNVbmtub3duRXJyb3I6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oXG4gICAgICAgICAgc2VsZWN0ZWRDb25maWd1cmF0aW9uLnZhbHVlICYmXG4gICAgICAgICAgICBpc0NvbmZpZ3VyYXRpb25FcnJvcihzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUpICYmXG4gICAgICAgICAgICBpc0FnZW50RXJyb3JUeXBlVW5rbm93bihzZWxlY3RlZENvbmZpZ3VyYXRpb24udmFsdWUuZXJyb3IpLFxuICAgICAgICApO1xuICAgICAgfSksXG5cbiAgICAgIGlzSW5FcnJvckxpc3Q6IChjb25maWdOYW1lPzogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGlmICghY29uZmlnTmFtZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgICAgICBjb25maWd1cmF0aW9uc0luRXJyb3IudmFsdWUuZmluZChcbiAgICAgICAgICAgIChjb25maWcpID0+XG4gICAgICAgICAgICAgIGNvbmZpZy5jb25maWd1cmF0aW9uTmFtZSA9PT1cbiAgICAgICAgICAgICAgc2VsZWN0ZWRDb250ZW50UmVjb3JkLnZhbHVlPy5jb25maWd1cmF0aW9uTmFtZSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfSxcblxuICAgICAgaXNDcmVkZW50aWFsTWlzc2luZzogY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihzZWxlY3RlZENvbnRlbnRSZWNvcmQudmFsdWUgJiYgIXNlcnZlckNyZWRlbnRpYWwudmFsdWUpO1xuICAgICAgfSksXG5cbiAgICAgIGlzQWxlcnRBY3RpdmU6IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25maWcuYWN0aXZlLmlzRW50cnlNaXNzaW5nLnZhbHVlIHx8XG4gICAgICAgICAgY29uZmlnLmFjdGl2ZS5pc01pc3NpbmcudmFsdWUgfHxcbiAgICAgICAgICBjb25maWcuYWN0aXZlLmlzVE9NTEVycm9yLnZhbHVlIHx8XG4gICAgICAgICAgY29uZmlnLmFjdGl2ZS5pc1Vua25vd25FcnJvci52YWx1ZSB8fFxuICAgICAgICAgIGNvbmZpZy5hY3RpdmUuaXNDcmVkZW50aWFsTWlzc2luZy52YWx1ZVxuICAgICAgICApO1xuICAgICAgfSksXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHBsYXRmb3JtRmlsZVNlcGFyYXRvcixcbiAgICBzaG93RGlzYWJsZWRPdmVybGF5LFxuICAgIHB1Ymxpc2hJblByb2dyZXNzLFxuICAgIHB1Ymxpc2hJbml0aWF0ZWQsXG4gICAgY29udGVudFJlbmRlckluUHJvZ3Jlc3MsXG4gICAgY29udGVudFJlbmRlclN1Y2Nlc3MsXG4gICAgY29udGVudFJlbmRlckVycm9yLFxuICAgIGNvbnRlbnRSZWNvcmRzLFxuICAgIGNvbmZpZ3VyYXRpb25zLFxuICAgIGNvbmZpZ3VyYXRpb25zSW5FcnJvcixcbiAgICBjcmVkZW50aWFscyxcbiAgICBzb3J0ZWRDcmVkZW50aWFscyxcbiAgICBzZXJ2ZXJTZXR0aW5ncyxcbiAgICBzZXJ2ZXJTZWNyZXRzLFxuICAgIHNlY3JldHMsXG4gICAgaW50ZWdyYXRpb25SZXF1ZXN0cyxcbiAgICBlbnZpcm9ubWVudCxcbiAgICBkdXBsaWNhdGVkRW52aXJvbm1lbnRWYXJpYWJsZXMsXG4gICAgc2VsZWN0ZWRDb250ZW50UmVjb3JkLFxuICAgIHNlbGVjdGVkQ29uZmlndXJhdGlvbixcbiAgICBzZXJ2ZXJDcmVkZW50aWFsLFxuICAgIGlzQ29ubmVjdENsb3VkLFxuICAgIGluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZSxcbiAgICBsYXN0Q29udGVudFJlY29yZFJlc3VsdCxcbiAgICBsYXN0Q29udGVudFJlY29yZE1zZyxcbiAgICBweXRob25Qcm9qZWN0LFxuICAgIHB5dGhvblBhY2thZ2VzLFxuICAgIHB5dGhvblBhY2thZ2VGaWxlLFxuICAgIHB5dGhvblBhY2thZ2VNYW5hZ2VyLFxuICAgIHJQcm9qZWN0LFxuICAgIHJQYWNrYWdlcyxcbiAgICByUGFja2FnZUZpbGUsXG4gICAgYW55QWN0aXZlQWxlcnRzLFxuICAgIHVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3IsXG4gICAgdXBkYXRlU2VsZWN0ZWRDb250ZW50UmVjb3JkQnlPYmplY3QsXG4gICAgdXBkYXRlUGFyZW50Vmlld1NlbGVjdGlvblN0YXRlLFxuICAgIHVwZGF0ZVB5dGhvblBhY2thZ2VzLFxuICAgIHVwZGF0ZVJQYWNrYWdlcyxcbiAgICBjbGVhclNlY3JldFZhbHVlcyxcbiAgICBzZWNyZXRzV2l0aFZhbHVlQ291bnQsXG4gICAgcHl0aG9uLFxuICAgIHIsXG4gICAgY29uZmlnLFxuICAgIGNyZWRlbnRpYWwsXG4gIH07XG59KTtcbiIsImltcG9ydCB7IENvbnRlbnRSZWNvcmRGaWxlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9hcGlcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkZpbGVCZUluY2x1ZGVkKGZpbGU6IENvbnRlbnRSZWNvcmRGaWxlKTogYm9vbGVhbiB7XG4gIHJldHVybiBCb29sZWFuKGZpbGUucmVhc29uPy5leGNsdWRlICYmIGZpbGUucmVhc29uPy5zb3VyY2UgIT09IFwiYnVpbHQtaW5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5GaWxlQmVFeGNsdWRlZChmaWxlOiBDb250ZW50UmVjb3JkRmlsZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gQm9vbGVhbighZmlsZS5yZWFzb24/LmV4Y2x1ZGUpO1xufVxuXG5leHBvcnQgdHlwZSBGbGF0RmlsZSA9IE9taXQ8Q29udGVudFJlY29yZEZpbGUsIFwiZmlsZXNcIj4gJiB7XG4gIGluZGVudDogbnVtYmVyO1xuICBwYXJlbnQ/OiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIEZsYXR0ZW5zIGEgQ29udGVudFJlY29yZEZpbGVbXSBpbnRvIGEgRmxhdEZpbGVbXSBhcnJheVxuICpcbiAqIEBwYXJhbSBmaWxlcyBUaGUgQ29udGVudFJlY29yZEZpbGVbXSB0byBmbGF0dGVuXG4gKiBAcGFyYW0gZXhwYW5kZWREaXJzIFRoZSBTZXQgb2YgZXhwYW5kZWQgZGlyZWN0b3JpZXNcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHB1c2ggdGhlIGZsYXR0ZW5lZCBmaWxlcyB0b1xuICogQHBhcmFtIGluZGVudCBUaGUgY3VycmVudCBpbmRlbnQgbGV2ZWxcbiAqIEBwYXJhbSBwYXJlbnRGaWxlIFRoZSBwYXJlbnQgZmlsZSBvZiB0aGUgZGlyZWN0b3J5IGJlaW5nIGZsYXR0ZW5lZFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5GaWxlcyhcbiAgZmlsZXM6IENvbnRlbnRSZWNvcmRGaWxlW10sXG4gIGV4cGFuZGVkRGlyczogU2V0PHN0cmluZz4sXG4gIGFyciA9IG5ldyBBcnJheTxGbGF0RmlsZT4oKSxcbiAgaW5kZW50ID0gMCxcbiAgcGFyZW50RmlsZT86IHN0cmluZyxcbik6IEZsYXRGaWxlW10ge1xuICBmaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgY29uc3QgeyBmaWxlcywgLi4ucmVzdCB9ID0gZmlsZTtcbiAgICBjb25zdCBmbGF0RmlsZSA9IHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICBpbmRlbnQ6IGluZGVudCxcbiAgICAgIHBhcmVudDogcGFyZW50RmlsZSxcbiAgICB9O1xuICAgIGFyci5wdXNoKGZsYXRGaWxlKTtcbiAgICBpZiAoZmlsZS5maWxlcy5sZW5ndGggPiAwICYmIGV4cGFuZGVkRGlycy5oYXMoZmlsZS5pZCkpIHtcbiAgICAgIGZsYXR0ZW5GaWxlcyhmaWxlLmZpbGVzLCBleHBhbmRlZERpcnMsIGFyciwgaW5kZW50ICsgMSwgZmlsZS5pZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYXJyO1xufVxuIiwiaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IGNvbXB1dGVkLCByZWYgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBmbGF0dGVuRmlsZXMgfSBmcm9tIFwic3JjL3V0aWxzL2ZpbGVzXCI7XG5cbmltcG9ydCB7IENvbnRlbnRSZWNvcmRGaWxlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9hcGkvdHlwZXMvZmlsZXNcIjtcbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VGaWxlU3RvcmUgPSBkZWZpbmVTdG9yZShcImZpbGVcIiwgKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGNvbnN0IHsgc2VuZE1zZyB9ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5cbiAgY29uc3QgZmlsZXMgPSByZWY8Q29udGVudFJlY29yZEZpbGU+KCk7XG5cbiAgY29uc3QgZXhwYW5kZWREaXJzID0gcmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuXG4gIGNvbnN0IGZsYXRGaWxlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgZmxhdHRlbkZpbGVzKGZpbGVzLnZhbHVlPy5maWxlcyB8fCBbXSwgZXhwYW5kZWREaXJzLnZhbHVlKSxcbiAgKTtcblxuICBjb25zdCBsYXN0RGVwbG95ZWRGaWxlcyA9IGNvbXB1dGVkKCgpOiBTZXQ8c3RyaW5nPiA9PiB7XG4gICAgaWYgKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5zdGF0ZSAhPT0gXCJuZXdcIikge1xuICAgICAgcmV0dXJuIG5ldyBTZXQoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LmZpbGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVmcmVzaEZpbGVzKCkge1xuICAgIHNlbmRNc2coeyBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuUkVRVUVTVF9GSUxFU19MSVNUUyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluY2x1ZGVGaWxlKHsgaWQgfTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJpZFwiPikge1xuICAgIHNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLklOQ0xVREVfRklMRSxcbiAgICAgIGNvbnRlbnQ6IHsgcGF0aDogaWQgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4Y2x1ZGVGaWxlKHsgaWQgfTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJpZFwiPikge1xuICAgIHNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkVYQ0xVREVfRklMRSxcbiAgICAgIGNvbnRlbnQ6IHsgcGF0aDogaWQgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5GaWxlKHsgaWQgfTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJpZFwiPikge1xuICAgIHNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFLFxuICAgICAgY29udGVudDogeyByZWxhdGl2ZVBhdGg6IGlkIH0sXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBhbmREaXIoeyBpZCB9OiBQaWNrPENvbnRlbnRSZWNvcmRGaWxlLCBcImlkXCI+KSB7XG4gICAgZXhwYW5kZWREaXJzLnZhbHVlLmFkZChpZCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb2xsYXBzZURpcih7IGlkIH06IFBpY2s8Q29udGVudFJlY29yZEZpbGUsIFwiaWRcIj4pIHtcbiAgICBleHBhbmRlZERpcnMudmFsdWUuZGVsZXRlKGlkKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmlsZXMsXG4gICAgZXhwYW5kZWREaXJzLFxuICAgIGxhc3REZXBsb3llZEZpbGVzLFxuICAgIGZsYXRGaWxlcyxcbiAgICByZWZyZXNoRmlsZXMsXG4gICAgaW5jbHVkZUZpbGUsXG4gICAgZXhjbHVkZUZpbGUsXG4gICAgb3BlbkZpbGUsXG4gICAgZXhwYW5kRGlyLFxuICAgIGNvbGxhcHNlRGlyLFxuICB9O1xufSk7XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgV2Vidmlld0FwaSB9IGZyb20gXCJ2c2NvZGUtd2Vidmlld1wiO1xuXG5sZXQgYXBpSW5zdGFuY2U6IFdlYnZpZXdBcGk8dW5rbm93bj4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCB2c2NvZGVBUEkgPSAoKTogV2Vidmlld0FwaTx1bmtub3duPiA9PiB7XG4gIGlmICghYXBpSW5zdGFuY2UpIHtcbiAgICBhcGlJbnN0YW5jZSA9IGFjcXVpcmVWc0NvZGVBcGkoKTtcbiAgfVxuICByZXR1cm4gYXBpSW5zdGFuY2U7XG59O1xuIiwiLy8gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuXG5cbmltcG9ydCB7IG9uTW91bnRlZCwgb25Vbm1vdW50ZWQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBIb3N0Q29uZHVpdCB9IGZyb20gXCIuL3V0aWxzL2hvc3RDb25kdWl0XCI7XG5pbXBvcnQge1xuICBIb3N0VG9XZWJ2aWV3TWVzc2FnZSxcbiAgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLFxuICBQdWJsaXNoRmluaXNoRmFpbHVyZU1zZyxcbiAgQ29udGVudFJlbmRlckZhaWx1cmVNc2csXG4gIFJlZnJlc2hDb25maWdEYXRhTXNnLFxuICBSZWZyZXNoQ3JlZGVudGlhbERhdGFNc2csXG4gIFJlZnJlc2hDb250ZW50UmVjb3JkRGF0YU1zZyxcbiAgVXBkYXRlQ29udGVudFJlY29yZFNlbGVjdGlvbk1zZyxcbiAgVXBkYXRlUHl0aG9uUGFja2FnZXMsXG4gIFVwZGF0ZVJQYWNrYWdlcyxcbiAgUmVmcmVzaEZpbGVzTXNnLFxuICBTZXRQYXRoU2VwYXJhdG9yTXNnLFxuICBVcGRhdGVTZXJ2ZXJFbnZpcm9ubWVudE1zZyxcbiAgUmVmcmVzaEludGVncmF0aW9uUmVxdWVzdHNNc2csXG4gIFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyxcbn0gZnJvbSBcIi4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy9ob3N0VG9XZWJ2aWV3TWVzc2FnZXNcIjtcbmltcG9ydCB7XG4gIFdlYnZpZXdUb0hvc3RNZXNzYWdlLFxuICBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUsXG59IGZyb20gXCIuLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5pbXBvcnQgeyB1c2VGaWxlU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9maWxlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB2c2NvZGVBUEkgfSBmcm9tIFwic3JjL3ZzY29kZVwiO1xuXG5sZXQgaG9zdENvbmR1aXQ6IEhvc3RDb25kdWl0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG5jb25zdCB2c0NvZGVBcGkgPSB2c2NvZGVBUEkoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUhvc3RDb25kdWl0U2VydmljZSgpIHtcbiAgaWYgKCFob3N0Q29uZHVpdCkge1xuICAgIGhvc3RDb25kdWl0ID0gbmV3IEhvc3RDb25kdWl0KHdpbmRvdywgdnNDb2RlQXBpKTtcbiAgICBvbk1vdW50ZWQoKCkgPT4gaG9zdENvbmR1aXQgJiYgaG9zdENvbmR1aXQub25Nc2cob25NZXNzYWdlRnJvbUhvc3QpKTtcbiAgICBvblVubW91bnRlZCgoKSA9PiBob3N0Q29uZHVpdCAmJiBob3N0Q29uZHVpdC5kZWFjdGl2YXRlKCkpO1xuICAgIHVzZUhvbWVTdG9yZSgpLmluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZSA9IGZhbHNlO1xuICAgIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLklOSVRJQUxJWklORyxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHNlbmRNc2cgPSAobXNnOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZSkgPT4ge1xuICAgIGlmICghaG9zdENvbmR1aXQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBIb3N0Q29uZGl1dFNlcnZpY2U6OnNlbmRNc2cgYXR0ZW1wdGVkIGFoZWFkIG9mIGNhbGwgdG8gdXNlSG9zdENvbmR1aXRTZXJ2aWNlLiBNZXNzYWdlIERyb3BwZWQ6ICR7SlNPTi5zdHJpbmdpZnkobXNnKX1gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5kZWJ1ZyhgSG9zdENvbmR1aXRTZXJ2aWNlIC0gU2VuZGluZyBNc2c6ICR7SlNPTi5zdHJpbmdpZnkobXNnKX1gKTtcbiAgICByZXR1cm4gaG9zdENvbmR1aXQuc2VuZE1zZyhtc2cpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2VuZE1zZyxcbiAgfTtcbn1cblxuY29uc3Qgb25NZXNzYWdlRnJvbUhvc3QgPSAobXNnOiBIb3N0VG9XZWJ2aWV3TWVzc2FnZSk6IHZvaWQgPT4ge1xuICBjb25zb2xlLmRlYnVnKGBIb3N0Q29uZHVpdFNlcnZpY2UgLSBSZWNlaXZpbmcgTXNnOiAke0pTT04uc3RyaW5naWZ5KG1zZyl9YCk7XG4gIHN3aXRjaCAobXNnLmtpbmQpIHtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5JTklUSUFMSVpJTkdfUkVRVUVTVF9DT01QTEVURTpcbiAgICAgIHJldHVybiBvbkluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZU1zZygpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlJFRlJFU0hfQ09OVEVOVFJFQ09SRF9EQVRBOlxuICAgICAgcmV0dXJuIG9uUmVmcmVzaENvbnRlbnRSZWNvcmREYXRhTXNnKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DT05GSUdfREFUQTpcbiAgICAgIHJldHVybiBvblJlZnJlc2hDb25maWdEYXRhTXNnKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9DUkVERU5USUFMX0RBVEE6XG4gICAgICByZXR1cm4gb25SZWZyZXNoQ3JlZGVudGlhbERhdGFNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0NBTkNFTDpcbiAgICAgIHJldHVybiBvblB1Ymxpc2hDYW5jZWxNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0lOSVQ6XG4gICAgICByZXR1cm4gb25QdWJsaXNoSW5pdE1zZygpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlBVQkxJU0hfU1RBUlQ6XG4gICAgICByZXR1cm4gb25QdWJsaXNoU3RhcnRNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9TVUNDRVNTOlxuICAgICAgcmV0dXJuIG9uUHVibGlzaEZpbmlzaFN1Y2Nlc3NNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5QVUJMSVNIX0ZJTklTSF9GQUlMVVJFOlxuICAgICAgcmV0dXJuIG9uUHVibGlzaEZpbmlzaEZhaWx1cmVNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9TVUNDRVNTOlxuICAgICAgcmV0dXJuIG9uQ29udGVudFJlbmRlclN1Y2Nlc3NNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5DT05URU5UX1JFTkRFUl9GQUlMVVJFOlxuICAgICAgcmV0dXJuIG9uQ29udGVudFJlbmRlckZhaWx1cmVNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5VUERBVEVfQ09OVEVOVFJFQ09SRF9TRUxFQ1RJT046XG4gICAgICByZXR1cm4gb25VcGRhdGVDb250ZW50UmVjb3JkU2VsZWN0aW9uTXNnKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0FWRV9TRUxFQ1RJT046XG4gICAgICByZXR1cm4gb25TYXZlU2VsZWN0aW9uTXNnKCk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuUkVGUkVTSF9GSUxFUzpcbiAgICAgIHJldHVybiBvblJlZnJlc2hGaWxlc01zZyhtc2cpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9QWVRIT05fUEFDS0FHRVM6XG4gICAgICByZXR1cm4gb25VcGRhdGVQeXRob25QYWNrYWdlcyhtc2cpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlVQREFURV9SX1BBQ0tBR0VTOlxuICAgICAgcmV0dXJuIG9uVXBkYXRlUlBhY2thZ2VzKG1zZyk7XG4gICAgY2FzZSBIb3N0VG9XZWJ2aWV3TWVzc2FnZVR5cGUuU0hPV19ESVNBQkxFX09WRVJMQVk6XG4gICAgICByZXR1cm4gb25TaG93RGlzYWJsZU92ZXJsYXlNc2coKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5ISURFX0RJU0FCTEVfT1ZFUkxBWTpcbiAgICAgIHJldHVybiBvbkhpZGVEaXNhYmxlT3ZlcmxheU1zZygpO1xuICAgIGNhc2UgSG9zdFRvV2Vidmlld01lc3NhZ2VUeXBlLlNFVF9QQVRIX1NFUEFSQVRPUjpcbiAgICAgIHJldHVybiBvblNldFBhdGhTZXBhcmF0b3JNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5VUERBVEVfU0VSVkVSX0VOVklST05NRU5UOlxuICAgICAgcmV0dXJuIG9uVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX0lOVEVHUkFUSU9OX1JFUVVFU1RTOlxuICAgICAgcmV0dXJuIG9uUmVmcmVzaEludGVncmF0aW9uUmVxdWVzdHNNc2cobXNnKTtcbiAgICBjYXNlIEhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZS5SRUZSRVNIX1NFUlZFUl9TRVRUSU5HUzpcbiAgICAgIHJldHVybiBvblJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyhtc2cpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLndhcm4oYHVuZXhwZWN0ZWQgY29tbWFuZDogJHtKU09OLnN0cmluZ2lmeShtc2cpfWApO1xuICB9XG59O1xuXG5jb25zdCBvblNldFBhdGhTZXBhcmF0b3JNc2cgPSAobXNnOiBTZXRQYXRoU2VwYXJhdG9yTXNnKSA9PiB7XG4gIHVzZUhvbWVTdG9yZSgpLnBsYXRmb3JtRmlsZVNlcGFyYXRvciA9IG1zZy5jb250ZW50LnNlcGFyYXRvcjtcbn07XG5cbmNvbnN0IG9uSW5pdGlhbGl6aW5nUmVxdWVzdENvbXBsZXRlTXNnID0gKCkgPT4ge1xuICB1c2VIb21lU3RvcmUoKS5pbml0aWFsaXppbmdSZXF1ZXN0Q29tcGxldGUgPSB0cnVlO1xufTtcblxuY29uc3Qgb25TaG93RGlzYWJsZU92ZXJsYXlNc2cgPSAoKSA9PiB7XG4gIHVzZUhvbWVTdG9yZSgpLnNob3dEaXNhYmxlZE92ZXJsYXkgPSB0cnVlO1xufTtcblxuY29uc3Qgb25IaWRlRGlzYWJsZU92ZXJsYXlNc2cgPSAoKSA9PiB7XG4gIHVzZUhvbWVTdG9yZSgpLnNob3dEaXNhYmxlZE92ZXJsYXkgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogV2hlbiBnZXR0aW5nIG5ldyBjb250ZW50UmVjb3JkcyBzZXQgdGhlIG5ldyBuYW1lIGlmIGdpdmVuIG9uZSxcbiAqIHVuc2V0IHRoZSBjb250ZW50UmVjb3JkIGlmIHRvbGQgdG8gZG8gc28gd2l0aCBudWxsLFxuICogb3Iga2VlcCB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZCB3aXRoIHVwZGF0ZWQgZGF0YS5cbiAqL1xuY29uc3Qgb25SZWZyZXNoQ29udGVudFJlY29yZERhdGFNc2cgPSAobXNnOiBSZWZyZXNoQ29udGVudFJlY29yZERhdGFNc2cpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLmNvbnRlbnRSZWNvcmRzID0gbXNnLmNvbnRlbnQuY29udGVudFJlY29yZHM7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSBtc2cuY29udGVudC5kZXBsb3ltZW50U2VsZWN0ZWQ7XG4gIGlmIChzZWxlY3RvciA9PT0gbnVsbCkge1xuICAgIGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIHRoZSBzZWxlY3RvciBpcyB1bmRlZmluZWQgZG9uJ3QgY2hhbmdlIHRoZSBzZWxlY3Rpb24sIGJ1dCB1cGRhdGVcbiAgLy8gdGhlIGRhdGFcbiAgaWYgKHNlbGVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpIHtcbiAgICAgIGhvbWUudXBkYXRlU2VsZWN0ZWRDb250ZW50UmVjb3JkQnlTZWxlY3Rvcih7XG4gICAgICAgIGRlcGxveW1lbnRQYXRoOiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5kZXBsb3ltZW50UGF0aCxcbiAgICAgICAgZGVwbG95bWVudE5hbWU6IGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkLmRlcGxveW1lbnROYW1lLFxuICAgICAgICBwcm9qZWN0RGlyOiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5wcm9qZWN0RGlyLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBhIHNlbGVjdG9yLCBzbyB1cGRhdGUgdGhlIHNlbGVjdGlvblxuICBob21lLnVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufTtcblxuLyoqXG4gKiBXaGVuIGdldHRpbmcgbmV3IGNvbmZpZ3VyYXRpb25zIHNldCB0aGUgbmV3IG5hbWUgaWYgZ2l2ZW4gb25lLFxuICogdW5zZXQgdGhlIGNvbmZpZ3VyYXRpb24gaWYgdG9sZCB0byBkbyBzbyB3aXRoIG51bGwsXG4gKiBrZWVwIHRoZSBzZWxlY3RlZCBjb25maWd1cmF0aW9uIHdpdGggdXBkYXRlZCBkYXRhLFxuICogb3Igc2V0IHRoZSBzZWxlY3RlZCBjb25maWd1cmF0aW9uIHRvIHRoZSBvbmUgZnJvbSB0aGUgc2VsZWN0ZWQgY29udGVudFJlY29yZC5cbiAqL1xuY29uc3Qgb25SZWZyZXNoQ29uZmlnRGF0YU1zZyA9IChtc2c6IFJlZnJlc2hDb25maWdEYXRhTXNnKSA9PiB7XG4gIGNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbiAgaG9tZS5jb25maWd1cmF0aW9ucyA9IG1zZy5jb250ZW50LmNvbmZpZ3VyYXRpb25zO1xuICBob21lLmNvbmZpZ3VyYXRpb25zSW5FcnJvciA9IG1zZy5jb250ZW50LmNvbmZpZ3VyYXRpb25zSW5FcnJvcjtcbn07XG5cbi8qKlxuICogV2hlbiBnZXR0aW5nIG5ldyBjcmVkZW50aWFscyBzZXQgdGhlIG5ldyBuYW1lIGlmIGdpdmVuIG9uZSxcbiAqIHVuc2V0IHRoZSBjcmVkZW50aWFsIGlmIHRvbGQgdG8gZG8gc28gd2l0aCBudWxsLFxuICogb3Iga2VlcCB0aGUgc2VsZWN0ZWQgY3JlZGVudGlhbCB3aXRoIHVwZGF0ZWQgZGF0YS5cbiAqL1xuY29uc3Qgb25SZWZyZXNoQ3JlZGVudGlhbERhdGFNc2cgPSAobXNnOiBSZWZyZXNoQ3JlZGVudGlhbERhdGFNc2cpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLmNyZWRlbnRpYWxzID0gbXNnLmNvbnRlbnQuY3JlZGVudGlhbHM7XG59O1xuY29uc3Qgb25QdWJsaXNoQ2FuY2VsTXNnID0gKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgaG9tZS5wdWJsaXNoSW5pdGlhdGVkID0gZmFsc2U7XG59O1xuY29uc3Qgb25QdWJsaXNoSW5pdE1zZyA9ICgpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLnB1Ymxpc2hJbml0aWF0ZWQgPSBmYWxzZTtcbn07XG5jb25zdCBvblB1Ymxpc2hTdGFydE1zZyA9ICgpID0+IHtcbiAgY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuICBob21lLnB1Ymxpc2hJblByb2dyZXNzID0gdHJ1ZTtcbn07XG5jb25zdCBvblB1Ymxpc2hGaW5pc2hTdWNjZXNzTXNnID0gKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuY2xlYXJTZWNyZXRWYWx1ZXMoKTtcbiAgaG9tZS5wdWJsaXNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICBob21lLmxhc3RDb250ZW50UmVjb3JkUmVzdWx0ID0gYExhc3QgRGVwbG95bWVudCB3YXMgU3VjY2Vzc2Z1bGA7XG4gIGhvbWUubGFzdENvbnRlbnRSZWNvcmRNc2cgPSBcIlwiO1xufTtcbmNvbnN0IG9uUHVibGlzaEZpbmlzaEZhaWx1cmVNc2cgPSAobXNnOiBQdWJsaXNoRmluaXNoRmFpbHVyZU1zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgaG9tZS5sYXN0Q29udGVudFJlY29yZFJlc3VsdCA9IGBMYXN0IERlcGxveW1lbnQgRmFpbGVkYDtcbiAgaG9tZS5sYXN0Q29udGVudFJlY29yZE1zZyA9IG1zZy5jb250ZW50LmRhdGEubWVzc2FnZTtcbn07XG5jb25zdCBvbkNvbnRlbnRSZW5kZXJTdWNjZXNzTXNnID0gKCkgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuY29udGVudFJlbmRlckVycm9yID0gdW5kZWZpbmVkO1xuICBob21lLmNvbnRlbnRSZW5kZXJTdWNjZXNzID0gdHJ1ZTtcbiAgaG9tZS5jb250ZW50UmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xufTtcbmNvbnN0IG9uQ29udGVudFJlbmRlckZhaWx1cmVNc2cgPSAobXNnOiBDb250ZW50UmVuZGVyRmFpbHVyZU1zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuY29udGVudFJlbmRlckVycm9yID0gbXNnLmNvbnRlbnQuZXJyb3I7XG4gIGhvbWUuY29udGVudFJlbmRlclN1Y2Nlc3MgPSBmYWxzZTtcbiAgaG9tZS5jb250ZW50UmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xufTtcbmNvbnN0IG9uVXBkYXRlQ29udGVudFJlY29yZFNlbGVjdGlvbk1zZyA9IChcbiAgbXNnOiBVcGRhdGVDb250ZW50UmVjb3JkU2VsZWN0aW9uTXNnLFxuKSA9PiB7XG4gIGNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbiAgaG9tZS51cGRhdGVTZWxlY3RlZENvbnRlbnRSZWNvcmRCeU9iamVjdChtc2cuY29udGVudC5wcmVDb250ZW50UmVjb3JkKTtcbiAgaWYgKG1zZy5jb250ZW50LnNhdmVTZWxlY3Rpb24pIHtcbiAgICBob21lLnVwZGF0ZVBhcmVudFZpZXdTZWxlY3Rpb25TdGF0ZSgpO1xuICB9XG59O1xuXG5jb25zdCBvblNhdmVTZWxlY3Rpb25Nc2cgPSAoKSA9PiB7XG4gIGNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbiAgaG9tZS51cGRhdGVQYXJlbnRWaWV3U2VsZWN0aW9uU3RhdGUoKTtcbn07XG5cbmNvbnN0IG9uUmVmcmVzaEZpbGVzTXNnID0gKG1zZzogUmVmcmVzaEZpbGVzTXNnKSA9PiB7XG4gIGNvbnN0IGZpbGVTdG9yZSA9IHVzZUZpbGVTdG9yZSgpO1xuXG4gIC8vIElmIHRoZSByb290IGZpbGUgaGFzIGNoYW5nZWQsIHJlc2V0IHRoZSBleHBhbmRlZCBkaXJlY3Rvcmllc1xuICBpZiAobXNnLmNvbnRlbnQuZmlsZXMuYWJzICE9PSBmaWxlU3RvcmUuZmlsZXM/LmFicykge1xuICAgIGZpbGVTdG9yZS5leHBhbmRlZERpcnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBmaWxlU3RvcmUuZmlsZXMgPSBtc2cuY29udGVudC5maWxlcztcbn07XG5cbmNvbnN0IG9uVXBkYXRlUHl0aG9uUGFja2FnZXMgPSAobXNnOiBVcGRhdGVQeXRob25QYWNrYWdlcykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUudXBkYXRlUHl0aG9uUGFja2FnZXMoXG4gICAgbXNnLmNvbnRlbnQucHl0aG9uUHJvamVjdCxcbiAgICBtc2cuY29udGVudC5wYWNrYWdlcyxcbiAgICBtc2cuY29udGVudC5maWxlLFxuICAgIG1zZy5jb250ZW50Lm1hbmFnZXIsXG4gICk7XG59O1xuXG5jb25zdCBvblVwZGF0ZVJQYWNrYWdlcyA9IChtc2c6IFVwZGF0ZVJQYWNrYWdlcykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUudXBkYXRlUlBhY2thZ2VzKFxuICAgIG1zZy5jb250ZW50LnJQcm9qZWN0LFxuICAgIG1zZy5jb250ZW50LnBhY2thZ2VzLFxuICAgIG1zZy5jb250ZW50LmZpbGUsXG4gICAgbXNnLmNvbnRlbnQubWFuYWdlcixcbiAgICBtc2cuY29udGVudC5yVmVyc2lvbixcbiAgKTtcbn07XG5cbmNvbnN0IG9uVXBkYXRlU2VydmVyRW52aXJvbm1lbnRNc2cgPSAobXNnOiBVcGRhdGVTZXJ2ZXJFbnZpcm9ubWVudE1zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuc2VydmVyU2VjcmV0cyA9IG5ldyBTZXQobXNnLmNvbnRlbnQuZW52aXJvbm1lbnQpO1xufTtcblxuY29uc3Qgb25SZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZyA9IChcbiAgbXNnOiBSZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZyxcbikgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuaW50ZWdyYXRpb25SZXF1ZXN0cyA9IG1zZy5jb250ZW50LmludGVncmF0aW9uUmVxdWVzdHM7XG59O1xuXG5jb25zdCBvblJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZyA9IChtc2c6IFJlZnJlc2hTZXJ2ZXJTZXR0aW5nc01zZykgPT4ge1xuICBjb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG4gIGhvbWUuc2VydmVyU2V0dGluZ3MgPSBtc2cuY29udGVudC5zZXJ2ZXJTZXR0aW5ncztcbn07XG4iLCI8IS0tIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLiAtLT5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1vcHRpb25cIj5cbiAgICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1yb3dcIj5cbiAgICAgIDxkaXYgdi1pZj1cImNvZGljb25cIiBjbGFzcz1cInF1aWNrLXBpY2staWNvbiBjb2RpY29uXCIgOmNsYXNzPVwiY29kaWNvblwiIC8+XG4gICAgICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1sYWJlbC1jb250YWluZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJxdWljay1waWNrLWxhYmVsXCI+e3sgbGFiZWwgfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIHYtaWY9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwicXVpY2stcGljay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIHt7IGRlc2NyaXB0aW9uIH19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgdi1mb3I9XCJkZXRhaWwgaW4gZGV0YWlsc1wiIGNsYXNzPVwicXVpY2stcGljay1yb3dcIj5cbiAgICAgIDxkaXYgdi1pZj1cImlzSWNvbkRldGFpbChkZXRhaWwpXCIgY2xhc3M9XCJxdWljay1waWNrLWRldGFpbFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicXVpY2stcGljay1pY29uIGNvZGljb25cIiA6Y2xhc3M9XCJkZXRhaWwuaWNvblwiIC8+XG4gICAgICAgIDxzcGFuPnt7IGRldGFpbC50ZXh0IH19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiB2LWVsc2UgY2xhc3M9XCJxdWljay1waWNrLWRldGFpbFwiPnt7IGRldGFpbCB9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuZXhwb3J0IHR5cGUgSWNvbkRldGFpbCA9IHsgaWNvbjogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfTtcblxuY29uc3QgaXNJY29uRGV0YWlsID0gKGRldGFpbDogc3RyaW5nIHwgSWNvbkRldGFpbCk6IGRldGFpbCBpcyBJY29uRGV0YWlsID0+XG4gIHR5cGVvZiBkZXRhaWwgPT09IFwib2JqZWN0XCIgJiYgXCJpY29uXCIgaW4gZGV0YWlsICYmIFwidGV4dFwiIGluIGRldGFpbDtcblxuZGVmaW5lUHJvcHM8e1xuICBsYWJlbDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZGV0YWlsczogQXJyYXk8c3RyaW5nIHwgSWNvbkRldGFpbD47XG4gIGNvZGljb24/OiBzdHJpbmc7XG59PigpO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5xdWljay1waWNrLW9wdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXg6IDE7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuXG4gIC5xdWljay1waWNrLXJvdyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgJjpub3QoOm9ubHktY2hpbGQpIHtcbiAgICAgIC5xdWljay1waWNrLWxhYmVsLWNvbnRhaW5lciB7XG4gICAgICAgIC5xdWljay1waWNrLWxhYmVsIHtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICY6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgICAucXVpY2stcGljay1kZXRhaWwge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnF1aWNrLXBpY2staWNvbiB7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XG4gICAgICBwYWRkaW5nLXJpZ2h0OiA2cHg7XG4gICAgfVxuXG4gICAgLnF1aWNrLXBpY2stbGFiZWwtY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAxO1xuICAgICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuXG4gICAgICAucXVpY2stcGljay1sYWJlbCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgZmxleDogMiAxO1xuICAgICAgICBtYXgtd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgfVxuXG4gICAgICAucXVpY2stcGljay1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwLjVlbTtcbiAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBmbGV4OiAxIDE7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5xdWljay1waWNrLWRldGFpbCB7XG4gICAgICBsaW5lLWhlaWdodDogbm9ybWFsO1xuICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgd2hpdGUtc3BhY2U6IHByZTtcblxuICAgICAgLnF1aWNrLXBpY2staWNvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tdnNjb2RlLWZvbnQtc2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwibW9uYWNvLWFjdGlvbi1iYXJcIj5cbiAgICA8dWxcbiAgICAgIGNsYXNzPVwiYWN0aW9ucy1jb250YWluZXJcIlxuICAgICAgcm9sZT1cInRvb2xiYXJcIlxuICAgICAgOmFyaWEtbGFiZWw9XCJgJHt0aXRsZX0gYWN0aW9uc2BcIlxuICAgID5cbiAgICAgIDxsaVxuICAgICAgICB2LWZvcj1cImFjdGlvbiBpbiBhY3Rpb25zXCJcbiAgICAgICAgY2xhc3M9XCJhY3Rpb24taXRlbSBtZW51LWVudHJ5XCJcbiAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICA+XG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3M9XCJhY3Rpb24tbGFiZWwgY29kaWNvblwiXG4gICAgICAgICAgOmNsYXNzPVwiYWN0aW9uLmNvZGljb25cIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIDp0aXRsZT1cImFjdGlvbi5sYWJlbFwiXG4gICAgICAgICAgOmFyaWEtbGFiZWw9XCJhY3Rpb24ubGFiZWxcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgQGNsaWNrLnN0b3A9XCJhY3Rpb24uZm5cIlxuICAgICAgICAgIEBrZXlkb3duLmVudGVyPVwiYWN0aW9uLmZuXCJcbiAgICAgICAgPjwvYT5cbiAgICAgIDwvbGk+XG5cbiAgICAgIDxsaVxuICAgICAgICB2LWlmPVwiY29udGV4dE1lbnVcIlxuICAgICAgICByZWY9XCJjb250ZXh0TWVudUJ1dHRvblwiXG4gICAgICAgIDpkYXRhLXZzY29kZS1jb250ZXh0PVwidnNjb2RlQ29udGV4dFwiXG4gICAgICAgIGNsYXNzPVwiYWN0aW9uLWl0ZW0gbWVudS1lbnRyeVwiXG4gICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgPlxuICAgICAgICA8YVxuICAgICAgICAgIGNsYXNzPVwiYWN0aW9uLWxhYmVsIGNvZGljb24gY29kaWNvbi1lbGxpcHNpc1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgOnRpdGxlPVwiYE1vcmUgJHt0aXRsZX0gYWN0aW9uc2BcIlxuICAgICAgICAgIDphcmlhLWxhYmVsPVwiYE1vcmUgJHt0aXRsZX0gYWN0aW9uc2BcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgQGNsaWNrLnN0b3AucHJldmVudD1cIm9wZW5Db250ZXh0TWVudVwiXG4gICAgICAgICAgQGtleWRvd24uZW50ZXI9XCJvcGVuQ29udGV4dE1lbnVcIlxuICAgICAgICA+XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiB9IGZyb20gXCJ2dWVcIjtcblxuZXhwb3J0IHR5cGUgQWN0aW9uQnV0dG9uID0ge1xuICBsYWJlbDogc3RyaW5nO1xuICBjb2RpY29uOiBzdHJpbmc7XG4gIGZuOiAoKSA9PiB2b2lkO1xufTtcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczx7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGFjdGlvbnM/OiBBY3Rpb25CdXR0b25bXTtcbiAgY29udGV4dE1lbnU/OiBzdHJpbmc7XG59PigpO1xuXG5jb25zdCBjb250ZXh0TWVudUJ1dHRvbiA9IHJlZjxIVE1MQW5jaG9yRWxlbWVudCB8IG51bGw+KG51bGwpO1xuXG5jb25zdCBvcGVuQ29udGV4dE1lbnUgPSAoZTogRXZlbnQpID0+IHtcbiAgaWYgKGUgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQpIHtcbiAgICBlLnRhcmdldD8uZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBNb3VzZUV2ZW50KFwiY29udGV4dG1lbnVcIiwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjbGllbnRYOiBlLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6IGUuY2xpZW50WSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQpIHtcbiAgICBlLnRhcmdldD8uZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBNb3VzZUV2ZW50KFwiY29udGV4dG1lbnVcIiwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjbGllbnRYOiBjb250ZXh0TWVudUJ1dHRvbi52YWx1ZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxcbiAgICAgICAgY2xpZW50WTogY29udGV4dE1lbnVCdXR0b24udmFsdWU/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cbn07XG5cbmNvbnN0IHZzY29kZUNvbnRleHQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmICghcHJvcHMuY29udGV4dE1lbnUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICB3ZWJ2aWV3U2VjdGlvbjogcHJvcHMuY29udGV4dE1lbnUsXG4gICAgcHJldmVudERlZmF1bHRDb250ZXh0TWVudUl0ZW1zOiB0cnVlLFxuICB9KTtcbn0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5tb25hY28tYWN0aW9uLWJhciB7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGhlaWdodDogMTAwJTtcblxuICAuYWN0aW9ucy1jb250YWluZXIge1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZzogMDtcbiAgICB3aWR0aDogMTAwJTtcblxuICAgIC5hY3Rpb24taXRlbSB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICAgLmFjdGlvbi1sYWJlbCB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgcGFkZGluZzogMnB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtaWNvbi1mb3JlZ3JvdW5kKTtcblxuICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIG91dGxpbmUtY29sb3I6IHZhcigtLXZzY29kZS1mb2N1c0JvcmRlcik7XG4gICAgICAgICAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gICAgICAgICAgb3V0bGluZS1zdHlsZTogc29saWQ7XG4gICAgICAgICAgb3V0bGluZS13aWR0aDogMXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLXRvb2xiYXItaG92ZXJCYWNrZ3JvdW5kKTtcbiAgICAgICAgICBvdXRsaW5lOiAxcHggZGFzaGVkIHZhcigtLXZzY29kZS10b29sYmFyLWhvdmVyT3V0bGluZSk7XG4gICAgICAgICAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDx2c2NvZGUtYnV0dG9uXG4gICAgOmRhdGEtYXV0b21hdGlvbj1cImBkZXBsb3ktYnV0dG9uYFwiXG4gICAgOmRpc2FibGVkPVwiZGlzYWJsZURlcGxveVwiXG4gICAgQGNsaWNrPVwiZGVwbG95XCJcbiAgPlxuICAgIERlcGxveSBZb3VyIFByb2plY3RcbiAgPC92c2NvZGUtYnV0dG9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuXG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuXG5jb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG5jb25zdCBob3N0Q29uZHVpdCA9IHVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuXG5jb25zdCBoYXZlUmVzb3VyY2VzID0gY29tcHV0ZWQoXG4gICgpID0+XG4gICAgQm9vbGVhbihob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCkgJiZcbiAgICBCb29sZWFuKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uKSAmJlxuICAgIEJvb2xlYW4oaG9tZS5zZXJ2ZXJDcmVkZW50aWFsKSxcbik7XG5cbmNvbnN0IGRpc2FibGVEZXBsb3kgPSBjb21wdXRlZChcbiAgKCkgPT5cbiAgICAhaGF2ZVJlc291cmNlcy52YWx1ZSB8fFxuICAgIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgfHxcbiAgICBob21lLnB1Ymxpc2hJbml0aWF0ZWQgfHxcbiAgICBob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzLFxuKTtcblxuY29uc3QgZGVwbG95ID0gKCkgPT4ge1xuICBpZiAoXG4gICAgIWhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkIHx8XG4gICAgIWhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIHx8XG4gICAgIWhvbWUuc2VydmVyQ3JlZGVudGlhbFxuICApIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJEZXBsb3lCdXR0b246OmRlcGxveSB0cnlpbmcgdG8gc2VuZCBtZXNzYWdlIHdpdGggdW5kZWZpbmVkIHZhbHVlcy4gQWN0aW9uIGlnbm9yZWQuXCIsXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzdG9wIHRoZSB1c2VyIGZyb20gZG91YmxlIGNsaWNraW5nIHRoZSBkZXBsb3kgYnV0dG9uIGJ5IG1pc3Rha2VcbiAgaG9tZS5wdWJsaXNoSW5pdGlhdGVkID0gdHJ1ZTtcblxuICAvLyBJZiB0aGVyZSBpcyBhbnkgcmVuZGVyIHByb2Nlc3MgZmxhZ3MsIGNsZWFyIHRoYXQgdXBcbiAgaG9tZS5jb250ZW50UmVuZGVyU3VjY2VzcyA9IHVuZGVmaW5lZDtcbiAgaG9tZS5jb250ZW50UmVuZGVyRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgLy8gT25seSBzZW5kIHVwIHNlY3JldHMgdGhhdCBoYXZlIHZhbHVlc1xuICBjb25zdCBzZWNyZXRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGhvbWUuc2VjcmV0cy5mb3JFYWNoKCh2YWx1ZSwgbmFtZSkgPT4ge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgc2VjcmV0c1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkRFUExPWSxcbiAgICBjb250ZW50OiB7XG4gICAgICBkZXBsb3ltZW50TmFtZTogaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQuc2F2ZU5hbWUsXG4gICAgICBjb25maWd1cmF0aW9uTmFtZTogaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbk5hbWUsXG4gICAgICBjcmVkZW50aWFsTmFtZTogaG9tZS5zZXJ2ZXJDcmVkZW50aWFsLm5hbWUsXG4gICAgICBwcm9qZWN0RGlyOiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5wcm9qZWN0RGlyLFxuICAgICAgc2VjcmV0czogc2VjcmV0cyxcbiAgICB9LFxuICB9KTtcbn07XG48L3NjcmlwdD5cbiIsIjx0ZW1wbGF0ZT5cbiAgPHZzY29kZS1idXR0b25cbiAgICA6ZGF0YS1hdXRvbWF0aW9uPVwiYHJlbmRlci1idXR0b25gXCJcbiAgICA6ZGlzYWJsZWQ9XCJob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzXCJcbiAgICBAY2xpY2s9XCJyZW5kZXJcIlxuICA+XG4gICAgUmVuZGVyIFlvdXIgUHJvamVjdFxuICA8L3ZzY29kZS1idXR0b24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuaW1wb3J0IHsgdXNlSG9zdENvbmR1aXRTZXJ2aWNlIH0gZnJvbSBcInNyYy9Ib3N0Q29uZHVpdFNlcnZpY2VcIjtcbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbmNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5jb25zdCByZW5kZXIgPSAoKSA9PiB7XG4gIGhvbWUuY29udGVudFJlbmRlckVycm9yID0gdW5kZWZpbmVkO1xuICBob21lLmNvbnRlbnRSZW5kZXJTdWNjZXNzID0gdW5kZWZpbmVkO1xuICBob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzID0gdHJ1ZTtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7IGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRU5ERVJfQ09OVEVOVCB9KTtcbn07XG48L3NjcmlwdD5cbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBpc1ByZUNvbnRlbnRSZWNvcmQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaVwiO1xuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuXG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8e1xuICB2aWV3TG9nOiBbXTtcbn0+KCk7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcblxuY29uc3QgcHJvY2Vzc1Byb2dyZXNzTGFiZWwgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChob21lLnB1Ymxpc2hJblByb2dyZXNzKSB7XG4gICAgcmV0dXJuIFwiRGVwbG95bWVudCBpbiBQcm9ncmVzcy4uLlwiO1xuICB9XG4gIGlmIChob21lLmNvbnRlbnRSZW5kZXJJblByb2dyZXNzKSB7XG4gICAgcmV0dXJuIFwiUmVuZGVyaW5nIENvbnRlbnQuLi5cIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn0pO1xuXG5jb25zdCByZW5kZXJJblByb2dyZXNzTXNnID0gY29tcHV0ZWQoKCkgPT4ge1xuICAvLyBXZSBjdXJyZW50bHkgb25seSByZW5kZXIgY29udGVudCB3aXRoIFF1YXJ0b1xuICAvLyBidXQgaWYgd2UgZ2V0IHRvIGEgcG9pbnQgb2YgcmVuZGVyaW5nIHdpdGggUm1kIG9yIGJ5IG90aGVyIG1lYW5zXG4gIC8vIEhlcmUgaXMgYSBnb29kIHBsYWNlIHRvIGlkZW50aWZ5IHRoZSBcInNvdXJjZVwiIGFuZCB1c2UgYW4gYXBwcm9wcmlhdGUgbGFiZWxcbiAgcmV0dXJuIFwiUXVhcnRvIGlzIHJ1bm5pbmcgdG8gZ2VuZXJhdGUgeW91ciBjb250ZW50XCI7XG59KTtcblxuY29uc3QgY29udGV4dE1lbnVWU0NvZGVDb250ZXh0ID0gY29tcHV0ZWQoKCk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBob21lLnB1Ymxpc2hJblByb2dyZXNzIHx8XG4gICAgaXNQcmVDb250ZW50UmVjb3JkKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkKVxuICAgID8gXCJob21ldmlldy1hY3RpdmUtY29udGVudFJlY29yZC1tb3JlLW1lbnVcIlxuICAgIDogXCJob21ldmlldy1sYXN0LWNvbnRlbnRSZWNvcmQtbW9yZS1tZW51XCI7XG59KTtcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJwcm9jZXNzLWluLXByb2dyZXNzXCI+XG4gICAgPHZzY29kZS1wcm9ncmVzcy1yaW5nIGNsYXNzPVwicHJvY2Vzcy1pbi1wcm9ncmVzc19fcmluZ1wiIC8+XG4gICAgPGRpdiBjbGFzcz1cImZsZXgtZ3Jvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cInByb2Nlc3MtaW4tcHJvZ3Jlc3NfX3RpdGxlLWJsb2NrXCI+XG4gICAgICAgIDxoNFxuICAgICAgICAgIGNsYXNzPVwicHJvY2Vzcy1pbi1wcm9ncmVzc19fdGl0bGVcIlxuICAgICAgICAgIGRhdGEtYXV0b21hdGlvbj1cImRlcGxveW1lbnQtcHJvZ3Jlc3NcIlxuICAgICAgICA+XG4gICAgICAgICAge3sgcHJvY2Vzc1Byb2dyZXNzTGFiZWwgfX1cbiAgICAgICAgPC9oND5cbiAgICAgICAgPEFjdGlvblRvb2xiYXJcbiAgICAgICAgICB2LWlmPVwiaG9tZS5wdWJsaXNoSW5Qcm9ncmVzc1wiXG4gICAgICAgICAgdGl0bGU9XCJMb2dzXCJcbiAgICAgICAgICA6YWN0aW9ucz1cIltdXCJcbiAgICAgICAgICA6Y29udGV4dC1tZW51PVwiY29udGV4dE1lbnVWU0NvZGVDb250ZXh0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAgdi1pZj1cImhvbWUucHVibGlzaEluUHJvZ3Jlc3NcIiBjbGFzcz1cInByb2Nlc3MtaW4tcHJvZ3Jlc3NfX2xvZy1hbmNob3JcIj5cbiAgICAgICAgPGEgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwiZW1pdCgndmlld0xvZycpXCI+XG4gICAgICAgICAgVmlldyBQdWJsaXNoaW5nIExvZ1xuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgICA8cFxuICAgICAgICB2LWlmPVwiaG9tZS5jb250ZW50UmVuZGVySW5Qcm9ncmVzc1wiXG4gICAgICAgIGNsYXNzPVwicHJvY2Vzcy1pbi1wcm9ncmVzc19fcmVuZGVyLW1zZ1wiXG4gICAgICA+XG4gICAgICAgIHt7IHJlbmRlckluUHJvZ3Jlc3NNc2cgfX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ucHJvY2Vzcy1pbi1wcm9ncmVzcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG5cbiAgJl9fcmluZyB7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIG1hcmdpbi10b3A6IDEuMzNlbTtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIH1cblxuICAmX190aXRsZS1ibG9jayB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICB9XG5cbiAgJl9fdGl0bGUge1xuICAgIG1hcmdpbi1ibG9jay1zdGFydDogMS4zM2VtO1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgfVxuXG4gICZfX2xvZy1hbmNob3IsXG4gICZfX3JlbmRlci1tc2cge1xuICAgIG1hcmdpbi10b3A6IDA7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgfVxufVxuPC9zdHlsZT5cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG4vLyBkZXBlbmRpbmcgb24gaW5jbHVkZVRpbWUgcGFyYW0sIHByb2R1Y2VzOlxuLy8gaW5jbHVkZVRpbWUgPSBmYWxzZTogXCJEZWMgMjAsIDIwMjNcIlxuLy8gaW5jbHVkZVRpbWUgPSB0cnVlOiBcIkRlYyAyMCwgMjAyMyBhdCAxMjozOSBQTVwiXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZVN0cmluZyhcbiAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICB7IGluY2x1ZGVUaW1lIH0gPSB7IGluY2x1ZGVUaW1lOiB0cnVlIH0sXG4pIHtcbiAgY29uc3QgZGF0ZVJlc3VsdCA9IG5ldyBEYXRlKGAke2RhdGVTdHJpbmd9YCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xuICAgIGRheTogXCIyLWRpZ2l0XCIsXG4gICAgbW9udGg6IFwic2hvcnRcIixcbiAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgfSk7XG4gIGlmICghaW5jbHVkZVRpbWUpIHtcbiAgICByZXR1cm4gZGF0ZVJlc3VsdDtcbiAgfVxuICBjb25zdCB0aW1lUmVzdWx0ID0gZm9ybWF0VGltZVN0cmluZyhkYXRlU3RyaW5nKTtcbiAgcmV0dXJuIGAke2RhdGVSZXN1bHR9IGF0ICR7dGltZVJlc3VsdH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZVN0cmluZyhcbiAgZGF0ZVN0cmluZzogc3RyaW5nLFxuICB7IGluY2x1ZGVTZWNvbmRzIH0gPSB7IGluY2x1ZGVTZWNvbmRzOiBmYWxzZSB9LFxuKSB7XG4gIGNvbnN0IG9wdGlvbnM6IEludGwuRGF0ZVRpbWVGb3JtYXRPcHRpb25zID0ge1xuICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gIH07XG4gIGlmIChpbmNsdWRlU2Vjb25kcykge1xuICAgIG9wdGlvbnMuc2Vjb25kID0gXCIyLWRpZ2l0XCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKGAke2RhdGVTdHJpbmd9YCkudG9Mb2NhbGVUaW1lU3RyaW5nKFwiZW4tVVNcIiwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnlEYXRlU3RyaW5nKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XG4gIHJldHVybiBEYXRlLnBhcnNlKGEpID4gRGF0ZS5wYXJzZShiKSA/IC0xIDogMTtcbn1cbiIsIjx0ZW1wbGF0ZT5cbiAgPHNwYW4gdi1pZj1cImFjdGl2ZU9wdGlvblwiIDpjbGFzcz1cIiRhdHRycy5jbGFzc1wiPlxuICAgIHt7IG1lc3NhZ2VQYXJ0c1swXSB9fVxuICAgIDxhIGNsYXNzPVwid2Vidmlldy1saW5rXCIgcm9sZT1cImJ1dHRvblwiIEBjbGljaz1cIm9uQ2xpY2soKVwiPlxuICAgICAge3sgYWN0aXZlT3B0aW9uPy5hbmNob3JTdHIgfX1cbiAgICA8L2E+XG4gICAge3sgbWVzc2FnZVBhcnRzWzFdIH19XG4gIDwvc3Bhbj5cbiAgPHNwYW4gdi1lbHNlIDpjbGFzcz1cIiRhdHRycy5jbGFzc1wiPlxuICAgIHt7IG1lc3NhZ2UgfX1cbiAgPC9zcGFuPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHtcbiAgRXJyb3JNZXNzYWdlU3BsaXRPcHRpb24sXG4gIGZpbmRFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9lcnJvckVuaGFuY2VyXCI7XG5cbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czx7XG4gIC8vIDxldmVudE5hbWU+OiA8ZXhwZWN0ZWQgYXJndW1lbnRzPlxuICBjbGljazogW3NwbGl0T3B0aW9uSWQ6IG51bWJlcl07IC8vIG5hbWVkIHR1cGxlIHN5bnRheFxufT4oKTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzcGxpdE9wdGlvbnM6IEVycm9yTWVzc2FnZVNwbGl0T3B0aW9uW107XG59XG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5cbmNvbnN0IGFjdGl2ZU9wdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIGZpbmRFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbihwcm9wcy5tZXNzYWdlKTtcbn0pO1xuXG5jb25zdCBtZXNzYWdlUGFydHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChhY3RpdmVPcHRpb24udmFsdWUgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVPcHRpb24udmFsdWUuYW5jaG9yU3RyKSB7XG4gICAgY29uc3QgcGFydHMgPSBwcm9wcy5tZXNzYWdlLnNwbGl0KGFjdGl2ZU9wdGlvbi52YWx1ZS5hbmNob3JTdHIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBwYXJ0cztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtcIlwiLCBcIlwiXTtcbn0pO1xuXG5jb25zdCBvbkNsaWNrID0gKCkgPT4ge1xuICBpZiAoYWN0aXZlT3B0aW9uLnZhbHVlKSB7XG4gICAgZW1pdChcImNsaWNrXCIsIGFjdGl2ZU9wdGlvbi52YWx1ZS5hY3Rpb25JZCk7XG4gIH1cbn07XG48L3NjcmlwdD5cbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI1IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBpc1ByZUNvbnRlbnRSZWNvcmQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaVwiO1xuaW1wb3J0IHsgaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2Vycm9yXCI7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL2Vycm9yRW5oYW5jZXJcIjtcbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVTdHJpbmcgfSBmcm9tIFwic3JjL3V0aWxzL2RhdGVcIjtcbmltcG9ydCBUZXh0U3RyaW5nV2l0aEFuY2hvciBmcm9tIFwiLi9UZXh0U3RyaW5nV2l0aEFuY2hvci52dWVcIjtcblxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcbiAgYXNzb2NpYXRlRGVwbG95bWVudDogW107XG4gIHZpZXdDb250ZW50OiBbXTtcbiAgZXJyb3JMaW5rQ2xpY2s6IFtzcGxpdE9wdGlvbklkOiBudW1iZXJdO1xufT4oKTtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuXG5jb25zdCBpc0Rpc21pc3NlZENvbnRlbnRSZWNvcmQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBCb29sZWFuKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5kaXNtaXNzZWRBdCk7XG59KTtcblxuY29uc3QgaXNQcmVDb250ZW50UmVjb3JkV2l0aElEID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGlzUHJlQ29udGVudFJlY29yZChob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCkgJiZcbiAgICBCb29sZWFuKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkLmlkKVxuICApO1xufSk7XG5cbmNvbnN0IGlzUHJlQ29udGVudFJlY29yZFdpdGhvdXRJRCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICBpc1ByZUNvbnRlbnRSZWNvcmQoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpICYmXG4gICAgIWlzUHJlQ29udGVudFJlY29yZFdpdGhJRC52YWx1ZVxuICApO1xufSk7XG5cbmNvbnN0IHNob3dDb250ZW50QnV0dG9uID0gY29tcHV0ZWQoKCkgPT4ge1xuICBjb25zdCByZWNvcmQgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZDtcbiAgaWYgKCFyZWNvcmQgfHwgY29udGVudFJlbmRlclByb2Nlc3NlZC52YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gKFxuICAgIHJlY29yZD8uZGFzaGJvYXJkVXJsIHx8ICghaXNQcmVDb250ZW50UmVjb3JkKHJlY29yZCkgJiYgcmVjb3JkLmxvZ3NVcmwpXG4gICk7XG59KTtcblxuY29uc3QgaXNEZXBsb3llZENvbnRlbnRPbkVycm9yID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBkZXBsb3ltZW50RXJyb3IgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uZGVwbG95bWVudEVycm9yO1xuICByZXR1cm4gQm9vbGVhbihcbiAgICBkZXBsb3ltZW50RXJyb3IgJiYgaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyhkZXBsb3ltZW50RXJyb3IpLFxuICApO1xufSk7XG5cbmNvbnN0IGRlcGxveWVkQ29udGVudEJ1dHRvbkxhYmVsID0gY29tcHV0ZWQoKCk6IHN0cmluZyA9PiB7XG4gIGlmIChpc0RlcGxveWVkQ29udGVudE9uRXJyb3IudmFsdWUpIHtcbiAgICByZXR1cm4gXCJWaWV3IERlcGxveW1lbnQgTG9nc1wiO1xuICB9XG4gIHJldHVybiBcIlZpZXcgQ29udGVudFwiO1xufSk7XG5cbmNvbnN0IGxhc3RTdGF0dXNEZXNjcmlwdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgaWYgKGhvbWUuY29udGVudFJlbmRlckVycm9yKSB7XG4gICAgcmV0dXJuIFwiQ29udGVudCBSZW5kZXIgRmFpbGVkXCI7XG4gIH1cbiAgaWYgKGhvbWUuY29udGVudFJlbmRlclN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gXCJDb250ZW50IFJlbmRlciBGaW5pc2hlZFwiO1xuICB9XG4gIGlmICghaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc0Rpc21pc3NlZENvbnRlbnRSZWNvcmQudmFsdWUpIHtcbiAgICByZXR1cm4gXCJMYXN0IERlcGxveW1lbnQgRGlzbWlzc2VkXCI7XG4gIH1cbiAgaWYgKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkLmRlcGxveW1lbnRFcnJvcikge1xuICAgIHJldHVybiBcIkxhc3QgRGVwbG95bWVudCBGYWlsZWRcIjtcbiAgfVxuICBpZiAoaXNQcmVDb250ZW50UmVjb3JkKGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkKSkge1xuICAgIHJldHVybiBpc1ByZUNvbnRlbnRSZWNvcmRXaXRoSUQudmFsdWVcbiAgICAgID8gXCJOb3QgWWV0IFVwZGF0ZWRcIlxuICAgICAgOiBcIk5vdCBZZXQgRGVwbG95ZWRcIjtcbiAgfVxuICByZXR1cm4gXCJMYXN0IERlcGxveW1lbnQgU3VjY2Vzc2Z1bFwiO1xufSk7XG5cbmNvbnN0IHN1Y2Nlc3NmdWxSZW5kZXJNc2cgPSBjb21wdXRlZCgoKSA9PiB7XG4gIC8vIFdlIGN1cnJlbnRseSBvbmx5IHJlbmRlciBjb250ZW50IHdpdGggUXVhcnRvXG4gIC8vIGJ1dCBpZiB3ZSBnZXQgdG8gYSBwb2ludCBvZiByZW5kZXJpbmcgd2l0aCBSbWQgb3IgYnkgb3RoZXIgbWVhbnNcbiAgLy8gSGVyZSBpcyBhIGdvb2QgcGxhY2UgdG8gaWRlbnRpZnkgdGhlIFwic291cmNlXCIgYW5kIHVzZSBhbiBhcHByb3ByaWF0ZSBsYWJlbFxuICByZXR1cm4gXCJTdWNjZXNzZnVsbHkgcmVuZGVyZWQgd2l0aCBRdWFydG9cIjtcbn0pO1xuXG5jb25zdCBjb250ZW50UmVuZGVyUHJvY2Vzc2VkID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGhvbWUuY29udGVudFJlbmRlclN1Y2Nlc3MgIT09IHVuZGVmaW5lZCB8fFxuICAgIGhvbWUuY29udGVudFJlbmRlckVycm9yICE9PSB1bmRlZmluZWRcbiAgKTtcbn0pO1xuXG5jb25zdCBjb250ZXh0TWVudVZTQ29kZUNvbnRleHQgPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGhvbWUucHVibGlzaEluUHJvZ3Jlc3MgfHxcbiAgICBpc1ByZUNvbnRlbnRSZWNvcmQoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQpXG4gICAgPyBcImhvbWV2aWV3LWFjdGl2ZS1jb250ZW50UmVjb3JkLW1vcmUtbWVudVwiXG4gICAgOiBcImhvbWV2aWV3LWxhc3QtY29udGVudFJlY29yZC1tb3JlLW1lbnVcIjtcbn0pO1xuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImxhc3QtYWN0aW9uLXN1bW1hcnlcIiBkYXRhLWF1dG9tYXRpb249XCJkZXBsb3ktc3RhdHVzXCI+XG4gICAgPGg0IGNsYXNzPVwibGFzdC1hY3Rpb24tc3VtbWFyeV9fdGl0bGVcIj5cbiAgICAgIHt7IGxhc3RTdGF0dXNEZXNjcmlwdGlvbiB9fVxuICAgIDwvaDQ+XG4gICAgPEFjdGlvblRvb2xiYXJcbiAgICAgIHYtaWY9XCIhY29udGVudFJlbmRlclByb2Nlc3NlZFwiXG4gICAgICB0aXRsZT1cIkxvZ3NcIlxuICAgICAgOmFjdGlvbnM9XCJbXVwiXG4gICAgICA6Y29udGV4dC1tZW51PVwiY29udGV4dE1lbnVWU0NvZGVDb250ZXh0XCJcbiAgICAvPlxuICA8L2Rpdj5cbiAgPHRlbXBsYXRlIHYtaWY9XCJob21lLmNvbnRlbnRSZW5kZXJTdWNjZXNzXCI+XG4gICAgPGRpdj5cbiAgICAgIHt7IHN1Y2Nlc3NmdWxSZW5kZXJNc2cgfX1cbiAgICA8L2Rpdj5cbiAgPC90ZW1wbGF0ZT5cbiAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImhvbWUuY29udGVudFJlbmRlckVycm9yXCI+XG4gICAgPGRpdiBjbGFzcz1cImxhc3QtYWN0aW9uLXN1bW1hcnlfX2Vycm9yXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQtYm9yZGVyIGJvcmRlci13YXJuaW5nIHRleHQtd2FybmluZ1wiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImNvZGljb24gY29kaWNvbi1hbGVydFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIHt7IGhvbWUuY29udGVudFJlbmRlckVycm9yIH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC90ZW1wbGF0ZT5cbiAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkICYmIGlzRGlzbWlzc2VkQ29udGVudFJlY29yZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJkYXRlLXRpbWVcIj5cbiAgICAgIHt7IGZvcm1hdERhdGVTdHJpbmcoaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQuZGlzbWlzc2VkQXQpIH19XG4gICAgPC9kaXY+XG4gIDwvdGVtcGxhdGU+XG4gIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgPGRpdiB2LWlmPVwiaXNQcmVDb250ZW50UmVjb3JkV2l0aG91dElEXCI+XG4gICAgICBJcyB0aGlzIGFscmVhZHkgZGVwbG95ZWQgdG8gYSBzZXJ2ZXI/IFlvdSBjYW5cbiAgICAgIDxhIGNsYXNzPVwid2Vidmlldy1saW5rXCIgcm9sZT1cImJ1dHRvblwiIEBjbGljaz1cImVtaXQoJ2Fzc29jaWF0ZURlcGxveW1lbnQnKVwiXG4gICAgICAgID51cGRhdGUgdGhhdCBwcmV2aW91cyBkZXBsb3ltZW50PC9hXG4gICAgICA+LlxuICAgIDwvZGl2PlxuICAgIDxkaXYgdi1pZj1cImlzUHJlQ29udGVudFJlY29yZFdpdGhJRFwiPlxuICAgICAgPGEgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwiZW1pdCgndmlld0NvbnRlbnQnKVwiXG4gICAgICAgID5UaGlzIGRlcGxveW1lbnQ8L2FcbiAgICAgID5cbiAgICAgIHdpbGwgYmUgdXBkYXRlZCB3aGVuIGRlcGxveWVkLlxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIHYtaWY9XCJcbiAgICAgICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQgJiZcbiAgICAgICAgIWlzUHJlQ29udGVudFJlY29yZChob21lLnNlbGVjdGVkQ29udGVudFJlY29yZClcbiAgICAgIFwiXG4gICAgICBjbGFzcz1cImRhdGUtdGltZVwiXG4gICAgPlxuICAgICAge3sgZm9ybWF0RGF0ZVN0cmluZyhob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5kZXBsb3llZEF0KSB9fVxuICAgIDwvZGl2PlxuICAgIDxkaXZcbiAgICAgIHYtaWY9XCJob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uZGVwbG95bWVudEVycm9yXCJcbiAgICAgIGNsYXNzPVwibGFzdC1hY3Rpb24tc3VtbWFyeV9fZXJyb3JcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJhbGVydC1ib3JkZXIgYm9yZGVyLXdhcm5pbmcgdGV4dC13YXJuaW5nXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY29kaWNvbiBjb2RpY29uLWFsZXJ0XCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFRleHRTdHJpbmdXaXRoQW5jaG9yXG4gICAgICAgIDptZXNzYWdlPVwiaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LmRlcGxveW1lbnRFcnJvcj8ubXNnXCJcbiAgICAgICAgOnNwbGl0T3B0aW9ucz1cIkVycm9yTWVzc2FnZVNwbGl0T3B0aW9uc1wiXG4gICAgICAgIGNsYXNzPVwibGFzdC1hY3Rpb24tc3VtbWFyeV9fZXJyb3ItYW5jaG9yIHRleHQtZGVzY3JpcHRpb25cIlxuICAgICAgICBAY2xpY2s9XCJlbWl0KCdlcnJvckxpbmtDbGljaycsICRldmVudClcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgPC90ZW1wbGF0ZT5cbiAgPGRpdiB2LWlmPVwic2hvd0NvbnRlbnRCdXR0b25cIiBjbGFzcz1cInZpZXctY29udGVudC1idXR0b25cIj5cbiAgICA8dnNjb2RlLWJ1dHRvblxuICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICBjbGFzcz1cInctZnVsbFwiXG4gICAgICBAY2xpY2s9XCJlbWl0KCd2aWV3Q29udGVudCcpXCJcbiAgICA+XG4gICAgICB7eyBkZXBsb3llZENvbnRlbnRCdXR0b25MYWJlbCB9fVxuICAgIDwvdnNjb2RlLWJ1dHRvbj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ubGFzdC1hY3Rpb24tc3VtbWFyeSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuXG4gICZfX3RpdGxlIHtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDEuMzNlbTtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIH1cblxuICAmX19lcnJvciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuXG4gICAgLmFsZXJ0LWJvcmRlciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGJvcmRlci1yaWdodC13aWR0aDogMXB4O1xuICAgICAgYm9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcbiAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcbiAgICAgIG1hcmdpbi1yaWdodDogN3B4O1xuICAgIH1cblxuICAgICYtYW5jaG9yIHtcbiAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICB9XG4gIH1cbn1cblxuLmRhdGUtdGltZSB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi52aWV3LWNvbnRlbnQtYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cbjwvc3R5bGU+XG4iLCIvLyBDb3B5cmlnaHQgKEMpIDIwMjQgYnkgUG9zaXQgU29mdHdhcmUsIFBCQy5cblxuaW1wb3J0IHsgQXhpb3NFcnJvciwgQXhpb3NSZXNwb25zZSwgaXNBeGlvc0Vycm9yIH0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCB0eXBlIEVycm9yQ29kZSA9XG4gIHwgXCJ1bmtub3duXCJcbiAgfCBcInJlc291cmNlTm90Rm91bmRcIlxuICB8IFwiaW52YWxpZFRPTUxcIlxuICB8IFwidW5rbm93blRPTUxLZXlcIlxuICB8IFwiaW52YWxpZENvbmZpZ0ZpbGVcIlxuICB8IFwiZXJyb3JDZXJ0aWZpY2F0ZVZlcmlmaWNhdGlvblwiXG4gIHwgXCJkZXBsb3lGYWlsZWRcIlxuICB8IFwicmVudlBhY2thZ2VWZXJzaW9uTWlzbWF0Y2hcIlxuICB8IFwicmVudlBhY2thZ2VTb3VyY2VNaXNzaW5nXCJcbiAgfCBcInJlbnZsb2NrUGFja2FnZXNSZWFkaW5nRXJyb3JcIlxuICB8IFwicmVudlBhY2thZ2VOb3RJbnN0YWxsZWRFcnJvclwiXG4gIHwgXCJyZW52QWN0aW9uUmVxdWlyZWRFcnJvclwiXG4gIHwgXCJyZXF1aXJlbWVudHNGaWxlUmVhZGluZ0Vycm9yXCJcbiAgfCBcImRlcGxveWVkQ29udGVudE5vdFJ1bm5pbmdcIlxuICB8IFwidG9tbFZhbGlkYXRpb25FcnJvclwiXG4gIHwgXCJ0b21sVW5rbm93bkVycm9yXCJcbiAgfCBcInB5dGhvbkV4ZWNOb3RGb3VuZFwiXG4gIHwgXCJjcmVkZW50aWFsc0Nhbm5vdEJhY2t1cEZpbGVcIlxuICB8IFwiY3JlZGVudGlhbHNDb3JydXB0ZWRcIlxuICB8IFwiZGV2aWNlQXV0aEFjY2Vzc0RlbmllZFwiXG4gIHwgXCJkZXZpY2VBdXRoRXhwaXJlZFRva2VuXCI7XG5cbmV4cG9ydCB0eXBlIGF4aW9zRXJyb3JXaXRoSnNvbjxUID0geyBjb2RlOiBFcnJvckNvZGU7IGRldGFpbHM6IHVua25vd24gfT4gPVxuICBBeGlvc0Vycm9yICYge1xuICAgIHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+O1xuICB9O1xuXG5leHBvcnQgY29uc3QgaXNBeGlvc0Vycm9yV2l0aEpzb24gPSAoXG4gIGVycjogdW5rbm93bixcbik6IGVyciBpcyBheGlvc0Vycm9yV2l0aEpzb24gPT4ge1xuICBpZiAoaXNBeGlvc0Vycm9yKGVycikpIHtcbiAgICByZXR1cm4gZXJyLnJlc3BvbnNlPy5kYXRhICYmIGVyci5yZXNwb25zZS5kYXRhLmNvZGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgaXNPZkVycm9yVHlwZSA9IChlcnI6IGF4aW9zRXJyb3JXaXRoSnNvbiwgY29kZTogRXJyb3JDb2RlKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBlcnIucmVzcG9uc2UuZGF0YS5jb2RlID09PSBjb2RlO1xufTtcblxudHlwZSBNa0Vycm9yRGF0YVR5cGU8VCBleHRlbmRzIEVycm9yQ29kZSwgRCA9IFJlY29yZDxQcm9wZXJ0eUtleSwgbmV2ZXI+PiA9IHtcbiAgY29kZTogVDtcbiAgZGV0YWlsczogRDtcbn07XG5cbmNvbnN0IG1rRXJyb3JUeXBlR3VhcmQgPSA8VD4oY29kZTogRXJyb3JDb2RlKSA9PiB7XG4gIHJldHVybiAoZXJyOiB1bmtub3duKTogZXJyIGlzIGF4aW9zRXJyb3JXaXRoSnNvbjxUPiA9PiB7XG4gICAgcmV0dXJuIGlzQXhpb3NFcnJvcldpdGhKc29uKGVycikgJiYgaXNPZkVycm9yVHlwZShlcnIsIGNvZGUpO1xuICB9O1xufTtcblxuLy8gVW5rbm93biBFcnJvcnNcbmV4cG9ydCB0eXBlIEVyclVua25vd24gPSBNa0Vycm9yRGF0YVR5cGU8XG4gIFwidW5rbm93blwiLFxuICB7XG4gICAgZXJyb3I6IHN0cmluZztcbiAgICBkYXRhOiBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+O1xuICB9XG4+O1xuZXhwb3J0IGNvbnN0IGlzRXJyVW5rbm93biA9IG1rRXJyb3JUeXBlR3VhcmQ8RXJyVW5rbm93bj4oXCJ1bmtub3duXCIpO1xuZXhwb3J0IGNvbnN0IGVyclVua25vd25NZXNzYWdlID0gKGVycjogYXhpb3NFcnJvcldpdGhKc29uPEVyclVua25vd24+KSA9PiB7XG4gIGNvbnN0IHsgZXJyb3IsIGRhdGEgfSA9IGVyci5yZXNwb25zZS5kYXRhLmRldGFpbHM7XG4gIGxldCBtc2cgPSBgVW5rbm93biBwdWJsaXNoZXIgYWdlbnQgZXJyb3I6ICR7ZXJyb3J9YDtcbiAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgbXNnICs9IGAsICR7a2V5fT0ke2RhdGFba2V5XX1gO1xuICB9KTtcbiAgcmV0dXJuIG1zZztcbn07XG5cbi8vIFJlc291cmNlIG5vdCBmb3VuZFxuZXhwb3J0IHR5cGUgRXJyUmVzb3VyY2VOb3RGb3VuZCA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJyZXNvdXJjZU5vdEZvdW5kXCIsXG4gIHsgcmVzb3VyY2U6IHN0cmluZyB9XG4+O1xuZXhwb3J0IGNvbnN0IGlzRXJyUmVzb3VyY2VOb3RGb3VuZCA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyUmVzb3VyY2VOb3RGb3VuZD4oXCJyZXNvdXJjZU5vdEZvdW5kXCIpO1xuXG4vLyBJbnZhbGlkIFRPTUwgZmlsZShzKVxuZXhwb3J0IHR5cGUgRXJyVE9NTFZhbGlkYXRpb25FcnJvciA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJ0b21sVmFsaWRhdGlvbkVycm9yXCIsXG4gIHtcbiAgICBmaWxlbmFtZTogc3RyaW5nO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBrZXk6IHN0cmluZztcbiAgICBwcm9ibGVtOiBzdHJpbmc7XG4gICAgc2NoZW1hUmVmZXJlbmNlOiBzdHJpbmc7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJUT01MVmFsaWRhdGlvbkVycm9yID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJUT01MVmFsaWRhdGlvbkVycm9yPihcInRvbWxWYWxpZGF0aW9uRXJyb3JcIik7XG5leHBvcnQgY29uc3QgZXJyVE9NTFZhbGlkYXRpb25FcnJvck1lc3NhZ2UgPSAoXG4gIGVycjogYXhpb3NFcnJvcldpdGhKc29uPEVyclRPTUxWYWxpZGF0aW9uRXJyb3I+LFxuKSA9PiB7XG4gIHJldHVybiBgVGhlIENvbmZpZ3VyYXRpb24gaGFzIGEgc2NoZW1hIGVycm9yOiAke2Vyci5yZXNwb25zZS5kYXRhLmRldGFpbHMubWVzc2FnZX1gO1xufTtcblxuLy8gSW52YWxpZCBUT01MIGZpbGUocylcbmV4cG9ydCB0eXBlIEVyckludmFsaWRUT01MRmlsZSA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJpbnZhbGlkVE9NTFwiLFxuICB7XG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY29sdW1uOiBudW1iZXI7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJJbnZhbGlkVE9NTEZpbGUgPVxuICBta0Vycm9yVHlwZUd1YXJkPEVyckludmFsaWRUT01MRmlsZT4oXCJpbnZhbGlkVE9NTFwiKTtcbmV4cG9ydCBjb25zdCBlcnJJbnZhbGlkVE9NTE1lc3NhZ2UgPSAoXG4gIGVycjogYXhpb3NFcnJvcldpdGhKc29uPEVyckludmFsaWRUT01MRmlsZT4sXG4pID0+IHtcbiAgcmV0dXJuIGBUaGUgQ29uZmlndXJhdGlvbiBoYXMgYSBzY2hlbWEgZXJyb3Igb24gbGluZSAke2Vyci5yZXNwb25zZS5kYXRhLmRldGFpbHMubGluZX1gO1xufTtcblxuLy8gVW5rbm93biBrZXkgd2l0aGluIGEgVE9NTCBmaWxlXG5leHBvcnQgdHlwZSBFcnJVbmtub3duVE9NTEtleSA9IE1rRXJyb3JEYXRhVHlwZTxcbiAgXCJ1bmtub3duVE9NTEtleVwiLFxuICB7XG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICBsaW5lOiBudW1iZXI7XG4gICAgY29sdW1uOiBudW1iZXI7XG4gICAga2V5OiBzdHJpbmc7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJVbmtub3duVE9NTEtleSA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyVW5rbm93blRPTUxLZXk+KFwidW5rbm93blRPTUxLZXlcIik7XG5leHBvcnQgY29uc3QgZXJyVW5rbm93blRPTUxLZXlNZXNzYWdlID0gKFxuICBlcnI6IGF4aW9zRXJyb3JXaXRoSnNvbjxFcnJVbmtub3duVE9NTEtleT4sXG4pID0+IHtcbiAgcmV0dXJuIGBUaGUgQ29uZmlndXJhdGlvbiBoYXMgYSBzY2hlbWEgZXJyb3Igb24gbGluZSAke2Vyci5yZXNwb25zZS5kYXRhLmRldGFpbHMubGluZX1gO1xufTtcblxuLy8gVW5rbm93biBlcnJvciB3aXRoaW4gYSBUT01MIGZpbGVcbmV4cG9ydCB0eXBlIEVyclRvbWxVbmtub3duRXJyb3IgPSBNa0Vycm9yRGF0YVR5cGU8XG4gIFwidG9tbFVua25vd25FcnJvclwiLFxuICB7XG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICBwcm9ibGVtOiBzdHJpbmc7XG4gIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJUb21sVW5rbm93bkVycm9yID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJUb21sVW5rbm93bkVycm9yPihcInRvbWxVbmtub3duRXJyb3JcIik7XG5leHBvcnQgY29uc3QgZXJyVG9tbFVua25vd25FcnJvck1lc3NhZ2UgPSAoXG4gIF86IGF4aW9zRXJyb3JXaXRoSnNvbjxFcnJUb21sVW5rbm93bkVycm9yPixcbikgPT4ge1xuICByZXR1cm4gYFRoZSBDb25maWd1cmF0aW9uIGhhcyBhIHNjaGVtYSBlcnJvcmA7XG59O1xuXG4vLyBQeXRob24gZXhlY3V0YWJsZSBub3QgZm91bmRcbmV4cG9ydCB0eXBlIEVyclB5dGhvbkV4ZWNOb3RGb3VuZEVycm9yID0gTWtFcnJvckRhdGFUeXBlPFwicHl0aG9uRXhlY05vdEZvdW5kXCI+O1xuZXhwb3J0IGNvbnN0IGlzRXJyUHl0aG9uRXhlY05vdEZvdW5kRXJyb3IgPVxuICBta0Vycm9yVHlwZUd1YXJkPEVyclB5dGhvbkV4ZWNOb3RGb3VuZEVycm9yPihcInB5dGhvbkV4ZWNOb3RGb3VuZFwiKTtcbmV4cG9ydCBjb25zdCBlcnJQeXRob25FeGVjTm90Rm91bmRFcnJvck1lc3NhZ2UgPSAoXG4gIF86IGF4aW9zRXJyb3JXaXRoSnNvbjxFcnJQeXRob25FeGVjTm90Rm91bmRFcnJvcj4sXG4pID0+IHtcbiAgcmV0dXJuIFwiQ291bGQgbm90IGZpbmQgYSBQeXRob24gZXhlY3V0YWJsZS5cIjtcbn07XG5cbi8vIEludmFsaWQgY29uZmlndXJhdGlvbiBmaWxlKHMpXG5leHBvcnQgdHlwZSBFcnJJbnZhbGlkQ29uZmlnRmlsZXMgPSBNa0Vycm9yRGF0YVR5cGU8XG4gIFwiaW52YWxpZENvbmZpZ0ZpbGVcIixcbiAgeyBmaWxlbmFtZTogc3RyaW5nIH1cbj47XG5leHBvcnQgY29uc3QgaXNFcnJJbnZhbGlkQ29uZmlnRmlsZSA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJySW52YWxpZENvbmZpZ0ZpbGVzPihcImludmFsaWRDb25maWdGaWxlXCIpO1xuXG4vLyBJbnZhbGlkIGNvbmZpZ3VyYXRpb24gZmlsZShzKVxuZXhwb3J0IHR5cGUgRXJyQ3JlZGVudGlhbHNDb3JydXB0ZWQgPSBNa0Vycm9yRGF0YVR5cGU8XCJjcmVkZW50aWFsc0NvcnJ1cHRlZFwiPjtcbmV4cG9ydCBjb25zdCBpc0VyckNyZWRlbnRpYWxzQ29ycnVwdGVkID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJDcmVkZW50aWFsc0NvcnJ1cHRlZD4oXCJjcmVkZW50aWFsc0NvcnJ1cHRlZFwiKTtcbmV4cG9ydCBjb25zdCBlcnJDcmVkZW50aWFsc0NvcnJ1cHRlZE1lc3NhZ2UgPSAoYmFja3VwRmlsZTogc3RyaW5nKSA9PiB7XG4gIGxldCBtc2cgPVxuICAgIFwiVW5yZWNvZ25pemFibGUgY3JlZGVudGlhbHMgZm9yIFBvc2l0IFB1Ymxpc2hlciB3ZXJlIGZvdW5kIGFuZCByZW1vdmVkLiBDcmVkZW50aWFscyBtYXkgbmVlZCB0byBiZSByZWNyZWF0ZWQuXCI7XG4gIGlmIChiYWNrdXBGaWxlKSB7XG4gICAgbXNnICs9IGAgUHJldmlvdXMgY3JlZGVudGlhbHMgZGF0YSBiYWNrZWQgdXAgYXQgJHtiYWNrdXBGaWxlfWA7XG4gIH1cbiAgcmV0dXJuIG1zZztcbn07XG5cbi8vIFVuYWJsZSB0byBiYWNrdXAgY3JlZGVudGlhbHMgZmlsZVxuZXhwb3J0IHR5cGUgRXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlID0gTWtFcnJvckRhdGFUeXBlPFxuICBcImNyZWRlbnRpYWxzQ2Fubm90QmFja3VwRmlsZVwiLFxuICB7IGZpbGVuYW1lOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9XG4+O1xuZXhwb3J0IGNvbnN0IGlzRXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlID1cbiAgbWtFcnJvclR5cGVHdWFyZDxFcnJDYW5ub3RCYWNrdXBDcmVkZW50aWFsc0ZpbGU+KFxuICAgIFwiY3JlZGVudGlhbHNDYW5ub3RCYWNrdXBGaWxlXCIsXG4gICk7XG5leHBvcnQgY29uc3QgZXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlTWVzc2FnZSA9IChcbiAgZXJyOiBheGlvc0Vycm9yV2l0aEpzb248RXJyQ2Fubm90QmFja3VwQ3JlZGVudGlhbHNGaWxlPixcbikgPT4ge1xuICByZXR1cm4gYFVucmVjb2duaXphYmxlIGNyZWRlbnRpYWxzIGZvciBQb3NpdCBQdWJsaXNoZXIgd2VyZSBmb3VuZC4gJHtlcnIucmVzcG9uc2UuZGF0YS5kZXRhaWxzLm1lc3NhZ2V9YDtcbn07XG5cbi8vIERldmljZSBhdXRoIGFjY2VzcyBkZW5pZWQgZXJyb3JcbmV4cG9ydCB0eXBlIEVyckRldmljZUF1dGhBY2Nlc3NEZW5pZWQgPVxuICBNa0Vycm9yRGF0YVR5cGU8XCJkZXZpY2VBdXRoQWNjZXNzRGVuaWVkXCI+O1xuZXhwb3J0IGNvbnN0IGlzRXJyRGV2aWNlQXV0aEFjY2Vzc0RlbmllZCA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyRGV2aWNlQXV0aEFjY2Vzc0RlbmllZD4oXCJkZXZpY2VBdXRoQWNjZXNzRGVuaWVkXCIpO1xuZXhwb3J0IGNvbnN0IGVyckRldmljZUF1dGhBY2Nlc3NEZW5pZWRNZXNzYWdlID1cbiAgXCJUaGUgYXV0aG9yaXphdGlvbiByZXF1ZXN0IHdhcyBkZW5pZWQuXCI7XG5cbi8vIERldmljZSBhdXRoIGV4cGlyZWQgdG9rZW4gZXJyb3JcbmV4cG9ydCB0eXBlIEVyckRldmljZUF1dGhFeHBpcmVkVG9rZW4gPVxuICBNa0Vycm9yRGF0YVR5cGU8XCJkZXZpY2VBdXRoRXhwaXJlZFRva2VuXCI+O1xuZXhwb3J0IGNvbnN0IGlzRGV2aWNlQXV0aEV4cGlyZWRUb2tlbiA9XG4gIG1rRXJyb3JUeXBlR3VhcmQ8RXJyRGV2aWNlQXV0aEV4cGlyZWRUb2tlbj4oXCJkZXZpY2VBdXRoRXhwaXJlZFRva2VuXCIpO1xuZXhwb3J0IGNvbnN0IGVyckRldmljZUF1dGhFeHBpcmVkVG9rZW5NZXNzYWdlID1cbiAgXCJZb3VyIGF1dGhvcml6YXRpb24gc2Vzc2lvbiBoYXMgZXhwaXJlZC5cIjtcblxuLy8gVHJpZXMgdG8gbWF0Y2ggYW4gQXhpb3MgZXJyb3IgdGhhdCBjb21lcyB3aXRoIGFuIGlkZW50aWZpYWJsZSBKc29uIHN0cnVjdHVyZWQgZGF0YVxuLy8gZGVmYXVsdGluZyB0byBiZSBFcnJVbmtub3duIG1lc3NhZ2Ugd2hlblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBZ2VudEpzb25FcnJvck1zZyhlcnI6IGF4aW9zRXJyb3JXaXRoSnNvbikge1xuICBpZiAoaXNFcnJVbmtub3duVE9NTEtleShlcnIpKSB7XG4gICAgcmV0dXJuIGVyclVua25vd25UT01MS2V5TWVzc2FnZShlcnIpO1xuICB9XG5cbiAgaWYgKGlzRXJySW52YWxpZFRPTUxGaWxlKGVycikpIHtcbiAgICByZXR1cm4gZXJySW52YWxpZFRPTUxNZXNzYWdlKGVycik7XG4gIH1cblxuICBpZiAoaXNFcnJUT01MVmFsaWRhdGlvbkVycm9yKGVycikpIHtcbiAgICByZXR1cm4gZXJyVE9NTFZhbGlkYXRpb25FcnJvck1lc3NhZ2UoZXJyKTtcbiAgfVxuXG4gIGlmIChpc0VyclRvbWxVbmtub3duRXJyb3IoZXJyKSkge1xuICAgIHJldHVybiBlcnJUb21sVW5rbm93bkVycm9yTWVzc2FnZShlcnIpO1xuICB9XG5cbiAgaWYgKGlzRXJyUHl0aG9uRXhlY05vdEZvdW5kRXJyb3IoZXJyKSkge1xuICAgIHJldHVybiBlcnJQeXRob25FeGVjTm90Rm91bmRFcnJvck1lc3NhZ2UoZXJyKTtcbiAgfVxuXG4gIGlmIChpc0VyckRldmljZUF1dGhBY2Nlc3NEZW5pZWQoZXJyKSkge1xuICAgIHJldHVybiBlcnJEZXZpY2VBdXRoQWNjZXNzRGVuaWVkTWVzc2FnZTtcbiAgfVxuXG4gIGlmIChpc0RldmljZUF1dGhFeHBpcmVkVG9rZW4oZXJyKSkge1xuICAgIHJldHVybiBlcnJEZXZpY2VBdXRoRXhwaXJlZFRva2VuTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiBlcnJVbmtub3duTWVzc2FnZShlcnIgYXMgYXhpb3NFcnJvcldpdGhKc29uPEVyclVua25vd24+KTtcbn1cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyMyBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBpc0F4aW9zRXJyb3JXaXRoSnNvbiwgcmVzb2x2ZUFnZW50SnNvbkVycm9yTXNnIH0gZnJvbSBcIi4vZXJyb3JUeXBlc1wiO1xuaW1wb3J0IHsgaXNBZ2VudEVycm9yIH0gZnJvbSBcIi4uL2FwaS90eXBlcy9lcnJvclwiO1xuXG5leHBvcnQgdHlwZSBFcnJvck1lc3NhZ2UgPSBzdHJpbmdbXTtcbmV4cG9ydCB0eXBlIEVycm9yTWVzc2FnZXMgPSBFcnJvck1lc3NhZ2VbXTtcblxuZXhwb3J0IGNvbnN0IGdldFN0YXR1c0Zyb21FcnJvciA9IChlcnJvcjogdW5rbm93bik6IG51bWJlciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGVycm9yLnJlc3BvbnNlPy5zdGF0dXM7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0dXNTdHJpbmdGcm9tRXJyb3JSZXNwb25zZSA9IChcbiAgZXJyb3I6IHVua25vd24sXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvci5yZXNwb25zZT8uc3RhdHVzVGV4dDtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvZGVTdHJpbmdGcm9tRXJyb3IgPSAoZXJyb3I6IHVua25vd24pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBlcnJvci5jb2RlO1xuICB9XG4gIGlmIChpc0FnZW50RXJyb3IoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGVycm9yLmNvZGU7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRNZXNzYWdlRnJvbUVycm9yID0gKGVycm9yOiB1bmtub3duKTogc3RyaW5nID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoaXNBeGlvc0Vycm9yV2l0aEpzb24oZXJyb3IpKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUFnZW50SnNvbkVycm9yTXNnKGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikpIHtcbiAgICAgIHJldHVybiBlcnJvci5yZXNwb25zZT8uZGF0YSB8fCBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBpZiAoaXNBZ2VudEVycm9yKGVycm9yKSkge1xuICAgICAgcmV0dXJuIGVycm9yLm1zZztcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gZXJyb3JzIHN1cHByZXNzZWRcbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBUElVUkxGcm9tRXJyb3IgPSAoZXJyb3I6IHVua25vd24pID0+IHtcbiAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikgJiYgZXJyb3IuY29uZmlnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VVUkw6IGVycm9yLmNvbmZpZy5iYXNlVVJMLFxuICAgICAgbWV0aG9kOiBlcnJvci5jb25maWcubWV0aG9kLFxuICAgICAgdXJsOiBlcnJvci5jb25maWcudXJsLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8vIFRoaXMgbWV0aG9kIGJ1aWxkcyBhIGRpYWdub3N0aWMgbWVzc2FnZSB3aGljaCBpcyBvdXRwdXQgdG8gdGhlXG4vLyBWU0NvZGUgY29uc29sZSAob3V0cHV0L3dpbmRvdykgdG8gaGVscCBkaWFnbm9zZSwgYnV0IHRoZW4gcmV0dXJucyB0aGVcbi8vIGJhc2UgZXJyb3Igc3RyaW5nIGZyb20gdGhlIGVycm9yLlxuZXhwb3J0IGNvbnN0IGdldFN1bW1hcnlTdHJpbmdGcm9tRXJyb3IgPSAobG9jYXRpb246IHN0cmluZywgZXJyb3I6IHVua25vd24pID0+IHtcbiAgbGV0IGxvZ01zZyA9IGBQb3NpdCBQdWJsaXNoZXI6IEFuIGVycm9yIGhhcyBvY2N1cnJlZCBhdCAke2xvY2F0aW9ufWA7XG4gIGxldCBtc2cgPSBnZXRNZXNzYWdlRnJvbUVycm9yKGVycm9yKTtcbiAgaWYgKG1zZyA9PT0gXCJcIikge1xuICAgIG1zZyA9IFwiVW5rbm93biBFcnJvclwiO1xuICAgIGxvZ01zZyArPSBgOiAke21zZ30sICR7SlNPTi5zdHJpbmdpZnkoZXJyb3IpfWA7XG4gIH0gZWxzZSB7XG4gICAgbG9nTXNnICs9IGA6ICR7bXNnfWA7XG4gIH1cbiAgaWYgKGlzQWdlbnRFcnJvcihlcnJvcikpIHtcbiAgICBpZiAoZXJyb3IuY29kZSkge1xuICAgICAgbG9nTXNnICs9IGAsIENvZGU9JHtlcnJvci5jb2RlfWA7XG4gICAgfVxuICAgIGlmIChlcnJvci5vcGVyYXRpb24pIHtcbiAgICAgIGxvZ01zZyArPSBgLCBPcGVyYXRpb249JHtlcnJvci5vcGVyYXRpb259YDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWlzQXhpb3NFcnJvcldpdGhKc29uKGVycm9yKSkge1xuICAgIGNvbnN0IHN1bW1hcnkgPSBnZXRTdW1tYXJ5RnJvbUVycm9yKGVycm9yKTtcbiAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgaWYgKHN1bW1hcnkuc3RhdHVzKSB7XG4gICAgICAgIGxvZ01zZyArPSBgLCBTdGF0dXM9JHtzdW1tYXJ5LnN0YXR1c31gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkuc3RhdHVzVGV4dCkge1xuICAgICAgICBsb2dNc2cgKz0gYCwgU3RhdHVzVGV4dD0ke3N1bW1hcnkuc3RhdHVzVGV4dH1gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkuY29kZSkge1xuICAgICAgICBsb2dNc2cgKz0gYCwgQ29kZT0ke3N1bW1hcnkuY29kZX1gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkubXNnKSB7XG4gICAgICAgIGxvZ01zZyArPSBgLCBNc2c9JHtzdW1tYXJ5Lm1zZ31gO1xuICAgICAgfVxuICAgICAgaWYgKHN1bW1hcnkuYmFzZVVSTCB8fCBzdW1tYXJ5Lm1ldGhvZCB8fCBzdW1tYXJ5LnVybCkge1xuICAgICAgICBsb2dNc2cgKz0gYCwgVVJMPSR7c3VtbWFyeS5iYXNlVVJMfS8ke3N1bW1hcnkubWV0aG9kfS8ke3N1bW1hcnkudXJsfWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ01zZyArPSBgLCBFcnJvcj0ke2Vycm9yfWA7XG4gICAgfVxuICB9XG4gIGNvbnNvbGUuZXJyb3IobG9nTXNnKTtcbiAgcmV0dXJuIG1zZztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdW1tYXJ5RnJvbUVycm9yID0gKGVycm9yOiB1bmtub3duKSA9PiB7XG4gIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1c0Zyb21FcnJvcihlcnJvcik7XG4gIGNvbnN0IHN0YXR1c1RleHQgPSBnZXRTdGF0dXNTdHJpbmdGcm9tRXJyb3JSZXNwb25zZShlcnJvcik7XG4gIGNvbnN0IGNvZGUgPSBnZXRDb2RlU3RyaW5nRnJvbUVycm9yKGVycm9yKTtcbiAgY29uc3QgbXNnID0gZ2V0TWVzc2FnZUZyb21FcnJvcihlcnJvcik7XG4gIGNvbnN0IHVybCA9IGdldEFQSVVSTEZyb21FcnJvcihlcnJvcik7XG5cbiAgaWYgKHN0YXR1cyB8fCBzdGF0dXNUZXh0IHx8IGNvZGUgfHwgbXNnIHx8IHVybCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0LFxuICAgICAgY29kZSxcbiAgICAgIG1zZyxcbiAgICAgIC4uLnVybCxcbiAgICB9O1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tGb3JSZXNwb25zZVdpdGhTdGF0dXMgPSAoXG4gIGVycm9yOiB1bmtub3duLFxuICBzdGF0dXNWYWx1ZTogbnVtYmVyLFxuKSA9PiB7XG4gIGNvbnN0IGVycm9yU3RhdHVzID0gZ2V0U3RhdHVzRnJvbUVycm9yKGVycm9yKTtcbiAgcmV0dXJuIGVycm9yU3RhdHVzID09PSBzdGF0dXNWYWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzY3J1YkVycm9yRGF0YSA9IChkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAoIWRhdGEpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIC8vIHJlbW92ZSB3aGF0IHdlIGRvbid0IHdhbnQgdG8gZGlzcGxheVxuICAvLyBpbiB0aGlzIHVua25vd24gbGlzdCBvZiBhdHRyaWJ1dGVzXG4gIGNvbnN0IHsgZmlsZSwgbWV0aG9kLCBzdGF0dXMsIHVybCwgLi4ucmVtYWluaW5nRGF0YSB9ID0gZGF0YTtcblxuICBpZiAoT2JqZWN0LmtleXMocmVtYWluaW5nRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiByZW1haW5pbmdEYXRhO1xufTtcbiIsIjwhLS0gQ29weXJpZ2h0IChDKSAyMDI0IGJ5IFBvc2l0IFNvZnR3YXJlLCBQQkMuIC0tPlxuXG48dGVtcGxhdGU+XG4gIDxkaXZcbiAgICB2LWlmPVwiaG9tZS5pbml0aWFsaXppbmdSZXF1ZXN0Q29tcGxldGVcIlxuICAgIGRhdGEtYXV0b21hdGlvbj1cInB1Ymxpc2hlci1kZXBsb3ltZW50LXNlY3Rpb25cIlxuICA+XG4gICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1zaWRlYmFyLXNlY3Rpb24taGVhZGVyXCI+REVQTE9ZTUVOVDwvc3Bhbj5cblxuICAgICAgPEFjdGlvblRvb2xiYXJcbiAgICAgICAgdGl0bGU9XCJEZXBsb3ltZW50XCJcbiAgICAgICAgOmFjdGlvbnM9XCJ0b29sYmFyQWN0aW9uc1wiXG4gICAgICAgIDpjb250ZXh0LW1lbnU9XCJcbiAgICAgICAgICBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCA/IGNvbnRleHRNZW51Q29udGV4dCA6IHVuZGVmaW5lZFxuICAgICAgICBcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIDx0ZW1wbGF0ZSB2LWlmPVwiaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJkZXBsb3ltZW50LWNvbnRyb2xcIiB2LW9uPVwieyBjbGljazogb25TZWxlY3REZXBsb3ltZW50IH1cIj5cbiAgICAgICAgPFF1aWNrUGlja0l0ZW1cbiAgICAgICAgICA6bGFiZWw9XCJkZXBsb3ltZW50VGl0bGVcIlxuICAgICAgICAgIDpkZXRhaWxzPVwiZGVwbG95bWVudERldGFpbHNcIlxuICAgICAgICAgIDp0aXRsZT1cInRvb2xUaXBUZXh0XCJcbiAgICAgICAgICBkYXRhLWF1dG9tYXRpb249XCJlbnRyeXBvaW50LWxhYmVsXCJcbiAgICAgICAgLz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwic2VsZWN0LWluZGljYXRvciBjb2RpY29uIGNvZGljb24tY2hldnJvbi1yaWdodFwiXG4gICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8dGVtcGxhdGUgdi1pZj1cImhvbWUuZHVwbGljYXRlZEVudmlyb25tZW50VmFyaWFibGVzLmxlbmd0aFwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8dGVtcGxhdGUgdi1pZj1cImhvbWUuZHVwbGljYXRlZEVudmlyb25tZW50VmFyaWFibGVzLmxlbmd0aCA9PT0gMVwiPlxuICAgICAgICAgICAgQSB2YXJpYWJsZSB3YXMgc2V0IGFzIGJvdGggYSBzZWNyZXQgYW5kIGVudmlyb25tZW50IHZhcmlhYmxlLiBJdFxuICAgICAgICAgICAgbXVzdCBvbmx5IGJlIHNldCBhcyBvbmUgb3IgdGhlIG90aGVyLlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJob21lLmR1cGxpY2F0ZWRFbnZpcm9ubWVudFZhcmlhYmxlcy5sZW5ndGggPiAxXCI+XG4gICAgICAgICAgICBWYXJpYWJsZXMgd2VyZSBzZXQgYXMgYm90aCBzZWNyZXRzIGFuZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFRoZXlcbiAgICAgICAgICAgIG11c3Qgb25seSBiZSBzZXQgYXMgb25lIG9yIHRoZSBvdGhlci5cbiAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIEBjbGljaz1cIlxuICAgICAgICAgICAgICBvbkVkaXRDb25maWd1cmF0aW9uKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIS5jb25maWd1cmF0aW9uUGF0aClcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+RWRpdCB0aGUgQ29uZmlndXJhdGlvbjwvYVxuICAgICAgICAgID4uXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+e3sgaG9tZS5kdXBsaWNhdGVkRW52aXJvbm1lbnRWYXJpYWJsZXMuam9pbihcIiwgXCIpIH19PC9wPlxuICAgICAgICA8cD48L3A+XG4gICAgICA8L3RlbXBsYXRlPlxuXG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzRW50cnlNaXNzaW5nXCI+XG4gICAgICAgIE5vIENvbmZpZyBFbnRyeSBpbiBEZXBsb3ltZW50IHJlY29yZCAtXG4gICAgICAgIHt7IGhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5zYXZlTmFtZSB9fS5cbiAgICAgICAgPGEgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwic2VsZWN0Q29uZmlndXJhdGlvblwiPnt7XG4gICAgICAgICAgcHJvbXB0Rm9yQ29uZmlnU2VsZWN0aW9uXG4gICAgICAgIH19PC9hXG4gICAgICAgID4uXG4gICAgICA8L3A+XG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzTWlzc2luZ1wiIGRhdGEtYXV0b21hdGlvbj1cIm1pc3NpbmctY29uZmlnXCI+XG4gICAgICAgIFRoZSBsYXN0IENvbmZpZ3VyYXRpb24gdXNlZCBmb3IgdGhpcyBEZXBsb3ltZW50IHdhcyBub3QgZm91bmQuXG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIEBjbGljaz1cInNlbGVjdENvbmZpZ3VyYXRpb25cIlxuICAgICAgICAgIGRhdGEtYXV0b21hdGlvbj1cImNvbmZpZy1idXR0b25cIlxuICAgICAgICAgID57eyBwcm9tcHRGb3JDb25maWdTZWxlY3Rpb24gfX08L2FcbiAgICAgICAgPi5cbiAgICAgIDwvcD5cbiAgICAgIDxwIHYtaWY9XCJob21lLmNvbmZpZy5hY3RpdmUuaXNUT01MRXJyb3JcIiBkYXRhLWF1dG9tYXRpb249XCJlZGl0LWNvbmZpZ1wiPlxuICAgICAgICBUaGUgc2VsZWN0ZWQgQ29uZmlndXJhdGlvbiBoYXMgYSBzY2hlbWEgZXJyb3JcbiAgICAgICAge3sgZ2V0QWN0aXZlQ29uZmlnVE9NTEVycm9yRGV0YWlscyB9fS5cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgQGNsaWNrPVwib25FZGl0Q29uZmlndXJhdGlvbldpdGhUT01MRXJyb3IoKVwiXG4gICAgICAgICAgZGF0YS1hdXRvbWF0aW9uPVwiZWRpdC1jb25maWctYnV0dG9uXCJcbiAgICAgICAgICA+RWRpdCB0aGUgQ29uZmlndXJhdGlvbjwvYVxuICAgICAgICA+LlxuICAgICAgPC9wPlxuXG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzVW5rbm93blR5cGVcIj5cbiAgICAgICAgUGxlYXNlIHNldCB0aGUgZnJhbWV3b3JrIHlvdSBhcmUgdXNpbmcsIGZvciBleGFtcGxlXG4gICAgICAgIDxjb2RlPnR5cGUgPSAncHl0aG9uLXNoaW55JzwvY29kZT4uXG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3M9XCJ3ZWJ2aWV3LWxpbmtcIlxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgIEBjbGljaz1cIlxuICAgICAgICAgICAgb25FZGl0Q29uZmlndXJhdGlvbihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiEuY29uZmlndXJhdGlvblBhdGgpXG4gICAgICAgICAgXCJcbiAgICAgICAgICA+RWRpdCB0aGUgQ29uZmlndXJhdGlvbjwvYVxuICAgICAgICA+LlxuICAgICAgPC9wPlxuXG4gICAgICA8cCB2LWlmPVwiaG9tZS5jb25maWcuYWN0aXZlLmlzVW5rbm93bkVycm9yXCI+XG4gICAgICAgIFRoZSBzZWxlY3RlZCBDb25maWd1cmF0aW9uIGhhcyBhbiBlcnJvcjoge3sgZ2V0Q29uZmlnRXJyb3IgfX1cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgQGNsaWNrPVwiXG4gICAgICAgICAgICBvbkVkaXRDb25maWd1cmF0aW9uKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIS5jb25maWd1cmF0aW9uUGF0aClcbiAgICAgICAgICBcIlxuICAgICAgICAgID5FZGl0IHRoZSBDb25maWd1cmF0aW9uPC9hXG4gICAgICAgID4uXG4gICAgICA8L3A+XG5cbiAgICAgIDxwXG4gICAgICAgIHYtaWY9XCJob21lLmNvbmZpZy5hY3RpdmUuaXNDcmVkZW50aWFsTWlzc2luZ1wiXG4gICAgICAgIGRhdGEtYXV0b21hdGlvbj1cIm1pc3NpbmctY3JlZHNcIlxuICAgICAgPlxuICAgICAgICB7eyBtaXNzaW5nQ3JlZGVudGlhbE1lc3NhZ2UgfX1cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzcz1cIndlYnZpZXctbGlua1wiXG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgQGNsaWNrPVwibmV3Q3JlZGVudGlhbFwiXG4gICAgICAgICAgZGF0YS1hdXRvbWF0aW9uPVwiY3JlZHMtYnV0dG9uXCJcbiAgICAgICAgICA+Q3JlYXRlIGEgbmV3IENyZWRlbnRpYWw8L2FcbiAgICAgICAgPi5cbiAgICAgIDwvcD5cblxuICAgICAgPFJlbmRlckJ1dHRvbiB2LWlmPVwiaXNSZW5kZXJhYmxlQ29udGVudFwiIGNsYXNzPVwidy1mdWxsIHJlbmRlci1idG5cIiAvPlxuXG4gICAgICA8RGVwbG95QnV0dG9uIGNsYXNzPVwidy1mdWxsXCIgLz5cbiAgICA8L3RlbXBsYXRlPlxuICAgIDxkaXYgdi1lbHNlIGNsYXNzPVwiZGVwbG95bWVudC1jb250cm9sXCIgdi1vbj1cInsgY2xpY2s6IG9uU2VsZWN0RGVwbG95bWVudCB9XCI+XG4gICAgICA8UXVpY2tQaWNrSXRlbVxuICAgICAgICBsYWJlbD1cIlNlbGVjdC4uLlwiXG4gICAgICAgIDpkZXRhaWxzPVwiWycobmV3IG9yIGV4aXN0aW5nKSddXCJcbiAgICAgICAgZGF0YS1hdXRvbWF0aW9uPVwic2VsZWN0LWRlcGxveW1lbnRcIlxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJzZWxlY3QtaW5kaWNhdG9yIGNvZGljb24gY29kaWNvbi1jaGV2cm9uLWRvd25cIlxuICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgICA8dGVtcGxhdGVcbiAgICAgIHYtaWY9XCJob21lLnNlbGVjdGVkQ29udGVudFJlY29yZCAmJiBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZC5zZXJ2ZXJUeXBlXCJcbiAgICA+XG4gICAgICA8dnNjb2RlLWRpdmlkZXIgY2xhc3M9XCJob21lLXZpZXctZGl2aWRlclwiIC8+XG5cbiAgICAgIDxQcm9jZXNzUHJvZ3Jlc3NcbiAgICAgICAgdi1pZj1cInNob3dQcm9ncmVzc1N0YXR1c1wiXG4gICAgICAgIEB2aWV3LWxvZz1cIm9uVmlld1B1Ymxpc2hpbmdMb2dcIlxuICAgICAgLz5cblxuICAgICAgPFByb2Nlc3NTdW1tYXJ5XG4gICAgICAgIHYtZWxzZVxuICAgICAgICBAYXNzb2NpYXRlLWRlcGxveW1lbnQ9XCJvbkFzc29jaWF0ZURlcGxveW1lbnRcIlxuICAgICAgICBAdmlldy1jb250ZW50PVwidmlld0NvbnRlbnRcIlxuICAgICAgICBAZXJyb3ItbGluay1jbGljaz1cIm9uRXJyb3JNZXNzYWdlQW5jaG9yQ2xpY2tcIlxuICAgICAgLz5cbiAgICA8L3RlbXBsYXRlPlxuICA8L2Rpdj5cbiAgPGRpdiB2LWVsc2U+XG4gICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWRlc2NcIj5cbiAgICAgICAgPGRpdj5TY2FubmluZyBkaXJlY3Rvcmllcy4uLjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHtcbiAgQ29uZmlndXJhdGlvbixcbiAgaXNQcmVDb250ZW50UmVjb3JkLFxuICBpc0NvbmZpZ3VyYXRpb25FcnJvcixcbiAgU2VydmVyVHlwZSxcbiAgUHJvZHVjdE5hbWUsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5pbXBvcnQge1xuICBFcnJvck1lc3NhZ2VBY3Rpb25JZHMsXG4gIEVycm9yTWVzc2FnZVNwbGl0T3B0aW9ucyxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9lcnJvckVuaGFuY2VyXCI7XG5pbXBvcnQge1xuICBFZGl0Q29uZmlndXJhdGlvblNlbGVjdGlvbixcbiAgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuaW1wb3J0IHsgY2FsY3VsYXRlVGl0bGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL3V0aWxzL3RpdGxlc1wiO1xuaW1wb3J0IHsgZmlsdGVyQ29uZmlndXJhdGlvbnNUb1ZhbGlkQW5kVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvdXRpbHMvZmlsdGVyc1wiO1xuXG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuXG5pbXBvcnQgUXVpY2tQaWNrSXRlbSwgeyBJY29uRGV0YWlsIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL1F1aWNrUGlja0l0ZW0udnVlXCI7XG5pbXBvcnQgQWN0aW9uVG9vbGJhciBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcbmltcG9ydCBEZXBsb3lCdXR0b24gZnJvbSBcInNyYy9jb21wb25lbnRzL0RlcGxveUJ1dHRvbi52dWVcIjtcbmltcG9ydCBSZW5kZXJCdXR0b24gZnJvbSBcInNyYy9jb21wb25lbnRzL1JlbmRlckJ1dHRvbi52dWVcIjtcbmltcG9ydCBQcm9jZXNzUHJvZ3Jlc3MgZnJvbSBcInNyYy9jb21wb25lbnRzL1Byb2Nlc3NQcm9ncmVzcy52dWVcIjtcbmltcG9ydCBQcm9jZXNzU3VtbWFyeSBmcm9tIFwic3JjL2NvbXBvbmVudHMvUHJvY2Vzc1N1bW1hcnkudnVlXCI7XG5cbmltcG9ydCB7XG4gIEFnZW50RXJyb3IsXG4gIGlzQWdlbnRFcnJvckludmFsaWRUT01MLFxuICBpc0FnZW50RXJyb3JEZXBsb3llZENvbnRlbnROb3RSdW5uaW5nLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2FwaS90eXBlcy9lcnJvclwiO1xuaW1wb3J0IHtcbiAgZ2V0UHJvZHVjdFR5cGUsXG4gIGlzQ29ubmVjdENsb3VkUHJvZHVjdCxcbiAgaXNDb25uZWN0UHJvZHVjdCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9tdWx0aVN0ZXBIZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRTdW1tYXJ5U3RyaW5nRnJvbUVycm9yIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy91dGlscy9lcnJvcnNcIjtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuY29uc3QgaG9zdENvbmR1aXQgPSB1c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcblxuY29uc3QgZ2V0Q29uZmlnRXJyb3IgPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgaWYgKCFob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IGVycm9yID0gaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pXG4gICAgPyBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbi5lcnJvclxuICAgIDogbnVsbDtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiBnZXRTdW1tYXJ5U3RyaW5nRnJvbUVycm9yKFwiRXZlbkVhc2llckRlcGxveVwiLCBlcnJvcik7XG59KTtcblxuY29uc3QgdG9vbGJhckFjdGlvbnMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICByZXN1bHQucHVzaCh7XG4gICAgbGFiZWw6IFwiQWRkIERlcGxveW1lbnRcIixcbiAgICBjb2RpY29uOiBcImNvZGljb24tYWRkXCIsXG4gICAgZm46IG9uQWRkRGVwbG95bWVudCxcbiAgfSk7XG5cbiAgaWYgKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgbGFiZWw6IFwiRWRpdCBDb25maWd1cmF0aW9uXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tZWRpdFwiLFxuICAgICAgZm46ICgpID0+XG4gICAgICAgIG9uRWRpdENvbmZpZ3VyYXRpb24oaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24hLmNvbmZpZ3VyYXRpb25QYXRoKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmNvbnN0IG9uU2VsZWN0RGVwbG95bWVudCA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNFTEVDVF9ERVBMT1lNRU5ULFxuICB9KTtcbn07XG5cbmNvbnN0IG9uQWRkRGVwbG95bWVudCA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5FV19ERVBMT1lNRU5ULFxuICB9KTtcbn07XG5cbmNvbnN0IG9uRWRpdENvbmZpZ3VyYXRpb24gPSAoXG4gIGZ1bGxQYXRoOiBzdHJpbmcsXG4gIHNlbGVjdGlvbj86IEVkaXRDb25maWd1cmF0aW9uU2VsZWN0aW9uLFxuKSA9PiB7XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5FRElUX0NPTkZJR1VSQVRJT04sXG4gICAgY29udGVudDoge1xuICAgICAgY29uZmlndXJhdGlvblBhdGg6IGZ1bGxQYXRoLFxuICAgICAgc2VsZWN0aW9uLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3Qgb25WaWV3UHVibGlzaGluZ0xvZyA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZJRVdfUFVCTElTSElOR19MT0csXG4gIH0pO1xufTtcblxuY29uc3QgZmlsdGVyZWRDb25maWdzID0gY29tcHV0ZWQoKCk6IENvbmZpZ3VyYXRpb25bXSA9PiB7XG4gIHJldHVybiBmaWx0ZXJDb25maWd1cmF0aW9uc1RvVmFsaWRBbmRUeXBlKFxuICAgIGhvbWUuY29uZmlndXJhdGlvbnMsXG4gICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnR5cGUsXG4gICk7XG59KTtcblxuY29uc3QgY29udGV4dE1lbnVDb250ZXh0ID0gY29tcHV0ZWQoKCk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBmaWx0ZXJlZENvbmZpZ3MudmFsdWUubGVuZ3RoID4gMFxuICAgID8gXCJldmVuLWVhc2llci1kZXBsb3ktbW9yZS1tZW51LW1hdGNoaW5nLWNvbmZpZ3NcIlxuICAgIDogXCJldmVuLWVhc2llci1kZXBsb3ktbW9yZS1tZW51LW5vLW1hdGNoaW5nLWNvbmZpZ3NcIjtcbn0pO1xuXG5jb25zdCBwcm9tcHRGb3JDb25maWdTZWxlY3Rpb24gPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGZpbHRlcmVkQ29uZmlncy52YWx1ZS5sZW5ndGggPiAwXG4gICAgPyBcIlNlbGVjdCBhIENvbmZpZ3VyYXRpb25cIlxuICAgIDogXCJDcmVhdGUgYSBDb25maWd1cmF0aW9uXCI7XG59KTtcblxuY29uc3QgZGVwbG95bWVudFRpdGxlID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAoIWhvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkKSB7XG4gICAgLy8gbm8gdGl0bGUgaWYgdGhlcmUgaXMgbm8gc2VsZWN0ZWQgY29udGVudFJlY29yZFxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlVGl0bGUoXG4gICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQsXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24sXG4gICk7XG4gIHJldHVybiByZXN1bHQudGl0bGU7XG59KTtcblxuY29uc3QgZGVwbG95bWVudERldGFpbHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IGRldGFpbHM6IEljb25EZXRhaWxbXSA9IFtdO1xuICBkZXRhaWxzLnB1c2goeyBpY29uOiBcImNvZGljb24tc2VydmVyXCIsIHRleHQ6IGNyZWRlbnRpYWxTdWJUaXRsZS52YWx1ZSB9KTtcbiAgaWYgKGVudHJ5cG9pbnRTdWJUaXRsZS52YWx1ZSkge1xuICAgIGRldGFpbHMucHVzaCh7IGljb246IFwiY29kaWNvbi1maWxlXCIsIHRleHQ6IGVudHJ5cG9pbnRTdWJUaXRsZS52YWx1ZSB9KTtcbiAgfVxuICByZXR1cm4gZGV0YWlscztcbn0pO1xuXG5jb25zdCBjcmVkZW50aWFsU3ViVGl0bGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChob21lLnNlcnZlckNyZWRlbnRpYWw/Lm5hbWUpIHtcbiAgICByZXR1cm4gYCR7aG9tZS5zZXJ2ZXJDcmVkZW50aWFsLm5hbWV9YDtcbiAgfVxuICBjb25zdCBzZXJ2ZXJUeXBlID1cbiAgICBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uc2VydmVyVHlwZSB8fCBTZXJ2ZXJUeXBlLkNPTk5FQ1Q7XG4gIGNvbnN0IHByb2R1Y3RUeXBlID0gZ2V0UHJvZHVjdFR5cGUoc2VydmVyVHlwZSk7XG4gIGlmIChpc0Nvbm5lY3RDbG91ZFByb2R1Y3QocHJvZHVjdFR5cGUpKSB7XG4gICAgcmV0dXJuIGBNaXNzaW5nIENyZWRlbnRpYWwgZm9yICR7UHJvZHVjdE5hbWUuQ09OTkVDVF9DTE9VRH1gO1xuICB9IGVsc2UgaWYgKGlzQ29ubmVjdFByb2R1Y3QocHJvZHVjdFR5cGUpKSB7XG4gICAgcmV0dXJuIGBNaXNzaW5nIENyZWRlbnRpYWwgZm9yICR7aG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnNlcnZlclVybH1gO1xuICB9XG4gIHJldHVybiBcIk1pc3NpbmcgQ3JlZGVudGlhbFwiO1xufSk7XG5cbmNvbnN0IG1pc3NpbmdDcmVkZW50aWFsTWVzc2FnZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgY29uc3Qgc2VydmVyVHlwZSA9XG4gICAgaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnNlcnZlclR5cGUgfHwgU2VydmVyVHlwZS5DT05ORUNUO1xuICBjb25zdCBwcm9kdWN0VHlwZSA9IGdldFByb2R1Y3RUeXBlKHNlcnZlclR5cGUpO1xuICBpZiAoaXNDb25uZWN0Q2xvdWRQcm9kdWN0KHByb2R1Y3RUeXBlKSkge1xuICAgIHJldHVybiBcIk5vIGNyZWRlbnRpYWwgd2FzIGZvdW5kIGZvciB0aGUgZGVwbG95bWVudCdzIGFjY291bnQuXCI7XG4gIH0gZWxzZSBpZiAoaXNDb25uZWN0UHJvZHVjdChwcm9kdWN0VHlwZSkpIHtcbiAgICByZXR1cm4gXCJObyBjcmVkZW50aWFsIHdhcyBmb3VuZCBmb3IgdGhlIGRlcGxveW1lbnQncyBzZXJ2ZXIuXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59KTtcblxuY29uc3QgZW50cnlwb2ludFN1YlRpdGxlID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAoXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICAhaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pXG4gICkge1xuICAgIGNvbnN0IGNvbnRlbnRSZWNvcmQgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZDtcbiAgICBjb25zdCBjb25maWcgPSBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbjtcbiAgICBpZiAoY29udGVudFJlY29yZCkge1xuICAgICAgbGV0IHN1YlRpdGxlID0gXCJcIjtcbiAgICAgIGlmIChjb250ZW50UmVjb3JkLnByb2plY3REaXIgIT09IFwiLlwiKSB7XG4gICAgICAgIHN1YlRpdGxlID0gYCR7Y29udGVudFJlY29yZC5wcm9qZWN0RGlyfSR7aG9tZS5wbGF0Zm9ybUZpbGVTZXBhcmF0b3J9YDtcbiAgICAgIH1cbiAgICAgIGlmICghaG9tZS5jb25maWcuYWN0aXZlLmlzVW5rbm93bkVycm9yKSB7XG4gICAgICAgIHN1YlRpdGxlICs9IGNvbmZpZy5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3ViVGl0bGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlByb2plY3REaXIgYW5kIEVudHJ5cG9pbnQgbm90IGRldGVybWluZWRcIjtcbn0pO1xuXG5jb25zdCBzZWxlY3RDb25maWd1cmF0aW9uID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19TRUxFQ1RfQ09ORklHVVJBVElPTixcbiAgfSk7XG59O1xuXG5jb25zdCBzaG93UHJvZ3Jlc3NTdGF0dXMgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBob21lLnB1Ymxpc2hJblByb2dyZXNzIHx8IGhvbWUuY29udGVudFJlbmRlckluUHJvZ3Jlc3M7XG59KTtcblxuY29uc3QgaXNSZW5kZXJhYmxlQ29udGVudCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICAgICFpc0NvbmZpZ3VyYXRpb25FcnJvcihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbikgJiZcbiAgICAgIGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uLmNvbmZpZ3VyYXRpb24uc291cmNlLFxuICApO1xufSk7XG5cbmNvbnN0IHRvb2xUaXBUZXh0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICBsZXQgZW50cnlwb2ludCA9IFwidW5rbm93blwiO1xuICBpZiAoXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICAhaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pICYmXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24uY29uZmlndXJhdGlvbi5lbnRyeXBvaW50XG4gICkge1xuICAgIGVudHJ5cG9pbnQgPSBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbi5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnQ7XG4gIH1cbiAgcmV0dXJuIGBEZXBsb3ltZW50IERldGFpbHNcbi0gRGVwbG95bWVudCBSZWNvcmQ6ICR7aG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ/LnNhdmVOYW1lIHx8IFwiPHVuZGVmaW5lZD5cIn1cbi0gQ29uZmlndXJhdGlvbiBGaWxlOiAke2hvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uPy5jb25maWd1cmF0aW9uTmFtZSB8fCBcIjx1bmRlZmluZWQ+XCJ9XG4tIENyZWRlbnRpYWwgSW4gVXNlOiAke2hvbWUuc2VydmVyQ3JlZGVudGlhbD8ubmFtZSB8fCBcIjx1bmRlZmluZWQ+XCJ9XG4tIFByb2plY3QgRGlyOiAke2hvbWUuc2VsZWN0ZWRDb250ZW50UmVjb3JkPy5wcm9qZWN0RGlyIHx8IFwiPHVuZGVmaW5lZD5cIn1cbi0gRW50cnlwb2ludDogJHtlbnRyeXBvaW50fVxuLSBTZXJ2ZXIgVVJMOiAke2hvbWUuc2VydmVyQ3JlZGVudGlhbD8udXJsIHx8IFwiPHVuZGVmaW5lZD5cIn1gO1xufSk7XG5cbmNvbnN0IGdldEFjdGl2ZUNvbmZpZ0Vycm9yID0gY29tcHV0ZWQoKCk6IEFnZW50RXJyb3IgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoXG4gICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICBpc0NvbmZpZ3VyYXRpb25FcnJvcihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbikgJiZcbiAgICBpc0FnZW50RXJyb3JJbnZhbGlkVE9NTChob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbi5lcnJvcilcbiAgKSB7XG4gICAgcmV0dXJuIGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uLmVycm9yO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59KTtcblxuY29uc3QgZ2V0QWN0aXZlQ29uZmlnVE9NTEVycm9yRGV0YWlscyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgY29uc3QgYWdlbnRFcnJvciA9IGdldEFjdGl2ZUNvbmZpZ0Vycm9yLnZhbHVlO1xuICBpZiAoYWdlbnRFcnJvciAmJiBpc0FnZW50RXJyb3JJbnZhbGlkVE9NTChhZ2VudEVycm9yKSkge1xuICAgIHJldHVybiBgb24gbGluZSAke2FnZW50RXJyb3IuZGF0YS5saW5lfWA7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59KTtcblxuY29uc3QgaXNEZXBsb3llZENvbnRlbnRPbkVycm9yID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBkZXBsb3ltZW50RXJyb3IgPSBob21lLnNlbGVjdGVkQ29udGVudFJlY29yZD8uZGVwbG95bWVudEVycm9yO1xuICByZXR1cm4gQm9vbGVhbihcbiAgICBkZXBsb3ltZW50RXJyb3IgJiYgaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyhkZXBsb3ltZW50RXJyb3IpLFxuICApO1xufSk7XG5cbmNvbnN0IG9uRWRpdENvbmZpZ3VyYXRpb25XaXRoVE9NTEVycm9yID0gKCkgPT4ge1xuICBjb25zdCBhZ2VudEVycm9yID0gZ2V0QWN0aXZlQ29uZmlnRXJyb3IudmFsdWU7XG4gIGlmIChhZ2VudEVycm9yICYmIGlzQWdlbnRFcnJvckludmFsaWRUT01MKGFnZW50RXJyb3IpKSB7XG4gICAgb25FZGl0Q29uZmlndXJhdGlvbihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiEuY29uZmlndXJhdGlvblBhdGgsIHtcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIGxpbmU6IGFnZW50RXJyb3IuZGF0YS5saW5lIC0gMSxcbiAgICAgICAgY2hhcmFjdGVyOiBhZ2VudEVycm9yLmRhdGEuY29sdW1uIC0gMSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgY29uc29sZS5lcnJvcihcbiAgICBcIkV2ZW5FYXNpZXJEZXBsb3k6Om9uRWRpdENvbmZpZ3VyYXRpb25XaXRoVE9NTEVycm9yLCBlcnJvciBpcyBub3QgZXhwZWN0ZWQgdHlwZS4gSWdub3JpbmcuXCIsXG4gICk7XG4gIHJldHVybjtcbn07XG5cbmNvbnN0IG9uRXJyb3JNZXNzYWdlQW5jaG9yQ2xpY2sgPSAoc3BsaXRPcHRpb25JZDogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IG9wdGlvbiA9IEVycm9yTWVzc2FnZVNwbGl0T3B0aW9ucy5maW5kKFxuICAgIChvcHRpb24pID0+IG9wdGlvbi5hY3Rpb25JZCA9PT0gc3BsaXRPcHRpb25JZCxcbiAgKTtcbiAgaWYgKCFvcHRpb24pIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJFdmVuRWFzaWVyRGVwbG95OjpvbkVycm9yTWVzc2FnZUFuY2hvckNsaWNrLCBldmVudCBkb2VzIG5vdCBtYXRjaCBvcHRpb25zLiBJZ25vcmluZy5cIixcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAob3B0aW9uLmFjdGlvbklkID09PSBFcnJvck1lc3NhZ2VBY3Rpb25JZHMuRWRpdENvbmZpZ3VyYXRpb24pIHtcbiAgICBvbkVkaXRDb25maWd1cmF0aW9uKGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uIS5jb25maWd1cmF0aW9uUGF0aCk7XG4gICAgcmV0dXJuO1xuICB9XG59O1xuXG5jb25zdCBuYXZpZ2F0ZVRvVXJsID0gKHVybDogc3RyaW5nKSA9PiB7XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5OQVZJR0FURSxcbiAgICBjb250ZW50OiB7XG4gICAgICB1cmlQYXRoOiB1cmwsXG4gICAgfSxcbiAgfSk7XG59O1xuXG5jb25zdCBuZXdDcmVkZW50aWFsID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuTkVXX0NSRURFTlRJQUxfRk9SX0RFUExPWU1FTlQsXG4gIH0pO1xufTtcblxuY29uc3Qgb25Bc3NvY2lhdGVEZXBsb3ltZW50ID0gKCkgPT4ge1xuICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuU0hPV19BU1NPQ0lBVEVfR1VJRCxcbiAgfSk7XG59O1xuXG5jb25zdCB2aWV3Q29udGVudCA9ICgpID0+IHtcbiAgY29uc3QgcmVjb3JkID0gaG9tZS5zZWxlY3RlZENvbnRlbnRSZWNvcmQ7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0RlcGxveWVkQ29udGVudE9uRXJyb3IudmFsdWUgJiYgIWlzUHJlQ29udGVudFJlY29yZChyZWNvcmQpKSB7XG4gICAgbmF2aWdhdGVUb1VybChyZWNvcmQubG9nc1VybCk7XG4gIH0gZWxzZSBpZiAocmVjb3JkLmRhc2hib2FyZFVybCkge1xuICAgIG5hdmlnYXRlVG9VcmwocmVjb3JkLmRhc2hib2FyZFVybCk7XG4gIH1cbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLmxhYmVsIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmRlcGxveW1lbnQtY29udHJvbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW46IDAuNXJlbSAwO1xuICBwYWRkaW5nOiAycHggNnB4IDZweCA4cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWRyb3Bkb3duLWJhY2tncm91bmQpO1xuICBib3JkZXI6IGNhbGModmFyKC0tYm9yZGVyLXdpZHRoKSAqIDFweCkgc29saWQgdmFyKC0tZHJvcGRvd24tYm9yZGVyKTtcbiAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS1jb3JuZXItcmFkaXVzLXJvdW5kKSAqIDFweCk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG5cbiAgJltvcGVuXSxcbiAgJjphY3RpdmU6bm90KFtkaXNhYmxlZF0pIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWZvY3VzLWJvcmRlcik7XG4gIH1cblxuICAmW2Rpc2FibGVkXSB7XG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICBvcGFjaXR5OiB2YXIoLS1kaXNhYmxlZC1vcGFjaXR5KTtcbiAgfVxuXG4gIC5zZWxlY3QtaW5kaWNhdG9yIHtcbiAgICBmbGV4OiBub25lO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDFlbTtcbiAgfVxufVxuXG46ZGVlcCguYWN0aW9uLWl0ZW0pIHtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5cbi5yZW5kZXItYnRuIHtcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xufVxuXG4uYWRkLWRlcGxveW1lbnQtYnRuIHtcbiAgbWFyZ2luOiAwLjVyZW0gMCAxcmVtO1xufVxuXG4uaG9tZS12aWV3LWRpdmlkZXIge1xuICBtYXJnaW4tdG9wOiAxLjMzZW07XG59XG5cbi5wcm9ncmVzcy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4ucHJvZ3Jlc3MtZGVzYyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xufVxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImNvdW50LWJhZGdlXCI+e3sgY291bnQgfX08L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5kZWZpbmVQcm9wczx7XG4gIGNvdW50OiBudW1iZXI7XG59PigpO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5jb3VudC1iYWRnZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1iYWRnZS1iYWNrZ3JvdW5kKTtcbiAgY29sb3I6IHZhcigtLXZzY29kZS1iYWRnZS1mb3JlZ3JvdW5kKTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tdnNjb2RlLWJhZGdlLWZvcmVncm91bmQpO1xuXG4gIGJvcmRlci1yYWRpdXM6IDExcHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgZm9udC1zaXplOiAxMXB4O1xuICBmb250LXdlaWdodDogNDAwO1xuICBsaW5lLWhlaWdodDogMTFweDtcbiAgbWluLWhlaWdodDogMThweDtcbiAgbWluLXdpZHRoOiAxOHB4O1xuICBwYWRkaW5nOiAzcHggNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwicGFuZVwiIDpjbGFzcz1cInsgZXhwYW5kZWQ6IGV4cGFuZGVkIH1cIj5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cInBhbmUtaGVhZGVyXCJcbiAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICA6Y2xhc3M9XCJ7IGV4cGFuZGVkOiBleHBhbmRlZCB9XCJcbiAgICAgIEBrZXlkb3duLmVudGVyLnNlbGY9XCJ0b2dnbGVFeHBhbmRlZFwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmUtaGVhZGVyLXRpdGxlLWNvbnRhaW5lclwiIEBjbGljaz1cInRvZ2dsZUV4cGFuZGVkXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cInR3aXN0eS1jb250YWluZXIgY29kaWNvblwiXG4gICAgICAgICAgOmNsYXNzPVwiZXhwYW5kZWQgPyAnY29kaWNvbi1jaGV2cm9uLWRvd24nIDogJ2NvZGljb24tY2hldnJvbi1yaWdodCdcIlxuICAgICAgICAvPlxuICAgICAgICA8aDMgY2xhc3M9XCJ0aXRsZVwiPnt7IHRpdGxlIH19PC9oMz5cbiAgICAgICAgPHNwYW4gdi1pZj1cIiRzbG90cy5kZXNjcmlwdGlvblwiIGNsYXNzPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICA8c2xvdCBuYW1lPVwiZGVzY3JpcHRpb25cIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIHYtZWxzZS1pZj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJkZXNjcmlwdGlvblwiPlxuICAgICAgICAgIHt7IGRlc2NyaXB0aW9uIH19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHYtaWY9XCJjb2RpY29uICYmICFleHBhbmRlZFwiXG4gICAgICAgICAgY2xhc3M9XCJ0cmVlLXNlY3Rpb24taWNvbiBjb2RpY29uXCJcbiAgICAgICAgICA6Y2xhc3M9XCJjb2RpY29uXCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiB2LWlmPVwiYWN0aW9uc1wiIGNsYXNzPVwiYWN0aW9uc1wiPlxuICAgICAgICA8QWN0aW9uVG9vbGJhciA6dGl0bGU9XCJ0aXRsZVwiIDphY3Rpb25zPVwiYWN0aW9uc1wiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgdi1pZj1cImNvdW50XCIgY2xhc3M9XCJjb3VudFwiPlxuICAgICAgICA8Q291bnRCYWRnZSA6Y291bnQ9XCJjb3VudFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IHYtc2hvdz1cImV4cGFuZGVkXCIgY2xhc3M9XCJwYW5lLWJvZHlcIj5cbiAgICAgIDxzbG90IC8+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCBBY3Rpb25Ub29sYmFyLCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9BY3Rpb25Ub29sYmFyLnZ1ZVwiO1xuaW1wb3J0IENvdW50QmFkZ2UgZnJvbSBcInNyYy9jb21wb25lbnRzL0NvdW50QmFkZ2UudnVlXCI7XG5cbmNvbnN0IGV4cGFuZGVkID0gZGVmaW5lTW9kZWwoXCJleHBhbmRlZFwiLCB7IHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogZmFsc2UgfSk7XG5cbmRlZmluZVByb3BzPHtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGNvZGljb24/OiBzdHJpbmc7XG4gIGFjdGlvbnM/OiBBY3Rpb25CdXR0b25bXTtcbiAgY291bnQ/OiBudW1iZXI7XG59PigpO1xuXG5jb25zdCB0b2dnbGVFeHBhbmRlZCA9ICgpID0+IHtcbiAgZXhwYW5kZWQudmFsdWUgPSAhZXhwYW5kZWQudmFsdWU7XG59O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5wYW5lIHtcbiAgLmFjdGlvbnMge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIH1cblxuICAudHJlZS1zZWN0aW9uLWljb24ge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgfVxuXG4gICYuZXhwYW5kZWQ6aG92ZXIgLmFjdGlvbnMsXG4gICYuZXhwYW5kZWQ6Zm9jdXMtd2l0aGluIC5hY3Rpb25zIHtcbiAgICBkaXNwbGF5OiBpbml0aWFsO1xuICB9XG5cbiAgJi5leHBhbmRlZDpob3ZlclxuICAgIDpkZWVwKC50cmVlLWl0ZW0gLnRyZWUtaXRlbS1jb250YWluZXI6bm90KDpob3ZlcikgLmluZGVudCAuaW5kZW50LWd1aWRlKSxcbiAgJi5leHBhbmRlZDpmb2N1cy13aXRoaW5cbiAgICA6ZGVlcCgudHJlZS1pdGVtIC50cmVlLWl0ZW0tY29udGFpbmVyOm5vdCg6aG92ZXIpIC5pbmRlbnQgLmluZGVudC1ndWlkZSkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdnNjb2RlLXRyZWUtaW5hY3RpdmVJbmRlbnRHdWlkZXNTdHJva2UpO1xuICB9XG59XG5cbi5wYW5lLWhlYWRlciB7XG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICBjb2xvcjogdmFyKC0tdnNjb2RlLXNpZGVCYXJTZWN0aW9uSGVhZGVyLWZvcmVncm91bmQpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtc2lkZUJhclNlY3Rpb25IZWFkZXItYmFja2dyb3VuZCk7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS12c2NvZGUtc2lkZUJhclNlY3Rpb25IZWFkZXItYm9yZGVyKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBoZWlnaHQ6IDIycHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHVzZXItc2VsZWN0OiBub25lO1xuXG4gICY6Zm9jdXMge1xuICAgIG9wYWNpdHk6IDE7XG4gICAgb3V0bGluZS1jb2xvcjogdmFyKC0tdnNjb2RlLWZvY3VzQm9yZGVyKTtcbiAgICBvdXRsaW5lLW9mZnNldDogLTFweDtcbiAgICBvdXRsaW5lLXN0eWxlOiBzb2xpZDtcbiAgICBvdXRsaW5lLXdpZHRoOiAxcHg7XG4gIH1cblxuICAucGFuZS1oZWFkZXItdGl0bGUtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1pbi13aWR0aDogMDtcbiAgICBmbGV4OiAxO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAudHdpc3R5LWNvbnRhaW5lciB7XG4gICAgICBtYXJnaW46IDAgMnB4O1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1pY29uLWZvcmVncm91bmQpO1xuICAgIH1cblxuICAgIC50aXRsZSB7XG4gICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICBtaW4td2lkdGg6IDNjaDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgLXdlYmtpdC1tYXJnaW4tYmVmb3JlOiAwO1xuICAgICAgLXdlYmtpdC1tYXJnaW4tYWZ0ZXI6IDA7XG4gICAgfVxuXG4gICAgLmRlc2NyaXB0aW9uIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1zaWRlQmFyU2VjdGlvbkhlYWRlci1mb3JlZ3JvdW5kKTtcbiAgICAgIGZsZXgtc2hyaW5rOiAxMDAwMDA7XG4gICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgfVxuICB9XG5cbiAgJiA6ZGVlcCguYWN0aW9uLWl0ZW0pIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcbiAgfVxuXG4gIC5jb3VudCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDEycHg7XG4gIH1cbn1cblxuLnBhbmUtYm9keSB7XG4gIGZsZXg6IDE7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwidnNjb2RlLWNoZWNrYm94XCIgOmNsYXNzPVwieyBkaXNhYmxlZDogZGlzYWJsZWQgfVwiPlxuICAgIDxsYWJlbD5cbiAgICAgIDxpbnB1dFxuICAgICAgICA6Y2hlY2tlZD1cImNoZWNrZWRcIlxuICAgICAgICA6ZGlzYWJsZWQ9XCJkaXNhYmxlZFwiXG4gICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgIEBjaGFuZ2U9XCJoYW5kbGVDaGFuZ2VcIlxuICAgICAgLz5cbiAgICAgIDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuICAgICAgICA8aSBjbGFzcz1cImNvZGljb24gY29kaWNvbi1jaGVjayBpY29uLWNoZWNrZWRcIj48L2k+XG4gICAgICAgIDxpIGNsYXNzPVwiY29kaWNvbiBjb2RpY29uLWNocm9tZS1taW5pbWl6ZSBpY29uLWluZGV0ZXJtaW5hdGVcIj48L2k+XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cInRleHRcIj48c2xvdCAvPjwvc3Bhbj5cbiAgICA8L2xhYmVsPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5kZWZpbmVQcm9wczx7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgZGlzYWJsZU9wYWNpdHk/OiBib29sZWFuO1xufT4oKTtcblxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcbiAgY2hhbmdlZDogW2NoZWNrZWQ6IGJvb2xlYW5dO1xufT4oKTtcblxuY29uc3QgaGFuZGxlQ2hhbmdlID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICBjb25zdCBjaGVja2VkID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkO1xuICBlbWl0KFwiY2hhbmdlZFwiLCBjaGVja2VkKTtcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnZzY29kZS1jaGVja2JveCB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBmbGV4OiAxO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuXG4gIC0tY2hlY2tib3gtb3BhY2l0eTogdi1iaW5kKCdkaXNhYmxlT3BhY2l0eSA/IDEgOiBcInZhcigtLWRpc2FibGVkLW9wYWNpdHkpXCInKTtcblxuICAmLmRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiB2YXIoLS1jaGVja2JveC1vcGFjaXR5KTtcbiAgfVxuXG4gIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSB7XG4gICAgY2xpcDogcmVjdCgwIDAgMCAwKTtcbiAgICBjbGlwLXBhdGg6IGluc2V0KDUwJSk7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB3aWR0aDogMXB4O1xuICB9XG5cbiAgLmljb24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1zZXR0aW5ncy1jaGVja2JveEJhY2tncm91bmQpO1xuICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDtcbiAgICBib3JkZXI6IGNhbGModmFyKC0tYm9yZGVyLXdpZHRoKSAqIDFweCkgc29saWQgdmFyKC0tY2hlY2tib3gtYm9yZGVyKTtcbiAgICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLWNoZWNrYm94LWNvcm5lci1yYWRpdXMpICogMXB4KTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtc2V0dGluZ3MtY2hlY2tib3hGb3JlZ3JvdW5kKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgaGVpZ2h0OiBjYWxjKHZhcigtLWRlc2lnbi11bml0KSAqIDRweCArIDJweCk7XG4gICAgd2lkdGg6IGNhbGModmFyKC0tZGVzaWduLXVuaXQpICogNHB4ICsgMnB4KTtcbiAgICBmbGV4LXNocmluazogMDtcbiAgfVxuXG4gIC5pY29uLWNoZWNrZWQsXG4gIC5pY29uLWluZGV0ZXJtaW5hdGUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgaGVpZ2h0OiAxNnB4O1xuICAgIGxlZnQ6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICB3aWR0aDogMTZweDtcbiAgfVxuXG4gIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkIH4gLmljb24gLmljb24tY2hlY2tlZCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06aW5kZXRlcm1pbmF0ZSB+IC5pY29uIC5pY29uLWluZGV0ZXJtaW5hdGUge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5cbiAgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmludmFsaWQgfiAuaWNvbixcbiAgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLmludmFsaWQgfiAuaWNvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLWlucHV0VmFsaWRhdGlvbi1lcnJvckJhY2tncm91bmQpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdnNjb2RlLWlucHV0VmFsaWRhdGlvbi1lcnJvckJvcmRlciwgI2JlMTEwMCk7XG4gIH1cblxuICBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Zm9jdXMgfiAuaWNvbiB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS12c2NvZGUtZm9jdXNCb3JkZXIpO1xuICB9XG5cbiAgbGFiZWwge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG5cbiAgJi5kaXNhYmxlZCBsYWJlbCB7XG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgfVxuXG4gIC50ZXh0IHtcbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgb3BhY2l0eTogMC45O1xuICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiBjYWxjKHZhcigtLWRlc2lnbi11bml0KSAqIDJweCArIDJweCk7XG4gIH1cbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxkaXZcbiAgICBjbGFzcz1cInRyZWUtaXRlbVwiXG4gICAgOmNsYXNzPVwie1xuICAgICAgJ2FsaWduLWljb24td2l0aC10d2lzdHknOiBhbGlnbkljb25XaXRoVHdpc3R5LFxuICAgICAgY29sbGFwc2libGU6IGlzRXhwYW5kYWJsZSxcbiAgICAgICd0ZXh0LWxpc3QtZW1waGFzaXplZCc6IGxpc3RTdHlsZSA9PT0gJ2VtcGhhc2l6ZWQnLFxuICAgICAgJ3RleHQtZm9yZWdyb3VuZCc6IGxpc3RTdHlsZSA9PT0gJ2RlZmF1bHQnLFxuICAgICAgJ3RleHQtbGlzdC1kZWVtcGhhc2l6ZWQnOiBsaXN0U3R5bGUgPT09ICdkZWVtcGhhc2l6ZWQnLFxuICAgIH1cIlxuICA+XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJ0cmVlLWl0ZW0tY29udGFpbmVyXCJcbiAgICAgIDpjbGFzcz1cInZpcnR1YWxpemVkID8gJ2NsYXNzLWhvdmVyJyA6IHVuZGVmaW5lZFwiXG4gICAgICA6dGl0bGU9XCJ0b29sdGlwXCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5kZW50XCI+XG4gICAgICAgIDxkaXYgdi1mb3I9XCJfIGluIGluZGVudExldmVsIC0gMVwiIGNsYXNzPVwiaW5kZW50LWd1aWRlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJ0d2lzdHktY29udGFpbmVyIHRleHQtaWNvblwiXG4gICAgICAgIDpjbGFzcz1cIltcbiAgICAgICAgICB7IGNvZGljb246IGlzRXhwYW5kYWJsZSB9LFxuICAgICAgICAgIGV4cGFuZGFibGUgfHwgJHNsb3RzLmRlZmF1bHRcbiAgICAgICAgICAgID8gZXhwYW5kZWRcbiAgICAgICAgICAgICAgPyAnY29kaWNvbi1jaGV2cm9uLWRvd24nXG4gICAgICAgICAgICAgIDogJ2NvZGljb24tY2hldnJvbi1yaWdodCdcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBdXCJcbiAgICAgICAgdi1vbj1cIntcbiAgICAgICAgICBjbGljazogaXNFeHBhbmRhYmxlID8gdG9nZ2xlRXhwYW5kZWQgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cIlxuICAgICAgLz5cbiAgICAgIDxDb2RlQ2hlY2tib3hcbiAgICAgICAgOmNoZWNrZWQ9XCJjaGVja2VkXCJcbiAgICAgICAgOmRpc2FibGVkPVwiZGlzYWJsZWRcIlxuICAgICAgICA6ZGlzYWJsZS1vcGFjaXR5PVwiZGlzYWJsZU9wYWNpdHlcIlxuICAgICAgICBjbGFzcz1cInRyZWUtaXRlbS1jaGVja2JveFwiXG4gICAgICAgIEBjaGFuZ2VkPVwiY2hlY2tlZCA/ICRlbWl0KCd1bmNoZWNrJykgOiAkZW1pdCgnY2hlY2snKVwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwidHJlZS1pdGVtLXRpdGxlXCI+e3sgdGl0bGUgfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIHYtaWY9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwidHJlZS1pdGVtLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAge3sgZGVzY3JpcHRpb24gfX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9Db2RlQ2hlY2tib3g+XG4gICAgICA8ZGl2IHYtaWY9XCJhY3Rpb25zXCIgY2xhc3M9XCJhY3Rpb25zXCI+XG4gICAgICAgIDxBY3Rpb25Ub29sYmFyIDp0aXRsZT1cInRpdGxlXCIgOmFjdGlvbnM9XCJhY3Rpb25zXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiB2LWlmPVwiJHNsb3RzLnBvc3REZWNvclwiPlxuICAgICAgICA8c2xvdCBuYW1lPVwicG9zdERlY29yXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiB2LXNob3c9XCJpc0V4cGFuZGFibGUgJiYgZXhwYW5kZWRcIiBjbGFzcz1cInRyZWUtaXRlbS1jaGlsZHJlblwiPlxuICAgICAgPHNsb3QgOmluZGVudC1sZXZlbD1cImluZGVudExldmVsICsgMVwiIC8+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgQWN0aW9uVG9vbGJhciwgeyBBY3Rpb25CdXR0b24gfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcbmltcG9ydCBDb2RlQ2hlY2tib3ggZnJvbSBcInNyYy9jb21wb25lbnRzL0NvZGVDaGVja2JveC52dWVcIjtcblxuZXhwb3J0IHR5cGUgVHJlZUl0ZW1TdHlsZSA9IFwiZW1waGFzaXplZFwiIHwgXCJkZWZhdWx0XCIgfCBcImRlZW1waGFzaXplZFwiO1xuXG5jb25zdCBleHBhbmRlZCA9IGRlZmluZU1vZGVsKFwiZXhwYW5kZWRcIiwgeyByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IGZhbHNlIH0pO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB0aXRsZTogc3RyaW5nO1xuICBjaGVja2VkOiBib29sZWFuO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGxpc3RTdHlsZT86IFRyZWVJdGVtU3R5bGU7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICB0b29sdGlwPzogc3RyaW5nO1xuICBhbGlnbkljb25XaXRoVHdpc3R5PzogYm9vbGVhbjtcbiAgYWN0aW9ucz86IEFjdGlvbkJ1dHRvbltdO1xuICBpbmRlbnRMZXZlbD86IG51bWJlcjtcbiAgZXhwYW5kYWJsZT86IGJvb2xlYW47XG4gIHZpcnR1YWxpemVkPzogYm9vbGVhbjtcbiAgZGlzYWJsZU9wYWNpdHk/OiBib29sZWFuO1xufVxuXG5jb25zdCBwcm9wcyA9IHdpdGhEZWZhdWx0cyhkZWZpbmVQcm9wczxQcm9wcz4oKSwge1xuICBsaXN0U3R5bGU6IFwiZGVmYXVsdFwiLFxuICBpbmRlbnRMZXZlbDogMSxcbiAgZXhwYW5kYWJsZTogZmFsc2UsXG4gIHZpcnR1YWxpemVkOiBmYWxzZSxcbiAgZGlzYWJsZU9wYWNpdHk6IGZhbHNlLFxufSk7XG5cbmNvbnN0IHNsb3RzID0gZGVmaW5lU2xvdHM8e1xuICBkZWZhdWx0Pyhwcm9wczogeyBpbmRlbnRMZXZlbDogbnVtYmVyIH0pOiBhbnk7XG4gIHBvc3REZWNvcj8oKTogYW55O1xufT4oKTtcblxuY29uc3QgZW1pdHMgPSBkZWZpbmVFbWl0cyhbXCJjaGVja1wiLCBcInVuY2hlY2tcIiwgXCJleHBhbmRcIiwgXCJjb2xsYXBzZVwiXSk7XG5cbmNvbnN0IHRvZ2dsZUV4cGFuZGVkID0gKCkgPT4ge1xuICBleHBhbmRlZC52YWx1ZSA9ICFleHBhbmRlZC52YWx1ZTtcbiAgZW1pdHMoZXhwYW5kZWQudmFsdWUgPyBcImV4cGFuZFwiIDogXCJjb2xsYXBzZVwiKTtcbn07XG5cbmNvbnN0IGlzRXhwYW5kYWJsZSA9IGNvbXB1dGVkKCgpOiBCb29sZWFuID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4oc2xvdHMuZGVmYXVsdCB8fCBwcm9wcy5leHBhbmRhYmxlKTtcbn0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi50cmVlLWl0ZW0ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgJi5hbGlnbi1pY29uLXdpdGgtdHdpc3R5Om5vdCguY29sbGFwc2libGUpIC50d2lzdHktY29udGFpbmVyIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50O1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICB3aWR0aDogMCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnRyZWUtaXRlbS1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBhZGRpbmctbGVmdDogY2FsYyh2LWJpbmQoaW5kZW50TGV2ZWwpICogOHB4KTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMnB4O1xuICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICAgIC5pbmRlbnQge1xuICAgICAgd2lkdGg6IGNhbGModi1iaW5kKGluZGVudExldmVsKSAqIDhweCk7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAxNnB4O1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICAgIC5pbmRlbnQtZ3VpZGUge1xuICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xcyBsaW5lYXI7XG4gICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC50d2lzdHktY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgcGFkZGluZy1yaWdodDogNnB4O1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG4gICAgLnRyZWUtaXRlbS1jaGVja2JveCB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgbWFyZ2luOiAwO1xuXG4gICAgICAmOjpwYXJ0KGNvbnRyb2wpIHtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICB9XG5cbiAgICAgICY6OnBhcnQobGFiZWwpIHtcbiAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgICAgbWFyZ2luLWlubGluZS1lbmQ6IDA7XG4gICAgICB9XG5cbiAgICAgIC50cmVlLWl0ZW0tdGl0bGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBwcmU7XG4gICAgICB9XG5cbiAgICAgIC50cmVlLWl0ZW0tZGVzY3JpcHRpb24ge1xuICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICBtYXJnaW4tbGVmdDogMC41ZW07XG4gICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuYWN0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgbWF4LXdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgIGZsZXgtZ3JvdzogMTAwO1xuICAgIH1cblxuICAgIC5ob3ZlciAmLmNsYXNzLWhvdmVyLFxuICAgICY6bm90KC5jbGFzcy1ob3Zlcik6aG92ZXIge1xuICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyRm9yZWdyb3VuZCwgdmFyKC0tdnNjb2RlLWZvcmVncm91bmQpKTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyQmFja2dyb3VuZCk7XG5cbiAgICAgIC5pbmRlbnQgLmluZGVudC1ndWlkZSB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdnNjb2RlLXRyZWUtaW5hY3RpdmVJbmRlbnRHdWlkZXNTdHJva2UpO1xuICAgICAgfVxuXG4gICAgICAudHJlZS1pdGVtLXRpdGxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXZzY29kZS1saXN0LWhvdmVyRm9yZWdyb3VuZCwgdmFyKC0tdnNjb2RlLWZvcmVncm91bmQpKTtcbiAgICAgIH1cblxuICAgICAgLnRyZWUtaXRlbS1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtbGlzdC1ob3ZlckZvcmVncm91bmQsIHZhcigtLXZzY29kZS1mb3JlZ3JvdW5kKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmhvdmVyICYuY2xhc3MtaG92ZXIgLmFjdGlvbnMsXG4gICAgJjpub3QoLmNsYXNzLWhvdmVyKTpob3ZlciAuYWN0aW9ucyxcbiAgICAmOmZvY3VzLXdpdGhpbiAuYWN0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBpbml0aWFsO1xuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cbiIsImltcG9ydCB7XG4gIENvbnRlbnRSZWNvcmRGaWxlLFxuICBGaWxlTWF0Y2hTb3VyY2UsXG59IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvYXBpL3R5cGVzL2ZpbGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNsdWRlZEZpbGVUb29sdGlwKFxuICBmaWxlOiBQaWNrPENvbnRlbnRSZWNvcmRGaWxlLCBcInJlbFwiIHwgXCJyZWFzb25cIj4sXG4gIHtcbiAgICBpc0VudHJ5cG9pbnQgPSBmYWxzZSxcbiAgICBpc1BhY2thZ2VGaWxlID0gZmFsc2UsXG4gIH06IHsgaXNFbnRyeXBvaW50PzogYm9vbGVhbjsgaXNQYWNrYWdlRmlsZT86IGJvb2xlYW4gfSA9IHt9LFxuKSB7XG4gIGxldCB0b29sdGlwID0gYCR7ZmlsZS5yZWx9IHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIG5leHQgZGVwbG95bWVudC5gO1xuICBpZiAoZmlsZS5yZWFzb24pIHtcbiAgICB0b29sdGlwICs9IGBcXG5UaGUgY29uZmlndXJhdGlvbiBmaWxlICR7ZmlsZS5yZWFzb24/LmZpbGVOYW1lfSBpcyBpbmNsdWRpbmcgaXQgd2l0aCB0aGUgcGF0dGVybiAnJHtmaWxlLnJlYXNvbj8ucGF0dGVybn0nYDtcbiAgfVxuICBpZiAoaXNFbnRyeXBvaW50KSB7XG4gICAgdG9vbHRpcCArPSBgXFxuJHtmaWxlLnJlbH0gaXMgdGhlIGVudHJ5cG9pbnQuIEVudHJ5cG9pbnRzIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGNvbmZpZ3VyYXRpb24gJ2ZpbGVzJyBsaXN0LmA7XG4gIH1cbiAgaWYgKGlzUGFja2FnZUZpbGUpIHtcbiAgICB0b29sdGlwICs9IGBcXG4ke2ZpbGUucmVsfSBpcyBhIHBhY2thZ2UgZmlsZS4gUGFja2FnZSBmaWxlcyBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSBjb25maWd1cmF0aW9uICdmaWxlcycgbGlzdC5gO1xuICB9XG4gIHJldHVybiB0b29sdGlwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZWRGaWxlVG9vbHRpcChcbiAgZmlsZTogUGljazxDb250ZW50UmVjb3JkRmlsZSwgXCJyZWxcIiB8IFwicmVhc29uXCI+LFxuKSB7XG4gIGxldCB0b29sdGlwID0gYCR7ZmlsZS5yZWx9IHdpbGwgYmUgZXhjbHVkZWQgaW4gdGhlIG5leHQgZGVwbG95bWVudC5gO1xuICBpZiAoZmlsZS5yZWFzb24pIHtcbiAgICBpZiAoZmlsZS5yZWFzb24uc291cmNlID09PSBGaWxlTWF0Y2hTb3VyY2UuQlVJTFRfSU4pIHtcbiAgICAgIHRvb2x0aXAgKz0gYFxcblRoaXMgaXMgYSBidWlsdC1pbiBleGNsdXNpb24gZm9yIHRoZSBwYXR0ZXJuOiAnJHtmaWxlLnJlYXNvbi5wYXR0ZXJufScgYW5kIGNhbm5vdCBiZSBvdmVycmlkZGVuLmA7XG4gICAgfSBlbHNlIGlmIChmaWxlLnJlYXNvbi5zb3VyY2UgPT09IEZpbGVNYXRjaFNvdXJjZS5QRVJNSVNTSU9OU19FUlJPUikge1xuICAgICAgdG9vbHRpcCArPSBcIlxcbllvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgZGlyZWN0b3J5LlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b29sdGlwICs9IGBcXG5UaGUgY29uZmlndXJhdGlvbiBmaWxlICR7ZmlsZS5yZWFzb24/LmZpbGVOYW1lfSBpcyBleGNsdWRpbmcgaXQgd2l0aCB0aGUgcGF0dGVybiAnJHtmaWxlLnJlYXNvbj8ucGF0dGVybn0nYDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdG9vbHRpcCArPSBgXFxuSXQgZGlkIG5vdCBtYXRjaCBhbnkgcGF0dGVybiBpbiB0aGUgY29uZmlndXJhdGlvbiAnZmlsZXMnIGxpc3QuYDtcbiAgfVxuICByZXR1cm4gdG9vbHRpcDtcbn1cbiIsIjx0ZW1wbGF0ZT5cbiAgPFRyZWVJdGVtQ2hlY2tib3hcbiAgICA6dGl0bGU9XCJmaWxlLmJhc2VcIlxuICAgIDpjaGVja2VkPVwiaXNJbmNsdWRlZFwiXG4gICAgOmRpc2FibGVkPVwiaXNEaXNhYmxlZFwiXG4gICAgOmxpc3Qtc3R5bGU9XCJsaXN0U3R5bGVcIlxuICAgIDpkaXNhYmxlLW9wYWNpdHk9XCJpc0VudHJ5cG9pbnQgfHwgaXNQYWNrYWdlRmlsZVwiXG4gICAgOmluZGVudC1sZXZlbD1cImZpbGUuaW5kZW50ICsgMVwiXG4gICAgOmV4cGFuZGFibGU9XCJmaWxlLmlzRGlyXCJcbiAgICA6dG9vbHRpcD1cInRvb2x0aXBcIlxuICAgIDphY3Rpb25zPVwiYWN0aW9uc1wiXG4gICAgOnZpcnR1YWxpemVkPVwidHJ1ZVwiXG4gICAgQGNoZWNrPVwiZmlsZVN0b3JlLmluY2x1ZGVGaWxlKGZpbGUpXCJcbiAgICBAdW5jaGVjaz1cImZpbGVTdG9yZS5leGNsdWRlRmlsZShmaWxlKVwiXG4gICAgQGV4cGFuZD1cImZpbGVTdG9yZS5leHBhbmREaXIoZmlsZSlcIlxuICAgIEBjb2xsYXBzZT1cImZpbGVTdG9yZS5jb2xsYXBzZURpcihmaWxlKVwiXG4gID5cbiAgICA8dGVtcGxhdGUgI3Bvc3REZWNvcj5cbiAgICAgIDxQb3N0RGVjb3JcbiAgICAgICAgdi1pZj1cImlzQmVpbmdBZGRlZFwiXG4gICAgICAgIGNsYXNzPVwidGV4dC1naXQtYWRkZWRcIlxuICAgICAgICA6ZGF0YS1hdXRvbWF0aW9uPVwiYCR7ZmlsZS5pZH0tZGVjb3JhdG9yYFwiXG4gICAgICA+XG4gICAgICAgIEFcbiAgICAgIDwvUG9zdERlY29yPlxuICAgICAgPFBvc3REZWNvciB2LWlmPVwiaXNCZWluZ1JlbW92ZWRcIiBjbGFzcz1cInRleHQtZ2l0LWRlbGV0ZWRcIj5SPC9Qb3N0RGVjb3I+XG4gICAgPC90ZW1wbGF0ZT5cbiAgPC9UcmVlSXRlbUNoZWNrYm94PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgVHJlZUl0ZW1DaGVja2JveCBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlSXRlbUNoZWNrYm94LnZ1ZVwiO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL0FjdGlvblRvb2xiYXIudnVlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB1c2VGaWxlU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9maWxlXCI7XG5pbXBvcnQgeyBGbGF0RmlsZSB9IGZyb20gXCJzcmMvdXRpbHMvZmlsZXNcIjtcbmltcG9ydCB7XG4gIGV4Y2x1ZGVkRmlsZVRvb2x0aXAsXG4gIGluY2x1ZGVkRmlsZVRvb2x0aXAsXG59IGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9wcm9qZWN0RmlsZXMvdG9vbHRpcHNcIjtcbmltcG9ydCB7IGlzQ29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hcGlcIjtcblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIGZvciBsaXN0IHZpcnR1YWxpemF0aW9uLiBJdCBtdXN0IGJlIHJlYWN0aXZlIHRvIHRoZVxuICogaXRlbSBwcm9wIGJlaW5nIHVwZGF0ZWQgd2l0aG91dCBiZWluZyByZS1jcmVhdGVkLlxuICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vQWtyeXVtL3Z1ZS12aXJ0dWFsLXNjcm9sbGVyL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3Z1ZS12aXJ0dWFsLXNjcm9sbGVyL1JFQURNRS5tZCNpbXBvcnRhbnQtbm90ZXNcbiAqL1xuaW50ZXJmYWNlIFByb3BzIHtcbiAgZmlsZTogRmxhdEZpbGU7XG59XG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KCk7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbmNvbnN0IGZpbGVTdG9yZSA9IHVzZUZpbGVTdG9yZSgpO1xuXG5jb25zdCBpc0Rpc2FibGVkID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBzb3VyY2UgPSBwcm9wcy5maWxlLnJlYXNvbj8uc291cmNlO1xuICByZXR1cm4gKFxuICAgIChpc0VudHJ5cG9pbnQudmFsdWUgJiYgaXNJbmNsdWRlZC52YWx1ZSkgfHxcbiAgICAoaXNQYWNrYWdlRmlsZS52YWx1ZSAmJiBpc0luY2x1ZGVkLnZhbHVlKSB8fFxuICAgIHNvdXJjZSA9PT0gXCJidWlsdC1pblwiIHx8XG4gICAgc291cmNlID09PSBcInBlcm1pc3Npb25zXCJcbiAgKTtcbn0pO1xuXG5jb25zdCBpc0luY2x1ZGVkID0gY29tcHV0ZWQoKCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gQm9vbGVhbihwcm9wcy5maWxlLnJlYXNvbj8uZXhjbHVkZSA9PT0gZmFsc2UpO1xufSk7XG5cbmNvbnN0IGluTGFzdERlcGxveWVkID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gZmlsZVN0b3JlLmxhc3REZXBsb3llZEZpbGVzLmhhcyhwcm9wcy5maWxlLmlkKTtcbn0pO1xuXG5jb25zdCBpc0JlaW5nQWRkZWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBwcm9wcy5maWxlLmlzRmlsZSAmJiBpc0luY2x1ZGVkLnZhbHVlICYmICFpbkxhc3REZXBsb3llZC52YWx1ZTtcbn0pO1xuXG5jb25zdCBpc0JlaW5nUmVtb3ZlZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIHByb3BzLmZpbGUuaXNGaWxlICYmICFpc0luY2x1ZGVkLnZhbHVlICYmIGluTGFzdERlcGxveWVkLnZhbHVlO1xufSk7XG5cbmNvbnN0IGlzRW50cnlwb2ludCA9IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgY29uc3QgY29uZmlnID0gaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb247XG4gIGlmIChjb25maWcgIT0gdW5kZWZpbmVkICYmICFpc0NvbmZpZ3VyYXRpb25FcnJvcihjb25maWcpKSB7XG4gICAgcmV0dXJuIHByb3BzLmZpbGUuaWQgPT09IGNvbmZpZy5jb25maWd1cmF0aW9uLmVudHJ5cG9pbnQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbmNvbnN0IGlzUGFja2FnZUZpbGUgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBpc1B5dGhvblBhY2thZ2VGaWxlLnZhbHVlIHx8IGlzUlBhY2thZ2VGaWxlLnZhbHVlO1xufSk7XG5cbmNvbnN0IGlzUHl0aG9uUGFja2FnZUZpbGUgPSBjb21wdXRlZCgoKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uO1xuICBpZiAoY29uZmlnICE9IHVuZGVmaW5lZCAmJiAhaXNDb25maWd1cmF0aW9uRXJyb3IoY29uZmlnKSkge1xuICAgIHJldHVybiBwcm9wcy5maWxlLmlkID09PSBjb25maWcuY29uZmlndXJhdGlvbi5weXRob24/LnBhY2thZ2VGaWxlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG5jb25zdCBpc1JQYWNrYWdlRmlsZSA9IGNvbXB1dGVkKCgpOiBib29sZWFuID0+IHtcbiAgY29uc3QgY29uZmlnID0gaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb247XG4gIGlmIChjb25maWcgIT0gdW5kZWZpbmVkICYmICFpc0NvbmZpZ3VyYXRpb25FcnJvcihjb25maWcpKSB7XG4gICAgcmV0dXJuIHByb3BzLmZpbGUuaWQgPT09IGNvbmZpZy5jb25maWd1cmF0aW9uLnI/LnBhY2thZ2VGaWxlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG5jb25zdCBsaXN0U3R5bGUgPSBjb21wdXRlZCgoKTogXCJlbXBoYXNpemVkXCIgfCBcImRlZmF1bHRcIiB8IFwiZGVlbXBoYXNpemVkXCIgPT4ge1xuICByZXR1cm4gaXNFbnRyeXBvaW50LnZhbHVlXG4gICAgPyBcImVtcGhhc2l6ZWRcIlxuICAgIDogaXNJbmNsdWRlZC52YWx1ZVxuICAgICAgPyBcImRlZmF1bHRcIlxuICAgICAgOiBcImRlZW1waGFzaXplZFwiO1xufSk7XG5cbmNvbnN0IHRvb2x0aXAgPSBjb21wdXRlZCgoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGlzSW5jbHVkZWQudmFsdWVcbiAgICA/IGluY2x1ZGVkRmlsZVRvb2x0aXAocHJvcHMuZmlsZSwge1xuICAgICAgICBpc0VudHJ5cG9pbnQ6IGlzRW50cnlwb2ludC52YWx1ZSxcbiAgICAgICAgaXNQYWNrYWdlRmlsZTogaXNQYWNrYWdlRmlsZS52YWx1ZSxcbiAgICAgIH0pXG4gICAgOiBleGNsdWRlZEZpbGVUb29sdGlwKHByb3BzLmZpbGUpO1xufSk7XG5cbmNvbnN0IGFjdGlvbnMgPSBjb21wdXRlZCgoKTogQWN0aW9uQnV0dG9uW10gPT4ge1xuICBsZXQgYWN0aW9uczogQWN0aW9uQnV0dG9uW10gPSBbXTtcblxuICBpZiAocHJvcHMuZmlsZS5pc0ZpbGUpIHtcbiAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgbGFiZWw6IFwiT3BlbiBmaWxlXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tbGluay1leHRlcm5hbFwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgZmlsZVN0b3JlLm9wZW5GaWxlKHByb3BzLmZpbGUpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBhY3Rpb25zO1xufSk7XG48L3NjcmlwdD5cbiIsIjx0ZW1wbGF0ZT5cbiAgPFRyZWVTZWN0aW9uXG4gICAgZGF0YS1hdXRvbWF0aW9uPVwicHJvamVjdC1maWxlc1wiXG4gICAgdGl0bGU9XCJQcm9qZWN0IEZpbGVzXCJcbiAgICA6YWN0aW9ucz1cIltcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdSZWZyZXNoIFByb2plY3QgRmlsZXMnLFxuICAgICAgICBjb2RpY29uOiAnY29kaWNvbi1yZWZyZXNoJyxcbiAgICAgICAgZm46ICgpID0+IGZpbGVTdG9yZS5yZWZyZXNoRmlsZXMsXG4gICAgICB9LFxuICAgIF1cIlxuICA+XG4gICAgPHRlbXBsYXRlIHYtaWY9XCJmaWxlU3RvcmUuZmxhdEZpbGVzLmxlbmd0aFwiPlxuICAgICAgPFJlY3ljbGVTY3JvbGxlclxuICAgICAgICBjbGFzcz1cInNjcm9sbGVyXCJcbiAgICAgICAgOml0ZW1zPVwiZmlsZVN0b3JlLmZsYXRGaWxlc1wiXG4gICAgICAgIDppdGVtLXNpemU9XCIyMlwiXG4gICAgICAgIHYtc2xvdD1cInsgaXRlbSB9XCJcbiAgICAgID5cbiAgICAgICAgPFByb2plY3RGaWxlIDpmaWxlPVwiaXRlbVwiIC8+XG4gICAgICA8L1JlY3ljbGVTY3JvbGxlcj5cbiAgICA8L3RlbXBsYXRlPlxuICAgIDxwIHYtZWxzZT5ObyBmaWxlcyBmb3VuZDwvcD5cbiAgPC9UcmVlU2VjdGlvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgVHJlZVNlY3Rpb24gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlXCI7XG5pbXBvcnQgeyB1c2VGaWxlU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9maWxlXCI7XG5pbXBvcnQgUHJvamVjdEZpbGUgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL3Byb2plY3RGaWxlcy9Qcm9qZWN0RmlsZS52dWVcIjtcblxuY29uc3QgZmlsZVN0b3JlID0gdXNlRmlsZVN0b3JlKCk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnNjcm9sbGVyIHtcbiAgbWF4LWhlaWdodDogNTAwcHg7XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwid2VsY29tZS12aWV3XCI+XG4gICAgPHNsb3QgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIj5cbi53ZWxjb21lLXZpZXcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBjb2xvcjogdmFyKC0tdnNjb2RlLWZvcmVncm91bmQpO1xuICBsaW5lLWhlaWdodDogMS40ZW07XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHBhZGRpbmc6IDAgMjBweCAxZW07XG5cbiAgKiB7XG4gICAgbWFyZ2luLWJsb2NrLWVuZDogMDtcbiAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDFlbTtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMDtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiAwO1xuICB9XG5cbiAgdnNjb2RlLWJ1dHRvbiB7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8ZGl2XG4gICAgY2xhc3M9XCJ0cmVlLWl0ZW1cIlxuICAgIDpjbGFzcz1cIntcbiAgICAgICdhbGlnbi1pY29uLXdpdGgtdHdpc3R5JzogYWxpZ25JY29uV2l0aFR3aXN0eSxcbiAgICAgIGNvbGxhcHNpYmxlOiBpc0V4cGFuZGFibGUsXG4gICAgICAndGV4dC1saXN0LWVtcGhhc2l6ZWQnOiBsaXN0U3R5bGUgPT09ICdlbXBoYXNpemVkJyxcbiAgICAgICd0ZXh0LWZvcmVncm91bmQnOiBsaXN0U3R5bGUgPT09ICdkZWZhdWx0JyxcbiAgICAgICd0ZXh0LWxpc3QtZGVlbXBoYXNpemVkJzogbGlzdFN0eWxlID09PSAnZGVlbXBoYXNpemVkJyxcbiAgICB9XCJcbiAgPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwidHJlZS1pdGVtLWNvbnRhaW5lclwiXG4gICAgICA6Y2xhc3M9XCJ2aXJ0dWFsaXplZCA/ICdjbGFzcy1ob3ZlcicgOiB1bmRlZmluZWRcIlxuICAgICAgOnRpdGxlPVwidG9vbHRpcFwiXG4gICAgICB2LW9uPVwie1xuICAgICAgICBjbGljazogaXNFeHBhbmRhYmxlID8gdG9nZ2xlRXhwYW5kZWQgOiB1bmRlZmluZWQsXG4gICAgICB9XCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5kZW50XCI+XG4gICAgICAgIDxkaXYgdi1mb3I9XCJfIGluIGluZGVudExldmVsIC0gMVwiIGNsYXNzPVwiaW5kZW50LWd1aWRlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJ0d2lzdHktY29udGFpbmVyIHRleHQtaWNvblwiXG4gICAgICAgIDpjbGFzcz1cIltcbiAgICAgICAgICB7IGNvZGljb246IGlzRXhwYW5kYWJsZSB9LFxuICAgICAgICAgIGV4cGFuZGFibGUgfHwgJHNsb3RzLmRlZmF1bHRcbiAgICAgICAgICAgID8gZXhwYW5kZWRcbiAgICAgICAgICAgICAgPyAnY29kaWNvbi1jaGV2cm9uLWRvd24nXG4gICAgICAgICAgICAgIDogJ2NvZGljb24tY2hldnJvbi1yaWdodCdcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBdXCJcbiAgICAgIC8+XG4gICAgICA8aVxuICAgICAgICB2LWlmPVwiY29kaWNvblwiXG4gICAgICAgIGNsYXNzPVwidHJlZS1pdGVtLWljb24gdGV4dC1pY29uIGNvZGljb25cIlxuICAgICAgICA6Y2xhc3M9XCJjb2RpY29uXCJcbiAgICAgIC8+XG4gICAgICA8aSB2LWlmPVwicG9zaXRJY29uXCIgY2xhc3M9XCJ0cmVlLWl0ZW0taWNvbiB0ZXh0LWljb25cIiA6Y2xhc3M9XCJwb3NpdEljb25cIiAvPlxuICAgICAgPGRpdiBjbGFzcz1cInRyZWUtaXRlbS1sYWJlbC1jb250YWluZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cmVlLWl0ZW0tdGl0bGVcIiBkYXRhLWF1dG9tYXRpb249XCJyZXFcIj57eyB0aXRsZSB9fTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gdi1pZj1cIiRzbG90cy5kZXNjcmlwdGlvblwiIGNsYXNzPVwidHJlZS1pdGVtLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPHNsb3QgbmFtZT1cImRlc2NyaXB0aW9uXCIgLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiB2LWVsc2UtaWY9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwidHJlZS1pdGVtLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAge3sgZGVzY3JpcHRpb24gfX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IHYtaWY9XCJhY3Rpb25zXCIgY2xhc3M9XCJhY3Rpb25zXCI+XG4gICAgICAgIDxBY3Rpb25Ub29sYmFyIDp0aXRsZT1cInRpdGxlXCIgOmFjdGlvbnM9XCJhY3Rpb25zXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiB2LWlmPVwiJHNsb3RzLnBvc3REZWNvclwiPlxuICAgICAgICA8c2xvdCBuYW1lPVwicG9zdERlY29yXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiB2LXNob3c9XCJpc0V4cGFuZGFibGUgJiYgZXhwYW5kZWRcIiBjbGFzcz1cInRyZWUtaXRlbS1jaGlsZHJlblwiPlxuICAgICAgPHNsb3QgOmluZGVudC1sZXZlbD1cImluZGVudExldmVsICsgMVwiIC8+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgQWN0aW9uVG9vbGJhciwgeyBBY3Rpb25CdXR0b24gfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcblxuZXhwb3J0IHR5cGUgVHJlZUl0ZW1TdHlsZSA9IFwiZW1waGFzaXplZFwiIHwgXCJkZWZhdWx0XCIgfCBcImRlZW1waGFzaXplZFwiO1xuXG5jb25zdCBleHBhbmRlZCA9IGRlZmluZU1vZGVsKFwiZXhwYW5kZWRcIiwgeyByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IGZhbHNlIH0pO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB0aXRsZTogc3RyaW5nO1xuICBsaXN0U3R5bGU/OiBUcmVlSXRlbVN0eWxlO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgdG9vbHRpcD86IHN0cmluZztcbiAgYWxpZ25JY29uV2l0aFR3aXN0eT86IGJvb2xlYW47XG4gIGNvZGljb24/OiBzdHJpbmc7XG4gIHBvc2l0SWNvbj86IHN0cmluZztcbiAgYWN0aW9ucz86IEFjdGlvbkJ1dHRvbltdO1xuICBpbmRlbnRMZXZlbD86IG51bWJlcjtcbiAgZXhwYW5kYWJsZT86IGJvb2xlYW47XG4gIHZpcnR1YWxpemVkPzogYm9vbGVhbjtcbn1cblxuY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8UHJvcHM+KCksIHtcbiAgbGlzdFN0eWxlOiBcImRlZmF1bHRcIixcbiAgaW5kZW50TGV2ZWw6IDEsXG4gIGV4cGFuZGFibGU6IGZhbHNlLFxuICB2aXJ0dWFsaXplZDogZmFsc2UsXG59KTtcblxuY29uc3Qgc2xvdHMgPSBkZWZpbmVTbG90czx7XG4gIGRlZmF1bHQ/KHByb3BzOiB7IGluZGVudExldmVsOiBudW1iZXIgfSk6IGFueTtcbiAgZGVzY3JpcHRpb24/KCk6IGFueTtcbiAgcG9zdERlY29yPygpOiBhbnk7XG59PigpO1xuXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzKFtcImV4cGFuZFwiLCBcImNvbGxhcHNlXCJdKTtcblxuY29uc3QgdG9nZ2xlRXhwYW5kZWQgPSAoKSA9PiB7XG4gIGV4cGFuZGVkLnZhbHVlID0gIWV4cGFuZGVkLnZhbHVlO1xuICBlbWl0cyhleHBhbmRlZC52YWx1ZSA/IFwiZXhwYW5kXCIgOiBcImNvbGxhcHNlXCIpO1xufTtcblxuY29uc3QgaXNFeHBhbmRhYmxlID0gY29tcHV0ZWQoKCk6IEJvb2xlYW4gPT4ge1xuICByZXR1cm4gQm9vbGVhbihzbG90cy5kZWZhdWx0IHx8IHByb3BzLmV4cGFuZGFibGUpO1xufSk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnRyZWUtaXRlbSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAmLmFsaWduLWljb24td2l0aC10d2lzdHk6bm90KC5jb2xsYXBzaWJsZSkgLnR3aXN0eS1jb250YWluZXIge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIHdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gIH1cblxuICAudHJlZS1pdGVtLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcGFkZGluZy1sZWZ0OiBjYWxjKHYtYmluZChpbmRlbnRMZXZlbCkgKiA4cHgpO1xuICAgIHBhZGRpbmctcmlnaHQ6IDEycHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICAgIC5pbmRlbnQge1xuICAgICAgd2lkdGg6IGNhbGModi1iaW5kKGluZGVudExldmVsKSAqIDhweCk7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAxNnB4O1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICAgIC5pbmRlbnQtZ3VpZGUge1xuICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4xcyBsaW5lYXI7XG4gICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC50d2lzdHktY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBmbGV4LXNocmluazogMDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgcGFkZGluZy1yaWdodDogNnB4O1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgfVxuXG4gICAgLnRyZWUtaXRlbS1pY29uIHtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwO1xuICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBoZWlnaHQ6IDIycHg7XG4gICAgICB3aWR0aDogMjJweDtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgcGFkZGluZy1yaWdodDogNnB4O1xuICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gICAgfVxuXG4gICAgLnRyZWUtaXRlbS1sYWJlbC1jb250YWluZXIge1xuICAgICAgZmxleDogMTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBtaW4td2lkdGg6IDA7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG5cbiAgICAgIC50cmVlLWl0ZW0tdGl0bGUge1xuICAgICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBwcmU7XG4gICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB9XG5cbiAgICAgIC50cmVlLWl0ZW0tZGVzY3JpcHRpb24ge1xuICAgICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDAuNWVtO1xuICAgICAgICBmbGV4LXNocmluazogMTAwMDAwO1xuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlO1xuICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuXG4gICAgICAgICY6bm90KDpoYXMoaW5wdXQpKSB7XG4gICAgICAgICAgb3BhY2l0eTogMC43O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmFjdGlvbnMge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIG1heC13aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgICBmbGV4LWdyb3c6IDEwMDtcbiAgICB9XG5cbiAgICAuaG92ZXIgJi5jbGFzcy1ob3ZlcixcbiAgICAmOm5vdCguY2xhc3MtaG92ZXIpOmhvdmVyIHtcbiAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtbGlzdC1ob3ZlckZvcmVncm91bmQsIHZhcigtLXZzY29kZS1mb3JlZ3JvdW5kKSk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtbGlzdC1ob3ZlckJhY2tncm91bmQpO1xuXG4gICAgICAuaW5kZW50IC5pbmRlbnQtZ3VpZGUge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXZzY29kZS10cmVlLWluYWN0aXZlSW5kZW50R3VpZGVzU3Ryb2tlKTtcbiAgICAgIH1cblxuICAgICAgLnRyZWUtaXRlbS10aXRsZSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtbGlzdC1ob3ZlckZvcmVncm91bmQsIHZhcigtLXZzY29kZS1mb3JlZ3JvdW5kKSk7XG4gICAgICB9XG5cbiAgICAgIC50cmVlLWl0ZW0tZGVzY3JpcHRpb24ge1xuICAgICAgICBjb2xvcjogdmFyKC0tdnNjb2RlLWxpc3QtaG92ZXJGb3JlZ3JvdW5kLCB2YXIoLS12c2NvZGUtZm9yZWdyb3VuZCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5ob3ZlciAmLmNsYXNzLWhvdmVyIC5hY3Rpb25zLFxuICAgICY6bm90KC5jbGFzcy1ob3Zlcik6aG92ZXIgLmFjdGlvbnMsXG4gICAgJjpmb2N1cy13aXRoaW4gLmFjdGlvbnMge1xuICAgICAgZGlzcGxheTogaW5pdGlhbDtcbiAgICB9XG4gIH1cbn1cbjwvc3R5bGU+XG4iLCI8dGVtcGxhdGU+XG4gIDxpbnB1dFxuICAgIHYtbW9kZWw9XCJtb2RlbFwiXG4gICAgcmVmPVwiaW5wdXRcIlxuICAgIGNsYXNzPVwic2lkZWJhci1pbnB1dFwiXG4gICAgOmFyaWEtbGFiZWw9XCJhcmlhTGFiZWxcIlxuICAgIEBrZXlkb3duLnByZXZlbnQuZW50ZXI9XCIkZW1pdCgnc3VibWl0JylcIlxuICAgIEBrZXlkb3duLmVzY2FwZT1cIiRlbWl0KCdjYW5jZWwnKVwiXG4gIC8+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiB9IGZyb20gXCJ2dWVcIjtcbmNvbnN0IG1vZGVsID0gZGVmaW5lTW9kZWwoKTtcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczx7XG4gIGxhYmVsOiBzdHJpbmc7XG59PigpO1xuXG5kZWZpbmVFbWl0cyhbXCJzdWJtaXRcIiwgXCJjYW5jZWxcIl0pO1xuXG5jb25zdCBpbnB1dCA9IHJlZjxIVE1MSW5wdXRFbGVtZW50IHwgbnVsbD4obnVsbCk7XG5cbmNvbnN0IGFyaWFMYWJlbCA9IGNvbXB1dGVkKFxuICAoKSA9PiBgJHtwcm9wcy5sYWJlbH0uIFByZXNzIEVudGVyIHRvIGNvbmZpcm0gb3IgRXNjYXBlIHRvIGNhbmNlbC5gLFxuKTtcblxuY29uc3Qgc2VsZWN0ID0gKCkgPT4ge1xuICBpbnB1dC52YWx1ZT8uc2VsZWN0KCk7XG59O1xuXG5kZWZpbmVFeHBvc2UoeyBzZWxlY3QgfSk7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnNpZGViYXItaW5wdXQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtaW5wdXQtYmFja2dyb3VuZCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXZzY29kZS1pbnB1dC1ib3JkZXIsIHRyYW5zcGFyZW50KTtcbiAgY29sb3I6IHZhcigtLXZzY29kZS1pbnB1dC1mb3JlZ3JvdW5kKTtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIHBhZGRpbmc6IDA7XG4gIG91dGxpbmUtY29sb3I6IHZhcigtLXZzY29kZS1mb2N1c0JvcmRlcik7XG4gIG91dGxpbmUtb2Zmc2V0OiAtMXB4O1xuICBvdXRsaW5lLXN0eWxlOiBzb2xpZDtcbiAgb3V0bGluZS13aWR0aDogMXB4O1xufVxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPFRyZWVJdGVtXG4gICAgOnRpdGxlPVwibmFtZVwiXG4gICAgOmFjdGlvbnM9XCJhY3Rpb25zXCJcbiAgICA6Y29kaWNvbj1cIlxuICAgICAgbmVlZHNWYWx1ZVxuICAgICAgICA/ICdjb2RpY29uLXdhcm5pbmcnXG4gICAgICAgIDogc2VjcmV0VmFsdWVcbiAgICAgICAgICA/ICdjb2RpY29uLWNsb3VkLXVwbG9hZCdcbiAgICAgICAgICA6ICdjb2RpY29uLWNoZWNrJ1xuICAgIFwiXG4gICAgOmxpc3Qtc3R5bGU9XCJcbiAgICAgIG5lZWRzVmFsdWUgfHwgc2VjcmV0VmFsdWUgfHwgaXNFZGl0aW5nID8gJ2RlZmF1bHQnIDogJ2RlZW1waGFzaXplZCdcbiAgICBcIlxuICAgIDp0b29sdGlwPVwidG9vbHRpcFwiXG4gICAgYWxpZ24taWNvbi13aXRoLXR3aXN0eVxuICAgIDpkYXRhLXZzY29kZS1jb250ZXh0PVwidnNjb2RlQ29udGV4dFwiXG4gID5cbiAgICA8dGVtcGxhdGUgI2Rlc2NyaXB0aW9uPlxuICAgICAgPFNpZGViYXJJbnB1dFxuICAgICAgICB2LWlmPVwiaXNFZGl0aW5nXCJcbiAgICAgICAgcmVmPVwiaW5wdXRcIlxuICAgICAgICB2LW1vZGVsPVwiaW5wdXRWYWx1ZVwiXG4gICAgICAgIGNsYXNzPVwidy1mdWxsXCJcbiAgICAgICAgbGFiZWw9XCJUeXBlIHNlY3JldCB2YWx1ZVwiXG4gICAgICAgIEBzdWJtaXQ9XCJ1cGRhdGVTZWNyZXRcIlxuICAgICAgICBAY2FuY2VsPVwiaXNFZGl0aW5nID0gZmFsc2VcIlxuICAgICAgLz5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCIhbmVlZHNWYWx1ZVwiPuKAouKAouKAouKAouKAouKAojwvdGVtcGxhdGU+XG4gICAgPC90ZW1wbGF0ZT5cbiAgPC9UcmVlSXRlbT5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyBjb21wdXRlZCwgcmVmLCBuZXh0VGljayB9IGZyb20gXCJ2dWVcIjtcblxuaW1wb3J0IFRyZWVJdGVtIGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVJdGVtLnZ1ZVwiO1xuaW1wb3J0IFNpZGViYXJJbnB1dCBmcm9tIFwic3JjL2NvbXBvbmVudHMvU2lkZWJhcklucHV0LnZ1ZVwiO1xuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL0FjdGlvblRvb2xiYXIudnVlXCI7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKTtcblxuY29uc3QgaW5wdXQgPSByZWY8SW5zdGFuY2VUeXBlPHR5cGVvZiBTaWRlYmFySW5wdXQ+IHwgbnVsbD4obnVsbCk7XG5jb25zdCBpc0VkaXRpbmcgPSByZWYoZmFsc2UpO1xuY29uc3QgaW5wdXRWYWx1ZSA9IHJlZjxzdHJpbmc+KCk7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcblxuY29uc3Qgc2VjcmV0VmFsdWUgPSBjb21wdXRlZCgoKSA9PiBob21lLnNlY3JldHMuZ2V0KHByb3BzLm5hbWUpKTtcblxuY29uc3Qgb25TZXJ2ZXIgPSBjb21wdXRlZCgoKSA9PiBob21lLnNlcnZlclNlY3JldHMuaGFzKHByb3BzLm5hbWUpKTtcblxuY29uc3QgbmVlZHNWYWx1ZSA9IGNvbXB1dGVkKCgpID0+ICFzZWNyZXRWYWx1ZS52YWx1ZSAmJiAhb25TZXJ2ZXIudmFsdWUpO1xuXG5jb25zdCBpbnB1dFNlY3JldCA9ICgpID0+IHtcbiAgLy8gVXBkYXRlIGlucHV0VmFsdWUgaW4gY2FzZSB0aGUgc2VjcmV0IHZhbHVlIGhhcyBjaGFuZ2VkIG9yIGJlZW4gY2xlYXJlZFxuICBpbnB1dFZhbHVlLnZhbHVlID0gc2VjcmV0VmFsdWUudmFsdWU7XG4gIGlzRWRpdGluZy52YWx1ZSA9IHRydWU7XG4gIC8vIFdhaXQgZm9yIG5leHQgdGljayB0byBlbnN1cmUgdGhlIGlucHV0IGlzIHJlbmRlcmVkXG4gIG5leHRUaWNrKCgpID0+IGlucHV0LnZhbHVlPy5zZWxlY3QoKSk7XG59O1xuXG5jb25zdCB1cGRhdGVTZWNyZXQgPSAoKSA9PiB7XG4gIGhvbWUuc2VjcmV0cy5zZXQocHJvcHMubmFtZSwgaW5wdXRWYWx1ZS52YWx1ZSk7XG4gIGlzRWRpdGluZy52YWx1ZSA9IGZhbHNlO1xufTtcblxuY29uc3QgdG9vbHRpcCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgaWYgKG9uU2VydmVyLnZhbHVlKSB7XG4gICAgaWYgKHNlY3JldFZhbHVlLnZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJPbiB0aGUgbmV4dCBkZXBsb3kgdGhlIHNlY3JldCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiVGhlIHZhbHVlIGlzIHNldCBvbiB0aGUgc2VydmVyLiBTZXQgYSBuZXcgdmFsdWUgdG8gb3ZlcndyaXRlIGl0IG9uIHRoZSBuZXh0IGRlcGxveS5cIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNlY3JldFZhbHVlLnZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJPbiB0aGUgbmV4dCBkZXBsb3kgdGhlIHNlY3JldCB3aWxsIGJlIHNldC5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiVGhlIHNlY3JldCB3aWxsIG5vdCBiZSBjcmVhdGVkIG9uIHRoZSBuZXh0IGRlcGxveSB3aXRob3V0IGEgdmFsdWUuIFNldCBhIHZhbHVlIHRvIHNldCBpdC5cIjtcbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBhY3Rpb25zID0gY29tcHV0ZWQ8QWN0aW9uQnV0dG9uW10+KCgpID0+IHtcbiAgLy8gU2hvdyBubyBhY3Rpb25zIHdoaWxlIHRoZSB2YWx1ZSBpcyBiZWluZyBlZGl0ZWRcbiAgaWYgKGlzRWRpdGluZy52YWx1ZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IFtcbiAgICB7XG4gICAgICBsYWJlbDogXCJFZGl0IFZhbHVlXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tc3ltYm9sLXN0cmluZ1wiLFxuICAgICAgZm46IGlucHV0U2VjcmV0LFxuICAgIH0sXG4gIF07XG5cbiAgaWYgKHNlY3JldFZhbHVlLnZhbHVlKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgbGFiZWw6IFwiQ2xlYXIgVmFsdWVcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1yZW1vdmVcIixcbiAgICAgIGZuOiAoKSA9PiB7XG4gICAgICAgIGhvbWUuc2VjcmV0cy5zZXQocHJvcHMubmFtZSwgdW5kZWZpbmVkKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmNvbnN0IHZzY29kZUNvbnRleHQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICB3ZWJ2aWV3U2VjdGlvbjogXCJzZWNyZXRzLXRyZWUtaXRlbVwiLFxuICAgIHByZXZlbnREZWZhdWx0Q29udGV4dE1lbnVJdGVtczogdHJ1ZSxcbiAgfSk7XG59KTtcbjwvc2NyaXB0PlxuIiwiPHRlbXBsYXRlPlxuICA8VHJlZVNlY3Rpb25cbiAgICB0aXRsZT1cIlNlY3JldHNcIlxuICAgIDphY3Rpb25zPVwic2VjdGlvbkFjdGlvbnNcIlxuICAgIDpjb3VudD1cImhvbWUuc2VjcmV0c1dpdGhWYWx1ZUNvdW50XCJcbiAgPlxuICAgIDx0ZW1wbGF0ZSB2LWlmPVwiaG9tZS5zZWNyZXRzLnNpemVcIj5cbiAgICAgIDxTZWNyZXQgdi1mb3I9XCJbbmFtZV0gaW4gaG9tZS5zZWNyZXRzXCIgOm5hbWU9XCJuYW1lXCIgOmtleT1cIm5hbWVcIiAvPlxuICAgIDwvdGVtcGxhdGU+XG4gICAgPFdlbGNvbWVWaWV3IHYtZWxzZT5cbiAgICAgIDxwPk5vIHNlY3JldHMgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBjb25maWd1cmF0aW9uLjwvcD5cbiAgICA8L1dlbGNvbWVWaWV3PlxuICA8L1RyZWVTZWN0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvQWN0aW9uVG9vbGJhci52dWVcIjtcbmltcG9ydCBUcmVlU2VjdGlvbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlU2VjdGlvbi52dWVcIjtcbmltcG9ydCBXZWxjb21lVmlldyBmcm9tIFwic3JjL2NvbXBvbmVudHMvV2VsY29tZVZpZXcudnVlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgU2VjcmV0IGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9zZWNyZXRzL1NlY3JldC52dWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5cbmltcG9ydCB7IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvdHlwZXMvbWVzc2FnZXMvd2Vidmlld1RvSG9zdE1lc3NhZ2VzXCI7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbmNvbnN0IHsgc2VuZE1zZyB9ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5cbmNvbnN0IHNlY3Rpb25BY3Rpb25zID0gY29tcHV0ZWQ8QWN0aW9uQnV0dG9uW10+KCgpID0+IHtcbiAgY29uc3QgcmVzdWx0OiBBY3Rpb25CdXR0b25bXSA9IFtcbiAgICB7XG4gICAgICBsYWJlbDogXCJBZGQgU2VjcmV0XCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tYWRkXCIsXG4gICAgICBmbjogKCkgPT4ge1xuICAgICAgICBzZW5kTXNnKHtcbiAgICAgICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQUREX1NFQ1JFVCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gIF07XG5cbiAgaWYgKGhvbWUuc2VjcmV0c1dpdGhWYWx1ZUNvdW50ID4gMCkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIGxhYmVsOiBcIkNsZWFyIFZhbHVlcyBmb3IgYWxsIFNlY3JldHNcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1jbGVhci1hbGxcIixcbiAgICAgIGZuOiAoKSA9PiB7XG4gICAgICAgIGhvbWUuc2VjcmV0cy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgICAgICBob21lLnNlY3JldHMuc2V0KGtleSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuPC9zY3JpcHQ+XG4iLCI8dGVtcGxhdGU+XG4gIDxUcmVlU2VjdGlvblxuICAgIHRpdGxlPVwiSW50ZWdyYXRpb24gUmVxdWVzdHNcIlxuICAgIGRhdGEtYXV0b21hdGlvbj1cInB1Ymxpc2hlci1pbnRlZ3JhdGlvblJlcXVlc3RzLXNlY3Rpb25cIlxuICAgIDphY3Rpb25zPVwic2VjdGlvbkFjdGlvbnNcIlxuICA+XG4gICAgPFdlbGNvbWVWaWV3XG4gICAgICB2LWlmPVwiaG9tZS5zZXJ2ZXJTZXR0aW5ncyAhPT0gdW5kZWZpbmVkICYmICFpc09BdXRoSW50ZWdyYXRpb25zU3VwcG9ydGVkXCJcbiAgICA+XG4gICAgICA8cD5cbiAgICAgICAgT0F1dGggSW50ZWdyYXRpb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggeW91ciBjdXJyZW50IHNlcnZlclxuICAgICAgICBjb25maWd1cmF0aW9uIG9yIGxpY2Vuc2UuIFBsZWFzZSBjb250YWN0IHlvdXIgc2VydmVyIGFkbWluaXN0cmF0b3IgZm9yXG4gICAgICAgIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICA8L3A+XG4gICAgPC9XZWxjb21lVmlldz5cbiAgICA8V2VsY29tZVZpZXcgdi1lbHNlLWlmPVwiIWhvbWUuaW50ZWdyYXRpb25SZXF1ZXN0cy5sZW5ndGhcIj5cbiAgICAgIDxwPk5vIGludGVncmF0aW9uIHJlcXVlc3RzIGhhdmUgYmVlbiBhZGRlZCB5ZXQuPC9wPlxuICAgIDwvV2VsY29tZVZpZXc+XG4gICAgPFRyZWVJdGVtXG4gICAgICB2LWVsc2VcbiAgICAgIHYtZm9yPVwiaW50ZWdyYXRpb25SZXF1ZXN0IGluIGhvbWUuaW50ZWdyYXRpb25SZXF1ZXN0c1wiXG4gICAgICA6dGl0bGU9XCJpbnRlZ3JhdGlvblJlcXVlc3QuZGlzcGxheU5hbWUgPz8gJydcIlxuICAgICAgOmRlc2NyaXB0aW9uPVwiaW50ZWdyYXRpb25SZXF1ZXN0LmRpc3BsYXlEZXNjcmlwdGlvbiA/PyAnJ1wiXG4gICAgICA6ZGF0YS1hdXRvbWF0aW9uPVwiYGludGVncmF0aW9uLXJlcXVlc3QtJHtpbnRlZ3JhdGlvblJlcXVlc3QubmFtZSB8fCAnJ30tbGlzdGBcIlxuICAgICAgY29kaWNvbj1cInBvc2l0LXB1Ymxpc2hlci1pY29ucy1wb3NpdC1sb2dvXCJcbiAgICAgIDphY3Rpb25zPVwiZ2V0SW50ZWdyYXRpb25SZXF1ZXN0QWN0aW9ucyhpbnRlZ3JhdGlvblJlcXVlc3QpXCJcbiAgICAgIGFsaWduLWljb24td2l0aC10d2lzdHlcbiAgICAvPlxuICA8L1RyZWVTZWN0aW9uPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgVHJlZVNlY3Rpb24gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlXCI7XG5pbXBvcnQgVHJlZUl0ZW0gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW0udnVlXCI7XG5pbXBvcnQgV2VsY29tZVZpZXcgZnJvbSBcInNyYy9jb21wb25lbnRzL1dlbGNvbWVWaWV3LnZ1ZVwiO1xuaW1wb3J0IHsgdXNlSG9tZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvaG9tZVwiO1xuaW1wb3J0IHsgdXNlSG9zdENvbmR1aXRTZXJ2aWNlIH0gZnJvbSBcInNyYy9Ib3N0Q29uZHVpdFNlcnZpY2VcIjtcblxuaW1wb3J0IHsgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXNcIjtcbmltcG9ydCB7IEludGVncmF0aW9uUmVxdWVzdCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5cbmNvbnN0IHsgc2VuZE1zZyB9ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5jb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG5cbmNvbnN0IGlzT0F1dGhJbnRlZ3JhdGlvbnNTdXBwb3J0ZWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IHZhbGlkTGljZW5zZSA9XG4gICAgaG9tZS5zZXJ2ZXJTZXR0aW5ncz8ubGljZW5zZT8uW1wib2F1dGgtaW50ZWdyYXRpb25zXCJdID8/IGZhbHNlO1xuICBjb25zdCBvYXV0aEludGVncmF0aW9uc0VuYWJsZWQgPVxuICAgIGhvbWUuc2VydmVyU2V0dGluZ3M/Lm9hdXRoX2ludGVncmF0aW9uc19lbmFibGVkID8/IGZhbHNlO1xuICByZXR1cm4gdmFsaWRMaWNlbnNlICYmIG9hdXRoSW50ZWdyYXRpb25zRW5hYmxlZDtcbn0pO1xuXG5jb25zdCBzZWN0aW9uQWN0aW9ucyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgaWYgKCFpc09BdXRoSW50ZWdyYXRpb25zU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IFtcbiAgICB7XG4gICAgICBsYWJlbDogXCJBZGQgSW50ZWdyYXRpb24gUmVxdWVzdFwiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLWFkZFwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgc2VuZE1zZyh7XG4gICAgICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLkFERF9JTlRFR1JBVElPTl9SRVFVRVNULFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcblxuICBpZiAoaG9tZS5pbnRlZ3JhdGlvblJlcXVlc3RzLmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBsYWJlbDogXCJDbGVhciBhbGwgSW50ZWdyYXRpb24gUmVxdWVzdHNcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1jbGVhci1hbGxcIixcbiAgICAgIGZuOiAoKSA9PiB7XG4gICAgICAgIHNlbmRNc2coe1xuICAgICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5DTEVBUl9BTExfSU5URUdSQVRJT05fUkVRVUVTVFMsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmNvbnN0IGdldEludGVncmF0aW9uUmVxdWVzdEFjdGlvbnMgPSAoXG4gIGludGVncmF0aW9uUmVxdWVzdDogSW50ZWdyYXRpb25SZXF1ZXN0LFxuKSA9PiBbXG4gIHtcbiAgICBsYWJlbDogXCJEZWxldGUgSW50ZWdyYXRpb24gUmVxdWVzdFwiLFxuICAgIGNvZGljb246IFwiY29kaWNvbi10cmFzaFwiLFxuICAgIGZuOiAoKSA9PlxuICAgICAgc2VuZE1zZyh7XG4gICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5ERUxFVEVfSU5URUdSQVRJT05fUkVRVUVTVCxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHJlcXVlc3Q6IGludGVncmF0aW9uUmVxdWVzdCxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICB9LFxuXTtcbjwvc2NyaXB0PlxuIiwiPHRlbXBsYXRlPlxuICA8VHJlZVNlY3Rpb25cbiAgICB0aXRsZT1cIlB5dGhvbiBQYWNrYWdlc1wiXG4gICAgZGF0YS1hdXRvbWF0aW9uPVwicHl0aG9uLXBhY2thZ2VzXCJcbiAgICA6YWN0aW9ucz1cInB5dGhvblBhY2thZ2VBY3Rpb25zXCJcbiAgICA6Y29kaWNvbj1cImhvbWUucHl0aG9uLmFjdGl2ZS5pc0FsZXJ0QWN0aXZlID8gYGNvZGljb24tYWxlcnRgIDogYGBcIlxuICA+XG4gICAgPFdlbGNvbWVWaWV3IHYtaWY9XCJzaG93V2VsY29tZVZpZXdcIj5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiaG9tZS5weXRob24uYWN0aXZlLmlzTWlzc2luZ1JlcXVpcmVtZW50c1wiPlxuICAgICAgICA8cD5cbiAgICAgICAgICBUbyBkZXBsb3kgUHl0aG9uIGNvbnRlbnQsIHlvdSBuZWVkIGEgcGFja2FnZSBmaWxlIGxpc3RpbmcgYW55IHBhY2thZ2VcbiAgICAgICAgICBkZXBlbmRlbmNpZXMsIGJ1dCB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdC4gQ2xpY2sgU2NhbiB0byBjcmVhdGUgb25lXG4gICAgICAgICAgYmFzZWQgb24gdGhlIGZpbGVzIGluIHlvdXIgcHJvamVjdCBhbmQgeW91ciBjb25maWd1cmF0aW9uLlxuICAgICAgICA8L3A+XG4gICAgICAgIDx2c2NvZGUtYnV0dG9uIEBjbGljaz1cIm9uU2NhbkZvclBhY2thZ2VSZXF1aXJlbWVudHMoKVwiPlxuICAgICAgICAgIFNjYW5cbiAgICAgICAgPC92c2NvZGUtYnV0dG9uPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCIhaG9tZS5weXRob24uYWN0aXZlLmlzSW5Qcm9qZWN0XCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIFRoaXMgcHJvamVjdCBpcyBub3QgY29uZmlndXJlZCB0byB1c2UgUHl0aG9uLiBUbyBjb25maWd1cmUgUHl0aG9uLCBhZGRcbiAgICAgICAgICBhIFtweXRob25dIHNlY3Rpb24gdG8geW91ciBjb25maWd1cmF0aW9uIGZpbGUuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8dGVtcGxhdGUgdi1lbHNlLWlmPVwiaG9tZS5weXRob24uYWN0aXZlLmlzRW1wdHlSZXF1aXJlbWVudHNcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgVGhpcyBwcm9qZWN0IGN1cnJlbnRseSBoYXMgbm8gUHl0aG9uIHBhY2thZ2UgcmVxdWlyZW1lbnRzLiBJZiB0aGlzIGlzXG4gICAgICAgICAgbm90IGFjY3VyYXRlLCBjbGljayBTY2FuIHRvIHVwZGF0ZSBiYXNlZCBvbiB0aGUgZmlsZXMgaW4geW91ciBwcm9qZWN0XG4gICAgICAgICAgYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHZzY29kZS1idXR0b24gQGNsaWNrPVwib25TY2FuRm9yUGFja2FnZVJlcXVpcmVtZW50cygpXCI+XG4gICAgICAgICAgU2NhblxuICAgICAgICA8L3ZzY29kZS1idXR0b24+XG4gICAgICA8L3RlbXBsYXRlPlxuICAgIDwvV2VsY29tZVZpZXc+XG4gICAgPHRlbXBsYXRlIHYtZWxzZT5cbiAgICAgIDxUcmVlSXRlbVxuICAgICAgICB2LWZvcj1cInBrZyBpbiBob21lLnB5dGhvblBhY2thZ2VzXCJcbiAgICAgICAgOmtleT1cInBrZ1wiXG4gICAgICAgIDp0aXRsZT1cInBrZ1wiXG4gICAgICAgIGNvZGljb249XCJjb2RpY29uLXBhY2thZ2VcIlxuICAgICAgICBhbGlnbi1pY29uLXdpdGgtdHdpc3R5XG4gICAgICAvPlxuICAgIDwvdGVtcGxhdGU+XG4gIDwvVHJlZVNlY3Rpb24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IFRyZWVJdGVtIGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVJdGVtLnZ1ZVwiO1xuaW1wb3J0IFRyZWVTZWN0aW9uIGZyb20gXCJzcmMvY29tcG9uZW50cy90cmVlL1RyZWVTZWN0aW9uLnZ1ZVwiO1xuaW1wb3J0IFdlbGNvbWVWaWV3IGZyb20gXCJzcmMvY29tcG9uZW50cy9XZWxjb21lVmlldy52dWVcIjtcblxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCB7IHVzZUhvbWVTdG9yZSB9IGZyb20gXCJzcmMvc3RvcmVzL2hvbWVcIjtcbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSBcIi4uL0FjdGlvblRvb2xiYXIudnVlXCI7XG5cbmNvbnN0IGhvbWUgPSB1c2VIb21lU3RvcmUoKTtcbmNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5cbmNvbnN0IG9uUmVmcmVzaCA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlJFRlJFU0hfUFlUSE9OX1BBQ0tBR0VTLFxuICB9KTtcbn07XG5cbmNvbnN0IG9uU2NhbkZvclBhY2thZ2VSZXF1aXJlbWVudHMgPSAoKSA9PiB7XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5TQ0FOX1BZVEhPTl9QQUNLQUdFX1JFUVVJUkVNRU5UUyxcbiAgfSk7XG59O1xuXG5jb25zdCBvbkVkaXRSZXF1aXJlbWVudHNGaWxlID0gKCkgPT4ge1xuICBpZiAoIWhvbWUucHl0aG9uUGFja2FnZUZpbGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlZTQ09ERV9PUEVOX1JFTEFUSVZFLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIHJlbGF0aXZlUGF0aDogaG9tZS5weXRob25QYWNrYWdlRmlsZSxcbiAgICB9LFxuICB9KTtcbn07XG5cbmNvbnN0IHB5dGhvblBhY2thZ2VBY3Rpb25zID0gY29tcHV0ZWQoKCk6IEFjdGlvbkJ1dHRvbltdID0+IHtcbiAgY29uc3QgcmVzdWx0OiBBY3Rpb25CdXR0b25bXSA9IFtdO1xuICAvLyBpZiB3ZSBoYXZlIG5vIHJlcXVpcmVtZW50cyBmaWxlLCBzbyB3ZSBjYW4ndCBlZGl0IG9yIHNjYW5cbiAgaWYgKEJvb2xlYW4oaG9tZS5weXRob25QYWNrYWdlRmlsZSkpIHtcbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBsYWJlbDogXCJFZGl0IFBhY2thZ2UgUmVxdWlyZW1lbnRzIEZpbGVcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1lZGl0XCIsXG4gICAgICBmbjogb25FZGl0UmVxdWlyZW1lbnRzRmlsZSxcbiAgICB9KTtcbiAgfVxuICByZXN1bHQucHVzaCh7XG4gICAgbGFiZWw6IFwiUmVmcmVzaCBQYWNrYWdlc1wiLFxuICAgIGNvZGljb246IFwiY29kaWNvbi1yZWZyZXNoXCIsXG4gICAgZm46IG9uUmVmcmVzaCxcbiAgfSk7XG4gIGlmIChCb29sZWFuKGhvbWUucHl0aG9uUGFja2FnZUZpbGUpKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgbGFiZWw6IFwiU2NhbiBGb3IgUGFja2FnZSBSZXF1aXJlbWVudHNcIixcbiAgICAgIGNvZGljb246IFwiY29kaWNvbi1leWVcIixcbiAgICAgIGZuOiBvblNjYW5Gb3JQYWNrYWdlUmVxdWlyZW1lbnRzLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuY29uc3Qgc2hvd1dlbGNvbWVWaWV3ID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgICFob21lLnB5dGhvbi5hY3RpdmUuaXNJblByb2plY3QgfHxcbiAgICBob21lLnB5dGhvbi5hY3RpdmUuaXNFbXB0eVJlcXVpcmVtZW50cyB8fFxuICAgIGhvbWUucHl0aG9uLmFjdGl2ZS5pc01pc3NpbmdSZXF1aXJlbWVudHNcbiAgKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCI8dGVtcGxhdGU+XG4gIDxUcmVlU2VjdGlvblxuICAgIHRpdGxlPVwiUiBQYWNrYWdlc1wiXG4gICAgZGF0YS1hdXRvbWF0aW9uPVwici1wYWNrYWdlc1wiXG4gICAgOmFjdGlvbnM9XCJyUGFja2FnZUFjdGlvbnNcIlxuICA+XG4gICAgPFdlbGNvbWVWaWV3IHYtaWY9XCJzaG93V2VsY29tZVZpZXdcIj5cbiAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwibWlzc2luZ09ySW52YWxpZFBhY2thZ2VGaWxlXCI+XG4gICAgICAgIDxwPkRlcGVuZGVuY2llcyB3aWxsIGJlIGRldGVjdGVkIGF1dG9tYXRpY2FsbHkuPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICBBbHRlcm5hdGl2ZWx5LCBzZXQgdXAgcmVudiB0byB1c2UgYW4gaXNvbGF0ZWQgbGlicmFyeSBhbmQgY3JlYXRlIGFcbiAgICAgICAgICBsb2NrZmlsZS5cbiAgICAgICAgICA8YSBjbGFzcz1cIndlYnZpZXctbGlua1wiIHJvbGU9XCJidXR0b25cIiBAY2xpY2s9XCJvblZpZXdSZW52RG9jXCJcbiAgICAgICAgICAgID5TZWUgdGhlIHJlbnYgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzLjwvYVxuICAgICAgICAgID5cbiAgICAgICAgPC9wPlxuICAgICAgICA8dnNjb2RlLWJ1dHRvblxuICAgICAgICAgIEBjbGljaz1cIm9uU2V0dXBSZW52KClcIlxuICAgICAgICAgIDpkaXNhYmxlZD1cImlzU2V0dGluZ1VwUmVudlwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlNldCBVcCByZW52XCJcbiAgICAgICAgPlxuICAgICAgICAgIFNldCBVcCByZW52XG4gICAgICAgIDwvdnNjb2RlLWJ1dHRvbj5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8dGVtcGxhdGUgdi1pZj1cIiFob21lLnIuYWN0aXZlLmlzSW5Qcm9qZWN0XCI+XG4gICAgICAgIDxwIGRhdGEtYXV0b21hdGlvbj1cInItbm90LWNvbmZpZ3VyZWRcIj5cbiAgICAgICAgICBUaGlzIHByb2plY3QgaXMgbm90IGNvbmZpZ3VyZWQgdG8gdXNlIFIuIFRvIGNvbmZpZ3VyZSBSLCBhZGQgYW4gW3JdXG4gICAgICAgICAgc2VjdGlvbiB0byB5b3VyIGNvbmZpZ3VyYXRpb24gZmlsZS5cbiAgICAgICAgPC9wPlxuICAgICAgPC90ZW1wbGF0ZT5cbiAgICA8L1dlbGNvbWVWaWV3PlxuICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICA8VHJlZUl0ZW1cbiAgICAgICAgdi1mb3I9XCJwa2cgaW4gaG9tZS5yUGFja2FnZXNcIlxuICAgICAgICA6a2V5PVwicGtnLnBhY2thZ2VcIlxuICAgICAgICA6dGl0bGU9XCJwa2cucGFja2FnZVwiXG4gICAgICAgIDpkZXNjcmlwdGlvbj1cInBrZy52ZXJzaW9uXCJcbiAgICAgICAgOnRvb2x0aXA9XCJwa2cuc291cmNlICsgJzogJyArIHBrZy5yZXBvc2l0b3J5XCJcbiAgICAgICAgY29kaWNvbj1cImNvZGljb24tcGFja2FnZVwiXG4gICAgICAgIGFsaWduLWljb24td2l0aC10d2lzdHlcbiAgICAgIC8+XG4gICAgPC90ZW1wbGF0ZT5cbiAgPC9UcmVlU2VjdGlvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgVHJlZUl0ZW0gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW0udnVlXCI7XG5pbXBvcnQgVHJlZVNlY3Rpb24gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlXCI7XG5pbXBvcnQgV2VsY29tZVZpZXcgZnJvbSBcInNyYy9jb21wb25lbnRzL1dlbGNvbWVWaWV3LnZ1ZVwiO1xuXG5pbXBvcnQgeyBjb21wdXRlZCwgcmVmIH0gZnJvbSBcInZ1ZVwiO1xuXG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuaW1wb3J0IHsgV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3NyYy90eXBlcy9tZXNzYWdlcy93ZWJ2aWV3VG9Ib3N0TWVzc2FnZXNcIjtcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gXCIuLi9BY3Rpb25Ub29sYmFyLnZ1ZVwiO1xuaW1wb3J0IHsgaXNDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL2FwaVwiO1xuXG5jb25zdCBob21lID0gdXNlSG9tZVN0b3JlKCk7XG5cbmNvbnN0IGhvc3RDb25kdWl0ID0gdXNlSG9zdENvbmR1aXRTZXJ2aWNlKCk7XG5cbmNvbnN0IGlzU2V0dGluZ1VwUmVudiA9IHJlZihmYWxzZSk7XG5cbmNvbnN0IG9uUmVmcmVzaCA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlJFRlJFU0hfUl9QQUNLQUdFUyxcbiAgfSk7XG59O1xuXG5jb25zdCBvblNldHVwUmVudiA9ICgpID0+IHtcbiAgaXNTZXR0aW5nVXBSZW52LnZhbHVlID0gdHJ1ZTtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLlNDQU5fUl9QQUNLQUdFX1JFUVVJUkVNRU5UUyxcbiAgfSk7XG59O1xuXG5jb25zdCBvbkVkaXRSZXF1aXJlbWVudHNGaWxlID0gKCkgPT4ge1xuICBpZiAoIWhvbWUuclBhY2thZ2VGaWxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5WU0NPREVfT1BFTl9SRUxBVElWRSxcbiAgICBjb250ZW50OiB7XG4gICAgICByZWxhdGl2ZVBhdGg6IGhvbWUuclBhY2thZ2VGaWxlLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3Qgb25WaWV3UmVudkRvYyA9ICgpID0+IHtcbiAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5BVklHQVRFLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIHVyaVBhdGg6IFwiaHR0cHM6Ly9yc3R1ZGlvLmdpdGh1Yi5pby9yZW52L2FydGljbGVzL3JlbnYuaHRtbFwiLFxuICAgIH0sXG4gIH0pO1xufTtcblxuY29uc3QgclBhY2thZ2VBY3Rpb25zID0gY29tcHV0ZWQoKCk6IEFjdGlvbkJ1dHRvbltdID0+IHtcbiAgY29uc3QgcmVzdWx0OiBBY3Rpb25CdXR0b25bXSA9IFtdO1xuICAvLyBpZiB3ZSBoYXZlIG5vIHJlcXVpcmVtZW50cyBmaWxlLCBzbyB3ZSBjYW4ndCBlZGl0IG9yIHNjYW5cbiAgaWYgKEJvb2xlYW4oaG9tZS5yUGFja2FnZUZpbGUpKSB7XG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAgbGFiZWw6IFwiRWRpdCBQYWNrYWdlIFJlcXVpcmVtZW50cyBGaWxlXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tZWRpdFwiLFxuICAgICAgZm46IG9uRWRpdFJlcXVpcmVtZW50c0ZpbGUsXG4gICAgfSk7XG4gIH1cbiAgcmVzdWx0LnB1c2goe1xuICAgIGxhYmVsOiBcIlJlZnJlc2ggUGFja2FnZXNcIixcbiAgICBjb2RpY29uOiBcImNvZGljb24tcmVmcmVzaFwiLFxuICAgIGZuOiBvblJlZnJlc2gsXG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmNvbnN0IHNob3dXZWxjb21lVmlldyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAhaG9tZS5yLmFjdGl2ZS5pc0luUHJvamVjdCB8fFxuICAgIGhvbWUuci5hY3RpdmUuaXNFbXB0eVJlcXVpcmVtZW50cyB8fFxuICAgIGhvbWUuci5hY3RpdmUuaXNNaXNzaW5nUGFja2FnZUZpbGVcbiAgKTtcbn0pO1xuXG5jb25zdCByUGFja2FnZUZpbGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChcbiAgICBob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbiAmJlxuICAgICFpc0NvbmZpZ3VyYXRpb25FcnJvcihob21lLnNlbGVjdGVkQ29uZmlndXJhdGlvbilcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGhvbWUuc2VsZWN0ZWRDb25maWd1cmF0aW9uLmNvbmZpZ3VyYXRpb24ucj8ucGFja2FnZUZpbGUgfHwgXCJyZW52LmxvY2tcIlxuICAgICk7XG4gIH1cbn0pO1xuXG5jb25zdCBtaXNzaW5nT3JJbnZhbGlkUGFja2FnZUZpbGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgaG9tZS5yLmFjdGl2ZS5pc01pc3NpbmdQYWNrYWdlRmlsZSB8fCBob21lLnIuYWN0aXZlLmlzRW1wdHlSZXF1aXJlbWVudHNcbiAgKTtcbn0pO1xuPC9zY3JpcHQ+XG4iLCI8dGVtcGxhdGU+XG4gIDxUcmVlU2VjdGlvblxuICAgIHRpdGxlPVwiQ3JlZGVudGlhbHNcIlxuICAgIGRhdGEtYXV0b21hdGlvbj1cInB1Ymxpc2hlci1jcmVkZW50aWFscy1zZWN0aW9uXCJcbiAgICA6YWN0aW9ucz1cInNlY3Rpb25BY3Rpb25zXCJcbiAgICA6Y29kaWNvbj1cImhvbWUuY3JlZGVudGlhbC5hY3RpdmUuaXNBbGVydEFjdGl2ZSA/IGBjb2RpY29uLWFsZXJ0YCA6IGBgXCJcbiAgPlxuICAgIDxXZWxjb21lVmlldyB2LWlmPVwiIWhvbWUuY3JlZGVudGlhbC5pc0F2YWlsYWJsZVwiPlxuICAgICAgPHA+Tm8gY3JlZGVudGlhbHMgaGF2ZSBiZWVuIGFkZGVkIHlldC48L3A+XG4gICAgPC9XZWxjb21lVmlldz5cbiAgICA8VHJlZUl0ZW1cbiAgICAgIHYtZWxzZVxuICAgICAgdi1mb3I9XCJjcmVkZW50aWFsIGluIGhvbWUuc29ydGVkQ3JlZGVudGlhbHNcIlxuICAgICAgOnRpdGxlPVwiY3JlZGVudGlhbC5uYW1lXCJcbiAgICAgIDpkZXNjcmlwdGlvbj1cImdldERlc2NyaXB0aW9uKGNyZWRlbnRpYWwpXCJcbiAgICAgIDpkYXRhLWF1dG9tYXRpb249XCJgJHtjcmVkZW50aWFsLm5hbWV9LWxpc3RgXCJcbiAgICAgIGNvZGljb249XCJwb3NpdC1wdWJsaXNoZXItaWNvbnMtcG9zaXQtbG9nb1wiXG4gICAgICA6YWN0aW9ucz1cIltcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiAnRGVsZXRlIENyZWRlbnRpYWwnLFxuICAgICAgICAgIGNvZGljb246ICdjb2RpY29uLXRyYXNoJyxcbiAgICAgICAgICBmbjogKCkgPT5cbiAgICAgICAgICAgIHNlbmRNc2coe1xuICAgICAgICAgICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuREVMRVRFX0NSRURFTlRJQUwsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsR1VJRDogY3JlZGVudGlhbC5ndWlkLFxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxOYW1lOiBjcmVkZW50aWFsLm5hbWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgIF1cIlxuICAgICAgYWxpZ24taWNvbi13aXRoLXR3aXN0eVxuICAgIC8+XG4gIDwvVHJlZVNlY3Rpb24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tIFwidnVlXCI7XG5cbmltcG9ydCBUcmVlU2VjdGlvbiBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlU2VjdGlvbi52dWVcIjtcbmltcG9ydCBUcmVlSXRlbSBmcm9tIFwic3JjL2NvbXBvbmVudHMvdHJlZS9UcmVlSXRlbS52dWVcIjtcbmltcG9ydCBXZWxjb21lVmlldyBmcm9tIFwic3JjL2NvbXBvbmVudHMvV2VsY29tZVZpZXcudnVlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy9ob21lXCI7XG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuXG5pbXBvcnQgeyBDcmVkZW50aWFsLCBQcm9kdWN0TmFtZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9zcmMvYXBpXCI7XG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuaW1wb3J0IHsgaXNDb25uZWN0Q2xvdWQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL3V0aWxzL211bHRpU3RlcEhlbHBlcnNcIjtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuXG5jb25zdCB7IHNlbmRNc2cgfSA9IHVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuXG5jb25zdCBzZWN0aW9uQWN0aW9ucyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBsYWJlbDogXCJOZXcgQ3JlZGVudGlhbFwiLFxuICAgICAgY29kaWNvbjogXCJjb2RpY29uLWFkZFwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgc2VuZE1zZyh7XG4gICAgICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5FV19DUkVERU5USUFMLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogXCJSZWZyZXNoIENyZWRlbnRpYWxzXCIsXG4gICAgICBjb2RpY29uOiBcImNvZGljb24tcmVmcmVzaFwiLFxuICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgc2VuZE1zZyh7IGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5SRVFVRVNUX0NSRURFTlRJQUxTIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICBdO1xufSk7XG5cbmNvbnN0IGdldERlc2NyaXB0aW9uID0gKGNyZWRlbnRpYWw6IENyZWRlbnRpYWwpID0+IHtcbiAgcmV0dXJuIGlzQ29ubmVjdENsb3VkKGNyZWRlbnRpYWwuc2VydmVyVHlwZSlcbiAgICA/IFByb2R1Y3ROYW1lLkNPTk5FQ1RfQ0xPVURcbiAgICA6IGNyZWRlbnRpYWwudXJsO1xufTtcbjwvc2NyaXB0PlxuIiwiPHRlbXBsYXRlPlxuICA8VHJlZVNlY3Rpb25cbiAgICB0aXRsZT1cIkhlbHAgYW5kIEZlZWRiYWNrXCJcbiAgICBkYXRhLWF1dG9tYXRpb249XCJwdWJsaXNoZXItaGVscC1zZWN0aW9uXCJcbiAgPlxuICAgIDxUcmVlSXRlbVxuICAgICAgdGl0bGU9XCJHZXQgU3RhcnRlZCB3aXRoIFBvc2l0IFB1Ymxpc2hlclwiXG4gICAgICB0b29sdGlwPVwiT3BlbiBHZXR0aW5nIFN0YXJ0ZWQgRG9jdW1lbnRhdGlvblwiXG4gICAgICBhbGlnbi1pY29uLXdpdGgtdHdpc3R5XG4gICAgICBAY2xpY2s9XCJcbiAgICAgICAgaG9zdENvbmR1aXQuc2VuZE1zZyh7XG4gICAgICAgICAga2luZDogV2Vidmlld1RvSG9zdE1lc3NhZ2VUeXBlLk5BVklHQVRFLFxuICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIHVyaVBhdGg6XG4gICAgICAgICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vcG9zaXQtZGV2L3B1Ymxpc2hlci9ibG9iL21haW4vZG9jcy9pbmRleC5tZCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgIFwiXG4gICAgLz5cbiAgICA8VHJlZUl0ZW1cbiAgICAgIHRpdGxlPVwiUHJvdmlkZSBGZWVkYmFja1wiXG4gICAgICB0b29sdGlwPVwiT3BlbiBHaXRIdWIgRGlzY3Vzc2lvbnNcIlxuICAgICAgYWxpZ24taWNvbi13aXRoLXR3aXN0eVxuICAgICAgQGNsaWNrPVwiXG4gICAgICAgIGhvc3RDb25kdWl0LnNlbmRNc2coe1xuICAgICAgICAgIGtpbmQ6IFdlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZS5OQVZJR0FURSxcbiAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICB1cmlQYXRoOiAnaHR0cHM6Ly9naXRodWIuY29tL3Bvc2l0LWRldi9wdWJsaXNoZXIvZGlzY3Vzc2lvbnMnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICBcIlxuICAgIC8+XG4gICAgPFRyZWVJdGVtXG4gICAgICB0aXRsZT1cIkNvcHkgU3lzdGVtIEluZm9cIlxuICAgICAgdG9vbHRpcD1cIkNvcHkgc3lzdGVtIGluZm9ybWF0aW9uIHRvIGNsaXBib2FyZCBpbmNsdWRpbmcgZXh0ZW5zaW9uIHZlcnNpb24gYW5kIElERSBkZXRhaWxzXCJcbiAgICAgIGFsaWduLWljb24td2l0aC10d2lzdHlcbiAgICAgIEBjbGljaz1cIlxuICAgICAgICBob3N0Q29uZHVpdC5zZW5kTXNnKHtcbiAgICAgICAgICBraW5kOiBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUuQ09QWV9TWVNURU1fSU5GTyxcbiAgICAgICAgfSlcbiAgICAgIFwiXG4gICAgLz5cbiAgPC9UcmVlU2VjdGlvbj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgVHJlZVNlY3Rpb24gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZVNlY3Rpb24udnVlXCI7XG5pbXBvcnQgVHJlZUl0ZW0gZnJvbSBcInNyYy9jb21wb25lbnRzL3RyZWUvVHJlZUl0ZW0udnVlXCI7XG5pbXBvcnQgeyB1c2VIb3N0Q29uZHVpdFNlcnZpY2UgfSBmcm9tIFwic3JjL0hvc3RDb25kdWl0U2VydmljZVwiO1xuXG5pbXBvcnQgeyBXZWJ2aWV3VG9Ib3N0TWVzc2FnZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vc3JjL3R5cGVzL21lc3NhZ2VzL3dlYnZpZXdUb0hvc3RNZXNzYWdlc1wiO1xuXG5jb25zdCBob3N0Q29uZHVpdCA9IHVzZUhvc3RDb25kdWl0U2VydmljZSgpO1xuPC9zY3JpcHQ+XG4iLCI8IS0tIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLiAtLT5cblxuPHRlbXBsYXRlPlxuICA8bWFpbj5cbiAgICA8T3ZlcmxheWFibGVWaWV3IDphY3RpdmF0ZU92ZXJsYXk9XCJob21lLnNob3dEaXNhYmxlZE92ZXJsYXlcIj5cbiAgICAgIDxFdmVuRWFzaWVyRGVwbG95IGNsYXNzPVwiZWFzeS1kZXBsb3ktY29udGFpbmVyXCIgLz5cbiAgICAgIDx0ZW1wbGF0ZVxuICAgICAgICB2LWlmPVwiXG4gICAgICAgICAgaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24gJiZcbiAgICAgICAgICAhaXNDb25maWd1cmF0aW9uRXJyb3IoaG9tZS5zZWxlY3RlZENvbmZpZ3VyYXRpb24pXG4gICAgICAgIFwiXG4gICAgICA+XG4gICAgICAgIDxQcm9qZWN0RmlsZXMgdi1tb2RlbDpleHBhbmRlZD1cInByb2plY3RGaWxlc0V4cGFuZGVkXCIgLz5cbiAgICAgICAgPFNlY3JldHMgLz5cbiAgICAgICAgPEludGVncmF0aW9uUmVxdWVzdHMgdi1pZj1cIiFob21lLmlzQ29ubmVjdENsb3VkXCIgLz5cbiAgICAgICAgPFB5dGhvblBhY2thZ2VzIC8+XG4gICAgICAgIDxSUGFja2FnZXMgLz5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgICA8Q3JlZGVudGlhbHMgLz5cbiAgICAgIDxIZWxwQW5kRmVlZGJhY2sgLz5cbiAgICA8L092ZXJsYXlhYmxlVmlldz5cbiAgPC9tYWluPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiB9IGZyb20gXCJ2dWVcIjtcblxuaW1wb3J0IE92ZXJsYXlhYmxlVmlldyBmcm9tIFwic3JjL2NvbXBvbmVudHMvT3ZlcmxheWFibGVWaWV3LnZ1ZVwiO1xuaW1wb3J0IEV2ZW5FYXNpZXJEZXBsb3kgZnJvbSBcInNyYy9jb21wb25lbnRzL0V2ZW5FYXNpZXJEZXBsb3kudnVlXCI7XG5pbXBvcnQgUHJvamVjdEZpbGVzIGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9wcm9qZWN0RmlsZXMvUHJvamVjdEZpbGVzLnZ1ZVwiO1xuaW1wb3J0IFNlY3JldHMgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL3NlY3JldHMvU2VjcmV0cy52dWVcIjtcbmltcG9ydCBJbnRlZ3JhdGlvblJlcXVlc3RzIGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9JbnRlZ3JhdGlvblJlcXVlc3RzLnZ1ZVwiO1xuaW1wb3J0IFB5dGhvblBhY2thZ2VzIGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9QeXRob25QYWNrYWdlcy52dWVcIjtcbmltcG9ydCBSUGFja2FnZXMgZnJvbSBcInNyYy9jb21wb25lbnRzL3ZpZXdzL1JQYWNrYWdlcy52dWVcIjtcbmltcG9ydCBDcmVkZW50aWFscyBmcm9tIFwic3JjL2NvbXBvbmVudHMvdmlld3MvQ3JlZGVudGlhbHMudnVlXCI7XG5pbXBvcnQgSGVscEFuZEZlZWRiYWNrIGZyb20gXCJzcmMvY29tcG9uZW50cy92aWV3cy9IZWxwQW5kRmVlZGJhY2sudnVlXCI7XG5cbmltcG9ydCB7IHVzZUhvc3RDb25kdWl0U2VydmljZSB9IGZyb20gXCJzcmMvSG9zdENvbmR1aXRTZXJ2aWNlXCI7XG5pbXBvcnQgeyB1c2VIb21lU3RvcmUgfSBmcm9tIFwiLi9zdG9yZXMvaG9tZVwiO1xuaW1wb3J0IHsgaXNDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vc3JjL2FwaVwiO1xuXG51c2VIb3N0Q29uZHVpdFNlcnZpY2UoKTtcblxuY29uc3QgaG9tZSA9IHVzZUhvbWVTdG9yZSgpO1xuXG5jb25zdCBwcm9qZWN0RmlsZXNFeHBhbmRlZCA9IHJlZih0cnVlKTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4uZWFzeS1kZXBsb3ktY29udGFpbmVyIHtcbiAgcGFkZGluZzogMCAyMHB4O1xuICBtYXJnaW4tYmxvY2stZW5kOiAxcmVtO1xufVxuPC9zdHlsZT5cbiIsIi8vIENvcHlyaWdodCAoQykgMjAyNCBieSBQb3NpdCBTb2Z0d2FyZSwgUEJDLlxuXG5pbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBSZWN5Y2xlU2Nyb2xsZXIgfSBmcm9tIFwidnVlLXZpcnR1YWwtc2Nyb2xsZXJcIjtcbmltcG9ydCB7IGNyZWF0ZVBpbmlhIH0gZnJvbSBcInBpbmlhXCI7XG5pbXBvcnQge1xuICBwcm92aWRlVlNDb2RlRGVzaWduU3lzdGVtLFxuICB2c0NvZGVCdXR0b24sXG4gIHZzQ29kZURyb3Bkb3duLFxuICB2c0NvZGVPcHRpb24sXG4gIHZzQ29kZVByb2dyZXNzUmluZyxcbiAgdnNDb2RlRGl2aWRlcixcbn0gZnJvbSBcIkB2c2NvZGUvd2Vidmlldy11aS10b29sa2l0XCI7XG5cbmltcG9ydCBBcHAgZnJvbSBcInNyYy9BcHAudnVlXCI7XG5cbmltcG9ydCBcInZ1ZS12aXJ0dWFsLXNjcm9sbGVyL2Rpc3QvdnVlLXZpcnR1YWwtc2Nyb2xsZXIuY3NzXCI7XG5cbmltcG9ydCBcInNyYy9zdHlsZS5jc3NcIjtcblxuLy8gSW4gb3JkZXIgdG8gdXNlIHRoZSBXZWJ2aWV3IFVJIFRvb2xraXQgd2ViIGNvbXBvbmVudHMgdGhleVxuLy8gbXVzdCBiZSByZWdpc3RlcmVkIHdpdGggdGhlIGJyb3dzZXIgKGkuZS4gd2VidmlldykgdXNpbmcgdGhlXG4vLyBzeW50YXggYmVsb3cuXG5wcm92aWRlVlNDb2RlRGVzaWduU3lzdGVtKCkucmVnaXN0ZXIoXG4gIHZzQ29kZUJ1dHRvbigpLFxuICB2c0NvZGVEcm9wZG93bigpLFxuICB2c0NvZGVPcHRpb24oKSxcbiAgdnNDb2RlUHJvZ3Jlc3NSaW5nKCksXG4gIHZzQ29kZURpdmlkZXIoKSxcbik7XG5cbmNvbnN0IHBpbmlhID0gY3JlYXRlUGluaWEoKTtcblxuY29uc3QgYXBwID0gY3JlYXRlQXBwKEFwcCk7XG5hcHAudXNlKHBpbmlhKTtcbmFwcC5jb21wb25lbnQoXCJSZWN5Y2xlU2Nyb2xsZXJcIiwgUmVjeWNsZVNjcm9sbGVyKTtcblxuYXBwLm1vdW50KFwiI2FwcFwiKTtcbiJdLCJuYW1lcyI6WyJtYWtlTWFwIiwic3RyIiwibWFwIiwia2V5IiwidmFsIiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSIiwiTk9PUCIsIk5PIiwiaXNPbiIsImlzTW9kZWxMaXN0ZW5lciIsImV4dGVuZCIsInJlbW92ZSIsImFyciIsImVsIiwiaSIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwiaXNBcnJheSIsImlzTWFwIiwidG9UeXBlU3RyaW5nIiwiaXNTZXQiLCJpc0Z1bmN0aW9uIiwiaXNTdHJpbmciLCJpc1N5bWJvbCIsImlzT2JqZWN0IiwiaXNQcm9taXNlIiwib2JqZWN0VG9TdHJpbmciLCJ2YWx1ZSIsInRvUmF3VHlwZSIsImlzUGxhaW5PYmplY3QiLCJpc0ludGVnZXJLZXkiLCJpc1Jlc2VydmVkUHJvcCIsImNhY2hlU3RyaW5nRnVuY3Rpb24iLCJmbiIsImNhY2hlIiwiY2FtZWxpemVSRSIsImNhbWVsaXplIiwiYyIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiY2FwaXRhbGl6ZSIsInRvSGFuZGxlcktleSIsImhhc0NoYW5nZWQiLCJvbGRWYWx1ZSIsImludm9rZUFycmF5Rm5zIiwiZm5zIiwiYXJnIiwiZGVmIiwib2JqIiwid3JpdGFibGUiLCJsb29zZVRvTnVtYmVyIiwibiIsIl9nbG9iYWxUaGlzIiwiZ2V0R2xvYmFsVGhpcyIsIm5vcm1hbGl6ZVN0eWxlIiwicmVzIiwiaXRlbSIsIm5vcm1hbGl6ZWQiLCJwYXJzZVN0cmluZ1N0eWxlIiwibGlzdERlbGltaXRlclJFIiwicHJvcGVydHlEZWxpbWl0ZXJSRSIsInN0eWxlQ29tbWVudFJFIiwiY3NzVGV4dCIsInJldCIsInRtcCIsIm5vcm1hbGl6ZUNsYXNzIiwibmFtZSIsInNwZWNpYWxCb29sZWFuQXR0cnMiLCJpc1NwZWNpYWxCb29sZWFuQXR0ciIsImluY2x1ZGVCb29sZWFuQXR0ciIsImlzUmVmIiwidG9EaXNwbGF5U3RyaW5nIiwicmVwbGFjZXIiLCJfa2V5IiwiZW50cmllcyIsInZhbDIiLCJzdHJpbmdpZnlTeW1ib2wiLCJ2IiwiX2EiLCJub3JtYWxpemVDc3NWYXJWYWx1ZSIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiRWZmZWN0U2NvcGUiLCJkZXRhY2hlZCIsImwiLCJjdXJyZW50RWZmZWN0U2NvcGUiLCJmcm9tUGFyZW50IiwibGFzdCIsImVmZmVjdFNjb3BlIiwiZ2V0Q3VycmVudFNjb3BlIiwib25TY29wZURpc3Bvc2UiLCJmYWlsU2lsZW50bHkiLCJhY3RpdmVTdWIiLCJwYXVzZWRRdWV1ZUVmZmVjdHMiLCJSZWFjdGl2ZUVmZmVjdCIsImJhdGNoIiwiY2xlYW51cEVmZmVjdCIsInByZXBhcmVEZXBzIiwicHJldkVmZmVjdCIsInByZXZTaG91bGRUcmFjayIsInNob3VsZFRyYWNrIiwiY2xlYW51cERlcHMiLCJsaW5rIiwicmVtb3ZlU3ViIiwiaXNEaXJ0eSIsImJhdGNoRGVwdGgiLCJiYXRjaGVkU3ViIiwiYmF0Y2hlZENvbXB1dGVkIiwic3ViIiwiaXNDb21wdXRlZCIsInN0YXJ0QmF0Y2giLCJlbmRCYXRjaCIsImUiLCJuZXh0IiwiZXJyb3IiLCJlcnIiLCJoZWFkIiwidGFpbCIsInByZXYiLCJyZW1vdmVEZXAiLCJyZWZyZXNoQ29tcHV0ZWQiLCJjb21wdXRlZCIsImdsb2JhbFZlcnNpb24iLCJkZXAiLCJwcmV2U3ViIiwic29mdCIsIm5leHRTdWIiLCJwcmV2RGVwIiwibmV4dERlcCIsInRyYWNrU3RhY2siLCJwYXVzZVRyYWNraW5nIiwicmVzZXRUcmFja2luZyIsImNsZWFudXAiLCJMaW5rIiwiRGVwIiwiZGVidWdJbmZvIiwiYWRkU3ViIiwiY3VycmVudFRhaWwiLCJ0YXJnZXRNYXAiLCJJVEVSQVRFX0tFWSIsIk1BUF9LRVlfSVRFUkFURV9LRVkiLCJBUlJBWV9JVEVSQVRFX0tFWSIsInRyYWNrIiwidGFyZ2V0IiwidHlwZSIsImRlcHNNYXAiLCJ0cmlnZ2VyIiwibmV3VmFsdWUiLCJvbGRUYXJnZXQiLCJydW4iLCJ0YXJnZXRJc0FycmF5IiwiaXNBcnJheUluZGV4IiwibmV3TGVuZ3RoIiwia2V5MiIsImdldERlcEZyb21SZWFjdGl2ZSIsIm9iamVjdCIsImRlcE1hcCIsInJlYWN0aXZlUmVhZEFycmF5IiwiYXJyYXkiLCJyYXciLCJ0b1JhdyIsImlzU2hhbGxvdyIsInRvUmVhY3RpdmUiLCJzaGFsbG93UmVhZEFycmF5IiwiYXJyYXlJbnN0cnVtZW50YXRpb25zIiwiaXRlcmF0b3IiLCJhcmdzIiwieCIsInRoaXNBcmciLCJhcHBseSIsInNlYXJjaFByb3h5Iiwic2VwYXJhdG9yIiwibm9UcmFja2luZyIsInJlZHVjZSIsImNvbXBhcmVyIiwic2VsZiIsIm1ldGhvZCIsIndyYXBWYWx1ZSIsIml0ZXIiLCJyZXN1bHQiLCJhcnJheVByb3RvIiwid3JhcHBlZFJldEZuIiwibmVlZHNXcmFwIiwibWV0aG9kRm4iLCJyZXN1bHQyIiwid3JhcHBlZEZuIiwiaW5kZXgiLCJhY2MiLCJpc1Byb3h5IiwiaXNOb25UcmFja2FibGVLZXlzIiwiYnVpbHRJblN5bWJvbHMiLCJCYXNlUmVhY3RpdmVIYW5kbGVyIiwiX2lzUmVhZG9ubHkiLCJfaXNTaGFsbG93IiwicmVjZWl2ZXIiLCJpc1JlYWRvbmx5MiIsImlzU2hhbGxvdzIiLCJzaGFsbG93UmVhZG9ubHlNYXAiLCJyZWFkb25seU1hcCIsInNoYWxsb3dSZWFjdGl2ZU1hcCIsInJlYWN0aXZlTWFwIiwicmVhZG9ubHkiLCJyZWFjdGl2ZSIsIk11dGFibGVSZWFjdGl2ZUhhbmRsZXIiLCJpc09sZFZhbHVlUmVhZG9ubHkiLCJpc1JlYWRvbmx5IiwiaGFkS2V5IiwiUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIiLCJtdXRhYmxlSGFuZGxlcnMiLCJyZWFkb25seUhhbmRsZXJzIiwic2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMiLCJ0b1NoYWxsb3ciLCJnZXRQcm90byIsImNyZWF0ZUl0ZXJhYmxlTWV0aG9kIiwicmF3VGFyZ2V0IiwidGFyZ2V0SXNNYXAiLCJpc1BhaXIiLCJpc0tleU9ubHkiLCJpbm5lckl0ZXJhdG9yIiwid3JhcCIsInRvUmVhZG9ubHkiLCJkb25lIiwiY3JlYXRlUmVhZG9ubHlNZXRob2QiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvdyIsImluc3RydW1lbnRhdGlvbnMiLCJyYXdLZXkiLCJoYXMiLCJjYWxsYmFjayIsIm9ic2VydmVkIiwiZ2V0IiwiaGFkSXRlbXMiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIiLCJtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwidGFyZ2V0VHlwZU1hcCIsInJhd1R5cGUiLCJnZXRUYXJnZXRUeXBlIiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmUiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsInRhcmdldFR5cGUiLCJleGlzdGluZ1Byb3h5IiwicHJveHkiLCJpc1JlYWN0aXZlIiwibWFya1JhdyIsInIiLCJyZWYiLCJjcmVhdGVSZWYiLCJyYXdWYWx1ZSIsIlJlZkltcGwiLCJ1c2VEaXJlY3RWYWx1ZSIsInVucmVmIiwicmVmMiIsInNoYWxsb3dVbndyYXBIYW5kbGVycyIsInByb3h5UmVmcyIsIm9iamVjdFdpdGhSZWZzIiwiQ3VzdG9tUmVmSW1wbCIsImZhY3RvcnkiLCJzZXQiLCJuZXdWYWwiLCJjdXN0b21SZWYiLCJ0b1JlZnMiLCJwcm9wZXJ0eVRvUmVmIiwiT2JqZWN0UmVmSW1wbCIsIl9vYmplY3QiLCJfZGVmYXVsdFZhbHVlIiwic291cmNlIiwiZGVmYXVsdFZhbHVlIiwiQ29tcHV0ZWRSZWZJbXBsIiwic2V0dGVyIiwiaXNTU1IiLCJnZXR0ZXJPck9wdGlvbnMiLCJkZWJ1Z09wdGlvbnMiLCJnZXR0ZXIiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJjbGVhbnVwTWFwIiwiYWN0aXZlV2F0Y2hlciIsIm9uV2F0Y2hlckNsZWFudXAiLCJjbGVhbnVwRm4iLCJvd25lciIsImNsZWFudXBzIiwid2F0Y2giLCJjYiIsIm9wdGlvbnMiLCJpbW1lZGlhdGUiLCJkZWVwIiwib25jZSIsInNjaGVkdWxlciIsImF1Z21lbnRKb2IiLCJjYWxsIiwicmVhY3RpdmVHZXR0ZXIiLCJzb3VyY2UyIiwidHJhdmVyc2UiLCJlZmZlY3QiLCJib3VuZENsZWFudXAiLCJmb3JjZVRyaWdnZXIiLCJpc011bHRpU291cmNlIiwicyIsImN1cnJlbnRFZmZlY3QiLCJiYXNlR2V0dGVyIiwiZGVwdGgiLCJzY29wZSIsIndhdGNoSGFuZGxlIiwiX2NiIiwiam9iIiwiaW1tZWRpYXRlRmlyc3RSdW4iLCJjdXJyZW50V2F0Y2hlciIsImNsZWFudXAyIiwic2VlbiIsImNhbGxXaXRoRXJyb3JIYW5kbGluZyIsImluc3RhbmNlIiwiaGFuZGxlRXJyb3IiLCJjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyIsInZhbHVlcyIsInRocm93SW5EZXYiLCJjb250ZXh0Vk5vZGUiLCJlcnJvckhhbmRsZXIiLCJ0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uIiwiY3VyIiwiZXhwb3NlZEluc3RhbmNlIiwiZXJyb3JJbmZvIiwiZXJyb3JDYXB0dXJlZEhvb2tzIiwibG9nRXJyb3IiLCJ0aHJvd0luUHJvZCIsInF1ZXVlIiwiZmx1c2hJbmRleCIsInBlbmRpbmdQb3N0Rmx1c2hDYnMiLCJhY3RpdmVQb3N0Rmx1c2hDYnMiLCJwb3N0Rmx1c2hJbmRleCIsInJlc29sdmVkUHJvbWlzZSIsImN1cnJlbnRGbHVzaFByb21pc2UiLCJuZXh0VGljayIsInAiLCJmaW5kSW5zZXJ0aW9uSW5kZXgiLCJpZCIsInN0YXJ0IiwiZW5kIiwibWlkZGxlIiwibWlkZGxlSm9iIiwibWlkZGxlSm9iSWQiLCJnZXRJZCIsInF1ZXVlSm9iIiwiam9iSWQiLCJsYXN0Sm9iIiwicXVldWVGbHVzaCIsImZsdXNoSm9icyIsInF1ZXVlUG9zdEZsdXNoQ2IiLCJmbHVzaFByZUZsdXNoQ2JzIiwiZmx1c2hQb3N0Rmx1c2hDYnMiLCJkZWR1cGVkIiwiYSIsImIiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJjdXJyZW50U2NvcGVJZCIsInNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsInB1c2hTY29wZUlkIiwicG9wU2NvcGVJZCIsIndpdGhTY29wZUlkIiwiX2lkIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsInJlbmRlckZuV2l0aENvbnRleHQiLCJzZXRCbG9ja1RyYWNraW5nIiwicHJldkluc3RhbmNlIiwid2l0aERpcmVjdGl2ZXMiLCJ2bm9kZSIsImRpcmVjdGl2ZXMiLCJnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSIsImJpbmRpbmdzIiwiZGlyIiwibW9kaWZpZXJzIiwiaW52b2tlRGlyZWN0aXZlSG9vayIsInByZXZWTm9kZSIsIm9sZEJpbmRpbmdzIiwiYmluZGluZyIsImhvb2siLCJUZWxlcG9ydEVuZEtleSIsImlzVGVsZXBvcnQiLCJsZWF2ZUNiS2V5Iiwic2V0VHJhbnNpdGlvbkhvb2tzIiwiaG9va3MiLCJkZWZpbmVDb21wb25lbnQiLCJleHRyYU9wdGlvbnMiLCJtYXJrQXN5bmNCb3VuZGFyeSIsInBlbmRpbmdTZXRSZWZNYXAiLCJzZXRSZWYiLCJyYXdSZWYiLCJvbGRSYXdSZWYiLCJwYXJlbnRTdXNwZW5zZSIsImlzVW5tb3VudCIsImlzQXN5bmNXcmFwcGVyIiwicmVmVmFsdWUiLCJvbGRSZWYiLCJyZWZzIiwic2V0dXBTdGF0ZSIsInJhd1NldHVwU3RhdGUiLCJjYW5TZXRTZXR1cFJlZiIsImludmFsaWRhdGVQZW5kaW5nU2V0UmVmIiwib2xkUmF3UmVmQXRvbSIsIl9pc1N0cmluZyIsIl9pc1JlZiIsImRvU2V0IiwiZXhpc3RpbmciLCJxdWV1ZVBvc3RSZW5kZXJFZmZlY3QiLCJwZW5kaW5nU2V0UmVmIiwiaXNLZWVwQWxpdmUiLCJvbkFjdGl2YXRlZCIsInJlZ2lzdGVyS2VlcEFsaXZlSG9vayIsIm9uRGVhY3RpdmF0ZWQiLCJjdXJyZW50SW5zdGFuY2UiLCJ3cmFwcGVkSG9vayIsImN1cnJlbnQiLCJpbmplY3RIb29rIiwiaW5qZWN0VG9LZWVwQWxpdmVSb290Iiwia2VlcEFsaXZlUm9vdCIsImluamVjdGVkIiwib25Vbm1vdW50ZWQiLCJwcmVwZW5kIiwicmVzZXQiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJjcmVhdGVIb29rIiwibGlmZWN5Y2xlIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwib25CZWZvcmVNb3VudCIsIm9uTW91bnRlZCIsIm9uQmVmb3JlVXBkYXRlIiwib25VcGRhdGVkIiwib25CZWZvcmVVbm1vdW50Iiwib25TZXJ2ZXJQcmVmZXRjaCIsIm9uUmVuZGVyVHJpZ2dlcmVkIiwib25SZW5kZXJUcmFja2VkIiwib25FcnJvckNhcHR1cmVkIiwiQ09NUE9ORU5UUyIsIkRJUkVDVElWRVMiLCJyZXNvbHZlQ29tcG9uZW50IiwibWF5YmVTZWxmUmVmZXJlbmNlIiwicmVzb2x2ZUFzc2V0IiwiTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCIsInJlc29sdmVEeW5hbWljQ29tcG9uZW50IiwiY29tcG9uZW50IiwicmVzb2x2ZURpcmVjdGl2ZSIsIndhcm5NaXNzaW5nIiwiQ29tcG9uZW50Iiwic2VsZk5hbWUiLCJnZXRDb21wb25lbnROYW1lIiwicmVzb2x2ZSIsInJlZ2lzdHJ5IiwicmVuZGVyTGlzdCIsInJlbmRlckl0ZW0iLCJjYWNoZWQiLCJzb3VyY2VJc0FycmF5Iiwic291cmNlSXNSZWFjdGl2ZUFycmF5IiwiaXNSZWFkb25seVNvdXJjZSIsImtleXMiLCJyZW5kZXJTbG90Iiwic2xvdHMiLCJwcm9wcyIsImZhbGxiYWNrIiwibm9TbG90dGVkIiwiaGFzUHJvcHMiLCJvcGVuQmxvY2siLCJjcmVhdGVCbG9jayIsIkZyYWdtZW50IiwiY3JlYXRlVk5vZGUiLCJzbG90IiwidmFsaWRTbG90Q29udGVudCIsImVuc3VyZVZhbGlkVk5vZGUiLCJzbG90S2V5IiwicmVuZGVyZWQiLCJ2bm9kZXMiLCJjaGlsZCIsImlzVk5vZGUiLCJDb21tZW50IiwidG9IYW5kbGVycyIsInByZXNlcnZlQ2FzZUlmTmVjZXNzYXJ5IiwiZ2V0UHVibGljSW5zdGFuY2UiLCJpc1N0YXRlZnVsQ29tcG9uZW50IiwicHVibGljUHJvcGVydGllc01hcCIsInJlc29sdmVNZXJnZWRPcHRpb25zIiwiaW5zdGFuY2VXYXRjaCIsImhhc1NldHVwQmluZGluZyIsInN0YXRlIiwiUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzIiwiZGF0YSIsImFjY2Vzc0NhY2hlIiwiYXBwQ29udGV4dCIsIm5vcm1hbGl6ZWRQcm9wcyIsInNob3VsZENhY2hlQWNjZXNzIiwicHVibGljR2V0dGVyIiwiY3NzTW9kdWxlIiwiZ2xvYmFsUHJvcGVydGllcyIsInByb3BzT3B0aW9ucyIsImNzc01vZHVsZXMiLCJkZXNjcmlwdG9yIiwidXNlU2xvdHMiLCJnZXRDb250ZXh0IiwiY2FsbGVkRnVuY3Rpb25OYW1lIiwiZ2V0Q3VycmVudEluc3RhbmNlIiwiY3JlYXRlU2V0dXBDb250ZXh0Iiwibm9ybWFsaXplUHJvcHNPckVtaXRzIiwibWVyZ2VNb2RlbHMiLCJhcHBseU9wdGlvbnMiLCJwdWJsaWNUaGlzIiwiY2FsbEhvb2siLCJkYXRhT3B0aW9ucyIsImNvbXB1dGVkT3B0aW9ucyIsIm1ldGhvZHMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJjcmVhdGVkIiwiYmVmb3JlTW91bnQiLCJtb3VudGVkIiwiYmVmb3JlVXBkYXRlIiwidXBkYXRlZCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiYmVmb3JlRGVzdHJveSIsImJlZm9yZVVubW91bnQiLCJkZXN0cm95ZWQiLCJ1bm1vdW50ZWQiLCJyZW5kZXIiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZXJyb3JDYXB0dXJlZCIsInNlcnZlclByZWZldGNoIiwiZXhwb3NlIiwiaW5oZXJpdEF0dHJzIiwiY29tcG9uZW50cyIsImZpbHRlcnMiLCJyZXNvbHZlSW5qZWN0aW9ucyIsIm1ldGhvZEhhbmRsZXIiLCJvcHQiLCJjcmVhdGVXYXRjaGVyIiwicHJvdmlkZXMiLCJwcm92aWRlIiwicmVnaXN0ZXJMaWZlY3ljbGVIb29rIiwicmVnaXN0ZXIiLCJfaG9vayIsImV4cG9zZWQiLCJjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMiLCJub3JtYWxpemVJbmplY3QiLCJpbmplY3QiLCJoIiwiY3JlYXRlUGF0aEdldHRlciIsImhhbmRsZXIiLCJiYXNlIiwibWl4aW5zIiwiZXh0ZW5kc09wdGlvbnMiLCJnbG9iYWxNaXhpbnMiLCJvcHRpb25NZXJnZVN0cmF0ZWdpZXMiLCJyZXNvbHZlZCIsIm0iLCJtZXJnZU9wdGlvbnMiLCJ0byIsImZyb20iLCJzdHJhdHMiLCJhc01peGluIiwic3RyYXQiLCJpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzIiwibWVyZ2VEYXRhRm4iLCJtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMiLCJtZXJnZU9iamVjdE9wdGlvbnMiLCJtZXJnZUFzQXJyYXkiLCJtZXJnZVdhdGNoT3B0aW9ucyIsIm1lcmdlSW5qZWN0IiwibWVyZ2VkIiwiY3JlYXRlQXBwQ29udGV4dCIsInVpZCQxIiwiY3JlYXRlQXBwQVBJIiwiaHlkcmF0ZSIsInJvb3RDb21wb25lbnQiLCJyb290UHJvcHMiLCJjb250ZXh0IiwiaW5zdGFsbGVkUGx1Z2lucyIsInBsdWdpbkNsZWFudXBGbnMiLCJpc01vdW50ZWQiLCJhcHAiLCJ2ZXJzaW9uIiwicGx1Z2luIiwibWl4aW4iLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwibmFtZXNwYWNlIiwibGFzdEFwcCIsImN1cnJlbnRBcHAiLCJwYXJlbnRQcm92aWRlcyIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsImhhc0luamVjdGlvbkNvbnRleHQiLCJpbnRlcm5hbE9iamVjdFByb3RvIiwiY3JlYXRlSW50ZXJuYWxPYmplY3QiLCJpc0ludGVybmFsT2JqZWN0IiwiaW5pdFByb3BzIiwicmF3UHJvcHMiLCJpc1N0YXRlZnVsIiwiYXR0cnMiLCJzZXRGdWxsUHJvcHMiLCJ1cGRhdGVQcm9wcyIsInJhd1ByZXZQcm9wcyIsIm9wdGltaXplZCIsInBhdGNoRmxhZyIsInJhd0N1cnJlbnRQcm9wcyIsImhhc0F0dHJzQ2hhbmdlZCIsInByb3BzVG9VcGRhdGUiLCJpc0VtaXRMaXN0ZW5lciIsImNhbWVsaXplZEtleSIsInJlc29sdmVQcm9wVmFsdWUiLCJrZWJhYktleSIsIm5lZWRDYXN0S2V5cyIsInJhd0Nhc3RWYWx1ZXMiLCJjYW1lbEtleSIsImNhc3RWYWx1ZXMiLCJpc0Fic2VudCIsImhhc0RlZmF1bHQiLCJwcm9wc0RlZmF1bHRzIiwibWl4aW5Qcm9wc0NhY2hlIiwibm9ybWFsaXplUHJvcHNPcHRpb25zIiwiY29tcCIsImhhc0V4dGVuZHMiLCJleHRlbmRQcm9wcyIsInJhdzIiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsInByb3AiLCJwcm9wVHlwZSIsInNob3VsZENhc3QiLCJzaG91bGRDYXN0VHJ1ZSIsInR5cGVOYW1lIiwiaXNJbnRlcm5hbEtleSIsIm5vcm1hbGl6ZVNsb3RWYWx1ZSIsIm5vcm1hbGl6ZVZOb2RlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwibm9ybWFsaXplVk5vZGVTbG90cyIsImNoaWxkcmVuIiwiYXNzaWduU2xvdHMiLCJpbml0U2xvdHMiLCJ1cGRhdGVTbG90cyIsIm5lZWREZWxldGlvbkNoZWNrIiwiZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0IiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJjcmVhdGVSZW5kZXJlciIsImJhc2VDcmVhdGVSZW5kZXJlciIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsImhvc3RJbnNlcnQiLCJob3N0UmVtb3ZlIiwiaG9zdFBhdGNoUHJvcCIsImhvc3RDcmVhdGVFbGVtZW50IiwiaG9zdENyZWF0ZVRleHQiLCJob3N0Q3JlYXRlQ29tbWVudCIsImhvc3RTZXRUZXh0IiwiaG9zdFNldEVsZW1lbnRUZXh0IiwiaG9zdFBhcmVudE5vZGUiLCJob3N0TmV4dFNpYmxpbmciLCJob3N0U2V0U2NvcGVJZCIsImhvc3RJbnNlcnRTdGF0aWNDb250ZW50IiwicGF0Y2giLCJuMSIsIm4yIiwiY29udGFpbmVyIiwiYW5jaG9yIiwicGFyZW50Q29tcG9uZW50Iiwic2xvdFNjb3BlSWRzIiwiaXNTYW1lVk5vZGVUeXBlIiwiZ2V0TmV4dEhvc3ROb2RlIiwidW5tb3VudCIsInNoYXBlRmxhZyIsIlRleHQiLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NDb21tZW50Tm9kZSIsIlN0YXRpYyIsIm1vdW50U3RhdGljTm9kZSIsInByb2Nlc3NGcmFnbWVudCIsInByb2Nlc3NFbGVtZW50IiwicHJvY2Vzc0NvbXBvbmVudCIsImludGVybmFscyIsIm1vdmVTdGF0aWNOb2RlIiwibmV4dFNpYmxpbmciLCJyZW1vdmVTdGF0aWNOb2RlIiwibW91bnRFbGVtZW50IiwiY3VzdG9tRWxlbWVudCIsInBhdGNoRWxlbWVudCIsInZub2RlSG9vayIsInRyYW5zaXRpb24iLCJkaXJzIiwibW91bnRDaGlsZHJlbiIsInJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSIsInNldFNjb3BlSWQiLCJpbnZva2VWTm9kZUhvb2siLCJuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyIsIm5lZWRUcmFuc2l0aW9uIiwic2NvcGVJZCIsInN1YlRyZWUiLCJpc1N1c3BlbnNlIiwicGFyZW50Vk5vZGUiLCJjbG9uZUlmTW91bnRlZCIsImR5bmFtaWNDaGlsZHJlbiIsIm9sZFByb3BzIiwibmV3UHJvcHMiLCJ0b2dnbGVSZWN1cnNlIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwicGF0Y2hDaGlsZHJlbiIsInBhdGNoUHJvcHMiLCJvbGRDaGlsZHJlbiIsIm5ld0NoaWxkcmVuIiwiZmFsbGJhY2tDb250YWluZXIiLCJvbGRWTm9kZSIsIm5ld1ZOb2RlIiwiZnJhZ21lbnRTdGFydEFuY2hvciIsImZyYWdtZW50RW5kQW5jaG9yIiwiZnJhZ21lbnRTbG90U2NvcGVJZHMiLCJ0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuIiwibW91bnRDb21wb25lbnQiLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwQ29tcG9uZW50Iiwic2V0dXBSZW5kZXJFZmZlY3QiLCJwbGFjZWhvbGRlciIsInNob3VsZFVwZGF0ZUNvbXBvbmVudCIsInVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciIsImNvbXBvbmVudFVwZGF0ZUZuIiwiYnUiLCJ1IiwicGFyZW50Iiwibm9uSHlkcmF0ZWRBc3luY1Jvb3QiLCJsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdCIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInJlbmRlckNvbXBvbmVudFJvb3QiLCJwcmV2VHJlZSIsInVwZGF0ZUhPQ0hvc3RFbCIsImJtIiwicm9vdCIsImlzQXN5bmNXcmFwcGVyVk5vZGUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJuZXh0Vk5vZGUiLCJwcmV2UHJvcHMiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwidW5tb3VudENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwiaiIsInBhdGNoZWQiLCJ0b0JlUGF0Y2hlZCIsIm1vdmVkIiwibWF4TmV3SW5kZXhTb0ZhciIsIm5ld0luZGV4VG9PbGRJbmRleE1hcCIsInByZXZDaGlsZCIsIm5ld0luZGV4IiwiaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsImFuY2hvclZOb2RlIiwibW92ZSIsIm1vdmVUeXBlIiwibGVhdmUiLCJkZWxheUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsInJlbW92ZTIiLCJwZXJmb3JtTGVhdmUiLCJkb1JlbW92ZSIsImNhY2hlSW5kZXgiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwidW5tb3VudENvbXBvbmVudCIsInJlbW92ZUZyYWdtZW50IiwicGVyZm9ybVJlbW92ZSIsImJ1bSIsInVtIiwiaW52YWxpZGF0ZU1vdW50IiwidGVsZXBvcnRFbmQiLCJpc0ZsdXNoaW5nIiwiY3VycmVudE5hbWVzcGFjZSIsImFsbG93ZWQiLCJjaDEiLCJjaDIiLCJsZW4iLCJhcnJJIiwic3ViQ29tcG9uZW50Iiwic3NyQ29udGV4dEtleSIsInVzZVNTUkNvbnRleHQiLCJ3YXRjaFN5bmNFZmZlY3QiLCJkb1dhdGNoIiwiZmx1c2giLCJiYXNlV2F0Y2hPcHRpb25zIiwicnVuc0ltbWVkaWF0ZWx5Iiwic3NyQ2xlYW51cCIsIndhdGNoU3RvcEhhbmRsZSIsImlzUHJlIiwiaXNGaXJzdFJ1biIsIndhdGNoJDEiLCJwYXRoIiwic2VnbWVudHMiLCJ1c2VNb2RlbCIsImNhbWVsaXplZE5hbWUiLCJoeXBoZW5hdGVkTmFtZSIsImdldE1vZGVsTW9kaWZpZXJzIiwibG9jYWxWYWx1ZSIsInByZXZTZXRWYWx1ZSIsInByZXZFbWl0dGVkVmFsdWUiLCJwcm9wVmFsdWUiLCJlbWl0dGVkVmFsdWUiLCJpMiIsIm1vZGVsTmFtZSIsImVtaXQiLCJldmVudCIsInJhd0FyZ3MiLCJoYW5kbGVyTmFtZSIsIm9uY2VIYW5kbGVyIiwibWl4aW5FbWl0c0NhY2hlIiwibm9ybWFsaXplRW1pdHNPcHRpb25zIiwiZXh0ZW5kRW1pdHMiLCJub3JtYWxpemVkRnJvbUV4dGVuZCIsIndpdGhQcm94eSIsInJlbmRlckNhY2hlIiwiZmFsbHRocm91Z2hBdHRycyIsInByb3h5VG9Vc2UiLCJ0aGlzUHJveHkiLCJyZW5kZXIyIiwiZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoIiwiYmxvY2tTdGFjayIsImZpbHRlck1vZGVsTGlzdGVuZXJzIiwiY2xvbmVWTm9kZSIsInByZXZDaGlsZHJlbiIsIm5leHRQcm9wcyIsIm5leHRDaGlsZHJlbiIsImVtaXRzIiwiaGFzUHJvcHNDaGFuZ2VkIiwiZHluYW1pY1Byb3BzIiwiZW1pdHNPcHRpb25zIiwibmV4dEtleXMiLCJzdXNwZW5zZSIsImN1cnJlbnRCbG9jayIsImRpc2FibGVUcmFja2luZyIsImNsb3NlQmxvY2siLCJpc0Jsb2NrVHJlZUVuYWJsZWQiLCJpblZPbmNlIiwic2V0dXBCbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsImNyZWF0ZUJhc2VWTm9kZSIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsInJlZl9rZXkiLCJyZWZfZm9yIiwiaXNCbG9ja05vZGUiLCJuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwiX2NyZWF0ZVZOb2RlIiwiY2xvbmVkIiwiaXNDbGFzc0NvbXBvbmVudCIsImd1YXJkUmVhY3RpdmVQcm9wcyIsImtsYXNzIiwic3R5bGUiLCJleHRyYVByb3BzIiwibWVyZ2VSZWYiLCJjbG9uZVRyYW5zaXRpb24iLCJtZXJnZWRQcm9wcyIsIm1lcmdlUHJvcHMiLCJjcmVhdGVUZXh0Vk5vZGUiLCJ0ZXh0IiwiZmxhZyIsImNyZWF0ZUNvbW1lbnRWTm9kZSIsImFzQmxvY2siLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJpbmNvbWluZyIsImVtcHR5QXBwQ29udGV4dCIsInVpZCIsImludGVybmFsU2V0Q3VycmVudEluc3RhbmNlIiwic2V0SW5TU1JTZXR1cFN0YXRlIiwiZyIsInJlZ2lzdGVyR2xvYmFsU2V0dGVyIiwic2V0dGVycyIsInVuc2V0Q3VycmVudEluc3RhbmNlIiwic2V0dXBSZXN1bHQiLCJzZXR1cFN0YXRlZnVsQ29tcG9uZW50Iiwic2V0dXAiLCJzZXR1cENvbnRleHQiLCJpc0FzeW5jU2V0dXAiLCJyZXNvbHZlZFJlc3VsdCIsImhhbmRsZVNldHVwUmVzdWx0IiwiZmluaXNoQ29tcG9uZW50U2V0dXAiLCJza2lwT3B0aW9ucyIsImF0dHJzUHJveHlIYW5kbGVycyIsImluY2x1ZGVJbmZlcnJlZCIsImNvbXB1dGVkJDEiLCJwb2xpY3kiLCJ0dCIsInVuc2FmZVRvVHJ1c3RlZEhUTUwiLCJzdmdOUyIsIm1hdGhtbE5TIiwiZG9jIiwidGVtcGxhdGVDb250YWluZXIiLCJub2RlT3BzIiwidGFnIiwiaXMiLCJub2RlIiwic2VsZWN0b3IiLCJjb250ZW50IiwiYmVmb3JlIiwidGVtcGxhdGUiLCJ3cmFwcGVyIiwidnRjS2V5IiwicGF0Y2hDbGFzcyIsImlzU1ZHIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJ2U2hvd09yaWdpbmFsRGlzcGxheSIsInZTaG93SGlkZGVuIiwidlNob3ciLCJzZXREaXNwbGF5IiwiQ1NTX1ZBUl9URVhUIiwidXNlQ3NzVmFycyIsInVwZGF0ZVRlbGVwb3J0cyIsInZhcnMiLCJzZXRWYXJzT25Ob2RlIiwic2V0VmFycyIsInNldFZhcnNPblZOb2RlIiwib2IiLCJkaXNwbGF5UkUiLCJwYXRjaFN0eWxlIiwiaXNDc3NTdHJpbmciLCJoYXNDb250cm9sbGVkRGlzcGxheSIsInByZXZTdHlsZSIsInNldFN0eWxlIiwiY3NzVmFyVGV4dCIsImltcG9ydGFudFJFIiwicHJlZml4ZWQiLCJhdXRvUHJlZml4IiwicHJlZml4ZXMiLCJwcmVmaXhDYWNoZSIsInJhd05hbWUiLCJ4bGlua05TIiwicGF0Y2hBdHRyIiwiaXNCb29sZWFuIiwicGF0Y2hET01Qcm9wIiwiYXR0ck5hbWUiLCJuZWVkUmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ2ZWlLZXkiLCJwYXRjaEV2ZW50IiwicHJldlZhbHVlIiwibmV4dFZhbHVlIiwiaW52b2tlcnMiLCJleGlzdGluZ0ludm9rZXIiLCJwYXJzZU5hbWUiLCJpbnZva2VyIiwiY3JlYXRlSW52b2tlciIsIm9wdGlvbnNNb2RpZmllclJFIiwiY2FjaGVkTm93IiwiZ2V0Tm93IiwiaW5pdGlhbFZhbHVlIiwicGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvcmlnaW5hbFN0b3AiLCJpc05hdGl2ZU9uIiwicGF0Y2hQcm9wIiwic2hvdWxkU2V0QXNQcm9wIiwiY2FtZWxpemUkMSIsImdldE1vZGVsQXNzaWduZXIiLCJvbkNvbXBvc2l0aW9uU3RhcnQiLCJvbkNvbXBvc2l0aW9uRW5kIiwiYXNzaWduS2V5IiwiY2FzdFZhbHVlIiwidHJpbSIsIm51bWJlciIsInZNb2RlbFRleHQiLCJsYXp5IiwiY2FzdFRvTnVtYmVyIiwiZWxWYWx1ZSIsInN5c3RlbU1vZGlmaWVycyIsIm1vZGlmaWVyR3VhcmRzIiwid2l0aE1vZGlmaWVycyIsImNhY2hlS2V5IiwiZ3VhcmQiLCJrZXlOYW1lcyIsIndpdGhLZXlzIiwiZXZlbnRLZXkiLCJrIiwicmVuZGVyZXJPcHRpb25zIiwicmVuZGVyZXIiLCJlbnN1cmVSZW5kZXJlciIsImNyZWF0ZUFwcCIsIm1vdW50IiwiY29udGFpbmVyT3JTZWxlY3RvciIsIm5vcm1hbGl6ZUNvbnRhaW5lciIsInJlc29sdmVSb290TmFtZXNwYWNlIiwiZ2V0SW50ZXJuZXRFeHBsb3JlclZlcnNpb24iLCJ1YSIsIm1zaWUiLCJ0cmlkZW50IiwicnYiLCJlZGdlIiwiaXNJRSIsImluaXRDb21wYXQiLCJzY3JpcHQiLCJfd2l0aElkIiwiX2hvaXN0ZWRfMSIsIl9jdHgiLCJfY2FjaGUiLCIkcHJvcHMiLCIkc2V0dXAiLCIkZGF0YSIsIiRvcHRpb25zIiwiX3R5cGVvZiIsIl9jbGFzc0NhbGxDaGVjayIsIkNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJfY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJfaXRlcmFibGVUb0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlU3ByZWFkIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJvIiwibWluTGVuIiwiYXJyMiIsInByb2Nlc3NPcHRpb25zIiwidGhyb3R0bGUiLCJkZWxheSIsInRpbWVvdXQiLCJsYXN0U3RhdGUiLCJjdXJyZW50QXJncyIsInRocm90dGxlZCIsIl9sZW4iLCJsZWFkaW5nIiwiZGVlcEVxdWFsIiwidmFsMSIsIlZpc2liaWxpdHlTdGF0ZSIsIl90aGlzIiwiZW50cnkiLCJfcmVmIiwiX2xlYWRpbmciLCJpbnRlcnNlY3RpbmdFbnRyeSIsIl9yZWYyIiwiX3JlZjMiLCJPYnNlcnZlVmlzaWJpbGl0eSIsImNvbmZpZyIsInJlZ2V4IiwicGFyZW50cyIsInBzIiwib3ZlcmZsb3ciLCJzY3JvbGwiLCJnZXRTY3JvbGxQYXJlbnQiLCJzaW1wbGVBcnJheSIsInN1cHBvcnRzUGFzc2l2ZSIsIm9wdHMiLCJzY3JpcHQkMiIsIlJlc2l6ZU9ic2VydmVyJDEiLCJzaXplcyIsIml0ZW1zIiwiZmllbGQiLCJtaW5JdGVtU2l6ZSIsImNvbXB1dGVkTWluU2l6ZSIsImFjY3VtdWxhdG9yIiwia2V5RmllbGQiLCJsYXN0UG9zaXRpb24iLCJwb29sIiwibnIiLCJ2aWV3IiwiZmFrZSIsInVudXNlZFZpZXdzIiwidW51c2VkUG9vbCIsInJlcXVlc3RVcGRhdGUiLCJjb250aW51b3VzIiwiaXNWaXNpYmxlIiwiY2hlY2tJdGVtIiwiY2hlY2tQb3NpdGlvbkRpZmYiLCJpdGVtU2l6ZSIsImdyaWRJdGVtcyIsIml0ZW1TZWNvbmRhcnlTaXplIiwidHlwZUZpZWxkIiwiY291bnQiLCJ2aWV3cyIsIml0ZW1JbmRleEJ5S2V5Iiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwidG90YWxTaXplIiwidmlzaWJsZVN0YXJ0SW5kZXgiLCJ2aXNpYmxlRW5kSW5kZXgiLCJwb3NpdGlvbkRpZmYiLCJidWZmZXIiLCJiZWZvcmVTaXplIiwiYWZ0ZXJTaXplIiwib2xkSSIsInJlbWFpbmVyIiwidW51c2VkSW5kZXgiLCJuZXdseVVzZWRWaWV3IiwiZGlyZWN0aW9uIiwiaXNWZXJ0aWNhbCIsInNjcm9sbFN0YXRlIiwiYm91bmRzIiwiYm91bmRzU2l6ZSIsInNpemUiLCJwb3NpdGlvbiIsInZpZXdwb3J0Iiwic2Nyb2xsRGlyZWN0aW9uIiwic2Nyb2xsRGlzdGFuY2UiLCJ2aWV3cG9ydEVsIiwic2Nyb2xsVG9wIiwic2Nyb2xsZXJQb3NpdGlvbiIsInZpZXdBIiwidmlld0IiLCJfaG9pc3RlZF8yIiwicmVuZGVyJDEiLCJfY29tcG9uZW50X1Jlc2l6ZU9ic2VydmVyIiwiX2RpcmVjdGl2ZV9vYnNlcnZlX3Zpc2liaWxpdHkiLCJhY3RpdmVQaW5pYSIsInNldEFjdGl2ZVBpbmlhIiwicGluaWEiLCJwaW5pYVN5bWJvbCIsIk11dGF0aW9uVHlwZSIsImNyZWF0ZVBpbmlhIiwiX3AiLCJ0b0JlSW5zdGFsbGVkIiwibm9vcCIsImFkZFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbnMiLCJvbkNsZWFudXAiLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJpZHgiLCJ0cmlnZ2VyU3Vic2NyaXB0aW9ucyIsImZhbGxiYWNrUnVuV2l0aENvbnRleHQiLCJBQ1RJT05fTUFSS0VSIiwiQUNUSU9OX05BTUUiLCJtZXJnZVJlYWN0aXZlT2JqZWN0cyIsInBhdGNoVG9BcHBseSIsInN1YlBhdGNoIiwidGFyZ2V0VmFsdWUiLCJza2lwSHlkcmF0ZVN5bWJvbCIsInNob3VsZEh5ZHJhdGUiLCJhc3NpZ24iLCJjcmVhdGVPcHRpb25zU3RvcmUiLCJob3QiLCJhY3Rpb25zIiwiZ2V0dGVycyIsImluaXRpYWxTdGF0ZSIsInN0b3JlIiwibG9jYWxTdGF0ZSIsImNvbXB1dGVkR2V0dGVycyIsImNyZWF0ZVNldHVwU3RvcmUiLCIkaWQiLCJpc09wdGlvbnNTdG9yZSIsIm9wdGlvbnNGb3JQbHVnaW4iLCIkc3Vic2NyaWJlT3B0aW9ucyIsImlzTGlzdGVuaW5nIiwiaXNTeW5jTGlzdGVuaW5nIiwiYWN0aW9uU3Vic2NyaXB0aW9ucyIsImRlYnVnZ2VyRXZlbnRzIiwiYWN0aXZlTGlzdGVuZXIiLCIkcGF0Y2giLCJwYXJ0aWFsU3RhdGVPck11dGF0b3IiLCJzdWJzY3JpcHRpb25NdXRhdGlvbiIsIm15TGlzdGVuZXJJZCIsIiRyZXNldCIsIm5ld1N0YXRlIiwiJHN0YXRlIiwiJGRpc3Bvc2UiLCJhY3Rpb24iLCJ3cmFwcGVkQWN0aW9uIiwiYWZ0ZXJDYWxsYmFja0xpc3QiLCJvbkVycm9yQ2FsbGJhY2tMaXN0IiwiYWZ0ZXIiLCJvbkVycm9yIiwicGFydGlhbFN0b3JlIiwic3RvcFdhdGNoZXIiLCJzZXR1cFN0b3JlIiwiYWN0aW9uVmFsdWUiLCJleHRlbmRlciIsImRlZmluZVN0b3JlIiwiaWRPck9wdGlvbnMiLCJzZXR1cE9wdGlvbnMiLCJpc1NldHVwU3RvcmUiLCJ1c2VTdG9yZSIsImhhc0NvbnRleHQiLCIkZ2xvYmFsIiwicHJvcENvbmZpZyIsIkZBU1QiLCJzdG9yYWdlIiwiaW5pdGlhbGl6ZSIsImZvdW5kIiwiZW1wdHlBcnJheSIsImNyZWF0ZU1ldGFkYXRhTG9jYXRvciIsIm1ldGFkYXRhTG9va3VwIiwibWV0YWRhdGEiLCJjdXJyZW50VGFyZ2V0IiwidXBkYXRlUXVldWUiLCJ0YXNrcyIsInBlbmRpbmdFcnJvcnMiLCJ0aHJvd0ZpcnN0RXJyb3IiLCJ0cnlSdW5UYXNrIiwidGFzayIsInByb2Nlc3MiLCJzY2FuIiwiZW5xdWV1ZSIsImNhbGxhYmxlIiwiZmFzdEhUTUxQb2xpY3kiLCJodG1sIiwiaHRtbFBvbGljeSIsIm1hcmtlciIsIl9pbnRlcnBvbGF0aW9uU3RhcnQiLCJfaW50ZXJwb2xhdGlvbkVuZCIsIkRPTSIsImF0dHJpYnV0ZU5hbWUiLCJlbGVtZW50IiwiZnJhZ21lbnQiLCJTdWJzY3JpYmVyU2V0IiwiaW5pdGlhbFN1YnNjcmliZXIiLCJzdWJzY3JpYmVyIiwic3BpbGxvdmVyIiwic3ViMSIsInN1YjIiLCJpaSIsIlByb3BlcnR5Q2hhbmdlTm90aWZpZXIiLCJwcm9wZXJ0eU5hbWUiLCJzdWJzY3JpYmVycyIsInByb3BlcnR5VG9XYXRjaCIsInByb3BlcnR5VG9VbndhdGNoIiwiT2JzZXJ2YWJsZSIsInZvbGF0aWxlUmVnZXgiLCJub3RpZmllckxvb2t1cCIsInF1ZXVlVXBkYXRlIiwid2F0Y2hlciIsImNyZWF0ZUFycmF5T2JzZXJ2ZXIiLCJnZXROb3RpZmllciIsImdldEFjY2Vzc29ycyIsIkRlZmF1bHRPYnNlcnZhYmxlQWNjZXNzb3IiLCJCaW5kaW5nT2JzZXJ2ZXJJbXBsZW1lbnRhdGlvbiIsImlzVm9sYXRpbGVCaW5kaW5nIiwicHJldmlvdXNXYXRjaGVyIiwicHJvcGVydHlTb3VyY2UiLCJub3RpZmllciIsIm5hbWVPckFjY2Vzc29yIiwib2JzZXJ2YWJsZSIsInZvbGF0aWxlIiwiY29udGV4dEV2ZW50IiwiRXhlY3V0aW9uQ29udGV4dCIsImRlZmF1bHRFeGVjdXRpb25Db250ZXh0IiwiSFRNTERpcmVjdGl2ZSIsIlRhcmdldGVkSFRNTERpcmVjdGl2ZSIsIkF0dGFjaGVkQmVoYXZpb3JIVE1MRGlyZWN0aXZlIiwiYmVoYXZpb3IiLCJub3JtYWxCaW5kIiwidHJpZ2dlckJpbmQiLCJub3JtYWxVbmJpbmQiLCJjb250ZW50VW5iaW5kIiwidHJpZ2dlclVuYmluZCIsInVwZGF0ZUF0dHJpYnV0ZVRhcmdldCIsInVwZGF0ZUJvb2xlYW5BdHRyaWJ1dGVUYXJnZXQiLCJ1cGRhdGVDb250ZW50VGFyZ2V0IiwidXBkYXRlUHJvcGVydHlUYXJnZXQiLCJ1cGRhdGVDbGFzc1RhcmdldCIsImNsYXNzVmVyc2lvbnMiLCJuYW1lcyIsImN1cnJlbnROYW1lIiwiSFRNTEJpbmRpbmdEaXJlY3RpdmUiLCJCaW5kaW5nQmVoYXZpb3IiLCJpc0JpbmRpbmdWb2xhdGlsZSIsImJpbmQiLCJ1bmJpbmQiLCJ1cGRhdGVUYXJnZXQiLCJ0YXJnZXROYW1lIiwic2hhcmVkQ29udGV4dCIsIkNvbXBpbGF0aW9uQ29udGV4dCIsInNoYXJlYWJsZSIsImNyZWF0ZUFnZ3JlZ2F0ZUJpbmRpbmciLCJwYXJ0cyIsInBhcnRDb3VudCIsImZpbmFsUGFydHMiLCJvdXRwdXQiLCJpbnRlcnBvbGF0aW9uRW5kTGVuZ3RoIiwicGFyc2VDb250ZW50IiwidmFsdWVQYXJ0cyIsImJpbmRpbmdQYXJ0cyIsImxpdGVyYWwiLCJkaXJlY3RpdmVJbmRleCIsImNvbXBpbGVBdHRyaWJ1dGVzIiwiaW5jbHVkZUJhc2ljVmFsdWVzIiwiYXR0cmlidXRlcyIsImF0dHIiLCJhdHRyVmFsdWUiLCJwYXJzZVJlc3VsdCIsImNvbXBpbGVDb250ZW50Iiwid2Fsa2VyIiwibGFzdE5vZGUiLCJjdXJyZW50UGFydCIsImN1cnJlbnROb2RlIiwiY29tcGlsZVRlbXBsYXRlIiwiaG9zdEJlaGF2aW9yRmFjdG9yaWVzIiwidGFyZ2V0T2Zmc2V0Iiwidmlld0JlaGF2aW9yRmFjdG9yaWVzIiwicmFuZ2UiLCJIVE1MVmlldyIsImJlaGF2aW9ycyIsInBhcmVudE5vZGUiLCJvbGRTb3VyY2UiLCJqaiIsIlZpZXdUZW1wbGF0ZSIsImhvc3RCaW5kaW5nVGFyZ2V0IiwiZmVjIiwidmlld0ZhY3RvcmllcyIsImJlaGF2aW9ySW5kZXgiLCJ0YXJnZXRJbmRleCIsImZhY3RvcnlJbmRleCIsImhvc3RGYWN0b3JpZXMiLCJob3N0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsInN0cmluZ3MiLCJjdXJyZW50U3RyaW5nIiwibWF0Y2giLCJFbGVtZW50U3R5bGVzIiwic3R5bGVTaGVldENhY2hlIiwic3R5bGVzIiwiQWRvcHRlZFN0eWxlU2hlZXRzU3R5bGVzIiwiU3R5bGVFbGVtZW50U3R5bGVzIiwicmVkdWNlU3R5bGVzIiwiY3VyciIsInJlZHVjZUJlaGF2aW9ycyIsInByZXBlbmRUb0Fkb3B0ZWRTdHlsZVNoZWV0c1N5bWJvbCIsInNlcGFyYXRlU2hlZXRzVG9QcmVwZW5kIiwic2hlZXRzIiwiYXBwZW5kIiwiYWRkQWRvcHRlZFN0eWxlU2hlZXRzIiwicmVtb3ZlQWRvcHRlZFN0eWxlU2hlZXRzIiwic2hlZXQiLCJzdHlsZUNsYXNzSWQiLCJnZXROZXh0U3R5bGVDbGFzcyIsInN0eWxlU2hlZXRzIiwic3R5bGVDbGFzcyIsIkF0dHJpYnV0ZUNvbmZpZ3VyYXRpb24iLCJib29sZWFuQ29udmVydGVyIiwibnVsbGFibGVOdW1iZXJDb252ZXJ0ZXIiLCJBdHRyaWJ1dGVEZWZpbml0aW9uIiwiT3duZXIiLCJhdHRyaWJ1dGUiLCJtb2RlIiwiY29udmVydGVyIiwiZ3VhcmRzIiwibGF0ZXN0VmFsdWUiLCJhdHRyaWJ1dGVMaXN0cyIsImxpc3QiLCJjb25maWdPclRhcmdldCIsImRlY29yYXRvciIsIiR0YXJnZXQiLCIkcHJvcCIsImRlZmF1bHRTaGFkb3dPcHRpb25zIiwiZGVmYXVsdEVsZW1lbnRPcHRpb25zIiwiZmFzdFJlZ2lzdHJ5IiwidHlwZVRvRGVmaW5pdGlvbiIsImRlZmluaXRpb24iLCJGQVNURWxlbWVudERlZmluaXRpb24iLCJuYW1lT3JDb25maWciLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJwcm9wZXJ0eUxvb2t1cCIsImF0dHJpYnV0ZUxvb2t1cCIsInByb3RvIiwic2hhZG93Um9vdHMiLCJkZWZhdWx0RXZlbnRPcHRpb25zIiwiZ2V0U2hhZG93Um9vdCIsIkNvbnRyb2xsZXIiLCJzaGFkb3dPcHRpb25zIiwic2hhZG93Um9vdCIsImFjY2Vzc29ycyIsImJvdW5kT2JzZXJ2YWJsZXMiLCJzb3VyY2VCZWhhdmlvcnMiLCJ0YXJnZXRCZWhhdmlvcnMiLCJsZW5ndGgiLCJiZWhhdmlvcnNUb0JpbmQiLCJmb3JjZSIsImJlaGF2aW9yc1RvVW5iaW5kIiwiYXR0ckRlZiIsImRldGFpbCIsInByb3BlcnR5TmFtZXMiLCJjb250cm9sbGVyIiwiY3JlYXRlRkFTVEVsZW1lbnQiLCJCYXNlVHlwZSIsIkZBU1RFbGVtZW50IiwibmFtZU9yRGVmIiwiQ1NTRGlyZWN0aXZlIiwiY29sbGVjdFN0eWxlcyIsImNzc1N0cmluZyIsImNzcyIsImVsZW1lbnRTdHlsZXMiLCJSZWZCZWhhdmlvciIsIm5vVGVtcGxhdGUiLCJub3JtYWxpemVCaW5kaW5nIiwid2hlbiIsInRlbXBsYXRlT3JUZW1wbGF0ZUJpbmRpbmciLCJlbHNlVGVtcGxhdGVPclRlbXBsYXRlQmluZGluZyIsImRhdGFCaW5kaW5nIiwidGVtcGxhdGVCaW5kaW5nIiwiZWxzZUJpbmRpbmciLCJOb2RlT2JzZXJ2YXRpb25CZWhhdmlvciIsIm5vZGVzIiwiU2xvdHRlZEJlaGF2aW9yIiwic2xvdHRlZCIsInByb3BlcnR5T3JPcHRpb25zIiwiU3RhcnRFbmQiLCJlbmRTbG90VGVtcGxhdGUiLCJzdGFydFNsb3RUZW1wbGF0ZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImQiLCJtZXRhZGF0YUJ5VGFyZ2V0IiwiUmVzb2x2ZXJCdWlsZGVyIiwiY2FjaGVDYWxsYmFja1Jlc3VsdCIsImRlc3RpbmF0aW9uS2V5Iiwic3RyYXRlZ3kiLCJSZXNvbHZlckltcGwiLCJjbG9uZUFycmF5V2l0aFBvc3NpYmxlUHJvcHMiLCJjbG9uZSIsIkRlZmF1bHRSZXNvbHZlciIsIkNvbnRhaW5lckNvbmZpZ3VyYXRpb24iLCJkZXBlbmRlbmN5TG9va3VwIiwiZ2V0UGFyYW1UeXBlcyIsIlR5cGUiLCJyb290RE9NQ29udGFpbmVyIiwiREkiLCJDb250YWluZXJJbXBsIiwib3duZWQiLCJESUxvY2F0ZVBhcmVudEV2ZW50VHlwZSIsImFubm90YXRpb25QYXJhbXR5cGVzIiwiZGVwZW5kZW5jaWVzIiwiZGVzaWduUGFyYW10eXBlcyIsIlByb3RvIiwiYXVBbm5vdGF0aW9uUGFyYW10eXBlIiwicmVzcGVjdENvbm5lY3Rpb24iLCJkaVByb3BlcnR5S2V5IiwiaGFuZGxlQ2hhbmdlIiwibmFtZUNvbmZpZ09yQ2FsbGJhY2siLCJjb25maWd1cm9yIiwiY29uZmlndXJlIiwiZnJpZW5kbHlOYW1lIiwiZGVmYXVsdEZyaWVuZGx5TmFtZSIsIkludGVyZmFjZSIsInByb3BlcnR5IiwiUmVnaXN0cmF0aW9uIiwiZGVmYXVsdFNpbmdsZXRvbk9wdGlvbnMiLCJDb250YWluZXIiLCJyZXF1ZXN0b3IiLCJfYiIsIl9jIiwiY29udGFpbmVyR2V0S2V5IiwidHJhbnNmb3JtSW5zdGFuY2UiLCJpbnN0IiwidHJhbnNmb3JtIiwiRmFjdG9yeUltcGwiLCJkeW5hbWljRGVwZW5kZW5jaWVzIiwidHJhbnNmb3JtZXIiLCJjb250YWluZXJSZXNvbHZlciIsImlzUmVnaXN0cnkiLCJpc1NlbGZSZWdpc3RyeSIsImlzUmVnaXN0ZXJJblJlcXVlc3RlciIsImlzQ2xhc3MiLCJJbnN0cmluc2ljVHlwZU5hbWVzIiwiZmFjdG9yaWVzIiwicGFyYW1zIiwicmVzb2x2ZXIiLCJ2YWxpZGF0ZUtleSIsInJlc29sdmVycyIsImF1dG9SZWdpc3RlciIsInNlYXJjaEFuY2VzdG9ycyIsInJlc29sdXRpb25zIiwiYnVpbGRBbGxSZXNwb25zZSIsImlzTmF0aXZlRnVuY3Rpb24iLCJrZXlBc1ZhbHVlIiwicmVnaXN0cmF0aW9uUmVzb2x2ZXIiLCJuZXdSZXNvbHZlciIsImZ1biIsInQiLCJvcmlnaW5hbEtleSIsImFsaWFzS2V5IiwicmVzdWx0cyIsImxvb2t1cCIsImlzTmF0aXZlIiwic291cmNlVGV4dCIsImlzTnVtZXJpY0xvb2t1cCIsImNoIiwicHJlc2VudGF0aW9uS2V5RnJvbVRhZyIsInRhZ05hbWUiLCJwcmVzZW50YXRpb25SZWdpc3RyeSIsIkNvbXBvbmVudFByZXNlbnRhdGlvbiIsInByZXNlbnRhdGlvbiIsIkRlZmF1bHRDb21wb25lbnRQcmVzZW50YXRpb24iLCJGb3VuZGF0aW9uRWxlbWVudCIsImVsZW1lbnREZWZpbml0aW9uIiwib3ZlcnJpZGVEZWZpbml0aW9uIiwiRm91bmRhdGlvbkVsZW1lbnRSZWdpc3RyeSIsInJlc29sdmVPcHRpb24iLCJvcHRpb24iLCJhcHBseU1peGlucyIsImRlcml2ZWRDdG9yIiwiYmFzZUN0b3JzIiwiZGVyaXZlZEF0dHJpYnV0ZXMiLCJiYXNlQ3RvciIsIk9yaWVudGF0aW9uIiwiZmluZExhc3RJbmRleCIsInByZWRpY2F0ZSIsImNhblVzZURPTSIsImlzSFRNTEVsZW1lbnQiLCJnZXROb25jZSIsIl9jYW5Vc2VGb2N1c1Zpc2libGUiLCJjYW5Vc2VGb2N1c1Zpc2libGUiLCJzdHlsZUVsZW1lbnQiLCJzdHlsZU5vbmNlIiwiS2V5Q29kZXMiLCJrZXlBcnJvd0Rvd24iLCJrZXlBcnJvd1VwIiwia2V5RW50ZXIiLCJrZXlFc2NhcGUiLCJrZXlIb21lIiwia2V5RW5kIiwia2V5U3BhY2UiLCJrZXlUYWIiLCJpblJhbmdlIiwibWluIiwibWF4IiwidW5pcXVlSWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJBUklBR2xvYmFsU3RhdGVzQW5kUHJvcGVydGllcyIsImJ1dHRvblRlbXBsYXRlIiwicHJveHlTbG90TmFtZSIsIkVsZW1lbnRJbnRlcm5hbHNLZXkiLCJzdXBwb3J0c0VsZW1lbnRJbnRlcm5hbHMiLCJJbnRlcm5hbHNNYXAiLCJGb3JtQXNzb2NpYXRlZCIsIkJhc2VDdG9yIiwiQyIsInBhcmVudExhYmVscyIsImZvckxhYmVscyIsImxhYmVscyIsInByZXZpb3VzIiwiZmxhZ3MiLCJtZXNzYWdlIiwiZGlzYWJsZWQiLCJkZWZhdWx0QnV0dG9uIiwiX0J1dHRvbiIsIkZvcm1Bc3NvY2lhdGVkQnV0dG9uIiwiYXR0YWNoZWQiLCJlbGVtZW50cyIsInNwYW4iLCJCdXR0b24iLCJEZWxlZ2F0ZXNBUklBQnV0dG9uIiwiaXNMaXN0Ym94T3B0aW9uIiwiTGlzdGJveE9wdGlvbiIsImRlZmF1bHRTZWxlY3RlZCIsInNlbGVjdGVkIiwiRGVsZWdhdGVzQVJJQUxpc3Rib3hPcHRpb24iLCJMaXN0Ym94IiwiY2FwdHVyZWQiLCJvcHRpb25Ub0ZvY3VzIiwicGF0dGVybiIsInJlIiwicG90ZW50aWFsRGlyZWN0aW9uIiwibmV4dFNlbGVjdGFibGVPcHRpb24iLCJ0aGlzT3B0aW9uIiwic2VsZWN0YWJsZUluZGV4IiwibmV3TmV4dCIsImZpbHRlcmVkTmV4dCIsInNldFNpemUiLCJ0eXBlYWhlYWRNYXRjaGVzIiwic2VsZWN0ZWRJbmRleCIsIkRlbGVnYXRlc0FSSUFMaXN0Ym94IiwiU2VsZWN0UG9zaXRpb24iLCJjb21wb3NlZFBhcmVudCIsInJvb3ROb2RlIiwiY29tcG9zZWRDb250YWlucyIsInJlZmVyZW5jZSIsInRlc3QiLCJkZWZhdWx0RWxlbWVudCIsImlzRmFzdEVsZW1lbnQiLCJRdWV1ZWRTdHlsZVNoZWV0VGFyZ2V0IiwiQ29uc3RydWN0YWJsZVN0eWxlU2hlZXRUYXJnZXQiLCJEb2N1bWVudFN0eWxlU2hlZXRUYXJnZXQiLCJIZWFkU3R5bGVFbGVtZW50U3R5bGVTaGVldFRhcmdldCIsIlN0eWxlRWxlbWVudFN0eWxlU2hlZXRUYXJnZXQiLCJFbGVtZW50U3R5bGVTaGVldFRhcmdldCIsIlJvb3RTdHlsZVNoZWV0VGFyZ2V0IiwiUHJvcGVydHlUYXJnZXRNYW5hZ2VyIiwicm9vdHMiLCJwcm9wZXJ0eVRhcmdldENhY2hlIiwicHJvcGVydHlUYXJnZXRDdG9yIiwiRGVzaWduVG9rZW5JbXBsIiwiY29uZmlndXJhdGlvbiIsInRva2VuIiwiRGVzaWduVG9rZW5Ob2RlIiwic3Vic2NyaWJlclNldCIsInJlY29yZCIsIkN1c3RvbVByb3BlcnR5UmVmbGVjdG9yIiwiRGVzaWduVG9rZW5CaW5kaW5nT2JzZXJ2ZXIiLCJTdG9yZSIsIm5vZGVDYWNoZSIsImNoaWxkVG9QYXJlbnQiLCJyZWZsZWN0aW5nIiwicGFyZW50VmFsdWUiLCJzb3VyY2VWYWx1ZSIsInVwc3RyZWFtIiwicmVQYXJlbnQiLCJjaGlsZEluZGV4IiwiZGVsZXRlZCIsIm9ic2VydmVyIiwiY3JlYXRlIiwiRGVzaWduVG9rZW4iLCJFbGVtZW50RGlzYW1iaWd1YXRpb24iLCJlbGVtZW50VHlwZXNCeVRhZyIsImVsZW1lbnRUYWdzQnlUeXBlIiwicm9vdERlc2lnblN5c3RlbSIsImRlc2lnblN5c3RlbUtleSIsIkRlZmF1bHREZXNpZ25TeXN0ZW0iLCJEZXNpZ25TeXN0ZW0iLCJzeXN0ZW0iLCJleHRyYWN0VHJ5RGVmaW5lRWxlbWVudFBhcmFtcyIsImVsZW1lbnREZWZpbml0aW9uVHlwZSIsImVsZW1lbnREZWZpbml0aW9uQ2FsbGJhY2siLCJyZWdpc3RyYXRpb25zIiwiZWxlbWVudERlZmluaXRpb25FbnRyaWVzIiwiZGlzYW1iaWd1YXRlIiwic2hhZG93Um9vdE1vZGUiLCJleHRyYWN0ZWRQYXJhbXMiLCJiYXNlQ2xhc3MiLCJlbGVtZW50TmFtZSIsInR5cGVGb3VuZEJ5TmFtZSIsIm5lZWRzRGVmaW5lIiwiRWxlbWVudERlZmluaXRpb25FbnRyeSIsIndpbGxEZWZpbmUiLCJkaXZpZGVyVGVtcGxhdGUiLCJEaXZpZGVyUm9sZSIsIkRpdmlkZXIiLCJsaXN0Ym94T3B0aW9uVGVtcGxhdGUiLCJMaXN0Ym94RWxlbWVudCIsImFjdGl2ZUl0ZW0iLCJwcmVzZXJ2ZUNoZWNrZWQiLCJzaGlmdEtleSIsImVuYWJsZWRDaGVja2VkT3B0aW9ucyIsImFjdGl2ZUluZGV4IiwicHJvZ3Jlc3NTZWdtZW50cyIsInByb2dyZXNzUmluZ1RlbXBsYXRlIiwiQmFzZVByb2dyZXNzIiwiX1NlbGVjdCIsIkZvcm1Bc3NvY2lhdGVkU2VsZWN0IiwiU2VsZWN0IiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJwcmV2U2VsZWN0ZWRWYWx1ZSIsIm5leHRTZWxlY3RlZFZhbHVlIiwic2hvdWxkRW1pdCIsImN1cnJlbnRCb3giLCJhdmFpbGFibGVCb3R0b20iLCJmb2N1c1RhcmdldCIsInByb3h5T3B0aW9uIiwiRGVsZWdhdGVzQVJJQVNlbGVjdCIsInNlbGVjdFRlbXBsYXRlIiwiZGlzYWJsZWRDdXJzb3IiLCJoaWRkZW4iLCJkaXNwbGF5IiwiZGlzcGxheVZhbHVlIiwiZm9jdXNWaXNpYmxlIiwicHJvdmlkZVZTQ29kZURlc2lnblN5c3RlbSIsImluaXRUaGVtZUNoYW5nZUxpc3RlbmVyIiwidG9rZW5NYXBwaW5ncyIsImFwcGx5Q3VycmVudFRoZW1lIiwiYm9keSIsInRoZW1lS2luZCIsInZzY29kZVRva2VuTmFtZSIsInRvb2xraXRUb2tlbiIsImlzVGhlbWVMaXN0ZW5lckluaXRpYWxpemVkIiwidnNjb2RlVGhlbWVWYXIiLCJkZXNpZ25Ub2tlbiIsImJhY2tncm91bmQiLCJib3JkZXJXaWR0aCIsImNvbnRyYXN0QWN0aXZlQm9yZGVyIiwiY29ybmVyUmFkaXVzIiwiY29ybmVyUmFkaXVzUm91bmQiLCJkZXNpZ25Vbml0IiwiZGlzYWJsZWRPcGFjaXR5IiwiZm9jdXNCb3JkZXIiLCJmb250RmFtaWx5IiwiZm9yZWdyb3VuZCIsImlucHV0SGVpZ2h0IiwiaW5wdXRNaW5XaWR0aCIsInR5cGVSYW1wQmFzZUZvbnRTaXplIiwidHlwZVJhbXBCYXNlTGluZUhlaWdodCIsInR5cGVSYW1wTWludXMxRm9udFNpemUiLCJ0eXBlUmFtcE1pbnVzMUxpbmVIZWlnaHQiLCJzY3JvbGxiYXJXaWR0aCIsInNjcm9sbGJhckhlaWdodCIsInNjcm9sbGJhclNsaWRlckJhY2tncm91bmQiLCJzY3JvbGxiYXJTbGlkZXJIb3ZlckJhY2tncm91bmQiLCJzY3JvbGxiYXJTbGlkZXJBY3RpdmVCYWNrZ3JvdW5kIiwiYmFkZ2VCYWNrZ3JvdW5kIiwiYmFkZ2VGb3JlZ3JvdW5kIiwiYnV0dG9uQm9yZGVyIiwiYnV0dG9uSWNvbkJhY2tncm91bmQiLCJidXR0b25JY29uQ29ybmVyUmFkaXVzIiwiYnV0dG9uSWNvbkZvY3VzQm9yZGVyT2Zmc2V0IiwiYnV0dG9uSWNvbkhvdmVyQmFja2dyb3VuZCIsImJ1dHRvbkljb25QYWRkaW5nIiwiYnV0dG9uUHJpbWFyeUJhY2tncm91bmQiLCJidXR0b25QcmltYXJ5Rm9yZWdyb3VuZCIsImJ1dHRvblByaW1hcnlIb3ZlckJhY2tncm91bmQiLCJidXR0b25TZWNvbmRhcnlCYWNrZ3JvdW5kIiwiYnV0dG9uU2Vjb25kYXJ5Rm9yZWdyb3VuZCIsImJ1dHRvblNlY29uZGFyeUhvdmVyQmFja2dyb3VuZCIsImJ1dHRvblBhZGRpbmdIb3Jpem9udGFsIiwiYnV0dG9uUGFkZGluZ1ZlcnRpY2FsIiwiY2hlY2tib3hCYWNrZ3JvdW5kIiwiY2hlY2tib3hCb3JkZXIiLCJjaGVja2JveENvcm5lclJhZGl1cyIsImxpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kIiwibGlzdEFjdGl2ZVNlbGVjdGlvbkZvcmVncm91bmQiLCJsaXN0SG92ZXJCYWNrZ3JvdW5kIiwiZGl2aWRlckJhY2tncm91bmQiLCJkcm9wZG93bkJhY2tncm91bmQiLCJkcm9wZG93bkJvcmRlciIsImRyb3Bkb3duTGlzdE1heEhlaWdodCIsImlucHV0QmFja2dyb3VuZCIsImlucHV0Rm9yZWdyb3VuZCIsImxpbmtBY3RpdmVGb3JlZ3JvdW5kIiwibGlua0ZvcmVncm91bmQiLCJwcm9ncmVzc0JhY2tncm91bmQiLCJwYW5lbFRhYkFjdGl2ZUJvcmRlciIsInBhbmVsVGFiQWN0aXZlRm9yZWdyb3VuZCIsInBhbmVsVGFiRm9yZWdyb3VuZCIsInRhZ0Nvcm5lclJhZGl1cyIsIkJhc2VCdXR0b25TdHlsZXMiLCJQcmltYXJ5QnV0dG9uU3R5bGVzIiwiU2Vjb25kYXJ5QnV0dG9uU3R5bGVzIiwiSWNvbkJ1dHRvblN0eWxlcyIsImJ1dHRvblN0eWxlcyIsIkZvdW5kYXRpb25CdXR0b24iLCJhcHBlYXJhbmNlVmFsdWUiLCJvbGRWYWwiLCJ2c0NvZGVCdXR0b24iLCJkaXZpZGVyU3R5bGVzIiwiRm91bmRhdGlvbkRpdmlkZXIiLCJ2c0NvZGVEaXZpZGVyIiwiZHJvcGRvd25TdHlsZXMiLCJEcm9wZG93biIsIkZvdW5kYXRpb25TZWxlY3QiLCJ2c0NvZGVEcm9wZG93biIsIm9wdGlvblN0eWxlcyIsIkZvdW5kYXRpb25MaXN0Ym94T3B0aW9uIiwidnNDb2RlT3B0aW9uIiwiT3B0aW9uIiwicHJvZ3Jlc3NSaW5nU3R5bGVzIiwiUHJvZ3Jlc3NSaW5nIiwidnNDb2RlUHJvZ3Jlc3NSaW5nIiwiX29wZW5CbG9jayIsIl9jcmVhdGVFbGVtZW50QmxvY2siLCJfX3Byb3BzIiwiX3JlbmRlclNsb3QiLCJ0b1N0cmluZyIsImdldFByb3RvdHlwZU9mIiwidG9TdHJpbmdUYWciLCJraW5kT2YiLCJ0aGluZyIsImtpbmRPZlRlc3QiLCJ0eXBlT2ZUZXN0IiwiaXNVbmRlZmluZWQiLCJpc0J1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyVmlldyIsImlzTnVtYmVyIiwicHJvdG90eXBlIiwiaXNFbXB0eU9iamVjdCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzRmlsZUxpc3QiLCJpc1N0cmVhbSIsImlzRm9ybURhdGEiLCJraW5kIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJpc1JlYWRhYmxlU3RyZWFtIiwiaXNSZXF1ZXN0IiwiaXNSZXNwb25zZSIsImlzSGVhZGVycyIsImZvckVhY2giLCJhbGxPd25LZXlzIiwiZmluZEtleSIsIl9nbG9iYWwiLCJpc0NvbnRleHREZWZpbmVkIiwibWVyZ2UiLCJjYXNlbGVzcyIsInNraXBVbmRlZmluZWQiLCJhc3NpZ25WYWx1ZSIsInRhcmdldEtleSIsInN0cmlwQk9NIiwiaW5oZXJpdHMiLCJjb25zdHJ1Y3RvciIsInN1cGVyQ29uc3RydWN0b3IiLCJkZXNjcmlwdG9ycyIsInRvRmxhdE9iamVjdCIsInNvdXJjZU9iaiIsImRlc3RPYmoiLCJmaWx0ZXIiLCJwcm9wRmlsdGVyIiwiZW5kc1dpdGgiLCJzZWFyY2hTdHJpbmciLCJsYXN0SW5kZXgiLCJ0b0FycmF5IiwiaXNUeXBlZEFycmF5IiwiVHlwZWRBcnJheSIsImZvckVhY2hFbnRyeSIsIl9pdGVyYXRvciIsInBhaXIiLCJtYXRjaEFsbCIsInJlZ0V4cCIsIm1hdGNoZXMiLCJpc0hUTUxGb3JtIiwidG9DYW1lbENhc2UiLCJwMSIsInAyIiwiaXNSZWdFeHAiLCJyZWR1Y2VEZXNjcmlwdG9ycyIsInJlZHVjZXIiLCJyZWR1Y2VkRGVzY3JpcHRvcnMiLCJmcmVlemVNZXRob2RzIiwidG9PYmplY3RTZXQiLCJhcnJheU9yU3RyaW5nIiwiZGVsaW1pdGVyIiwiZGVmaW5lIiwidG9GaW5pdGVOdW1iZXIiLCJpc1NwZWNDb21wbGlhbnRGb3JtIiwidG9KU09OT2JqZWN0Iiwic3RhY2siLCJ2aXNpdCIsInJlZHVjZWRWYWx1ZSIsImlzQXN5bmNGbiIsImlzVGhlbmFibGUiLCJfc2V0SW1tZWRpYXRlIiwic2V0SW1tZWRpYXRlU3VwcG9ydGVkIiwicG9zdE1lc3NhZ2VTdXBwb3J0ZWQiLCJjYWxsYmFja3MiLCJhc2FwIiwiaXNJdGVyYWJsZSIsInV0aWxzJDEiLCJBeGlvc0Vycm9yIiwiY29kZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInV0aWxzIiwiY3VzdG9tUHJvcHMiLCJheGlvc0Vycm9yIiwibXNnIiwiZXJyQ29kZSIsImh0dHBBZGFwdGVyIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsImRvdHMiLCJpc0ZsYXRBcnJheSIsInByZWRpY2F0ZXMiLCJ0b0Zvcm1EYXRhIiwiZm9ybURhdGEiLCJtZXRhVG9rZW5zIiwidmlzaXRvciIsImRlZmF1bHRWaXNpdG9yIiwiaW5kZXhlcyIsInVzZUJsb2IiLCJjb252ZXJ0VmFsdWUiLCJleHBvc2VkSGVscGVycyIsImJ1aWxkIiwiZW5jb2RlIiwiY2hhck1hcCIsIkF4aW9zVVJMU2VhcmNoUGFyYW1zIiwiZW5jb2RlciIsIl9lbmNvZGUiLCJidWlsZFVSTCIsInVybCIsInNlcmlhbGl6ZUZuIiwic2VyaWFsaXplZFBhcmFtcyIsImhhc2htYXJrSW5kZXgiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInRyYW5zaXRpb25hbERlZmF1bHRzIiwiVVJMU2VhcmNoUGFyYW1zJDEiLCJGb3JtRGF0YSQxIiwiQmxvYiQxIiwicGxhdGZvcm0kMSIsIlVSTFNlYXJjaFBhcmFtcyIsIkZvcm1EYXRhIiwiQmxvYiIsImhhc0Jyb3dzZXJFbnYiLCJfbmF2aWdhdG9yIiwiaGFzU3RhbmRhcmRCcm93c2VyRW52IiwiaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52Iiwib3JpZ2luIiwicGxhdGZvcm0iLCJ0b1VSTEVuY29kZWRGb3JtIiwiaGVscGVycyIsInBhcnNlUHJvcFBhdGgiLCJhcnJheVRvT2JqZWN0IiwiZm9ybURhdGFUb0pTT04iLCJidWlsZFBhdGgiLCJpc051bWVyaWNLZXkiLCJpc0xhc3QiLCJzdHJpbmdpZnlTYWZlbHkiLCJwYXJzZXIiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsImhhc0pTT05Db250ZW50VHlwZSIsImlzT2JqZWN0UGF5bG9hZCIsIl9Gb3JtRGF0YSIsInRyYW5zaXRpb25hbCIsImZvcmNlZEpTT05QYXJzaW5nIiwiSlNPTlJlcXVlc3RlZCIsInN0cmljdEpTT05QYXJzaW5nIiwic3RhdHVzIiwiaWdub3JlRHVwbGljYXRlT2YiLCJwYXJzZUhlYWRlcnMiLCJyYXdIZWFkZXJzIiwicGFyc2VkIiwibGluZSIsIiRpbnRlcm5hbHMiLCJub3JtYWxpemVIZWFkZXIiLCJoZWFkZXIiLCJub3JtYWxpemVWYWx1ZSIsInBhcnNlVG9rZW5zIiwidG9rZW5zIiwidG9rZW5zUkUiLCJpc1ZhbGlkSGVhZGVyTmFtZSIsIm1hdGNoSGVhZGVyVmFsdWUiLCJpc0hlYWRlck5hbWVGaWx0ZXIiLCJmb3JtYXRIZWFkZXIiLCJ3IiwiY2hhciIsImJ1aWxkQWNjZXNzb3JzIiwiYWNjZXNzb3JOYW1lIiwibWV0aG9kTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsIkF4aW9zSGVhZGVycyQxIiwidmFsdWVPclJld3JpdGUiLCJyZXdyaXRlIiwic2V0SGVhZGVyIiwiX3ZhbHVlIiwiX2hlYWRlciIsIl9yZXdyaXRlIiwibEhlYWRlciIsInNldEhlYWRlcnMiLCJkZXN0IiwibWF0Y2hlciIsImRlbGV0ZUhlYWRlciIsImZvcm1hdCIsInRhcmdldHMiLCJhc1N0cmluZ3MiLCJmaXJzdCIsImRlZmluZUFjY2Vzc29yIiwiQXhpb3NIZWFkZXJzIiwibWFwcGVkIiwiaGVhZGVyVmFsdWUiLCJ0cmFuc2Zvcm1EYXRhIiwiaXNDYW5jZWwiLCJDYW5jZWxlZEVycm9yIiwic2V0dGxlIiwicmVqZWN0IiwidmFsaWRhdGVTdGF0dXMiLCJwYXJzZVByb3RvY29sIiwic3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJieXRlcyIsInRpbWVzdGFtcHMiLCJmaXJzdFNhbXBsZVRTIiwiY2h1bmtMZW5ndGgiLCJub3ciLCJzdGFydGVkQXQiLCJieXRlc0NvdW50IiwicGFzc2VkIiwiZnJlcSIsInRpbWVzdGFtcCIsInRocmVzaG9sZCIsImxhc3RBcmdzIiwidGltZXIiLCJpbnZva2UiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsImxpc3RlbmVyIiwiaXNEb3dubG9hZFN0cmVhbSIsImJ5dGVzTm90aWZpZWQiLCJfc3BlZWRvbWV0ZXIiLCJsb2FkZWQiLCJ0b3RhbCIsInByb2dyZXNzQnl0ZXMiLCJyYXRlIiwicHJvZ3Jlc3NFdmVudERlY29yYXRvciIsImxlbmd0aENvbXB1dGFibGUiLCJhc3luY0RlY29yYXRvciIsImlzVVJMU2FtZU9yaWdpbiIsImlzTVNJRSIsImNvb2tpZXMiLCJleHBpcmVzIiwiZG9tYWluIiwic2VjdXJlIiwic2FtZVNpdGUiLCJjb29raWUiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJiYXNlVVJMIiwicmVsYXRpdmVVUkwiLCJidWlsZEZ1bGxQYXRoIiwicmVxdWVzdGVkVVJMIiwiYWxsb3dBYnNvbHV0ZVVybHMiLCJpc1JlbGF0aXZlVXJsIiwiaGVhZGVyc1RvT2JqZWN0IiwibWVyZ2VDb25maWciLCJjb25maWcxIiwiY29uZmlnMiIsImdldE1lcmdlZFZhbHVlIiwibWVyZ2VEZWVwUHJvcGVydGllcyIsInZhbHVlRnJvbUNvbmZpZzIiLCJkZWZhdWx0VG9Db25maWcyIiwibWVyZ2VEaXJlY3RLZXlzIiwibWVyZ2VNYXAiLCJjb25maWdWYWx1ZSIsInJlc29sdmVDb25maWciLCJuZXdDb25maWciLCJ3aXRoWFNSRlRva2VuIiwieHNyZkhlYWRlck5hbWUiLCJ4c3JmQ29va2llTmFtZSIsImF1dGgiLCJmb3JtSGVhZGVycyIsImFsbG93ZWRIZWFkZXJzIiwieHNyZlZhbHVlIiwiaXNYSFJBZGFwdGVyU3VwcG9ydGVkIiwieGhyQWRhcHRlciIsIl9jb25maWciLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwicmVzcG9uc2VUeXBlIiwib25VcGxvYWRQcm9ncmVzcyIsIm9uRG93bmxvYWRQcm9ncmVzcyIsIm9uQ2FuY2VsZWQiLCJ1cGxvYWRUaHJvdHRsZWQiLCJkb3dubG9hZFRocm90dGxlZCIsImZsdXNoVXBsb2FkIiwiZmx1c2hEb3dubG9hZCIsIm9ubG9hZGVuZCIsInJlc3BvbnNlSGVhZGVycyIsInRpbWVvdXRFcnJvck1lc3NhZ2UiLCJjYW5jZWwiLCJwcm90b2NvbCIsImNvbXBvc2VTaWduYWxzIiwic2lnbmFscyIsImFib3J0ZWQiLCJvbmFib3J0IiwicmVhc29uIiwidW5zdWJzY3JpYmUiLCJzaWduYWwiLCJzdHJlYW1DaHVuayIsImNodW5rIiwiY2h1bmtTaXplIiwicG9zIiwicmVhZEJ5dGVzIiwiaXRlcmFibGUiLCJyZWFkU3RyZWFtIiwic3RyZWFtIiwicmVhZGVyIiwidHJhY2tTdHJlYW0iLCJvblByb2dyZXNzIiwib25GaW5pc2giLCJfb25GaW5pc2giLCJsb2FkZWRCeXRlcyIsIkRFRkFVTFRfQ0hVTktfU0laRSIsImdsb2JhbEZldGNoQVBJIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiUmVhZGFibGVTdHJlYW0iLCJUZXh0RW5jb2RlciIsImVudiIsImVudkZldGNoIiwiaXNGZXRjaFN1cHBvcnRlZCIsImlzUmVxdWVzdFN1cHBvcnRlZCIsImlzUmVzcG9uc2VTdXBwb3J0ZWQiLCJpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkIiwiZW5jb2RlVGV4dCIsInN1cHBvcnRzUmVxdWVzdFN0cmVhbSIsImR1cGxleEFjY2Vzc2VkIiwiaGFzQ29udGVudFR5cGUiLCJzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtIiwiZ2V0Qm9keUxlbmd0aCIsInJlc29sdmVCb2R5TGVuZ3RoIiwiY2FuY2VsVG9rZW4iLCJ3aXRoQ3JlZGVudGlhbHMiLCJmZXRjaE9wdGlvbnMiLCJfZmV0Y2giLCJjb21wb3NlZFNpZ25hbCIsInJlcXVlc3RDb250ZW50TGVuZ3RoIiwiX3JlcXVlc3QiLCJjb250ZW50VHlwZUhlYWRlciIsImlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQiLCJyZXNvbHZlZE9wdGlvbnMiLCJpc1N0cmVhbVJlc3BvbnNlIiwicmVzcG9uc2VDb250ZW50TGVuZ3RoIiwicmVzcG9uc2VEYXRhIiwic2VlZENhY2hlIiwiZ2V0RmV0Y2giLCJmZXRjaCIsInNlZWRzIiwic2VlZCIsImtub3duQWRhcHRlcnMiLCJmZXRjaEFkYXB0ZXIuZ2V0RmV0Y2giLCJyZW5kZXJSZWFzb24iLCJpc1Jlc29sdmVkSGFuZGxlIiwiYWRhcHRlciIsImdldEFkYXB0ZXIiLCJhZGFwdGVycyIsIm5hbWVPckFkYXB0ZXIiLCJyZWplY3RlZFJlYXNvbnMiLCJyZWFzb25zIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsImRpc3BhdGNoUmVxdWVzdCIsIlZFUlNJT04iLCJ2YWxpZGF0b3JzIiwiZGVwcmVjYXRlZFdhcm5pbmdzIiwidmFsaWRhdG9yIiwiZm9ybWF0TWVzc2FnZSIsImNvcnJlY3RTcGVsbGluZyIsImFzc2VydE9wdGlvbnMiLCJzY2hlbWEiLCJhbGxvd1Vua25vd24iLCJBeGlvcyQxIiwiaW5zdGFuY2VDb25maWciLCJjb25maWdPclVybCIsImR1bW15IiwicGFyYW1zU2VyaWFsaXplciIsImNvbnRleHRIZWFkZXJzIiwicmVxdWVzdEludGVyY2VwdG9yQ2hhaW4iLCJzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiIsInByb21pc2UiLCJjaGFpbiIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsImZ1bGxQYXRoIiwiQXhpb3MiLCJnZW5lcmF0ZUhUVFBNZXRob2QiLCJpc0Zvcm0iLCJDYW5jZWxUb2tlbiQxIiwiQ2FuY2VsVG9rZW4iLCJleGVjdXRvciIsInJlc29sdmVQcm9taXNlIiwib25mdWxmaWxsZWQiLCJfcmVzb2x2ZSIsImFib3J0Iiwic3ByZWFkIiwiaXNBeGlvc0Vycm9yIiwicGF5bG9hZCIsIkh0dHBTdGF0dXNDb2RlIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiYXhpb3MiLCJwcm9taXNlcyIsImFsbCIsIkNhbmNlbCIsImZvcm1Ub0pTT04iLCJkZXZlbG9wbWVudCIsInByb2R1Y3Rpb24iLCJzdGFnaW5nIiwiZGVmaW5lX3Byb2Nlc3NfZW52X2RlZmF1bHQiLCJjb25maWckMSIsImlzQ29uZmlndXJhdGlvbkVycm9yIiwiY2ZnIiwiQ29udGVudFR5cGUiLCJTZXJ2ZXJUeXBlIiwiUHJvZHVjdFR5cGUiLCJQcm9kdWN0TmFtZSIsImlzUHJlQ29udGVudFJlY29yZCIsIkZpbGVNYXRjaFNvdXJjZSIsIkVycm9yTWVzc2FnZUFjdGlvbklkcyIsImlzRXJyb3JNZXNzYWdlQWN0aW9uSWQiLCJzZWFyY2hWYWx1ZSIsIkVycm9yTWVzc2FnZVNwbGl0T3B0aW9ucyIsImZpbmRFcnJvck1lc3NhZ2VTcGxpdE9wdGlvbiIsIldlYnZpZXdUb0hvc3RNZXNzYWdlVHlwZSIsImNhbGN1bGF0ZVRpdGxlIiwiY29udGVudFJlY29yZCIsInRpdGxlIiwiY29uZmlnQ29kZSIsImNvbmZpZ05hbWUiLCJmaWx0ZXJDb25maWd1cmF0aW9uc1RvVmFsaWRBbmRUeXBlIiwiY29uZmlncyIsImlzQ29uZmlndXJhdGlvbk9mVHlwZSIsIkhvc3RUb1dlYnZpZXdNZXNzYWdlVHlwZSIsImlzSG9zdFRvV2Vidmlld01lc3NhZ2UiLCJIb3N0Q29uZHVpdCIsIndpbmRvdyIsInZzQ29kZUFwaSIsIl9fcHVibGljRmllbGQiLCJub3JtYWxpemVVUkwiLCJpbnB1dCIsImlzQWdlbnRFcnJvciIsImlzQWdlbnRFcnJvckJhc2UiLCJpc0FnZW50RXJyb3JUeXBlVW5rbm93biIsImlzQWdlbnRFcnJvckludmFsaWRUT01MIiwiaXNBZ2VudEVycm9yRGVwbG95ZWRDb250ZW50Tm90UnVubmluZyIsImlzQ29ubmVjdENsb3VkIiwic2VydmVyVHlwZSIsImlzQ29ubmVjdFByb2R1Y3QiLCJwcm9kdWN0VHlwZSIsImlzQ29ubmVjdENsb3VkUHJvZHVjdCIsImdldFByb2R1Y3RUeXBlIiwidXNlSG9tZVN0b3JlIiwicGxhdGZvcm1GaWxlU2VwYXJhdG9yIiwicHVibGlzaEluUHJvZ3Jlc3MiLCJwdWJsaXNoSW5pdGlhdGVkIiwiY29udGVudFJlbmRlckluUHJvZ3Jlc3MiLCJjb250ZW50UmVuZGVyU3VjY2VzcyIsImNvbnRlbnRSZW5kZXJFcnJvciIsImNvbnRlbnRSZWNvcmRzIiwiY29uZmlndXJhdGlvbnMiLCJjb25maWd1cmF0aW9uc0luRXJyb3IiLCJjcmVkZW50aWFscyIsInNvcnRlZENyZWRlbnRpYWxzIiwic2VydmVyU2V0dGluZ3MiLCJzZXJ2ZXJTZWNyZXRzIiwic2VjcmV0cyIsImludGVncmF0aW9uUmVxdWVzdHMiLCJlbnZpcm9ubWVudCIsInNlbGVjdGVkQ29uZmlndXJhdGlvbiIsImR1cGxpY2F0ZWRFbnZpcm9ubWVudFZhcmlhYmxlcyIsIl8iLCJzaG93RGlzYWJsZWRPdmVybGF5Iiwic2VsZWN0ZWRDb250ZW50UmVjb3JkIiwiY29uZmlndXJhdGlvbk5hbWUiLCJwcm9qZWN0RGlyIiwicHJldkNvbnRlbnRSZWNvcmQiLCJpc1NhbWVDb250ZW50UmVjb3JkIiwic2VjcmV0Iiwic2VydmVyQ3JlZGVudGlhbCIsImNyZWRlbnRpYWxBY2NvdW50TmFtZSIsInJlY29yZEFjY291bnROYW1lIiwiY3JlZGVudGlhbFVybCIsInJlY29yZFVybCIsImxhc3RDb250ZW50UmVjb3JkUmVzdWx0IiwibGFzdENvbnRlbnRSZWNvcmRNc2ciLCJweXRob25Qcm9qZWN0IiwicHl0aG9uUGFja2FnZXMiLCJweXRob25QYWNrYWdlRmlsZSIsInB5dGhvblBhY2thZ2VNYW5hZ2VyIiwiclByb2plY3QiLCJyUGFja2FnZXMiLCJyUGFja2FnZUZpbGUiLCJyUGFja2FnZU1hbmFnZXIiLCJyVmVyc2lvbiIsImluaXRpYWxpemluZ1JlcXVlc3RDb21wbGV0ZSIsInVwZGF0ZVNlbGVjdGVkQ29udGVudFJlY29yZEJ5U2VsZWN0b3IiLCJwcmV2aW91c1NlbGVjdGVkQ29udGVudFJlY29yZCIsInByZXZpb3VzU2VsZWN0ZWRDb25maWciLCJ1cGRhdGVTZWxlY3RlZENvbnRlbnRSZWNvcmRCeU9iamVjdCIsInVwZGF0ZVNlbGVjdGlvbkNyZWRlbnRpYWxTdGF0dXMiLCJ1c2VIb3N0Q29uZHVpdFNlcnZpY2UiLCJ1cGRhdGVTZWxlY3Rpb25Jc1ByZUNvbnRlbnRSZWNvcmRTdGF0ZSIsInVwZGF0ZVBhcmVudFZpZXdTZWxlY3Rpb25TdGF0ZSIsImhvc3RDb25kdWl0IiwidXBkYXRlUHl0aG9uUGFja2FnZXMiLCJpc3B5dGhvblByb2plY3QiLCJwYWNrYWdlcyIsImZpbGUiLCJtYW5hZ2VyIiwidXBkYXRlUlBhY2thZ2VzIiwiaXNSUHJvamVjdCIsImNsZWFyU2VjcmV0VmFsdWVzIiwiY2xlYXJlZCIsInNlY3JldHNXaXRoVmFsdWVDb3VudCIsInB5dGhvbiIsImNyZWRlbnRpYWwiLCJhbnlBY3RpdmVBbGVydHMiLCJmbGF0dGVuRmlsZXMiLCJmaWxlcyIsImV4cGFuZGVkRGlycyIsImluZGVudCIsInBhcmVudEZpbGUiLCJyZXN0IiwiZmxhdEZpbGUiLCJ1c2VGaWxlU3RvcmUiLCJob21lIiwic2VuZE1zZyIsImZsYXRGaWxlcyIsImxhc3REZXBsb3llZEZpbGVzIiwicmVmcmVzaEZpbGVzIiwiaW5jbHVkZUZpbGUiLCJleGNsdWRlRmlsZSIsIm9wZW5GaWxlIiwiZXhwYW5kRGlyIiwiY29sbGFwc2VEaXIiLCJhcGlJbnN0YW5jZSIsInZzY29kZUFQSSIsIm9uTWVzc2FnZUZyb21Ib3N0Iiwib25Jbml0aWFsaXppbmdSZXF1ZXN0Q29tcGxldGVNc2ciLCJvblJlZnJlc2hDb250ZW50UmVjb3JkRGF0YU1zZyIsIm9uUmVmcmVzaENvbmZpZ0RhdGFNc2ciLCJvblJlZnJlc2hDcmVkZW50aWFsRGF0YU1zZyIsIm9uUHVibGlzaENhbmNlbE1zZyIsIm9uUHVibGlzaEluaXRNc2ciLCJvblB1Ymxpc2hTdGFydE1zZyIsIm9uUHVibGlzaEZpbmlzaFN1Y2Nlc3NNc2ciLCJvblB1Ymxpc2hGaW5pc2hGYWlsdXJlTXNnIiwib25Db250ZW50UmVuZGVyU3VjY2Vzc01zZyIsIm9uQ29udGVudFJlbmRlckZhaWx1cmVNc2ciLCJvblVwZGF0ZUNvbnRlbnRSZWNvcmRTZWxlY3Rpb25Nc2ciLCJvblNhdmVTZWxlY3Rpb25Nc2ciLCJvblJlZnJlc2hGaWxlc01zZyIsIm9uVXBkYXRlUHl0aG9uUGFja2FnZXMiLCJvblVwZGF0ZVJQYWNrYWdlcyIsIm9uU2hvd0Rpc2FibGVPdmVybGF5TXNnIiwib25IaWRlRGlzYWJsZU92ZXJsYXlNc2ciLCJvblNldFBhdGhTZXBhcmF0b3JNc2ciLCJvblVwZGF0ZVNlcnZlckVudmlyb25tZW50TXNnIiwib25SZWZyZXNoSW50ZWdyYXRpb25SZXF1ZXN0c01zZyIsIm9uUmVmcmVzaFNlcnZlclNldHRpbmdzTXNnIiwiZmlsZVN0b3JlIiwiaXNJY29uRGV0YWlsIiwiX2NyZWF0ZUVsZW1lbnRWTm9kZSIsIl9ub3JtYWxpemVDbGFzcyIsIl9ob2lzdGVkXzMiLCJfaG9pc3RlZF80IiwiX3RvRGlzcGxheVN0cmluZyIsIl9ob2lzdGVkXzUiLCJfRnJhZ21lbnQiLCJfcmVuZGVyTGlzdCIsIl9ob2lzdGVkXzYiLCJfaG9pc3RlZF83IiwiX2hvaXN0ZWRfOCIsImNvbnRleHRNZW51QnV0dG9uIiwib3BlbkNvbnRleHRNZW51IiwidnNjb2RlQ29udGV4dCIsIl93aXRoTW9kaWZpZXJzIiwiX3dpdGhLZXlzIiwiaGF2ZVJlc291cmNlcyIsImRpc2FibGVEZXBsb3kiLCJkZXBsb3kiLCJfdW5yZWYiLCJfX2VtaXQiLCJwcm9jZXNzUHJvZ3Jlc3NMYWJlbCIsInJlbmRlckluUHJvZ3Jlc3NNc2ciLCJjb250ZXh0TWVudVZTQ29kZUNvbnRleHQiLCJfY3JlYXRlQmxvY2siLCJfY29tcG9uZW50X0FjdGlvblRvb2xiYXIiLCJmb3JtYXREYXRlU3RyaW5nIiwiZGF0ZVN0cmluZyIsImluY2x1ZGVUaW1lIiwiZGF0ZVJlc3VsdCIsInRpbWVSZXN1bHQiLCJmb3JtYXRUaW1lU3RyaW5nIiwiaW5jbHVkZVNlY29uZHMiLCJhY3RpdmVPcHRpb24iLCJtZXNzYWdlUGFydHMiLCJvbkNsaWNrIiwiJGF0dHJzIiwiX2NyZWF0ZVRleHRWTm9kZSIsImlzRGlzbWlzc2VkQ29udGVudFJlY29yZCIsImlzUHJlQ29udGVudFJlY29yZFdpdGhJRCIsImlzUHJlQ29udGVudFJlY29yZFdpdGhvdXRJRCIsInNob3dDb250ZW50QnV0dG9uIiwiY29udGVudFJlbmRlclByb2Nlc3NlZCIsImlzRGVwbG95ZWRDb250ZW50T25FcnJvciIsImRlcGxveW1lbnRFcnJvciIsImRlcGxveWVkQ29udGVudEJ1dHRvbkxhYmVsIiwibGFzdFN0YXR1c0Rlc2NyaXB0aW9uIiwic3VjY2Vzc2Z1bFJlbmRlck1zZyIsIl9ob2lzdGVkXzkiLCJUZXh0U3RyaW5nV2l0aEFuY2hvciIsIiRldmVudCIsIl9ob2lzdGVkXzEwIiwiaXNBeGlvc0Vycm9yV2l0aEpzb24iLCJpc09mRXJyb3JUeXBlIiwibWtFcnJvclR5cGVHdWFyZCIsImVyclVua25vd25NZXNzYWdlIiwiaXNFcnJUT01MVmFsaWRhdGlvbkVycm9yIiwiZXJyVE9NTFZhbGlkYXRpb25FcnJvck1lc3NhZ2UiLCJpc0VyckludmFsaWRUT01MRmlsZSIsImVyckludmFsaWRUT01MTWVzc2FnZSIsImlzRXJyVW5rbm93blRPTUxLZXkiLCJlcnJVbmtub3duVE9NTEtleU1lc3NhZ2UiLCJpc0VyclRvbWxVbmtub3duRXJyb3IiLCJlcnJUb21sVW5rbm93bkVycm9yTWVzc2FnZSIsImlzRXJyUHl0aG9uRXhlY05vdEZvdW5kRXJyb3IiLCJlcnJQeXRob25FeGVjTm90Rm91bmRFcnJvck1lc3NhZ2UiLCJpc0VyckRldmljZUF1dGhBY2Nlc3NEZW5pZWQiLCJlcnJEZXZpY2VBdXRoQWNjZXNzRGVuaWVkTWVzc2FnZSIsImlzRGV2aWNlQXV0aEV4cGlyZWRUb2tlbiIsImVyckRldmljZUF1dGhFeHBpcmVkVG9rZW5NZXNzYWdlIiwicmVzb2x2ZUFnZW50SnNvbkVycm9yTXNnIiwiZ2V0U3RhdHVzRnJvbUVycm9yIiwiZ2V0U3RhdHVzU3RyaW5nRnJvbUVycm9yUmVzcG9uc2UiLCJnZXRDb2RlU3RyaW5nRnJvbUVycm9yIiwiZ2V0TWVzc2FnZUZyb21FcnJvciIsImdldEFQSVVSTEZyb21FcnJvciIsImdldFN1bW1hcnlTdHJpbmdGcm9tRXJyb3IiLCJsb2NhdGlvbiIsImxvZ01zZyIsInN1bW1hcnkiLCJnZXRTdW1tYXJ5RnJvbUVycm9yIiwic3RhdHVzVGV4dCIsImdldENvbmZpZ0Vycm9yIiwidG9vbGJhckFjdGlvbnMiLCJvbkFkZERlcGxveW1lbnQiLCJvbkVkaXRDb25maWd1cmF0aW9uIiwib25TZWxlY3REZXBsb3ltZW50Iiwic2VsZWN0aW9uIiwib25WaWV3UHVibGlzaGluZ0xvZyIsImZpbHRlcmVkQ29uZmlncyIsImNvbnRleHRNZW51Q29udGV4dCIsInByb21wdEZvckNvbmZpZ1NlbGVjdGlvbiIsImRlcGxveW1lbnRUaXRsZSIsImRlcGxveW1lbnREZXRhaWxzIiwiZGV0YWlscyIsImNyZWRlbnRpYWxTdWJUaXRsZSIsImVudHJ5cG9pbnRTdWJUaXRsZSIsIm1pc3NpbmdDcmVkZW50aWFsTWVzc2FnZSIsInN1YlRpdGxlIiwic2VsZWN0Q29uZmlndXJhdGlvbiIsInNob3dQcm9ncmVzc1N0YXR1cyIsImlzUmVuZGVyYWJsZUNvbnRlbnQiLCJ0b29sVGlwVGV4dCIsImVudHJ5cG9pbnQiLCJnZXRBY3RpdmVDb25maWdFcnJvciIsImdldEFjdGl2ZUNvbmZpZ1RPTUxFcnJvckRldGFpbHMiLCJhZ2VudEVycm9yIiwib25FZGl0Q29uZmlndXJhdGlvbldpdGhUT01MRXJyb3IiLCJvbkVycm9yTWVzc2FnZUFuY2hvckNsaWNrIiwic3BsaXRPcHRpb25JZCIsIm5hdmlnYXRlVG9VcmwiLCJuZXdDcmVkZW50aWFsIiwib25Bc3NvY2lhdGVEZXBsb3ltZW50Iiwidmlld0NvbnRlbnQiLCJBY3Rpb25Ub29sYmFyIiwiX21lcmdlUHJvcHMiLCJfdG9IYW5kbGVycyIsIlF1aWNrUGlja0l0ZW0iLCJSZW5kZXJCdXR0b24iLCJEZXBsb3lCdXR0b24iLCJQcm9jZXNzUHJvZ3Jlc3MiLCJQcm9jZXNzU3VtbWFyeSIsImV4cGFuZGVkIiwiX3VzZU1vZGVsIiwidG9nZ2xlRXhwYW5kZWQiLCIkc2xvdHMiLCJDb3VudEJhZGdlIiwiX3dpdGhEaXJlY3RpdmVzIiwiY2hlY2tlZCIsIl91c2VTbG90cyIsImlzRXhwYW5kYWJsZSIsIkNvZGVDaGVja2JveCIsIiRlbWl0IiwiX3ZTaG93IiwiaW5jbHVkZWRGaWxlVG9vbHRpcCIsImlzRW50cnlwb2ludCIsImlzUGFja2FnZUZpbGUiLCJ0b29sdGlwIiwiZXhjbHVkZWRGaWxlVG9vbHRpcCIsImlzRGlzYWJsZWQiLCJpc0luY2x1ZGVkIiwiaW5MYXN0RGVwbG95ZWQiLCJpc0JlaW5nQWRkZWQiLCJpc0JlaW5nUmVtb3ZlZCIsImlzUHl0aG9uUGFja2FnZUZpbGUiLCJpc1JQYWNrYWdlRmlsZSIsImxpc3RTdHlsZSIsIlRyZWVJdGVtQ2hlY2tib3giLCJfY29tcG9uZW50X1Bvc3REZWNvciIsIlRyZWVTZWN0aW9uIiwiX2NvbXBvbmVudF9SZWN5Y2xlU2Nyb2xsZXIiLCJfd2l0aEN0eCIsIlByb2plY3RGaWxlIiwibW9kZWwiLCJhcmlhTGFiZWwiLCJfX2V4cG9zZSIsImlzRWRpdGluZyIsImlucHV0VmFsdWUiLCJzZWNyZXRWYWx1ZSIsIm9uU2VydmVyIiwibmVlZHNWYWx1ZSIsImlucHV0U2VjcmV0IiwidXBkYXRlU2VjcmV0IiwiVHJlZUl0ZW0iLCJTaWRlYmFySW5wdXQiLCJzZWN0aW9uQWN0aW9ucyIsIlNlY3JldCIsIldlbGNvbWVWaWV3IiwiaXNPQXV0aEludGVncmF0aW9uc1N1cHBvcnRlZCIsInZhbGlkTGljZW5zZSIsIm9hdXRoSW50ZWdyYXRpb25zRW5hYmxlZCIsImdldEludGVncmF0aW9uUmVxdWVzdEFjdGlvbnMiLCJpbnRlZ3JhdGlvblJlcXVlc3QiLCJvblJlZnJlc2giLCJvblNjYW5Gb3JQYWNrYWdlUmVxdWlyZW1lbnRzIiwib25FZGl0UmVxdWlyZW1lbnRzRmlsZSIsInB5dGhvblBhY2thZ2VBY3Rpb25zIiwic2hvd1dlbGNvbWVWaWV3IiwicGtnIiwiaXNTZXR0aW5nVXBSZW52Iiwib25TZXR1cFJlbnYiLCJvblZpZXdSZW52RG9jIiwiclBhY2thZ2VBY3Rpb25zIiwibWlzc2luZ09ySW52YWxpZFBhY2thZ2VGaWxlIiwiZ2V0RGVzY3JpcHRpb24iLCJwcm9qZWN0RmlsZXNFeHBhbmRlZCIsIk92ZXJsYXlhYmxlVmlldyIsIkV2ZW5FYXNpZXJEZXBsb3kiLCJQcm9qZWN0RmlsZXMiLCJTZWNyZXRzIiwiSW50ZWdyYXRpb25SZXF1ZXN0cyIsIlB5dGhvblBhY2thZ2VzIiwiUlBhY2thZ2VzIiwiQ3JlZGVudGlhbHMiLCJIZWxwQW5kRmVlZGJhY2siLCJBcHAiLCJSZWN5Y2xlU2Nyb2xsZXIiXSwibWFwcGluZ3MiOiIrMkJBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQU1BLFNBQVNBLEdBQVFDLEVBQUssQ0FDcEIsTUFBTUMsRUFBc0IsT0FBTyxPQUFPLElBQUksRUFDOUMsVUFBV0MsS0FBT0YsRUFBSSxNQUFNLEdBQUcsRUFBR0MsRUFBSUMsQ0FBRyxFQUFJLEVBQzdDLE9BQVFDLEdBQVFBLEtBQU9GLENBQ3pCLENBRUEsTUFBTUcsR0FBNEUsQ0FBQSxFQUM1RUMsR0FBNEUsQ0FBQSxFQUM1RUMsR0FBTyxJQUFNLENBQ25CLEVB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QUFNdG5CLEdBQVFHLEdBQUEsRUFFUjNpQixHQUFNc2EsR0FBVWdnRCxFQUFHLEVBQ3pCdDZELEdBQUksSUFBSXdpQixFQUFLLEVBQ2J4aUIsR0FBSSxVQUFVLGtCQUFtQnU2RCxFQUFlLEVBRWhEdjZELEdBQUksTUFBTSxNQUFNIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODQsODUsODYsODcsODgsODksOTAsOTEsOTIsOTMsOTQsOTUsOTYsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyOCwxMjksMTMwLDEzMSwxMzIsMTMzXX0=
